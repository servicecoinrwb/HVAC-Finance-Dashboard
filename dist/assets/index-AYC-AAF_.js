(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mv={exports:{}},Yu={},Lv={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function d5(){if(wE)return nt;wE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function b(W,K,Y){this.props=W,this.context=K,this.refs=w,this.updater=Y||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,K){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,K,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=b.prototype;function T(W,K,Y){this.props=W,this.context=K,this.refs=w,this.updater=Y||x}var P=T.prototype=new N;P.constructor=T,k(P,b.prototype),P.isPureReactComponent=!0;var R=Array.isArray,j=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(W,K,Y){var ie,me={},ce=null,he=null;if(K!=null)for(ie in K.ref!==void 0&&(he=K.ref),K.key!==void 0&&(ce=""+K.key),K)j.call(K,ie)&&!A.hasOwnProperty(ie)&&(me[ie]=K[ie]);var be=arguments.length-2;if(be===1)me.children=Y;else if(1<be){for(var z=Array(be),ge=0;ge<be;ge++)z[ge]=arguments[ge+2];me.children=z}if(W&&W.defaultProps)for(ie in be=W.defaultProps,be)me[ie]===void 0&&(me[ie]=be[ie]);return{$$typeof:t,type:W,key:ce,ref:he,props:me,_owner:C.current}}function L(W,K){return{$$typeof:t,type:W.type,key:K,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function D(W){var K={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return K[Y]})}var F=/\/+/g;function $(W,K){return typeof W=="object"&&W!==null&&W.key!=null?D(""+W.key):K.toString(36)}function te(W,K,Y,ie,me){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var he=!1;if(W===null)he=!0;else switch(ce){case"string":case"number":he=!0;break;case"object":switch(W.$$typeof){case t:case e:he=!0}}if(he)return he=W,me=me(he),W=ie===""?"."+$(he,0):ie,R(me)?(Y="",W!=null&&(Y=W.replace(F,"$&/")+"/"),te(me,K,Y,"",function(ge){return ge})):me!=null&&(O(me)&&(me=L(me,Y+(!me.key||he&&he.key===me.key?"":(""+me.key).replace(F,"$&/")+"/")+W)),K.push(me)),1;if(he=0,ie=ie===""?".":ie+":",R(W))for(var be=0;be<W.length;be++){ce=W[be];var z=ie+$(ce,be);he+=te(ce,K,Y,z,me)}else if(z=y(W),typeof z=="function")for(W=z.call(W),be=0;!(ce=W.next()).done;)ce=ce.value,z=ie+$(ce,be++),he+=te(ce,K,Y,z,me);else if(ce==="object")throw K=String(W),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return he}function ne(W,K,Y){if(W==null)return W;var ie=[],me=0;return te(W,ie,"","",function(ce){return K.call(Y,ce,me++)}),ie}function J(W){if(W._status===-1){var K=W._result;K=K(),K.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=K)}if(W._status===1)return W._result.default;throw W._result}var oe={current:null},re={transition:null},G={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:re,ReactCurrentOwner:C};function ee(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:ne,forEach:function(W,K,Y){ne(W,function(){K.apply(this,arguments)},Y)},count:function(W){var K=0;return ne(W,function(){K++}),K},toArray:function(W){return ne(W,function(K){return K})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},nt.Component=b,nt.Fragment=r,nt.Profiler=a,nt.PureComponent=T,nt.StrictMode=n,nt.Suspense=d,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,nt.act=ee,nt.cloneElement=function(W,K,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ie=k({},W.props),me=W.key,ce=W.ref,he=W._owner;if(K!=null){if(K.ref!==void 0&&(ce=K.ref,he=C.current),K.key!==void 0&&(me=""+K.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(z in K)j.call(K,z)&&!A.hasOwnProperty(z)&&(ie[z]=K[z]===void 0&&be!==void 0?be[z]:K[z])}var z=arguments.length-2;if(z===1)ie.children=Y;else if(1<z){be=Array(z);for(var ge=0;ge<z;ge++)be[ge]=arguments[ge+2];ie.children=be}return{$$typeof:t,type:W.type,key:me,ref:ce,props:ie,_owner:he}},nt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},nt.createElement=I,nt.createFactory=function(W){var K=I.bind(null,W);return K.type=W,K},nt.createRef=function(){return{current:null}},nt.forwardRef=function(W){return{$$typeof:c,render:W}},nt.isValidElement=O,nt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:J}},nt.memo=function(W,K){return{$$typeof:h,type:W,compare:K===void 0?null:K}},nt.startTransition=function(W){var K=re.transition;re.transition={};try{W()}finally{re.transition=K}},nt.unstable_act=ee,nt.useCallback=function(W,K){return oe.current.useCallback(W,K)},nt.useContext=function(W){return oe.current.useContext(W)},nt.useDebugValue=function(){},nt.useDeferredValue=function(W){return oe.current.useDeferredValue(W)},nt.useEffect=function(W,K){return oe.current.useEffect(W,K)},nt.useId=function(){return oe.current.useId()},nt.useImperativeHandle=function(W,K,Y){return oe.current.useImperativeHandle(W,K,Y)},nt.useInsertionEffect=function(W,K){return oe.current.useInsertionEffect(W,K)},nt.useLayoutEffect=function(W,K){return oe.current.useLayoutEffect(W,K)},nt.useMemo=function(W,K){return oe.current.useMemo(W,K)},nt.useReducer=function(W,K,Y){return oe.current.useReducer(W,K,Y)},nt.useRef=function(W){return oe.current.useRef(W)},nt.useState=function(W){return oe.current.useState(W)},nt.useSyncExternalStore=function(W,K,Y){return oe.current.useSyncExternalStore(W,K,Y)},nt.useTransition=function(){return oe.current.useTransition()},nt.version="18.3.1",nt}var _E;function Z1(){return _E||(_E=1,Lv.exports=d5()),Lv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function h5(){if(kE)return Yu;kE=1;var t=Z1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,m={},y=null,x=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:x,props:m,_owner:a.current}}return Yu.Fragment=r,Yu.jsx=l,Yu.jsxs=l,Yu}var jE;function f5(){return jE||(jE=1,Mv.exports=h5()),Mv.exports}var s=f5(),B=Z1();const X=xt(B);var dp={},$v={exports:{}},Tn={},Fv={exports:{}},Vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function p5(){return NE||(NE=1,function(t){function e(re,G){var ee=re.length;re.push(G);e:for(;0<ee;){var W=ee-1>>>1,K=re[W];if(0<a(K,G))re[W]=G,re[ee]=K,ee=W;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var G=re[0],ee=re.pop();if(ee!==G){re[0]=ee;e:for(var W=0,K=re.length,Y=K>>>1;W<Y;){var ie=2*(W+1)-1,me=re[ie],ce=ie+1,he=re[ce];if(0>a(me,ee))ce<K&&0>a(he,me)?(re[W]=he,re[ce]=ee,W=ce):(re[W]=me,re[ie]=ee,W=ie);else if(ce<K&&0>a(he,ee))re[W]=he,re[ce]=ee,W=ce;else break e}}return G}function a(re,G){var ee=re.sortIndex-G.sortIndex;return ee!==0?ee:re.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,y=3,x=!1,k=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=re)n(h),G.sortIndex=G.expirationTime,e(d,G);else break;G=r(h)}}function R(re){if(w=!1,P(re),!k)if(r(d)!==null)k=!0,J(j);else{var G=r(h);G!==null&&oe(R,G.startTime-re)}}function j(re,G){k=!1,w&&(w=!1,N(I),I=-1),x=!0;var ee=y;try{for(P(G),m=r(d);m!==null&&(!(m.expirationTime>G)||re&&!D());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var K=W(m.expirationTime<=G);G=t.unstable_now(),typeof K=="function"?m.callback=K:m===r(d)&&n(d),P(G)}else n(d);m=r(d)}if(m!==null)var Y=!0;else{var ie=r(h);ie!==null&&oe(R,ie.startTime-G),Y=!1}return Y}finally{m=null,y=ee,x=!1}}var C=!1,A=null,I=-1,L=5,O=-1;function D(){return!(t.unstable_now()-O<L)}function F(){if(A!==null){var re=t.unstable_now();O=re;var G=!0;try{G=A(!0,re)}finally{G?$():(C=!1,A=null)}}else C=!1}var $;if(typeof T=="function")$=function(){T(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ne=te.port2;te.port1.onmessage=F,$=function(){ne.postMessage(null)}}else $=function(){b(F,0)};function J(re){A=re,C||(C=!0,$())}function oe(re,G){I=b(function(){re(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,J(j))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(re){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var ee=y;y=G;try{return re()}finally{y=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,G){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ee=y;y=re;try{return G()}finally{y=ee}},t.unstable_scheduleCallback=function(re,G,ee){var W=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?W+ee:W):ee=W,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ee+K,re={id:p++,callback:G,priorityLevel:re,startTime:ee,expirationTime:K,sortIndex:-1},ee>W?(re.sortIndex=ee,e(h,re),r(d)===null&&re===r(h)&&(w?(N(I),I=-1):w=!0,oe(R,ee-W))):(re.sortIndex=K,e(d,re),k||x||(k=!0,J(j))),re},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(re){var G=y;return function(){var ee=y;y=G;try{return re.apply(this,arguments)}finally{y=ee}}}}(Vv)),Vv}var SE;function m5(){return SE||(SE=1,Fv.exports=p5()),Fv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function g5(){if(EE)return Tn;EE=1;var t=Z1(),e=m5();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function x(o,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,u,f,v){if(u===null||typeof u>"u"||x(o,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,f,v,_,E,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=o,this.type=u,this.sanitizeURL=E,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function T(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(N,T);b[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(N,T);b[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(N,T);b[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,u,f,v){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(k(u,f,_,v)&&(f=null),v||_===null?y(u)&&(f===null?o.removeAttribute(u):o.setAttribute(u,""+f)):_.mustUseProperty?o[_.propertyName]=f===null?_.type===3?!1:"":f:(u=_.attributeName,v=_.attributeNamespace,f===null?o.removeAttribute(u):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,v?o.setAttributeNS(v,u,f):o.setAttribute(u,f))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),re=Symbol.iterator;function G(o){return o===null||typeof o!="object"?null:(o=re&&o[re]||o["@@iterator"],typeof o=="function"?o:null)}var ee=Object.assign,W;function K(o){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+o}var Y=!1;function ie(o,u){if(!o||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ue){var v=ue}Reflect.construct(o,[],u)}else{try{u.call()}catch(ue){v=ue}o.call(u.prototype)}else{try{throw Error()}catch(ue){v=ue}o()}}catch(ue){if(ue&&v&&typeof ue.stack=="string"){for(var _=ue.stack.split(`
`),E=v.stack.split(`
`),V=_.length-1,H=E.length-1;1<=V&&0<=H&&_[V]!==E[H];)H--;for(;1<=V&&0<=H;V--,H--)if(_[V]!==E[H]){if(V!==1||H!==1)do if(V--,H--,0>H||_[V]!==E[H]){var Q=`
`+_[V].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=V&&0<=H);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?K(o):""}function me(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case C:return"Portal";case L:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ne:return u=o.displayName||null,u!==null?u:ce(o.type)||"Memo";case J:u=o._payload,o=o._init;try{return ce(o(u))}catch{}}return null}function he(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ge(o){var u=z(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,E=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return _.call(this)},set:function(V){v=""+V,E.call(this,V)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function xe(o){o._valueTracker||(o._valueTracker=ge(o))}function q(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return o&&(v=z(o)?o.checked?"true":"false":o.value),o=v,o!==f?(u.setValue(o),!0):!1}function de(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _e(o,u){var f=u.checked;return ee({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Ie(o,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=be(u.value!=null?u.value:f),o._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(o,u){u=u.checked,u!=null&&P(o,"checked",u,!1)}function Zt(o,u){Ue(o,u);var f=be(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?sn(o,u.type,f):u.hasOwnProperty("defaultValue")&&sn(o,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function gr(o,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,f||u===o.value||(o.value=u),o.defaultValue=u}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function sn(o,u,f){(u!=="number"||de(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Rt=Array.isArray;function Dt(o,u,f,v){if(o=o.options,u){u={};for(var _=0;_<f.length;_++)u["$"+f[_]]=!0;for(f=0;f<o.length;f++)_=u.hasOwnProperty("$"+o[f].value),o[f].selected!==_&&(o[f].selected=_),_&&v&&(o[f].defaultSelected=!0)}else{for(f=""+be(f),u=null,_=0;_<o.length;_++){if(o[_].value===f){o[_].selected=!0,v&&(o[_].defaultSelected=!0);return}u!==null||o[_].disabled||(u=o[_])}u!==null&&(u.selected=!0)}}function Rr(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function on(o,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(Rt(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}o._wrapperState={initialValue:be(f)}}function lr(o,u){var f=be(u.value),v=be(u.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),u.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),v!=null&&(o.defaultValue=""+v)}function Rn(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Ht(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Ht(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dn,gt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,_){MSApp.execUnsafeLocalFunction(function(){return o(u,f,v,_)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Dn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function za(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_i=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(o){_i.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),wi[u]=wi[o]})});function xn(o,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||wi.hasOwnProperty(o)&&wi[o]?(""+u).trim():u+"px"}function mo(o,u){o=o.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,_=xn(f,u[f],v);f==="float"&&(f="cssFloat"),v?o.setProperty(f,_):o[f]=_}}var go=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ki(o,u){if(u){if(go[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Qn(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wa=null;function Jn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zn=null,bn=null,ea=null;function us(o){if(o=Ru(o)){if(typeof Zn!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Nf(u),Zn(o.stateNode,o.type,u))}}function ta(o){bn?ea?ea.push(o):ea=[o]:bn=o}function vo(){if(bn){var o=bn,u=ea;if(ea=bn=null,us(o),u)for(o=0;o<u.length;o++)us(u[o])}}function ji(o,u){return o(u)}function yo(){}var Bt=!1;function xo(o,u,f){if(Bt)return o(u,f);Bt=!0;try{return ji(o,u,f)}finally{Bt=!1,(bn!==null||ea!==null)&&(yo(),vo())}}function Kt(o,u){var f=o.stateNode;if(f===null)return null;var v=Nf(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var vr=!1;if(c)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){vr=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{vr=!1}function Ni(o,u,f,v,_,E,V,H,Q){var ue=Array.prototype.slice.call(arguments,3);try{u.apply(f,ue)}catch(je){this.onError(je)}}var Si=!1,fe=null,ye=!1,Ve=null,Ce={onError:function(o){Si=!0,fe=o}};function He(o,u,f,v,_,E,V,H,Q){Si=!1,fe=null,Ni.apply(Ce,arguments)}function St(o,u,f,v,_,E,V,H,Q){if(He.apply(this,arguments),Si){if(Si){var ue=fe;Si=!1,fe=null}else throw Error(r(198));ye||(ye=!0,Ve=ue)}}function it(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function dt(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ut(o){if(it(o)!==o)throw Error(r(188))}function rt(o){var u=o.alternate;if(!u){if(u=it(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,v=u;;){var _=f.return;if(_===null)break;var E=_.alternate;if(E===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===f)return Ut(_),o;if(E===v)return Ut(_),u;E=E.sibling}throw Error(r(188))}if(f.return!==v.return)f=_,v=E;else{for(var V=!1,H=_.child;H;){if(H===f){V=!0,f=_,v=E;break}if(H===v){V=!0,v=_,f=E;break}H=H.sibling}if(!V){for(H=E.child;H;){if(H===f){V=!0,f=E,v=_;break}if(H===v){V=!0,v=E,f=_;break}H=H.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function Et(o){return o=rt(o),o!==null?Tt(o):null}function Tt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Tt(o);if(u!==null)return u;o=o.sibling}return null}var er=e.unstable_scheduleCallback,Mn=e.unstable_cancelCallback,ra=e.unstable_shouldYield,Yt=e.unstable_requestPaint,At=e.unstable_now,Jh=e.unstable_getCurrentPriorityLevel,bo=e.unstable_ImmediatePriority,ds=e.unstable_UserBlockingPriority,na=e.unstable_NormalPriority,vu=e.unstable_LowPriority,Zh=e.unstable_IdlePriority,wo=null,Ln=null;function ef(o){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(wo,o,void 0,(o.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:rf,yu=Math.log,tf=Math.LN2;function rf(o){return o>>>=0,o===0?32:31-(yu(o)/tf|0)|0}var El=64,Tl=4194304;function hs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function _o(o,u){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,E=o.pingedLanes,V=f&268435455;if(V!==0){var H=V&~_;H!==0?v=hs(H):(E&=V,E!==0&&(v=hs(E)))}else V=f&~_,V!==0?v=hs(V):E!==0&&(v=hs(E));if(v===0)return 0;if(u!==0&&u!==v&&(u&_)===0&&(_=v&-v,E=u&-u,_>=E||_===16&&(E&4194240)!==0))return u;if((v&4)!==0&&(v|=f&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=v;0<u;)f=31-cn(u),_=1<<f,v|=o[f],u&=~_;return v}function hg(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(o,u){for(var f=o.suspendedLanes,v=o.pingedLanes,_=o.expirationTimes,E=o.pendingLanes;0<E;){var V=31-cn(E),H=1<<V,Q=_[V];Q===-1?((H&f)===0||(H&v)!==0)&&(_[V]=hg(H,u)):Q<=u&&(o.expiredLanes|=H),E&=~H}}function $n(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ko(){var o=El;return El<<=1,(El&4194240)===0&&(El=64),o}function fs(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function ps(o,u,f){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-cn(u),o[u]=f}function jt(o,u){var f=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<f;){var _=31-cn(f),E=1<<_;u[_]=0,v[_]=-1,o[_]=-1,f&=~E}}function ms(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var v=31-cn(f),_=1<<v;_&u|o[v]&u&&(o[v]|=u),f&=~_}}var ot=0;function gs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var nf,Al,af,sf,of,xu=!1,Ha=[],Dr=null,_a=null,ka=null,vs=new Map,aa=new Map,Ga=[],fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lf(o,u){switch(o){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":vs.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(u.pointerId)}}function wn(o,u,f,v,_,E){return o===null||o.nativeEvent!==E?(o={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:E,targetContainers:[_]},u!==null&&(u=Ru(u),u!==null&&Al(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),o)}function pg(o,u,f,v,_){switch(u){case"focusin":return Dr=wn(Dr,o,u,f,v,_),!0;case"dragenter":return _a=wn(_a,o,u,f,v,_),!0;case"mouseover":return ka=wn(ka,o,u,f,v,_),!0;case"pointerover":var E=_.pointerId;return vs.set(E,wn(vs.get(E)||null,o,u,f,v,_)),!0;case"gotpointercapture":return E=_.pointerId,aa.set(E,wn(aa.get(E)||null,o,u,f,v,_)),!0}return!1}function cf(o){var u=To(o.target);if(u!==null){var f=it(u);if(f!==null){if(u=f.tag,u===13){if(u=dt(f),u!==null){o.blockedOn=u,of(o.priority,function(){af(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ti(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=Cl(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);Wa=v,f.target.dispatchEvent(v),Wa=null}else return u=Ru(f),u!==null&&Al(u),o.blockedOn=f,!1;u.shift()}return!0}function jo(o,u,f){Ti(o)&&f.delete(u)}function uf(){xu=!1,Dr!==null&&Ti(Dr)&&(Dr=null),_a!==null&&Ti(_a)&&(_a=null),ka!==null&&Ti(ka)&&(ka=null),vs.forEach(jo),aa.forEach(jo)}function ja(o,u){o.blockedOn===u&&(o.blockedOn=null,xu||(xu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uf)))}function Na(o){function u(_){return ja(_,o)}if(0<Ha.length){ja(Ha[0],o);for(var f=1;f<Ha.length;f++){var v=Ha[f];v.blockedOn===o&&(v.blockedOn=null)}}for(Dr!==null&&ja(Dr,o),_a!==null&&ja(_a,o),ka!==null&&ja(ka,o),vs.forEach(u),aa.forEach(u),f=0;f<Ga.length;f++)v=Ga[f],v.blockedOn===o&&(v.blockedOn=null);for(;0<Ga.length&&(f=Ga[0],f.blockedOn===null);)cf(f),f.blockedOn===null&&Ga.shift()}var Ai=R.ReactCurrentBatchConfig,ys=!0;function qt(o,u,f,v){var _=ot,E=Ai.transition;Ai.transition=null;try{ot=1,bu(o,u,f,v)}finally{ot=_,Ai.transition=E}}function mg(o,u,f,v){var _=ot,E=Ai.transition;Ai.transition=null;try{ot=4,bu(o,u,f,v)}finally{ot=_,Ai.transition=E}}function bu(o,u,f,v){if(ys){var _=Cl(o,u,f,v);if(_===null)Sg(o,u,v,No,f),lf(o,v);else if(pg(_,o,u,f,v))v.stopPropagation();else if(lf(o,v),u&4&&-1<fg.indexOf(o)){for(;_!==null;){var E=Ru(_);if(E!==null&&nf(E),E=Cl(o,u,f,v),E===null&&Sg(o,u,v,No,f),E===_)break;_=E}_!==null&&v.stopPropagation()}else Sg(o,u,v,null,f)}}var No=null;function Cl(o,u,f,v){if(No=null,o=Jn(v),o=To(o),o!==null)if(u=it(o),u===null)o=null;else if(f=u.tag,f===13){if(o=dt(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return No=o,null}function wu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jh()){case bo:return 1;case ds:return 4;case na:case vu:return 16;case Zh:return 536870912;default:return 16}default:return 16}}var Fn=null,Pl=null,_n=null;function _u(){if(_n)return _n;var o,u=Pl,f=u.length,v,_="value"in Fn?Fn.value:Fn.textContent,E=_.length;for(o=0;o<f&&u[o]===_[o];o++);var V=f-o;for(v=1;v<=V&&u[f-v]===_[E-v];v++);return _n=_.slice(o,1<v?1-v:void 0)}function Il(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ka(){return!0}function ku(){return!1}function Mr(o){function u(f,v,_,E,V){this._reactName=f,this._targetInst=_,this.type=v,this.nativeEvent=E,this.target=V,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ka:ku,this.isPropagationStopped=ku,this}return ee(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),u}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Mr(Sa),Ya=ee({},Sa,{view:0,detail:0}),gg=Mr(Ya),Rl,Ci,xs,So=ee({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==xs&&(xs&&o.type==="mousemove"?(Rl=o.screenX-xs.screenX,Ci=o.screenY-xs.screenY):Ci=Rl=0,xs=o),Rl)},movementY:function(o){return"movementY"in o?o.movementY:Ci}}),Dl=Mr(So),ju=ee({},So,{dataTransfer:0}),df=Mr(ju),Ml=ee({},Ya,{relatedTarget:0}),Ll=Mr(Ml),hf=ee({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Pi=Mr(hf),ff=ee({},Sa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),pf=Mr(ff),mf=ee({},Sa,{data:0}),Nu=Mr(mf),$l={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=gf[o])?!!u[o]:!1}function Xa(){return vf}var g=ee({},Ya,{key:function(o){if(o.key){var u=$l[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Il(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?un[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(o){return o.type==="keypress"?Il(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Il(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Mr(g),M=ee({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Mr(M),ae=ee({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),pe=Mr(ae),Ae=ee({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Mr(Ae),yr=ee({},So,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=Mr(yr),Sr=[9,13,27,32],cr=c&&"CompositionEvent"in window,ia=null;c&&"documentMode"in document&&(ia=document.documentMode);var Vn=c&&"TextEvent"in window&&!ia,Eo=c&&(!cr||ia&&8<ia&&11>=ia),Fl=" ",mN=!1;function gN(o,u){switch(o){case"keyup":return Sr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vN(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Vl=!1;function l$(o,u){switch(o){case"compositionend":return vN(u);case"keypress":return u.which!==32?null:(mN=!0,Fl);case"textInput":return o=u.data,o===Fl&&mN?null:o;default:return null}}function c$(o,u){if(Vl)return o==="compositionend"||!cr&&gN(o,u)?(o=_u(),_n=Pl=Fn=null,Vl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Eo&&u.locale!=="ko"?null:u.data;default:return null}}var u$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yN(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!u$[o.type]:u==="textarea"}function xN(o,u,f,v){ta(v),u=_f(u,"onChange"),0<u.length&&(f=new Ol("onChange","change",null,f,v),o.push({event:f,listeners:u}))}var Su=null,Eu=null;function d$(o){LN(o,0)}function yf(o){var u=Wl(o);if(q(u))return o}function h$(o,u){if(o==="change")return u}var bN=!1;if(c){var vg;if(c){var yg="oninput"in document;if(!yg){var wN=document.createElement("div");wN.setAttribute("oninput","return;"),yg=typeof wN.oninput=="function"}vg=yg}else vg=!1;bN=vg&&(!document.documentMode||9<document.documentMode)}function _N(){Su&&(Su.detachEvent("onpropertychange",kN),Eu=Su=null)}function kN(o){if(o.propertyName==="value"&&yf(Eu)){var u=[];xN(u,Eu,o,Jn(o)),xo(d$,u)}}function f$(o,u,f){o==="focusin"?(_N(),Su=u,Eu=f,Su.attachEvent("onpropertychange",kN)):o==="focusout"&&_N()}function p$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yf(Eu)}function m$(o,u){if(o==="click")return yf(u)}function g$(o,u){if(o==="input"||o==="change")return yf(u)}function v$(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ea=typeof Object.is=="function"?Object.is:v$;function Tu(o,u){if(Ea(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!d.call(u,_)||!Ea(o[_],u[_]))return!1}return!0}function jN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function NN(o,u){var f=jN(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=u&&v>=u)return{node:f,offset:u-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=jN(f)}}function SN(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?SN(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function EN(){for(var o=window,u=de();u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=de(o.document)}return u}function xg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function y$(o){var u=EN(),f=o.focusedElem,v=o.selectionRange;if(u!==f&&f&&f.ownerDocument&&SN(f.ownerDocument.documentElement,f)){if(v!==null&&xg(f)){if(u=v.start,o=v.end,o===void 0&&(o=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(o,f.value.length);else if(o=(u=f.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var _=f.textContent.length,E=Math.min(v.start,_);v=v.end===void 0?E:Math.min(v.end,_),!o.extend&&E>v&&(_=v,v=E,E=_),_=NN(f,E);var V=NN(f,v);_&&V&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),o.removeAllRanges(),E>v?(o.addRange(u),o.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),o.addRange(u)))}}for(u=[],o=f;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)o=u[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var x$=c&&"documentMode"in document&&11>=document.documentMode,Bl=null,bg=null,Au=null,wg=!1;function TN(o,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;wg||Bl==null||Bl!==de(v)||(v=Bl,"selectionStart"in v&&xg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Au&&Tu(Au,v)||(Au=v,v=_f(bg,"onSelect"),0<v.length&&(u=new Ol("onSelect","select",null,u,f),o.push({event:u,listeners:v}),u.target=Bl)))}function xf(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Ul={animationend:xf("Animation","AnimationEnd"),animationiteration:xf("Animation","AnimationIteration"),animationstart:xf("Animation","AnimationStart"),transitionend:xf("Transition","TransitionEnd")},_g={},AN={};c&&(AN=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function bf(o){if(_g[o])return _g[o];if(!Ul[o])return o;var u=Ul[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in AN)return _g[o]=u[f];return o}var CN=bf("animationend"),PN=bf("animationiteration"),IN=bf("animationstart"),ON=bf("transitionend"),RN=new Map,DN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(o,u){RN.set(o,u),i(u,[o])}for(var kg=0;kg<DN.length;kg++){var jg=DN[kg],b$=jg.toLowerCase(),w$=jg[0].toUpperCase()+jg.slice(1);bs(b$,"on"+w$)}bs(CN,"onAnimationEnd"),bs(PN,"onAnimationIteration"),bs(IN,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(ON,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function MN(o,u,f){var v=o.type||"unknown-event";o.currentTarget=f,St(v,u,void 0,o),o.currentTarget=null}function LN(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],_=v.event;v=v.listeners;e:{var E=void 0;if(u)for(var V=v.length-1;0<=V;V--){var H=v[V],Q=H.instance,ue=H.currentTarget;if(H=H.listener,Q!==E&&_.isPropagationStopped())break e;MN(_,H,ue),E=Q}else for(V=0;V<v.length;V++){if(H=v[V],Q=H.instance,ue=H.currentTarget,H=H.listener,Q!==E&&_.isPropagationStopped())break e;MN(_,H,ue),E=Q}}}if(ye)throw o=Ve,ye=!1,Ve=null,o}function Mt(o,u){var f=u[Ig];f===void 0&&(f=u[Ig]=new Set);var v=o+"__bubble";f.has(v)||($N(u,o,2,!1),f.add(v))}function Ng(o,u,f){var v=0;u&&(v|=4),$N(f,o,v,u)}var wf="_reactListening"+Math.random().toString(36).slice(2);function Pu(o){if(!o[wf]){o[wf]=!0,n.forEach(function(f){f!=="selectionchange"&&(_$.has(f)||Ng(f,!1,o),Ng(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[wf]||(u[wf]=!0,Ng("selectionchange",!1,u))}}function $N(o,u,f,v){switch(wu(u)){case 1:var _=qt;break;case 4:_=mg;break;default:_=bu}f=_.bind(null,u,f,o),_=void 0,!vr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?o.addEventListener(u,f,{capture:!0,passive:_}):o.addEventListener(u,f,!0):_!==void 0?o.addEventListener(u,f,{passive:_}):o.addEventListener(u,f,!1)}function Sg(o,u,f,v,_){var E=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var H=v.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(V===4)for(V=v.return;V!==null;){var Q=V.tag;if((Q===3||Q===4)&&(Q=V.stateNode.containerInfo,Q===_||Q.nodeType===8&&Q.parentNode===_))return;V=V.return}for(;H!==null;){if(V=To(H),V===null)return;if(Q=V.tag,Q===5||Q===6){v=E=V;continue e}H=H.parentNode}}v=v.return}xo(function(){var ue=E,je=Jn(f),Se=[];e:{var ke=RN.get(o);if(ke!==void 0){var Pe=Ol,Le=o;switch(o){case"keypress":if(Il(f)===0)break e;case"keydown":case"keyup":Pe=S;break;case"focusin":Le="focus",Pe=Ll;break;case"focusout":Le="blur",Pe=Ll;break;case"beforeblur":case"afterblur":Pe=Ll;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=pe;break;case CN:case PN:case IN:Pe=Pi;break;case ON:Pe=bt;break;case"scroll":Pe=gg;break;case"wheel":Pe=ct;break;case"copy":case"cut":case"paste":Pe=pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=U}var $e=(u&4)!==0,sr=!$e&&o==="scroll",se=$e?ke!==null?ke+"Capture":null:ke;$e=[];for(var Z=ue,le;Z!==null;){le=Z;var Ee=le.stateNode;if(le.tag===5&&Ee!==null&&(le=Ee,se!==null&&(Ee=Kt(Z,se),Ee!=null&&$e.push(Iu(Z,Ee,le)))),sr)break;Z=Z.return}0<$e.length&&(ke=new Pe(ke,Le,null,f,je),Se.push({event:ke,listeners:$e}))}}if((u&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",ke&&f!==Wa&&(Le=f.relatedTarget||f.fromElement)&&(To(Le)||Le[Ii]))break e;if((Pe||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,Pe?(Le=f.relatedTarget||f.toElement,Pe=ue,Le=Le?To(Le):null,Le!==null&&(sr=it(Le),Le!==sr||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Pe=null,Le=ue),Pe!==Le)){if($e=Dl,Ee="onMouseLeave",se="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&($e=U,Ee="onPointerLeave",se="onPointerEnter",Z="pointer"),sr=Pe==null?ke:Wl(Pe),le=Le==null?ke:Wl(Le),ke=new $e(Ee,Z+"leave",Pe,f,je),ke.target=sr,ke.relatedTarget=le,Ee=null,To(je)===ue&&($e=new $e(se,Z+"enter",Le,f,je),$e.target=le,$e.relatedTarget=sr,Ee=$e),sr=Ee,Pe&&Le)t:{for($e=Pe,se=Le,Z=0,le=$e;le;le=ql(le))Z++;for(le=0,Ee=se;Ee;Ee=ql(Ee))le++;for(;0<Z-le;)$e=ql($e),Z--;for(;0<le-Z;)se=ql(se),le--;for(;Z--;){if($e===se||se!==null&&$e===se.alternate)break t;$e=ql($e),se=ql(se)}$e=null}else $e=null;Pe!==null&&FN(Se,ke,Pe,$e,!1),Le!==null&&sr!==null&&FN(Se,sr,Le,$e,!0)}}e:{if(ke=ue?Wl(ue):window,Pe=ke.nodeName&&ke.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ke.type==="file")var Be=h$;else if(yN(ke))if(bN)Be=g$;else{Be=p$;var ze=f$}else(Pe=ke.nodeName)&&Pe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Be=m$);if(Be&&(Be=Be(o,ue))){xN(Se,Be,f,je);break e}ze&&ze(o,ke,ue),o==="focusout"&&(ze=ke._wrapperState)&&ze.controlled&&ke.type==="number"&&sn(ke,"number",ke.value)}switch(ze=ue?Wl(ue):window,o){case"focusin":(yN(ze)||ze.contentEditable==="true")&&(Bl=ze,bg=ue,Au=null);break;case"focusout":Au=bg=Bl=null;break;case"mousedown":wg=!0;break;case"contextmenu":case"mouseup":case"dragend":wg=!1,TN(Se,f,je);break;case"selectionchange":if(x$)break;case"keydown":case"keyup":TN(Se,f,je)}var We;if(cr)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Vl?gN(o,f)&&(Xe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(Eo&&f.locale!=="ko"&&(Vl||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Vl&&(We=_u()):(Fn=je,Pl="value"in Fn?Fn.value:Fn.textContent,Vl=!0)),ze=_f(ue,Xe),0<ze.length&&(Xe=new Nu(Xe,o,null,f,je),Se.push({event:Xe,listeners:ze}),We?Xe.data=We:(We=vN(f),We!==null&&(Xe.data=We)))),(We=Vn?l$(o,f):c$(o,f))&&(ue=_f(ue,"onBeforeInput"),0<ue.length&&(je=new Nu("onBeforeInput","beforeinput",null,f,je),Se.push({event:je,listeners:ue}),je.data=We))}LN(Se,u)})}function Iu(o,u,f){return{instance:o,listener:u,currentTarget:f}}function _f(o,u){for(var f=u+"Capture",v=[];o!==null;){var _=o,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=Kt(o,f),E!=null&&v.unshift(Iu(o,E,_)),E=Kt(o,u),E!=null&&v.push(Iu(o,E,_))),o=o.return}return v}function ql(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function FN(o,u,f,v,_){for(var E=u._reactName,V=[];f!==null&&f!==v;){var H=f,Q=H.alternate,ue=H.stateNode;if(Q!==null&&Q===v)break;H.tag===5&&ue!==null&&(H=ue,_?(Q=Kt(f,E),Q!=null&&V.unshift(Iu(f,Q,H))):_||(Q=Kt(f,E),Q!=null&&V.push(Iu(f,Q,H)))),f=f.return}V.length!==0&&o.push({event:u,listeners:V})}var k$=/\r\n?/g,j$=/\u0000|\uFFFD/g;function VN(o){return(typeof o=="string"?o:""+o).replace(k$,`
`).replace(j$,"")}function kf(o,u,f){if(u=VN(u),VN(o)!==u&&f)throw Error(r(425))}function jf(){}var Eg=null,Tg=null;function Ag(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Cg=typeof setTimeout=="function"?setTimeout:void 0,N$=typeof clearTimeout=="function"?clearTimeout:void 0,BN=typeof Promise=="function"?Promise:void 0,S$=typeof queueMicrotask=="function"?queueMicrotask:typeof BN<"u"?function(o){return BN.resolve(null).then(o).catch(E$)}:Cg;function E$(o){setTimeout(function(){throw o})}function Pg(o,u){var f=u,v=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(v===0){o.removeChild(_),Na(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=_}while(f);Na(u)}function ws(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function UN(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return o;u--}else f==="/$"&&u++}o=o.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Qa="__reactFiber$"+zl,Ou="__reactProps$"+zl,Ii="__reactContainer$"+zl,Ig="__reactEvents$"+zl,T$="__reactListeners$"+zl,A$="__reactHandles$"+zl;function To(o){var u=o[Qa];if(u)return u;for(var f=o.parentNode;f;){if(u=f[Ii]||f[Qa]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=UN(o);o!==null;){if(f=o[Qa])return f;o=UN(o)}return u}o=f,f=o.parentNode}return null}function Ru(o){return o=o[Qa]||o[Ii],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Wl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Nf(o){return o[Ou]||null}var Og=[],Hl=-1;function _s(o){return{current:o}}function Lt(o){0>Hl||(o.current=Og[Hl],Og[Hl]=null,Hl--)}function Ct(o,u){Hl++,Og[Hl]=o.current,o.current=u}var ks={},Hr=_s(ks),kn=_s(!1),Ao=ks;function Gl(o,u){var f=o.type.contextTypes;if(!f)return ks;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in f)_[E]=u[E];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=_),_}function jn(o){return o=o.childContextTypes,o!=null}function Sf(){Lt(kn),Lt(Hr)}function qN(o,u,f){if(Hr.current!==ks)throw Error(r(168));Ct(Hr,u),Ct(kn,f)}function zN(o,u,f){var v=o.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,he(o)||"Unknown",_));return ee({},f,v)}function Ef(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ks,Ao=Hr.current,Ct(Hr,o),Ct(kn,kn.current),!0}function WN(o,u,f){var v=o.stateNode;if(!v)throw Error(r(169));f?(o=zN(o,u,Ao),v.__reactInternalMemoizedMergedChildContext=o,Lt(kn),Lt(Hr),Ct(Hr,o)):Lt(kn),Ct(kn,f)}var Oi=null,Tf=!1,Rg=!1;function HN(o){Oi===null?Oi=[o]:Oi.push(o)}function C$(o){Tf=!0,HN(o)}function js(){if(!Rg&&Oi!==null){Rg=!0;var o=0,u=ot;try{var f=Oi;for(ot=1;o<f.length;o++){var v=f[o];do v=v(!0);while(v!==null)}Oi=null,Tf=!1}catch(_){throw Oi!==null&&(Oi=Oi.slice(o+1)),er(bo,js),_}finally{ot=u,Rg=!1}}return null}var Kl=[],Yl=0,Af=null,Cf=0,sa=[],oa=0,Co=null,Ri=1,Di="";function Po(o,u){Kl[Yl++]=Cf,Kl[Yl++]=Af,Af=o,Cf=u}function GN(o,u,f){sa[oa++]=Ri,sa[oa++]=Di,sa[oa++]=Co,Co=o;var v=Ri;o=Di;var _=32-cn(v)-1;v&=~(1<<_),f+=1;var E=32-cn(u)+_;if(30<E){var V=_-_%5;E=(v&(1<<V)-1).toString(32),v>>=V,_-=V,Ri=1<<32-cn(u)+_|f<<_|v,Di=E+o}else Ri=1<<E|f<<_|v,Di=o}function Dg(o){o.return!==null&&(Po(o,1),GN(o,1,0))}function Mg(o){for(;o===Af;)Af=Kl[--Yl],Kl[Yl]=null,Cf=Kl[--Yl],Kl[Yl]=null;for(;o===Co;)Co=sa[--oa],sa[oa]=null,Di=sa[--oa],sa[oa]=null,Ri=sa[--oa],sa[oa]=null}var Bn=null,Un=null,zt=!1,Ta=null;function KN(o,u){var f=da(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=o,u=o.deletions,u===null?(o.deletions=[f],o.flags|=16):u.push(f)}function YN(o,u){switch(o.tag){case 5:var f=o.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Bn=o,Un=ws(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Bn=o,Un=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Co!==null?{id:Ri,overflow:Di}:null,o.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=da(18,null,null,0),f.stateNode=u,f.return=o,o.child=f,Bn=o,Un=null,!0):!1;default:return!1}}function Lg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function $g(o){if(zt){var u=Un;if(u){var f=u;if(!YN(o,u)){if(Lg(o))throw Error(r(418));u=ws(f.nextSibling);var v=Bn;u&&YN(o,u)?KN(v,f):(o.flags=o.flags&-4097|2,zt=!1,Bn=o)}}else{if(Lg(o))throw Error(r(418));o.flags=o.flags&-4097|2,zt=!1,Bn=o}}}function XN(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Bn=o}function Pf(o){if(o!==Bn)return!1;if(!zt)return XN(o),zt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Ag(o.type,o.memoizedProps)),u&&(u=Un)){if(Lg(o))throw QN(),Error(r(418));for(;u;)KN(o,u),u=ws(u.nextSibling)}if(XN(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(u===0){Un=ws(o.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}o=o.nextSibling}Un=null}}else Un=Bn?ws(o.stateNode.nextSibling):null;return!0}function QN(){for(var o=Un;o;)o=ws(o.nextSibling)}function Xl(){Un=Bn=null,zt=!1}function Fg(o){Ta===null?Ta=[o]:Ta.push(o)}var P$=R.ReactCurrentBatchConfig;function Du(o,u,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,o));var _=v,E=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(V){var H=_.refs;V===null?delete H[E]:H[E]=V},u._stringRef=E,u)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function If(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function JN(o){var u=o._init;return u(o._payload)}function ZN(o){function u(se,Z){if(o){var le=se.deletions;le===null?(se.deletions=[Z],se.flags|=16):le.push(Z)}}function f(se,Z){if(!o)return null;for(;Z!==null;)u(se,Z),Z=Z.sibling;return null}function v(se,Z){for(se=new Map;Z!==null;)Z.key!==null?se.set(Z.key,Z):se.set(Z.index,Z),Z=Z.sibling;return se}function _(se,Z){return se=Is(se,Z),se.index=0,se.sibling=null,se}function E(se,Z,le){return se.index=le,o?(le=se.alternate,le!==null?(le=le.index,le<Z?(se.flags|=2,Z):le):(se.flags|=2,Z)):(se.flags|=1048576,Z)}function V(se){return o&&se.alternate===null&&(se.flags|=2),se}function H(se,Z,le,Ee){return Z===null||Z.tag!==6?(Z=Cv(le,se.mode,Ee),Z.return=se,Z):(Z=_(Z,le),Z.return=se,Z)}function Q(se,Z,le,Ee){var Be=le.type;return Be===A?je(se,Z,le.props.children,Ee,le.key):Z!==null&&(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===J&&JN(Be)===Z.type)?(Ee=_(Z,le.props),Ee.ref=Du(se,Z,le),Ee.return=se,Ee):(Ee=rp(le.type,le.key,le.props,null,se.mode,Ee),Ee.ref=Du(se,Z,le),Ee.return=se,Ee)}function ue(se,Z,le,Ee){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=Pv(le,se.mode,Ee),Z.return=se,Z):(Z=_(Z,le.children||[]),Z.return=se,Z)}function je(se,Z,le,Ee,Be){return Z===null||Z.tag!==7?(Z=Fo(le,se.mode,Ee,Be),Z.return=se,Z):(Z=_(Z,le),Z.return=se,Z)}function Se(se,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Cv(""+Z,se.mode,le),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return le=rp(Z.type,Z.key,Z.props,null,se.mode,le),le.ref=Du(se,null,Z),le.return=se,le;case C:return Z=Pv(Z,se.mode,le),Z.return=se,Z;case J:var Ee=Z._init;return Se(se,Ee(Z._payload),le)}if(Rt(Z)||G(Z))return Z=Fo(Z,se.mode,le,null),Z.return=se,Z;If(se,Z)}return null}function ke(se,Z,le,Ee){var Be=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Be!==null?null:H(se,Z,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===Be?Q(se,Z,le,Ee):null;case C:return le.key===Be?ue(se,Z,le,Ee):null;case J:return Be=le._init,ke(se,Z,Be(le._payload),Ee)}if(Rt(le)||G(le))return Be!==null?null:je(se,Z,le,Ee,null);If(se,le)}return null}function Pe(se,Z,le,Ee,Be){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return se=se.get(le)||null,H(Z,se,""+Ee,Be);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case j:return se=se.get(Ee.key===null?le:Ee.key)||null,Q(Z,se,Ee,Be);case C:return se=se.get(Ee.key===null?le:Ee.key)||null,ue(Z,se,Ee,Be);case J:var ze=Ee._init;return Pe(se,Z,le,ze(Ee._payload),Be)}if(Rt(Ee)||G(Ee))return se=se.get(le)||null,je(Z,se,Ee,Be,null);If(Z,Ee)}return null}function Le(se,Z,le,Ee){for(var Be=null,ze=null,We=Z,Xe=Z=0,Ar=null;We!==null&&Xe<le.length;Xe++){We.index>Xe?(Ar=We,We=null):Ar=We.sibling;var ft=ke(se,We,le[Xe],Ee);if(ft===null){We===null&&(We=Ar);break}o&&We&&ft.alternate===null&&u(se,We),Z=E(ft,Z,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft,We=Ar}if(Xe===le.length)return f(se,We),zt&&Po(se,Xe),Be;if(We===null){for(;Xe<le.length;Xe++)We=Se(se,le[Xe],Ee),We!==null&&(Z=E(We,Z,Xe),ze===null?Be=We:ze.sibling=We,ze=We);return zt&&Po(se,Xe),Be}for(We=v(se,We);Xe<le.length;Xe++)Ar=Pe(We,se,Xe,le[Xe],Ee),Ar!==null&&(o&&Ar.alternate!==null&&We.delete(Ar.key===null?Xe:Ar.key),Z=E(Ar,Z,Xe),ze===null?Be=Ar:ze.sibling=Ar,ze=Ar);return o&&We.forEach(function(Os){return u(se,Os)}),zt&&Po(se,Xe),Be}function $e(se,Z,le,Ee){var Be=G(le);if(typeof Be!="function")throw Error(r(150));if(le=Be.call(le),le==null)throw Error(r(151));for(var ze=Be=null,We=Z,Xe=Z=0,Ar=null,ft=le.next();We!==null&&!ft.done;Xe++,ft=le.next()){We.index>Xe?(Ar=We,We=null):Ar=We.sibling;var Os=ke(se,We,ft.value,Ee);if(Os===null){We===null&&(We=Ar);break}o&&We&&Os.alternate===null&&u(se,We),Z=E(Os,Z,Xe),ze===null?Be=Os:ze.sibling=Os,ze=Os,We=Ar}if(ft.done)return f(se,We),zt&&Po(se,Xe),Be;if(We===null){for(;!ft.done;Xe++,ft=le.next())ft=Se(se,ft.value,Ee),ft!==null&&(Z=E(ft,Z,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return zt&&Po(se,Xe),Be}for(We=v(se,We);!ft.done;Xe++,ft=le.next())ft=Pe(We,se,Xe,ft.value,Ee),ft!==null&&(o&&ft.alternate!==null&&We.delete(ft.key===null?Xe:ft.key),Z=E(ft,Z,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return o&&We.forEach(function(u5){return u(se,u5)}),zt&&Po(se,Xe),Be}function sr(se,Z,le,Ee){if(typeof le=="object"&&le!==null&&le.type===A&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var Be=le.key,ze=Z;ze!==null;){if(ze.key===Be){if(Be=le.type,Be===A){if(ze.tag===7){f(se,ze.sibling),Z=_(ze,le.props.children),Z.return=se,se=Z;break e}}else if(ze.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===J&&JN(Be)===ze.type){f(se,ze.sibling),Z=_(ze,le.props),Z.ref=Du(se,ze,le),Z.return=se,se=Z;break e}f(se,ze);break}else u(se,ze);ze=ze.sibling}le.type===A?(Z=Fo(le.props.children,se.mode,Ee,le.key),Z.return=se,se=Z):(Ee=rp(le.type,le.key,le.props,null,se.mode,Ee),Ee.ref=Du(se,Z,le),Ee.return=se,se=Ee)}return V(se);case C:e:{for(ze=le.key;Z!==null;){if(Z.key===ze)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){f(se,Z.sibling),Z=_(Z,le.children||[]),Z.return=se,se=Z;break e}else{f(se,Z);break}else u(se,Z);Z=Z.sibling}Z=Pv(le,se.mode,Ee),Z.return=se,se=Z}return V(se);case J:return ze=le._init,sr(se,Z,ze(le._payload),Ee)}if(Rt(le))return Le(se,Z,le,Ee);if(G(le))return $e(se,Z,le,Ee);If(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(f(se,Z.sibling),Z=_(Z,le),Z.return=se,se=Z):(f(se,Z),Z=Cv(le,se.mode,Ee),Z.return=se,se=Z),V(se)):f(se,Z)}return sr}var Ql=ZN(!0),eS=ZN(!1),Of=_s(null),Rf=null,Jl=null,Vg=null;function Bg(){Vg=Jl=Rf=null}function Ug(o){var u=Of.current;Lt(Of),o._currentValue=u}function qg(o,u,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===f)break;o=o.return}}function Zl(o,u){Rf=o,Vg=Jl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Nn=!0),o.firstContext=null)}function la(o){var u=o._currentValue;if(Vg!==o)if(o={context:o,memoizedValue:u,next:null},Jl===null){if(Rf===null)throw Error(r(308));Jl=o,Rf.dependencies={lanes:0,firstContext:o}}else Jl=Jl.next=o;return u}var Io=null;function zg(o){Io===null?Io=[o]:Io.push(o)}function tS(o,u,f,v){var _=u.interleaved;return _===null?(f.next=f,zg(u)):(f.next=_.next,_.next=f),u.interleaved=f,Mi(o,v)}function Mi(o,u){o.lanes|=u;var f=o.alternate;for(f!==null&&(f.lanes|=u),f=o,o=o.return;o!==null;)o.childLanes|=u,f=o.alternate,f!==null&&(f.childLanes|=u),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Ns=!1;function Wg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Li(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Ss(o,u,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(ht&2)!==0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,Mi(o,f)}return _=v.interleaved,_===null?(u.next=u,zg(v)):(u.next=_.next,_.next=u),v.interleaved=u,Mi(o,f)}function Df(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=o.pendingLanes,f|=v,u.lanes=f,ms(o,f)}}function nS(o,u){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?_=E=V:E=E.next=V,f=f.next}while(f!==null);E===null?_=E=u:E=E.next=u}else _=E=u;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:v.shared,effects:v.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}function Mf(o,u,f,v){var _=o.updateQueue;Ns=!1;var E=_.firstBaseUpdate,V=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var Q=H,ue=Q.next;Q.next=null,V===null?E=ue:V.next=ue,V=Q;var je=o.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==V&&(H===null?je.firstBaseUpdate=ue:H.next=ue,je.lastBaseUpdate=Q))}if(E!==null){var Se=_.baseState;V=0,je=ue=Q=null,H=E;do{var ke=H.lane,Pe=H.eventTime;if((v&ke)===ke){je!==null&&(je=je.next={eventTime:Pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Le=o,$e=H;switch(ke=u,Pe=f,$e.tag){case 1:if(Le=$e.payload,typeof Le=="function"){Se=Le.call(Pe,Se,ke);break e}Se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=$e.payload,ke=typeof Le=="function"?Le.call(Pe,Se,ke):Le,ke==null)break e;Se=ee({},Se,ke);break e;case 2:Ns=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,ke=_.effects,ke===null?_.effects=[H]:ke.push(H))}else Pe={eventTime:Pe,lane:ke,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ue=je=Pe,Q=Se):je=je.next=Pe,V|=ke;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,_.lastBaseUpdate=ke,_.shared.pending=null}}while(!0);if(je===null&&(Q=Se),_.baseState=Q,_.firstBaseUpdate=ue,_.lastBaseUpdate=je,u=_.shared.interleaved,u!==null){_=u;do V|=_.lane,_=_.next;while(_!==u)}else E===null&&(_.shared.lanes=0);Do|=V,o.lanes=V,o.memoizedState=Se}}function aS(o,u,f){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var v=o[u],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var Mu={},Ja=_s(Mu),Lu=_s(Mu),$u=_s(Mu);function Oo(o){if(o===Mu)throw Error(r(174));return o}function Hg(o,u){switch(Ct($u,u),Ct(Lu,o),Ct(Ja,Mu),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Gt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=Gt(u,o)}Lt(Ja),Ct(Ja,u)}function ec(){Lt(Ja),Lt(Lu),Lt($u)}function iS(o){Oo($u.current);var u=Oo(Ja.current),f=Gt(u,o.type);u!==f&&(Ct(Lu,o),Ct(Ja,f))}function Gg(o){Lu.current===o&&(Lt(Ja),Lt(Lu))}var Xt=_s(0);function Lf(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Kg=[];function Yg(){for(var o=0;o<Kg.length;o++)Kg[o]._workInProgressVersionPrimary=null;Kg.length=0}var $f=R.ReactCurrentDispatcher,Xg=R.ReactCurrentBatchConfig,Ro=0,Qt=null,xr=null,Er=null,Ff=!1,Fu=!1,Vu=0,I$=0;function Gr(){throw Error(r(321))}function Qg(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Ea(o[f],u[f]))return!1;return!0}function Jg(o,u,f,v,_,E){if(Ro=E,Qt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$f.current=o===null||o.memoizedState===null?M$:L$,o=f(v,_),Fu){E=0;do{if(Fu=!1,Vu=0,25<=E)throw Error(r(301));E+=1,Er=xr=null,u.updateQueue=null,$f.current=$$,o=f(v,_)}while(Fu)}if($f.current=Uf,u=xr!==null&&xr.next!==null,Ro=0,Er=xr=Qt=null,Ff=!1,u)throw Error(r(300));return o}function Zg(){var o=Vu!==0;return Vu=0,o}function Za(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Qt.memoizedState=Er=o:Er=Er.next=o,Er}function ca(){if(xr===null){var o=Qt.alternate;o=o!==null?o.memoizedState:null}else o=xr.next;var u=Er===null?Qt.memoizedState:Er.next;if(u!==null)Er=u,xr=o;else{if(o===null)throw Error(r(310));xr=o,o={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Er===null?Qt.memoizedState=Er=o:Er=Er.next=o}return Er}function Bu(o,u){return typeof u=="function"?u(o):u}function ev(o){var u=ca(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=xr,_=v.baseQueue,E=f.pending;if(E!==null){if(_!==null){var V=_.next;_.next=E.next,E.next=V}v.baseQueue=_=E,f.pending=null}if(_!==null){E=_.next,v=v.baseState;var H=V=null,Q=null,ue=E;do{var je=ue.lane;if((Ro&je)===je)Q!==null&&(Q=Q.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),v=ue.hasEagerState?ue.eagerState:o(v,ue.action);else{var Se={lane:je,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};Q===null?(H=Q=Se,V=v):Q=Q.next=Se,Qt.lanes|=je,Do|=je}ue=ue.next}while(ue!==null&&ue!==E);Q===null?V=v:Q.next=H,Ea(v,u.memoizedState)||(Nn=!0),u.memoizedState=v,u.baseState=V,u.baseQueue=Q,f.lastRenderedState=v}if(o=f.interleaved,o!==null){_=o;do E=_.lane,Qt.lanes|=E,Do|=E,_=_.next;while(_!==o)}else _===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function tv(o){var u=ca(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=f.dispatch,_=f.pending,E=u.memoizedState;if(_!==null){f.pending=null;var V=_=_.next;do E=o(E,V.action),V=V.next;while(V!==_);Ea(E,u.memoizedState)||(Nn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),f.lastRenderedState=E}return[E,v]}function sS(){}function oS(o,u){var f=Qt,v=ca(),_=u(),E=!Ea(v.memoizedState,_);if(E&&(v.memoizedState=_,Nn=!0),v=v.queue,rv(uS.bind(null,f,v,o),[o]),v.getSnapshot!==u||E||Er!==null&&Er.memoizedState.tag&1){if(f.flags|=2048,Uu(9,cS.bind(null,f,v,_,u),void 0,null),Tr===null)throw Error(r(349));(Ro&30)!==0||lS(f,u,_)}return _}function lS(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=Qt.updateQueue,u===null?(u={lastEffect:null,stores:null},Qt.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function cS(o,u,f,v){u.value=f,u.getSnapshot=v,dS(u)&&hS(o)}function uS(o,u,f){return f(function(){dS(u)&&hS(o)})}function dS(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Ea(o,f)}catch{return!0}}function hS(o){var u=Mi(o,1);u!==null&&Ia(u,o,1,-1)}function fS(o){var u=Za();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:o},u.queue=o,o=o.dispatch=D$.bind(null,Qt,o),[u.memoizedState,o]}function Uu(o,u,f,v){return o={tag:o,create:u,destroy:f,deps:v,next:null},u=Qt.updateQueue,u===null?(u={lastEffect:null,stores:null},Qt.updateQueue=u,u.lastEffect=o.next=o):(f=u.lastEffect,f===null?u.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,u.lastEffect=o)),o}function pS(){return ca().memoizedState}function Vf(o,u,f,v){var _=Za();Qt.flags|=o,_.memoizedState=Uu(1|u,f,void 0,v===void 0?null:v)}function Bf(o,u,f,v){var _=ca();v=v===void 0?null:v;var E=void 0;if(xr!==null){var V=xr.memoizedState;if(E=V.destroy,v!==null&&Qg(v,V.deps)){_.memoizedState=Uu(u,f,E,v);return}}Qt.flags|=o,_.memoizedState=Uu(1|u,f,E,v)}function mS(o,u){return Vf(8390656,8,o,u)}function rv(o,u){return Bf(2048,8,o,u)}function gS(o,u){return Bf(4,2,o,u)}function vS(o,u){return Bf(4,4,o,u)}function yS(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function xS(o,u,f){return f=f!=null?f.concat([o]):null,Bf(4,4,yS.bind(null,u,o),f)}function nv(){}function bS(o,u){var f=ca();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Qg(u,v[1])?v[0]:(f.memoizedState=[o,u],o)}function wS(o,u){var f=ca();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Qg(u,v[1])?v[0]:(o=o(),f.memoizedState=[o,u],o)}function _S(o,u,f){return(Ro&21)===0?(o.baseState&&(o.baseState=!1,Nn=!0),o.memoizedState=f):(Ea(f,u)||(f=ko(),Qt.lanes|=f,Do|=f,o.baseState=!0),u)}function O$(o,u){var f=ot;ot=f!==0&&4>f?f:4,o(!0);var v=Xg.transition;Xg.transition={};try{o(!1),u()}finally{ot=f,Xg.transition=v}}function kS(){return ca().memoizedState}function R$(o,u,f){var v=Cs(o);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},jS(o))NS(u,f);else if(f=tS(o,u,f,v),f!==null){var _=hn();Ia(f,o,v,_),SS(f,u,v)}}function D$(o,u,f){var v=Cs(o),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(jS(o))NS(u,_);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var V=u.lastRenderedState,H=E(V,f);if(_.hasEagerState=!0,_.eagerState=H,Ea(H,V)){var Q=u.interleaved;Q===null?(_.next=_,zg(u)):(_.next=Q.next,Q.next=_),u.interleaved=_;return}}catch{}finally{}f=tS(o,u,_,v),f!==null&&(_=hn(),Ia(f,o,v,_),SS(f,u,v))}}function jS(o){var u=o.alternate;return o===Qt||u!==null&&u===Qt}function NS(o,u){Fu=Ff=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function SS(o,u,f){if((f&4194240)!==0){var v=u.lanes;v&=o.pendingLanes,f|=v,u.lanes=f,ms(o,f)}}var Uf={readContext:la,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},M$={readContext:la,useCallback:function(o,u){return Za().memoizedState=[o,u===void 0?null:u],o},useContext:la,useEffect:mS,useImperativeHandle:function(o,u,f){return f=f!=null?f.concat([o]):null,Vf(4194308,4,yS.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Vf(4194308,4,o,u)},useInsertionEffect:function(o,u){return Vf(4,2,o,u)},useMemo:function(o,u){var f=Za();return u=u===void 0?null:u,o=o(),f.memoizedState=[o,u],o},useReducer:function(o,u,f){var v=Za();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},v.queue=o,o=o.dispatch=R$.bind(null,Qt,o),[v.memoizedState,o]},useRef:function(o){var u=Za();return o={current:o},u.memoizedState=o},useState:fS,useDebugValue:nv,useDeferredValue:function(o){return Za().memoizedState=o},useTransition:function(){var o=fS(!1),u=o[0];return o=O$.bind(null,o[1]),Za().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,f){var v=Qt,_=Za();if(zt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Tr===null)throw Error(r(349));(Ro&30)!==0||lS(v,u,f)}_.memoizedState=f;var E={value:f,getSnapshot:u};return _.queue=E,mS(uS.bind(null,v,E,o),[o]),v.flags|=2048,Uu(9,cS.bind(null,v,E,f,u),void 0,null),f},useId:function(){var o=Za(),u=Tr.identifierPrefix;if(zt){var f=Di,v=Ri;f=(v&~(1<<32-cn(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=Vu++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=I$++,u=":"+u+"r"+f.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},L$={readContext:la,useCallback:bS,useContext:la,useEffect:rv,useImperativeHandle:xS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:wS,useReducer:ev,useRef:pS,useState:function(){return ev(Bu)},useDebugValue:nv,useDeferredValue:function(o){var u=ca();return _S(u,xr.memoizedState,o)},useTransition:function(){var o=ev(Bu)[0],u=ca().memoizedState;return[o,u]},useMutableSource:sS,useSyncExternalStore:oS,useId:kS,unstable_isNewReconciler:!1},$$={readContext:la,useCallback:bS,useContext:la,useEffect:rv,useImperativeHandle:xS,useInsertionEffect:gS,useLayoutEffect:vS,useMemo:wS,useReducer:tv,useRef:pS,useState:function(){return tv(Bu)},useDebugValue:nv,useDeferredValue:function(o){var u=ca();return xr===null?u.memoizedState=o:_S(u,xr.memoizedState,o)},useTransition:function(){var o=tv(Bu)[0],u=ca().memoizedState;return[o,u]},useMutableSource:sS,useSyncExternalStore:oS,useId:kS,unstable_isNewReconciler:!1};function Aa(o,u){if(o&&o.defaultProps){u=ee({},u),o=o.defaultProps;for(var f in o)u[f]===void 0&&(u[f]=o[f]);return u}return u}function av(o,u,f,v){u=o.memoizedState,f=f(v,u),f=f==null?u:ee({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var qf={isMounted:function(o){return(o=o._reactInternals)?it(o)===o:!1},enqueueSetState:function(o,u,f){o=o._reactInternals;var v=hn(),_=Cs(o),E=Li(v,_);E.payload=u,f!=null&&(E.callback=f),u=Ss(o,E,_),u!==null&&(Ia(u,o,_,v),Df(u,o,_))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var v=hn(),_=Cs(o),E=Li(v,_);E.tag=1,E.payload=u,f!=null&&(E.callback=f),u=Ss(o,E,_),u!==null&&(Ia(u,o,_,v),Df(u,o,_))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=hn(),v=Cs(o),_=Li(f,v);_.tag=2,u!=null&&(_.callback=u),u=Ss(o,_,v),u!==null&&(Ia(u,o,v,f),Df(u,o,v))}};function ES(o,u,f,v,_,E,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,E,V):u.prototype&&u.prototype.isPureReactComponent?!Tu(f,v)||!Tu(_,E):!0}function TS(o,u,f){var v=!1,_=ks,E=u.contextType;return typeof E=="object"&&E!==null?E=la(E):(_=jn(u)?Ao:Hr.current,v=u.contextTypes,E=(v=v!=null)?Gl(o,_):ks),u=new u(f,E),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qf,o.stateNode=u,u._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=E),u}function AS(o,u,f,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==o&&qf.enqueueReplaceState(u,u.state,null)}function iv(o,u,f,v){var _=o.stateNode;_.props=f,_.state=o.memoizedState,_.refs={},Wg(o);var E=u.contextType;typeof E=="object"&&E!==null?_.context=la(E):(E=jn(u)?Ao:Hr.current,_.context=Gl(o,E)),_.state=o.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(av(o,u,E,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&qf.enqueueReplaceState(_,_.state,null),Mf(o,f,_,v),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function tc(o,u){try{var f="",v=u;do f+=me(v),v=v.return;while(v);var _=f}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:u,stack:_,digest:null}}function sv(o,u,f){return{value:o,source:null,stack:f??null,digest:u??null}}function ov(o,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var F$=typeof WeakMap=="function"?WeakMap:Map;function CS(o,u,f){f=Li(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Xf||(Xf=!0,_v=v),ov(o,u)},f}function PS(o,u,f){f=Li(-1,f),f.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;f.payload=function(){return v(_)},f.callback=function(){ov(o,u)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){ov(o,u),typeof v!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),f}function IS(o,u,f){var v=o.pingCache;if(v===null){v=o.pingCache=new F$;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(f)||(_.add(f),o=Z$.bind(null,o,u,f),u.then(o,o))}function OS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function RS(o,u,f,v,_){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Li(-1,1),u.tag=2,Ss(f,u,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var V$=R.ReactCurrentOwner,Nn=!1;function dn(o,u,f,v){u.child=o===null?eS(u,null,f,v):Ql(u,o.child,f,v)}function DS(o,u,f,v,_){f=f.render;var E=u.ref;return Zl(u,_),v=Jg(o,u,f,v,E,_),f=Zg(),o!==null&&!Nn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,$i(o,u,_)):(zt&&f&&Dg(u),u.flags|=1,dn(o,u,v,_),u.child)}function MS(o,u,f,v,_){if(o===null){var E=f.type;return typeof E=="function"&&!Av(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=E,LS(o,u,E,v,_)):(o=rp(f.type,null,v,u,u.mode,_),o.ref=u.ref,o.return=u,u.child=o)}if(E=o.child,(o.lanes&_)===0){var V=E.memoizedProps;if(f=f.compare,f=f!==null?f:Tu,f(V,v)&&o.ref===u.ref)return $i(o,u,_)}return u.flags|=1,o=Is(E,v),o.ref=u.ref,o.return=u,u.child=o}function LS(o,u,f,v,_){if(o!==null){var E=o.memoizedProps;if(Tu(E,v)&&o.ref===u.ref)if(Nn=!1,u.pendingProps=v=E,(o.lanes&_)!==0)(o.flags&131072)!==0&&(Nn=!0);else return u.lanes=o.lanes,$i(o,u,_)}return lv(o,u,f,v,_)}function $S(o,u,f){var v=u.pendingProps,_=v.children,E=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(nc,qn),qn|=f;else{if((f&1073741824)===0)return o=E!==null?E.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,Ct(nc,qn),qn|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:f,Ct(nc,qn),qn|=v}else E!==null?(v=E.baseLanes|f,u.memoizedState=null):v=f,Ct(nc,qn),qn|=v;return dn(o,u,_,f),u.child}function FS(o,u){var f=u.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function lv(o,u,f,v,_){var E=jn(f)?Ao:Hr.current;return E=Gl(u,E),Zl(u,_),f=Jg(o,u,f,v,E,_),v=Zg(),o!==null&&!Nn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,$i(o,u,_)):(zt&&v&&Dg(u),u.flags|=1,dn(o,u,f,_),u.child)}function VS(o,u,f,v,_){if(jn(f)){var E=!0;Ef(u)}else E=!1;if(Zl(u,_),u.stateNode===null)Wf(o,u),TS(u,f,v),iv(u,f,v,_),v=!0;else if(o===null){var V=u.stateNode,H=u.memoizedProps;V.props=H;var Q=V.context,ue=f.contextType;typeof ue=="object"&&ue!==null?ue=la(ue):(ue=jn(f)?Ao:Hr.current,ue=Gl(u,ue));var je=f.getDerivedStateFromProps,Se=typeof je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Se||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==v||Q!==ue)&&AS(u,V,v,ue),Ns=!1;var ke=u.memoizedState;V.state=ke,Mf(u,v,V,_),Q=u.memoizedState,H!==v||ke!==Q||kn.current||Ns?(typeof je=="function"&&(av(u,f,je,v),Q=u.memoizedState),(H=Ns||ES(u,f,H,v,ke,Q,ue))?(Se||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Q),V.props=v,V.state=Q,V.context=ue,v=H):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{V=u.stateNode,rS(o,u),H=u.memoizedProps,ue=u.type===u.elementType?H:Aa(u.type,H),V.props=ue,Se=u.pendingProps,ke=V.context,Q=f.contextType,typeof Q=="object"&&Q!==null?Q=la(Q):(Q=jn(f)?Ao:Hr.current,Q=Gl(u,Q));var Pe=f.getDerivedStateFromProps;(je=typeof Pe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==Se||ke!==Q)&&AS(u,V,v,Q),Ns=!1,ke=u.memoizedState,V.state=ke,Mf(u,v,V,_);var Le=u.memoizedState;H!==Se||ke!==Le||kn.current||Ns?(typeof Pe=="function"&&(av(u,f,Pe,v),Le=u.memoizedState),(ue=Ns||ES(u,f,ue,v,ke,Le,Q)||!1)?(je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,Le,Q),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,Le,Q)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Le),V.props=v,V.state=Le,V.context=Q,v=ue):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),v=!1)}return cv(o,u,f,v,E,_)}function cv(o,u,f,v,_,E){FS(o,u);var V=(u.flags&128)!==0;if(!v&&!V)return _&&WN(u,f,!1),$i(o,u,E);v=u.stateNode,V$.current=u;var H=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,o!==null&&V?(u.child=Ql(u,o.child,null,E),u.child=Ql(u,null,H,E)):dn(o,u,H,E),u.memoizedState=v.state,_&&WN(u,f,!0),u.child}function BS(o){var u=o.stateNode;u.pendingContext?qN(o,u.pendingContext,u.pendingContext!==u.context):u.context&&qN(o,u.context,!1),Hg(o,u.containerInfo)}function US(o,u,f,v,_){return Xl(),Fg(_),u.flags|=256,dn(o,u,f,v),u.child}var uv={dehydrated:null,treeContext:null,retryLane:0};function dv(o){return{baseLanes:o,cachePool:null,transitions:null}}function qS(o,u,f){var v=u.pendingProps,_=Xt.current,E=!1,V=(u.flags&128)!==0,H;if((H=V)||(H=o!==null&&o.memoizedState===null?!1:(_&2)!==0),H?(E=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Ct(Xt,_&1),o===null)return $g(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=v.children,o=v.fallback,E?(v=u.mode,E=u.child,V={mode:"hidden",children:V},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=V):E=np(V,v,0,null),o=Fo(o,v,f,null),E.return=u,o.return=u,E.sibling=o,u.child=E,u.child.memoizedState=dv(f),u.memoizedState=uv,o):hv(u,V));if(_=o.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return B$(o,u,V,v,H,_,f);if(E){E=v.fallback,V=u.mode,_=o.child,H=_.sibling;var Q={mode:"hidden",children:v.children};return(V&1)===0&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=Q,u.deletions=null):(v=Is(_,Q),v.subtreeFlags=_.subtreeFlags&14680064),H!==null?E=Is(H,E):(E=Fo(E,V,f,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,V=o.child.memoizedState,V=V===null?dv(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},E.memoizedState=V,E.childLanes=o.childLanes&~f,u.memoizedState=uv,v}return E=o.child,o=E.sibling,v=Is(E,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=f),v.return=u,v.sibling=null,o!==null&&(f=u.deletions,f===null?(u.deletions=[o],u.flags|=16):f.push(o)),u.child=v,u.memoizedState=null,v}function hv(o,u){return u=np({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function zf(o,u,f,v){return v!==null&&Fg(v),Ql(u,o.child,null,f),o=hv(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function B$(o,u,f,v,_,E,V){if(f)return u.flags&256?(u.flags&=-257,v=sv(Error(r(422))),zf(o,u,V,v)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(E=v.fallback,_=u.mode,v=np({mode:"visible",children:v.children},_,0,null),E=Fo(E,_,V,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,(u.mode&1)!==0&&Ql(u,o.child,null,V),u.child.memoizedState=dv(V),u.memoizedState=uv,E);if((u.mode&1)===0)return zf(o,u,V,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var H=v.dgst;return v=H,E=Error(r(419)),v=sv(E,v,void 0),zf(o,u,V,v)}if(H=(V&o.childLanes)!==0,Nn||H){if(v=Tr,v!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|V))!==0?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,Mi(o,_),Ia(v,o,_,-1))}return Tv(),v=sv(Error(r(421))),zf(o,u,V,v)}return _.data==="$?"?(u.flags|=128,u.child=o.child,u=e5.bind(null,o),_._reactRetry=u,null):(o=E.treeContext,Un=ws(_.nextSibling),Bn=u,zt=!0,Ta=null,o!==null&&(sa[oa++]=Ri,sa[oa++]=Di,sa[oa++]=Co,Ri=o.id,Di=o.overflow,Co=u),u=hv(u,v.children),u.flags|=4096,u)}function zS(o,u,f){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),qg(o.return,u,f)}function fv(o,u,f,v,_){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=f,E.tailMode=_)}function WS(o,u,f){var v=u.pendingProps,_=v.revealOrder,E=v.tail;if(dn(o,u,v.children,f),v=Xt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zS(o,f,u);else if(o.tag===19)zS(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Ct(Xt,v),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(f=u.child,_=null;f!==null;)o=f.alternate,o!==null&&Lf(o)===null&&(_=f),f=f.sibling;f=_,f===null?(_=u.child,u.child=null):(_=f.sibling,f.sibling=null),fv(u,!1,_,f,E);break;case"backwards":for(f=null,_=u.child,u.child=null;_!==null;){if(o=_.alternate,o!==null&&Lf(o)===null){u.child=_;break}o=_.sibling,_.sibling=f,f=_,_=o}fv(u,!0,f,null,E);break;case"together":fv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Wf(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function $i(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Do|=u.lanes,(f&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Is(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Is(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function U$(o,u,f){switch(u.tag){case 3:BS(u),Xl();break;case 5:iS(u);break;case 1:jn(u.type)&&Ef(u);break;case 4:Hg(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;Ct(Of,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Ct(Xt,Xt.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?qS(o,u,f):(Ct(Xt,Xt.current&1),o=$i(o,u,f),o!==null?o.sibling:null);Ct(Xt,Xt.current&1);break;case 19:if(v=(f&u.childLanes)!==0,(o.flags&128)!==0){if(v)return WS(o,u,f);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ct(Xt,Xt.current),v)break;return null;case 22:case 23:return u.lanes=0,$S(o,u,f)}return $i(o,u,f)}var HS,pv,GS,KS;HS=function(o,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},pv=function(){},GS=function(o,u,f,v){var _=o.memoizedProps;if(_!==v){o=u.stateNode,Oo(Ja.current);var E=null;switch(f){case"input":_=_e(o,_),v=_e(o,v),E=[];break;case"select":_=ee({},_,{value:void 0}),v=ee({},v,{value:void 0}),E=[];break;case"textarea":_=Rr(o,_),v=Rr(o,v),E=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=jf)}ki(f,v);var V;f=null;for(ue in _)if(!v.hasOwnProperty(ue)&&_.hasOwnProperty(ue)&&_[ue]!=null)if(ue==="style"){var H=_[ue];for(V in H)H.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(a.hasOwnProperty(ue)?E||(E=[]):(E=E||[]).push(ue,null));for(ue in v){var Q=v[ue];if(H=_?.[ue],v.hasOwnProperty(ue)&&Q!==H&&(Q!=null||H!=null))if(ue==="style")if(H){for(V in H)!H.hasOwnProperty(V)||Q&&Q.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in Q)Q.hasOwnProperty(V)&&H[V]!==Q[V]&&(f||(f={}),f[V]=Q[V])}else f||(E||(E=[]),E.push(ue,f)),f=Q;else ue==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,H=H?H.__html:void 0,Q!=null&&H!==Q&&(E=E||[]).push(ue,Q)):ue==="children"?typeof Q!="string"&&typeof Q!="number"||(E=E||[]).push(ue,""+Q):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(a.hasOwnProperty(ue)?(Q!=null&&ue==="onScroll"&&Mt("scroll",o),E||H===Q||(E=[])):(E=E||[]).push(ue,Q))}f&&(E=E||[]).push("style",f);var ue=E;(u.updateQueue=ue)&&(u.flags|=4)}},KS=function(o,u,f,v){f!==v&&(u.flags|=4)};function qu(o,u){if(!zt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Kr(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(u)for(var _=o.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=v,o.childLanes=f,u}function q$(o,u,f){var v=u.pendingProps;switch(Mg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(u),null;case 1:return jn(u.type)&&Sf(),Kr(u),null;case 3:return v=u.stateNode,ec(),Lt(kn),Lt(Hr),Yg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(Pf(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ta!==null&&(Nv(Ta),Ta=null))),pv(o,u),Kr(u),null;case 5:Gg(u);var _=Oo($u.current);if(f=u.type,o!==null&&u.stateNode!=null)GS(o,u,f,v,_),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Kr(u),null}if(o=Oo(Ja.current),Pf(u)){v=u.stateNode,f=u.type;var E=u.memoizedProps;switch(v[Qa]=u,v[Ou]=E,o=(u.mode&1)!==0,f){case"dialog":Mt("cancel",v),Mt("close",v);break;case"iframe":case"object":case"embed":Mt("load",v);break;case"video":case"audio":for(_=0;_<Cu.length;_++)Mt(Cu[_],v);break;case"source":Mt("error",v);break;case"img":case"image":case"link":Mt("error",v),Mt("load",v);break;case"details":Mt("toggle",v);break;case"input":Ie(v,E),Mt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Mt("invalid",v);break;case"textarea":on(v,E),Mt("invalid",v)}ki(f,E),_=null;for(var V in E)if(E.hasOwnProperty(V)){var H=E[V];V==="children"?typeof H=="string"?v.textContent!==H&&(E.suppressHydrationWarning!==!0&&kf(v.textContent,H,o),_=["children",H]):typeof H=="number"&&v.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&kf(v.textContent,H,o),_=["children",""+H]):a.hasOwnProperty(V)&&H!=null&&V==="onScroll"&&Mt("scroll",v)}switch(f){case"input":xe(v),gr(v,E,!0);break;case"textarea":xe(v),Rn(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=jf)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ht(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=V.createElement(f,{is:v.is}):(o=V.createElement(f),f==="select"&&(V=o,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):o=V.createElementNS(o,f),o[Qa]=u,o[Ou]=v,HS(o,u,!1,!1),u.stateNode=o;e:{switch(V=Qn(f,v),f){case"dialog":Mt("cancel",o),Mt("close",o),_=v;break;case"iframe":case"object":case"embed":Mt("load",o),_=v;break;case"video":case"audio":for(_=0;_<Cu.length;_++)Mt(Cu[_],o);_=v;break;case"source":Mt("error",o),_=v;break;case"img":case"image":case"link":Mt("error",o),Mt("load",o),_=v;break;case"details":Mt("toggle",o),_=v;break;case"input":Ie(o,v),_=_e(o,v),Mt("invalid",o);break;case"option":_=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},_=ee({},v,{value:void 0}),Mt("invalid",o);break;case"textarea":on(o,v),_=Rr(o,v),Mt("invalid",o);break;default:_=v}ki(f,_),H=_;for(E in H)if(H.hasOwnProperty(E)){var Q=H[E];E==="style"?mo(o,Q):E==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&gt(o,Q)):E==="children"?typeof Q=="string"?(f!=="textarea"||Q!=="")&&za(o,Q):typeof Q=="number"&&za(o,""+Q):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?Q!=null&&E==="onScroll"&&Mt("scroll",o):Q!=null&&P(o,E,Q,V))}switch(f){case"input":xe(o),gr(o,v,!1);break;case"textarea":xe(o),Rn(o);break;case"option":v.value!=null&&o.setAttribute("value",""+be(v.value));break;case"select":o.multiple=!!v.multiple,E=v.value,E!=null?Dt(o,!!v.multiple,E,!1):v.defaultValue!=null&&Dt(o,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=jf)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Kr(u),null;case 6:if(o&&u.stateNode!=null)KS(o,u,o.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(f=Oo($u.current),Oo(Ja.current),Pf(u)){if(v=u.stateNode,f=u.memoizedProps,v[Qa]=u,(E=v.nodeValue!==f)&&(o=Bn,o!==null))switch(o.tag){case 3:kf(v.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&kf(v.nodeValue,f,(o.mode&1)!==0)}E&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Qa]=u,u.stateNode=v}return Kr(u),null;case 13:if(Lt(Xt),v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(zt&&Un!==null&&(u.mode&1)!==0&&(u.flags&128)===0)QN(),Xl(),u.flags|=98560,E=!1;else if(E=Pf(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Qa]=u}else Xl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kr(u),E=!1}else Ta!==null&&(Nv(Ta),Ta=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Xt.current&1)!==0?br===0&&(br=3):Tv())),u.updateQueue!==null&&(u.flags|=4),Kr(u),null);case 4:return ec(),pv(o,u),o===null&&Pu(u.stateNode.containerInfo),Kr(u),null;case 10:return Ug(u.type._context),Kr(u),null;case 17:return jn(u.type)&&Sf(),Kr(u),null;case 19:if(Lt(Xt),E=u.memoizedState,E===null)return Kr(u),null;if(v=(u.flags&128)!==0,V=E.rendering,V===null)if(v)qu(E,!1);else{if(br!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(V=Lf(o),V!==null){for(u.flags|=128,qu(E,!1),v=V.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)E=f,o=v,E.flags&=14680066,V=E.alternate,V===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=V.childLanes,E.lanes=V.lanes,E.child=V.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=V.memoizedProps,E.memoizedState=V.memoizedState,E.updateQueue=V.updateQueue,E.type=V.type,o=V.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Ct(Xt,Xt.current&1|2),u.child}o=o.sibling}E.tail!==null&&At()>ac&&(u.flags|=128,v=!0,qu(E,!1),u.lanes=4194304)}else{if(!v)if(o=Lf(V),o!==null){if(u.flags|=128,v=!0,f=o.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),qu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!V.alternate&&!zt)return Kr(u),null}else 2*At()-E.renderingStartTime>ac&&f!==1073741824&&(u.flags|=128,v=!0,qu(E,!1),u.lanes=4194304);E.isBackwards?(V.sibling=u.child,u.child=V):(f=E.last,f!==null?f.sibling=V:u.child=V,E.last=V)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=At(),u.sibling=null,f=Xt.current,Ct(Xt,v?f&1|2:f&1),u):(Kr(u),null);case 22:case 23:return Ev(),v=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(qn&1073741824)!==0&&(Kr(u),u.subtreeFlags&6&&(u.flags|=8192)):Kr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function z$(o,u){switch(Mg(u),u.tag){case 1:return jn(u.type)&&Sf(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return ec(),Lt(kn),Lt(Hr),Yg(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Gg(u),null;case 13:if(Lt(Xt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Xl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Lt(Xt),null;case 4:return ec(),null;case 10:return Ug(u.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var Hf=!1,Yr=!1,W$=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function rc(o,u){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){tr(o,u,v)}else f.current=null}function mv(o,u,f){try{f()}catch(v){tr(o,u,v)}}var YS=!1;function H$(o,u){if(Eg=ys,o=EN(),xg(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var _=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var V=0,H=-1,Q=-1,ue=0,je=0,Se=o,ke=null;t:for(;;){for(var Pe;Se!==f||_!==0&&Se.nodeType!==3||(H=V+_),Se!==E||v!==0&&Se.nodeType!==3||(Q=V+v),Se.nodeType===3&&(V+=Se.nodeValue.length),(Pe=Se.firstChild)!==null;)ke=Se,Se=Pe;for(;;){if(Se===o)break t;if(ke===f&&++ue===_&&(H=V),ke===E&&++je===v&&(Q=V),(Pe=Se.nextSibling)!==null)break;Se=ke,ke=Se.parentNode}Se=Pe}f=H===-1||Q===-1?null:{start:H,end:Q}}else f=null}f=f||{start:0,end:0}}else f=null;for(Tg={focusedElem:o,selectionRange:f},ys=!1,Oe=u;Oe!==null;)if(u=Oe,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Oe=o;else for(;Oe!==null;){u=Oe;try{var Le=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var $e=Le.memoizedProps,sr=Le.memoizedState,se=u.stateNode,Z=se.getSnapshotBeforeUpdate(u.elementType===u.type?$e:Aa(u.type,$e),sr);se.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var le=u.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){tr(u,u.return,Ee)}if(o=u.sibling,o!==null){o.return=u.return,Oe=o;break}Oe=u.return}return Le=YS,YS=!1,Le}function zu(o,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&o)===o){var E=_.destroy;_.destroy=void 0,E!==void 0&&mv(u,f,E)}_=_.next}while(_!==v)}}function Gf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&o)===o){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function gv(o){var u=o.ref;if(u!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof u=="function"?u(o):u.current=o}}function XS(o){var u=o.alternate;u!==null&&(o.alternate=null,XS(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Qa],delete u[Ou],delete u[Ig],delete u[T$],delete u[A$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function QS(o){return o.tag===5||o.tag===3||o.tag===4}function JS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||QS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vv(o,u,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(o,u):f.insertBefore(o,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(o,f)):(u=f,u.appendChild(o)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=jf));else if(v!==4&&(o=o.child,o!==null))for(vv(o,u,f),o=o.sibling;o!==null;)vv(o,u,f),o=o.sibling}function yv(o,u,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(yv(o,u,f),o=o.sibling;o!==null;)yv(o,u,f),o=o.sibling}var Lr=null,Ca=!1;function Es(o,u,f){for(f=f.child;f!==null;)ZS(o,u,f),f=f.sibling}function ZS(o,u,f){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(wo,f)}catch{}switch(f.tag){case 5:Yr||rc(f,u);case 6:var v=Lr,_=Ca;Lr=null,Es(o,u,f),Lr=v,Ca=_,Lr!==null&&(Ca?(o=Lr,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Lr.removeChild(f.stateNode));break;case 18:Lr!==null&&(Ca?(o=Lr,f=f.stateNode,o.nodeType===8?Pg(o.parentNode,f):o.nodeType===1&&Pg(o,f),Na(o)):Pg(Lr,f.stateNode));break;case 4:v=Lr,_=Ca,Lr=f.stateNode.containerInfo,Ca=!0,Es(o,u,f),Lr=v,Ca=_;break;case 0:case 11:case 14:case 15:if(!Yr&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var E=_,V=E.destroy;E=E.tag,V!==void 0&&((E&2)!==0||(E&4)!==0)&&mv(f,u,V),_=_.next}while(_!==v)}Es(o,u,f);break;case 1:if(!Yr&&(rc(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(H){tr(f,u,H)}Es(o,u,f);break;case 21:Es(o,u,f);break;case 22:f.mode&1?(Yr=(v=Yr)||f.memoizedState!==null,Es(o,u,f),Yr=v):Es(o,u,f);break;default:Es(o,u,f)}}function eE(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new W$),u.forEach(function(v){var _=t5.bind(null,o,v);f.has(v)||(f.add(v),v.then(_,_))})}}function Pa(o,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var E=o,V=u,H=V;e:for(;H!==null;){switch(H.tag){case 5:Lr=H.stateNode,Ca=!1;break e;case 3:Lr=H.stateNode.containerInfo,Ca=!0;break e;case 4:Lr=H.stateNode.containerInfo,Ca=!0;break e}H=H.return}if(Lr===null)throw Error(r(160));ZS(E,V,_),Lr=null,Ca=!1;var Q=_.alternate;Q!==null&&(Q.return=null),_.return=null}catch(ue){tr(_,u,ue)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)tE(u,o),u=u.sibling}function tE(o,u){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Pa(u,o),ei(o),v&4){try{zu(3,o,o.return),Gf(3,o)}catch($e){tr(o,o.return,$e)}try{zu(5,o,o.return)}catch($e){tr(o,o.return,$e)}}break;case 1:Pa(u,o),ei(o),v&512&&f!==null&&rc(f,f.return);break;case 5:if(Pa(u,o),ei(o),v&512&&f!==null&&rc(f,f.return),o.flags&32){var _=o.stateNode;try{za(_,"")}catch($e){tr(o,o.return,$e)}}if(v&4&&(_=o.stateNode,_!=null)){var E=o.memoizedProps,V=f!==null?f.memoizedProps:E,H=o.type,Q=o.updateQueue;if(o.updateQueue=null,Q!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&Ue(_,E),Qn(H,V);var ue=Qn(H,E);for(V=0;V<Q.length;V+=2){var je=Q[V],Se=Q[V+1];je==="style"?mo(_,Se):je==="dangerouslySetInnerHTML"?gt(_,Se):je==="children"?za(_,Se):P(_,je,Se,ue)}switch(H){case"input":Zt(_,E);break;case"textarea":lr(_,E);break;case"select":var ke=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var Pe=E.value;Pe!=null?Dt(_,!!E.multiple,Pe,!1):ke!==!!E.multiple&&(E.defaultValue!=null?Dt(_,!!E.multiple,E.defaultValue,!0):Dt(_,!!E.multiple,E.multiple?[]:"",!1))}_[Ou]=E}catch($e){tr(o,o.return,$e)}}break;case 6:if(Pa(u,o),ei(o),v&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,E=o.memoizedProps;try{_.nodeValue=E}catch($e){tr(o,o.return,$e)}}break;case 3:if(Pa(u,o),ei(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Na(u.containerInfo)}catch($e){tr(o,o.return,$e)}break;case 4:Pa(u,o),ei(o);break;case 13:Pa(u,o),ei(o),_=o.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(wv=At())),v&4&&eE(o);break;case 22:if(je=f!==null&&f.memoizedState!==null,o.mode&1?(Yr=(ue=Yr)||je,Pa(u,o),Yr=ue):Pa(u,o),ei(o),v&8192){if(ue=o.memoizedState!==null,(o.stateNode.isHidden=ue)&&!je&&(o.mode&1)!==0)for(Oe=o,je=o.child;je!==null;){for(Se=Oe=je;Oe!==null;){switch(ke=Oe,Pe=ke.child,ke.tag){case 0:case 11:case 14:case 15:zu(4,ke,ke.return);break;case 1:rc(ke,ke.return);var Le=ke.stateNode;if(typeof Le.componentWillUnmount=="function"){v=ke,f=ke.return;try{u=v,Le.props=u.memoizedProps,Le.state=u.memoizedState,Le.componentWillUnmount()}catch($e){tr(v,f,$e)}}break;case 5:rc(ke,ke.return);break;case 22:if(ke.memoizedState!==null){aE(Se);continue}}Pe!==null?(Pe.return=ke,Oe=Pe):aE(Se)}je=je.sibling}e:for(je=null,Se=o;;){if(Se.tag===5){if(je===null){je=Se;try{_=Se.stateNode,ue?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=Se.stateNode,Q=Se.memoizedProps.style,V=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,H.style.display=xn("display",V))}catch($e){tr(o,o.return,$e)}}}else if(Se.tag===6){if(je===null)try{Se.stateNode.nodeValue=ue?"":Se.memoizedProps}catch($e){tr(o,o.return,$e)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===o)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===o)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===o)break e;je===Se&&(je=null),Se=Se.return}je===Se&&(je=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Pa(u,o),ei(o),v&4&&eE(o);break;case 21:break;default:Pa(u,o),ei(o)}}function ei(o){var u=o.flags;if(u&2){try{e:{for(var f=o.return;f!==null;){if(QS(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(za(_,""),v.flags&=-33);var E=JS(o);yv(o,E,_);break;case 3:case 4:var V=v.stateNode.containerInfo,H=JS(o);vv(o,H,V);break;default:throw Error(r(161))}}catch(Q){tr(o,o.return,Q)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function G$(o,u,f){Oe=o,rE(o)}function rE(o,u,f){for(var v=(o.mode&1)!==0;Oe!==null;){var _=Oe,E=_.child;if(_.tag===22&&v){var V=_.memoizedState!==null||Hf;if(!V){var H=_.alternate,Q=H!==null&&H.memoizedState!==null||Yr;H=Hf;var ue=Yr;if(Hf=V,(Yr=Q)&&!ue)for(Oe=_;Oe!==null;)V=Oe,Q=V.child,V.tag===22&&V.memoizedState!==null?iE(_):Q!==null?(Q.return=V,Oe=Q):iE(_);for(;E!==null;)Oe=E,rE(E),E=E.sibling;Oe=_,Hf=H,Yr=ue}nE(o)}else(_.subtreeFlags&8772)!==0&&E!==null?(E.return=_,Oe=E):nE(o)}}function nE(o){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Yr||Gf(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Yr)if(f===null)v.componentDidMount();else{var _=u.elementType===u.type?f.memoizedProps:Aa(u.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&aS(u,E,v);break;case 3:var V=u.updateQueue;if(V!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}aS(u,V,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var Q=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&f.focus();break;case"img":Q.src&&(f.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ue=u.alternate;if(ue!==null){var je=ue.memoizedState;if(je!==null){var Se=je.dehydrated;Se!==null&&Na(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yr||u.flags&512&&gv(u)}catch(ke){tr(u,u.return,ke)}}if(u===o){Oe=null;break}if(f=u.sibling,f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function aE(o){for(;Oe!==null;){var u=Oe;if(u===o){Oe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function iE(o){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Gf(4,u)}catch(Q){tr(u,f,Q)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(Q){tr(u,_,Q)}}var E=u.return;try{gv(u)}catch(Q){tr(u,E,Q)}break;case 5:var V=u.return;try{gv(u)}catch(Q){tr(u,V,Q)}}}catch(Q){tr(u,u.return,Q)}if(u===o){Oe=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Oe=H;break}Oe=u.return}}var K$=Math.ceil,Kf=R.ReactCurrentDispatcher,xv=R.ReactCurrentOwner,ua=R.ReactCurrentBatchConfig,ht=0,Tr=null,ur=null,$r=0,qn=0,nc=_s(0),br=0,Wu=null,Do=0,Yf=0,bv=0,Hu=null,Sn=null,wv=0,ac=1/0,Fi=null,Xf=!1,_v=null,Ts=null,Qf=!1,As=null,Jf=0,Gu=0,kv=null,Zf=-1,ep=0;function hn(){return(ht&6)!==0?At():Zf!==-1?Zf:Zf=At()}function Cs(o){return(o.mode&1)===0?1:(ht&2)!==0&&$r!==0?$r&-$r:P$.transition!==null?(ep===0&&(ep=ko()),ep):(o=ot,o!==0||(o=window.event,o=o===void 0?16:wu(o.type)),o)}function Ia(o,u,f,v){if(50<Gu)throw Gu=0,kv=null,Error(r(185));ps(o,f,v),((ht&2)===0||o!==Tr)&&(o===Tr&&((ht&2)===0&&(Yf|=f),br===4&&Ps(o,$r)),En(o,v),f===1&&ht===0&&(u.mode&1)===0&&(ac=At()+500,Tf&&js()))}function En(o,u){var f=o.callbackNode;Ei(o,u);var v=_o(o,o===Tr?$r:0);if(v===0)f!==null&&Mn(f),o.callbackNode=null,o.callbackPriority=0;else if(u=v&-v,o.callbackPriority!==u){if(f!=null&&Mn(f),u===1)o.tag===0?C$(oE.bind(null,o)):HN(oE.bind(null,o)),S$(function(){(ht&6)===0&&js()}),f=null;else{switch(gs(v)){case 1:f=bo;break;case 4:f=ds;break;case 16:f=na;break;case 536870912:f=Zh;break;default:f=na}f=mE(f,sE.bind(null,o))}o.callbackPriority=u,o.callbackNode=f}}function sE(o,u){if(Zf=-1,ep=0,(ht&6)!==0)throw Error(r(327));var f=o.callbackNode;if(ic()&&o.callbackNode!==f)return null;var v=_o(o,o===Tr?$r:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||u)u=tp(o,v);else{u=v;var _=ht;ht|=2;var E=cE();(Tr!==o||$r!==u)&&(Fi=null,ac=At()+500,Lo(o,u));do try{Q$();break}catch(H){lE(o,H)}while(!0);Bg(),Kf.current=E,ht=_,ur!==null?u=0:(Tr=null,$r=0,u=br)}if(u!==0){if(u===2&&(_=$n(o),_!==0&&(v=_,u=jv(o,_))),u===1)throw f=Wu,Lo(o,0),Ps(o,v),En(o,At()),f;if(u===6)Ps(o,v);else{if(_=o.current.alternate,(v&30)===0&&!Y$(_)&&(u=tp(o,v),u===2&&(E=$n(o),E!==0&&(v=E,u=jv(o,E))),u===1))throw f=Wu,Lo(o,0),Ps(o,v),En(o,At()),f;switch(o.finishedWork=_,o.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:$o(o,Sn,Fi);break;case 3:if(Ps(o,v),(v&130023424)===v&&(u=wv+500-At(),10<u)){if(_o(o,0)!==0)break;if(_=o.suspendedLanes,(_&v)!==v){hn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Cg($o.bind(null,o,Sn,Fi),u);break}$o(o,Sn,Fi);break;case 4:if(Ps(o,v),(v&4194240)===v)break;for(u=o.eventTimes,_=-1;0<v;){var V=31-cn(v);E=1<<V,V=u[V],V>_&&(_=V),v&=~E}if(v=_,v=At()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*K$(v/1960))-v,10<v){o.timeoutHandle=Cg($o.bind(null,o,Sn,Fi),v);break}$o(o,Sn,Fi);break;case 5:$o(o,Sn,Fi);break;default:throw Error(r(329))}}}return En(o,At()),o.callbackNode===f?sE.bind(null,o):null}function jv(o,u){var f=Hu;return o.current.memoizedState.isDehydrated&&(Lo(o,u).flags|=256),o=tp(o,u),o!==2&&(u=Sn,Sn=f,u!==null&&Nv(u)),o}function Nv(o){Sn===null?Sn=o:Sn.push.apply(Sn,o)}function Y$(o){for(var u=o;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],E=_.getSnapshot;_=_.value;try{if(!Ea(E(),_))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ps(o,u){for(u&=~bv,u&=~Yf,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var f=31-cn(u),v=1<<f;o[f]=-1,u&=~v}}function oE(o){if((ht&6)!==0)throw Error(r(327));ic();var u=_o(o,0);if((u&1)===0)return En(o,At()),null;var f=tp(o,u);if(o.tag!==0&&f===2){var v=$n(o);v!==0&&(u=v,f=jv(o,v))}if(f===1)throw f=Wu,Lo(o,0),Ps(o,u),En(o,At()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,$o(o,Sn,Fi),En(o,At()),null}function Sv(o,u){var f=ht;ht|=1;try{return o(u)}finally{ht=f,ht===0&&(ac=At()+500,Tf&&js())}}function Mo(o){As!==null&&As.tag===0&&(ht&6)===0&&ic();var u=ht;ht|=1;var f=ua.transition,v=ot;try{if(ua.transition=null,ot=1,o)return o()}finally{ot=v,ua.transition=f,ht=u,(ht&6)===0&&js()}}function Ev(){qn=nc.current,Lt(nc)}function Lo(o,u){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,N$(f)),ur!==null)for(f=ur.return;f!==null;){var v=f;switch(Mg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Sf();break;case 3:ec(),Lt(kn),Lt(Hr),Yg();break;case 5:Gg(v);break;case 4:ec();break;case 13:Lt(Xt);break;case 19:Lt(Xt);break;case 10:Ug(v.type._context);break;case 22:case 23:Ev()}f=f.return}if(Tr=o,ur=o=Is(o.current,null),$r=qn=u,br=0,Wu=null,bv=Yf=Do=0,Sn=Hu=null,Io!==null){for(u=0;u<Io.length;u++)if(f=Io[u],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,E=f.pending;if(E!==null){var V=E.next;E.next=_,v.next=V}f.pending=v}Io=null}return o}function lE(o,u){do{var f=ur;try{if(Bg(),$f.current=Uf,Ff){for(var v=Qt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Ff=!1}if(Ro=0,Er=xr=Qt=null,Fu=!1,Vu=0,xv.current=null,f===null||f.return===null){br=1,Wu=u,ur=null;break}e:{var E=o,V=f.return,H=f,Q=u;if(u=$r,H.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ue=Q,je=H,Se=je.tag;if((je.mode&1)===0&&(Se===0||Se===11||Se===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var Pe=OS(V);if(Pe!==null){Pe.flags&=-257,RS(Pe,V,H,E,u),Pe.mode&1&&IS(E,ue,u),u=Pe,Q=ue;var Le=u.updateQueue;if(Le===null){var $e=new Set;$e.add(Q),u.updateQueue=$e}else Le.add(Q);break e}else{if((u&1)===0){IS(E,ue,u),Tv();break e}Q=Error(r(426))}}else if(zt&&H.mode&1){var sr=OS(V);if(sr!==null){(sr.flags&65536)===0&&(sr.flags|=256),RS(sr,V,H,E,u),Fg(tc(Q,H));break e}}E=Q=tc(Q,H),br!==4&&(br=2),Hu===null?Hu=[E]:Hu.push(E),E=V;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var se=CS(E,Q,u);nS(E,se);break e;case 1:H=Q;var Z=E.type,le=E.stateNode;if((E.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ts===null||!Ts.has(le)))){E.flags|=65536,u&=-u,E.lanes|=u;var Ee=PS(E,H,u);nS(E,Ee);break e}}E=E.return}while(E!==null)}dE(f)}catch(Be){u=Be,ur===f&&f!==null&&(ur=f=f.return);continue}break}while(!0)}function cE(){var o=Kf.current;return Kf.current=Uf,o===null?Uf:o}function Tv(){(br===0||br===3||br===2)&&(br=4),Tr===null||(Do&268435455)===0&&(Yf&268435455)===0||Ps(Tr,$r)}function tp(o,u){var f=ht;ht|=2;var v=cE();(Tr!==o||$r!==u)&&(Fi=null,Lo(o,u));do try{X$();break}catch(_){lE(o,_)}while(!0);if(Bg(),ht=f,Kf.current=v,ur!==null)throw Error(r(261));return Tr=null,$r=0,br}function X$(){for(;ur!==null;)uE(ur)}function Q$(){for(;ur!==null&&!ra();)uE(ur)}function uE(o){var u=pE(o.alternate,o,qn);o.memoizedProps=o.pendingProps,u===null?dE(o):ur=u,xv.current=null}function dE(o){var u=o;do{var f=u.alternate;if(o=u.return,(u.flags&32768)===0){if(f=q$(f,u,qn),f!==null){ur=f;return}}else{if(f=z$(f,u),f!==null){f.flags&=32767,ur=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{br=6,ur=null;return}}if(u=u.sibling,u!==null){ur=u;return}ur=u=o}while(u!==null);br===0&&(br=5)}function $o(o,u,f){var v=ot,_=ua.transition;try{ua.transition=null,ot=1,J$(o,u,f,v)}finally{ua.transition=_,ot=v}return null}function J$(o,u,f,v){do ic();while(As!==null);if((ht&6)!==0)throw Error(r(327));f=o.finishedWork;var _=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var E=f.lanes|f.childLanes;if(jt(o,E),o===Tr&&(ur=Tr=null,$r=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Qf||(Qf=!0,mE(na,function(){return ic(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=ua.transition,ua.transition=null;var V=ot;ot=1;var H=ht;ht|=4,xv.current=null,H$(o,f),tE(f,o),y$(Tg),ys=!!Eg,Tg=Eg=null,o.current=f,G$(f),Yt(),ht=H,ot=V,ua.transition=E}else o.current=f;if(Qf&&(Qf=!1,As=o,Jf=_),E=o.pendingLanes,E===0&&(Ts=null),ef(f.stateNode),En(o,At()),u!==null)for(v=o.onRecoverableError,f=0;f<u.length;f++)_=u[f],v(_.value,{componentStack:_.stack,digest:_.digest});if(Xf)throw Xf=!1,o=_v,_v=null,o;return(Jf&1)!==0&&o.tag!==0&&ic(),E=o.pendingLanes,(E&1)!==0?o===kv?Gu++:(Gu=0,kv=o):Gu=0,js(),null}function ic(){if(As!==null){var o=gs(Jf),u=ua.transition,f=ot;try{if(ua.transition=null,ot=16>o?16:o,As===null)var v=!1;else{if(o=As,As=null,Jf=0,(ht&6)!==0)throw Error(r(331));var _=ht;for(ht|=4,Oe=o.current;Oe!==null;){var E=Oe,V=E.child;if((Oe.flags&16)!==0){var H=E.deletions;if(H!==null){for(var Q=0;Q<H.length;Q++){var ue=H[Q];for(Oe=ue;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:zu(8,je,E)}var Se=je.child;if(Se!==null)Se.return=je,Oe=Se;else for(;Oe!==null;){je=Oe;var ke=je.sibling,Pe=je.return;if(XS(je),je===ue){Oe=null;break}if(ke!==null){ke.return=Pe,Oe=ke;break}Oe=Pe}}}var Le=E.alternate;if(Le!==null){var $e=Le.child;if($e!==null){Le.child=null;do{var sr=$e.sibling;$e.sibling=null,$e=sr}while($e!==null)}}Oe=E}}if((E.subtreeFlags&2064)!==0&&V!==null)V.return=E,Oe=V;else e:for(;Oe!==null;){if(E=Oe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:zu(9,E,E.return)}var se=E.sibling;if(se!==null){se.return=E.return,Oe=se;break e}Oe=E.return}}var Z=o.current;for(Oe=Z;Oe!==null;){V=Oe;var le=V.child;if((V.subtreeFlags&2064)!==0&&le!==null)le.return=V,Oe=le;else e:for(V=Z;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Gf(9,H)}}catch(Be){tr(H,H.return,Be)}if(H===V){Oe=null;break e}var Ee=H.sibling;if(Ee!==null){Ee.return=H.return,Oe=Ee;break e}Oe=H.return}}if(ht=_,js(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(wo,o)}catch{}v=!0}return v}finally{ot=f,ua.transition=u}}return!1}function hE(o,u,f){u=tc(f,u),u=CS(o,u,1),o=Ss(o,u,1),u=hn(),o!==null&&(ps(o,1,u),En(o,u))}function tr(o,u,f){if(o.tag===3)hE(o,o,f);else for(;u!==null;){if(u.tag===3){hE(u,o,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ts===null||!Ts.has(v))){o=tc(f,o),o=PS(u,o,1),u=Ss(u,o,1),o=hn(),u!==null&&(ps(u,1,o),En(u,o));break}}u=u.return}}function Z$(o,u,f){var v=o.pingCache;v!==null&&v.delete(u),u=hn(),o.pingedLanes|=o.suspendedLanes&f,Tr===o&&($r&f)===f&&(br===4||br===3&&($r&130023424)===$r&&500>At()-wv?Lo(o,0):bv|=f),En(o,u)}function fE(o,u){u===0&&((o.mode&1)===0?u=1:(u=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var f=hn();o=Mi(o,u),o!==null&&(ps(o,u,f),En(o,f))}function e5(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),fE(o,f)}function t5(o,u){var f=0;switch(o.tag){case 13:var v=o.stateNode,_=o.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),fE(o,f)}var pE;pE=function(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps||kn.current)Nn=!0;else{if((o.lanes&f)===0&&(u.flags&128)===0)return Nn=!1,U$(o,u,f);Nn=(o.flags&131072)!==0}else Nn=!1,zt&&(u.flags&1048576)!==0&&GN(u,Cf,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Wf(o,u),o=u.pendingProps;var _=Gl(u,Hr.current);Zl(u,f),_=Jg(null,u,v,o,_,f);var E=Zg();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,jn(v)?(E=!0,Ef(u)):E=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Wg(u),_.updater=qf,u.stateNode=_,_._reactInternals=u,iv(u,v,o,f),u=cv(null,u,v,!0,E,f)):(u.tag=0,zt&&E&&Dg(u),dn(null,u,_,f),u=u.child),u;case 16:v=u.elementType;e:{switch(Wf(o,u),o=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=n5(v),o=Aa(v,o),_){case 0:u=lv(null,u,v,o,f);break e;case 1:u=VS(null,u,v,o,f);break e;case 11:u=DS(null,u,v,o,f);break e;case 14:u=MS(null,u,v,Aa(v.type,o),f);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Aa(v,_),lv(o,u,v,_,f);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Aa(v,_),VS(o,u,v,_,f);case 3:e:{if(BS(u),o===null)throw Error(r(387));v=u.pendingProps,E=u.memoizedState,_=E.element,rS(o,u),Mf(u,v,null,f);var V=u.memoizedState;if(v=V.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){_=tc(Error(r(423)),u),u=US(o,u,v,f,_);break e}else if(v!==_){_=tc(Error(r(424)),u),u=US(o,u,v,f,_);break e}else for(Un=ws(u.stateNode.containerInfo.firstChild),Bn=u,zt=!0,Ta=null,f=eS(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Xl(),v===_){u=$i(o,u,f);break e}dn(o,u,v,f)}u=u.child}return u;case 5:return iS(u),o===null&&$g(u),v=u.type,_=u.pendingProps,E=o!==null?o.memoizedProps:null,V=_.children,Ag(v,_)?V=null:E!==null&&Ag(v,E)&&(u.flags|=32),FS(o,u),dn(o,u,V,f),u.child;case 6:return o===null&&$g(u),null;case 13:return qS(o,u,f);case 4:return Hg(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Ql(u,null,v,f):dn(o,u,v,f),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Aa(v,_),DS(o,u,v,_,f);case 7:return dn(o,u,u.pendingProps,f),u.child;case 8:return dn(o,u,u.pendingProps.children,f),u.child;case 12:return dn(o,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,E=u.memoizedProps,V=_.value,Ct(Of,v._currentValue),v._currentValue=V,E!==null)if(Ea(E.value,V)){if(E.children===_.children&&!kn.current){u=$i(o,u,f);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var H=E.dependencies;if(H!==null){V=E.child;for(var Q=H.firstContext;Q!==null;){if(Q.context===v){if(E.tag===1){Q=Li(-1,f&-f),Q.tag=2;var ue=E.updateQueue;if(ue!==null){ue=ue.shared;var je=ue.pending;je===null?Q.next=Q:(Q.next=je.next,je.next=Q),ue.pending=Q}}E.lanes|=f,Q=E.alternate,Q!==null&&(Q.lanes|=f),qg(E.return,f,u),H.lanes|=f;break}Q=Q.next}}else if(E.tag===10)V=E.type===u.type?null:E.child;else if(E.tag===18){if(V=E.return,V===null)throw Error(r(341));V.lanes|=f,H=V.alternate,H!==null&&(H.lanes|=f),qg(V,f,u),V=E.sibling}else V=E.child;if(V!==null)V.return=E;else for(V=E;V!==null;){if(V===u){V=null;break}if(E=V.sibling,E!==null){E.return=V.return,V=E;break}V=V.return}E=V}dn(o,u,_.children,f),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,Zl(u,f),_=la(_),v=v(_),u.flags|=1,dn(o,u,v,f),u.child;case 14:return v=u.type,_=Aa(v,u.pendingProps),_=Aa(v.type,_),MS(o,u,v,_,f);case 15:return LS(o,u,u.type,u.pendingProps,f);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Aa(v,_),Wf(o,u),u.tag=1,jn(v)?(o=!0,Ef(u)):o=!1,Zl(u,f),TS(u,v,_),iv(u,v,_,f),cv(null,u,v,!0,o,f);case 19:return WS(o,u,f);case 22:return $S(o,u,f)}throw Error(r(156,u.tag))};function mE(o,u){return er(o,u)}function r5(o,u,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(o,u,f,v){return new r5(o,u,f,v)}function Av(o){return o=o.prototype,!(!o||!o.isReactComponent)}function n5(o){if(typeof o=="function")return Av(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===ne)return 14}return 2}function Is(o,u){var f=o.alternate;return f===null?(f=da(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function rp(o,u,f,v,_,E){var V=2;if(v=o,typeof o=="function")Av(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case A:return Fo(f.children,_,E,u);case I:V=8,_|=8;break;case L:return o=da(12,f,u,_|2),o.elementType=L,o.lanes=E,o;case $:return o=da(13,f,u,_),o.elementType=$,o.lanes=E,o;case te:return o=da(19,f,u,_),o.elementType=te,o.lanes=E,o;case oe:return np(f,_,E,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:V=10;break e;case D:V=9;break e;case F:V=11;break e;case ne:V=14;break e;case J:V=16,v=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=da(V,f,u,_),u.elementType=o,u.type=v,u.lanes=E,u}function Fo(o,u,f,v){return o=da(7,o,v,u),o.lanes=f,o}function np(o,u,f,v){return o=da(22,o,v,u),o.elementType=oe,o.lanes=f,o.stateNode={isHidden:!1},o}function Cv(o,u,f){return o=da(6,o,null,u),o.lanes=f,o}function Pv(o,u,f){return u=da(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function a5(o,u,f,v,_){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Iv(o,u,f,v,_,E,V,H,Q){return o=new a5(o,u,f,H,Q),u===1?(u=1,E===!0&&(u|=8)):u=0,E=da(3,null,null,u),o.current=E,E.stateNode=o,E.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wg(E),o}function i5(o,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:v==null?null:""+v,children:o,containerInfo:u,implementation:f}}function gE(o){if(!o)return ks;o=o._reactInternals;e:{if(it(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(jn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(jn(f))return zN(o,f,u)}return u}function vE(o,u,f,v,_,E,V,H,Q){return o=Iv(f,v,!0,o,_,E,V,H,Q),o.context=gE(null),f=o.current,v=hn(),_=Cs(f),E=Li(v,_),E.callback=u??null,Ss(f,E,_),o.current.lanes=_,ps(o,_,v),En(o,v),o}function ap(o,u,f,v){var _=u.current,E=hn(),V=Cs(_);return f=gE(f),u.context===null?u.context=f:u.pendingContext=f,u=Li(E,V),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=Ss(_,u,V),o!==null&&(Ia(o,_,V,E),Df(o,_,V)),V}function ip(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function yE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Ov(o,u){yE(o,u),(o=o.alternate)&&yE(o,u)}function s5(){return null}var xE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Rv(o){this._internalRoot=o}sp.prototype.render=Rv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));ap(o,u,null,null)},sp.prototype.unmount=Rv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Mo(function(){ap(null,o,null,null)}),u[Ii]=null}};function sp(o){this._internalRoot=o}sp.prototype.unstable_scheduleHydration=function(o){if(o){var u=sf();o={blockedOn:null,target:o,priority:u};for(var f=0;f<Ga.length&&u!==0&&u<Ga[f].priority;f++);Ga.splice(f,0,o),f===0&&cf(o)}};function Dv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function op(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function bE(){}function o5(o,u,f,v,_){if(_){if(typeof v=="function"){var E=v;v=function(){var ue=ip(V);E.call(ue)}}var V=vE(u,v,o,0,null,!1,!1,"",bE);return o._reactRootContainer=V,o[Ii]=V.current,Pu(o.nodeType===8?o.parentNode:o),Mo(),V}for(;_=o.lastChild;)o.removeChild(_);if(typeof v=="function"){var H=v;v=function(){var ue=ip(Q);H.call(ue)}}var Q=Iv(o,0,!1,null,null,!1,!1,"",bE);return o._reactRootContainer=Q,o[Ii]=Q.current,Pu(o.nodeType===8?o.parentNode:o),Mo(function(){ap(u,Q,f,v)}),Q}function lp(o,u,f,v,_){var E=f._reactRootContainer;if(E){var V=E;if(typeof _=="function"){var H=_;_=function(){var Q=ip(V);H.call(Q)}}ap(u,V,o,_)}else V=o5(f,u,o,_,v);return ip(V)}nf=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var f=hs(u.pendingLanes);f!==0&&(ms(u,f|1),En(u,At()),(ht&6)===0&&(ac=At()+500,js()))}break;case 13:Mo(function(){var v=Mi(o,1);if(v!==null){var _=hn();Ia(v,o,1,_)}}),Ov(o,1)}},Al=function(o){if(o.tag===13){var u=Mi(o,134217728);if(u!==null){var f=hn();Ia(u,o,134217728,f)}Ov(o,134217728)}},af=function(o){if(o.tag===13){var u=Cs(o),f=Mi(o,u);if(f!==null){var v=hn();Ia(f,o,u,v)}Ov(o,u)}},sf=function(){return ot},of=function(o,u){var f=ot;try{return ot=o,u()}finally{ot=f}},Zn=function(o,u,f){switch(u){case"input":if(Zt(o,f),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==o&&v.form===o.form){var _=Nf(v);if(!_)throw Error(r(90));q(v),Zt(v,_)}}}break;case"textarea":lr(o,f);break;case"select":u=f.value,u!=null&&Dt(o,!!f.multiple,u,!1)}},ji=Sv,yo=Mo;var l5={usingClientEntryPoint:!1,Events:[Ru,Wl,Nf,ta,vo,Sv]},Ku={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c5={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Et(o),o===null?null:o.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||s5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{wo=cp.inject(c5),Ln=cp}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l5,Tn.createPortal=function(o,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dv(u))throw Error(r(200));return i5(o,u,null,f)},Tn.createRoot=function(o,u){if(!Dv(o))throw Error(r(299));var f=!1,v="",_=xE;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Iv(o,1,!1,null,null,f,!1,v,_),o[Ii]=u.current,Pu(o.nodeType===8?o.parentNode:o),new Rv(u)},Tn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Et(u),o=o===null?null:o.stateNode,o},Tn.flushSync=function(o){return Mo(o)},Tn.hydrate=function(o,u,f){if(!op(u))throw Error(r(200));return lp(null,o,u,!0,f)},Tn.hydrateRoot=function(o,u,f){if(!Dv(o))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,_=!1,E="",V=xE;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),u=vE(u,null,o,1,f??null,_,!1,E,V),o[Ii]=u.current,Pu(o),v)for(o=0;o<v.length;o++)f=v[o],_=f._getVersion,_=_(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,_]:u.mutableSourceEagerHydrationData.push(f,_);return new sp(u)},Tn.render=function(o,u,f){if(!op(u))throw Error(r(200));return lp(null,o,u,!1,f)},Tn.unmountComponentAtNode=function(o){if(!op(o))throw Error(r(40));return o._reactRootContainer?(Mo(function(){lp(null,null,o,!1,function(){o._reactRootContainer=null,o[Ii]=null})}),!0):!1},Tn.unstable_batchedUpdates=Sv,Tn.unstable_renderSubtreeIntoContainer=function(o,u,f,v){if(!op(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return lp(o,u,f,!1,v)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var TE;function v5(){if(TE)return $v.exports;TE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$v.exports=g5(),$v.exports}var AE;function y5(){if(AE)return dp;AE=1;var t=v5();return dp.createRoot=t.createRoot,dp.hydrateRoot=t.hydrateRoot,dp}var x5=y5();const b5=xt(x5);var CE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},w5=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],l=t[r++],c=t[r++],d=((a&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=t[r++],l=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|l&63)}}return e.join("")},QR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],l=a+1<t.length,c=l?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,p=i>>2,m=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,x=h&63;d||(x=64,l||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const m=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||c==null||h==null||m==null)throw new _5;const y=i<<2|c>>4;if(n.push(y),h!==64){const x=c<<4&240|h>>2;if(n.push(x),m!==64){const k=h<<6&192|m;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k5=function(t){const e=XR(t);return QR.encodeByteArray(e,!0)},zp=function(t){return k5(t).replace(/\./g,"")},JR=function(t){try{return QR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=()=>j5().__FIREBASE_DEFAULTS__,S5=()=>{if(typeof process>"u"||typeof CE>"u")return;const t=CE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JR(t[1]);return e&&JSON.parse(e)},a0=()=>{try{return N5()||S5()||E5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZR=t=>{var e,r;return(r=(e=a0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},eD=t=>{const e=ZR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},tD=()=>{var t;return(t=a0())===null||t===void 0?void 0:t.config},rD=t=>{var e;return(e=a0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zp(JSON.stringify(r)),zp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function C5(){var t;const e=(t=a0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R5(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D5(){return!C5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M5(){try{return typeof indexedDB=="object"}catch{return!1}}function L5(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="FirebaseError";class yi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=$5,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jh.prototype.create)}}class jh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],l=i?F5(i,n):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new yi(a,c,n)}}function F5(t,e){return t.replace(V5,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const V5=/\{\$([^}]+)}/g;function B5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],l=e[a];if(PE(i)&&PE(l)){if(!Wp(i,l))return!1}else if(i!==l)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function od(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function ld(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function U5(t,e){const r=new q5(t,e);return r.subscribe.bind(r)}class q5{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");z5(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=Bv),a.error===void 0&&(a.error=Bv),a.complete===void 0&&(a.complete=Bv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z5(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Bv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new T5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),a=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G5(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&l.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(a,i);const l=this.instances.get(a);return l&&e(l,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:H5(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H5(t){return t===qo?void 0:t}function G5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new W5(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const Y5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},X5=lt.INFO,Q5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},J5=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=Q5[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ek{constructor(e){this.name=e,this._logLevel=X5,this._logHandler=J5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const Z5=(t,e)=>e.some(r=>t instanceof r);let IE,OE;function eF(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tF(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aD=new WeakMap,a_=new WeakMap,iD=new WeakMap,Uv=new WeakMap,tk=new WeakMap;function rF(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{r(Gs(t.result)),a()},l=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&aD.set(r,t)}).catch(()=>{}),tk.set(e,t),e}function nF(t){if(a_.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{r(),a()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});a_.set(t,e)}let i_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return a_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aF(t){i_=t(i_)}function iF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(qv(this),e,...r);return iD.set(n,e.sort?e.sort():[e]),Gs(n)}:tF().includes(t)?function(...e){return t.apply(qv(this),e),Gs(aD.get(this))}:function(...e){return Gs(t.apply(qv(this),e))}}function sF(t){return typeof t=="function"?iF(t):(t instanceof IDBTransaction&&nF(t),Z5(t,eF())?new Proxy(t,i_):t)}function Gs(t){if(t instanceof IDBRequest)return rF(t);if(Uv.has(t))return Uv.get(t);const e=sF(t);return e!==t&&(Uv.set(t,e),tk.set(e,t)),e}const qv=t=>tk.get(t);function oF(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const l=indexedDB.open(t,e),c=Gs(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Gs(l.result),d.oldVersion,d.newVersion,Gs(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const lF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],zv=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=cF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||lF.includes(r)))return;const i=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&d.done]))[0]};return zv.set(e,i),i}aF(t=>({...t,get:(e,r,n)=>RE(e,r)||t.get(e,r,n),has:(e,r)=>!!RE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(dF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function dF(t){const e=t.getComponent();return e?.type==="VERSION"}const s_="@firebase/app",DE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new ek("@firebase/app"),hF="@firebase/app-compat",fF="@firebase/analytics-compat",pF="@firebase/analytics",mF="@firebase/app-check-compat",gF="@firebase/app-check",vF="@firebase/auth",yF="@firebase/auth-compat",xF="@firebase/database",bF="@firebase/data-connect",wF="@firebase/database-compat",_F="@firebase/functions",kF="@firebase/functions-compat",jF="@firebase/installations",NF="@firebase/installations-compat",SF="@firebase/messaging",EF="@firebase/messaging-compat",TF="@firebase/performance",AF="@firebase/performance-compat",CF="@firebase/remote-config",PF="@firebase/remote-config-compat",IF="@firebase/storage",OF="@firebase/storage-compat",RF="@firebase/firestore",DF="@firebase/vertexai-preview",MF="@firebase/firestore-compat",LF="firebase",$F="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="[DEFAULT]",FF={[s_]:"fire-core",[hF]:"fire-core-compat",[pF]:"fire-analytics",[fF]:"fire-analytics-compat",[gF]:"fire-app-check",[mF]:"fire-app-check-compat",[vF]:"fire-auth",[yF]:"fire-auth-compat",[xF]:"fire-rtdb",[bF]:"fire-data-connect",[wF]:"fire-rtdb-compat",[_F]:"fire-fn",[kF]:"fire-fn-compat",[jF]:"fire-iid",[NF]:"fire-iid-compat",[SF]:"fire-fcm",[EF]:"fire-fcm-compat",[TF]:"fire-perf",[AF]:"fire-perf-compat",[CF]:"fire-rc",[PF]:"fire-rc-compat",[IF]:"fire-gcs",[OF]:"fire-gcs-compat",[RF]:"fire-fst",[MF]:"fire-fst-compat",[DF]:"fire-vertex","fire-js":"fire-js",[LF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new Map,VF=new Map,l_=new Map;function ME(t,e){try{t.container.addComponent(e)}catch(r){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function sl(t){const e=t.name;if(l_.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,t);for(const r of Hp.values())ME(r,t);for(const r of VF.values())ME(r,t);return!0}function i0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function La(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new jh("app","Firebase",BF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=$F;function rk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:o_,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Ks.create("bad-app-name",{appName:String(a)});if(r||(r=tD()),!r)throw Ks.create("no-options");const i=Hp.get(a);if(i){if(Wp(r,i.options)&&Wp(n,i.config))return i;throw Ks.create("duplicate-app",{appName:a})}const l=new K5(a);for(const d of l_.values())l.addComponent(d);const c=new UF(r,n,l);return Hp.set(a,c),c}function nk(t=o_){const e=Hp.get(t);if(!e&&t===o_&&tD())return rk();if(!e)throw Ks.create("no-app",{appName:t});return e}function si(t,e,r){var n;let a=(n=FF[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const i=a.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${a}" with version "${e}":`];i&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(c.join(" "));return}sl(new eo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="firebase-heartbeat-database",zF=1,Ad="firebase-heartbeat-store";let Wv=null;function sD(){return Wv||(Wv=oF(qF,zF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ad)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Wv}async function WF(t){try{const r=(await sD()).transaction(Ad),n=await r.objectStore(Ad).get(oD(t));return await r.done,n}catch(e){if(e instanceof yi)Xi.warn(e.message);else{const r=Ks.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(r.message)}}}async function LE(t,e){try{const n=(await sD()).transaction(Ad,"readwrite");await n.objectStore(Ad).put(e,oD(t)),await n.done}catch(r){if(r instanceof yi)Xi.warn(r.message);else{const n=Ks.create("idb-set",{originalErrorMessage:r?.message});Xi.warn(n.message)}}}function oD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=1024,GF=30*24*60*60*1e3;class KF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new XF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=GF}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Xi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=$E(),{heartbeatsToSend:n,unsentEntries:a}=YF(this._heartbeatsCache.heartbeats),i=zp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Xi.warn(r),""}}}function $E(){return new Date().toISOString().substring(0,10)}function YF(t,e=HF){const r=[];let n=t.slice();for(const a of t){const i=r.find(l=>l.agent===a.agent);if(i){if(i.dates.push(a.date),FE(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),FE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class XF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M5()?L5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await WF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return LE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return LE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function FE(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){sl(new eo("platform-logger",e=>new uF(e),"PRIVATE")),sl(new eo("heartbeat",e=>new KF(e),"PRIVATE")),si(s_,DE,t),si(s_,DE,"esm2017"),si("fire-js","")}QF("");var JF="firebase",ZF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(JF,ZF,"app");function ak(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function lD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eV=lD,cD=new jh("auth","Firebase",lD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new ek("@firebase/auth");function tV(t,...e){Gp.logLevel<=lt.WARN&&Gp.warn(`Auth (${yl}): ${t}`,...e)}function Op(t,...e){Gp.logLevel<=lt.ERROR&&Gp.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,...e){throw ik(t,...e)}function oi(t,...e){return ik(t,...e)}function uD(t,e,r){const n=Object.assign(Object.assign({},eV()),{[e]:r});return new jh("auth","Firebase",n).create(e,{appName:t.name})}function li(t){return uD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ik(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return cD.create(t,...e)}function Ke(t,e,...r){if(!t)throw ik(e,...r)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Op(e),new Error(e)}function Qi(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rV(){return VE()==="http:"||VE()==="https:"}function VE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rV()||I5()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qi(r>e,"Short delay should be less than long delay!"),this.isMobile=A5()||O5()}get(){return nV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Sh(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function io(t,e,r,n,a={}){return hD(t,a,async()=>{let i={},l={};n&&(e==="GET"?l=n:i={body:JSON.stringify(n)});const c=Nh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return P5()||(h.referrerPolicy="no-referrer"),dD.fetch()(fD(t,t.config.apiHost,r,c),h)})}async function hD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},iV),e);try{const a=new lV(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw hp(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw hp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw hp(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw uD(t,p,h);Ba(t,p)}}catch(a){if(a instanceof yi)throw a;Ba(t,"network-request-failed",{message:String(a)})}}async function Eh(t,e,r,n,a={}){const i=await io(t,e,r,n,a);return"mfaPendingCredential"in i&&Ba(t,"multi-factor-auth-required",{_serverResponse:i}),i}function fD(t,e,r,n){const a=`${e}${r}?${n}`;return t.config.emulator?sk(t.config,a):`${t.config.apiScheme}://${a}`}function oV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oi(this.auth,"network-request-failed")),sV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=oi(t,e,n);return a.customData._tokenResponse=r,a}function BE(t){return t!==void 0&&t.enterprise!==void 0}class cV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return oV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uV(t,e){return io(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function pD(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hV(t,e=!1){const r=Vt(t),n=await r.getIdToken(e),a=ok(n);Ke(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,l=i?.sign_in_provider;return{claims:a,token:n,authTime:vd(Hv(a.auth_time)),issuedAtTime:vd(Hv(a.iat)),expirationTime:vd(Hv(a.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Hv(t){return Number(t)*1e3}function ok(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Op("JWT malformed, contained fewer than 3 sections"),null;try{const a=JR(r);return a?JSON.parse(a):(Op("Failed to decode base64 JWT payload"),null)}catch(a){return Op("Caught error parsing JWT payload as JSON",a?.toString()),null}}function UE(t){const e=ok(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof yi&&fV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function fV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=vd(this.lastLoginAt),this.creationTime=vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(t){var e;const r=t.auth,n=await t.getIdToken(),a=await Cd(t,pD(r,{idToken:n}));Ke(a?.users.length,r,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?mD(i.providerUserInfo):[],c=gV(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!c?.length,p=d?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new u_(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function mV(t){const e=Vt(t);await Kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gV(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function mD(t){return t.map(e=>{var{providerId:r}=e,n=ak(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vV(t,e){const r=await hD(t,{},async()=>{const n=Nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,l=fD(t,a,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",dD.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function yV(t,e){return io(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=UE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await vV(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,l=new yc;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),a&&(Ke(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),i&&(Ke(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,i=ak(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new u_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cd(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hV(this,e)}reload(){return mV(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Kp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(La(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Cd(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,i,l,c,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(a=r.email)!==null&&a!==void 0?a:void 0,x=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,k=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(c=r.tenantId)!==null&&c!==void 0?c:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=r.createdAt)!==null&&h!==void 0?h:void 0,T=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:R,isAnonymous:j,providerData:C,stsTokenManager:A}=r;Ke(P&&A,e,"internal-error");const I=yc.fromJSON(this.name,A);Ke(typeof P=="string",e,"internal-error"),Rs(m,e.name),Rs(y,e.name),Ke(typeof R=="boolean",e,"internal-error"),Ke(typeof j=="boolean",e,"internal-error"),Rs(x,e.name),Rs(k,e.name),Rs(w,e.name),Rs(b,e.name),Rs(N,e.name),Rs(T,e.name);const L=new qi({uid:P,auth:e,email:y,emailVerified:R,displayName:m,isAnonymous:j,photoURL:k,phoneNumber:x,tenantId:w,stsTokenManager:I,createdAt:N,lastLoginAt:T});return C&&Array.isArray(C)&&(L.providerData=C.map(O=>Object.assign({},O))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const a=new yc;a.updateFromServerResponse(r);const i=new qi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Kp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Ke(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?mD(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!i?.length,c=new yc;c.updateFromIdToken(n);const d=new qi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new u_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function zi(t){Qi(t instanceof Function,"Expected a class definition");let e=qE.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}gD.type="NONE";const zE=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e,r){return`firebase:${t}:${e}:${r}`}class xc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=Rp(this.userKey,a.apiKey,i),this.fullPersistenceKey=Rp("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new xc(zi(zE),e,n);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||zi(zE);const l=Rp(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(l);if(p){const m=qi._fromJSON(e,p);h!==i&&(c=m),i=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new xc(i,e,n):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new xc(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_D(e))return"Blackberry";if(kD(e))return"Webos";if(yD(e))return"Safari";if((e.includes("chrome/")||xD(e))&&!e.includes("edge/"))return"Chrome";if(wD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function vD(t=nn()){return/firefox\//i.test(t)}function yD(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xD(t=nn()){return/crios\//i.test(t)}function bD(t=nn()){return/iemobile/i.test(t)}function wD(t=nn()){return/android/i.test(t)}function _D(t=nn()){return/blackberry/i.test(t)}function kD(t=nn()){return/webos/i.test(t)}function lk(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xV(t=nn()){var e;return lk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bV(){return R5()&&document.documentMode===10}function jD(t=nn()){return lk(t)||wD(t)||kD(t)||_D(t)||/windows phone/i.test(t)||bD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e=[]){let r;switch(t){case"Browser":r=WE(nn());break;case"Worker":r=`${WE(nn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${yl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e={}){return io(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=6;class jV{constructor(e){var r,n,a,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:kV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,i,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new wV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=zi(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await xc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await pD(this,{idToken:e}),n=await qi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(La(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(a=d.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Kp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(La(this.app))return Promise.reject(li(this));const r=e?Vt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return La(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return La(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _V(this),r=new jV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await yV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&zi(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[zi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,a);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ND(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&tV(`Error while retrieving App Check token: ${r.error}`),r?.token}}function so(t){return Vt(t)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=U5(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SV(t){s0=t}function SD(t){return s0.loadJS(t)}function EV(){return s0.recaptchaEnterpriseScript}function TV(){return s0.gapiScript}function AV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CV="recaptcha-enterprise",PV="NO_RECAPTCHA";class IV{constructor(e){this.type=CV,this.auth=so(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{uV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new cV(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function a(i,l,c){const d=window.grecaptcha;BE(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(PV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,l)=>{n(this.auth).then(c=>{if(!r&&BE(window.grecaptcha))a(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=EV();d.length!==0&&(d+=c),SD(d).then(()=>{a(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function GE(t,e,r,n=!1){const a=new IV(t);let i;try{i=await a.verify(r)}catch{i=await a.verify(r,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:i}):Object.assign(l,{captchaResponse:i}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function d_(t,e,r,n){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await GE(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await GE(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t,e){const r=i0(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Wp(i,e??{}))return a;Ba(a,"already-initialized")}return r.initialize({options:e})}function RV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(zi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function DV(t,e,r){const n=so(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,i=ED(e),{host:l,port:c}=MV(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${i}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),LV()}function ED(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MV(t){const e=ED(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:KE(n.substr(i.length+1))}}else{const[i,l]=n.split(":");return{host:i,port:KE(l)}}}function KE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,r){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function $V(t,e){return io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return Eh(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return Eh(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function BV(t,e){return Eh(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends ck{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Pd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,r,"signInWithPassword",FV);case"emailLink":return VV(e,{email:this._email,oobCode:this._password});default:Ba(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d_(e,n,"signUpPassword",$V);case"emailLink":return BV(e,{idToken:r,email:this._email,oobCode:this._password});default:Ba(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e){return Eh(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="http://localhost";class ol extends ck{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ba("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,i=ak(r,["providerId","signInMethod"]);if(!n||!a)return null;const l=new ol(n,a);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return bc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,bc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,bc(e,r)}buildRequest(){const e={requestUri:UV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Nh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(t){const e=od(ld(t)).link,r=e?od(ld(e)).deep_link_id:null,n=od(ld(t)).deep_link_id;return(n?od(ld(n)).link:null)||n||r||e||t}class uk{constructor(e){var r,n,a,i,l,c;const d=od(ld(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=qV((a=d.mode)!==null&&a!==void 0?a:null);Ke(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=zV(e);try{return new uk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.providerId=iu.PROVIDER_ID}static credential(e,r){return Pd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=uk.parseLink(r);return Ke(n,"argument-error"),Pd._fromEmailAndCode(e,n.code,n.tenantId)}}iu.PROVIDER_ID="password";iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends TD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Th{constructor(){super("facebook.com")}static credential(e){return ol._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Th{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ol._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Fs.credential(r,n)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Th{constructor(){super("github.com")}static credential(e){return ol._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Th{constructor(){super("twitter.com")}static credential(e,r){return ol._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Bs.credential(r,n)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return Eh(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await qi._fromIdTokenResponse(e,n,a),l=YE(n);return new Ji({user:i,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=YE(n);return new Ji({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function YE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t){var e;if(La(t.app))return Promise.reject(li(t));const r=so(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ji({user:r.currentUser,providerId:null,operationType:"signIn"});const n=await AD(r,{returnSecureToken:!0}),a=await Ji._fromIdTokenResponse(r,"signIn",n,!0);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends yi{constructor(e,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Yp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new Yp(e,r,n,a)}}function CD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yp._fromErrorAndOperation(t,i,e,n):i})}async function HV(t,e,r=!1){const n=await Cd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ji._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e,r=!1){const{auth:n}=t;if(La(n.app))return Promise.reject(li(n));const a="reauthenticate";try{const i=await Cd(t,CD(n,a,e,t),r);Ke(i.idToken,n,"internal-error");const l=ok(i.idToken);Ke(l,n,"internal-error");const{sub:c}=l;return Ke(t.uid===c,n,"user-mismatch"),Ji._forOperation(t,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&Ba(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e,r=!1){if(La(t.app))return Promise.reject(li(t));const n="signIn",a=await CD(t,n,e),i=await Ji._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function KV(t,e){return PD(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YV(t,e,r){if(La(t.app))return Promise.reject(li(t));const n=so(t),l=await d_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&ID(t),d}),c=await Ji._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function XV(t,e,r){return La(t.app)?Promise.reject(li(t)):KV(Vt(t),iu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ID(t),n})}function QV(t,e,r,n){return Vt(t).onIdTokenChanged(e,r,n)}function JV(t,e,r){return Vt(t).beforeAuthStateChanged(e,r)}function ZV(t,e,r,n){return Vt(t).onAuthStateChanged(e,r,n)}function eB(t){return Vt(t).signOut()}const Xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Xp,"1"),this.storage.removeItem(Xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=1e3,rB=10;class RD extends OD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},i=this.storage.getItem(n);bV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,rB):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}RD.type="LOCAL";const nB=RD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends OD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}DD.type="SESSION";const MD=DD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new o0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,l=this.handlersMap[a];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(l).map(async h=>h(r.origin,i)),d=await aB(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}o0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=dk("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:a,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function sB(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function oB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cB(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",uB=1,Qp="firebaseLocalStorage",FD="fbase_key";class Ah{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function l0(t,e){return t.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function dB(){const t=indexedDB.deleteDatabase($D);return new Ah(t).toPromise()}function h_(){const t=indexedDB.open($D,uB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Qp,{keyPath:FD})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Qp)?e(n):(n.close(),await dB(),e(await h_()))})})}async function XE(t,e,r){const n=l0(t,!0).put({[FD]:e,value:r});return new Ah(n).toPromise()}async function hB(t,e){const r=l0(t,!1).get(e),n=await new Ah(r).toPromise();return n===void 0?null:n.value}function QE(t,e){const r=l0(t,!0).delete(e);return new Ah(r).toPromise()}const fB=800,pB=3;class VD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>pB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=o0._getInstance(cB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await oB(),!this.activeServiceWorker)return;this.sender=new iB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h_();return await XE(e,Xp,"1"),await QE(e,Xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>hB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>QE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=l0(a,!1).getAll();return new Ah(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VD.type="LOCAL";const mB=VD;new Sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t,e){return e?zi(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends ck{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return bc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function vB(t){return PD(t.auth,new hk(t),t.bypassAuthState)}function yB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),GV(r,new hk(t),t.bypassAuthState)}async function xB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),HV(r,new hk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vB;case"linkViaPopup":case"linkViaRedirect":return xB;case"reauthViaPopup":case"reauthViaRedirect":return yB;default:Ba(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Sh(2e3,1e4);class hc extends BD{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,hc.currentPopupAction&&hc.currentPopupAction.cancel(),hc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=dk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bB.get())};e()}}hc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB="pendingRedirect",Dp=new Map;class _B extends BD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Dp.get(this.auth._key());if(!e){try{const n=await kB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Dp.set(this.auth._key(),e)}return this.bypassAuthState||Dp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kB(t,e){const r=SB(e),n=NB(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function jB(t,e){Dp.set(t._key(),e)}function NB(t){return zi(t._redirectPersistence)}function SB(t){return Rp(wB,t.config.apiKey,t.name)}async function EB(t,e,r=!1){if(La(t.app))return Promise.reject(li(t));const n=so(t),a=gB(n,e),l=await new _B(n,a,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=10*60*1e3;class AB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!UD(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(oi(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TB&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function CB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OB=/^https?/;async function RB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PB(t);for(const r of e)try{if(DB(r))return}catch{}Ba(t,"unauthorized-domain")}function DB(t){const e=c_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!OB.test(r))return!1;if(IB.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new Sh(3e4,6e4);function ZE(){const t=ci().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function LB(t){return new Promise((e,r)=>{var n,a,i;function l(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),r(oi(t,"network-request-failed"))},timeout:MB.get()})}if(!((a=(n=ci().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=ci().gapi)===null||i===void 0)&&i.load)l();else{const c=AV("iframefcb");return ci()[c]=()=>{gapi.load?l():r(oi(t,"network-request-failed"))},SD(`${TV()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Mp=null,e})}let Mp=null;function $B(t){return Mp=Mp||LB(t),Mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=new Sh(5e3,15e3),VB="__/auth/iframe",BB="emulator/auth/iframe",UB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zB(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?sk(e,BB):`https://${t.config.authDomain}/${VB}`,n={apiKey:e.apiKey,appName:t.name,v:yl},a=qB.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Nh(n).slice(1)}`}async function WB(t){const e=await $B(t),r=ci().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:zB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UB,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const l=oi(t,"network-request-failed"),c=ci().setTimeout(()=>{i(l)},FB.get());function d(){ci().clearTimeout(c),a(n)}n.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GB=500,KB=600,YB="_blank",XB="http://localhost";class eT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QB(t,e,r,n=GB,a=KB){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},HB),{width:n.toString(),height:a.toString(),top:i,left:l}),h=nn().toLowerCase();r&&(c=xD(h)?YB:r),vD(h)&&(e=e||XB,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,k])=>`${y}${x}=${k},`,"");if(xV(h)&&c!=="_self")return JB(e||"",c),new eT(null);const m=window.open(e||"",c,p);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new eT(m)}function JB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="__/auth/handler",e9="emulator/auth/handler",t9=encodeURIComponent("fac");async function tT(t,e,r,n,a,i){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:yl,eventId:a};if(e instanceof TD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",B5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Th){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${t9}=${encodeURIComponent(d)}`:"";return`${r9(t)}?${Nh(c).slice(1)}${h}`}function r9({config:t}){return t.emulator?sk(t,e9):`https://${t.authDomain}/${ZB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class n9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=EB,this._overrideRedirectResult=jB}async _openPopup(e,r,n,a){var i;Qi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await tT(e,r,n,c_(),a);return QB(e,l,dk())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await tT(e,r,n,c_(),a);return sB(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Qi(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await WB(e),n=new AB(e);return r.register("authEvent",a=>(Ke(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Gv,{type:Gv},a=>{var i;const l=(i=a?.[0])===null||i===void 0?void 0:i[Gv];l!==void 0&&r(!!l),Ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=RB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return jD()||yD()||lk()}}const a9=n9;var rT="@firebase/auth",nT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o9(t){sl(new eo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ND(t)},h=new NV(n,a,i,d);return RV(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),sl(new eo("auth-internal",e=>{const r=so(e.getProvider("auth").getImmediate());return(n=>new i9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(rT,nT,s9(t)),si(rT,nT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=5*60,c9=rD("authIdTokenMaxAge")||l9;let aT=null;const u9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>c9)return;const a=r?.token;aT!==a&&(aT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fk(t=nk()){const e=i0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=OV(t,{popupRedirectResolver:a9,persistence:[mB,nB,MD]}),n=rD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const l=u9(i.toString());JV(r,l,()=>l(r.currentUser)),QV(r,c=>l(c))}}const a=ZR("auth");return a&&DV(r,`http://${a}`),r}function d9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=oi("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",d9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o9("Browser");var iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,qD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function L(){}L.prototype=I.prototype,A.D=I.prototype,A.prototype=new L,A.prototype.constructor=A,A.C=function(O,D,F){for(var $=Array(arguments.length-2),te=2;te<arguments.length;te++)$[te-2]=arguments[te];return I.prototype[D].apply(O,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,I,L){L||(L=0);var O=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)O[D]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(D=0;16>D;++D)O[D]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=A.g[0],L=A.g[1],D=A.g[2];var F=A.g[3],$=I+(F^L&(D^F))+O[0]+3614090360&4294967295;I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[1]+3905402710&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[2]+606105819&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[4]+4118548399&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[5]+1200080426&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[6]+2821735955&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[8]+1770035416&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[9]+2336552879&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[10]+4294925233&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[12]+1804603682&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[13]+4254626195&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[14]+2792965006&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(D^F&(L^D))+O[1]+4129170786&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[6]+3225465664&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[11]+643717713&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[5]+3593408605&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[10]+38016083&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[15]+3634488961&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[9]+568446438&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[14]+3275163606&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[3]+4107603335&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[13]+2850285829&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[2]+4243563512&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[7]+1735328473&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(L^D^F)+O[5]+4294588738&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[8]+2272392833&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[11]+1839030562&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[1]+2763975236&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[4]+1272893353&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[7]+4139469664&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[13]+681279174&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[0]+3936430074&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[3]+3572445317&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[9]+3654602809&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[12]+3873151461&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[15]+530742520&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(D^(L|~F))+O[0]+4096336452&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[7]+1126891415&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[14]+2878612391&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[12]+1700485571&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[3]+2399980690&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[10]+4293915773&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[8]+1873313359&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[15]+4264355552&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[6]+2734768916&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[4]+4149444226&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[11]+3174756917&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[2]+718787259&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+F&4294967295}n.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var L=I-this.blockSize,O=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=L;)a(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<I;)if(O[D++]=A.charCodeAt(F++),D==this.blockSize){a(this,O),D=0;break}}else for(;F<I;)if(O[D++]=A[F++],D==this.blockSize){a(this,O),D=0;break}}this.h=D,this.o+=I},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var L=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=L&255,L/=256;for(this.u(A),A=Array(16),I=L=0;4>I;++I)for(var O=0;32>O;O+=8)A[L++]=this.g[I]>>>O&255;return A};function i(A,I){var L=c;return Object.prototype.hasOwnProperty.call(L,A)?L[A]:L[A]=I(A)}function l(A,I){this.h=I;for(var L=[],O=!0,D=A.length-1;0<=D;D--){var F=A[D]|0;O&&F==I||(L[D]=F,O=!1)}this.g=L}var c={};function d(A){return-128<=A&&128>A?i(A,function(I){return new l([I|0],0>I?-1:0)}):new l([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return b(h(-A));for(var I=[],L=1,O=0;A>=L;O++)I[O]=A/L|0,L*=4294967296;return new l(I,0)}function p(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return b(p(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(I,8)),O=m,D=0;D<A.length;D+=8){var F=Math.min(8,A.length-D),$=parseInt(A.substring(D,D+F),I);8>F?(F=h(Math.pow(I,F)),O=O.j(F).add(h($))):(O=O.j(L),O=O.add(h($)))}return O}var m=d(0),y=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-b(this).m();for(var A=0,I=1,L=0;L<this.g.length;L++){var O=this.i(L);A+=(0<=O?O:4294967296+O)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(w(this))return"-"+b(this).toString(A);for(var I=h(Math.pow(A,6)),L=this,O="";;){var D=R(L,I).g;L=N(L,D.j(I));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(A);if(L=D,k(L))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=N(this,A),w(A)?-1:k(A)?0:1};function b(A){for(var I=A.g.length,L=[],O=0;O<I;O++)L[O]=~A.g[O];return new l(L,~A.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0,D=0;D<=I;D++){var F=O+(this.i(D)&65535)+(A.i(D)&65535),$=(F>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);O=$>>>16,F&=65535,$&=65535,L[D]=$<<16|F}return new l(L,L[L.length-1]&-2147483648?-1:0)};function N(A,I){return A.add(b(I))}t.j=function(A){if(k(this)||k(A))return m;if(w(this))return w(A)?b(this).j(b(A)):b(b(this).j(A));if(w(A))return b(this.j(b(A)));if(0>this.l(x)&&0>A.l(x))return h(this.m()*A.m());for(var I=this.g.length+A.g.length,L=[],O=0;O<2*I;O++)L[O]=0;for(O=0;O<this.g.length;O++)for(var D=0;D<A.g.length;D++){var F=this.i(O)>>>16,$=this.i(O)&65535,te=A.i(D)>>>16,ne=A.i(D)&65535;L[2*O+2*D]+=$*ne,T(L,2*O+2*D),L[2*O+2*D+1]+=F*ne,T(L,2*O+2*D+1),L[2*O+2*D+1]+=$*te,T(L,2*O+2*D+1),L[2*O+2*D+2]+=F*te,T(L,2*O+2*D+2)}for(O=0;O<I;O++)L[O]=L[2*O+1]<<16|L[2*O];for(O=I;O<2*I;O++)L[O]=0;return new l(L,0)};function T(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function P(A,I){this.g=A,this.h=I}function R(A,I){if(k(I))throw Error("division by zero");if(k(A))return new P(m,m);if(w(A))return I=R(b(A),I),new P(b(I.g),b(I.h));if(w(I))return I=R(A,b(I)),new P(b(I.g),I.h);if(30<A.g.length){if(w(A)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var L=y,O=I;0>=O.l(A);)L=j(L),O=j(O);var D=C(L,1),F=C(O,1);for(O=C(O,2),L=C(L,2);!k(O);){var $=F.add(O);0>=$.l(A)&&(D=D.add(L),F=$),O=C(O,1),L=C(L,1)}return I=N(A,D.j(I)),new P(D,I)}for(D=m;0<=A.l(I);){for(L=Math.max(1,Math.floor(A.m()/I.m())),O=Math.ceil(Math.log(L)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=h(L),$=F.j(I);w($)||0<$.l(A);)L-=O,F=h(L),$=F.j(I);k(F)&&(F=y),D=D.add(F),A=N(A,$)}return new P(D,A)}t.A=function(A){return R(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)&A.i(O);return new l(L,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)|A.i(O);return new l(L,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)^A.i(O);return new l(L,this.h^A.h)};function j(A){for(var I=A.g.length+1,L=[],O=0;O<I;O++)L[O]=A.i(O)<<1|A.i(O-1)>>>31;return new l(L,A.h)}function C(A,I){var L=I>>5;I%=32;for(var O=A.g.length-L,D=[],F=0;F<O;F++)D[F]=0<I?A.i(F+L)>>>I|A.i(F+L+1)<<32-I:A.i(F+L);return new l(D,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qD=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,el=l}).apply(typeof iT<"u"?iT:typeof self<"u"?self:typeof window<"u"?window:{});var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zD,cd,WD,Lp,f_,HD,GD,KD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,M){return g==Array.prototype||g==Object.prototype||(g[S]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof fp=="object"&&fp];for(var S=0;S<g.length;++S){var M=g[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function a(g,S){if(S)e:{var M=n;g=g.split(".");for(var U=0;U<g.length-1;U++){var ae=g[U];if(!(ae in M))break e;M=M[ae]}g=g[g.length-1],U=M[g],S=S(U),S!=U&&S!=null&&e(M,g,{configurable:!0,writable:!0,value:S})}}function i(g,S){g instanceof String&&(g+="");var M=0,U=!1,ae={next:function(){if(!U&&M<g.length){var pe=M++;return{value:S(pe,g[pe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(g){return g||function(){return i(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function h(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,M){return g.call.apply(g.bind,arguments)}function m(g,S,M){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),g.apply(S,ae)}}return function(){return g.apply(S,arguments)}}function y(g,S,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,S){var M=Array.prototype.slice.call(arguments,1);return function(){var U=M.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function k(g,S){function M(){}M.prototype=S.prototype,g.aa=S.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(U,ae,pe){for(var Ae=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Ae[bt-2]=arguments[bt];return S.prototype[ae].apply(U,Ae)}}function w(g){const S=g.length;if(0<S){const M=Array(S);for(let U=0;U<S;U++)M[U]=g[U];return M}return[]}function b(g,S){for(let M=1;M<arguments.length;M++){const U=arguments[M];if(d(U)){const ae=g.length||0,pe=U.length||0;g.length=ae+pe;for(let Ae=0;Ae<pe;Ae++)g[ae+Ae]=U[Ae]}else g.push(U)}}class N{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function T(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function R(g){return R[" "](g),g}R[" "]=function(){};var j=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function C(g,S,M){for(const U in g)S.call(M,g[U],U,g)}function A(g,S){for(const M in g)S.call(void 0,g[M],M,g)}function I(g){const S={};for(const M in g)S[M]=g[M];return S}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,S){let M,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(M in U)g[M]=U[M];for(let pe=0;pe<L.length;pe++)M=L[pe],Object.prototype.hasOwnProperty.call(U,M)&&(g[M]=U[M])}}function D(g){var S=1;g=g.split(":");const M=[];for(;0<S&&g.length;)M.push(g.shift()),S--;return g.length&&M.push(g.join(":")),M}function F(g){c.setTimeout(()=>{throw g},0)}function $(){var g=G;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class te{constructor(){this.h=this.g=null}add(S,M){const U=ne.get();U.set(S,M),this.h?this.h.next=U:this.g=U,this.h=U}}var ne=new N(()=>new J,g=>g.reset());class J{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,re=!1,G=new te,ee=()=>{const g=c.Promise.resolve(void 0);oe=()=>{g.then(W)}};var W=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(M){F(M)}var S=ne;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}re=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};c.addEventListener("test",M,S),c.removeEventListener("test",M,S)}catch{}return g}();function me(g,S){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(j){e:{try{R(S.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(S=null)}}else M=="mouseover"?S=g.fromElement:M=="mouseout"&&(S=g.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ce[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&me.aa.h.call(this)}}k(me,Y);var ce={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),be=0;function z(g,S,M,U,ae){this.listener=g,this.proxy=null,this.src=S,this.type=M,this.capture=!!U,this.ha=ae,this.key=++be,this.da=this.fa=!1}function ge(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,S,M,U,ae){var pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);var Ae=de(g,S,U,ae);return-1<Ae?(S=g[Ae],M||(S.fa=!1)):(S=new z(S,this.src,pe,!!U,ae),S.fa=M,g.push(S)),S};function q(g,S){var M=S.type;if(M in g.g){var U=g.g[M],ae=Array.prototype.indexOf.call(U,S,void 0),pe;(pe=0<=ae)&&Array.prototype.splice.call(U,ae,1),pe&&(ge(S),g.g[M].length==0&&(delete g.g[M],g.h--))}}function de(g,S,M,U){for(var ae=0;ae<g.length;++ae){var pe=g[ae];if(!pe.da&&pe.listener==S&&pe.capture==!!M&&pe.ha==U)return ae}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ue(g,S,M,U,ae){if(Array.isArray(S)){for(var pe=0;pe<S.length;pe++)Ue(g,S[pe],M,U,ae);return null}return M=Rn(M),g&&g[he]?g.K(S,M,h(U)?!!U.capture:!1,ae):Zt(g,S,M,!1,U,ae)}function Zt(g,S,M,U,ae,pe){if(!S)throw Error("Invalid event type");var Ae=h(ae)?!!ae.capture:!!ae,bt=on(g);if(bt||(g[_e]=bt=new xe(g)),M=bt.add(S,M,U,Ae,pe),M.proxy)return M;if(U=gr(),M.proxy=U,U.src=g,U.listener=M,g.addEventListener)ie||(ae=Ae),ae===void 0&&(ae=!1),g.addEventListener(S.toString(),U,ae);else if(g.attachEvent)g.attachEvent(Dt(S.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return M}function gr(){function g(M){return S.call(g.src,g.listener,M)}const S=Rr;return g}function sn(g,S,M,U,ae){if(Array.isArray(S))for(var pe=0;pe<S.length;pe++)sn(g,S[pe],M,U,ae);else U=h(U)?!!U.capture:!!U,M=Rn(M),g&&g[he]?(g=g.i,S=String(S).toString(),S in g.g&&(pe=g.g[S],M=de(pe,M,U,ae),-1<M&&(ge(pe[M]),Array.prototype.splice.call(pe,M,1),pe.length==0&&(delete g.g[S],g.h--)))):g&&(g=on(g))&&(S=g.g[S.toString()],g=-1,S&&(g=de(S,M,U,ae)),(M=-1<g?S[g]:null)&&Rt(M))}function Rt(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[he])q(S.i,g);else{var M=g.type,U=g.proxy;S.removeEventListener?S.removeEventListener(M,U,g.capture):S.detachEvent?S.detachEvent(Dt(M),U):S.addListener&&S.removeListener&&S.removeListener(U),(M=on(S))?(q(M,g),M.h==0&&(M.src=null,S[_e]=null)):ge(g)}}}function Dt(g){return g in Ie?Ie[g]:Ie[g]="on"+g}function Rr(g,S){if(g.da)g=!0;else{S=new me(S,this);var M=g.listener,U=g.ha||g.src;g.fa&&Rt(g),g=M.call(U,S)}return g}function on(g){return g=g[_e],g instanceof xe?g:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(g){return typeof g=="function"?g:(g[lr]||(g[lr]=function(S){return g.handleEvent(S)}),g[lr])}function Ht(){K.call(this),this.i=new xe(this),this.M=this,this.F=null}k(Ht,K),Ht.prototype[he]=!0,Ht.prototype.removeEventListener=function(g,S,M,U){sn(this,g,S,M,U)};function Gt(g,S){var M,U=g.F;if(U)for(M=[];U;U=U.F)M.push(U);if(g=g.M,U=S.type||S,typeof S=="string")S=new Y(S,g);else if(S instanceof Y)S.target=S.target||g;else{var ae=S;S=new Y(U,g),O(S,ae)}if(ae=!0,M)for(var pe=M.length-1;0<=pe;pe--){var Ae=S.g=M[pe];ae=Dn(Ae,U,!0,S)&&ae}if(Ae=S.g=g,ae=Dn(Ae,U,!0,S)&&ae,ae=Dn(Ae,U,!1,S)&&ae,M)for(pe=0;pe<M.length;pe++)Ae=S.g=M[pe],ae=Dn(Ae,U,!1,S)&&ae}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var M=g.g[S],U=0;U<M.length;U++)ge(M[U]);delete g.g[S],g.h--}}this.F=null},Ht.prototype.K=function(g,S,M,U){return this.i.add(String(g),S,!1,M,U)},Ht.prototype.L=function(g,S,M,U){return this.i.add(String(g),S,!0,M,U)};function Dn(g,S,M,U){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var ae=!0,pe=0;pe<S.length;++pe){var Ae=S[pe];if(Ae&&!Ae.da&&Ae.capture==M){var bt=Ae.listener,yr=Ae.ha||Ae.src;Ae.fa&&q(g.i,Ae),ae=bt.call(yr,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function gt(g,S,M){if(typeof g=="function")M&&(g=y(g,M));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:c.setTimeout(g,S||0)}function za(g){g.g=gt(()=>{g.g=null,g.i&&(g.i=!1,za(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class wi extends K{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:za(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _i(g){K.call(this),this.h=g,this.g={}}k(_i,K);var xn=[];function mo(g){C(g.g,function(S,M){this.g.hasOwnProperty(M)&&Rt(S)},g),g.g={}}_i.prototype.N=function(){_i.aa.N.call(this),mo(this)},_i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var go=c.JSON.stringify,ki=c.JSON.parse,Qn=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Wa(){}Wa.prototype.h=null;function Jn(g){return g.h||(g.h=g.i())}function Zn(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ea(){Y.call(this,"d")}k(ea,Y);function us(){Y.call(this,"c")}k(us,Y);var ta={},vo=null;function ji(){return vo=vo||new Ht}ta.La="serverreachability";function yo(g){Y.call(this,ta.La,g)}k(yo,Y);function Bt(g){const S=ji();Gt(S,new yo(S))}ta.STAT_EVENT="statevent";function xo(g,S){Y.call(this,ta.STAT_EVENT,g),this.stat=S}k(xo,Y);function Kt(g){const S=ji();Gt(S,new xo(S,g))}ta.Ma="timingevent";function vr(g,S){Y.call(this,ta.Ma,g),this.size=S}k(vr,Y);function ln(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},S)}function Ni(){this.g=!0}Ni.prototype.xa=function(){this.g=!1};function Si(g,S,M,U,ae,pe){g.info(function(){if(g.g)if(pe)for(var Ae="",bt=pe.split("&"),yr=0;yr<bt.length;yr++){var ct=bt[yr].split("=");if(1<ct.length){var Sr=ct[0];ct=ct[1];var cr=Sr.split("_");Ae=2<=cr.length&&cr[1]=="type"?Ae+(Sr+"="+ct+"&"):Ae+(Sr+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+S+`
`+M+`
`+Ae})}function fe(g,S,M,U,ae,pe,Ae){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+S+`
`+M+`
`+pe+" "+Ae})}function ye(g,S,M,U){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ce(g,M)+(U?" "+U:"")})}function Ve(g,S){g.info(function(){return"TIMEOUT: "+S})}Ni.prototype.info=function(){};function Ce(g,S){if(!g.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var U=M[g];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var pe=ae[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<ae.length;Ae++)ae[Ae]=""}}}}return go(M)}catch{return S}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function dt(){}k(dt,Wa),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},it=new dt;function Ut(g,S,M,U){this.j=g,this.i=S,this.l=M,this.R=U||1,this.U=new _i(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Et={},Tt={};function er(g,S,M){g.L=1,g.v=ms($n(S)),g.m=M,g.P=!0,Mn(g,null)}function Mn(g,S){g.F=Date.now(),At(g),g.A=$n(g.v);var M=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),vs(M.i,"t",U),g.C=0,M=g.j.J,g.h=new rt,g.g=mf(g.j,M?S:null,!g.m),0<g.O&&(g.M=new wi(y(g.Y,g,g.g),g.O)),S=g.U,M=g.g,U=g.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(xn[0]=ae.toString()),ae=xn);for(var pe=0;pe<ae.length;pe++){var Ae=Ue(M,ae[pe],U||S.handleEvent,!1,S.h||S);if(!Ae)break;S.g[Ae.key]=Ae}S=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),Bt(),Si(g.i,g.u,g.A,g.l,g.R,g.m)}Ut.prototype.ca=function(g){g=g.target;const S=this.M;S&&_n(g)==3?S.j():this.Y(g)},Ut.prototype.Y=function(g){try{if(g==this.g)e:{const cr=_n(this.g);var S=this.g.Ba();const ia=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||_u(this.g)))){this.J||cr!=4||S==7||(S==8||0>=ia?Bt(3):Bt(2)),bo(this);var M=this.g.Z();this.X=M;t:if(ra(this)){var U=_u(this.g);g="";var ae=U.length,pe=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),ds(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(S=0;S<ae;S++)this.h.h=!0,g+=this.h.i.decode(U[S],{stream:!(pe&&S==ae-1)});U.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=M==200,fe(this.i,this.u,this.A,this.l,this.R,cr,M),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,yr=this.g;if((bt=yr.g?yr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(bt)){var ct=bt;break t}}ct=null}if(M=ct)ye(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vu(this,M);else{this.o=!1,this.s=3,Kt(12),na(this),ds(this);break e}}if(this.P){M=!0;let Vn;for(;!this.J&&this.C<Ae.length;)if(Vn=Yt(this,Ae),Vn==Tt){cr==4&&(this.s=4,Kt(14),M=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Et){this.s=4,Kt(15),ye(this.i,this.l,Ae,"[Invalid Chunk]"),M=!1;break}else ye(this.i,this.l,Vn,null),vu(this,Vn);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||Ae.length!=0||this.h.h||(this.s=1,Kt(16),M=!1),this.o=this.o&&M,!M)ye(this.i,this.l,Ae,"[Invalid Chunked Response]"),na(this),ds(this);else if(0<Ae.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),ju(Sr),Sr.M=!0,Kt(11))}}else ye(this.i,this.l,Ae,null),vu(this,Ae);cr==4&&na(this),this.o&&!this.J&&(cr==4?Ll(this.j,this):(this.o=!1,At(this)))}else Il(this.g),M==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),na(this),ds(this)}}}catch{}finally{}};function ra(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Yt(g,S){var M=g.C,U=S.indexOf(`
`,M);return U==-1?Tt:(M=Number(S.substring(M,U)),isNaN(M)?Et:(U+=1,U+M>S.length?Tt:(S=S.slice(U,U+M),g.C=U+M,S)))}Ut.prototype.cancel=function(){this.J=!0,na(this)};function At(g){g.S=Date.now()+g.I,Jh(g,g.I)}function Jh(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ln(y(g.ba,g),S)}function bo(g){g.B&&(c.clearTimeout(g.B),g.B=null)}Ut.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ve(this.i,this.A),this.L!=2&&(Bt(),Kt(17)),na(this),this.s=2,ds(this)):Jh(this,this.S-g)};function ds(g){g.j.G==0||g.J||Ll(g.j,g)}function na(g){bo(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,mo(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function vu(g,S){try{var M=g.j;if(M.G!=0&&(M.g==g||cn(M.h,g))){if(!g.K&&cn(M.h,g)&&M.G==3){try{var U=M.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)Ml(M),Sa(M);else break e;Dl(M),Kt(18)}}else M.za=ae[1],0<M.za-M.T&&37500>ae[2]&&M.F&&M.v==0&&!M.C&&(M.C=ln(y(M.Za,M),6e3));if(1>=ef(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Pi(M,11)}else if((g.K||M.g==g)&&Ml(M),!T(S))for(ae=M.Da.g.parse(S),S=0;S<ae.length;S++){let ct=ae[S];if(M.T=ct[0],ct=ct[1],M.G==2)if(ct[0]=="c"){M.K=ct[1],M.ia=ct[2];const Sr=ct[3];Sr!=null&&(M.la=Sr,M.j.info("VER="+M.la));const cr=ct[4];cr!=null&&(M.Aa=cr,M.j.info("SVER="+M.Aa));const ia=ct[5];ia!=null&&typeof ia=="number"&&0<ia&&(U=1.5*ia,M.L=U,M.j.info("backChannelRequestTimeoutMs_="+U)),U=M;const Vn=g.g;if(Vn){const Eo=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var pe=U.h;pe.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(yu(pe,pe.h),pe.h=null))}if(U.D){const Fl=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(U.ya=Fl,jt(U.I,U.D,Fl))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),U=M;var Ae=g;if(U.qa=pf(U,U.J?U.ia:null,U.W),Ae.K){tf(U.h,Ae);var bt=Ae,yr=U.L;yr&&(bt.I=yr),bt.B&&(bo(bt),At(bt)),U.g=Ae}else So(U);0<M.i.length&&Ya(M)}else ct[0]!="stop"&&ct[0]!="close"||Pi(M,7);else M.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Pi(M,7):Mr(M):ct[0]!="noop"&&M.l&&M.l.ta(ct),M.v=0)}}Bt(4)}catch{}}var Zh=class{constructor(g,S){this.g=g,this.map=S}};function wo(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function ef(g){return g.h?1:g.g?g.g.size:0}function cn(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function yu(g,S){g.g?g.g.add(S):g.h=S}function tf(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}wo.prototype.cancel=function(){if(this.i=rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function rf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const M of g.g.values())S=S.concat(M.D);return S}return w(g.i)}function El(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var S=[],M=g.length,U=0;U<M;U++)S.push(g[U]);return S}S=[],M=0;for(U in g)S[M++]=g[U];return S}function Tl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var S=[];g=g.length;for(var M=0;M<g;M++)S.push(M);return S}S=[],M=0;for(const U in g)S[M++]=U;return S}}}function hs(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var M=Tl(g),U=El(g),ae=U.length,pe=0;pe<ae;pe++)S.call(void 0,U[pe],M&&M[pe],g)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hg(g,S){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var U=g[M].indexOf("="),ae=null;if(0<=U){var pe=g[M].substring(0,U);ae=g[M].substring(U+1)}else pe=g[M];S(pe,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ei(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ei){this.h=g.h,ko(this,g.j),this.o=g.o,this.g=g.g,fs(this,g.s),this.l=g.l;var S=g.i,M=new Ha;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),ps(this,M),this.m=g.m}else g&&(S=String(g).match(_o))?(this.h=!1,ko(this,S[1]||"",!0),this.o=ot(S[2]||""),this.g=ot(S[3]||"",!0),fs(this,S[4]),this.l=ot(S[5]||"",!0),ps(this,S[6]||"",!0),this.m=ot(S[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}Ei.prototype.toString=function(){var g=[],S=this.j;S&&g.push(gs(S,Al,!0),":");var M=this.g;return(M||S=="file")&&(g.push("//"),(S=this.o)&&g.push(gs(S,Al,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(gs(M,M.charAt(0)=="/"?sf:af,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",gs(M,xu)),g.join("")};function $n(g){return new Ei(g)}function ko(g,S,M){g.j=M?ot(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function fs(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function ps(g,S,M){S instanceof Ha?(g.i=S,Ga(g.i,g.h)):(M||(S=gs(S,of)),g.i=new Ha(S,g.h))}function jt(g,S,M){g.i.set(S,M)}function ms(g){return jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ot(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function gs(g,S,M){return typeof g=="string"?(g=encodeURI(g).replace(S,nf),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function nf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Al=/[#\/\?@]/g,af=/[#\?:]/g,sf=/[#\?]/g,of=/[#\?@]/g,xu=/#/g;function Ha(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Dr(g){g.g||(g.g=new Map,g.h=0,g.i&&hg(g.i,function(S,M){g.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}t=Ha.prototype,t.add=function(g,S){Dr(this),this.i=null,g=aa(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(S),this.h+=1,this};function _a(g,S){Dr(g),S=aa(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function ka(g,S){return Dr(g),S=aa(g,S),g.g.has(S)}t.forEach=function(g,S){Dr(this),this.g.forEach(function(M,U){M.forEach(function(ae){g.call(S,ae,U,this)},this)},this)},t.na=function(){Dr(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let U=0;U<S.length;U++){const ae=g[U];for(let pe=0;pe<ae.length;pe++)M.push(S[U])}return M},t.V=function(g){Dr(this);let S=[];if(typeof g=="string")ka(this,g)&&(S=S.concat(this.g.get(aa(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)S=S.concat(g[M])}return S},t.set=function(g,S){return Dr(this),this.i=null,g=aa(this,g),ka(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function vs(g,S,M){_a(g,S),0<M.length&&(g.i=null,g.g.set(aa(g,S),w(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var U=S[M];const pe=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var ae=pe;Ae[U]!==""&&(ae+="="+encodeURIComponent(String(Ae[U]))),g.push(ae)}}return this.i=g.join("&")};function aa(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Ga(g,S){S&&!g.j&&(Dr(g),g.i=null,g.g.forEach(function(M,U){var ae=U.toLowerCase();U!=ae&&(_a(this,U),vs(this,ae,M))},g)),g.j=S}function fg(g,S){const M=new Ni;if(c.Image){const U=new Image;U.onload=x(wn,M,"TestLoadImage: loaded",!0,S,U),U.onerror=x(wn,M,"TestLoadImage: error",!1,S,U),U.onabort=x(wn,M,"TestLoadImage: abort",!1,S,U),U.ontimeout=x(wn,M,"TestLoadImage: timeout",!1,S,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else S(!1)}function lf(g,S){const M=new Ni,U=new AbortController,ae=setTimeout(()=>{U.abort(),wn(M,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:U.signal}).then(pe=>{clearTimeout(ae),pe.ok?wn(M,"TestPingServer: ok",!0,S):wn(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ae),wn(M,"TestPingServer: error",!1,S)})}function wn(g,S,M,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(M)}catch{}}function pg(){this.g=new Qn}function cf(g,S,M){const U=M||"";try{hs(g,function(ae,pe){let Ae=ae;h(ae)&&(Ae=go(ae)),S.push(U+pe+"="+encodeURIComponent(Ae))})}catch(ae){throw S.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Ti(g){this.l=g.Ub||null,this.j=g.eb||!1}k(Ti,Wa),Ti.prototype.g=function(){return new jo(this.l,this.j)},Ti.prototype.i=function(g){return function(){return g}}({});function jo(g,S){Ht.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(jo,Ht),t=jo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,Na(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||c).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ja(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function uf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?ja(this):Na(this),this.readyState==3&&uf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ja(this))},t.Qa=function(g){this.g&&(this.response=g,ja(this))},t.ga=function(){this.g&&ja(this)};function ja(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Na(g)}t.setRequestHeader=function(g,S){this.u.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=S.next();return g.join(`\r
`)};function Na(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ai(g){let S="";return C(g,function(M,U){S+=U,S+=":",S+=M,S+=`\r
`}),S}function ys(g,S,M){e:{for(U in M){var U=!1;break e}U=!0}U||(M=Ai(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):jt(g,S,M))}function qt(g){Ht.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qt,Ht);var mg=/^https?$/i,bu=["POST","PUT"];t=qt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,S,M,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?Jn(this.o):Jn(it),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(pe){No(this,pe);return}if(g=M||"",M=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)M.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const pe of U.keys())M.set(pe,U.get(pe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(M.keys()).find(pe=>pe.toLowerCase()=="content-type"),ae=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(bu,S,void 0))||U||ae||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of M)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pl(this),this.u=!0,this.g.send(g),this.u=!1}catch(pe){No(this,pe)}};function No(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,Cl(g),Fn(g)}function Cl(g){g.A||(g.A=!0,Gt(g,"complete"),Gt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Gt(this,"complete"),Gt(this,"abort"),Fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},t.bb=function(){wu(this)};function wu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||_n(g)!=4||g.Z()!=2)){if(g.u&&_n(g)==4)gt(g.Ea,0,g);else if(Gt(g,"readystatechange"),_n(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var U;if(U=Ae===0){var ae=String(g.D).match(_o)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),U=!mg.test(ae?ae.toLowerCase():"")}M=U}if(M)Gt(g,"complete"),Gt(g,"success");else{g.m=6;try{var pe=2<_n(g)?g.g.statusText:""}catch{pe=""}g.l=pe+" ["+g.Z()+"]",Cl(g)}}finally{Fn(g)}}}}function Fn(g,S){if(g.g){Pl(g);const M=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||Gt(g,"ready");try{M.onreadystatechange=U}catch{}}}function Pl(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function _n(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),ki(S)}};function _u(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Il(g){const S={};g=(g.g&&2<=_n(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(T(g[U]))continue;var M=D(g[U]);const ae=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const pe=S[ae]||[];S[ae]=pe,pe.push(M)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ka(g,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||S}function ku(g){this.Aa=0,this.i=[],this.j=new Ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ka("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ka("baseRetryDelayMs",5e3,g),this.cb=Ka("retryDelaySeedMs",1e4,g),this.Wa=Ka("forwardChannelMaxRetries",2,g),this.wa=Ka("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new wo(g&&g.concurrentRequestLimit),this.Da=new pg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ku.prototype,t.la=8,t.G=1,t.connect=function(g,S,M,U){Kt(0),this.W=g,this.H=S||{},M&&U!==void 0&&(this.H.OSID=M,this.H.OAID=U),this.F=this.X,this.I=pf(this,null,this.W),Ya(this)};function Mr(g){if(Ol(g),g.G==3){var S=g.U++,M=$n(g.I);if(jt(M,"SID",g.K),jt(M,"RID",S),jt(M,"TYPE","terminate"),Ci(g,M),S=new Ut(g,g.j,S),S.L=2,S.v=ms($n(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=S.v,M=!0),M||(S.g=mf(S.j,null),S.g.ea(S.v)),S.F=Date.now(),At(S)}ff(g)}function Sa(g){g.g&&(ju(g),g.g.cancel(),g.g=null)}function Ol(g){Sa(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ml(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Ya(g){if(!Ln(g.h)&&!g.s){g.s=!0;var S=g.Ga;oe||ee(),re||(oe(),re=!0),G.add(S,g),g.B=0}}function gg(g,S){return ef(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ln(y(g.Ga,g,S),hf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ae=new Ut(this,this.j,g);let pe=this.o;if(this.S&&(pe?(pe=I(pe),O(pe,this.S)):pe=this.S),this.m!==null||this.O||(ae.H=pe,pe=null),this.P)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var U=this.i[M];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=xs(this,ae,S),M=$n(this.I),jt(M,"RID",g),jt(M,"CVER",22),this.D&&jt(M,"X-HTTP-Session-Id",this.D),Ci(this,M),pe&&(this.O?S="headers="+encodeURIComponent(String(Ai(pe)))+"&"+S:this.m&&ys(M,this.m,pe)),yu(this.h,ae),this.Ua&&jt(M,"TYPE","init"),this.P?(jt(M,"$req",S),jt(M,"SID","null"),ae.T=!0,er(ae,M,null)):er(ae,M,S),this.G=2}}else this.G==3&&(g?Rl(this,g):this.i.length==0||Ln(this.h)||Rl(this))};function Rl(g,S){var M;S?M=S.l:M=g.U++;const U=$n(g.I);jt(U,"SID",g.K),jt(U,"RID",M),jt(U,"AID",g.T),Ci(g,U),g.m&&g.o&&ys(U,g.m,g.o),M=new Ut(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),S&&(g.i=S.D.concat(g.i)),S=xs(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),yu(g.h,M),er(M,U,S)}function Ci(g,S){g.H&&C(g.H,function(M,U){jt(S,U,M)}),g.l&&hs({},function(M,U){jt(S,U,M)})}function xs(g,S,M){M=Math.min(g.i.length,M);var U=g.l?y(g.l.Na,g.l,g):null;e:{var ae=g.i;let pe=-1;for(;;){const Ae=["count="+M];pe==-1?0<M?(pe=ae[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let bt=!0;for(let yr=0;yr<M;yr++){let ct=ae[yr].g;const Sr=ae[yr].map;if(ct-=pe,0>ct)pe=Math.max(0,ae[yr].g-100),bt=!1;else try{cf(Sr,Ae,"req"+ct+"_")}catch{U&&U(Sr)}}if(bt){U=Ae.join("&");break e}}}return g=g.i.splice(0,M),S.D=g,U}function So(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;oe||ee(),re||(oe(),re=!0),G.add(S,g),g.v=0}}function Dl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ln(y(g.Fa,g),hf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,df(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ln(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Sa(this),df(this))};function ju(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function df(g){g.g=new Ut(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=$n(g.qa);jt(S,"RID","rpc"),jt(S,"SID",g.K),jt(S,"AID",g.T),jt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&jt(S,"TO",g.ja),jt(S,"TYPE","xmlhttp"),Ci(g,S),g.m&&g.o&&ys(S,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=ms($n(S)),M.m=null,M.P=!0,Mn(M,g)}t.Za=function(){this.C!=null&&(this.C=null,Sa(this),Dl(this),Kt(19))};function Ml(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Ll(g,S){var M=null;if(g.g==S){Ml(g),ju(g),g.g=null;var U=2}else if(cn(g.h,S))M=S.D,tf(g.h,S),U=1;else return;if(g.G!=0){if(S.o)if(U==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var ae=g.B;U=ji(),Gt(U,new vr(U,M)),Ya(g)}else So(g);else if(ae=S.s,ae==3||ae==0&&0<S.X||!(U==1&&gg(g,S)||U==2&&Dl(g)))switch(M&&0<M.length&&(S=g.h,S.i=S.i.concat(M)),ae){case 1:Pi(g,5);break;case 4:Pi(g,10);break;case 3:Pi(g,6);break;default:Pi(g,2)}}}function hf(g,S){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*S}function Pi(g,S){if(g.j.info("Error code "+S),S==2){var M=y(g.fb,g),U=g.Xa;const ae=!U;U=new Ei(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ko(U,"https"),ms(U),ae?fg(U.toString(),M):lf(U.toString(),M)}else Kt(2);g.G=0,g.l&&g.l.sa(S),ff(g),Ol(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function ff(g){if(g.G=0,g.ka=[],g.l){const S=rf(g.h);(S.length!=0||g.i.length!=0)&&(b(g.ka,S),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function pf(g,S,M){var U=M instanceof Ei?$n(M):new Ei(M);if(U.g!="")S&&(U.g=S+"."+U.g),fs(U,U.s);else{var ae=c.location;U=ae.protocol,S=S?S+"."+ae.hostname:ae.hostname,ae=+ae.port;var pe=new Ei(null);U&&ko(pe,U),S&&(pe.g=S),ae&&fs(pe,ae),M&&(pe.l=M),U=pe}return M=g.D,S=g.ya,M&&S&&jt(U,M,S),jt(U,"VER",g.la),Ci(g,U),U}function mf(g,S,M){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new qt(new Ti({eb:M})):new qt(g.pa),S.Ha(g.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}t=Nu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $l(){}$l.prototype.g=function(g,S){return new un(g,S)};function un(g,S){Ht.call(this),this.g=new ku(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!T(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!T(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Xa(this)}k(un,Ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Mr(this.g)},un.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=go(g),g=M);S.i.push(new Zh(S.Ya++,g)),S.G==3&&Ya(S)},un.prototype.N=function(){this.g.l=null,delete this.j,Mr(this.g),delete this.g,un.aa.N.call(this)};function gf(g){ea.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const M in S){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}k(gf,ea);function vf(){us.call(this),this.status=1}k(vf,us);function Xa(g){this.g=g}k(Xa,Nu),Xa.prototype.ua=function(){Gt(this.g,"a")},Xa.prototype.ta=function(g){Gt(this.g,new gf(g))},Xa.prototype.sa=function(g){Gt(this.g,new vf)},Xa.prototype.ra=function(){Gt(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,KD=function(){return new $l},GD=function(){return ji()},HD=ta,f_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Lp=He,St.COMPLETE="complete",WD=St,Zn.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,cd=Zn,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,zD=qt}).apply(typeof fp<"u"?fp:typeof self<"u"?self:typeof window<"u"?window:{});const sT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new ek("@firebase/firestore");function Xu(){return ll.logLevel}function Fe(t,...e){if(ll.logLevel<=lt.DEBUG){const r=e.map(pk);ll.debug(`Firestore (${su}): ${t}`,...r)}}function Zi(t,...e){if(ll.logLevel<=lt.ERROR){const r=e.map(pk);ll.error(`Firestore (${su}): ${t}`,...r)}}function Ec(t,...e){if(ll.logLevel<=lt.WARN){const r=e.map(pk);ll.warn(`Firestore (${su}): ${t}`,...r)}}function pk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw Zi(e),new Error(e)}function _t(t,e){t||Je()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends yi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Jr.UNAUTHENTICATED))}shutdown(){}}class f9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class p9{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){_t(this.o===void 0);let n=this.i;const a=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let i=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ys,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},c=d=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ys)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(_t(typeof n.accessToken=="string"),new YD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new Jr(e)}}class m9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class g9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new m9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){_t(this.o===void 0);const n=i=>{i.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.R;return this.R=i.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?a(i):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(_t(typeof r.token=="string"),this.R=r.token,new v9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=x9(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%e.length))}return n}}function pt(t,e){return t<e?-1:t>e?1:0}function Tc(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new jr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new jr(0,0))}static max(){return new Ze(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,r,n){r===void 0?r=0:r>e.length&&Je(),n===void 0?n=e.length-r:n>e.length-r&&Je(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Id.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Id?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=e.get(a),l=r.get(a);if(i<l)return-1;if(i>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ft extends Id{construct(e,r,n){return new Ft(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Ft(r)}static emptyPath(){return new Ft([])}}const b9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends Id{construct(e,r,n){return new Ur(e,r,n)}static isValidIdentifier(e){return b9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ur(["__name__"])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Re(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(n+=c,a++):(i(),a++)}if(i(),l)throw new Re(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(r)}static emptyPath(){return new Ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ft.fromString(e))}static fromName(e){return new qe(Ft.fromString(e).popFirst(5))}static empty(){return new qe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ft.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ft(e.slice()))}}function w9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(n===1e9?new jr(r+1,0):new jr(r,n));return new to(a,qe.empty(),e)}function _9(t){return new to(t.readTime,t.key,-1)}class to{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new to(Ze.min(),qe.empty(),-1)}static max(){return new to(Ze.max(),qe.empty(),-1)}}function k9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qe.comparator(t.documentKey,e.documentKey),r!==0?r:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==j9)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ne((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.reject(r)}static resolve(e){return new Ne((r,n)=>{r(e)})}static reject(e){return new Ne((r,n)=>{n(e)})}static waitFor(e){return new Ne((r,n)=>{let a=0,i=0,l=!1;e.forEach(c=>{++a,c.next(()=>{++i,l&&i===a&&r()},d=>n(d))}),l=!0,i===a&&r()})}static or(e){let r=Ne.resolve(!1);for(const n of e)r=r.next(a=>a?Ne.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new Ne((n,a)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;r(e[h]).next(p=>{l[h]=p,++c,c===i&&n(l)},p=>a(p))}})}static doWhile(e,r){return new Ne((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function S9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ph(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mk.oe=-1;function c0(t){return t==null}function Jp(t){return t===0&&1/t==-1/0}function E9(t){return typeof t=="number"&&Number.isInteger(t)&&!Jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function xl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function QD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,r){this.comparator=e,this.root=r||Br.EMPTY}insert(e,r){return new Jt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pp(this.root,e,this.comparator,!0)}}class pp{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??Br.RED,this.left=a??Br.EMPTY,this.right=i??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new Br(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Br.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,r,n,a,i){return this}insert(e,r,n){return new Br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new qr(this.comparator);return r.data=e,r}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new qr(Ur.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new JD("Invalid base64 string: "+i):i}}(e);return new Wr(r)}static fromUint8Array(e){const r=function(a){let i="";for(let l=0;l<a.length;++l)i+=String.fromCharCode(a[l]);return i}(e);return new Wr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const T9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(_t(!!t),typeof t=="string"){let e=0;const r=T9.exec(t);if(_t(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:or(t.seconds),nanos:or(t.nanos)}}function or(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cl(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function vk(t){const e=t.mapValue.fields.__previous_value__;return gk(e)?vk(e):e}function Od(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,r,n,a,i,l,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Rd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Rd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp={mapValue:{}};function ul(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gk(t)?4:P9(t)?9007199254740991:C9(t)?10:11:Je()}function pi(t,e){if(t===e)return!0;const r=ul(t);if(r!==ul(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Od(t).isEqual(Od(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const l=ro(a.timestampValue),c=ro(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return cl(a.bytesValue).isEqual(cl(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return or(a.geoPointValue.latitude)===or(i.geoPointValue.latitude)&&or(a.geoPointValue.longitude)===or(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return or(a.integerValue)===or(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const l=or(a.doubleValue),c=or(i.doubleValue);return l===c?Jp(l)===Jp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Tc(t.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(a,i){const l=a.mapValue.fields||{},c=i.mapValue.fields||{};if(oT(l)!==oT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!pi(l[d],c[d])))return!1;return!0}(t,e);default:return Je()}}function Dd(t,e){return(t.values||[]).find(r=>pi(r,e))!==void 0}function Ac(t,e){if(t===e)return 0;const r=ul(t),n=ul(e);if(r!==n)return pt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=or(i.integerValue||i.doubleValue),d=or(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return cT(t.timestampValue,e.timestampValue);case 4:return cT(Od(t),Od(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(i,l){const c=cl(i),d=cl(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=pt(c[h],d[h]);if(p!==0)return p}return pt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=pt(or(i.latitude),or(l.latitude));return c!==0?c:pt(or(i.longitude),or(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uT(t.arrayValue,e.arrayValue);case 10:return function(i,l){var c,d,h,p;const m=i.fields||{},y=l.fields||{},x=(c=m.value)===null||c===void 0?void 0:c.arrayValue,k=(d=y.value)===null||d===void 0?void 0:d.arrayValue,w=pt(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:uT(x,k)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===mp.mapValue&&l===mp.mapValue)return 0;if(i===mp.mapValue)return 1;if(l===mp.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=pt(d[m],p[m]);if(y!==0)return y;const x=Ac(c[d[m]],h[p[m]]);if(x!==0)return x}return pt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Je()}}function cT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const r=ro(t),n=ro(e),a=pt(r.seconds,n.seconds);return a!==0?a:pt(r.nanos,n.nanos)}function uT(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Ac(r[a],n[a]);if(i)return i}return pt(r.length,n.length)}function Cc(t){return p_(t)}function p_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ro(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return cl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return qe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=p_(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const l of n)i?i=!1:a+=",",a+=`${l}:${p_(r.fields[l])}`;return a+"}"}(t.mapValue):Je()}function dT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m_(t){return!!t&&"integerValue"in t}function yk(t){return!!t&&"arrayValue"in t}function hT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $p(t){return!!t&&"mapValue"in t}function C9(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function yd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=yd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function P9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!$p(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(r)}setAll(e){let r=Ur.emptyPath(),n={},a=[];e.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,a),n={},a=[],r=c.popLast()}l?n[c.lastSegment()]=yd(l):a.push(c.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());$p(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];$p(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){xl(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new Cn(yd(this.value))}}function ZD(t){const e=[];return xl(t.fields,(r,n)=>{const a=new Ur([r]);if($p(n)){const i=ZD(n.mapValue).fields;if(i.length===0)e.push(a);else for(const l of i)e.push(a.child(l))}else e.push(a)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,r,n,a,i,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Zr(e,0,Ze.min(),Ze.min(),Ze.min(),Cn.empty(),0)}static newFoundDocument(e,r,n,a){return new Zr(e,1,r,Ze.min(),n,a,0)}static newNoDocument(e,r){return new Zr(e,2,r,Ze.min(),Ze.min(),Cn.empty(),0)}static newUnknownDocument(e,r){return new Zr(e,3,r,Ze.min(),Ze.min(),Cn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,r){this.position=e,this.inclusive=r}}function pT(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],l=t.position[a];if(i.field.isKeyField()?n=qe.comparator(qe.fromName(l.referenceValue),r.key):n=Ac(l,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function mT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!pi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,r="asc"){this.field=e,this.dir=r}}function I9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eM=class{};class pr extends eM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new R9(e,r,n):r==="array-contains"?new L9(e,n):r==="in"?new $9(e,n):r==="not-in"?new F9(e,n):r==="array-contains-any"?new V9(e,n):new pr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new D9(e,n):new M9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ac(r,this.value)):r!==null&&ul(this.value)===ul(r)&&this.matchesComparison(Ac(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends eM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Ua(e,r)}matches(e){return tM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tM(t){return t.op==="and"}function rM(t){return O9(t)&&tM(t)}function O9(t){for(const e of t.filters)if(e instanceof Ua)return!1;return!0}function g_(t){if(t instanceof pr)return t.field.canonicalString()+t.op.toString()+Cc(t.value);if(rM(t))return t.filters.map(e=>g_(e)).join(",");{const e=t.filters.map(r=>g_(r)).join(",");return`${t.op}(${e})`}}function nM(t,e){return t instanceof pr?function(n,a){return a instanceof pr&&n.op===a.op&&n.field.isEqual(a.field)&&pi(n.value,a.value)}(t,e):t instanceof Ua?function(n,a){return a instanceof Ua&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,l,c)=>i&&nM(l,a.filters[c]),!0):!1}(t,e):void Je()}function aM(t){return t instanceof pr?function(r){return`${r.field.canonicalString()} ${r.op} ${Cc(r.value)}`}(t):t instanceof Ua?function(r){return r.op.toString()+" {"+r.getFilters().map(aM).join(" ,")+"}"}(t):"Filter"}class R9 extends pr{constructor(e,r,n){super(e,r,n),this.key=qe.fromName(n.referenceValue)}matches(e){const r=qe.comparator(e.key,this.key);return this.matchesComparison(r)}}class D9 extends pr{constructor(e,r){super(e,"in",r),this.keys=iM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class M9 extends pr{constructor(e,r){super(e,"not-in",r),this.keys=iM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function iM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>qe.fromName(n.referenceValue))}class L9 extends pr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return yk(r)&&Dd(r.arrayValue,this.value)}}class $9 extends pr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dd(this.value.arrayValue,r)}}class F9 extends pr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Dd(this.value.arrayValue,r)}}class V9 extends pr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!yk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Dd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,r=null,n=[],a=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=l,this.endAt=c,this.ue=null}}function gT(t,e=null,r=[],n=[],a=null,i=null,l=null){return new B9(t,e,r,n,a,i,l)}function xk(t){const e=et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>g_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),c0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Cc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Cc(n)).join(",")),e.ue=r}return e.ue}function bk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!I9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!nM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mT(t.startAt,e.startAt)&&mT(t.endAt,e.endAt)}function v_(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,r=null,n=[],a=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U9(t,e,r,n,a,i,l,c){return new Ih(t,e,r,n,a,i,l,c)}function wk(t){return new Ih(t)}function vT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sM(t){return t.collectionGroup!==null}function xd(t){const e=et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new qr(Ur.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new em(i,n))}),r.has(Ur.keyField().canonicalString())||e.ce.push(new em(Ur.keyField(),n))}return e.ce}function ui(t){const e=et(t);return e.le||(e.le=q9(e,xd(t))),e.le}function q9(t,e){if(t.limitType==="F")return gT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new em(a.field,i)});const r=t.endAt?new Zp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Zp(t.startAt.position,t.startAt.inclusive):null;return gT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function y_(t,e){const r=t.filters.concat([e]);return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function x_(t,e,r){return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function u0(t,e){return bk(ui(t),ui(e))&&t.limitType===e.limitType}function oM(t){return`${xk(ui(t))}|lt:${t.limitType}`}function cc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>aM(a)).join(", ")}]`),c0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Cc(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Cc(a)).join(",")),`Target(${n})`}(ui(t))}; limitType=${t.limitType})`}function d0(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of xd(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(l,c,d){const h=pT(l,c,d);return l.inclusive?h<=0:h<0}(n.startAt,xd(n),a)||n.endAt&&!function(l,c,d){const h=pT(l,c,d);return l.inclusive?h>=0:h>0}(n.endAt,xd(n),a))}(t,e)}function z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lM(t){return(e,r)=>{let n=!1;for(const a of xd(t)){const i=W9(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function W9(t,e,r){const n=t.field.isKeyField()?qe.comparator(e.key,r.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?Ac(d,h):Je()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xl(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return QD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new Jt(qe.comparator);function es(){return H9}const cM=new Jt(qe.comparator);function ud(...t){let e=cM;for(const r of t)e=e.insert(r.key,r);return e}function uM(t){let e=cM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Go(){return bd()}function dM(){return bd()}function bd(){return new ou(t=>t.toString(),(t,e)=>t.isEqual(e))}const G9=new Jt(qe.comparator),K9=new qr(qe.comparator);function st(...t){let e=K9;for(const r of t)e=e.add(r);return e}const Y9=new qr(pt);function X9(){return Y9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function hM(t){return{integerValue:""+t}}function Q9(t,e){return E9(e)?hM(e):_k(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this._=void 0}}function J9(t,e,r){return t instanceof Md?function(a,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&gk(i)&&(i=vk(i)),i&&(l.fields.__previous_value__=i),{mapValue:l}}(r,e):t instanceof Ld?pM(t,e):t instanceof $d?mM(t,e):function(a,i){const l=fM(a,i),c=yT(l)+yT(a.Pe);return m_(l)&&m_(a.Pe)?hM(c):_k(a.serializer,c)}(t,e)}function Z9(t,e,r){return t instanceof Ld?pM(t,e):t instanceof $d?mM(t,e):r}function fM(t,e){return t instanceof tm?function(n){return m_(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Md extends h0{}class Ld extends h0{constructor(e){super(),this.elements=e}}function pM(t,e){const r=gM(e);for(const n of t.elements)r.some(a=>pi(a,n))||r.push(n);return{arrayValue:{values:r}}}class $d extends h0{constructor(e){super(),this.elements=e}}function mM(t,e){let r=gM(e);for(const n of t.elements)r=r.filter(a=>!pi(a,n));return{arrayValue:{values:r}}}class tm extends h0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function yT(t){return or(t.integerValue||t.doubleValue)}function gM(t){return yk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,r){this.field=e,this.transform=r}}function tU(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Ld&&a instanceof Ld||n instanceof $d&&a instanceof $d?Tc(n.elements,a.elements,pi):n instanceof tm&&a instanceof tm?pi(n.Pe,a.Pe):n instanceof Md&&a instanceof Md}(t.transform,e.transform)}class rU{constructor(e,r){this.version=e,this.transformResults=r}}class vn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class f0{}function vM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p0(t.key,vn.none()):new Oh(t.key,t.data,vn.none());{const r=t.data,n=Cn.empty();let a=new qr(Ur.comparator);for(let i of e.fields)if(!a.has(i)){let l=r.field(i);l===null&&i.length>1&&(i=i.popLast(),l=r.field(i)),l===null?n.delete(i):n.set(i,l),a=a.add(i)}return new oo(t.key,n,new Gn(a.toArray()),vn.none())}}function nU(t,e,r){t instanceof Oh?function(a,i,l){const c=a.value.clone(),d=bT(a.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,r):t instanceof oo?function(a,i,l){if(!Fp(a.precondition,i))return void i.convertToUnknownDocument(l.version);const c=bT(a.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(yM(a)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,r):function(a,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function wd(t,e,r,n){return t instanceof Oh?function(i,l,c,d){if(!Fp(i.precondition,l))return c;const h=i.value.clone(),p=wT(i.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof oo?function(i,l,c,d){if(!Fp(i.precondition,l))return c;const h=wT(i.fieldTransforms,d,l),p=l.data;return p.setAll(yM(i)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(i,l,c){return Fp(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,r)}function aU(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=fM(n.transform,a||null);i!=null&&(r===null&&(r=Cn.empty()),r.set(n.field,i))}return r||null}function xT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Tc(n,a,(i,l)=>tU(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oh extends f0{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oo extends f0{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function bT(t,e,r){const n=new Map;_t(t.length===r.length);for(let a=0;a<r.length;a++){const i=t[a],l=i.transform,c=e.data.field(i.field);n.set(i.field,Z9(l,c,r[a]))}return n}function wT(t,e,r){const n=new Map;for(const a of t){const i=a.transform,l=r.data.field(a.field);n.set(a.field,J9(i,l,e))}return n}class p0 extends f0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iU extends f0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&nU(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=wd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=wd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=dM();return this.mutations.forEach(a=>{const i=e.get(a.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=r.has(a.key)?null:c;const d=vM(l,c);d!==null&&n.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),st())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(r,n)=>xT(r,n))&&Tc(this.baseMutations,e.baseMutations,(r,n)=>xT(r,n))}}class kk{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){_t(e.mutations.length===n.length);let a=function(){return G9}();const i=e.mutations;for(let l=0;l<i.length;l++)a=a.insert(i[l].key,n[l].version);return new kk(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr,ut;function cU(t){switch(t){default:return Je();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function xM(t){if(t===void 0)return Zi("GRPC error has no .code"),we.UNKNOWN;switch(t){case dr.OK:return we.OK;case dr.CANCELLED:return we.CANCELLED;case dr.UNKNOWN:return we.UNKNOWN;case dr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case dr.INTERNAL:return we.INTERNAL;case dr.UNAVAILABLE:return we.UNAVAILABLE;case dr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case dr.NOT_FOUND:return we.NOT_FOUND;case dr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case dr.ABORTED:return we.ABORTED;case dr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case dr.DATA_LOSS:return we.DATA_LOSS;default:return Je()}}(ut=dr||(dr={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=new el([4294967295,4294967295],0);function _T(t){const e=uU().encode(t),r=new qD;return r.update(e),new Uint8Array(r.digest())}function kT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new el([r,n],0),new el([a,i],0)]}class jk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new dd(`Invalid padding: ${r}`);if(n<0)throw new dd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new dd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new dd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=el.fromNumber(this.Ie)}Ee(e,r,n){let a=e.add(r.multiply(el.fromNumber(n)));return a.compare(dU)===1&&(a=new el([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=_T(e),[n,a]=kT(r);for(let i=0;i<this.hashCount;i++){const l=this.Ee(n,a,i);if(!this.de(l))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new jk(i,a,r);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ie===0)return;const r=_T(e),[n,a]=kT(r);for(let i=0;i<this.hashCount;i++){const l=this.Ee(n,a,i);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new m0(Ze.min(),a,new Jt(pt),es(),st())}}class Rh{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Rh(n,r,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,r,n,a){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=a}}class bM{constructor(e,r){this.targetId=e,this.me=r}}class wM{constructor(e,r,n=Wr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class jT{constructor(){this.fe=0,this.ge=ST(),this.pe=Wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),r=st(),n=st();return this.ge.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Je()}}),new Rh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=ST()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hU{constructor(e){this.Le=e,this.Be=new Map,this.ke=es(),this.qe=NT(),this.Qe=new Jt(pt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,a)=>{this.ze(a)&&r(a)})}He(e){const r=e.targetId,n=e.me.count,a=this.Je(r);if(a){const i=a.target;if(v_(i))if(n===0){const l=new qe(i.path);this.Ue(r,l,Zr.newNoDocument(l,Ze.min()))}else _t(n===1);else{const l=this.Ye(r);if(l!==n){const c=this.Ze(e),d=c?this.Xe(c,e,l):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let l,c;try{l=cl(n).toUint8Array()}catch(d){if(d instanceof JD)return Ec("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new jk(l,a,i)}catch(d){return Ec(d instanceof dd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,i,null),a++)}),a}rt(e){const r=new Map;this.Be.forEach((i,l)=>{const c=this.Je(l);if(c){if(i.current&&v_(c.target)){const d=new qe(c.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,Zr.newNoDocument(d,e))}i.be&&(r.set(l,i.ve()),i.Ce())}});let n=st();this.qe.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(i))}),this.ke.forEach((i,l)=>l.setReadTime(e));const a=new m0(e,r,this.Qe,this.ke,n);return this.ke=es(),this.qe=NT(),this.Qe=new Jt(pt),a}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new jT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new qr(pt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function NT(){return new Jt(qe.comparator)}function ST(){return new Jt(qe.comparator)}const fU={asc:"ASCENDING",desc:"DESCENDING"},pU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mU={and:"AND",or:"OR"};class gU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function b_(t,e){return t.useProto3Json||c0(e)?e:{value:e}}function rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _M(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vU(t,e){return rm(t,e.toTimestamp())}function di(t){return _t(!!t),Ze.fromTimestamp(function(r){const n=ro(r);return new jr(n.seconds,n.nanos)}(t))}function Nk(t,e){return w_(t,e).canonicalString()}function w_(t,e){const r=function(a){return new Ft(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function kM(t){const e=Ft.fromString(t);return _t(TM(e)),e}function __(t,e){return Nk(t.databaseId,e.path)}function Kv(t,e){const r=kM(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qe(NM(r))}function jM(t,e){return Nk(t.databaseId,e)}function yU(t){const e=kM(t);return e.length===4?Ft.emptyPath():NM(e)}function k_(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NM(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ET(t,e,r){return{name:__(t,e),fields:r.value.mapValue.fields}}function xU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string"),Wr.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Wr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?we.UNKNOWN:xM(h.code);return new Re(p,h.message||"")}(l);r=new wM(n,a,i,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Kv(t,n.document.name),i=di(n.document.updateTime),l=n.document.createTime?di(n.document.createTime):Ze.min(),c=new Cn({mapValue:{fields:n.document.fields}}),d=Zr.newFoundDocument(a,i,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Vp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Kv(t,n.document),i=n.readTime?di(n.readTime):Ze.min(),l=Zr.newNoDocument(a,i),c=n.removedTargetIds||[];r=new Vp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Kv(t,n.document),i=n.removedTargetIds||[];r=new Vp([],i,a,null)}else{if(!("filter"in e))return Je();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,l=new lU(a,i),c=n.targetId;r=new bM(c,l)}}return r}function bU(t,e){let r;if(e instanceof Oh)r={update:ET(t,e.key,e.value)};else if(e instanceof p0)r={delete:__(t,e.key)};else if(e instanceof oo)r={update:ET(t,e.key,e.data),updateMask:AU(e.fieldMask)};else{if(!(e instanceof iU))return Je();r={verify:__(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,l){const c=l.transform;if(c instanceof Md)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ld)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $d)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tm)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Je()}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:vU(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Je()}(t,e.precondition)),r}function wU(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(r=>function(a,i){let l=a.updateTime?di(a.updateTime):di(i);return l.isEqual(Ze.min())&&(l=di(i)),new rU(l,a.transformResults||[])}(r,e))):[]}function _U(t,e){return{documents:[jM(t,e.path)]}}function kU(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jM(t,a);const i=function(h){if(h.length!==0)return EM(Ua.create(h,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:uc(y.field),direction:SU(y.dir)}}(p))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=b_(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:a}}function jU(t){let e=yU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){_t(n===1);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let i=[];r.where&&(i=function(m){const y=SM(m);return y instanceof Ua&&rM(y)?y.getFilters():[y]}(r.where));let l=[];r.orderBy&&(l=function(m){return m.map(y=>function(k){return new em(dc(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,c0(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(m){const y=!!m.before,x=m.values||[];return new Zp(x,y)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new Zp(x,y)}(r.endAt)),U9(e,a,l,i,c,"F",d,h)}function NU(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function SM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=dc(r.unaryFilter.field);return pr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=dc(r.unaryFilter.field);return pr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dc(r.unaryFilter.field);return pr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dc(r.unaryFilter.field);return pr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(r){return pr.create(dc(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ua.create(r.compositeFilter.filters.map(n=>SM(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Je()}}(r.compositeFilter.op))}(t):Je()}function SU(t){return fU[t]}function EU(t){return pU[t]}function TU(t){return mU[t]}function uc(t){return{fieldPath:t.canonicalString()}}function dc(t){return Ur.fromServerFormat(t.fieldPath)}function EM(t){return t instanceof pr?function(r){if(r.op==="=="){if(fT(r.value))return{unaryFilter:{field:uc(r.field),op:"IS_NAN"}};if(hT(r.value))return{unaryFilter:{field:uc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(fT(r.value))return{unaryFilter:{field:uc(r.field),op:"IS_NOT_NAN"}};if(hT(r.value))return{unaryFilter:{field:uc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uc(r.field),op:EU(r.op),value:r.value}}}(t):t instanceof Ua?function(r){const n=r.getFilters().map(a=>EM(a));return n.length===1?n[0]:{compositeFilter:{op:TU(r.op),filters:n}}}(t):Je()}function AU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function TM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r,n,a,i=Ze.min(),l=Ze.min(),c=Wr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.ct=e}}function PU(t){const e=jU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.un=new OU}addToCollectionParentIndex(e,r){return this.un.add(r),Ne.resolve()}getCollectionParents(e,r){return Ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ne.resolve()}deleteFieldIndex(e,r){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,r){return Ne.resolve()}getDocumentsMatchingTarget(e,r){return Ne.resolve(null)}getIndexType(e,r){return Ne.resolve(0)}getFieldIndexes(e,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,r){return Ne.resolve(to.min())}getMinOffsetFromCollectionGroup(e,r){return Ne.resolve(to.min())}updateCollectionGroup(e,r,n){return Ne.resolve()}updateIndexEntries(e,r){return Ne.resolve()}}class OU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new qr(Ft.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new qr(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pc(0)}static kn(){return new Pc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.changes=new ou(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&wd(n.mutation,a,Gn.empty(),jr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,r,n=st()){const a=Go();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let l=ud();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=Go();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,st()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((l,c)=>{r.set(l,c)})})}computeViews(e,r,n,a){let i=es();const l=bd(),c=function(){return bd()}();return r.forEach((d,h)=>{const p=n.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof oo)?i=i.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),wd(p.mutation,h,p.mutation.getFieldMask(),jr.now())):l.set(h.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,p)=>l.set(h,p)),r.forEach((h,p)=>{var m;return c.set(h,new DU(p,(m=l.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const n=bd();let a=new Jt((l,c)=>l-c),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Gn.empty();p=c.applyToLocalView(h,p),n.set(d,p);const m=(a.get(c.batchId)||st()).add(d);a=a.insert(c.batchId,m)})}).next(()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,m=dM();p.forEach(y=>{if(!i.has(y)){const x=vM(r.get(y),n.get(y));x!==null&&m.set(y,x),i=i.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):sM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const l=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):Ne.resolve(Go());let c=-1,d=i;return l.next(h=>Ne.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),i.get(p)?Ne.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,st())).next(p=>({batchId:c,changes:uM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qe(r)).next(n=>{let a=ud();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let l=ud();return this.indexManager.getCollectionParents(e,i).next(c=>Ne.forEach(c,d=>{const h=function(m,y){return new Ih(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,a).next(p=>{p.forEach((m,y)=>{l=l.insert(m,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(l=>{i.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Zr.newInvalidDocument(p)))});let c=ud();return l.forEach((d,h)=>{const p=i.get(d);p!==void 0&&wd(p.mutation,h,Gn.empty(),jr.now()),d0(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:di(a.createTime)}}(r)),Ne.resolve()}getNamedQuery(e,r){return Ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(a){return{name:a.name,query:PU(a.bundledQuery),readTime:di(a.readTime)}}(r)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.overlays=new Jt(qe.comparator),this.Ir=new Map}getOverlay(e,r){return Ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Go();return Ne.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.ht(e,r,i)}),Ne.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Ne.resolve()}getOverlaysForCollection(e,r,n){const a=Go(),i=r.length+1,l=new qe(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>n&&a.set(d.getKey(),d)}return Ne.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new Jt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=i.get(h.largestBatchId);p===null&&(p=Go(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Go(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=a)););return Ne.resolve(c)}ht(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const l=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new oU(r,n));let i=this.Ir.get(r);i===void 0&&(i=st(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.Tr=new qr(Cr.Er),this.dr=new qr(Cr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Cr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Cr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new qe(new Ft([])),n=new Cr(r,e),a=new Cr(r,e+1),i=[];return this.dr.forEachInRange([n,a],l=>{this.Vr(l),i.push(l.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new qe(new Ft([])),n=new Cr(r,e),a=new Cr(r,e+1);let i=st();return this.dr.forEachInRange([n,a],l=>{i=i.add(l.key)}),i}containsKey(e){const r=new Cr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Cr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return qe.comparator(e.key,r.key)||pt(e.wr,r.wr)}static Ar(e,r){return pt(e.wr,r.wr)||qe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new qr(Cr.Er)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sU(i,r,n,a);this.mutationQueue.push(l);for(const c of a)this.br=this.br.add(new Cr(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ne.resolve(l)}lookupMutationBatch(e,r){return Ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.vr(n),i=a<0?0:a;return Ne.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Cr(r,0),a=new Cr(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,a],l=>{const c=this.Dr(l.wr);i.push(c)}),Ne.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new qr(pt);return r.forEach(a=>{const i=new Cr(a,0),l=new Cr(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,l],c=>{n=n.add(c.wr)})}),Ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;qe.isDocumentKey(i)||(i=i.child(""));const l=new Cr(new qe(i),0);let c=new qr(pt);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===a&&(c=c.add(d.wr)),!0)},l),Ne.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const a=this.Dr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){_t(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ne.forEach(r.mutations,a=>{const i=new Cr(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Cr(r,0),a=this.br.firstAfterOrEqual(n);return Ne.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.Mr=e,this.docs=function(){return new Jt(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ne.resolve(n?n.document.mutableCopy():Zr.newInvalidDocument(r))}getEntries(e,r){let n=es();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Zr.newInvalidDocument(a))}),Ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=es();const l=r.path,c=new qe(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||k9(_9(p),n)<=0||(a.has(p.key)||d0(r,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Ne.resolve(i)}getAllFromCollectionGroup(e,r,n,a){Je()}Or(e,r){return Ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new UU(this)}getSize(e){return Ne.resolve(this.size)}}class UU extends RU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)}),Ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.persistence=e,this.Nr=new ou(r=>xk(r),bk),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Sk,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,a)=>r(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ne.resolve()}updateTargetData(e,r){return this.Kn(r),Ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.Nr.forEach((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),Ne.waitFor(i).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(l=>{i.push(a.markPotentiallyOrphaned(e,l))}),Ne.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ne.resolve(n)}containsKey(e,r){return Ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new mk(0),this.Kr=!1,this.Kr=!0,this.$r=new FU,this.referenceDelegate=e(this),this.Ur=new qU(this),this.indexManager=new IU,this.remoteDocumentCache=function(a){return new BU(a)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new CU(r),this.Gr=new LU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new $U,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new VU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Fe("MemoryPersistence","Starting transaction:",e);const a=new WU(this.Qr.next());return this.referenceDelegate.zr(),n(a).next(i=>this.referenceDelegate.jr(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Hr(e,r){return Ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class WU extends N9{constructor(e){super(),this.currentSequenceNumber=e}}class Ek{constructor(e){this.persistence=e,this.Jr=new Sk,this.Yr=null}static Zr(e){return new Ek(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(a=>this.Xr.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Xr,n=>{const a=qe.fromPath(n);return this.ei(e,a).next(i=>{i||r.removeEntry(a,Ze.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ne.or([()=>Ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(e,r){let n=st(),a=st();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Tk(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return D5()?8:S9(nn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.Yi(e,r).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.Zi(e,r,a,n).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new HU;return this.Xi(e,r,l).next(c=>{if(i.result=c,this.zi)return this.es(e,r,l,c.size)})}).next(()=>i.result)}es(e,r,n,a){return n.documentReadCount<this.ji?(Xu()<=lt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",cc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ne.resolve()):(Xu()<=lt.DEBUG&&Fe("QueryEngine","Query:",cc(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Xu()<=lt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",cc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(r))):Ne.resolve())}Yi(e,r){if(vT(r))return Ne.resolve(null);let n=ui(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=x_(r,null,"F"),n=ui(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const l=st(...i);return this.Ji.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,l,d.readTime)?this.Yi(e,x_(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,a){return vT(r)||a.isEqual(Ze.min())?Ne.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const l=this.ts(r,i);return this.ns(r,l,n,a)?Ne.resolve(null):(Xu()<=lt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),cc(r)),this.rs(e,l,r,w9(a,-1)).next(c=>c))})}ts(e,r){let n=new qr(lM(e));return r.forEach((a,i)=>{d0(e,i)&&(n=n.add(i))}),n}ns(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Xi(e,r,n){return Xu()<=lt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",cc(r)),this.Ji.getDocumentsMatchingQuery(e,r,to.min(),n)}rs(e,r,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r,n,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new Jt(pt),this._s=new ou(i=>xk(i),bk),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function YU(t,e,r,n){return new KU(t,e,r,n)}async function AM(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const l=[],c=[];let d=st();for(const h of a){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:c}))})})}function XU(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const m=h.batch,y=m.keys();let x=Ne.resolve();return y.forEach(k=>{x=x.next(()=>p.getEntry(d,k)).next(w=>{const b=h.docVersions.get(k);_t(b!==null),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=st();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function CM(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function QU(t,e){const r=et(t),n=e.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const c=[];e.targetChanges.forEach((p,m)=>{const y=a.get(m);if(!y)return;c.push(r.Ur.removeMatchingKeys(i,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(i,p.addedDocuments,m)));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Wr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),a=a.insert(m,x),function(w,b,N){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,x,p)&&c.push(r.Ur.updateTargetData(i,x))});let d=es(),h=st();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(JU(i,l,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(Ze.min())){const p=r.Ur.getLastRemoteSnapshotVersion(i).next(m=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));c.push(p)}return Ne.waitFor(c).next(()=>l.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(r.os=a,i))}function JU(t,e,r){let n=st(),a=st();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let l=es();return r.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),d.isNoDocument()&&d.version.isEqual(Ze.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:l,Is:a}})}function ZU(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function e7(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Ur.getTargetData(n,e).next(i=>i?(a=i,Ne.resolve(a)):r.Ur.allocateTargetId(n).next(l=>(a=new Ws(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function j_(t,e,r){const n=et(t),a=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,l=>n.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Ph(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function TT(t,e,r){const n=et(t);let a=Ze.min(),i=st();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const m=et(d),y=m._s.get(p);return y!==void 0?Ne.resolve(m.os.get(y)):m.Ur.getTargetData(h,p)}(n,l,ui(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>n.ss.getDocumentsMatchingQuery(l,e,r?a:Ze.min(),r?i:st())).next(c=>(t7(n,z9(e),c),{documents:c,Ts:i})))}function t7(t,e,r){let n=t.us.get(e)||Ze.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class AT{constructor(){this.activeTargetIds=X9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r7{constructor(){this.so=new AT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function Yv(){return gp===null?gp=function(){return 268435456+Math.round(2147483648*Math.random())}():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="WebChannelConnection";class s7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${i}`}get Fo(){return!1}Mo(r,n,a,i,l){const c=Yv(),d=this.xo(r,n.toUriEncodedString());Fe("RestConnection",`Sending RPC '${r}' ${c}:`,d,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,l),this.No(r,d,h,a).then(p=>(Fe("RestConnection",`Received RPC '${r}' ${c}: `,p),p),p=>{throw Ec("RestConnection",`RPC '${r}' ${c} failed with error: `,p,"url: ",d,"request:",a),p})}Lo(r,n,a,i,l,c){return this.Mo(r,n,a,i,l)}Oo(r,n,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,l)=>r[l]=i),a&&a.headers.forEach((i,l)=>r[l]=i)}xo(r,n){const a=a7[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,a){const i=Yv();return new Promise((l,c)=>{const d=new zD;d.setWithCredentials(!0),d.listenOnce(WD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lp.NO_ERROR:const p=d.getResponseJson();Fe(Xr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),l(p);break;case Lp.TIMEOUT:Fe(Xr,`RPC '${e}' ${i} timed out`),c(new Re(we.DEADLINE_EXCEEDED,"Request time out"));break;case Lp.HTTP_ERROR:const m=d.getStatus();if(Fe(Xr,`RPC '${e}' ${i} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const k=function(b){const N=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(N)>=0?N:we.UNKNOWN}(x.status);c(new Re(k,x.message))}else c(new Re(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(we.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Fe(Xr,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(a);Fe(Xr,`RPC '${e}' ${i} sending request:`,a),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const a=Yv(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=KD(),c=GD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=i.join("");Fe(Xr,`Creating RPC '${e}' stream ${a}: ${p}`,d);const m=l.createWebChannel(p,d);let y=!1,x=!1;const k=new i7({Io:b=>{x?Fe(Xr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(y||(Fe(Xr,`Opening RPC '${e}' stream ${a} transport.`),m.open(),y=!0),Fe(Xr,`RPC '${e}' stream ${a} sending:`,b),m.send(b))},To:()=>m.close()}),w=(b,N,T)=>{b.listen(N,P=>{try{T(P)}catch(R){setTimeout(()=>{throw R},0)}})};return w(m,cd.EventType.OPEN,()=>{x||(Fe(Xr,`RPC '${e}' stream ${a} transport opened.`),k.yo())}),w(m,cd.EventType.CLOSE,()=>{x||(x=!0,Fe(Xr,`RPC '${e}' stream ${a} transport closed`),k.So())}),w(m,cd.EventType.ERROR,b=>{x||(x=!0,Ec(Xr,`RPC '${e}' stream ${a} transport errored:`,b),k.So(new Re(we.UNAVAILABLE,"The operation could not be completed")))}),w(m,cd.EventType.MESSAGE,b=>{var N;if(!x){const T=b.data[0];_t(!!T);const P=T,R=P.error||((N=P[0])===null||N===void 0?void 0:N.error);if(R){Fe(Xr,`RPC '${e}' stream ${a} received error:`,R);const j=R.status;let C=function(L){const O=dr[L];if(O!==void 0)return xM(O)}(j),A=R.message;C===void 0&&(C=we.INTERNAL,A="Unknown error status: "+j+" with message "+R.message),x=!0,k.So(new Re(C,A)),m.close()}else Fe(Xr,`RPC '${e}' stream ${a} received:`,T),k.bo(T)}}),w(c,HD.STAT_EVENT,b=>{b.stat===f_.PROXY?Fe(Xr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===f_.NOPROXY&&Fe(Xr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return new gU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,r,n=1e3,a=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=a,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,r,n,a,i,l,c,d){this.ui=e,this.Ho=n,this.Jo=a,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Zi(r.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.Yo===r&&this.P_(n,a)},n=>{e(()=>{const a=new Re(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{n(()=>this.I_(a))}),this.stream.onMessage(a=>{n(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o7 extends IM{constructor(e,r,n,a,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,l),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=xU(this.serializer,e),n=function(i){if(!("targetChange"in i))return Ze.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?di(l.readTime):Ze.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=k_(this.serializer),r.addTarget=function(i,l){let c;const d=l.target;if(c=v_(d)?{documents:_U(i,d)}:{query:kU(i,d)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=_M(i,l.resumeToken);const h=b_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){c.readTime=rm(i,l.snapshotVersion.toTimestamp());const h=b_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=NU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=k_(this.serializer),r.removeTarget=e,this.a_(r)}}class l7 extends IM{constructor(e,r,n,a,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,l),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=wU(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=k_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>bU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7 extends class{}{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Mo(e,w_(r,n),a,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(we.UNKNOWN,i.toString())})}Lo(e,r,n,a,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Lo(e,w_(r,n),a,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(we.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class u7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zi(r),this.D_=!1):Fe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(l=>{n.enqueueAndForget(async()=>{bl(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=et(d);h.L_.add(4),await Dh(h),h.q_.set("Unknown"),h.L_.delete(4),await v0(h)}(this))})}),this.q_=new u7(n,a)}}async function v0(t){if(bl(t))for(const e of t.B_)await e(!0)}async function Dh(t){for(const e of t.B_)await e(!1)}function OM(t,e){const r=et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Ik(r)?Pk(r):lu(r).r_()&&Ck(r,e))}function Ak(t,e){const r=et(t),n=lu(r);r.N_.delete(e),n.r_()&&RM(r,e),r.N_.size===0&&(n.r_()?n.o_():bl(r)&&r.q_.set("Unknown"))}function Ck(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}lu(t).A_(e)}function RM(t,e){t.Q_.xe(e),lu(t).R_(e)}function Pk(t){t.Q_=new hU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lu(t).start(),t.q_.v_()}function Ik(t){return bl(t)&&!lu(t).n_()&&t.N_.size>0}function bl(t){return et(t).L_.size===0}function DM(t){t.Q_=void 0}async function h7(t){t.q_.set("Online")}async function f7(t){t.N_.forEach((e,r)=>{Ck(t,e)})}async function p7(t,e){DM(t),Ik(t)?(t.q_.M_(e),Pk(t)):t.q_.set("Unknown")}async function m7(t,e,r){if(t.q_.set("Online"),e instanceof wM&&e.state===2&&e.cause)try{await async function(a,i){const l=i.cause;for(const c of i.targetIds)a.N_.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.N_.delete(c),a.Q_.removeTarget(c))}(t,e)}catch(n){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await nm(t,n)}else if(e instanceof Vp?t.Q_.Ke(e):e instanceof bM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ze.min()))try{const n=await CM(t.localStore);r.compareTo(n)>=0&&await function(i,l){const c=i.Q_.rt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.N_.get(h);p&&i.N_.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=i.N_.get(d);if(!p)return;i.N_.set(d,p.withResumeToken(Wr.EMPTY_BYTE_STRING,p.snapshotVersion)),RM(i,d);const m=new Ws(p.target,d,h,p.sequenceNumber);Ck(i,m)}),i.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Fe("RemoteStore","Failed to raise snapshot:",n),await nm(t,n)}}async function nm(t,e,r){if(!Ph(e))throw e;t.L_.add(1),await Dh(t),t.q_.set("Offline"),r||(r=()=>CM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await v0(t)})}function MM(t,e){return e().catch(r=>nm(t,r,e))}async function y0(t){const e=et(t),r=no(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;g7(e);)try{const a=await ZU(e.localStore,n);if(a===null){e.O_.length===0&&r.o_();break}n=a.batchId,v7(e,a)}catch(a){await nm(e,a)}LM(e)&&$M(e)}function g7(t){return bl(t)&&t.O_.length<10}function v7(t,e){t.O_.push(e);const r=no(t);r.r_()&&r.V_&&r.m_(e.mutations)}function LM(t){return bl(t)&&!no(t).n_()&&t.O_.length>0}function $M(t){no(t).start()}async function y7(t){no(t).p_()}async function x7(t){const e=no(t);for(const r of t.O_)e.m_(r.mutations)}async function b7(t,e,r){const n=t.O_.shift(),a=kk.from(n,e,r);await MM(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await y0(t)}async function w7(t,e){e&&no(t).V_&&await async function(n,a){if(function(l){return cU(l)&&l!==we.ABORTED}(a.code)){const i=n.O_.shift();no(n).s_(),await MM(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await y0(n)}}(t,e),LM(t)&&$M(t)}async function PT(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const n=bl(r);r.L_.add(3),await Dh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await v0(r)}async function _7(t,e){const r=et(t);e?(r.L_.delete(2),await v0(r)):e||(r.L_.add(2),await Dh(r),r.q_.set("Unknown"))}function lu(t){return t.K_||(t.K_=function(r,n,a){const i=et(r);return i.w_(),new o7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:h7.bind(null,t),Ro:f7.bind(null,t),mo:p7.bind(null,t),d_:m7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ik(t)?Pk(t):t.q_.set("Unknown")):(await t.K_.stop(),DM(t))})),t.K_}function no(t){return t.U_||(t.U_=function(r,n,a){const i=et(r);return i.w_(),new l7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:y7.bind(null,t),mo:w7.bind(null,t),f_:x7.bind(null,t),g_:b7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await y0(t)):(await t.U_.stop(),t.O_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const l=Date.now()+n,c=new Ok(e,r,l,a,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rk(t,e){if(Zi("AsyncQueue",`${e}: ${t}`),Ph(t))return new Re(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||qe.comparator(r.key,n.key):(r,n)=>qe.comparator(r.key,n.key),this.keyedMap=ud(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new wc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof wc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new wc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.W_=new Jt(qe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ic{constructor(e,r,n,a,i,l,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,a,i){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Ic(e,r,wc.emptySet(r),l,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class j7{constructor(){this.queries=OT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const a=et(r),i=a.queries;a.queries=OT(),i.forEach((l,c)=>{for(const d of c.j_)d.onError(n)})})(this,new Re(we.ABORTED,"Firestore shutting down"))}}function OT(){return new ou(t=>oM(t),u0)}async function FM(t,e){const r=et(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.H_()&&e.J_()&&(n=2):(i=new k7,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(a,!0);break;case 1:i.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(l){const c=Rk(l,`Initialization of query '${cc(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&Dk(r)}async function VM(t,e){const r=et(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const l=i.j_.indexOf(e);l>=0&&(i.j_.splice(l,1),i.j_.length===0?a=e.J_()?0:1:!i.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function N7(t,e){const r=et(t);let n=!1;for(const a of e){const i=a.query,l=r.queries.get(i);if(l){for(const c of l.j_)c.X_(a)&&(n=!0);l.z_=a}}n&&Dk(r)}function S7(t,e,r){const n=et(t),a=n.queries.get(e);if(a)for(const i of a.j_)i.onError(r);n.queries.delete(e)}function Dk(t){t.Y_.forEach(e=>{e.next()})}var N_,RT;(RT=N_||(N_={})).ea="default",RT.Cache="cache";class BM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Ic(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==N_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.key=e}}class qM{constructor(e){this.key=e}}class E7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=lM(e),this.Ra=new wc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new IT,a=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,l=a,c=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,m)=>{const y=a.get(p),x=d0(this.query,m)?m:null,k=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?k!==w&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||h&&this.Aa(x,h)<0)&&(c=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||h)&&(c=!0)),b&&(x?(l=l.add(x),i=w?i.add(p):i.delete(p)):(l=l.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),i=i.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:c,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((p,m)=>function(x,k){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return w(x)-w(k)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),a=a!=null&&a;const c=r&&!a?this.ya():[],d=this.da.size===0&&this.current&&!a?1:0,h=d!==this.Ea;return this.Ea=d,l.length!==0||h?{snapshot:new Ic(this.query,e.Ra,i,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new IT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=st(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new qM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new UM(n))}),r}ba(e){this.Ta=e.Ts,this.da=st();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class T7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class A7{constructor(e){this.key=e,this.va=!1}}class C7{constructor(e,r,n,a,i,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new ou(c=>oM(c),u0),this.Ma=new Map,this.xa=new Set,this.Oa=new Jt(qe.comparator),this.Na=new Map,this.La=new Sk,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function P7(t,e,r=!0){const n=YM(t);let a;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Da()):a=await zM(n,e,r,!0),a}async function I7(t,e){const r=YM(t);await zM(r,e,!0,!1)}async function zM(t,e,r,n){const a=await e7(t.localStore,ui(e)),i=a.targetId,l=t.sharedClientState.addLocalQueryTarget(i,r);let c;return n&&(c=await O7(t,e,i,l==="current",a.resumeToken)),t.isPrimaryClient&&r&&OM(t.remoteStore,a),c}async function O7(t,e,r,n,a){t.Ka=(m,y,x)=>async function(w,b,N,T){let P=b.view.ma(N);P.ns&&(P=await TT(w.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,P)));const R=T&&T.targetChanges.get(b.targetId),j=T&&T.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(P,w.isPrimaryClient,R,j);return MT(w,b.targetId,C.wa),C.snapshot}(t,m,y,x);const i=await TT(t.localStore,e,!0),l=new E7(e,i.Ts),c=l.ma(i.documents),d=Rh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),h=l.applyChanges(c,t.isPrimaryClient,d);MT(t,r,h.wa);const p=new T7(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function R7(t,e,r){const n=et(t),a=n.Fa.get(e),i=n.Ma.get(a.targetId);if(i.length>1)return n.Ma.set(a.targetId,i.filter(l=>!u0(l,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await j_(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Ak(n.remoteStore,a.targetId),S_(n,a.targetId)}).catch(Ch)):(S_(n,a.targetId),await j_(n.localStore,a.targetId,!0))}async function D7(t,e){const r=et(t),n=r.Fa.get(e),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ak(r.remoteStore,n.targetId))}async function M7(t,e,r){const n=q7(t);try{const a=await function(l,c){const d=et(l),h=jr.now(),p=c.reduce((x,k)=>x.add(k.key),st());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=es(),w=st();return d.cs.getEntries(x,p).next(b=>{k=b,k.forEach((N,T)=>{T.isValidDocument()||(w=w.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,k)).next(b=>{m=b;const N=[];for(const T of c){const P=aU(T,m.get(T.key).overlayedDocument);P!=null&&N.push(new oo(T.key,P,ZD(P.value.mapValue),vn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,N,c)}).next(b=>{y=b;const N=b.applyToLocalDocumentSet(m,w);return d.documentOverlayCache.saveOverlays(x,b.batchId,N)})}).then(()=>({batchId:y.batchId,changes:uM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(l,c,d){let h=l.Ba[l.currentUser.toKey()];h||(h=new Jt(pt)),h=h.insert(c,d),l.Ba[l.currentUser.toKey()]=h}(n,a.batchId,r),await Mh(n,a.changes),await y0(n.remoteStore)}catch(a){const i=Rk(a,"Failed to persist write");r.reject(i)}}async function WM(t,e){const r=et(t);try{const n=await QU(r.localStore,e);e.targetChanges.forEach((a,i)=>{const l=r.Na.get(i);l&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.va=!0:a.modifiedDocuments.size>0?_t(l.va):a.removedDocuments.size>0&&(_t(l.va),l.va=!1))}),await Mh(r,n,e)}catch(n){await Ch(n)}}function DT(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Fa.forEach((i,l)=>{const c=l.view.Z_(e);c.snapshot&&a.push(c.snapshot)}),function(l,c){const d=et(l);d.onlineState=c;let h=!1;d.queries.forEach((p,m)=>{for(const y of m.j_)y.Z_(c)&&(h=!0)}),h&&Dk(d)}(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function L7(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Na.get(e),i=a&&a.key;if(i){let l=new Jt(qe.comparator);l=l.insert(i,Zr.newNoDocument(i,Ze.min()));const c=st().add(i),d=new m0(Ze.min(),new Map,new Jt(pt),l,c);await WM(n,d),n.Oa=n.Oa.remove(i),n.Na.delete(e),Mk(n)}else await j_(n.localStore,e,!1).then(()=>S_(n,e,r)).catch(Ch)}async function $7(t,e){const r=et(t),n=e.batch.batchId;try{const a=await XU(r.localStore,e);GM(r,n,null),HM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Mh(r,a)}catch(a){await Ch(a)}}async function F7(t,e,r){const n=et(t);try{const a=await function(l,c){const d=et(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(m=>(_t(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);GM(n,e,r),HM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Mh(n,a)}catch(a){await Ch(a)}}function HM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function GM(t,e,r){const n=et(t);let a=n.Ba[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function S_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||KM(t,n)})}function KM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Ak(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Mk(t))}function MT(t,e,r){for(const n of r)n instanceof UM?(t.La.addReference(n.key,e),V7(t,n)):n instanceof qM?(Fe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||KM(t,n.key)):Je()}function V7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Fe("SyncEngine","New document in limbo: "+r),t.xa.add(n),Mk(t))}function Mk(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new qe(Ft.fromString(e)),n=t.qa.next();t.Na.set(n,new A7(r)),t.Oa=t.Oa.insert(r,n),OM(t.remoteStore,new Ws(ui(wk(r.path)),n,"TargetPurposeLimboResolution",mk.oe))}}async function Mh(t,e,r){const n=et(t),a=[],i=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{l.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Tk.Wi(d.targetId,h);i.push(m)}}))}),await Promise.all(l),n.Ca.d_(a),await async function(d,h){const p=et(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(h,y=>Ne.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>Ne.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!Ph(m))throw m;Fe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.os.get(y),k=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(k);p.os=p.os.insert(y,w)}}}(n.localStore,i))}async function B7(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const n=await AM(r.localStore,e);r.currentUser=e,function(i,l){i.ka.forEach(c=>{c.forEach(d=>{d.reject(new Re(we.CANCELLED,l))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Mh(r,n.hs)}}function U7(t,e){const r=et(t),n=r.Na.get(e);if(n&&n.va)return st().add(n.key);{let a=st();const i=r.Ma.get(e);if(!i)return a;for(const l of i){const c=r.Fa.get(l);a=a.unionWith(c.view.Va)}return a}}function YM(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L7.bind(null,e),e.Ca.d_=N7.bind(null,e.eventManager),e.Ca.$a=S7.bind(null,e.eventManager),e}function q7(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F7.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=g0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return YU(this.persistence,new GU,e.initialUser,this.serializer)}Ga(e){return new zU(Ek.Zr,this.serializer)}Wa(e){return new r7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class E_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>DT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=B7.bind(null,this.syncEngine),await _7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j7}()}createDatastore(e){const r=g0(e.databaseInfo.databaseId),n=function(i){return new s7(i)}(e.databaseInfo);return function(i,l,c,d){return new c7(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,l,c){return new d7(n,a,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,r=>DT(this.syncEngine,r,0),function(){return CT.D()?new CT:new n7}())}createSyncEngine(e,r){return function(a,i,l,c,d,h,p){const m=new C7(a,i,l,c,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=et(a);Fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Dh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Jr.UNAUTHENTICATED,this.clientId=XD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async l=>{Fe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Rk(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Qv(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await AM(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function LT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await W7(t);Fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>PT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>PT(e.remoteStore,a)),t._onlineComponents=e}async function W7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Ec("Error using user provided cache. Falling back to memory cache: "+r),await Qv(t,new am)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await Qv(t,new am);return t._offlineComponents}async function QM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await LT(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await LT(t,new E_))),t._onlineComponents}function H7(t){return QM(t).then(e=>e.syncEngine)}async function T_(t){const e=await QM(t),r=e.eventManager;return r.onListen=P7.bind(null,e.syncEngine),r.onUnlisten=R7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=I7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=D7.bind(null,e.syncEngine),r}function G7(t,e,r={}){const n=new Ys;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new XM({next:y=>{p.Za(),l.enqueueAndForget(()=>VM(i,m)),y.fromCache&&d.source==="server"?h.reject(new Re(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new BM(c,p,{includeMetadataChanges:!0,_a:!0});return FM(i,m)}(await T_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e,r){if(!r)throw new Re(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function K7(t,e,r,n){if(e===!0&&n===!0)throw new Re(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function FT(t){if(!qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VT(t){if(qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=x0(t);throw new Re(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h9;switch(n.type){case"firstParty":return new g9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=$T.get(r);n&&(Fe("ComponentProvider","Removing Datastore"),$T.delete(r),n.terminate())}(this),Promise.resolve()}}function Y7(t,e,r,n={}){var a;const i=(t=Yn(t,b0))._getSettings(),l=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==l&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Jr.MOCK_USER;else{c=nD(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Jr(h)}t._authCredentials=new f9(new YD(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wl(this.firestore,e,this._query)}}class yn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Xs extends wl{constructor(e,r,n){super(e,r,wk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new qe(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function ni(t,e,...r){if(t=Vt(t),ZM("collection","path",e),t instanceof b0){const n=Ft.fromString(e,...r);return VT(n),new Xs(t,null,n)}{if(!(t instanceof yn||t instanceof Xs))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ft.fromString(e,...r));return VT(n),new Xs(t.firestore,null,n)}}function fr(t,e,...r){if(t=Vt(t),arguments.length===1&&(e=XD.newId()),ZM("doc","path",e),t instanceof b0){const n=Ft.fromString(e,...r);return FT(n),new yn(t,null,new qe(n))}{if(!(t instanceof yn||t instanceof Xs))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ft.fromString(e,...r));return FT(n),new yn(t.firestore,t instanceof Xs?t.converter:null,new qe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PM(this,"async_queue_retry"),this.Vu=()=>{const n=Xv();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Xv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Xv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ys;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ph(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const a=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Zi("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const a=Ok.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(a),a}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function qT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ts extends b0{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new UT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UT(e),this._firestoreClient=void 0,await e}}}function e4(t,e){const r=typeof t=="object"?t:nk(),n=typeof t=="string"?t:"(default)",a=i0(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=eD("firestore");i&&Y7(a,...i)}return a}function w0(t){if(t._terminated)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X7(t),t._firestoreClient}function X7(t){var e,r,n;const a=t._freezeSettings(),i=function(c,d,h,p){return new A9(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new z7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Wr.fromBase64String(e))}catch(r){throw new Re(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Oc(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=/^__.*__$/;class J7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Oh(e,this.data,r,this.fieldTransforms)}}class t4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new oo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function r4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Fk{constructor(e,r,n,a,i,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return im(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(r4(this.Cu)&&Q7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Z7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||g0(e)}Qu(e,r,n,a=!1){return new Fk({Cu:e,methodName:r,qu:n,path:Ur.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(t){const e=t._freezeSettings(),r=g0(t._databaseId);return new Z7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Vk(t,e,r,n,a,i={}){const l=t.Qu(i.merge||i.mergeFields?2:0,e,r,a);Uk("Data must be an object, but it was:",l,n);const c=i4(n,l);let d,h;if(i.merge)d=new Gn(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const y=A_(e,m,r);if(!l.contains(y))throw new Re(we.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);o4(p,y)||p.push(y)}d=new Gn(p),h=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=l.fieldTransforms;return new J7(new Cn(c),d,h)}class k0 extends _0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k0}}class Bk extends _0{_toFieldTransform(e){return new eU(e.path,new Md)}isEqual(e){return e instanceof Bk}}function n4(t,e,r,n){const a=t.Qu(1,e,r);Uk("Data must be an object, but it was:",a,n);const i=[],l=Cn.empty();xl(n,(d,h)=>{const p=qk(e,d,r);h=Vt(h);const m=a.Nu(p);if(h instanceof k0)i.push(p);else{const y=Fh(h,m);y!=null&&(i.push(p),l.set(p,y))}});const c=new Gn(i);return new t4(l,c,a.fieldTransforms)}function a4(t,e,r,n,a,i){const l=t.Qu(1,e,r),c=[A_(e,n,r)],d=[a];if(i.length%2!=0)throw new Re(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(A_(e,i[y])),d.push(i[y+1]);const h=[],p=Cn.empty();for(let y=c.length-1;y>=0;--y)if(!o4(h,c[y])){const x=c[y];let k=d[y];k=Vt(k);const w=l.Nu(x);if(k instanceof k0)h.push(x);else{const b=Fh(k,w);b!=null&&(h.push(x),p.set(x,b))}}const m=new Gn(h);return new t4(p,m,l.fieldTransforms)}function e8(t,e,r,n=!1){return Fh(r,t.Qu(n?4:3,e))}function Fh(t,e){if(s4(t=Vt(t)))return Uk("Unsupported field value:",e,t),i4(t,e);if(t instanceof _0)return function(n,a){if(!r4(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,a){const i=[];let l=0;for(const c of n){let d=Fh(c,a.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Q9(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=jr.fromDate(n);return{timestampValue:rm(a.serializer,i)}}if(n instanceof jr){const i=new jr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rm(a.serializer,i)}}if(n instanceof Lk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oc)return{bytesValue:_M(a.serializer,n._byteString)};if(n instanceof yn){const i=a.databaseId,l=n.firestore._databaseId;if(!l.isEqual(i))throw a.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Nk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof $k)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return _k(c.serializer,d)})}}}}}}(n,a);throw a.Bu(`Unsupported field value: ${x0(n)}`)}(t,e)}function i4(t,e){const r={};return QD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xl(t,(n,a)=>{const i=Fh(a,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function s4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jr||t instanceof Lk||t instanceof Oc||t instanceof yn||t instanceof _0||t instanceof $k)}function Uk(t,e,r){if(!s4(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=x0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function A_(t,e,r){if((e=Vt(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return qk(t,e);throw im("Field path arguments must be of type string or ",t,!1,void 0,r)}const t8=new RegExp("[~\\*/\\[\\]]");function qk(t,e,r){if(e.search(t8)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Lh(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function im(t,e,r,n,a){const i=n&&!n.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${n}`),l&&(d+=` in document ${a}`),d+=")"),new Re(we.INVALID_ARGUMENT,c+t+d)}function o4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(c4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class r8 extends l4{data(){return super.data()}}function c4(t,e){return typeof e=="string"?qk(t,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zk{}class n8 extends zk{}function a8(t,e,...r){let n=[];e instanceof zk&&n.push(e),n=n.concat(r),function(i){const l=i.filter(d=>d instanceof Hk).length,c=i.filter(d=>d instanceof Wk).length;if(l>1||l>0&&c>0)throw new Re(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Wk extends n8{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Wk(e,r,n)}_apply(e){const r=this._parse(e);return d4(e._query,r),new wl(e.firestore,e.converter,y_(e._query,r))}_parse(e){const r=$h(e.firestore);return function(i,l,c,d,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){WT(m,p);const x=[];for(const k of m)x.push(zT(d,i,k));y={arrayValue:{values:x}}}else y=zT(d,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||WT(m,p),y=e8(c,l,m,p==="in"||p==="not-in");return pr.create(h,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Hk extends zk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Hk(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Ua.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let l=a;const c=i.getFlattenedFilters();for(const d of c)d4(l,d),l=y_(l,d)}(e._query,r),new wl(e.firestore,e.converter,y_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zT(t,e,r){if(typeof(r=Vt(r))=="string"){if(r==="")throw new Re(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sM(e)&&r.indexOf("/")!==-1)throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ft.fromString(r));if(!qe.isDocumentKey(n))throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return dT(t,new qe(n))}if(r instanceof yn)return dT(t,r._key);throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x0(r)}.`)}function WT(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d4(t,e){const r=function(a,i){for(const l of a)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class i8{convertValue(e,r="none"){switch(ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return xl(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,a;const i=(a=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(l=>or(l.doubleValue));return new $k(i)}convertGeoPoint(e){return new Lk(or(e.latitude),or(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vk(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const r=ro(e);return new jr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ft.fromString(e);_t(TM(n));const a=new Rd(n.get(1),n.get(3)),i=new qe(n.popFirst(5));return a.isEqual(r)||Zi(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h4 extends l4{constructor(e,r,n,a,i,l){super(e,r,n,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(c4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Bp extends h4{data(e={}){return super.data(e)}}class f4{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new hd(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Bp(this._firestore,this._userDataWriter,n.key,n,new hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(c=>{const d=new Bp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new hd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new Bp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new hd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:s8(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function s8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}class Kk extends i8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,r)}}function o8(t){t=Yn(t,wl);const e=Yn(t.firestore,ts),r=w0(e),n=new Kk(e);return u4(t._query),G7(r,t._query).then(a=>new f4(e,n,t,a))}function C_(t,e,r){t=Yn(t,yn);const n=Yn(t.firestore,ts),a=Gk(t.converter,e,r);return Vh(n,[Vk($h(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,vn.none())])}function tl(t,e,r,...n){t=Yn(t,yn);const a=Yn(t.firestore,ts),i=$h(a);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Lh?a4(i,"updateDoc",t._key,e,r,n):n4(i,"updateDoc",t._key,e),Vh(a,[l.toMutation(t._key,vn.exists(!0))])}function p4(t){return Vh(Yn(t.firestore,ts),[new p0(t._key,vn.none())])}function m4(t,e){const r=Yn(t.firestore,ts),n=fr(t),a=Gk(t.converter,e);return Vh(r,[Vk($h(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,vn.exists(!1))]).then(()=>n)}function _c(t,...e){var r,n,a;t=Vt(t);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||qT(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qT(e[l])){const m=e[l];e[l]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(a=m.complete)===null||a===void 0?void 0:a.bind(m)}let d,h,p;if(t instanceof yn)h=Yn(t.firestore,ts),p=wk(t._key.path),d={next:m=>{e[l]&&e[l](l8(h,t,m))},error:e[l+1],complete:e[l+2]};else{const m=Yn(t,wl);h=Yn(m.firestore,ts),p=m._query;const y=new Kk(h);d={next:x=>{e[l]&&e[l](new f4(h,y,m,x))},error:e[l+1],complete:e[l+2]},u4(t._query)}return function(y,x,k,w){const b=new XM(w),N=new BM(x,b,k);return y.asyncQueue.enqueueAndForget(async()=>FM(await T_(y),N)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>VM(await T_(y),N))}}(w0(h),p,c,d)}function Vh(t,e){return function(n,a){const i=new Ys;return n.asyncQueue.enqueueAndForget(async()=>M7(await H7(n),a,i)),i.promise}(w0(t),e)}function l8(t,e,r){const n=r.docs.get(e._key),a=new Kk(t);return new h4(t,a,e._key,n,new hd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=$h(e)}set(e,r,n){this._verifyNotCommitted();const a=Jv(e,this._firestore),i=Gk(a.converter,r,n),l=Vk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(l.toMutation(a._key,vn.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const i=Jv(e,this._firestore);let l;return l=typeof(r=Vt(r))=="string"||r instanceof Lh?a4(this._dataReader,"WriteBatch.update",i._key,r,n,a):n4(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(l.toMutation(i._key,vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Jv(e,this._firestore);return this._mutations=this._mutations.concat(new p0(r._key,vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jv(t,e){if((t=Vt(t)).firestore!==e)throw new Re(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Us(){return new Bk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return w0(t=Yn(t,ts)),new c8(t,e=>Vh(t,e))}(function(e,r=!0){(function(a){su=a})(yl),sl(new eo("firestore",(n,{instanceIdentifier:a,options:i})=>{const l=n.getProvider("app").getImmediate(),c=new ts(new p9(n.getProvider("auth-internal")),new y9(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(h.options.projectId,p)}(l,a),l);return i=Object.assign({useFetchStreams:r},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),si(sT,"4.7.3",e),si(sT,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="firebasestorage.googleapis.com",v4="storageBucket",u8=2*60*1e3,d8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends yi{constructor(e,r,n=0){super(ey(e),`Firebase Storage: ${r} (${ey(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function ey(t){return"storage/"+t}function Yk(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(ar.UNKNOWN,t)}function h8(t){return new ir(ar.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function f8(t){return new ir(ar.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir(ar.UNAUTHENTICATED,t)}function m8(){return new ir(ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function g8(t){return new ir(ar.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function v8(){return new ir(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y8(){return new ir(ar.CANCELED,"User canceled the upload/download.")}function x8(t){return new ir(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function b8(t){return new ir(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function w8(){return new ir(ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+v4+"' property when initializing the app?")}function _8(){return new ir(ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function k8(){return new ir(ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function j8(t){return new ir(ar.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function P_(t){return new ir(ar.INVALID_ARGUMENT,t)}function y4(){return new ir(ar.APP_DELETED,"The Firebase app was deleted.")}function N8(t){return new ir(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _d(t,e){return new ir(ar.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qu(t){throw new ir(ar.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Kn.makeFromUrl(e,r)}catch{return new Kn(e,"")}if(n.path==="")return n;throw b8(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+a+l,"i"),d={bucket:1,path:3};function h(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${a}/o${y}`,"i"),k={bucket:1,path:3},w=r===g4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",N=new RegExp(`^https?://${w}/${a}/${b}`,"i"),P=[{regex:c,indices:d,postModify:i},{regex:x,indices:k,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let R=0;R<P.length;R++){const j=P[R],C=j.regex.exec(e);if(C){const A=C[j.indices.bucket];let I=C[j.indices.path];I||(I=""),n=new Kn(A,I),j.postModify(n);break}}if(n==null)throw x8(e);return n}}class S8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e,r){let n=1,a=null,i=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){a=setTimeout(()=>{a=null,t(x,d())},b)}function y(){i&&clearTimeout(i)}function x(b,...N){if(h){y();return}if(b){y(),p.call(null,b,...N);return}if(d()||l){y(),p.call(null,b,...N);return}n<64&&(n*=2);let P;c===1?(c=2,P=0):P=(n+Math.random())*1e3,m(P)}let k=!1;function w(b){k||(k=!0,y(),!h&&(a!==null?(b||(c=2),clearTimeout(a),m(0)):b||(c=1)))}return m(0),i=setTimeout(()=>{l=!0,w(!0)},r),w}function T8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){return t!==void 0}function C8(t){return typeof t=="object"&&!Array.isArray(t)}function Xk(t){return typeof t=="string"||t instanceof String}function HT(t){return Qk()&&t instanceof Blob}function Qk(){return typeof Blob<"u"}function GT(t,e,r,n){if(n<e)throw P_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw P_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function x4(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rl||(rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,r,n,a,i,l,c,d,h,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new vp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&i.addUploadProgressListener(l),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(l),this.pendingConnection_=null;const c=i.getErrorCode()===rl.NO_ERROR,d=i.getStatus();if(!c||P8(d,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===rl.ABORT;n(!1,new vp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new vp(h,i))})},r=(n,a)=>{const i=this.resolve_,l=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());A8(d)?i(d):i()}catch(d){l(d)}else if(c!==null){const d=Yk();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(a.canceled){const d=this.appDelete_?y4():y8();l(d)}else{const d=v8();l(d)}};this.canceled_?r(!1,new vp(!1,null,!0)):this.backoffId_=E8(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function O8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L8(t,e,r,n,a,i,l=!0){const c=x4(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return D8(h,e),O8(h,r),R8(h,i),M8(h,n),new I8(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F8(...t){const e=$8();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Qk())return new Blob(t);throw new ir(ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function V8(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){if(typeof atob>"u")throw j8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ty{constructor(e,r){this.data=e,this.contentType=r||null}}function U8(t,e){switch(t){case ai.RAW:return new ty(b4(e));case ai.BASE64:case ai.BASE64URL:return new ty(w4(t,e));case ai.DATA_URL:return new ty(z8(e),W8(e))}throw Yk()}function b4(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=n,l=t.charCodeAt(++r);n=65536|(i&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function q8(t){let e;try{e=decodeURIComponent(t)}catch{throw _d(ai.DATA_URL,"Malformed data URL.")}return b4(e)}function w4(t,e){switch(t){case ai.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw _d(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ai.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw _d(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=B8(e)}catch(a){throw a.message.includes("polyfill")?a:_d(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class _4{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw _d(ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=H8(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function z8(t){const e=new _4(t);return e.base64?w4(ai.BASE64,e.rest):q8(e.rest)}function W8(t){return new _4(t).contentType}function H8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,r){let n=0,a="";HT(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(HT(this.data_)){const n=this.data_,a=V8(n,e,r);return a===null?null:new qs(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new qs(n,!0)}}static getBlob(...e){if(Qk()){const r=e.map(n=>n instanceof qs?n.data_:n);return new qs(F8.apply(null,r))}else{const r=e.map(l=>Xk(l)?U8(ai.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const a=new Uint8Array(n);let i=0;return r.forEach(l=>{for(let c=0;c<l.length;c++)a[i++]=l[c]}),new qs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){let e;try{e=JSON.parse(t)}catch{return null}return C8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function K8(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function j4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t,e){return e}class fn{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||Y8}}let yp=null;function X8(t){return!Xk(t)||t.length<2?t:j4(t)}function N4(){if(yp)return yp;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(i,l){return X8(l)}const r=new fn("name");r.xform=e,t.push(r);function n(i,l){return l!==void 0?Number(l):l}const a=new fn("size");return a.xform=n,t.push(a),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),yp=t,yp}function Q8(t,e){function r(){const n=t.bucket,a=t.fullPath,i=new Kn(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function J8(t,e,r){const n={};n.type="file";const a=r.length;for(let i=0;i<a;i++){const l=r[i];n[l.local]=l.xform(n,e[l.server])}return Q8(n,t),n}function S4(t,e,r){const n=k4(e);return n===null?null:J8(t,n,r)}function Z8(t,e,r,n){const a=k4(e);if(a===null||!Xk(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const l=encodeURIComponent;return i.split(",").map(h=>{const p=t.bucket,m=t.fullPath,y="/b/"+l(p)+"/o/"+l(m),x=Jk(y,r,n),k=x4({alt:"media",token:h});return x+k})[0]}function eq(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class E4{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(!t)throw Yk()}function tq(t,e){function r(n,a){const i=S4(t,a,e);return T4(i!==null),i}return r}function rq(t,e){function r(n,a){const i=S4(t,a,e);return T4(i!==null),Z8(i,a,t.host,t._protocol)}return r}function A4(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=m8():a=p8():r.getStatus()===402?a=f8(t.bucket):r.getStatus()===403?a=g8(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function nq(t){const e=A4(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=h8(t.path)),i.serverResponse=a.serverResponse,i}return r}function aq(t,e,r){const n=e.fullServerUrl(),a=Jk(n,t.host,t._protocol),i="GET",l=t.maxOperationRetryTime,c=new E4(a,i,rq(t,r),l);return c.errorHandler=nq(e),c}function iq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=iq(null,e)),n}function oq(t,e,r,n,a){const i=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let R=0;R<2;R++)P=P+Math.random().toString().slice(2);return P}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=sq(e,n,a),p=eq(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+d+"--",x=qs.getBlob(m,n,y);if(x===null)throw _8();const k={name:h.fullPath},w=Jk(i,t.host,t._protocol),b="POST",N=t.maxUploadRetryTime,T=new E4(w,b,tq(t,r),N);return T.urlParams=k,T.headers=l,T.body=x.uploadData(),T.errorHandler=A4(e),T}class lq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a){if(this.sent_)throw Qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cq extends lq{initXhr(){this.xhr_.responseType="text"}}function C4(){return new cq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,r){this._service=e,r instanceof Kn?this._location=r:this._location=Kn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new dl(e,r)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return j4(this._location.path)}get storage(){return this._service}get parent(){const e=G8(this._location.path);if(e===null)return null;const r=new Kn(this._location.bucket,e);return new dl(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw N8(e)}}function uq(t,e,r){t._throwIfRoot("uploadBytes");const n=oq(t.storage,t._location,N4(),new qs(e,!0),r);return t.storage.makeRequestWithTokens(n,C4).then(a=>({metadata:a,ref:t}))}function dq(t){t._throwIfRoot("getDownloadURL");const e=aq(t.storage,t._location,N4());return t.storage.makeRequestWithTokens(e,C4).then(r=>{if(r===null)throw k8();return r})}function hq(t,e){const r=K8(t._location.path,e),n=new Kn(t._location.bucket,r);return new dl(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return/^[A-Za-z]+:\/\//.test(t)}function pq(t,e){return new dl(t,e)}function P4(t,e){if(t instanceof Zk){const r=t;if(r._bucket==null)throw w8();const n=new dl(r,r._bucket);return e!=null?P4(n,e):n}else return e!==void 0?hq(t,e):t}function mq(t,e){if(e&&fq(e)){if(t instanceof Zk)return pq(t,e);throw P_("To use ref(service, url), the first argument must be a Storage instance.")}else return P4(t,e)}function KT(t,e){const r=e?.[v4];return r==null?null:Kn.makeFromBucketSpec(r,t)}function gq(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:nD(a,t.app.options.projectId))}class Zk{constructor(e,r,n,a,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=g4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u8,this._maxUploadRetryTime=d8,this._requests=new Set,a!=null?this._bucket=Kn.makeFromBucketSpec(a,this._host):this._bucket=KT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=KT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new S8(y4());{const l=L8(e,this._appId,n,a,r,this._firebaseVersion,i);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const YT="@firebase/storage",XT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="storage";function vq(t,e,r){return t=Vt(t),uq(t,e,r)}function yq(t){return t=Vt(t),dq(t)}function xq(t,e){return t=Vt(t),mq(t,e)}function bq(t=nk(),e){t=Vt(t);const n=i0(t,I4).getImmediate({identifier:e}),a=eD("storage");return a&&wq(n,...a),n}function wq(t,e,r,n={}){gq(t,e,r,n)}function _q(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Zk(r,n,a,e,yl)}function kq(){sl(new eo(I4,_q,"PUBLIC").setMultipleInstances(!0)),si(YT,XT,""),si(YT,XT,"esm2017")}kq();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O4=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...c},d)=>B.createElement("svg",{ref:d,...Nq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:O4("lucide",a),...c},[...l.map(([h,p])=>B.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=B.forwardRef(({className:n,...a},i)=>B.createElement(Sq,{ref:i,iconNode:e,className:O4(`lucide-${jq(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Me("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Me("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Me("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Me("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Me("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Me("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Me("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Gq=({setUserId:t})=>{const[e,r]=B.useState(!0),[n,a]=B.useState(""),[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState(!1),m=fk(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await XV(m,n,i):await YV(m,n,i)}catch(k){d(k.message)}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(zr,{className:"mx-auto h-12 w-auto text-cyan-500"}),s.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[s.jsxs("form",{className:"space-y-6",onSubmit:y,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>a(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:x=>l(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("p",{className:"text-sm text-red-700",children:c})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",s.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},ri=({title:t,value:e,icon:r,color:n,subtext:a})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),s.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),a&&s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:a})]})]});function B4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=B4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=B4(t))&&(n&&(n+=" "),n+=e);return n}var ny,tA;function On(){if(tA)return ny;tA=1;var t=Array.isArray;return ny=t,ny}var ay,rA;function U4(){if(rA)return ay;rA=1;var t=typeof up=="object"&&up&&up.Object===Object&&up;return ay=t,ay}var iy,nA;function xi(){if(nA)return iy;nA=1;var t=U4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return iy=r,iy}var sy,aA;function Uh(){if(aA)return sy;aA=1;var t=xi(),e=t.Symbol;return sy=e,sy}var oy,iA;function Kq(){if(iA)return oy;iA=1;var t=Uh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(l){var c=r.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var p=n.call(l);return h&&(c?l[a]=d:delete l[a]),p}return oy=i,oy}var ly,sA;function Yq(){if(sA)return ly;sA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ly=r,ly}var cy,oA;function ss(){if(oA)return cy;oA=1;var t=Uh(),e=Kq(),r=Yq(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?a:n:i&&i in Object(c)?e(c):r(c)}return cy=l,cy}var uy,lA;function os(){if(lA)return uy;lA=1;function t(e){return e!=null&&typeof e=="object"}return uy=t,uy}var dy,cA;function cu(){if(cA)return dy;cA=1;var t=ss(),e=os(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return dy=n,dy}var hy,uA;function nj(){if(uA)return hy;uA=1;var t=On(),e=cu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){if(t(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return hy=a,hy}var fy,dA;function uo(){if(dA)return fy;dA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return fy=t,fy}var py,hA;function aj(){if(hA)return py;hA=1;var t=ss(),e=uo(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==n||d==a||d==r||d==i}return py=l,py}var my,fA;function Xq(){if(fA)return my;fA=1;var t=xi(),e=t["__core-js_shared__"];return my=e,my}var gy,pA;function Qq(){if(pA)return gy;pA=1;var t=Xq(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return gy=r,gy}var vy,mA;function q4(){if(mA)return vy;mA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return vy=r,vy}var yy,gA;function Jq(){if(gA)return yy;gA=1;var t=aj(),e=Qq(),r=uo(),n=q4(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,h=c.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:i;return x.test(n(y))}return yy=m,yy}var xy,vA;function Zq(){if(vA)return xy;vA=1;function t(e,r){return e?.[r]}return xy=t,xy}var by,yA;function kl(){if(yA)return by;yA=1;var t=Jq(),e=Zq();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return by=r,by}var wy,xA;function T0(){if(xA)return wy;xA=1;var t=kl(),e=t(Object,"create");return wy=e,wy}var _y,bA;function ez(){if(bA)return _y;bA=1;var t=T0();function e(){this.__data__=t?t(null):{},this.size=0}return _y=e,_y}var ky,wA;function tz(){if(wA)return ky;wA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ky=t,ky}var jy,_A;function rz(){if(_A)return jy;_A=1;var t=T0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var l=this.__data__;if(t){var c=l[i];return c===e?void 0:c}return n.call(l,i)?l[i]:void 0}return jy=a,jy}var Ny,kA;function nz(){if(kA)return Ny;kA=1;var t=T0(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Ny=n,Ny}var Sy,jA;function az(){if(jA)return Sy;jA=1;var t=T0(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Sy=r,Sy}var Ey,NA;function iz(){if(NA)return Ey;NA=1;var t=ez(),e=tz(),r=rz(),n=nz(),a=az();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ey=i,Ey}var Ty,SA;function sz(){if(SA)return Ty;SA=1;function t(){this.__data__=[],this.size=0}return Ty=t,Ty}var Ay,EA;function ij(){if(EA)return Ay;EA=1;function t(e,r){return e===r||e!==e&&r!==r}return Ay=t,Ay}var Cy,TA;function A0(){if(TA)return Cy;TA=1;var t=ij();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Cy=e,Cy}var Py,AA;function oz(){if(AA)return Py;AA=1;var t=A0(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,l=t(i,a);if(l<0)return!1;var c=i.length-1;return l==c?i.pop():r.call(i,l,1),--this.size,!0}return Py=n,Py}var Iy,CA;function lz(){if(CA)return Iy;CA=1;var t=A0();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Iy=e,Iy}var Oy,PA;function cz(){if(PA)return Oy;PA=1;var t=A0();function e(r){return t(this.__data__,r)>-1}return Oy=e,Oy}var Ry,IA;function uz(){if(IA)return Ry;IA=1;var t=A0();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Ry=e,Ry}var Dy,OA;function C0(){if(OA)return Dy;OA=1;var t=sz(),e=oz(),r=lz(),n=cz(),a=uz();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Dy=i,Dy}var My,RA;function sj(){if(RA)return My;RA=1;var t=kl(),e=xi(),r=t(e,"Map");return My=r,My}var Ly,DA;function dz(){if(DA)return Ly;DA=1;var t=iz(),e=C0(),r=sj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ly=n,Ly}var $y,MA;function hz(){if(MA)return $y;MA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return $y=t,$y}var Fy,LA;function P0(){if(LA)return Fy;LA=1;var t=hz();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Fy=e,Fy}var Vy,$A;function fz(){if($A)return Vy;$A=1;var t=P0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Vy=e,Vy}var By,FA;function pz(){if(FA)return By;FA=1;var t=P0();function e(r){return t(this,r).get(r)}return By=e,By}var Uy,VA;function mz(){if(VA)return Uy;VA=1;var t=P0();function e(r){return t(this,r).has(r)}return Uy=e,Uy}var qy,BA;function gz(){if(BA)return qy;BA=1;var t=P0();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return qy=e,qy}var zy,UA;function oj(){if(UA)return zy;UA=1;var t=dz(),e=fz(),r=pz(),n=mz(),a=gz();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,zy=i,zy}var Wy,qA;function z4(){if(qA)return Wy;qA=1;var t=oj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var l=arguments,c=a?a.apply(this,l):l[0],d=i.cache;if(d.has(c))return d.get(c);var h=n.apply(this,l);return i.cache=d.set(c,h)||d,h};return i.cache=new(r.Cache||t),i}return r.Cache=t,Wy=r,Wy}var Hy,zA;function vz(){if(zA)return Hy;zA=1;var t=z4(),e=500;function r(n){var a=t(n,function(l){return i.size===e&&i.clear(),l}),i=a.cache;return a}return Hy=r,Hy}var Gy,WA;function yz(){if(WA)return Gy;WA=1;var t=vz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(l,c,d,h){i.push(d?h.replace(r,"$1"):c||l)}),i});return Gy=n,Gy}var Ky,HA;function lj(){if(HA)return Ky;HA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Ky=t,Ky}var Yy,GA;function xz(){if(GA)return Yy;GA=1;var t=Uh(),e=lj(),r=On(),n=cu(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return e(c,l)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Yy=l,Yy}var Xy,KA;function W4(){if(KA)return Xy;KA=1;var t=xz();function e(r){return r==null?"":t(r)}return Xy=e,Xy}var Qy,YA;function H4(){if(YA)return Qy;YA=1;var t=On(),e=nj(),r=yz(),n=W4();function a(i,l){return t(i)?i:e(i,l)?[i]:r(n(i))}return Qy=a,Qy}var Jy,XA;function I0(){if(XA)return Jy;XA=1;var t=cu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Jy=e,Jy}var Zy,QA;function cj(){if(QA)return Zy;QA=1;var t=H4(),e=I0();function r(n,a){a=t(a,n);for(var i=0,l=a.length;n!=null&&i<l;)n=n[e(a[i++])];return i&&i==l?n:void 0}return Zy=r,Zy}var ex,JA;function G4(){if(JA)return ex;JA=1;var t=cj();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return ex=e,ex}var bz=G4();const Xn=xt(bz);var tx,ZA;function wz(){if(ZA)return tx;ZA=1;function t(e){return e==null}return tx=t,tx}var _z=wz();const at=xt(_z);var rx,e2;function kz(){if(e2)return rx;e2=1;var t=ss(),e=On(),r=os(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return rx=a,rx}var jz=kz();const hl=xt(jz);var Nz=aj();const Qe=xt(Nz);var Sz=uo();const uu=xt(Sz);var nx={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2;function Ez(){if(t2)return vt;t2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case r:case a:case n:case h:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case l:case d:case y:case m:case i:return b;default:return N}}case e:return N}}}return vt.ContextConsumer=l,vt.ContextProvider=i,vt.Element=t,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=y,vt.Memo=m,vt.Portal=e,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=h,vt.SuspenseList=p,vt.isAsyncMode=function(){return!1},vt.isConcurrentMode=function(){return!1},vt.isContextConsumer=function(b){return w(b)===l},vt.isContextProvider=function(b){return w(b)===i},vt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},vt.isForwardRef=function(b){return w(b)===d},vt.isFragment=function(b){return w(b)===r},vt.isLazy=function(b){return w(b)===y},vt.isMemo=function(b){return w(b)===m},vt.isPortal=function(b){return w(b)===e},vt.isProfiler=function(b){return w(b)===a},vt.isStrictMode=function(b){return w(b)===n},vt.isSuspense=function(b){return w(b)===h},vt.isSuspenseList=function(b){return w(b)===p},vt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===h||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===i||b.$$typeof===l||b.$$typeof===d||b.$$typeof===k||b.getModuleId!==void 0)},vt.typeOf=w,vt}var r2;function Tz(){return r2||(r2=1,nx.exports=Ez()),nx.exports}var Az=Tz(),ax,n2;function K4(){if(n2)return ax;n2=1;var t=ss(),e=os(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return ax=n,ax}var ix,a2;function Cz(){if(a2)return ix;a2=1;var t=K4();function e(r){return t(r)&&r!=+r}return ix=e,ix}var Pz=Cz();const qh=xt(Pz);var Iz=K4();const Oz=xt(Iz);var pn=function(e){return e===0?0:e>0?1:-1},Xo=function(e){return hl(e)&&e.indexOf("%")===e.length-1},Te=function(e){return Oz(e)&&!qh(e)},Rz=function(e){return at(e)},kr=function(e){return Te(e)||hl(e)},Dz=0,zh=function(e){var r=++Dz;return"".concat(e||"").concat(r)},mn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!hl(e))return n;var i;if(Xo(e)){var l=e.indexOf("%");i=r*parseFloat(e.slice(0,l))/100}else i=+e;return qh(i)&&(i=n),a&&i>r&&(i=r),i},zs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Mz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Ms=function(e,r){return Te(e)&&Te(r)?function(n){return e+n*(r-e)}:function(){return r}};function O_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Xn(n,e))===r})}var Lz=function(e,r){return Te(e)&&Te(r)?e-r:hl(e)&&hl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function jc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function R_(t){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(t)}var $z=["viewBox","children"],Fz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i2=["points","pathLength"],sx={svg:$z,polygon:i2,polyline:i2},uj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!uu(n))return null;var a={};return Object.keys(n).forEach(function(i){uj.includes(i)&&(a[i]=r||function(l){return n[i](n,l)})}),a},Vz=function(e,r,n){return function(a){return e(r,n,a),null}},fl=function(e,r,n){if(!uu(e)||R_(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var l=e[i];uj.includes(i)&&typeof l=="function"&&(a||(a={}),a[i]=Vz(l,r,n))}),a},Bz=["children"],Uz=["children"];function s2(t,e){if(t==null)return{};var r=qz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var o2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},l2=null,ox=null,dj=function t(e){if(e===l2&&Array.isArray(ox))return ox;var r=[];return B.Children.forEach(e,function(n){at(n)||(Az.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ox=r,l2=e,r};function ya(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Ki(a)}):n=[Ki(e)],dj(t).forEach(function(a){var i=Xn(a,"type.displayName")||Xn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Wn(t,e){var r=ya(t,e);return r&&r[0]}var c2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Te(n)||n<=0||!Te(a)||a<=0)},zz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wz=function(e){return e&&e.type&&hl(e.type)&&zz.indexOf(e.type)>=0},Hz=function(e,r,n,a){var i,l=(i=sx?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Qe(e)&&(a&&l.includes(r)||Fz.includes(r))||n&&uj.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(B.isValidElement(e)&&(a=e.props),!uu(a))return null;var i={};return Object.keys(a).forEach(function(l){var c;Hz((c=a)===null||c===void 0?void 0:c[l],l,r,n)&&(i[l]=a[l])}),i},D_=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return u2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],l=r[a];if(Array.isArray(i)||Array.isArray(l)){if(!t(i,l))return!1}else if(!u2(i,l))return!1}return!0},u2=function(e,r){if(at(e)&&at(r))return!0;if(!at(e)&&!at(r)){var n=e.props||{},a=n.children,i=s2(n,Bz),l=r.props||{},c=l.children,d=s2(l,Uz);return a&&c?jc(i,d)&&D_(a,c):!a&&!c?jc(i,d):!1}return!1},d2=function(e,r){var n=[],a={};return dj(e).forEach(function(i,l){if(Wz(i))n.push(i);else if(i){var c=Ki(i.type),d=r[c]||{},h=d.handler,p=d.once;if(h&&(!p||!a[c])){var m=h(i,c,l);n.push(m),a[c]=!0}}}),n},Gz=function(e){var r=e&&e.type;return r&&o2[r]?o2[r]:null},Kz=function(e,r){return dj(r).indexOf(e)},Yz=["children","width","height","viewBox","className","style","title","desc"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M_.apply(this,arguments)}function Xz(t,e){if(t==null)return{};var r=Qz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L_(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,l=t.style,c=t.title,d=t.desc,h=Xz(t,Yz),p=a||{width:r,height:n,x:0,y:0},m=tt("recharts-surface",i);return X.createElement("svg",M_({},Ye(h,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,c),X.createElement("desc",null,d),e)}var Jz=["children","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$_.apply(this,arguments)}function Zz(t,e){if(t==null)return{};var r=eW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wt=X.forwardRef(function(t,e){var r=t.children,n=t.className,a=Zz(t,Jz),i=tt("recharts-layer",n);return X.createElement("g",$_({className:i},Ye(a,!0),{ref:e}),r)}),Va=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},lx,h2;function tW(){if(h2)return lx;h2=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++a<i;)l[a]=e[a+r];return l}return lx=t,lx}var cx,f2;function rW(){if(f2)return cx;f2=1;var t=tW();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return cx=e,cx}var ux,p2;function Y4(){if(p2)return ux;p2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+a+i+"]");function d(h){return c.test(h)}return ux=d,ux}var dx,m2;function nW(){if(m2)return dx;m2=1;function t(e){return e.split("")}return dx=t,dx}var hx,g2;function aW(){if(g2)return hx;g2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="["+t+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",k=h+"?",w="["+i+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+w+k+")*",N=w+k+b,T="(?:"+[p+c+"?",c,m,y,l].join("|")+")",P=RegExp(d+"(?="+d+")|"+T+N,"g");function R(j){return j.match(P)||[]}return hx=R,hx}var fx,v2;function iW(){if(v2)return fx;v2=1;var t=nW(),e=Y4(),r=aW();function n(a){return e(a)?r(a):t(a)}return fx=n,fx}var px,y2;function sW(){if(y2)return px;y2=1;var t=rW(),e=Y4(),r=iW(),n=W4();function a(i){return function(l){l=n(l);var c=e(l)?r(l):void 0,d=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return d[i]()+h}}return px=a,px}var mx,x2;function oW(){if(x2)return mx;x2=1;var t=sW(),e=t("toUpperCase");return mx=e,mx}var lW=oW();const O0=xt(lW);function It(t){return function(){return t}}const X4=Math.cos,cm=Math.sin,qa=Math.sqrt,um=Math.PI,R0=2*um,F_=Math.PI,V_=2*F_,zo=1e-6,cW=V_-zo;function Q4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function uW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Q4;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Q4:uW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-e,h=a-r,p=l-e,m=c-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>zo)if(!(Math.abs(m*d-h*p)>zo)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,k=a-c,w=d*d+h*h,b=x*x+k*k,N=Math.sqrt(w),T=Math.sqrt(y),P=i*Math.tan((F_-Math.acos((w+y-b)/(2*N*T)))/2),R=P/T,j=P/N;Math.abs(R-1)>zo&&this._append`L${e+R*p},${r+R*m}`,this._append`A${i},${i},0,0,${+(m*x>p*k)},${this._x1=e+j*d},${this._y1=r+j*h}`}}arc(e,r,n,a,i,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),h=e+c,p=r+d,m=1^l,y=l?a-i:i-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>zo||Math.abs(this._y1-p)>zo)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%V_+V_),y>cW?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>zo&&this._append`A${n},${n},0,${+(y>=F_)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function hj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dW(e)}function fj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J4(t){this._context=t}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function D0(t){return new J4(t)}function Z4(t){return t[0]}function e3(t){return t[1]}function t3(t,e){var r=It(!0),n=null,a=D0,i=null,l=hj(c);t=typeof t=="function"?t:t===void 0?Z4:It(t),e=typeof e=="function"?e:e===void 0?e3:It(e);function c(d){var h,p=(d=fj(d)).length,m,y=!1,x;for(n==null&&(i=a(x=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(m,h,d),+e(m,h,d));if(x)return i=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:It(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:It(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:It(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function bp(t,e,r){var n=null,a=It(!0),i=null,l=D0,c=null,d=hj(h);t=typeof t=="function"?t:t===void 0?Z4:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?e3:It(+r);function h(m){var y,x,k,w=(m=fj(m)).length,b,N=!1,T,P=new Array(w),R=new Array(w);for(i==null&&(c=l(T=d())),y=0;y<=w;++y){if(!(y<w&&a(b=m[y],y,m))===N)if(N=!N)x=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),k=y-1;k>=x;--k)c.point(P[k],R[k]);c.lineEnd(),c.areaEnd()}N&&(P[y]=+t(b,y,m),R[y]=+e(b,y,m),c.point(n?+n(b,y,m):P[y],r?+r(b,y,m):R[y]))}if(T)return c=null,T+""||null}function p(){return t3().defined(a).curve(l).context(i)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:It(!!m),h):a},h.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),h):i},h}class r3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hW(t){return new r3(t,!0)}function fW(t){return new r3(t,!1)}const pj={draw(t,e){const r=qa(e/um);t.moveTo(r,0),t.arc(0,0,r,0,R0)}},pW={draw(t,e){const r=qa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},n3=qa(1/3),mW=n3*2,gW={draw(t,e){const r=qa(e/mW),n=r*n3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},vW={draw(t,e){const r=qa(e),n=-r/2;t.rect(n,n,r,r)}},yW=.8908130915292852,a3=cm(um/10)/cm(7*um/10),xW=cm(R0/10)*a3,bW=-X4(R0/10)*a3,wW={draw(t,e){const r=qa(e*yW),n=xW*r,a=bW*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const l=R0*i/5,c=X4(l),d=cm(l);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*a,d*n+c*a)}t.closePath()}},gx=qa(3),_W={draw(t,e){const r=-qa(e/(gx*3));t.moveTo(0,r*2),t.lineTo(-gx*r,-r),t.lineTo(gx*r,-r),t.closePath()}},ha=-.5,fa=qa(3)/2,B_=1/qa(12),kW=(B_/2+1)*3,jW={draw(t,e){const r=qa(e/kW),n=r/2,a=r*B_,i=n,l=r*B_+r,c=-i,d=l;t.moveTo(n,a),t.lineTo(i,l),t.lineTo(c,d),t.lineTo(ha*n-fa*a,fa*n+ha*a),t.lineTo(ha*i-fa*l,fa*i+ha*l),t.lineTo(ha*c-fa*d,fa*c+ha*d),t.lineTo(ha*n+fa*a,ha*a-fa*n),t.lineTo(ha*i+fa*l,ha*l-fa*i),t.lineTo(ha*c+fa*d,ha*d-fa*c),t.closePath()}};function NW(t,e){let r=null,n=hj(a);t=typeof t=="function"?t:It(t||pj),e=typeof e=="function"?e:It(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:It(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:It(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function dm(){}function hm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function i3(t){this._context=t}i3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SW(t){return new i3(t)}function s3(t){this._context=t}s3.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EW(t){return new s3(t)}function o3(t){this._context=t}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function TW(t){return new o3(t)}function l3(t){this._context=t}l3.prototype={areaStart:dm,areaEnd:dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AW(t){return new l3(t)}function b2(t){return t<0?-1:1}function w2(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(b2(i)+b2(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function _2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function vx(t,e,r){var n=t._x0,a=t._y0,i=t._x1,l=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,a+c*e,i-c,l-c*r,i,l)}function fm(t){this._context=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vx(this,this._t0,_2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vx(this,_2(this,r=w2(this,t,e)),r);break;default:vx(this,this._t0,r=w2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function c3(t){this._context=new u3(t)}(c3.prototype=Object.create(fm.prototype)).point=function(t,e){fm.prototype.point.call(this,e,t)};function u3(t){this._context=t}u3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function CW(t){return new fm(t)}function PW(t){return new c3(t)}function d3(t){this._context=t}d3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=k2(t),a=k2(e),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function k2(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function IW(t){return new d3(t)}function M0(t,e){this._context=t,this._t=e}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function OW(t){return new M0(t,.5)}function RW(t){return new M0(t,0)}function DW(t){return new M0(t,1)}function Dc(t,e){if((l=t.length)>1)for(var r=1,n,a,i=t[e[0]],l,c=i.length;r<l;++r)for(a=i,i=t[e[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function U_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function MW(t,e){return t[e]}function LW(t){const e=[];return e.key=t,e}function $W(){var t=It([]),e=U_,r=Dc,n=MW;function a(i){var l=Array.from(t.apply(this,arguments),LW),c,d=l.length,h=-1,p;for(const m of i)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(m,l[c].key,h,i)]).data=m;for(c=0,p=fj(e(l));c<d;++c)l[p[c]].index=c;return r(l,p),l}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:It(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:It(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?U_:typeof i=="function"?i:It(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Dc,a):r},a}function FW(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}Dc(t,e)}}function VW(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Dc(t,e)}}function BW(t,e){if(!(!((l=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,k=0;k<c;++k){var w=t[e[k]],b=w[n][1]||0,N=w[n-1][1]||0;x+=b-N}d+=m,h+=x*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Dc(t,e)}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}var UW=["type","size","sizeType"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){qW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qW(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=WW(t,"string");return Ud(e)=="symbol"?e:e+""}function WW(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HW(t,e){if(t==null)return{};var r=GW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var h3={symbolCircle:pj,symbolCross:pW,symbolDiamond:gW,symbolSquare:vW,symbolStar:wW,symbolTriangle:_W,symbolWye:jW},KW=Math.PI/180,YW=function(e){var r="symbol".concat(O0(e));return h3[r]||pj},XW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*KW;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QW=function(e,r){h3["symbol".concat(O0(e))]=r},mj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,l=e.sizeType,c=l===void 0?"area":l,d=HW(e,UW),h=N2(N2({},d),{},{type:n,size:i,sizeType:c}),p=function(){var b=YW(n),N=NW().type(b).size(XW(i,c,n));return N()},m=h.className,y=h.cx,x=h.cy,k=Ye(h,!0);return y===+y&&x===+x&&i===+i?X.createElement("path",q_({},k,{className:tt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};mj.registerSymbol=QW;function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z_.apply(this,arguments)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){qd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p3(n.key),n)}}function tH(t,e,r){return e&&eH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rH(t,e,r){return e=pm(e),nH(t,f3()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function nH(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aH(t)}function aH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f3=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function iH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W_(t,e)}function qd(t,e,r){return e=p3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p3(t){var e=sH(t,"string");return Mc(e)=="symbol"?e:e+""}function sH(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=32,gj=function(t){function e(){return ZW(this,e),rH(this,e,arguments)}return iH(e,t),tH(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=pa/2,l=pa/6,c=pa/3,d=n.inactive?a:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:pa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(pa,"M").concat(2*c,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(pa/8,"h").concat(pa,"v").concat(pa*3/4,"h").concat(-pa,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var h=JW({},n);return delete h.legendIcon,X.cloneElement(n.legendIcon,h)}return X.createElement(mj,{fill:d,cx:i,cy:i,size:pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,l=a.iconSize,c=a.layout,d=a.formatter,h=a.inactiveColor,p={x:0,y:0,width:pa,height:pa},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,k){var w=x.formatter||d,b=tt(qd(qd({"recharts-legend-item":!0},"legend-item-".concat(k),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Qe(x.value)?null:x.value;Va(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=x.inactive?h:x.color;return X.createElement("li",z_({className:b,style:m,key:"legend-item-".concat(k)},fl(n.props,x,k)),X.createElement(L_,{width:l,height:l,viewBox:p,style:y},n.renderIcon(x)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},w?w(N,x,k):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,l=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(B.PureComponent);qd(gj,"displayName","Legend");qd(gj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yx,E2;function oH(){if(E2)return yx;E2=1;var t=C0();function e(){this.__data__=new t,this.size=0}return yx=e,yx}var xx,T2;function lH(){if(T2)return xx;T2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return xx=t,xx}var bx,A2;function cH(){if(A2)return bx;A2=1;function t(e){return this.__data__.get(e)}return bx=t,bx}var wx,C2;function uH(){if(C2)return wx;C2=1;function t(e){return this.__data__.has(e)}return wx=t,wx}var _x,P2;function dH(){if(P2)return _x;P2=1;var t=C0(),e=sj(),r=oj(),n=200;function a(i,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([i,l]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,l),this.size=c.size,this}return _x=a,_x}var kx,I2;function m3(){if(I2)return kx;I2=1;var t=C0(),e=oH(),r=lH(),n=cH(),a=uH(),i=dH();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=i,kx=l,kx}var jx,O2;function hH(){if(O2)return jx;O2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return jx=e,jx}var Nx,R2;function fH(){if(R2)return Nx;R2=1;function t(e){return this.__data__.has(e)}return Nx=t,Nx}var Sx,D2;function g3(){if(D2)return Sx;D2=1;var t=oj(),e=hH(),r=fH();function n(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new t;++i<l;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Sx=n,Sx}var Ex,M2;function v3(){if(M2)return Ex;M2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Ex=t,Ex}var Tx,L2;function y3(){if(L2)return Tx;L2=1;function t(e,r){return e.has(r)}return Tx=t,Tx}var Ax,$2;function x3(){if($2)return Ax;$2=1;var t=g3(),e=v3(),r=y3(),n=1,a=2;function i(l,c,d,h,p,m){var y=d&n,x=l.length,k=c.length;if(x!=k&&!(y&&k>x))return!1;var w=m.get(l),b=m.get(c);if(w&&b)return w==c&&b==l;var N=-1,T=!0,P=d&a?new t:void 0;for(m.set(l,c),m.set(c,l);++N<x;){var R=l[N],j=c[N];if(h)var C=y?h(j,R,N,c,l,m):h(R,j,N,l,c,m);if(C!==void 0){if(C)continue;T=!1;break}if(P){if(!e(c,function(A,I){if(!r(P,I)&&(R===A||p(R,A,d,h,m)))return P.push(I)})){T=!1;break}}else if(!(R===j||p(R,j,d,h,m))){T=!1;break}}return m.delete(l),m.delete(c),T}return Ax=i,Ax}var Cx,F2;function pH(){if(F2)return Cx;F2=1;var t=xi(),e=t.Uint8Array;return Cx=e,Cx}var Px,V2;function mH(){if(V2)return Px;V2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Px=t,Px}var Ix,B2;function vj(){if(B2)return Ix;B2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Ix=t,Ix}var Ox,U2;function gH(){if(U2)return Ox;U2=1;var t=Uh(),e=pH(),r=ij(),n=x3(),a=mH(),i=vj(),l=1,c=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",k="[object Set]",w="[object String]",b="[object Symbol]",N="[object ArrayBuffer]",T="[object DataView]",P=t?t.prototype:void 0,R=P?P.valueOf:void 0;function j(C,A,I,L,O,D,F){switch(I){case T:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case N:return!(C.byteLength!=A.byteLength||!D(new e(C),new e(A)));case d:case h:case y:return r(+C,+A);case p:return C.name==A.name&&C.message==A.message;case x:case w:return C==A+"";case m:var $=a;case k:var te=L&l;if($||($=i),C.size!=A.size&&!te)return!1;var ne=F.get(C);if(ne)return ne==A;L|=c,F.set(C,A);var J=n($(C),$(A),L,O,D,F);return F.delete(C),J;case b:if(R)return R.call(C)==R.call(A)}return!1}return Ox=j,Ox}var Rx,q2;function b3(){if(q2)return Rx;q2=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Rx=t,Rx}var Dx,z2;function vH(){if(z2)return Dx;z2=1;var t=b3(),e=On();function r(n,a,i){var l=a(n);return e(n)?l:t(l,i(n))}return Dx=r,Dx}var Mx,W2;function yH(){if(W2)return Mx;W2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,l=[];++n<a;){var c=e[n];r(c,n,e)&&(l[i++]=c)}return l}return Mx=t,Mx}var Lx,H2;function xH(){if(H2)return Lx;H2=1;function t(){return[]}return Lx=t,Lx}var $x,G2;function bH(){if(G2)return $x;G2=1;var t=yH(),e=xH(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(c){return n.call(l,c)}))}:e;return $x=i,$x}var Fx,K2;function wH(){if(K2)return Fx;K2=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Fx=t,Fx}var Vx,Y2;function _H(){if(Y2)return Vx;Y2=1;var t=ss(),e=os(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Vx=n,Vx}var Bx,X2;function yj(){if(X2)return Bx;X2=1;var t=_H(),e=os(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return Bx=i,Bx}var fd={exports:{}},Ux,Q2;function kH(){if(Q2)return Ux;Q2=1;function t(){return!1}return Ux=t,Ux}fd.exports;var J2;function w3(){return J2||(J2=1,function(t,e){var r=xi(),n=kH(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(fd,fd.exports)),fd.exports}var qx,Z2;function xj(){if(Z2)return qx;Z2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return qx=r,qx}var zx,eC;function bj(){if(eC)return zx;eC=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return zx=e,zx}var Wx,tC;function jH(){if(tC)return Wx;tC=1;var t=ss(),e=bj(),r=os(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",k="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",O="[object Uint32Array]",D={};D[T]=D[P]=D[R]=D[j]=D[C]=D[A]=D[I]=D[L]=D[O]=!0,D[n]=D[a]=D[b]=D[i]=D[N]=D[l]=D[c]=D[d]=D[h]=D[p]=D[m]=D[y]=D[x]=D[k]=D[w]=!1;function F($){return r($)&&e($.length)&&!!D[t($)]}return Wx=F,Wx}var Hx,rC;function _3(){if(rC)return Hx;rC=1;function t(e){return function(r){return e(r)}}return Hx=t,Hx}var pd={exports:{}};pd.exports;var nC;function NH(){return nC||(nC=1,function(t,e){var r=U4(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,l=i&&r.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(pd,pd.exports)),pd.exports}var Gx,aC;function k3(){if(aC)return Gx;aC=1;var t=jH(),e=_3(),r=NH(),n=r&&r.isTypedArray,a=n?e(n):t;return Gx=a,Gx}var Kx,iC;function SH(){if(iC)return Kx;iC=1;var t=wH(),e=yj(),r=On(),n=w3(),a=xj(),i=k3(),l=Object.prototype,c=l.hasOwnProperty;function d(h,p){var m=r(h),y=!m&&e(h),x=!m&&!y&&n(h),k=!m&&!y&&!x&&i(h),w=m||y||x||k,b=w?t(h.length,String):[],N=b.length;for(var T in h)(p||c.call(h,T))&&!(w&&(T=="length"||x&&(T=="offset"||T=="parent")||k&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||a(T,N)))&&b.push(T);return b}return Kx=d,Kx}var Yx,sC;function EH(){if(sC)return Yx;sC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Yx=e,Yx}var Xx,oC;function j3(){if(oC)return Xx;oC=1;function t(e,r){return function(n){return e(r(n))}}return Xx=t,Xx}var Qx,lC;function TH(){if(lC)return Qx;lC=1;var t=j3(),e=t(Object.keys,Object);return Qx=e,Qx}var Jx,cC;function AH(){if(cC)return Jx;cC=1;var t=EH(),e=TH(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var l=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&l.push(c);return l}return Jx=a,Jx}var Zx,uC;function Wh(){if(uC)return Zx;uC=1;var t=aj(),e=bj();function r(n){return n!=null&&e(n.length)&&!t(n)}return Zx=r,Zx}var eb,dC;function L0(){if(dC)return eb;dC=1;var t=SH(),e=AH(),r=Wh();function n(a){return r(a)?t(a):e(a)}return eb=n,eb}var tb,hC;function CH(){if(hC)return tb;hC=1;var t=vH(),e=bH(),r=L0();function n(a){return t(a,r,e)}return tb=n,tb}var rb,fC;function PH(){if(fC)return rb;fC=1;var t=CH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,l,c,d,h,p){var m=c&e,y=t(i),x=y.length,k=t(l),w=k.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var N=y[b];if(!(m?N in l:n.call(l,N)))return!1}var T=p.get(i),P=p.get(l);if(T&&P)return T==l&&P==i;var R=!0;p.set(i,l),p.set(l,i);for(var j=m;++b<x;){N=y[b];var C=i[N],A=l[N];if(d)var I=m?d(A,C,N,l,i,p):d(C,A,N,i,l,p);if(!(I===void 0?C===A||h(C,A,c,d,p):I)){R=!1;break}j||(j=N=="constructor")}if(R&&!j){var L=i.constructor,O=l.constructor;L!=O&&"constructor"in i&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof O=="function"&&O instanceof O)&&(R=!1)}return p.delete(i),p.delete(l),R}return rb=a,rb}var nb,pC;function IH(){if(pC)return nb;pC=1;var t=kl(),e=xi(),r=t(e,"DataView");return nb=r,nb}var ab,mC;function OH(){if(mC)return ab;mC=1;var t=kl(),e=xi(),r=t(e,"Promise");return ab=r,ab}var ib,gC;function N3(){if(gC)return ib;gC=1;var t=kl(),e=xi(),r=t(e,"Set");return ib=r,ib}var sb,vC;function RH(){if(vC)return sb;vC=1;var t=kl(),e=xi(),r=t(e,"WeakMap");return sb=r,sb}var ob,yC;function DH(){if(yC)return ob;yC=1;var t=IH(),e=sj(),r=OH(),n=N3(),a=RH(),i=ss(),l=q4(),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=l(t),k=l(e),w=l(r),b=l(n),N=l(a),T=i;return(t&&T(new t(new ArrayBuffer(1)))!=y||e&&T(new e)!=c||r&&T(r.resolve())!=h||n&&T(new n)!=p||a&&T(new a)!=m)&&(T=function(P){var R=i(P),j=R==d?P.constructor:void 0,C=j?l(j):"";if(C)switch(C){case x:return y;case k:return c;case w:return h;case b:return p;case N:return m}return R}),ob=T,ob}var lb,xC;function MH(){if(xC)return lb;xC=1;var t=m3(),e=x3(),r=gH(),n=PH(),a=DH(),i=On(),l=w3(),c=k3(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function k(w,b,N,T,P,R){var j=i(w),C=i(b),A=j?p:a(w),I=C?p:a(b);A=A==h?m:A,I=I==h?m:I;var L=A==m,O=I==m,D=A==I;if(D&&l(w)){if(!l(b))return!1;j=!0,L=!1}if(D&&!L)return R||(R=new t),j||c(w)?e(w,b,N,T,P,R):r(w,b,A,N,T,P,R);if(!(N&d)){var F=L&&x.call(w,"__wrapped__"),$=O&&x.call(b,"__wrapped__");if(F||$){var te=F?w.value():w,ne=$?b.value():b;return R||(R=new t),P(te,ne,N,T,R)}}return D?(R||(R=new t),n(w,b,N,T,P,R)):!1}return lb=k,lb}var cb,bC;function wj(){if(bC)return cb;bC=1;var t=MH(),e=os();function r(n,a,i,l,c){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,l,r,c)}return cb=r,cb}var ub,wC;function LH(){if(wC)return ub;wC=1;var t=m3(),e=wj(),r=1,n=2;function a(i,l,c,d){var h=c.length,p=h,m=!d;if(i==null)return!p;for(i=Object(i);h--;){var y=c[h];if(m&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++h<p;){y=c[h];var x=y[0],k=i[x],w=y[1];if(m&&y[2]){if(k===void 0&&!(x in i))return!1}else{var b=new t;if(d)var N=d(k,w,x,i,l,b);if(!(N===void 0?e(w,k,r|n,d,b):N))return!1}}return!0}return ub=a,ub}var db,_C;function S3(){if(_C)return db;_C=1;var t=uo();function e(r){return r===r&&!t(r)}return db=e,db}var hb,kC;function $H(){if(kC)return hb;kC=1;var t=S3(),e=L0();function r(n){for(var a=e(n),i=a.length;i--;){var l=a[i],c=n[l];a[i]=[l,c,t(c)]}return a}return hb=r,hb}var fb,jC;function E3(){if(jC)return fb;jC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return fb=t,fb}var pb,NC;function FH(){if(NC)return pb;NC=1;var t=LH(),e=$H(),r=E3();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===a||t(l,a,i)}}return pb=n,pb}var mb,SC;function VH(){if(SC)return mb;SC=1;function t(e,r){return e!=null&&r in Object(e)}return mb=t,mb}var gb,EC;function BH(){if(EC)return gb;EC=1;var t=H4(),e=yj(),r=On(),n=xj(),a=bj(),i=I0();function l(c,d,h){d=t(d,c);for(var p=-1,m=d.length,y=!1;++p<m;){var x=i(d[p]);if(!(y=c!=null&&h(c,x)))break;c=c[x]}return y||++p!=m?y:(m=c==null?0:c.length,!!m&&a(m)&&n(x,m)&&(r(c)||e(c)))}return gb=l,gb}var vb,TC;function UH(){if(TC)return vb;TC=1;var t=VH(),e=BH();function r(n,a){return n!=null&&e(n,a,t)}return vb=r,vb}var yb,AC;function qH(){if(AC)return yb;AC=1;var t=wj(),e=G4(),r=UH(),n=nj(),a=S3(),i=E3(),l=I0(),c=1,d=2;function h(p,m){return n(p)&&a(m)?i(l(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,c|d)}}return yb=h,yb}var xb,CC;function du(){if(CC)return xb;CC=1;function t(e){return e}return xb=t,xb}var bb,PC;function zH(){if(PC)return bb;PC=1;function t(e){return function(r){return r?.[e]}}return bb=t,bb}var wb,IC;function WH(){if(IC)return wb;IC=1;var t=cj();function e(r){return function(n){return t(n,r)}}return wb=e,wb}var _b,OC;function HH(){if(OC)return _b;OC=1;var t=zH(),e=WH(),r=nj(),n=I0();function a(i){return r(i)?t(n(i)):e(i)}return _b=a,_b}var kb,RC;function bi(){if(RC)return kb;RC=1;var t=FH(),e=qH(),r=du(),n=On(),a=HH();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):a(l)}return kb=i,kb}var jb,DC;function T3(){if(DC)return jb;DC=1;function t(e,r,n,a){for(var i=e.length,l=n+(a?1:-1);a?l--:++l<i;)if(r(e[l],l,e))return l;return-1}return jb=t,jb}var Nb,MC;function GH(){if(MC)return Nb;MC=1;function t(e){return e!==e}return Nb=t,Nb}var Sb,LC;function KH(){if(LC)return Sb;LC=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Sb=t,Sb}var Eb,$C;function YH(){if($C)return Eb;$C=1;var t=T3(),e=GH(),r=KH();function n(a,i,l){return i===i?r(a,i,l):t(a,e,l)}return Eb=n,Eb}var Tb,FC;function XH(){if(FC)return Tb;FC=1;var t=YH();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Tb=e,Tb}var Ab,VC;function QH(){if(VC)return Ab;VC=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Ab=t,Ab}var Cb,BC;function JH(){if(BC)return Cb;BC=1;function t(){}return Cb=t,Cb}var Pb,UC;function ZH(){if(UC)return Pb;UC=1;var t=N3(),e=JH(),r=vj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Pb=a,Pb}var Ib,qC;function eG(){if(qC)return Ib;qC=1;var t=g3(),e=XH(),r=QH(),n=y3(),a=ZH(),i=vj(),l=200;function c(d,h,p){var m=-1,y=e,x=d.length,k=!0,w=[],b=w;if(p)k=!1,y=r;else if(x>=l){var N=h?null:a(d);if(N)return i(N);k=!1,y=n,b=new t}else b=h?[]:w;e:for(;++m<x;){var T=d[m],P=h?h(T):T;if(T=p||T!==0?T:0,k&&P===P){for(var R=b.length;R--;)if(b[R]===P)continue e;h&&b.push(P),w.push(T)}else y(b,P,p)||(b!==w&&b.push(P),w.push(T))}return w}return Ib=c,Ib}var Ob,zC;function tG(){if(zC)return Ob;zC=1;var t=bi(),e=eG();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Ob=r,Ob}var rG=tG();const WC=xt(rG);function A3(t,e,r){return e===!0?WC(t,r):Qe(e)?WC(t,e):t}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var nG=["ref"];function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){$0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P3(n.key),n)}}function iG(t,e,r){return e&&GC(t.prototype,e),r&&GC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sG(t,e,r){return e=mm(e),oG(t,C3()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function oG(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C3=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function cG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H_(t,e)}function $0(t,e,r){return e=P3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P3(t){var e=uG(t,"string");return Lc(e)=="symbol"?e:e+""}function uG(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dG(t,e){if(t==null)return{};var r=hG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fG(t){return t.value}function pG(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=dG(e,nG);return X.createElement(gj,r)}var KC=1,Qs=function(t){function e(){var r;aG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=sG(this,e,[].concat(a)),$0(r,"lastBoundingBox",{width:-1,height:-1}),r}return cG(e,t),iG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>KC||Math.abs(a.height-this.lastBoundingBox.height)>KC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,l=a.align,c=a.verticalAlign,d=a.margin,h=a.chartWidth,p=a.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((h||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var k=this.getBBoxSnapshot();y={top:((p||0)-k.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Vi(Vi({},m),y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,l=a.width,c=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,p=a.payload,m=Vi(Vi({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},pG(i,Vi(Vi({},this.props),{},{payload:A3(p,h,fG)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Vi(Vi({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&Te(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);$0(Qs,"displayName","Legend");$0(Qs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Rb,YC;function mG(){if(YC)return Rb;YC=1;var t=Uh(),e=yj(),r=On(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Rb=a,Rb}var Db,XC;function I3(){if(XC)return Db;XC=1;var t=b3(),e=mG();function r(n,a,i,l,c){var d=-1,h=n.length;for(i||(i=e),c||(c=[]);++d<h;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,l,c):t(c,p):l||(c[c.length]=p)}return c}return Db=r,Db}var Mb,QC;function gG(){if(QC)return Mb;QC=1;function t(e){return function(r,n,a){for(var i=-1,l=Object(r),c=a(r),d=c.length;d--;){var h=c[e?d:++i];if(n(l[h],h,l)===!1)break}return r}}return Mb=t,Mb}var Lb,JC;function vG(){if(JC)return Lb;JC=1;var t=gG(),e=t();return Lb=e,Lb}var $b,ZC;function O3(){if(ZC)return $b;ZC=1;var t=vG(),e=L0();function r(n,a){return n&&t(n,a,e)}return $b=r,$b}var Fb,eP;function yG(){if(eP)return Fb;eP=1;var t=Wh();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var l=a.length,c=n?l:-1,d=Object(a);(n?c--:++c<l)&&i(d[c],c,d)!==!1;);return a}}return Fb=e,Fb}var Vb,tP;function _j(){if(tP)return Vb;tP=1;var t=O3(),e=yG(),r=e(t);return Vb=r,Vb}var Bb,rP;function R3(){if(rP)return Bb;rP=1;var t=_j(),e=Wh();function r(n,a){var i=-1,l=e(n)?Array(n.length):[];return t(n,function(c,d,h){l[++i]=a(c,d,h)}),l}return Bb=r,Bb}var Ub,nP;function xG(){if(nP)return Ub;nP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ub=t,Ub}var qb,aP;function bG(){if(aP)return qb;aP=1;var t=cu();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,l=r===r,c=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!c&&r>n||c&&d&&p&&!h&&!m||i&&d&&p||!a&&p||!l)return 1;if(!i&&!c&&!m&&r<n||m&&a&&l&&!i&&!c||h&&a&&l||!d&&l||!p)return-1}return 0}return qb=e,qb}var zb,iP;function wG(){if(iP)return zb;iP=1;var t=bG();function e(r,n,a){for(var i=-1,l=r.criteria,c=n.criteria,d=l.length,h=a.length;++i<d;){var p=t(l[i],c[i]);if(p){if(i>=h)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return r.index-n.index}return zb=e,zb}var Wb,sP;function _G(){if(sP)return Wb;sP=1;var t=lj(),e=cj(),r=bi(),n=R3(),a=xG(),i=_3(),l=wG(),c=du(),d=On();function h(p,m,y){m.length?m=t(m,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[c];var x=-1;m=t(m,i(r));var k=n(p,function(w,b,N){var T=t(m,function(P){return P(w)});return{criteria:T,index:++x,value:w}});return a(k,function(w,b){return l(w,b,y)})}return Wb=h,Wb}var Hb,oP;function kG(){if(oP)return Hb;oP=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Hb=t,Hb}var Gb,lP;function jG(){if(lP)return Gb;lP=1;var t=kG(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var l=arguments,c=-1,d=e(l.length-a,0),h=Array(d);++c<d;)h[c]=l[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=l[c];return p[a]=i(h),t(n,this,p)}}return Gb=r,Gb}var Kb,cP;function NG(){if(cP)return Kb;cP=1;function t(e){return function(){return e}}return Kb=t,Kb}var Yb,uP;function D3(){if(uP)return Yb;uP=1;var t=kl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Yb=e,Yb}var Xb,dP;function SG(){if(dP)return Xb;dP=1;var t=NG(),e=D3(),r=du(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Xb=n,Xb}var Qb,hP;function EG(){if(hP)return Qb;hP=1;var t=800,e=16,r=Date.now;function n(a){var i=0,l=0;return function(){var c=r(),d=e-(c-l);if(l=c,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Qb=n,Qb}var Jb,fP;function TG(){if(fP)return Jb;fP=1;var t=SG(),e=EG(),r=e(t);return Jb=r,Jb}var Zb,pP;function AG(){if(pP)return Zb;pP=1;var t=du(),e=jG(),r=TG();function n(a,i){return r(e(a,i,t),a+"")}return Zb=n,Zb}var ew,mP;function F0(){if(mP)return ew;mP=1;var t=ij(),e=Wh(),r=xj(),n=uo();function a(i,l,c){if(!n(c))return!1;var d=typeof l;return(d=="number"?e(c)&&r(l,c.length):d=="string"&&l in c)?t(c[l],i):!1}return ew=a,ew}var tw,gP;function CG(){if(gP)return tw;gP=1;var t=I3(),e=_G(),r=AG(),n=F0(),a=r(function(i,l){if(i==null)return[];var c=l.length;return c>1&&n(i,l[0],l[1])?l=[]:c>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(i,t(l,1),[])});return tw=a,tw}var PG=CG();const kj=xt(PG);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}function IG(t,e){return MG(t)||DG(t,e)||RG(t,e)||OG()}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RG(t,e){if(t){if(typeof t=="string")return vP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(t,e)}}function vP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function MG(t){if(Array.isArray(t))return t}function yP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(r),!0).forEach(function(n){LG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LG(t,e,r){return e=$G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $G(t){var e=FG(t,"string");return zd(e)=="symbol"?e:e+""}function FG(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VG(t){return Array.isArray(t)&&kr(t[0])&&kr(t[1])?t.join(" ~ "):t}var BG=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,l=e.itemStyle,c=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,k=e.labelClassName,w=e.label,b=e.labelFormatter,N=e.accessibilityLayer,T=N===void 0?!1:N,P=function(){if(p&&p.length){var F={padding:0,margin:0},$=(y?kj(p,y):p).map(function(te,ne){if(te.type==="none")return null;var J=rw({display:"block",paddingTop:4,paddingBottom:4,color:te.color||"#000"},c),oe=te.formatter||m||VG,re=te.value,G=te.name,ee=re,W=G;if(oe&&ee!=null&&W!=null){var K=oe(re,G,te,ne,p);if(Array.isArray(K)){var Y=IG(K,2);ee=Y[0],W=Y[1]}else ee=K}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:J},kr(W)?X.createElement("span",{className:"recharts-tooltip-item-name"},W):null,kr(W)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},ee),X.createElement("span",{className:"recharts-tooltip-item-unit"},te.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},R=rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=rw({margin:0},h),C=!at(w),A=C?w:"",I=tt("recharts-default-tooltip",x),L=tt("recharts-tooltip-label",k);C&&b&&p!==void 0&&p!==null&&(A=b(w,p));var O=T?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",G_({className:I,style:R},O),X.createElement("p",{className:L,style:j},X.isValidElement(A)?A:"".concat(A)),P())};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function wp(t,e,r){return e=UG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UG(t){var e=qG(t,"string");return Wd(e)=="symbol"?e:e+""}function qG(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ju="recharts-tooltip-wrapper",zG={visibility:"hidden"};function WG(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tt(Ju,wp(wp(wp(wp({},"".concat(Ju,"-right"),Te(r)&&e&&Te(e.x)&&r>=e.x),"".concat(Ju,"-left"),Te(r)&&e&&Te(e.x)&&r<e.x),"".concat(Ju,"-bottom"),Te(n)&&e&&Te(e.y)&&n>=e.y),"".concat(Ju,"-top"),Te(n)&&e&&Te(e.y)&&n<e.y))}function xP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,l=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(i&&Te(i[n]))return i[n];var p=r[n]-c-a,m=r[n]+a;if(e[n])return l[n]?p:m;if(l[n]){var y=p,x=d[n];return y<x?Math.max(m,d[n]):Math.max(p,d[n])}var k=m+c,w=d[n]+h;return k>w?Math.max(p,d[n]):Math.max(m,d[n])}function HG(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function GG(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=xP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=xP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=HG({translateX:p,translateY:m,useTranslate3d:c})):h=zG,{cssProperties:h,cssClasses:WG({translateX:p,translateY:m,coordinate:r})}}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){Y_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L3(n.key),n)}}function XG(t,e,r){return e&&YG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QG(t,e,r){return e=gm(e),JG(t,M3()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function JG(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZG(t)}function ZG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M3=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function eK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K_(t,e)}function Y_(t,e,r){return e=L3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L3(t){var e=tK(t,"string");return $c(e)=="symbol"?e:e+""}function tK(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _P=1,rK=function(t){function e(){var r;KG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=QG(this,e,[].concat(a)),Y_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Y_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return eK(e,t),XG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_P||Math.abs(n.height-this.state.lastBoundingBox.height)>_P)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.children,p=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,x=a.offset,k=a.position,w=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,T=a.wrapperStyle,P=GG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:x,position:k,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),R=P.cssClasses,j=P.cssProperties,C=wP(wP({transition:y&&i?"transform ".concat(c,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return X.createElement("div",{tabIndex:-1,className:R,style:C,ref:function(I){n.wrapperNode=I}},h)}}])}(B.PureComponent),nK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hu={isSsr:nK()};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){jj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F3(n.key),n)}}function sK(t,e,r){return e&&iK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oK(t,e,r){return e=vm(e),lK(t,$3()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function lK(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(t)}function cK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function uK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X_(t,e)}function jj(t,e,r){return e=F3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3(t){var e=dK(t,"string");return Fc(e)=="symbol"?e:e+""}function dK(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hK(t){return t.dataKey}function fK(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(BG,e)}var ma=function(t){function e(){return aK(this,e),oK(this,e,arguments)}return uK(e,t),sK(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.content,p=a.coordinate,m=a.filterNull,y=a.isAnimationActive,x=a.offset,k=a.payload,w=a.payloadUniqBy,b=a.position,N=a.reverseDirection,T=a.useTranslate3d,P=a.viewBox,R=a.wrapperStyle,j=k??[];m&&j.length&&(j=A3(k.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,hK));var C=j.length>0;return X.createElement(rK,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:y,active:i,coordinate:p,hasPayload:C,offset:x,position:b,reverseDirection:N,useTranslate3d:T,viewBox:P,wrapperStyle:R},fK(h,jP(jP({},this.props),{},{payload:j})))}}])}(B.PureComponent);jj(ma,"displayName","Tooltip");jj(ma,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nw,NP;function pK(){if(NP)return nw;NP=1;var t=xi(),e=function(){return t.Date.now()};return nw=e,nw}var aw,SP;function mK(){if(SP)return aw;SP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return aw=e,aw}var iw,EP;function gK(){if(EP)return iw;EP=1;var t=mK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return iw=r,iw}var sw,TP;function V3(){if(TP)return sw;TP=1;var t=gK(),e=uo(),r=cu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=i.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):a.test(h)?n:+h}return sw=d,sw}var ow,AP;function vK(){if(AP)return ow;AP=1;var t=uo(),e=pK(),r=V3(),n="Expected a function",a=Math.max,i=Math.min;function l(c,d,h){var p,m,y,x,k,w,b=0,N=!1,T=!1,P=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(N=!!h.leading,T="maxWait"in h,y=T?a(r(h.maxWait)||0,d):y,P="trailing"in h?!!h.trailing:P);function R($){var te=p,ne=m;return p=m=void 0,b=$,x=c.apply(ne,te),x}function j($){return b=$,k=setTimeout(I,d),N?R($):x}function C($){var te=$-w,ne=$-b,J=d-te;return T?i(J,y-ne):J}function A($){var te=$-w,ne=$-b;return w===void 0||te>=d||te<0||T&&ne>=y}function I(){var $=e();if(A($))return L($);k=setTimeout(I,C($))}function L($){return k=void 0,P&&p?R($):(p=m=void 0,x)}function O(){k!==void 0&&clearTimeout(k),b=0,p=w=m=k=void 0}function D(){return k===void 0?x:L(e())}function F(){var $=e(),te=A($);if(p=arguments,m=this,w=$,te){if(k===void 0)return j(w);if(T)return clearTimeout(k),k=setTimeout(I,d),R(w)}return k===void 0&&(k=setTimeout(I,d)),x}return F.cancel=O,F.flush=D,F}return ow=l,ow}var lw,CP;function yK(){if(CP)return lw;CP=1;var t=vK(),e=uo(),r="Expected a function";function n(a,i,l){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(a,i,{leading:c,maxWait:i,trailing:d})}return lw=n,lw}var xK=yK();const B3=xt(xK);function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){bK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bK(t,e,r){return e=wK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wK(t){var e=_K(t,"string");return Hd(e)=="symbol"?e:e+""}function _K(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kK(t,e){return EK(t)||SK(t,e)||NK(t,e)||jK()}function jK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(t,e){if(t){if(typeof t=="string")return IP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(t,e)}}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function EK(t){if(Array.isArray(t))return t}var Nj=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,l=i===void 0?"100%":i,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,y=t.maxHeight,x=t.children,k=t.debounce,w=k===void 0?0:k,b=t.id,N=t.className,T=t.onResize,P=t.style,R=P===void 0?{}:P,j=B.useRef(null),C=B.useRef();C.current=T,B.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=B.useState({containerWidth:a.width,containerHeight:a.height}),I=kK(A,2),L=I[0],O=I[1],D=B.useCallback(function($,te){O(function(ne){var J=Math.round($),oe=Math.round(te);return ne.containerWidth===J&&ne.containerHeight===oe?ne:{containerWidth:J,containerHeight:oe}})},[]);B.useEffect(function(){var $=function(G){var ee,W=G[0].contentRect,K=W.width,Y=W.height;D(K,Y),(ee=C.current)===null||ee===void 0||ee.call(C,K,Y)};w>0&&($=B3($,w,{trailing:!0,leading:!1}));var te=new ResizeObserver($),ne=j.current.getBoundingClientRect(),J=ne.width,oe=ne.height;return D(J,oe),te.observe(j.current),function(){te.disconnect()}},[D,w]);var F=B.useMemo(function(){var $=L.containerWidth,te=L.containerHeight;if($<0||te<0)return null;Va(Xo(l)||Xo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Va(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ne=Xo(l)?$:l,J=Xo(d)?te:d;r&&r>0&&(ne?J=ne/r:J&&(ne=J*r),y&&J>y&&(J=y)),Va(ne>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,J,l,d,p,m,r);var oe=!Array.isArray(x)&&Ki(x.type).endsWith("Chart");return X.Children.map(x,function(re){return X.isValidElement(re)?B.cloneElement(re,_p({width:ne,height:J},oe?{style:_p({height:"100%",width:"100%",maxHeight:J,maxWidth:ne},re.props.style)}:{})):re})},[r,x,d,y,m,p,L,l]);return X.createElement("div",{id:b?"".concat(b):void 0,className:tt("recharts-responsive-container",N),style:_p(_p({},R),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:j},F)}),V0=function(e){return null};V0.displayName="Cell";function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){TK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TK(t,e,r){return e=AK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=CK(t,"string");return Gd(e)=="symbol"?e:e+""}function CK(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sc={widthCache:{},cacheCount:0},PK=2e3,IK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RP="recharts_measurement_span";function OK(t){var e=Q_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var kd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hu.isSsr)return{width:0,height:0};var n=OK(r),a=JSON.stringify({text:e,copyStyle:n});if(sc.widthCache[a])return sc.widthCache[a];try{var i=document.getElementById(RP);i||(i=document.createElement("span"),i.setAttribute("id",RP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Q_(Q_({},IK),n);Object.assign(i.style,l),i.textContent="".concat(e);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return sc.widthCache[a]=d,++sc.cacheCount>PK&&(sc.cacheCount=0,sc.widthCache={}),d}catch{return{width:0,height:0}}},RK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function ym(t,e){return $K(t)||LK(t,e)||MK(t,e)||DK()}function DK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return DP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function $K(t){if(Array.isArray(t))return t}function FK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BK(n.key),n)}}function VK(t,e,r){return e&&MP(t.prototype,e),r&&MP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BK(t){var e=UK(t,"string");return Kd(e)=="symbol"?e:e+""}function UK(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WK=Object.keys(U3),fc="NaN";function HK(t,e){return t*U3[e]}var kp=function(){function t(e,r){FK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!qK.test(r)&&(this.num=NaN,this.unit=""),WK.includes(r)&&(this.num=HK(e,r),this.unit="px")}return VK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=zK.exec(r))!==null&&n!==void 0?n:[],i=ym(a,3),l=i[1],c=i[2];return new t(parseFloat(l),c??"")}}])}();function q3(t){if(t.includes(fc))return fc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=LP.exec(e))!==null&&r!==void 0?r:[],a=ym(n,4),i=a[1],l=a[2],c=a[3],d=kp.parse(i??""),h=kp.parse(c??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return fc;e=e.replace(LP,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=$P.exec(e))!==null&&m!==void 0?m:[],x=ym(y,4),k=x[1],w=x[2],b=x[3],N=kp.parse(k??""),T=kp.parse(b??""),P=w==="+"?N.add(T):N.subtract(T);if(P.isNaN())return fc;e=e.replace($P,P.toString())}return e}var FP=/\(([^()]*)\)/;function GK(t){for(var e=t;e.includes("(");){var r=FP.exec(e),n=ym(r,2),a=n[1];e=e.replace(FP,q3(a))}return e}function KK(t){var e=t.replace(/\s+/g,"");return e=GK(e),e=q3(e),e}function YK(t){try{return KK(t)}catch{return fc}}function cw(t){var e=YK(t.slice(5,-1));return e===fc?"":e}var XK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QK=["dx","dy","angle","className","breakAll"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J_.apply(this,arguments)}function VP(t,e){if(t==null)return{};var r=JK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BP(t,e){return rY(t)||tY(t,e)||eY(t,e)||ZK()}function ZK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(t,e){if(t){if(typeof t=="string")return UP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function rY(t){if(Array.isArray(t))return t}var z3=/[ \f\n\r\t\v\u2028\u2029]+/,W3=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];at(r)||(n?i=r.toString().split(""):i=r.toString().split(z3));var l=i.map(function(d){return{word:d,width:kd(d,a).width}}),c=n?0:kd(" ",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},nY=function(e,r,n,a,i){var l=e.maxLines,c=e.children,d=e.style,h=e.breakAll,p=Te(l),m=c,y=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(J,oe){var re=oe.word,G=oe.width,ee=J[J.length-1];if(ee&&(a==null||i||ee.width+G+n<Number(a)))ee.words.push(re),ee.width+=G+n;else{var W={words:[re],width:G};J.push(W)}return J},[])},x=y(r),k=function(ne){return ne.reduce(function(J,oe){return J.width>oe.width?J:oe})};if(!p)return x;for(var w="…",b=function(ne){var J=m.slice(0,ne),oe=W3({breakAll:h,style:d,children:J+w}).wordsWithComputedWidth,re=y(oe),G=re.length>l||k(re).width>Number(a);return[G,re]},N=0,T=m.length-1,P=0,R;N<=T&&P<=m.length-1;){var j=Math.floor((N+T)/2),C=j-1,A=b(C),I=BP(A,2),L=I[0],O=I[1],D=b(j),F=BP(D,1),$=F[0];if(!L&&!$&&(N=j+1),L&&$&&(T=j-1),!L&&$){R=O;break}P++}return R||x},qP=function(e){var r=at(e)?[]:e.toString().split(z3);return[{words:r}]},aY=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,l=e.breakAll,c=e.maxLines;if((r||n)&&!hu.isSsr){var d,h,p=W3({breakAll:l,children:a,style:i});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,h=y}else return qP(a);return nY({breakAll:l,children:a,maxLines:c,style:i},d,h,r,n)}return qP(a)},zP="#808080",pl=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.lineHeight,c=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,k=e.verticalAnchor,w=k===void 0?"end":k,b=e.fill,N=b===void 0?zP:b,T=VP(e,XK),P=B.useMemo(function(){return aY({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),R=T.dx,j=T.dy,C=T.angle,A=T.className,I=T.breakAll,L=VP(T,QK);if(!kr(n)||!kr(i))return null;var O=n+(Te(R)?R:0),D=i+(Te(j)?j:0),F;switch(w){case"start":F=cw("calc(".concat(h,")"));break;case"middle":F=cw("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:F=cw("calc(".concat(P.length-1," * -").concat(c,")"));break}var $=[];if(m){var te=P[0].width,ne=T.width;$.push("scale(".concat((Te(ne)?ne/te:1)/te,")"))}return C&&$.push("rotate(".concat(C,", ").concat(O,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),X.createElement("text",J_({},Ye(L,!0),{x:O,y:D,className:tt("recharts-text",A),textAnchor:x,fill:N.includes("url")?zP:N}),P.map(function(J,oe){var re=J.words.join(I?"":" ");return X.createElement("tspan",{x:O,dy:oe===0?F:c,key:"".concat(re,"-").concat(oe)},re)}))};function Js(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sj(t){let e,r,n;t.length!==2?(e=Js,r=(c,d)=>Js(t(c),d),n=(c,d)=>t(c)-d):(e=t===Js||t===iY?t:sY,r=t,n=t);function a(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,d,h=0,p=c.length){const m=a(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:i}}function sY(){return 0}function H3(t){return t===null?NaN:+t}function*oY(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const lY=Sj(Js),Hh=lY.right;Sj(H3).center;class WP extends Map{constructor(e,r=dY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(HP(this,e))}has(e){return super.has(HP(this,e))}set(e,r){return super.set(cY(this,e),r)}delete(e){return super.delete(uY(this,e))}}function HP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function uY({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hY(t=Js){if(t===Js)return G3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function G3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fY=Math.sqrt(50),pY=Math.sqrt(10),mY=Math.sqrt(2);function xm(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=fY?10:i>=pY?5:i>=mY?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?xm(t,e,r*2):[c,d,h]}function Z_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,l]=n?xm(e,t,r):xm(t,e,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(i-h)/-l;else for(let h=0;h<c;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function e1(t,e,r){return e=+e,t=+t,r=+r,xm(t,e,r)[2]}function t1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?e1(e,t,r):e1(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function GP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function K3(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?G3:hY(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(e-h*m/d+y)),k=Math.min(n,Math.floor(e+(d-h)*m/d+y));K3(t,e,x,k,a)}const i=t[e];let l=r,c=n;for(Zu(t,r,e),a(t[n],i)>0&&Zu(t,r,n);l<c;){for(Zu(t,l,c),++l,--c;a(t[l],i)<0;)++l;for(;a(t[c],i)>0;)--c}a(t[r],i)===0?Zu(t,r,c):(++c,Zu(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Zu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function gY(t,e,r){if(t=Float64Array.from(oY(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return KP(t);if(e>=1)return GP(t);var n,a=(n-1)*e,i=Math.floor(a),l=GP(K3(t,i).subarray(0,i+1)),c=KP(t.subarray(i+1));return l+(c-l)*(a-i)}}function vY(t,e,r=H3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),l=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return l+(c-l)*(a-i)}}function yY(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function wa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ls(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const r1=Symbol("implicit");function Ej(){var t=new WP,e=[],r=[],n=r1;function a(i){let l=t.get(i);if(l===void 0){if(n!==r1)return n;t.set(i,l=e.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new WP;for(const l of i)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ej(e,r).unknown(n)},wa.apply(a,arguments),a}function Yd(){var t=Ej().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,l,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,x=a<n,k=x?a:n,w=x?n:a;i=(w-k)/Math.max(1,y-d+h*2),c&&(i=Math.floor(i)),k+=(w-k-i*(y-d))*p,l=i*(1-d),c&&(k=Math.round(k),l=Math.round(l));var b=yY(y).map(function(N){return k+i*N});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(y){return arguments.length?(c=!!y,m()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Yd(e(),[n,a]).round(c).paddingInner(d).paddingOuter(h).align(p)},wa.apply(m(),arguments)}function Y3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y3(e())},t}function jd(){return Y3(Yd.apply(null,arguments).paddingInner(1))}function Tj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function X3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gh(){}var Xd=.7,bm=1/Xd,Nc="\\s*([+-]?\\d+)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xY=/^#([0-9a-f]{3,8})$/,bY=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),wY=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),_Y=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${Qd}\\)$`),kY=new RegExp(`^rgba\\(${hi},${hi},${hi},${Qd}\\)$`),jY=new RegExp(`^hsl\\(${Qd},${hi},${hi}\\)$`),NY=new RegExp(`^hsla\\(${Qd},${hi},${hi},${Qd}\\)$`),YP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tj(Gh,Jd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XP,formatHex:XP,formatHex8:SY,formatHsl:EY,formatRgb:QP,toString:QP});function XP(){return this.rgb().formatHex()}function SY(){return this.rgb().formatHex8()}function EY(){return Q3(this).formatHsl()}function QP(){return this.rgb().formatRgb()}function Jd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?JP(e):r===3?new Pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?jp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?jp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bY.exec(t))?new Pn(e[1],e[2],e[3],1):(e=wY.exec(t))?new Pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_Y.exec(t))?jp(e[1],e[2],e[3],e[4]):(e=kY.exec(t))?jp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jY.exec(t))?tI(e[1],e[2]/100,e[3]/100,1):(e=NY.exec(t))?tI(e[1],e[2]/100,e[3]/100,e[4]):YP.hasOwnProperty(t)?JP(YP[t]):t==="transparent"?new Pn(NaN,NaN,NaN,0):null}function JP(t){return new Pn(t>>16&255,t>>8&255,t&255,1)}function jp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Pn(t,e,r,n)}function TY(t){return t instanceof Gh||(t=Jd(t)),t?(t=t.rgb(),new Pn(t.r,t.g,t.b,t.opacity)):new Pn}function n1(t,e,r,n){return arguments.length===1?TY(t):new Pn(t,e,r,n??1)}function Pn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Tj(Pn,n1,X3(Gh,{brighter(t){return t=t==null?bm:Math.pow(bm,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new Pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pn(al(this.r),al(this.g),al(this.b),wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZP,formatHex:ZP,formatHex8:AY,formatRgb:eI,toString:eI}));function ZP(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function AY(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function eI(){const t=wm(this.opacity);return`${t===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${t===1?")":`, ${t})`}`}function wm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Qo(t){return t=al(t),(t<16?"0":"")+t.toString(16)}function tI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ma(t,e,r,n)}function Q3(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);if(t instanceof Gh||(t=Jd(t)),!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(e===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-e)/c+2:l=(e-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new Ma(l,c,d,t.opacity)}function CY(t,e,r,n){return arguments.length===1?Q3(t):new Ma(t,e,r,n??1)}function Ma(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Tj(Ma,CY,X3(Gh,{brighter(t){return t=t==null?bm:Math.pow(bm,t),new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Pn(uw(t>=240?t-240:t+120,a,n),uw(t,a,n),uw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ma(rI(this.h),Np(this.s),Np(this.l),wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wm(this.opacity);return`${t===1?"hsl(":"hsla("}${rI(this.h)}, ${Np(this.s)*100}%, ${Np(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rI(t){return t=(t||0)%360,t<0?t+360:t}function Np(t){return Math.max(0,Math.min(1,t||0))}function uw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Aj=t=>()=>t;function PY(t,e){return function(r){return t+r*e}}function IY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function OY(t){return(t=+t)==1?J3:function(e,r){return r-e?IY(e,r,t):Aj(isNaN(e)?r:e)}}function J3(t,e){var r=e-t;return r?PY(t,r):Aj(isNaN(t)?e:t)}const nI=function t(e){var r=OY(e);function n(a,i){var l=r((a=n1(a)).r,(i=n1(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),h=J3(a.opacity,i.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=t,n}(1);function RY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function DY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function MY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=fu(t[l],e[l]);for(;l<r;++l)i[l]=e[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function LY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _m(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $Y(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=fu(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var a1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dw=new RegExp(a1.source,"g");function FY(t){return function(){return t}}function VY(t){return function(e){return t(e)+""}}function BY(t,e){var r=a1.lastIndex=dw.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(t=t+"",e=e+"";(n=a1.exec(t))&&(a=dw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:_m(n,a)})),r=dw.lastIndex;return r<e.length&&(i=e.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?VY(d[0].x):FY(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function fu(t,e){var r=typeof e,n;return e==null||r==="boolean"?Aj(e):(r==="number"?_m:r==="string"?(n=Jd(e))?(e=n,nI):BY:e instanceof Jd?nI:e instanceof Date?LY:DY(e)?RY:Array.isArray(e)?MY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$Y:_m)(t,e)}function Cj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function UY(t,e){e===void 0&&(e=t,t=fu);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function qY(t){return function(){return t}}function km(t){return+t}var aI=[0,1];function gn(t){return t}function i1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qY(isNaN(e)?NaN:.5)}function zY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function WY(t,e,r){var n=t[0],a=t[1],i=e[0],l=e[1];return a<n?(n=i1(a,n),i=r(l,i)):(n=i1(n,a),i=r(i,l)),function(c){return i(n(c))}}function HY(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=i1(t[l],t[l+1]),i[l]=r(e[l],e[l+1]);return function(c){var d=Hh(t,c,1,n)-1;return i[d](a[d](c))}}function Kh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function B0(){var t=aI,e=aI,r=fu,n,a,i,l=gn,c,d,h;function p(){var y=Math.min(t.length,e.length);return l!==gn&&(l=zY(t[0],t[y-1])),c=y>2?HY:WY,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=c(t.map(n),e,r)))(n(l(y)))}return m.invert=function(y){return l(a((h||(h=c(e,t.map(n),_m)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,km),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=Cj,p()},m.clamp=function(y){return arguments.length?(l=y?!0:gn,p()):l!==gn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,x){return n=y,a=x,p()}}function Pj(){return B0()(gn,gn)}function GY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Vc(t){return t=jm(Math.abs(t)),t?t[1]:NaN}function KY(t,e){return function(r,n){for(var a=r.length,i=[],l=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=t[l=(l+1)%t.length];return i.reverse().join(e)}}function YY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var XY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zd(t){if(!(e=XY.exec(t)))throw new Error("invalid format: "+t);var e;return new Ij({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zd.prototype=Ij.prototype;function Ij(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ij.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QY(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Z3;function JY(t,e){var r=jm(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(Z3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+jm(t,Math.max(0,e+i-1))[0]}function iI(t,e){var r=jm(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:GY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iI(t*100,e),r:iI,s:JY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oI(t){return t}var lI=Array.prototype.map,cI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZY(t){var e=t.grouping===void 0||t.thousands===void 0?oI:KY(lI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?oI:YY(lI.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Zd(m);var y=m.fill,x=m.align,k=m.sign,w=m.symbol,b=m.zero,N=m.width,T=m.comma,P=m.precision,R=m.trim,j=m.type;j==="n"?(T=!0,j="g"):sI[j]||(P===void 0&&(P=12),R=!0,j="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var C=w==="$"?r:w==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=w==="$"?n:/[%p]/.test(j)?l:"",I=sI[j],L=/[defgprs%]/.test(j);P=P===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function O(D){var F=C,$=A,te,ne,J;if(j==="c")$=I(D)+$,D="";else{D=+D;var oe=D<0||1/D<0;if(D=isNaN(D)?d:I(Math.abs(D),P),R&&(D=QY(D)),oe&&+D==0&&k!=="+"&&(oe=!1),F=(oe?k==="("?k:c:k==="-"||k==="("?"":k)+F,$=(j==="s"?cI[8+Z3/3]:"")+$+(oe&&k==="("?")":""),L){for(te=-1,ne=D.length;++te<ne;)if(J=D.charCodeAt(te),48>J||J>57){$=(J===46?a+D.slice(te+1):D.slice(te))+$,D=D.slice(0,te);break}}}T&&!b&&(D=e(D,1/0));var re=F.length+D.length+$.length,G=re<N?new Array(N-re+1).join(y):"";switch(T&&b&&(D=e(G+D,G.length?N-$.length:1/0),G=""),x){case"<":D=F+D+$+G;break;case"=":D=F+G+D+$;break;case"^":D=G.slice(0,re=G.length>>1)+F+D+$+G.slice(re);break;default:D=G+F+D+$;break}return i(D)}return O.toString=function(){return m+""},O}function p(m,y){var x=h((m=Zd(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(Vc(y)/3)))*3,w=Math.pow(10,-k),b=cI[8+k/3];return function(N){return x(w*N)+b}}return{format:h,formatPrefix:p}}var Sp,Oj,e6;eX({thousands:",",grouping:[3],currency:["$",""]});function eX(t){return Sp=ZY(t),Oj=Sp.format,e6=Sp.formatPrefix,Sp}function tX(t){return Math.max(0,-Vc(Math.abs(t)))}function rX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vc(e)/3)))*3-Vc(Math.abs(t)))}function nX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vc(e)-Vc(t))+1}function t6(t,e,r,n){var a=t1(t,e,r),i;switch(n=Zd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=rX(a,l))&&(n.precision=i),e6(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=nX(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tX(a))&&(n.precision=i-(n.type==="%")*2);break}}return Oj(n)}function ho(t){var e=t.domain;return t.ticks=function(r){var n=e();return Z_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return t6(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,l=n[a],c=n[i],d,h,p=10;for(c<l&&(h=l,l=c,c=h,h=a,a=i,i=h);p-- >0;){if(h=e1(l,c,r),h===d)return n[a]=l,n[i]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function Nm(){var t=Pj();return t.copy=function(){return Kh(t,Nm())},wa.apply(t,arguments),ho(t)}function r6(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,km),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return r6(t).unknown(e)},t=arguments.length?Array.from(t,km):[0,1],ho(r)}function n6(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),t[r]=e.floor(a),t[n]=e.ceil(i),t}function uI(t){return Math.log(t)}function dI(t){return Math.exp(t)}function aX(t){return-Math.log(-t)}function iX(t){return-Math.exp(-t)}function sX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oX(t){return t===10?sX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function hI(t){return(e,r)=>-t(-e,r)}function Rj(t){const e=t(uI,dI),r=e.domain;let n=10,a,i;function l(){return a=lX(n),i=oX(n),r()[0]<0?(a=hI(a),i=hI(i),t(aX,iX)):t(uI,dI),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=a(h),x=a(p),k,w;const b=c==null?10:+c;let N=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(k=1;k<n;++k)if(w=y<0?k/i(-y):k*i(y),!(w<h)){if(w>p)break;N.push(w)}}else for(;y<=x;++y)for(k=n-1;k>=1;--k)if(w=y>0?k/i(-y):k*i(y),!(w<h)){if(w>p)break;N.push(w)}N.length*2<b&&(N=Z_(h,p,b))}else N=Z_(y,x,Math.min(x-y,b)).map(i);return m?N.reverse():N},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Zd(d)).precision==null&&(d.trim=!0),d=Oj(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(n6(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function a6(){const t=Rj(B0()).domain([1,10]);return t.copy=()=>Kh(t,a6()).base(t.base()),wa.apply(t,arguments),t}function fI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function pI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dj(t){var e=1,r=t(fI(e),pI(e));return r.constant=function(n){return arguments.length?t(fI(e=+n),pI(e)):e},ho(r)}function i6(){var t=Dj(B0());return t.copy=function(){return Kh(t,i6()).constant(t.constant())},wa.apply(t,arguments)}function mI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uX(t){return t<0?-t*t:t*t}function Mj(t){var e=t(gn,gn),r=1;function n(){return r===1?t(gn,gn):r===.5?t(cX,uX):t(mI(r),mI(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},ho(e)}function Lj(){var t=Mj(B0());return t.copy=function(){return Kh(t,Lj()).exponent(t.exponent())},wa.apply(t,arguments),t}function dX(){return Lj.apply(null,arguments).exponent(.5)}function gI(t){return Math.sign(t)*t*t}function hX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function s6(){var t=Pj(),e=[0,1],r=!1,n;function a(i){var l=hX(t(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return t.invert(gI(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,km)).map(gI)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return s6(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},wa.apply(a,arguments),ho(a)}function o6(){var t=[],e=[],r=[],n;function a(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=vY(t,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:e[Hh(r,l)]}return i.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Js),a()},i.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return o6().domain(t).range(e).unknown(n)},wa.apply(i,arguments)}function l6(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[Hh(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return l6().domain([t,e]).range(a).unknown(i)},wa.apply(ho(l),arguments)}function c6(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Hh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var l=e.indexOf(i);return[t[l-1],t[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return c6().domain(t).range(e).unknown(r)},wa.apply(a,arguments)}const hw=new Date,fw=new Date;function Nr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(e(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let h;do d.push(h=new Date(+i)),e(i,c),t(i);while(h<i&&i<l);return d},a.filter=i=>Nr(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!i(l););else for(;--c>=0;)for(;e(l,1),!i(l););}),r&&(a.count=(i,l)=>(hw.setTime(+i),fw.setTime(+l),t(hw),t(fw),Math.floor(r(hw,fw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Sm=Nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sm);Sm.range;const Wi=1e3,va=Wi*60,Hi=va*60,rs=Hi*24,$j=rs*7,vI=rs*30,pw=rs*365,Jo=Nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Wi)},(t,e)=>(e-t)/Wi,t=>t.getUTCSeconds());Jo.range;const Fj=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getMinutes());Fj.range;const Vj=Nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCMinutes());Vj.range;const Bj=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Wi-t.getMinutes()*va)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getHours());Bj.range;const Uj=Nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hi)},(t,e)=>(e-t)/Hi,t=>t.getUTCHours());Uj.range;const Yh=Nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*va)/rs,t=>t.getDate()-1);Yh.range;const U0=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>t.getUTCDate()-1);U0.range;const u6=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rs,t=>Math.floor(t/rs));u6.range;function jl(t){return Nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*va)/$j)}const q0=jl(0),Em=jl(1),fX=jl(2),pX=jl(3),Bc=jl(4),mX=jl(5),gX=jl(6);q0.range;Em.range;fX.range;pX.range;Bc.range;mX.range;gX.range;function Nl(t){return Nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$j)}const z0=Nl(0),Tm=Nl(1),vX=Nl(2),yX=Nl(3),Uc=Nl(4),xX=Nl(5),bX=Nl(6);z0.range;Tm.range;vX.range;yX.range;Uc.range;xX.range;bX.range;const qj=Nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qj.range;const zj=Nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zj.range;const ns=Nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ns.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ns.range;const as=Nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());as.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});as.range;function d6(t,e,r,n,a,i){const l=[[Jo,1,Wi],[Jo,5,5*Wi],[Jo,15,15*Wi],[Jo,30,30*Wi],[i,1,va],[i,5,5*va],[i,15,15*va],[i,30,30*va],[a,1,Hi],[a,3,3*Hi],[a,6,6*Hi],[a,12,12*Hi],[n,1,rs],[n,2,2*rs],[r,1,$j],[e,1,vI],[e,3,3*vI],[t,1,pw]];function c(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),k=x?x.range(h,+p+1):[];return y?k.reverse():k}function d(h,p,m){const y=Math.abs(p-h)/m,x=Sj(([,,b])=>b).right(l,y);if(x===l.length)return t.every(t1(h/pw,p/pw,m));if(x===0)return Sm.every(Math.max(t1(h,p,m),1));const[k,w]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return k.every(w)}return[c,d]}const[wX,_X]=d6(as,zj,z0,u6,Uj,Vj),[kX,jX]=d6(ns,qj,q0,Yh,Bj,Fj);function mw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ed(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function NX(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=td(a),p=rd(a),m=td(i),y=rd(i),x=td(l),k=rd(l),w=td(c),b=rd(c),N=td(d),T=rd(d),P={a:oe,A:re,b:G,B:ee,c:null,d:kI,e:kI,f:KX,g:aQ,G:sQ,H:WX,I:HX,j:GX,L:h6,m:YX,M:XX,p:W,q:K,Q:SI,s:EI,S:QX,u:JX,U:ZX,V:eQ,w:tQ,W:rQ,x:null,X:null,y:nQ,Y:iQ,Z:oQ,"%":NI},R={a:Y,A:ie,b:me,B:ce,c:null,d:jI,e:jI,f:dQ,g:wQ,G:kQ,H:lQ,I:cQ,j:uQ,L:p6,m:hQ,M:fQ,p:he,q:be,Q:SI,s:EI,S:pQ,u:mQ,U:gQ,V:vQ,w:yQ,W:xQ,x:null,X:null,y:bQ,Y:_Q,Z:jQ,"%":NI},j={a:O,A:D,b:F,B:$,c:te,d:wI,e:wI,f:BX,g:bI,G:xI,H:_I,I:_I,j:LX,L:VX,m:MX,M:$X,p:L,q:DX,Q:qX,s:zX,S:FX,u:CX,U:PX,V:IX,w:AX,W:OX,x:ne,X:J,y:bI,Y:xI,Z:RX,"%":UX};P.x=C(r,P),P.X=C(n,P),P.c=C(e,P),R.x=C(r,R),R.X=C(n,R),R.c=C(e,R);function C(z,ge){return function(xe){var q=[],de=-1,_e=0,Ie=z.length,Ue,Zt,gr;for(xe instanceof Date||(xe=new Date(+xe));++de<Ie;)z.charCodeAt(de)===37&&(q.push(z.slice(_e,de)),(Zt=yI[Ue=z.charAt(++de)])!=null?Ue=z.charAt(++de):Zt=Ue==="e"?" ":"0",(gr=ge[Ue])&&(Ue=gr(xe,Zt)),q.push(Ue),_e=de+1);return q.push(z.slice(_e,de)),q.join("")}}function A(z,ge){return function(xe){var q=ed(1900,void 0,1),de=I(q,z,xe+="",0),_e,Ie;if(de!=xe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ge&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(_e=gw(ed(q.y,0,1)),Ie=_e.getUTCDay(),_e=Ie>4||Ie===0?Tm.ceil(_e):Tm(_e),_e=U0.offset(_e,(q.V-1)*7),q.y=_e.getUTCFullYear(),q.m=_e.getUTCMonth(),q.d=_e.getUTCDate()+(q.w+6)%7):(_e=mw(ed(q.y,0,1)),Ie=_e.getDay(),_e=Ie>4||Ie===0?Em.ceil(_e):Em(_e),_e=Yh.offset(_e,(q.V-1)*7),q.y=_e.getFullYear(),q.m=_e.getMonth(),q.d=_e.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ie="Z"in q?gw(ed(q.y,0,1)).getUTCDay():mw(ed(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ie+5)%7:q.w+q.U*7-(Ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,gw(q)):mw(q)}}function I(z,ge,xe,q){for(var de=0,_e=ge.length,Ie=xe.length,Ue,Zt;de<_e;){if(q>=Ie)return-1;if(Ue=ge.charCodeAt(de++),Ue===37){if(Ue=ge.charAt(de++),Zt=j[Ue in yI?ge.charAt(de++):Ue],!Zt||(q=Zt(z,xe,q))<0)return-1}else if(Ue!=xe.charCodeAt(q++))return-1}return q}function L(z,ge,xe){var q=h.exec(ge.slice(xe));return q?(z.p=p.get(q[0].toLowerCase()),xe+q[0].length):-1}function O(z,ge,xe){var q=x.exec(ge.slice(xe));return q?(z.w=k.get(q[0].toLowerCase()),xe+q[0].length):-1}function D(z,ge,xe){var q=m.exec(ge.slice(xe));return q?(z.w=y.get(q[0].toLowerCase()),xe+q[0].length):-1}function F(z,ge,xe){var q=N.exec(ge.slice(xe));return q?(z.m=T.get(q[0].toLowerCase()),xe+q[0].length):-1}function $(z,ge,xe){var q=w.exec(ge.slice(xe));return q?(z.m=b.get(q[0].toLowerCase()),xe+q[0].length):-1}function te(z,ge,xe){return I(z,e,ge,xe)}function ne(z,ge,xe){return I(z,r,ge,xe)}function J(z,ge,xe){return I(z,n,ge,xe)}function oe(z){return l[z.getDay()]}function re(z){return i[z.getDay()]}function G(z){return d[z.getMonth()]}function ee(z){return c[z.getMonth()]}function W(z){return a[+(z.getHours()>=12)]}function K(z){return 1+~~(z.getMonth()/3)}function Y(z){return l[z.getUTCDay()]}function ie(z){return i[z.getUTCDay()]}function me(z){return d[z.getUTCMonth()]}function ce(z){return c[z.getUTCMonth()]}function he(z){return a[+(z.getUTCHours()>=12)]}function be(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var ge=C(z+="",P);return ge.toString=function(){return z},ge},parse:function(z){var ge=A(z+="",!1);return ge.toString=function(){return z},ge},utcFormat:function(z){var ge=C(z+="",R);return ge.toString=function(){return z},ge},utcParse:function(z){var ge=A(z+="",!0);return ge.toString=function(){return z},ge}}}var yI={"-":"",_:" ",0:"0"},Or=/^\s*\d+/,SX=/^%/,EX=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function TX(t){return t.replace(EX,"\\$&")}function td(t){return new RegExp("^(?:"+t.map(TX).join("|")+")","i")}function rd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function AX(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function CX(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function PX(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function IX(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function OX(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function xI(t,e,r){var n=Or.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function bI(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DX(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function MX(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function wI(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function LX(t,e,r){var n=Or.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function _I(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $X(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function FX(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function VX(t,e,r){var n=Or.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function BX(t,e,r){var n=Or.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UX(t,e,r){var n=SX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qX(t,e,r){var n=Or.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function zX(t,e,r){var n=Or.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function kI(t,e){return mt(t.getDate(),e,2)}function WX(t,e){return mt(t.getHours(),e,2)}function HX(t,e){return mt(t.getHours()%12||12,e,2)}function GX(t,e){return mt(1+Yh.count(ns(t),t),e,3)}function h6(t,e){return mt(t.getMilliseconds(),e,3)}function KX(t,e){return h6(t,e)+"000"}function YX(t,e){return mt(t.getMonth()+1,e,2)}function XX(t,e){return mt(t.getMinutes(),e,2)}function QX(t,e){return mt(t.getSeconds(),e,2)}function JX(t){var e=t.getDay();return e===0?7:e}function ZX(t,e){return mt(q0.count(ns(t)-1,t),e,2)}function f6(t){var e=t.getDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function eQ(t,e){return t=f6(t),mt(Bc.count(ns(t),t)+(ns(t).getDay()===4),e,2)}function tQ(t){return t.getDay()}function rQ(t,e){return mt(Em.count(ns(t)-1,t),e,2)}function nQ(t,e){return mt(t.getFullYear()%100,e,2)}function aQ(t,e){return t=f6(t),mt(t.getFullYear()%100,e,2)}function iQ(t,e){return mt(t.getFullYear()%1e4,e,4)}function sQ(t,e){var r=t.getDay();return t=r>=4||r===0?Bc(t):Bc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function oQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function jI(t,e){return mt(t.getUTCDate(),e,2)}function lQ(t,e){return mt(t.getUTCHours(),e,2)}function cQ(t,e){return mt(t.getUTCHours()%12||12,e,2)}function uQ(t,e){return mt(1+U0.count(as(t),t),e,3)}function p6(t,e){return mt(t.getUTCMilliseconds(),e,3)}function dQ(t,e){return p6(t,e)+"000"}function hQ(t,e){return mt(t.getUTCMonth()+1,e,2)}function fQ(t,e){return mt(t.getUTCMinutes(),e,2)}function pQ(t,e){return mt(t.getUTCSeconds(),e,2)}function mQ(t){var e=t.getUTCDay();return e===0?7:e}function gQ(t,e){return mt(z0.count(as(t)-1,t),e,2)}function m6(t){var e=t.getUTCDay();return e>=4||e===0?Uc(t):Uc.ceil(t)}function vQ(t,e){return t=m6(t),mt(Uc.count(as(t),t)+(as(t).getUTCDay()===4),e,2)}function yQ(t){return t.getUTCDay()}function xQ(t,e){return mt(Tm.count(as(t)-1,t),e,2)}function bQ(t,e){return mt(t.getUTCFullYear()%100,e,2)}function wQ(t,e){return t=m6(t),mt(t.getUTCFullYear()%100,e,2)}function _Q(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function kQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Uc(t):Uc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function jQ(){return"+0000"}function NI(){return"%"}function SI(t){return+t}function EI(t){return Math.floor(+t/1e3)}var oc,g6,v6;NQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NQ(t){return oc=NX(t),g6=oc.format,oc.parse,v6=oc.utcFormat,oc.utcParse,oc}function SQ(t){return new Date(t)}function EQ(t){return t instanceof Date?+t:+new Date(+t)}function Wj(t,e,r,n,a,i,l,c,d,h){var p=Pj(),m=p.invert,y=p.domain,x=h(".%L"),k=h(":%S"),w=h("%I:%M"),b=h("%I %p"),N=h("%a %d"),T=h("%b %d"),P=h("%B"),R=h("%Y");function j(C){return(d(C)<C?x:c(C)<C?k:l(C)<C?w:i(C)<C?b:n(C)<C?a(C)<C?N:T:r(C)<C?P:R)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?y(Array.from(C,EQ)):y().map(SQ)},p.ticks=function(C){var A=y();return t(A[0],A[A.length-1],C??10)},p.tickFormat=function(C,A){return A==null?j:h(A)},p.nice=function(C){var A=y();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?y(n6(A,C)):p},p.copy=function(){return Kh(p,Wj(t,e,r,n,a,i,l,c,d,h))},p}function TQ(){return wa.apply(Wj(kX,jX,ns,qj,q0,Yh,Bj,Fj,Jo,g6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AQ(){return wa.apply(Wj(wX,_X,as,zj,z0,U0,Uj,Vj,Jo,v6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W0(){var t=0,e=1,r,n,a,i,l=gn,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var x,k;return arguments.length?([x,k]=y,l=m(x,k),h):[l(0),l(1)]}}return h.range=p(fu),h.rangeRound=p(Cj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),h}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y6(){var t=ho(W0()(gn));return t.copy=function(){return fo(t,y6())},ls.apply(t,arguments)}function x6(){var t=Rj(W0()).domain([1,10]);return t.copy=function(){return fo(t,x6()).base(t.base())},ls.apply(t,arguments)}function b6(){var t=Dj(W0());return t.copy=function(){return fo(t,b6()).constant(t.constant())},ls.apply(t,arguments)}function Hj(){var t=Mj(W0());return t.copy=function(){return fo(t,Hj()).exponent(t.exponent())},ls.apply(t,arguments)}function CQ(){return Hj.apply(null,arguments).exponent(.5)}function w6(){var t=[],e=gn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Hh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Js),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>gY(t,i/n))},r.copy=function(){return w6(e).domain(t)},ls.apply(r,arguments)}function H0(){var t=0,e=.5,r=1,n=1,a,i,l,c,d,h=gn,p,m=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(n*w<n*i?c:d),h(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),i=p(e=+e),l=p(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(h=w,x):h};function k(w){return function(b){var N,T,P;return arguments.length?([N,T,P]=b,h=UY(w,[N,T,P]),x):[h(0),h(.5),h(1)]}}return x.range=k(fu),x.rangeRound=k(Cj),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),i=w(e),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function _6(){var t=ho(H0()(gn));return t.copy=function(){return fo(t,_6())},ls.apply(t,arguments)}function k6(){var t=Rj(H0()).domain([.1,1,10]);return t.copy=function(){return fo(t,k6()).base(t.base())},ls.apply(t,arguments)}function j6(){var t=Dj(H0());return t.copy=function(){return fo(t,j6()).constant(t.constant())},ls.apply(t,arguments)}function Gj(){var t=Mj(H0());return t.copy=function(){return fo(t,Gj()).exponent(t.exponent())},ls.apply(t,arguments)}function PQ(){return Gj.apply(null,arguments).exponent(.5)}const TI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yd,scaleDiverging:_6,scaleDivergingLog:k6,scaleDivergingPow:Gj,scaleDivergingSqrt:PQ,scaleDivergingSymlog:j6,scaleIdentity:r6,scaleImplicit:r1,scaleLinear:Nm,scaleLog:a6,scaleOrdinal:Ej,scalePoint:jd,scalePow:Lj,scaleQuantile:o6,scaleQuantize:l6,scaleRadial:s6,scaleSequential:y6,scaleSequentialLog:x6,scaleSequentialPow:Hj,scaleSequentialQuantile:w6,scaleSequentialSqrt:CQ,scaleSequentialSymlog:b6,scaleSqrt:dX,scaleSymlog:i6,scaleThreshold:c6,scaleTime:TQ,scaleUtc:AQ,tickFormat:t6},Symbol.toStringTag,{value:"Module"}));var vw,AI;function G0(){if(AI)return vw;AI=1;var t=cu();function e(r,n,a){for(var i=-1,l=r.length;++i<l;){var c=r[i],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,p=c}return p}return vw=e,vw}var yw,CI;function N6(){if(CI)return yw;CI=1;function t(e,r){return e>r}return yw=t,yw}var xw,PI;function IQ(){if(PI)return xw;PI=1;var t=G0(),e=N6(),r=du();function n(a){return a&&a.length?t(a,r,e):void 0}return xw=n,xw}var OQ=IQ();const K0=xt(OQ);var bw,II;function S6(){if(II)return bw;II=1;function t(e,r){return e<r}return bw=t,bw}var ww,OI;function RQ(){if(OI)return ww;OI=1;var t=G0(),e=S6(),r=du();function n(a){return a&&a.length?t(a,r,e):void 0}return ww=n,ww}var DQ=RQ();const Y0=xt(DQ);var _w,RI;function MQ(){if(RI)return _w;RI=1;var t=lj(),e=bi(),r=R3(),n=On();function a(i,l){var c=n(i)?t:r;return c(i,e(l,3))}return _w=a,_w}var kw,DI;function LQ(){if(DI)return kw;DI=1;var t=I3(),e=MQ();function r(n,a){return t(e(n,a),1)}return kw=r,kw}var $Q=LQ();const FQ=xt($Q);var jw,MI;function VQ(){if(MI)return jw;MI=1;var t=wj();function e(r,n){return t(r,n)}return jw=e,jw}var BQ=VQ();const X0=xt(BQ);var pu=1e9,UQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yj,Wt=!0,ba="[DecimalError] ",il=ba+"Invalid argument: ",Kj=ba+"Exponent out of range: ",mu=Math.floor,Wo=Math.pow,qQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,Pr=1e7,$t=7,E6=9007199254740991,Am=mu(E6/$t),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Yi(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return Nt(Yi(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return mr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Hn))throw Error(ba+"NaN");if(r.s<1)throw Error(ba+(r.s?"NaN":"-Infinity"));return r.eq(Hn)?new n(0):(Wt=!1,e=Yi(eh(r,i),eh(t,i),i),Wt=!0,Nt(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?C6(e,t):T6(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ba+"NaN");return r.s?(Wt=!1,e=Yi(r,t,0,1).times(t),Wt=!0,r.minus(e)):Nt(new n(r),a)};De.naturalExponential=De.exp=function(){return A6(this)};De.naturalLogarithm=De.ln=function(){return eh(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T6(e,t):C6(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(il+t);if(e=mr(a)+1,n=a.d.length-1,r=n*$t+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ba+"NaN")}for(t=mr(c),Wt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=ii(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=mu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Yi(c,i,l+2)).times(.5),ii(i.d).slice(0,l)===(e=ii(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Nt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(e!="9999")break;l+=4}return Wt=!0,Nt(n,r)};De.times=De.mul=function(t){var e,r,n,a,i,l,c,d,h,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,h=x.length,d<h&&(i=y,y=x,x=i,l=d,d=h,h=l),i=[],l=d+h,n=l;n--;)i.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)c=i[a]+x[n]*y[a-n-1]+e,i[a--]=c%Pr|0,e=c/Pr|0;i[a]=(i[a]+e)%Pr|0}for(;!i[--l];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Wt?Nt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(gi(t,0,pu),e===void 0?e=n.rounding:gi(e,0,8),Nt(r,t+mr(r)+1,e))};De.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ml(n,!0):(gi(t,0,pu),e===void 0?e=a.rounding:gi(e,0,8),n=Nt(new a(n),t+1,e),r=ml(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?ml(a):(gi(t,0,pu),e===void 0?e=i.rounding:gi(e,0,8),n=Nt(new i(a),t+mr(a)+1,e),r=ml(n.abs(),!1,t+mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),mr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,a,i,l,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Hn);if(c=new d(c),!c.s){if(t.s<1)throw Error(ba+"Infinity");return c}if(c.eq(Hn))return c;if(n=d.precision,t.eq(Hn))return Nt(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,i=c.s,l){if((r=p<0?-p:p)<=E6){for(a=new d(Hn),e=Math.ceil(n/$t+4),Wt=!1;r%2&&(a=a.times(c),$I(a.d,e)),r=mu(r/2),r!==0;)c=c.times(c),$I(c.d,e);return Wt=!0,t.s<0?new d(Hn).div(a):Nt(a,n)}}else if(i<0)throw Error(ba+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Wt=!1,a=t.times(eh(c,n+h)),Wt=!0,a=A6(a),a.s=i,a};De.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=mr(a),n=ml(a,r<=i.toExpNeg||r>=i.toExpPos)):(gi(t,1,pu),e===void 0?e=i.rounding:gi(e,0,8),a=Nt(new i(a),t,e),r=mr(a),n=ml(a,t<=r||r<=i.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(gi(t,1,pu),e===void 0?e=n.rounding:gi(e,0,8)),Nt(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mr(t),r=t.constructor;return ml(t,e<=r.toExpNeg||e>=r.toExpPos)};function T6(t,e){var r,n,a,i,l,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Wt?Nt(e,m):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=h.length):(n=h,a=l,c=d.length),l=Math.ceil(m/$t),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=h.length,c-i<0&&(i=c,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/Pr|0,d[i]%=Pr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Wt?Nt(e,m):e}function gi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(il+t)}function ii(t){var e,r,n,a=t.length-1,i="",l=t[0];if(a>0){for(i+=l,e=1;e<a;e++)n=t[e]+"",r=$t-n.length,r&&(i+=Ls(r)),i+=n;l=t[e],n=l+"",r=$t-n.length,r&&(i+=Ls(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Yi=function(){function t(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%Pr|0,l=i/Pr|0;return l&&n.unshift(l),n}function e(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Pr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,h,p,m,y,x,k,w,b,N,T,P,R,j,C,A,I,L=n.constructor,O=n.s==a.s?1:-1,D=n.d,F=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(ba+"Division by zero");for(d=n.e-a.e,A=F.length,j=D.length,x=new L(O),k=x.d=[],h=0;F[h]==(D[h]||0);)++h;if(F[h]>(D[h]||0)&&--d,i==null?T=i=L.precision:l?T=i+(mr(n)-mr(a))+1:T=i,T<0)return new L(0);if(T=T/$t+2|0,h=0,A==1)for(p=0,F=F[0],T++;(h<j||p)&&T--;h++)P=p*Pr+(D[h]||0),k[h]=P/F|0,p=P%F|0;else{for(p=Pr/(F[0]+1)|0,p>1&&(F=t(F,p),D=t(D,p),A=F.length,j=D.length),R=A,w=D.slice(0,A),b=w.length;b<A;)w[b++]=0;I=F.slice(),I.unshift(0),C=F[0],F[1]>=Pr/2&&++C;do p=0,c=e(F,w,A,b),c<0?(N=w[0],A!=b&&(N=N*Pr+(w[1]||0)),p=N/C|0,p>1?(p>=Pr&&(p=Pr-1),m=t(F,p),y=m.length,b=w.length,c=e(m,w,y,b),c==1&&(p--,r(m,A<y?I:F,y))):(p==0&&(c=p=1),m=F.slice()),y=m.length,y<b&&m.unshift(0),r(w,m,b),c==-1&&(b=w.length,c=e(F,w,A,b),c<1&&(p++,r(w,A<b?I:F,b))),b=w.length):c===0&&(p++,w=[0]),k[h++]=p,c&&w[0]?w[b++]=D[R]||0:(w=[D[R]],b=1);while((R++<j||w[0]!==void 0)&&T--)}return k[0]||k.shift(),x.e=d,Nt(x,l?i+mr(x)+1:i)}}();function A6(t,e){var r,n,a,i,l,c,d=0,h=0,p=t.constructor,m=p.precision;if(mr(t)>16)throw Error(Kj+mr(t));if(!t.s)return new p(Hn);for(Wt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Wo(2,h))/Math.LN10*2+5|0,c+=n,r=a=i=new p(Hn),p.precision=c;;){if(a=Nt(a.times(t),c),r=r.times(++d),l=i.plus(Yi(a,r,c)),ii(l.d).slice(0,c)===ii(i.d).slice(0,c)){for(;h--;)i=Nt(i.times(i),c);return p.precision=m,e==null?(Wt=!0,Nt(i,m)):i}i=l}}function mr(t){for(var e=t.e*$t,r=t.d[0];r>=10;r/=10)e++;return e}function Nw(t,e,r){if(e>t.LN10.sd())throw Wt=!0,r&&(t.precision=r),Error(ba+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function eh(t,e){var r,n,a,i,l,c,d,h,p,m=1,y=10,x=t,k=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(ba+(x.s?"NaN":"-Infinity"));if(x.eq(Hn))return new w(0);if(e==null?(Wt=!1,h=b):h=e,x.eq(10))return e==null&&(Wt=!0),Nw(w,h);if(h+=y,w.precision=h,r=ii(k),n=r.charAt(0),i=mr(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ii(x.d),n=r.charAt(0),m++;i=mr(x),n>1?(x=new w("0."+r),i++):x=new w(n+"."+r.slice(1))}else return d=Nw(w,h+2,b).times(i+""),x=eh(new w(n+"."+r.slice(1)),h-y).plus(d),w.precision=b,e==null?(Wt=!0,Nt(x,b)):x;for(c=l=x=Yi(x.minus(Hn),x.plus(Hn),h),p=Nt(x.times(x),h),a=3;;){if(l=Nt(l.times(p),h),d=c.plus(Yi(l,new w(a),h)),ii(d.d).slice(0,h)===ii(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(Nw(w,h+2,b).times(i+""))),c=Yi(c,new w(m),h),w.precision=b,e==null?(Wt=!0,Nt(c,b)):c;c=d,a+=2}}function LI(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=mu(r/$t),t.d=[],n=(r+1)%$t,r<0&&(n+=$t),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=$t;n<a;)t.d.push(+e.slice(n,n+=$t));e=e.slice(n),n=$t-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Wt&&(t.e>Am||t.e<-Am))throw Error(Kj+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,r){var n,a,i,l,c,d,h,p,m=t.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=e-l,n<0)n+=$t,a=e,h=m[p=0];else{if(p=Math.ceil((n+1)/$t),i=m.length,p>=i)return t;for(h=i=m[p],l=1;i>=10;i/=10)l++;n%=$t,a=n-$t+l}if(r!==void 0&&(i=Wo(10,l-a-1),c=h/i%10|0,d=e<0||m[p+1]!==void 0||h%i,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?h/Wo(10,l-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(i=mr(t),m.length=1,e=e-i-1,m[0]=Wo(10,($t-e%$t)%$t),t.e=mu(-e/$t)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=Wo(10,$t-n),m[p]=a>0?(h/Wo(10,l-a)%Wo(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Pr&&(m[0]=1,++t.e);break}else{if(m[p]+=i,m[p]!=Pr)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Wt&&(t.e>Am||t.e<-Am))throw Error(Kj+mr(t));return t}function C6(t,e){var r,n,a,i,l,c,d,h,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Wt?Nt(e,x):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,c=m.length):(r=m,n=h,c=d.length),a=Math.max(Math.ceil(x/$t),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}l=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Pr-1;--d[i],d[a]+=Pr}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Wt?Nt(e,x):e):new y(0)}function ml(t,e,r){var n,a=mr(t),i=ii(t.d),l=i.length;return e?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ls(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ls(-a-1)+i,r&&(n=r-l)>0&&(i+=Ls(n))):a>=l?(i+=Ls(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Ls(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Ls(n))),t.s<0?"-"+i:i}function $I(t,e){if(t.length>e)return t.length=e,!0}function P6(t){var e,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(il+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return LI(l,i.toString())}else if(typeof i!="string")throw Error(il+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,qQ.test(i))LI(l,i);else throw Error(il+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=P6,a.config=a.set=zQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function zQ(t){if(!t||typeof t!="object")throw Error(ba+"Object expected");var e,r,n,a=["precision",1,pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(mu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(il+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(il+r+": "+n);return this}var Yj=P6(UQ);Hn=new Yj(1);const kt=Yj;function WQ(t){return YQ(t)||KQ(t)||GQ(t)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return s1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(t,e)}}function KQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YQ(t){if(Array.isArray(t))return s1(t)}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var XQ=function(e){return e},I6={},O6=function(e){return e===I6},FI=function(e){return function r(){return arguments.length===0||arguments.length===1&&O6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},QQ=function t(e,r){return e===1?r:FI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var l=a.filter(function(c){return c!==I6}).length;return l>=e?r.apply(void 0,a):t(e-l,FI(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=a.map(function(m){return O6(m)?d.shift():m});return r.apply(void 0,WQ(p).concat(d))}))})},Q0=function(e){return QQ(e.length,e)},o1=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},JQ=Q0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ZQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return XQ;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},l1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},R6=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function eJ(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function tJ(t,e,r){for(var n=new kt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var rJ=Q0(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),nJ=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),aJ=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const J0={rangeStep:tJ,getDigitCount:eJ,interpolateNumber:rJ,uninterpolateNumber:nJ,uninterpolateTruncation:aJ};function c1(t){return oJ(t)||sJ(t)||D6(t)||iJ()}function iJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oJ(t){if(Array.isArray(t))return u1(t)}function th(t,e){return uJ(t)||cJ(t,e)||D6(t,e)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6(t,e){if(t){if(typeof t=="string")return u1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(t,e)}}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var l=t[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw i}}return r}}function uJ(t){if(Array.isArray(t))return t}function M6(t){var e=th(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function L6(t,e,r){if(t.lte(0))return new kt(0);var n=J0.getDigitCount(t.toNumber()),a=new kt(10).pow(n),i=t.div(a),l=n!==1?.05:.1,c=new kt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return e?d:new kt(Math.ceil(d))}function dJ(t,e,r){var n=1,a=new kt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new kt(10).pow(J0.getDigitCount(t)-1),a=new kt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new kt(Math.floor(t)))}else t===0?a=new kt(Math.floor((e-1)/2)):r||(a=new kt(Math.floor(t)));var l=Math.floor((e-1)/2),c=ZQ(JQ(function(d){return a.add(new kt(d-l).mul(n)).toNumber()}),o1);return c(0,e)}function $6(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var i=L6(new kt(e).sub(t).div(r-1),n,a),l;t<=0&&e>=0?l=new kt(0):(l=new kt(t).add(e).div(2),l=l.sub(new kt(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),d=Math.ceil(new kt(e).sub(l).div(i).toNumber()),h=c+d+1;return h>r?$6(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:i,tickMin:l.sub(new kt(c).mul(i)),tickMax:l.add(new kt(d).mul(i))})}function hJ(t){var e=th(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),c=M6([r,n]),d=th(c,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(c1(o1(0,a-1).map(function(){return 1/0}))):[].concat(c1(o1(0,a-1).map(function(){return-1/0})),[p]);return r>n?l1(m):m}if(h===p)return dJ(h,a,i);var y=$6(h,p,l,i),x=y.step,k=y.tickMin,w=y.tickMax,b=J0.rangeStep(k,w.add(new kt(.1).mul(x)),x);return r>n?l1(b):b}function fJ(t,e){var r=th(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=M6([n,a]),c=th(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var p=Math.max(e,2),m=L6(new kt(h).sub(d).div(p-1),i,0),y=[].concat(c1(J0.rangeStep(new kt(d),new kt(h).sub(new kt(.99).mul(m)),m)),[h]);return n>a?l1(y):y}var pJ=R6(hJ),mJ=R6(fJ),gJ="Invariant failed";function gl(t,e){throw new Error(gJ)}var vJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}function yJ(t,e){return _J(t)||wJ(t,e)||bJ(t,e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return VI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(t,e)}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function _J(t){if(Array.isArray(t))return t}function kJ(t,e){if(t==null)return{};var r=jJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B6(n.key),n)}}function EJ(t,e,r){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e,r){return e=Pm(e),AJ(t,F6()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function AJ(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(t)}function CJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F6=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function PJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d1(t,e)}function V6(t,e,r){return e=B6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B6(t){var e=IJ(t,"string");return qc(e)=="symbol"?e:e+""}function IJ(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z0=function(t){function e(){return NJ(this,e),TJ(this,e,arguments)}return PJ(e,t),EJ(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,l=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=kJ(n,vJ),x=Ye(y,!1);this.props.direction==="x"&&p.type!=="number"&&gl();var k=d.map(function(w){var b=h(w,c),N=b.x,T=b.y,P=b.value,R=b.errorVal;if(!R)return null;var j=[],C,A;if(Array.isArray(R)){var I=yJ(R,2);C=I[0],A=I[1]}else C=A=R;if(i==="vertical"){var L=p.scale,O=T+a,D=O+l,F=O-l,$=L(P-C),te=L(P+A);j.push({x1:te,y1:D,x2:te,y2:F}),j.push({x1:$,y1:O,x2:te,y2:O}),j.push({x1:$,y1:D,x2:$,y2:F})}else if(i==="horizontal"){var ne=m.scale,J=N+a,oe=J-l,re=J+l,G=ne(P-C),ee=ne(P+A);j.push({x1:oe,y1:ee,x2:re,y2:ee}),j.push({x1:J,y1:G,x2:J,y2:ee}),j.push({x1:oe,y1:G,x2:re,y2:G})}return X.createElement(wt,Cm({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),j.map(function(W){return X.createElement("line",Cm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return X.createElement(wt,{className:"recharts-errorBars"},k)}}])}(X.Component);V6(Z0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});V6(Z0,"displayName","ErrorBar");function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){OJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OJ(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=DJ(t,"string");return rh(e)=="symbol"?e:e+""}function DJ(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U6=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,l=Wn(r,Qs);if(!l)return null;var c=Qs.defaultProps,d=c!==void 0?Vo(Vo({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,k=x.sectors||x.data||[];return p.concat(k.map(function(w){return{type:l.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Vo(Vo({},y),m.props):{},k=x.dataKey,w=x.name,b=x.legendType,N=x.hide;return{inactive:N,dataKey:k,type:d.iconType||b||"square",color:Xj(m),value:w||k,payload:x}}),Vo(Vo(Vo({},d),Qs.getWithHeight(l,a)),{},{payload:h,item:l})};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function UI(t){return FJ(t)||$J(t)||LJ(t)||MJ()}function MJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJ(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function $J(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FJ(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){Sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sc(t,e,r){return e=VJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VJ(t){var e=BJ(t,"string");return nh(e)=="symbol"?e:e+""}function BJ(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,r){return at(t)||at(e)?r:kr(e)?Xn(t,e,r):Qe(e)?e(t):r}function Nd(t,e,r,n){var a=FQ(t,function(c){return tn(c,e)});if(r==="number"){var i=a.filter(function(c){return Te(c)||parseFloat(c)});return i.length?[Y0(i),K0(i)]:[1/0,-1/0]}var l=n?a.filter(function(c){return!at(c)}):a;return l.map(function(c){return kr(c)||c instanceof Date?c:""})}var UJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,h=0;h<c;h++){var p=h>0?a[h-1].coordinate:a[c-1].coordinate,m=a[h].coordinate,y=h>=c-1?a[0].coordinate:a[h+1].coordinate,x=void 0;if(pn(m-p)!==pn(y-m)){var k=[];if(pn(y-m)===pn(d[1]-d[0])){x=y;var w=m+d[1]-d[0];k[0]=Math.min(w,(w+p)/2),k[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+d[1]-d[0];k[0]=Math.min(m,(b+m)/2),k[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>N[0]&&e<=N[1]||e>=k[0]&&e<=k[1]){l=a[h].index;break}}else{var T=Math.min(p,y),P=Math.max(p,y);if(e>(T+m)/2&&e<=(P+m)/2){l=a[h].index;break}}}else for(var R=0;R<c;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<c-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===c-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){l=n[R].index;break}return l},Xj=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,l=i.stroke,c=i.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:c;break;default:d=c;break}return d},qJ=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var l={},c=Object.keys(i),d=0,h=c.length;d<h;d++)for(var p=i[c[d]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var k=p[m[y]],w=k.items,b=k.cateAxisId,N=w.filter(function(A){return Ki(A.type).indexOf("Bar")>=0});if(N&&N.length){var T=N[0].type.defaultProps,P=T!==void 0?rr(rr({},T),N[0].props):N[0].props,R=P.barSize,j=P[b];l[j]||(l[j]=[]);var C=at(R)?r:R;l[j].push({item:N[0],stackList:N.slice(1),barSize:at(C)?void 0:mn(C,n,0)})}}return l},zJ=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,l=i===void 0?[]:i,c=e.maxBarSize,d=l.length;if(d<1)return null;var h=mn(r,a,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var y=!1,x=a/d,k=l.reduce(function(R,j){return R+j.barSize||0},0);k+=(d-1)*h,k>=a&&(k-=(d-1)*h,h=0),k>=a&&x>0&&(y=!0,x*=.9,k=d*x);var w=(a-k)/2>>0,b={offset:w-h,size:0};p=l.reduce(function(R,j){var C={item:j.item,position:{offset:b.offset+b.size+h,size:y?x:j.barSize}},A=[].concat(UI(R),[C]);return b=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){A.push({item:I,position:b})}),A},m)}else{var N=mn(n,a,0,!0);a-2*N-(d-1)*h<=0&&(h=0);var T=(a-2*N-(d-1)*h)/d;T>1&&(T>>=0);var P=c===+c?Math.min(T,c):T;p=l.reduce(function(R,j,C){var A=[].concat(UI(R),[{item:j.item,position:{offset:N+(T+h)*C+(T-P)/2,size:P}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},m)}return p},WJ=function(e,r,n,a){var i=n.children,l=n.width,c=n.margin,d=l-(c.left||0)-(c.right||0),h=U6({children:i,legendWidth:d});if(h){var p=a||{},m=p.width,y=p.height,x=h.align,k=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&k==="middle")&&x!=="center"&&Te(e[x]))return rr(rr({},e),{},Sc({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&k!=="middle"&&Te(e[k]))return rr(rr({},e),{},Sc({},k,e[k]+(y||0)))}return e},HJ=function(e,r,n){return at(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q6=function(e,r,n,a,i){var l=r.props.children,c=ya(l,Z0).filter(function(h){return HJ(a,i,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=tn(p,n);if(at(m))return h;var y=Array.isArray(m)?[Y0(m),K0(m)]:[m,m],x=d.reduce(function(k,w){var b=tn(p,w,0),N=y[0]-Math.abs(Array.isArray(b)?b[0]:b),T=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,k[0]),Math.max(T,k[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0])}return null},GJ=function(e,r,n,a,i){var l=r.map(function(c){return q6(e,c,n,i,a)}).filter(function(c){return!at(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},z6=function(e,r,n,a,i){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&q6(e,d,h,a)||Nd(e,h,n,i)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,d.push(h[p]));return d},[])},W6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},H6=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var i,l,c=e.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate});return i||c.push(r),l||c.push(n),c},Gi=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,l=e.type,c=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?pn(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=i?i.indexOf(m):m;return{coordinate:a(y)+h,value:m,offset:h}});return p.filter(function(m){return!qh(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:a(m)+h,value:m,index:y,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+h,value:m,offset:h}}):a.domain().map(function(m,y){return{coordinate:a(m)+h,value:i?i[m]:m,index:y,offset:h}})},Sw=new WeakMap,Ep=function(e,r){if(typeof r!="function")return e;Sw.has(e)||Sw.set(e,new WeakMap);var n=Sw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},G6=function(e,r,n){var a=e.scale,i=e.type,l=e.layout,c=e.axisType;if(a==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Yd(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Nm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jd(),realScaleType:"point"}:i==="category"?{scale:Yd(),realScaleType:"band"}:{scale:Nm(),realScaleType:"linear"};if(hl(a)){var d="scale".concat(O0(a));return{scale:(TI[d]||jd)(),realScaleType:TI[d]?d:"point"}}return Qe(a)?{scale:a}:{scale:jd(),realScaleType:"point"}},zI=1e-4,K6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-zI,l=Math.max(a[0],a[1])+zI,c=e(r[0]),d=e(r[n-1]);(c<i||c>l||d<i||d>l)&&e.domain([r[0],r[n-1]])}},KJ=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},YJ=function(e,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Te(e[0])||e[0]<n)&&(i[0]=n),(!Te(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},XJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0,c=0;c<r;++c){var d=qh(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=i,e[c][n][1]=i+d,i=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},QJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0;l<r;++l){var c=qh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},JJ={sign:XJ,expand:FW,none:Dc,silhouette:VW,wiggle:BW,positive:QJ},ZJ=function(e,r,n){var a=r.map(function(c){return c.props.dataKey}),i=JJ[n],l=$W().keys(a).value(function(c,d){return+tn(c,d,0)}).order(U_).offset(i);return l(e)},eZ=function(e,r,n,a,i,l){if(!e)return null;var c=l?r.reverse():r,d={},h=c.reduce(function(m,y){var x,k=(x=y.type)!==null&&x!==void 0&&x.defaultProps?rr(rr({},y.type.defaultProps),y.props):y.props,w=k.stackId,b=k.hide;if(b)return m;var N=k[n],T=m[N]||{hasStack:!1,stackGroups:{}};if(kr(w)){var P=T.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};P.items.push(y),T.hasStack=!0,T.stackGroups[w]=P}else T.stackGroups[zh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return rr(rr({},m),{},Sc({},N,T))},d),p={};return Object.keys(h).reduce(function(m,y){var x=h[y];if(x.hasStack){var k={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var N=x.stackGroups[b];return rr(rr({},w),{},Sc({},b,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:ZJ(e,N.items,i)}))},k)}return rr(rr({},m),{},Sc({},y,x))},p)},Y6=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,l=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=pJ(h,i,c);return e.domain([Y0(p),K0(p)]),{niceTicks:p}}if(i&&a==="number"){var m=e.domain(),y=mJ(m,i,c);return{niceTicks:y}}return null},WI=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,l=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=tn(l,r.dataKey,r.domain[c]);return at(d)?null:r.scale(d)-i/2+a},tZ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},rZ=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(kr(i)){var l=r[i];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},nZ=function(e){return e.reduce(function(r,n){return[Y0(n.concat([r[0]]).filter(Te)),K0(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},X6=function(e,r,n){return Object.keys(e).reduce(function(a,i){var l=e[i],c=l.stackedData,d=c.reduce(function(h,p){var m=nZ(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},HI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f1=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Te(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(HI.test(e[0])){var i=+HI.exec(e[0])[1];a[0]=r[0]-i}else Qe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Te(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(GI.test(e[1])){var l=+GI.exec(e[1])[1];a[1]=r[1]+l}else Qe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Im=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=kj(r,function(m){return m.coordinate}),l=1/0,c=1,d=i.length;c<d;c++){var h=i[c],p=i[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},KI=function(e,r,n){return!e||!e.length||X0(e,Xn(n,"type.defaultProps.domain"))?r:e},Q6=function(e,r){var n=e.type.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,l=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return rr(rr({},Ye(e,!1)),{},{dataKey:a,unit:l,formatter:c,name:i||a,color:Xj(e),value:tn(r,a),type:d,payload:r,chartType:h,hide:p})};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function YI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(r),!0).forEach(function(n){J6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J6(t,e,r){return e=aZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aZ(t){var e=iZ(t,"string");return ah(e)=="symbol"?e:e+""}function iZ(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sZ(t,e){return uZ(t)||cZ(t,e)||lZ(t,e)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lZ(t,e){if(t){if(typeof t=="string")return XI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function uZ(t){if(Array.isArray(t))return t}var Om=Math.PI/180,dZ=function(e){return e*180/Math.PI},Ot=function(e,r,n,a){return{x:e+Math.cos(-Om*a)*n,y:r+Math.sin(-Om*a)*n}},Z6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hZ=function(e,r,n,a,i){var l=e.width,c=e.height,d=e.startAngle,h=e.endAngle,p=mn(e.cx,l,l/2),m=mn(e.cy,c,c/2),y=Z6(l,c,n),x=mn(e.innerRadius,y,0),k=mn(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,N){var T=r[N],P=T.domain,R=T.reversed,j;if(at(T.range))a==="angleAxis"?j=[d,h]:a==="radiusAxis"&&(j=[x,k]),R&&(j=[j[1],j[0]]);else{j=T.range;var C=j,A=sZ(C,2);d=A[0],h=A[1]}var I=G6(T,i),L=I.realScaleType,O=I.scale;O.domain(P).range(j),K6(O);var D=Y6(O,Bi(Bi({},T),{},{realScaleType:L})),F=Bi(Bi(Bi({},T),D),{},{range:j,radius:k,realScaleType:L,scale:O,cx:p,cy:m,innerRadius:x,outerRadius:k,startAngle:d,endAngle:h});return Bi(Bi({},b),{},J6({},N,F))},{})},fZ=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-l,2))},pZ=function(e,r){var n=e.x,a=e.y,i=r.cx,l=r.cy,c=fZ({x:n,y:a},{x:i,y:l});if(c<=0)return{radius:c};var d=(n-i)/c,h=Math.acos(d);return a>l&&(h=2*Math.PI-h),{radius:c,angle:dZ(h),angleInRadian:h}},mZ=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return{startAngle:r-l*360,endAngle:n-l*360}},gZ=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(i,l);return e+c*360},QI=function(e,r){var n=e.x,a=e.y,i=pZ({x:n,y:a},r),l=i.radius,c=i.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=mZ(r),m=p.startAngle,y=p.endAngle,x=c,k;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;k=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;k=x>=y&&x<=m}return k?Bi(Bi({},r),{},{radius:l,angle:gZ(x,r)}):null},eL=function(e){return!B.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}var vZ=["offset"];function yZ(t){return _Z(t)||wZ(t)||bZ(t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){if(t){if(typeof t=="string")return p1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p1(t,e)}}function wZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Z(t){if(Array.isArray(t))return p1(t)}function p1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kZ(t,e){if(t==null)return{};var r=jZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){NZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NZ(t,e,r){return e=SZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SZ(t){var e=EZ(t,"string");return ih(e)=="symbol"?e:e+""}function EZ(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sh.apply(this,arguments)}var TZ=function(e){var r=e.value,n=e.formatter,a=at(e.children)?r:e.children;return Qe(n)?n(a):a},AZ=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},CZ=function(e,r,n){var a=e.position,i=e.viewBox,l=e.offset,c=e.className,d=i,h=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,x=d.startAngle,k=d.endAngle,w=d.clockWise,b=(m+y)/2,N=AZ(x,k),T=N>=0?1:-1,P,R;a==="insideStart"?(P=x+T*l,R=w):a==="insideEnd"?(P=k-T*l,R=!w):a==="end"&&(P=k+T*l,R=w),R=N<=0?R:!R;var j=Ot(h,p,b,P),C=Ot(h,p,b,P+(R?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(C.x,",").concat(C.y),I=at(e.id)?zh("recharts-radial-line-"):e.id;return X.createElement("text",sh({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",c)}),X.createElement("defs",null,X.createElement("path",{id:I,d:A})),X.createElement("textPath",{xlinkHref:"#".concat(I)},r))},PZ=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,l=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.startAngle,m=i.endAngle,y=(p+m)/2;if(a==="outside"){var x=Ot(l,c,h+n,y),k=x.x,w=x.y;return{x:k,y:w,textAnchor:k>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,N=Ot(l,c,b,y),T=N.x,P=N.y;return{x:T,y:P,textAnchor:"middle",verticalAnchor:"middle"}},IZ=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,l=r,c=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,y=m*a,x=m>0?"end":"start",k=m>0?"start":"end",w=h>=0?1:-1,b=w*a,N=w>0?"end":"start",T=w>0?"start":"end";if(i==="top"){var P={x:c+h/2,y:d-m*a,textAnchor:"middle",verticalAnchor:x};return _r(_r({},P),n?{height:Math.max(d-n.y,0),width:h}:{})}if(i==="bottom"){var R={x:c+h/2,y:d+p+y,textAnchor:"middle",verticalAnchor:k};return _r(_r({},R),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(i==="left"){var j={x:c-b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return _r(_r({},j),n?{width:Math.max(j.x-n.x,0),height:p}:{})}if(i==="right"){var C={x:c+h+b,y:d+p/2,textAnchor:T,verticalAnchor:"middle"};return _r(_r({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:p}:{})}var A=n?{width:h,height:p}:{};return i==="insideLeft"?_r({x:c+b,y:d+p/2,textAnchor:T,verticalAnchor:"middle"},A):i==="insideRight"?_r({x:c+h-b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},A):i==="insideTop"?_r({x:c+h/2,y:d+y,textAnchor:"middle",verticalAnchor:k},A):i==="insideBottom"?_r({x:c+h/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},A):i==="insideTopLeft"?_r({x:c+b,y:d+y,textAnchor:T,verticalAnchor:k},A):i==="insideTopRight"?_r({x:c+h-b,y:d+y,textAnchor:N,verticalAnchor:k},A):i==="insideBottomLeft"?_r({x:c+b,y:d+p-y,textAnchor:T,verticalAnchor:x},A):i==="insideBottomRight"?_r({x:c+h-b,y:d+p-y,textAnchor:N,verticalAnchor:x},A):uu(i)&&(Te(i.x)||Xo(i.x))&&(Te(i.y)||Xo(i.y))?_r({x:c+mn(i.x,h),y:d+mn(i.y,p),textAnchor:"end",verticalAnchor:"end"},A):_r({x:c+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},OZ=function(e){return"cx"in e&&Te(e.cx)};function Ir(t){var e=t.offset,r=e===void 0?5:e,n=kZ(t,vZ),a=_r({offset:r},n),i=a.viewBox,l=a.position,c=a.value,d=a.children,h=a.content,p=a.className,m=p===void 0?"":p,y=a.textBreakAll;if(!i||at(c)&&at(d)&&!B.isValidElement(h)&&!Qe(h))return null;if(B.isValidElement(h))return B.cloneElement(h,a);var x;if(Qe(h)){if(x=B.createElement(h,a),B.isValidElement(x))return x}else x=TZ(a);var k=OZ(i),w=Ye(a,!0);if(k&&(l==="insideStart"||l==="insideEnd"||l==="end"))return CZ(a,x,w);var b=k?PZ(a):IZ(a);return X.createElement(pl,sh({className:tt("recharts-label",m)},w,b,{breakAll:y}),x)}Ir.displayName="Label";var tL=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,l=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,k=e.left,w=e.width,b=e.height,N=e.clockWise,T=e.labelViewBox;if(T)return T;if(Te(w)&&Te(b)){if(Te(m)&&Te(y))return{x:m,y,width:w,height:b};if(Te(x)&&Te(k))return{x,y:k,width:w,height:b}}return Te(m)&&Te(y)?{x:m,y,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:l||a||0,innerRadius:h||0,outerRadius:p||d||c||0,clockWise:N}:e.viewBox?e.viewBox:{}},RZ=function(e,r){return e?e===!0?X.createElement(Ir,{key:"label-implicit",viewBox:r}):kr(e)?X.createElement(Ir,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===Ir?B.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?X.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):uu(e)?X.createElement(Ir,sh({viewBox:r},e,{key:"label-implicit"})):null:null},DZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=tL(e),l=ya(a,Ir).map(function(d,h){return B.cloneElement(d,{viewBox:r||i,key:"label-".concat(h)})});if(!n)return l;var c=RZ(e.label,r||i);return[c].concat(yZ(l))};Ir.parseViewBox=tL;Ir.renderCallByParent=DZ;var Ew,ZI;function MZ(){if(ZI)return Ew;ZI=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Ew=t,Ew}var LZ=MZ();const $Z=xt(LZ);function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var FZ=["valueAccessor"],VZ=["data","dataKey","clockWise","id","textBreakAll"];function BZ(t){return WZ(t)||zZ(t)||qZ(t)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZ(t,e){if(t){if(typeof t=="string")return m1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(t,e)}}function zZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WZ(t){if(Array.isArray(t))return m1(t)}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){HZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HZ(t,e,r){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZ(t){var e=KZ(t,"string");return oh(e)=="symbol"?e:e+""}function KZ(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rO(t,e){if(t==null)return{};var r=YZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XZ=function(e){return Array.isArray(e.value)?$Z(e.value):e.value};function Zs(t){var e=t.valueAccessor,r=e===void 0?XZ:e,n=rO(t,FZ),a=n.data,i=n.dataKey,l=n.clockWise,c=n.id,d=n.textBreakAll,h=rO(n,VZ);return!a||!a.length?null:X.createElement(wt,{className:"recharts-label-list"},a.map(function(p,m){var y=at(i)?r(p,m):tn(p&&p.payload,i),x=at(c)?{}:{id:"".concat(c,"-").concat(m)};return X.createElement(Ir,Rm({},Ye(p,!0),h,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Ir.parseViewBox(at(l)?p:tO(tO({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Zs.displayName="LabelList";function QZ(t,e){return t?t===!0?X.createElement(Zs,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Qe(t)?X.createElement(Zs,{key:"labelList-implicit",data:e,content:t}):uu(t)?X.createElement(Zs,Rm({data:e},t,{key:"labelList-implicit"})):null:null}function JZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=ya(n,Zs).map(function(l,c){return B.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!r)return a;var i=QZ(t.label,e);return[i].concat(BZ(a))}Zs.renderCallByParent=JZ;function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){ZZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZZ(t,e,r){return e=eee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eee(t){var e=tee(t,"string");return lh(e)=="symbol"?e:e+""}function tee(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ree=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Tp=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,l=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(c?1:-1)+a,m=Math.asin(d/p)/Om,y=h?i:i+l*m,x=Ot(r,n,p,y),k=Ot(r,n,a,y),w=h?i-l*m:i,b=Ot(r,n,p*Math.cos(m*Om),w);return{center:x,circleTangency:k,lineTangency:b,theta:m}},rL=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.startAngle,c=e.endAngle,d=ree(l,c),h=l+d,p=Ot(r,n,i,l),m=Ot(r,n,i,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var x=Ot(r,n,a,l),k=Ot(r,n,a,h);y+="L ".concat(k.x,",").concat(k.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},nee=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=pn(p-h),y=Tp({cx:r,cy:n,radius:i,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),x=y.circleTangency,k=y.lineTangency,w=y.theta,b=Tp({cx:r,cy:n,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),N=b.circleTangency,T=b.lineTangency,P=b.theta,R=d?Math.abs(h-p):Math.abs(h-p)-w-P;if(R<0)return c?"M ".concat(k.x,",").concat(k.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):rL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:p});var j="M ".concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(a>0){var C=Tp({cx:r,cy:n,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),A=C.circleTangency,I=C.lineTangency,L=C.theta,O=Tp({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),D=O.circleTangency,F=O.lineTangency,$=O.theta,te=d?Math.abs(h-p):Math.abs(h-p)-L-$;if(te<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(te>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},aee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qj=function(e){var r=aO(aO({},aee),e),n=r.cx,a=r.cy,i=r.innerRadius,l=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(l<i||p===m)return null;var x=tt("recharts-sector",y),k=l-i,w=mn(c,k,0,!0),b;return w>0&&Math.abs(p-m)<360?b=nee({cx:n,cy:a,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,k/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):b=rL({cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),X.createElement("path",g1({},Ye(r,!0),{className:x,d:b,role:"img"}))};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){iee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iee(t,e,r){return e=see(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function see(t){var e=oee(t,"string");return ch(e)=="symbol"?e:e+""}function oee(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oO={curveBasisClosed:EW,curveBasisOpen:TW,curveBasis:SW,curveBumpX:hW,curveBumpY:fW,curveLinearClosed:AW,curveLinear:D0,curveMonotoneX:CW,curveMonotoneY:PW,curveNatural:IW,curveStep:OW,curveStepAfter:DW,curveStepBefore:RW},Ap=function(e){return e.x===+e.x&&e.y===+e.y},nd=function(e){return e.x},ad=function(e){return e.y},lee=function(e,r){if(Qe(e))return e;var n="curve".concat(O0(e));return(n==="curveMonotone"||n==="curveBump")&&r?oO["".concat(n).concat(r==="vertical"?"Y":"X")]:oO[n]||D0},cee=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,l=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=lee(n,c),m=h?i.filter(function(w){return Ap(w)}):i,y;if(Array.isArray(l)){var x=h?l.filter(function(w){return Ap(w)}):l,k=m.map(function(w,b){return sO(sO({},w),{},{base:x[b]})});return c==="vertical"?y=bp().y(ad).x1(nd).x0(function(w){return w.base.x}):y=bp().x(nd).y1(ad).y0(function(w){return w.base.y}),y.defined(Ap).curve(p),y(k)}return c==="vertical"&&Te(l)?y=bp().y(ad).x1(nd).x0(l):Te(l)?y=bp().x(nd).y1(ad).y0(l):y=t3().x(nd).y(ad),y.defined(Ap).curve(p),y(m)},y1=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?cee(e):a;return B.createElement("path",v1({},Ye(e,!1),lm(e),{className:tt("recharts-curve",r),d:l,ref:i}))},Tw={exports:{}},Aw,lO;function uee(){if(lO)return Aw;lO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Aw=t,Aw}var Cw,cO;function dee(){if(cO)return Cw;cO=1;var t=uee();function e(){}function r(){}return r.resetWarningCache=e,Cw=function(){function n(l,c,d,h,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Cw}var uO;function hee(){return uO||(uO=1,Tw.exports=dee()()),Tw.exports}var fee=hee();const yt=xt(fee);var pee=Object.getOwnPropertyNames,mee=Object.getOwnPropertySymbols,gee=Object.prototype.hasOwnProperty;function dO(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Cp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,l=i.get(r),c=i.get(n);if(l&&c)return l===n&&c===r;i.set(r,n),i.set(n,r);var d=t(r,n,a);return i.delete(r),i.delete(n),d}}function hO(t){return pee(t).concat(mee(t))}var vee=Object.hasOwn||function(t,e){return gee.call(t,e)};function Sl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var yee="__v",xee="__o",bee="_owner",fO=Object.getOwnPropertyDescriptor,pO=Object.keys;function wee(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function _ee(t,e){return Sl(t.getTime(),e.getTime())}function kee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jee(t,e){return t===e}function mO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),l,c,d=0;(l=i.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(a[m]){m++;continue}var y=l.value,x=c.value;if(r.equals(y[0],x[0],d,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}var Nee=Sl;function See(t,e,r){var n=pO(t),a=n.length;if(pO(e).length!==a)return!1;for(;a-- >0;)if(!nL(t,e,r,n[a]))return!1;return!0}function id(t,e,r){var n=hO(t),a=n.length;if(hO(e).length!==a)return!1;for(var i,l,c;a-- >0;)if(i=n[a],!nL(t,e,r,i)||(l=fO(t,i),c=fO(e,i),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Eee(t,e){return Sl(t.valueOf(),e.valueOf())}function Tee(t,e){return t.source===e.source&&t.flags===e.flags}function gO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),l,c;(l=i.next())&&!l.done;){for(var d=e.values(),h=!1,p=0;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(l.value,c.value,l.value,c.value,t,e,r)){h=a[p]=!0;break}p++}if(!h)return!1}return!0}function Aee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Cee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function nL(t,e,r,n){return(n===bee||n===xee||n===yee)&&(t.$$typeof||e.$$typeof)?!0:vee(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Pee="[object Arguments]",Iee="[object Boolean]",Oee="[object Date]",Ree="[object Error]",Dee="[object Map]",Mee="[object Number]",Lee="[object Object]",$ee="[object RegExp]",Fee="[object Set]",Vee="[object String]",Bee="[object URL]",Uee=Array.isArray,vO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yO=Object.assign,qee=Object.prototype.toString.call.bind(Object.prototype.toString);function zee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(k,w,b){if(k===w)return!0;if(k==null||w==null)return!1;var N=typeof k;if(N!==typeof w)return!1;if(N!=="object")return N==="number"?l(k,w,b):N==="function"?a(k,w,b):!1;var T=k.constructor;if(T!==w.constructor)return!1;if(T===Object)return c(k,w,b);if(Uee(k))return e(k,w,b);if(vO!=null&&vO(k))return m(k,w,b);if(T===Date)return r(k,w,b);if(T===RegExp)return h(k,w,b);if(T===Map)return i(k,w,b);if(T===Set)return p(k,w,b);var P=qee(k);return P===Oee?r(k,w,b):P===$ee?h(k,w,b):P===Dee?i(k,w,b):P===Fee?p(k,w,b):P===Lee?typeof k.then!="function"&&typeof w.then!="function"&&c(k,w,b):P===Bee?y(k,w,b):P===Ree?n(k,w,b):P===Pee?c(k,w,b):P===Iee||P===Mee||P===Vee?d(k,w,b):!1}}function Wee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?id:wee,areDatesEqual:_ee,areErrorsEqual:kee,areFunctionsEqual:jee,areMapsEqual:n?dO(mO,id):mO,areNumbersEqual:Nee,areObjectsEqual:n?id:See,arePrimitiveWrappersEqual:Eee,areRegExpsEqual:Tee,areSetsEqual:n?dO(gO,id):gO,areTypedArraysEqual:n?id:Aee,areUrlsEqual:Cee};if(r&&(a=yO({},a,r(a))),e){var i=Cp(a.areArraysEqual),l=Cp(a.areMapsEqual),c=Cp(a.areObjectsEqual),d=Cp(a.areSetsEqual);a=yO({},a,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return a}function Hee(t){return function(e,r,n,a,i,l,c){return t(e,r,c)}}function Gee(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,y=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,h,{cache:y,equals:a,meta:x,strict:i})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var l={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,h){return r(d,h,l)}}var Kee=po();po({strict:!0});po({circular:!0});po({circular:!0,strict:!0});po({createInternalComparator:function(){return Sl}});po({strict:!0,createInternalComparator:function(){return Sl}});po({circular:!0,createInternalComparator:function(){return Sl}});po({circular:!0,createInternalComparator:function(){return Sl},strict:!0});function po(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,l=i===void 0?!1:i,c=Wee(t),d=zee(c),h=n?n(d):Hee(d);return Gee({circular:r,comparator:d,createState:a,equals:h,strict:l})}function Yee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Yee(a)};requestAnimationFrame(n)}function x1(t){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(t)}function Xee(t){return ete(t)||Zee(t)||Jee(t)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(t,e){if(t){if(typeof t=="string")return bO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(t,e)}}function bO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ete(t){if(Array.isArray(t))return t}function tte(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,c=Xee(l),d=c[0],h=c.slice(1);if(typeof d=="number"){xO(a.bind(null,h),d);return}a(d),xO(a.bind(null,h));return}x1(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){aL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aL(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=nte(t,"string");return uh(e)==="symbol"?e:String(e)}function nte(t,e){if(uh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ate=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ite=function(e){return e},ste=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sd=function(e,r){return Object.keys(r).reduce(function(n,a){return _O(_O({},n),{},aL({},a,e(a,r[a])))},{})},kO=function(e,r,n){return e.map(function(a){return"".concat(ste(a)," ").concat(r,"ms ").concat(n)}).join(",")};function ote(t,e){return ute(t)||cte(t,e)||iL(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function ute(t){if(Array.isArray(t))return t}function dte(t){return pte(t)||fte(t)||iL(t)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iL(t,e){if(t){if(typeof t=="string")return b1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(t,e)}}function fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pte(t){if(Array.isArray(t))return b1(t)}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dm=1e-4,sL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},oL=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},jO=function(e,r){return function(n){var a=sL(e,r);return oL(a,n)}},mte=function(e,r){return function(n){var a=sL(e,r),i=[].concat(dte(a.map(function(l,c){return l*c}).slice(1)),[0]);return oL(i,n)}},NO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],l=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,l=1,c=1;break;case"ease":a=.25,i=.1,l=.25,c=1;break;case"ease-in":a=.42,i=0,l=1,c=1;break;case"ease-out":a=.42,i=0,l=.58,c=1;break;case"ease-in-out":a=0,i=0,l=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=ote(h,4);a=p[0],i=p[1],l=p[2],c=p[3]}}}var m=jO(a,l),y=jO(i,c),x=mte(a,l),k=function(N){return N>1?1:N<0?0:N},w=function(N){for(var T=N>1?1:N,P=T,R=0;R<8;++R){var j=m(P)-T,C=x(P);if(Math.abs(j-T)<Dm||C<Dm)return y(P);P=k(P-j/C)}return y(P)};return w.isStepper=!1,w},gte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,l=e.dt,c=l===void 0?17:l,d=function(p,m,y){var x=-(p-m)*n,k=y*i,w=y+(x-k)*c/1e3,b=y*c/1e3+p;return Math.abs(b-m)<Dm&&Math.abs(w)<Dm?[m,0]:[b,w]};return d.isStepper=!0,d.dt=c,d},vte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NO(a);case"spring":return gte();default:if(a.split("(")[0]==="cubic-bezier")return NO(a)}return typeof a=="function"?a:null};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function SO(t){return bte(t)||xte(t)||lL(t)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bte(t){if(Array.isArray(t))return _1(t)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){w1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w1(t,e,r){return e=wte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wte(t){var e=_te(t,"string");return dh(e)==="symbol"?e:String(e)}function _te(t,e){if(dh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kte(t,e){return Ste(t)||Nte(t,e)||lL(t,e)||jte()}function jte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(t,e){if(t){if(typeof t=="string")return _1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(t,e)}}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Ste(t){if(Array.isArray(t))return t}var Mm=function(e,r,n){return e+(r-e)*n},k1=function(e){var r=e.from,n=e.to;return r!==n},Ete=function t(e,r,n){var a=Sd(function(i,l){if(k1(l)){var c=e(l.from,l.to,l.velocity),d=kte(c,2),h=d[0],p=d[1];return Vr(Vr({},l),{},{from:h,velocity:p})}return l},r);return n<1?Sd(function(i,l){return k1(l)?Vr(Vr({},l),{},{velocity:Mm(l.velocity,a[i].velocity,n),from:Mm(l.from,a[i].from,n)}):l},r):t(e,a,n-1)};const Tte=function(t,e,r,n,a){var i=ate(t,e),l=i.reduce(function(b,N){return Vr(Vr({},b),{},w1({},N,[t[N],e[N]]))},{}),c=i.reduce(function(b,N){return Vr(Vr({},b),{},w1({},N,{from:t[N],velocity:0,to:e[N]}))},{}),d=-1,h,p,m=function(){return null},y=function(){return Sd(function(N,T){return T.from},c)},x=function(){return!Object.values(c).filter(k1).length},k=function(N){h||(h=N);var T=N-h,P=T/r.dt;c=Ete(r,c,P),a(Vr(Vr(Vr({},t),e),y())),h=N,x()||(d=requestAnimationFrame(m))},w=function(N){p||(p=N);var T=(N-p)/n,P=Sd(function(j,C){return Mm.apply(void 0,SO(C).concat([r(T)]))},l);if(a(Vr(Vr(Vr({},t),e),P)),T<1)d=requestAnimationFrame(m);else{var R=Sd(function(j,C){return Mm.apply(void 0,SO(C).concat([r(1)]))},l);a(Vr(Vr(Vr({},t),e),R))}};return m=r.isStepper?k:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var Ate=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Cte(t,e){if(t==null)return{};var r=Pte(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pte(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Pw(t){return Dte(t)||Rte(t)||Ote(t)||Ite()}function Ite(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t,e){if(t){if(typeof t=="string")return j1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(t,e)}}function Rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dte(t){if(Array.isArray(t))return j1(t)}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function md(t,e,r){return e=cL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cL(n.key),n)}}function $te(t,e,r){return e&&Lte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cL(t){var e=Fte(t,"string");return zc(e)==="symbol"?e:String(e)}function Fte(t,e){if(zc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N1(t,e)}function N1(t,e){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N1(t,e)}function Bte(t){var e=Ute();return function(){var n=Lm(t),a;if(e){var i=Lm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return S1(this,a)}}function S1(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1(t)}function E1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ute(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}var is=function(t){Vte(r,t);var e=Bte(r);function r(n,a){var i;Mte(this,r),i=e.call(this,n,a);var l=i.props,c=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,y=l.children,x=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(E1(i)),i.changeStyle=i.changeStyle.bind(E1(i)),!c||x<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),S1(i);if(m&&m.length)i.state={style:m[0].style};else if(h){if(typeof y=="function")return i.state={style:h},S1(i);i.state={style:d?md({},d,h):h}}else i.state={style:{}};return i}return $te(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,l=a.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isActive,c=i.canBegin,d=i.attributeName,h=i.shouldReAnimate,p=i.to,m=i.from,y=this.state.style;if(c){if(!l){var x={style:d?md({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(Kee(a.to,p)&&a.canBegin&&a.isActive)){var k=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=k||h?m:a.to;if(this.state&&y){var b={style:d?md({},d,w):w};(d&&y[d]!==w||!d&&y!==w)&&this.setState(b)}this.runAnimation(Oa(Oa({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,l=a.from,c=a.to,d=a.duration,h=a.easing,p=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,x=Tte(l,c,vte(h),d,this.changeStyle),k=function(){i.stopJSAnimation=x()};this.manager.start([y,p,k,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,l=a.steps,c=a.begin,d=a.onAnimationStart,h=l[0],p=h.style,m=h.duration,y=m===void 0?0:m,x=function(w,b,N){if(N===0)return w;var T=b.duration,P=b.easing,R=P===void 0?"ease":P,j=b.style,C=b.properties,A=b.onAnimationEnd,I=N>0?l[N-1]:b,L=C||Object.keys(j);if(typeof R=="function"||R==="spring")return[].concat(Pw(w),[i.runJSAnimation.bind(i,{from:I.style,to:j,duration:T,easing:R}),T]);var O=kO(L,T,R),D=Oa(Oa(Oa({},I.style),j),{},{transition:O});return[].concat(Pw(w),[D,T,A]).filter(ite)};return this.manager.start([d].concat(Pw(l.reduce(x,[p,Math.max(y,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=tte());var i=a.begin,l=a.duration,c=a.attributeName,d=a.to,h=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,x=a.children,k=this.manager;if(this.unSubscribe=k.subscribe(this.handleStyleChange),typeof h=="function"||typeof x=="function"||h==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=c?md({},c,d):d,b=kO(Object.keys(w),l,h);k.start([p,i,Oa(Oa({},w),{},{transition:b}),l,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Cte(a,Ate),h=B.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||h===0||l<=0)return i;var m=function(x){var k=x.props,w=k.style,b=w===void 0?{}:w,N=k.className,T=B.cloneElement(x,Oa(Oa({},d),{},{style:Oa(Oa({},b),p),className:N}));return T};return h===1?m(B.Children.only(i)):X.createElement("div",null,B.Children.map(i,function(y){return m(y)}))}}]),r}(B.PureComponent);is.displayName="Animate";is.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};is.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function qte(t,e){return Gte(t)||Hte(t,e)||Wte(t,e)||zte()}function zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return AO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Gte(t){if(Array.isArray(t))return t}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){Kte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kte(t,e,r){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yte(t){var e=Xte(t,"string");return hh(e)=="symbol"?e:e+""}function Xte(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IO=function(e,r,n,a,i){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=i[y]>l?l:i[y];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+a-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-c*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var k=Math.min(l,i);p="M ".concat(e,",").concat(r+c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+d*k,",").concat(r,`
            L `).concat(e+n-d*k,",").concat(r,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*k,`
            L `).concat(e+n,",").concat(r+a-c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n-d*k,",").concat(r+a,`
            L `).concat(e+d*k,",").concat(r+a,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e,",").concat(r+a-c*k," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},Qte=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,l=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(i,i+c),p=Math.max(i,i+c),m=Math.min(l,l+d),y=Math.max(l,l+d);return n>=h&&n<=p&&a>=m&&a<=y}return!1},Jte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jj=function(e){var r=PO(PO({},Jte),e),n=B.useRef(),a=B.useState(-1),i=qte(a,2),l=i[0],c=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&c(R)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,k=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,T=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var P=tt("recharts-rectangle",x);return T?X.createElement(is,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:w,animationEasing:k,isActive:T},function(R){var j=R.width,C=R.height,A=R.x,I=R.y;return X.createElement(is,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:N,easing:k},X.createElement("path",$m({},Ye(r,!0),{className:P,d:IO(A,I,j,C,y),ref:n})))}):X.createElement("path",$m({},Ye(r,!0),{className:P,d:IO(d,h,p,m,y)}))},Zte=["points","className","baseLinePoints","connectNulls"];function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pc.apply(this,arguments)}function ere(t,e){if(t==null)return{};var r=tre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OO(t){return ire(t)||are(t)||nre(t)||rre()}function rre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nre(t,e){if(t){if(typeof t=="string")return T1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T1(t,e)}}function are(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ire(t){if(Array.isArray(t))return T1(t)}function T1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var RO=function(e){return e&&e.x===+e.x&&e.y===+e.y},sre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){RO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),RO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ed=function(e,r){var n=sre(e);r&&(n=[n.reduce(function(i,l){return[].concat(OO(i),OO(l))},[])]);var a=n.map(function(i){return i.reduce(function(l,c,d){return"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},ore=function(e,r,n){var a=Ed(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ed(r.reverse(),n).slice(1))},lre=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,l=ere(e,Zte);if(!r||!r.length)return null;var c=tt("recharts-polygon",n);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",h=ore(r,a,i);return X.createElement("g",{className:c},X.createElement("path",pc({},Ye(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?X.createElement("path",pc({},Ye(l,!0),{fill:"none",d:Ed(r,i)})):null,d?X.createElement("path",pc({},Ye(l,!0),{fill:"none",d:Ed(a,i)})):null)}var p=Ed(r,i);return X.createElement("path",pc({},Ye(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}var Zj=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,l=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",A1({},Ye(e,!1),lm(e),{className:l,cx:r,cy:n,r:a})):null};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}var cre=["x","y","top","left","width","height","className"];function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(this,arguments)}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ure(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){dre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dre(t,e,r){return e=hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hre(t){var e=fre(t,"string");return fh(e)=="symbol"?e:e+""}function fre(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pre(t,e){if(t==null)return{};var r=mre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gre=function(e,r,n,a,i,l){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},vre=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.top,c=l===void 0?0:l,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,k=e.className,w=pre(e,cre),b=ure({x:n,y:i,top:c,left:h,width:m,height:x},w);return!Te(n)||!Te(i)||!Te(m)||!Te(x)||!Te(c)||!Te(h)?null:X.createElement("path",C1({},Ye(b,!0),{className:tt("recharts-cross",k),d:gre(n,i,m,x,c,h)}))},Iw,MO;function yre(){if(MO)return Iw;MO=1;var t=G0(),e=N6(),r=bi();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Iw=n,Iw}var xre=yre();const bre=xt(xre);var Ow,LO;function wre(){if(LO)return Ow;LO=1;var t=G0(),e=bi(),r=S6();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Ow=n,Ow}var _re=wre();const kre=xt(_re);var jre=["cx","cy","angle","ticks","axisLine"],Nre=["ticks","tick","angle","tickFormatter","stroke"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){eg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FO(t,e){if(t==null)return{};var r=Sre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ere(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dL(n.key),n)}}function Tre(t,e,r){return e&&VO(t.prototype,e),r&&VO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Are(t,e,r){return e=Fm(e),Cre(t,uL()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function Cre(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pre(t)}function Pre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uL=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function Ire(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P1(t,e)}function eg(t,e,r){return e=dL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dL(t){var e=Ore(t,"string");return Wc(e)=="symbol"?e:e+""}function Ore(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tg=function(t){function e(){return Ere(this,e),Are(this,e,arguments)}return Ire(e,t),Tre(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,l=i.angle,c=i.cx,d=i.cy;return Ot(c,d,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,c=n.ticks,d=bre(c,function(p){return p.coordinate||0}),h=kre(c,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,c=n.ticks,d=n.axisLine,h=FO(n,jre),p=c.reduce(function(k,w){return[Math.min(k[0],w.coordinate),Math.max(k[1],w.coordinate)]},[1/0,-1/0]),m=Ot(a,i,p[0],l),y=Ot(a,i,p[1],l),x=Bo(Bo(Bo({},Ye(h,!1)),{},{fill:"none"},Ye(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return X.createElement("line",Td({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,c=a.angle,d=a.tickFormatter,h=a.stroke,p=FO(a,Nre),m=this.getTickTextAnchor(),y=Ye(p,!1),x=Ye(l,!1),k=i.map(function(w,b){var N=n.getTickValueCoord(w),T=Bo(Bo(Bo(Bo({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(N.x,", ").concat(N.y,")")},y),{},{stroke:"none",fill:h},x),{},{index:b},N),{},{payload:w});return X.createElement(wt,Td({className:tt("recharts-polar-radius-axis-tick",eL(l)),key:"tick-".concat(w.coordinate)},fl(n.props,w,b)),e.renderTickItem(l,T,d?d(w.value,b):w.value))});return X.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},k)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,l=n.tick;return!a||!a.length?null:X.createElement(wt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var l;return X.isValidElement(n)?l=X.cloneElement(n,a):Qe(n)?l=n(a):l=X.createElement(pl,Td({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])}(B.PureComponent);eg(tg,"displayName","PolarRadiusAxis");eg(tg,"axisType","radiusAxis");eg(tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fL(n.key),n)}}function Dre(t,e,r){return e&&UO(t.prototype,e),r&&UO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,r){return e=Vm(e),Lre(t,hL()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function Lre(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $re(t)}function $re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(t,e)}function rg(t,e,r){return e=fL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fL(t){var e=Vre(t,"string");return Hc(e)=="symbol"?e:e+""}function Vre(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bre=Math.PI/180,qO=1e-5,ng=function(t){function e(){return Rre(this,e),Mre(this,e,arguments)}return Fre(e,t),Dre(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,l=a.cy,c=a.radius,d=a.orientation,h=a.tickSize,p=h||8,m=Ot(i,l,c,n.coordinate),y=Ot(i,l,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Bre),l;return i>qO?l=a==="outer"?"start":"end":i<-qO?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.radius,c=n.axisLine,d=n.axisLineType,h=Uo(Uo({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(d==="circle")return X.createElement(Zj,Ho({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(y){return Ot(a,i,l,y.coordinate)});return X.createElement(lre,Ho({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,c=a.tickLine,d=a.tickFormatter,h=a.stroke,p=Ye(this.props,!1),m=Ye(l,!1),y=Uo(Uo({},p),{},{fill:"none"},Ye(c,!1)),x=i.map(function(k,w){var b=n.getTickLineCoord(k),N=n.getTickTextAnchor(k),T=Uo(Uo(Uo({textAnchor:N},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:k,x:b.x2,y:b.y2});return X.createElement(wt,Ho({className:tt("recharts-polar-angle-axis-tick",eL(l)),key:"tick-".concat(k.coordinate)},fl(n.props,k,w)),c&&X.createElement("line",Ho({className:"recharts-polar-angle-axis-tick-line"},y,b)),l&&e.renderTickItem(l,T,d?d(k.value,w):k.value))});return X.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,l=n.axisLine;return i<=0||!a||!a.length?null:X.createElement(wt,{className:tt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var l;return X.isValidElement(n)?l=X.cloneElement(n,a):Qe(n)?l=n(a):l=X.createElement(pl,Ho({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])}(B.PureComponent);rg(ng,"displayName","PolarAngleAxis");rg(ng,"axisType","angleAxis");rg(ng,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Rw,zO;function Ure(){if(zO)return Rw;zO=1;var t=j3(),e=t(Object.getPrototypeOf,Object);return Rw=e,Rw}var Dw,WO;function qre(){if(WO)return Dw;WO=1;var t=ss(),e=Ure(),r=os(),n="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,c=i.hasOwnProperty,d=l.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=c.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return Dw=h,Dw}var zre=qre();const Wre=xt(zre);var Mw,HO;function Hre(){if(HO)return Mw;HO=1;var t=ss(),e=os(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Mw=n,Mw}var Gre=Hre();const Kre=xt(Gre);function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bm.apply(this,arguments)}function Yre(t,e){return Zre(t)||Jre(t,e)||Qre(t,e)||Xre()}function Xre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qre(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Zre(t){if(Array.isArray(t))return t}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){ene(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ene(t,e,r){return e=tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t){var e=rne(t,"string");return ph(e)=="symbol"?e:e+""}function rne(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XO=function(e,r,n,a,i){var l=n-a,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-l/2,",").concat(r+i),c+="L ".concat(e+n-l/2-a,",").concat(r+i),c+="L ".concat(e,",").concat(r," Z"),c},nne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ane=function(e){var r=YO(YO({},nne),e),n=B.useRef(),a=B.useState(-1),i=Yre(a,2),l=i[0],c=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,k=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var T=tt("recharts-trapezoid",x);return N?X.createElement(is,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:h},duration:w,animationEasing:k,isActive:N},function(P){var R=P.upperWidth,j=P.lowerWidth,C=P.height,A=P.x,I=P.y;return X.createElement(is,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:k},X.createElement("path",Bm({},Ye(r,!0),{className:T,d:XO(A,I,R,j,C),ref:n})))}):X.createElement("g",null,X.createElement("path",Bm({},Ye(r,!0),{className:T,d:XO(d,h,p,m,y)})))},ine=["option","shapeType","propTransformer","activeClassName","isActive"];function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function sne(t,e){if(t==null)return{};var r=one(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function one(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Um(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){lne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lne(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=une(t,"string");return mh(e)=="symbol"?e:e+""}function une(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dne(t,e){return Um(Um({},e),t)}function hne(t,e){return t==="symbols"}function JO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(Jj,r);case"trapezoid":return X.createElement(ane,r);case"sector":return X.createElement(Qj,r);case"symbols":if(hne(e))return X.createElement(mj,r);break;default:return null}}function fne(t){return B.isValidElement(t)?t.props:t}function pL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?dne:n,i=t.activeClassName,l=i===void 0?"recharts-active-shape":i,c=t.isActive,d=sne(t,ine),h;if(B.isValidElement(e))h=B.cloneElement(e,Um(Um({},d),fne(e)));else if(Qe(e))h=e(d);else if(Wre(e)&&!Kre(e)){var p=a(e,d);h=X.createElement(JO,{shapeType:r,elementProps:p})}else{var m=d;h=X.createElement(JO,{shapeType:r,elementProps:m})}return c?X.createElement(wt,{className:l},h):h}function ag(t,e){return e!=null&&"trapezoids"in t.props}function ig(t,e){return e!=null&&"sectors"in t.props}function gh(t,e){return e!=null&&"points"in t.props}function pne(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function mne(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function gne(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function vne(t,e){var r;return ag(t,e)?r=pne:ig(t,e)?r=mne:gh(t,e)&&(r=gne),r}function yne(t,e){var r;return ag(t,e)?r="trapezoids":ig(t,e)?r="sectors":gh(t,e)&&(r="points"),r}function xne(t,e){if(ag(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ig(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return gh(t,e)?e.payload:{}}function bne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=yne(r,e),i=xne(r,e),l=n.filter(function(d,h){var p=X0(i,d),m=r.props[a].filter(function(k){var w=vne(r,e);return w(k,e)}),y=r.props[a].indexOf(m[m.length-1]),x=h===y;return p&&x}),c=n.indexOf(l[l.length-1]);return c}var Up;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){ga(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gL(n.key),n)}}function _ne(t,e,r){return e&&eR(t.prototype,e),r&&eR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,r){return e=qm(e),jne(t,mL()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function jne(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nne(t)}function Nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function Sne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O1(t,e)}function O1(t,e){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O1(t,e)}function ga(t,e,r){return e=gL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gL(t){var e=Ene(t,"string");return Gc(e)=="symbol"?e:e+""}function Ene(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cs=function(t){function e(r){var n;return wne(this,e),n=kne(this,e,[r]),ga(n,"pieRef",null),ga(n,"sectorRefs",[]),ga(n,"id",zh("recharts-pie-")),ga(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(a)&&a()}),ga(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Sne(e,t),_ne(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,c=i.labelLine,d=i.dataKey,h=i.valueKey,p=Ye(this.props,!1),m=Ye(l,!1),y=Ye(c,!1),x=l&&l.offsetRadius||20,k=n.map(function(w,b){var N=(w.startAngle+w.endAngle)/2,T=Ot(w.cx,w.cy,w.outerRadius+x,N),P=Pt(Pt(Pt(Pt({},p),w),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(T.x,w.cx)},T),R=Pt(Pt(Pt(Pt({},p),w),{},{fill:"none",stroke:w.fill},y),{},{index:b,points:[Ot(w.cx,w.cy,w.outerRadius,N),T]}),j=d;return at(d)&&at(h)?j="value":at(d)&&(j=h),X.createElement(wt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},c&&e.renderLabelLineItem(c,R,"line"),e.renderLabelItem(l,P,tn(w,j)))});return X.createElement(wt,{className:"recharts-pie-labels"},k)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,l=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,x=m?l:y,k=Pt(Pt({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return X.createElement(wt,mc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},fl(a.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),X.createElement(pL,mc({option:x,isActive:m,shapeType:"sector"},k)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,m=this.state,y=m.prevSectors,x=m.prevIsAnimationActive;return X.createElement(is,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(k){var w=k.t,b=[],N=i&&i[0],T=N.startAngle;return i.forEach(function(P,R){var j=y&&y[R],C=R>0?Xn(P,"paddingAngle",0):0;if(j){var A=Ms(j.endAngle-j.startAngle,P.endAngle-P.startAngle),I=Pt(Pt({},P),{},{startAngle:T+C,endAngle:T+A(w)+C});b.push(I),T=I.endAngle}else{var L=P.endAngle,O=P.startAngle,D=Ms(0,L-O),F=D(w),$=Pt(Pt({},P),{},{startAngle:T+C,endAngle:T+F+C});b.push($),T=$.endAngle}}),X.createElement(wt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,l=this.state.prevSectors;return i&&a&&a.length&&(!l||!X0(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,l=a.sectors,c=a.className,d=a.label,h=a.cx,p=a.cy,m=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,k=this.state.isAnimationFinished;if(i||!l||!l.length||!Te(h)||!Te(p)||!Te(m)||!Te(y))return null;var w=tt("recharts-pie",c);return X.createElement(wt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),d&&this.renderLabels(l),Ir.renderCallByParent(this.props,null,!1),(!x||k)&&Zs.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);if(Qe(n))return n(a);var l=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(y1,mc({},a,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,i){if(X.isValidElement(n))return X.cloneElement(n,a);var l=i;if(Qe(n)&&(l=n(a),X.isValidElement(l)))return l;var c=tt("recharts-pie-label-text",typeof n!="boolean"&&!Qe(n)?n.className:"");return X.createElement(pl,mc({},a,{alignmentBaseline:"middle",className:c}),l)}}])}(B.PureComponent);Up=cs;ga(cs,"displayName","Pie");ga(cs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ga(cs,"parseDeltaAngle",function(t,e){var r=pn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ga(cs,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),a=ya(r,V0);return e&&e.length?e.map(function(i,l){return Pt(Pt(Pt({payload:i},n),i),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(i){return Pt(Pt({},n),i.props)}):[]});ga(cs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,l=Z6(a,i),c=n+mn(t.cx,a,a/2),d=r+mn(t.cy,i,i/2),h=mn(t.innerRadius,l,0),p=mn(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});ga(cs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=Up.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,l=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),k=Up.parseCoordinateOfPie(n,r),w=Up.parseDeltaAngle(l,c),b=Math.abs(w),N=h;at(h)&&at(m)?(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):at(h)&&(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var T=a.filter(function(I){return tn(I,N,0)!==0}).length,P=(b>=360?T:T-1)*d,R=b-T*x-P,j=a.reduce(function(I,L){var O=tn(L,N,0);return I+(Te(O)?O:0)},0),C;if(j>0){var A;C=a.map(function(I,L){var O=tn(I,N,0),D=tn(I,p,L),F=(Te(O)?O:0)/j,$;L?$=A.endAngle+pn(w)*d*(O!==0?1:0):$=l;var te=$+pn(w)*((O!==0?x:0)+F*R),ne=($+te)/2,J=(k.innerRadius+k.outerRadius)/2,oe=[{name:D,value:O,payload:I,dataKey:N,type:y}],re=Ot(k.cx,k.cy,J,ne);return A=Pt(Pt(Pt({percent:F,cornerRadius:i,name:D,tooltipPayload:oe,midAngle:ne,middleRadius:J,tooltipPosition:re},I),k),{},{value:tn(I,N),startAngle:$,endAngle:te,payload:I,paddingAngle:pn(w)*d}),A})}return Pt(Pt({},k),{},{sectors:C,data:a})});var Lw,tR;function Tne(){if(tR)return Lw;tR=1;var t=Math.ceil,e=Math.max;function r(n,a,i,l){for(var c=-1,d=e(t((a-n)/(i||1)),0),h=Array(d);d--;)h[l?d:++c]=n,n+=i;return h}return Lw=r,Lw}var $w,rR;function vL(){if(rR)return $w;rR=1;var t=V3(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return $w=n,$w}var Fw,nR;function Ane(){if(nR)return Fw;nR=1;var t=Tne(),e=F0(),r=vL();function n(a){return function(i,l,c){return c&&typeof c!="number"&&e(i,l,c)&&(l=c=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),c=c===void 0?i<l?1:-1:r(c),t(i,l,c,a)}}return Fw=n,Fw}var Vw,aR;function Cne(){if(aR)return Vw;aR=1;var t=Ane(),e=t();return Vw=e,Vw}var Pne=Cne();const zm=xt(Pne);function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){yL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yL(t,e,r){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ine(t){var e=One(t,"string");return vh(e)=="symbol"?e:e+""}function One(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rne=["Webkit","Moz","O","ms"],Dne=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Rne.reduce(function(i,l){return sR(sR({},i),{},yL({},l+n,r))},{});return a[e]=r,a};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Wm(){return Wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wm.apply(this,arguments)}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bL(n.key),n)}}function Lne(t,e,r){return e&&lR(t.prototype,e),r&&lR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ne(t,e,r){return e=Hm(e),Fne(t,xL()?Reflect.construct(e,r||[],Hm(t).constructor):e.apply(t,r))}function Fne(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}function Bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(t,e)}function zn(t,e,r){return e=bL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bL(t){var e=Une(t,"string");return Kc(e)=="symbol"?e:e+""}function Une(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qne=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,l=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=jd().domain(zm(0,d)).range([i,i+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:p}},cR=function(e){return e.changedTouches&&!!e.changedTouches.length},Yc=function(t){function e(r){var n;return Mne(this,e),n=$ne(this,e,[r]),zn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),zn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),zn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,l=a.onDragEnd,c=a.startIndex;l?.({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),zn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zn(n,"handleSlideDragStart",function(a){var i=cR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Bne(e,t),Lne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,l=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,p=h.length-1,m=Math.min(a,i),y=Math.max(a,i),x=e.getIndexInRange(l,m),k=e.getIndexInRange(l,y);return{startIndex:x-x%d,endIndex:k===p?p:k-k%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,l=a.tickFormatter,c=a.dataKey,d=tn(i[n],c,n);return Qe(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,l=a.startX,c=a.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,x=d.endIndex,k=d.onChange,w=n.pageX-i;w>0?w=Math.min(w,h+p-m-c,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-c));var b=this.getIndex({startX:l+w,endX:c+w});(b.startIndex!==y||b.endIndex!==x)&&k&&k(b),this.setState({startX:l+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=cR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,l=a.movingTravellerId,c=a.endX,d=a.startX,h=this.state[l],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,k=p.onChange,w=p.gap,b=p.data,N={startX:this.state.startX,endX:this.state.endX},T=n.pageX-i;T>0?T=Math.min(T,m+y-x-h):T<0&&(T=Math.max(T,m-h)),N[l]=h+T;var P=this.getIndex(N),R=P.startIndex,j=P.endIndex,C=function(){var I=b.length-1;return l==="startX"&&(c>d?R%w===0:j%w===0)||c<d&&j===I||l==="endX"&&(c>d?j%w===0:R%w===0)||c>d&&j===I};this.setState(zn(zn({},l,h+T),"brushMoveStartX",n.pageX),function(){k&&C()&&k(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,l=this.state,c=l.scaleValues,d=l.startX,h=l.endX,p=this.state[a],m=c.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=c.length)){var x=c[y];a==="startX"&&x>=h||a==="endX"&&x<=d||this.setState(zn({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.fill,h=n.stroke;return X.createElement("rect",{stroke:h,fill:d,x:a,y:i,width:l,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.data,h=n.children,p=n.padding,m=B.Children.only(h);return m?X.cloneElement(m,{x:a,y:i,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,l,c=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,x=d.ariaLabel,k=d.data,w=d.startIndex,b=d.endIndex,N=Math.max(n,this.props.x),T=Bw(Bw({},Ye(this.props,!1)),{},{x:N,y:h,width:p,height:m}),P=x||"Min value: ".concat((i=k[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=k[b])===null||l===void 0?void 0:l.name);return X.createElement(wt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,T))}},{key:"renderSlide",value:function(n,a){var i=this.props,l=i.y,c=i.height,d=i.stroke,h=i.travellerWidth,p=Math.min(n,a)+h,m=Math.max(Math.abs(a-n)-h,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,l=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,k={pointerEvents:"none",fill:h};return X.createElement(wt,{className:"recharts-brush-texts"},X.createElement(pl,Wm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:l+c/2},k),this.getTextOfTick(a)),X.createElement(pl,Wm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+x,y:l+c/2},k),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,l=n.children,c=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,k=y.endX,w=y.isTextActive,b=y.isSlideMoving,N=y.isTravellerMoving,T=y.isTravellerFocused;if(!a||!a.length||!Te(c)||!Te(d)||!Te(h)||!Te(p)||h<=0||p<=0)return null;var P=tt("recharts-brush",i),R=X.Children.count(l)===1,j=Dne("userSelect","none");return X.createElement(wt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,k),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(k,"endX"),(w||b||N||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,l=n.width,c=n.height,d=n.stroke,h=Math.floor(i+c/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:a,y:i,width:l,height:c,fill:d,stroke:"none"}),X.createElement("line",{x1:a+1,y1:h,x2:a+l-1,y2:h,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:a+1,y1:h+2,x2:a+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return X.isValidElement(n)?i=X.cloneElement(n,a):Qe(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,l=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(i!==a.prevData||h!==a.prevUpdateId)return Bw({prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l},i&&i.length?qne({data:i,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+l-d]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,l=0,c=i-1;c-l>1;){var d=Math.floor((l+c)/2);n[d]>a?c=d:l=d}return a>=n[c]?c:l}}])}(B.PureComponent);zn(Yc,"displayName","Brush");zn(Yc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Uw,uR;function zne(){if(uR)return Uw;uR=1;var t=_j();function e(r,n){var a;return t(r,function(i,l,c){return a=n(i,l,c),!a}),!!a}return Uw=e,Uw}var qw,dR;function Wne(){if(dR)return qw;dR=1;var t=v3(),e=bi(),r=zne(),n=On(),a=F0();function i(l,c,d){var h=n(l)?t:r;return d&&a(l,c,d)&&(c=void 0),h(l,e(c,3))}return qw=i,qw}var Hne=Wne();const Gne=xt(Hne);var fi=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},zw,hR;function Kne(){if(hR)return zw;hR=1;var t=D3();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return zw=e,zw}var Ww,fR;function Yne(){if(fR)return Ww;fR=1;var t=Kne(),e=O3(),r=bi();function n(a,i){var l={};return i=r(i,3),e(a,function(c,d,h){t(l,d,i(c,d,h))}),l}return Ww=n,Ww}var Xne=Yne();const Qne=xt(Xne);var Hw,pR;function Jne(){if(pR)return Hw;pR=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Hw=t,Hw}var Gw,mR;function Zne(){if(mR)return Gw;mR=1;var t=_j();function e(r,n){var a=!0;return t(r,function(i,l,c){return a=!!n(i,l,c),a}),a}return Gw=e,Gw}var Kw,gR;function eae(){if(gR)return Kw;gR=1;var t=Jne(),e=Zne(),r=bi(),n=On(),a=F0();function i(l,c,d){var h=n(l)?t:e;return d&&a(l,c,d)&&(c=void 0),h(l,r(c,3))}return Kw=i,Kw}var tae=eae();const wL=xt(tae);var rae=["x","y"];function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return e=aae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aae(t){var e=iae(t,"string");return yh(e)=="symbol"?e:e+""}function iae(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sae(t,e){if(t==null)return{};var r=oae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lae(t,e){var r=t.x,n=t.y,a=sae(t,rae),i="".concat(r),l=parseInt(i,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||a.height),p=parseInt(h,10),m="".concat(e.width||a.width),y=parseInt(m,10);return sd(sd(sd(sd(sd({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function yR(t){return X.createElement(pL,D1({shapeType:"rectangle",propTransformer:lae,activeClassName:"recharts-active-bar"},t))}var cae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Te(n)||Rz(n);return i?e(n,a):(i||gl(),r)}},uae=["value","background"],_L;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function dae(t,e){if(t==null)return{};var r=hae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}function xR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(r),!0).forEach(function(n){Hs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jL(n.key),n)}}function pae(t,e,r){return e&&bR(t.prototype,e),r&&bR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mae(t,e,r){return e=Km(e),gae(t,kL()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function gae(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(t)}function vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M1(t,e)}function M1(t,e){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},M1(t,e)}function Hs(t,e,r){return e=jL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jL(t){var e=xae(t,"string");return Xc(e)=="symbol"?e:e+""}function xae(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=function(t){function e(){var r;fae(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=mae(this,e,[].concat(a)),Hs(r,"state",{isAnimationFinished:!1}),Hs(r,"id",zh("recharts-bar-")),Hs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Hs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return yae(e,t),pae(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,l=i.shape,c=i.dataKey,d=i.activeIndex,h=i.activeBar,p=Ye(this.props,!1);return n&&n.map(function(m,y){var x=y===d,k=x?h:l,w=hr(hr(hr({},p),m),{},{isActive:x,option:k,index:y,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return X.createElement(wt,Gm({className:"recharts-bar-rectangle"},fl(a.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),X.createElement(yR,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,l=a.layout,c=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,y=this.state.prevData;return X.createElement(is,{begin:d,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var k=x.t,w=i.map(function(b,N){var T=y&&y[N];if(T){var P=Ms(T.x,b.x),R=Ms(T.y,b.y),j=Ms(T.width,b.width),C=Ms(T.height,b.height);return hr(hr({},b),{},{x:P(k),y:R(k),width:j(k),height:C(k)})}if(l==="horizontal"){var A=Ms(0,b.height),I=A(k);return hr(hr({},b),{},{y:b.y+b.height-I,height:I})}var L=Ms(0,b.width),O=L(k);return hr(hr({},b),{},{width:O})});return X.createElement(wt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&a&&a.length&&(!l||!X0(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,l=a.dataKey,c=a.activeIndex,d=Ye(this.props.background,!1);return i.map(function(h,p){h.value;var m=h.background,y=dae(h,uae);if(!m)return null;var x=hr(hr(hr(hr(hr({},y),{},{fill:"#eee"},m),d),fl(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(yR,Gm({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,c=i.xAxis,d=i.yAxis,h=i.layout,p=i.children,m=ya(p,Z0);if(!m)return null;var y=h==="vertical"?l[0].height/2:l[0].width/2,x=function(b,N){var T=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:T,errorVal:tn(b,N)}},k={clipPath:n?"url(#clipPath-".concat(a,")"):null};return X.createElement(wt,k,m.map(function(w){return X.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:l,xAxis:c,yAxis:d,layout:h,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,l=n.className,c=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,k=n.background,w=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,N=tt("recharts-bar",l),T=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,R=T||P,j=at(w)?this.id:w;return X.createElement(wt,{className:N},T||P?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(j)},X.createElement("rect",{x:T?h:h-m/2,y:P?p:p-y/2,width:T?m:m*2,height:P?y:y*2}))):null,X.createElement(wt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(j,")"):null},k?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,j),(!x||b)&&Zs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);_L=vi;Hs(vi,"displayName","Bar");Hs(vi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hs(vi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,l=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=KJ(n,r);if(!x)return null;var k=e.layout,w=r.type.defaultProps,b=w!==void 0?hr(hr({},w),r.props):r.props,N=b.dataKey,T=b.children,P=b.minPointSize,R=k==="horizontal"?l:i,j=h?R.scale.domain():null,C=tZ({numericAxis:R}),A=ya(T,V0),I=m.map(function(L,O){var D,F,$,te,ne,J;h?D=YJ(h[p+O],j):(D=tn(L,N),Array.isArray(D)||(D=[C,D]));var oe=cae(P,_L.defaultProps.minPointSize)(D[1],O);if(k==="horizontal"){var re,G=[l.scale(D[0]),l.scale(D[1])],ee=G[0],W=G[1];F=WI({axis:i,ticks:c,bandSize:a,offset:x.offset,entry:L,index:O}),$=(re=W??ee)!==null&&re!==void 0?re:void 0,te=x.size;var K=ee-W;if(ne=Number.isNaN(K)?0:K,J={x:F,y:l.y,width:te,height:l.height},Math.abs(oe)>0&&Math.abs(ne)<Math.abs(oe)){var Y=pn(ne||oe)*(Math.abs(oe)-Math.abs(ne));$-=Y,ne+=Y}}else{var ie=[i.scale(D[0]),i.scale(D[1])],me=ie[0],ce=ie[1];if(F=me,$=WI({axis:l,ticks:d,bandSize:a,offset:x.offset,entry:L,index:O}),te=ce-me,ne=x.size,J={x:i.x,y:$,width:i.width,height:ne},Math.abs(oe)>0&&Math.abs(te)<Math.abs(oe)){var he=pn(te||oe)*(Math.abs(oe)-Math.abs(te));te+=he}}return hr(hr(hr({},L),{},{x:F,y:$,width:te,height:ne,value:h?D:D[1],payload:L,background:J},A&&A[O]&&A[O].props),{},{tooltipPayload:[Q6(r,L)],tooltipPosition:{x:F+te/2,y:$+ne/2}})});return hr({data:I,layout:k},y)});function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function wae(t,e,r){return e&&wR(t.prototype,e),r&&wR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sg(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=_ae(t,"string");return xh(e)=="symbol"?e:e+""}function _ae(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kae=function(e,r,n,a,i){var l=e.width,c=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},y=!!Wn(h,vi);return p.reduce(function(x,k){var w=r[k],b=w.orientation,N=w.domain,T=w.padding,P=T===void 0?{}:T,R=w.mirror,j=w.reversed,C="".concat(b).concat(R?"Mirror":""),A,I,L,O,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=N[1]-N[0],$=1/0,te=w.categoricalDomain.sort(Lz);if(te.forEach(function(ie,me){me>0&&($=Math.min((ie||0)-(te[me-1]||0),$))}),Number.isFinite($)){var ne=$/F,J=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=ne*J/2),w.padding==="no-gap"){var oe=mn(e.barCategoryGap,ne*J),re=ne*J/2;A=re-oe-(re-oe)/J*oe}}}a==="xAxis"?I=[n.left+(P.left||0)+(A||0),n.left+n.width-(P.right||0)-(A||0)]:a==="yAxis"?I=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(A||0),n.top+n.height-(P.bottom||0)-(A||0)]:I=w.range,j&&(I=[I[1],I[0]]);var G=G6(w,i,y),ee=G.scale,W=G.realScaleType;ee.domain(N).range(I),K6(ee);var K=Y6(ee,Da(Da({},w),{},{realScaleType:W}));a==="xAxis"?(D=b==="top"&&!R||b==="bottom"&&R,L=n.left,O=m[C]-D*w.height):a==="yAxis"&&(D=b==="left"&&!R||b==="right"&&R,L=m[C]-D*w.width,O=n.top);var Y=Da(Da(Da({},w),K),{},{realScaleType:W,x:L,y:O,scale:ee,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return Y.bandSize=Im(Y,K),!w.hide&&a==="xAxis"?m[C]+=(D?-1:1)*Y.height:w.hide||(m[C]+=(D?-1:1)*Y.width),Da(Da({},x),{},sg({},k,Y))},{})},SL=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return{x:Math.min(n,i),y:Math.min(a,l),width:Math.abs(i-n),height:Math.abs(l-a)}},jae=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return SL({x:r,y:n},{x:a,y:i})},EL=function(){function t(e){bae(this,t),this.scale=e}return wae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();sg(EL,"EPS",1e-4);var eN=function(e){var r=Object.keys(e).reduce(function(n,a){return Da(Da({},n),{},sg({},a,EL.create(e[a])))},{});return Da(Da({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,c=i.position;return Qne(a,function(d,h){return r[h].apply(d,{bandAware:l,position:c})})},isInRange:function(a){return wL(a,function(i,l){return r[l].isInRange(i)})}})};function Nae(t){return(t%180+180)%180}var Sae=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Nae(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Yw,kR;function Eae(){if(kR)return Yw;kR=1;var t=bi(),e=Wh(),r=L0();function n(a){return function(i,l,c){var d=Object(i);if(!e(i)){var h=t(l,3);i=r(i),l=function(m){return h(d[m],m,d)}}var p=a(i,l,c);return p>-1?d[h?i[p]:p]:void 0}}return Yw=n,Yw}var Xw,jR;function Tae(){if(jR)return Xw;jR=1;var t=vL();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Xw=e,Xw}var Qw,NR;function Aae(){if(NR)return Qw;NR=1;var t=T3(),e=bi(),r=Tae(),n=Math.max;function a(i,l,c){var d=i==null?0:i.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(i,e(l,3),h)}return Qw=a,Qw}var Jw,SR;function Cae(){if(SR)return Jw;SR=1;var t=Eae(),e=Aae(),r=t(e);return Jw=r,Jw}var Pae=Cae();const Iae=xt(Pae);var Oae=z4();const Rae=xt(Oae);var Dae=Rae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tN=B.createContext(void 0),rN=B.createContext(void 0),TL=B.createContext(void 0),AL=B.createContext({}),CL=B.createContext(void 0),PL=B.createContext(0),IL=B.createContext(0),ER=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,l=e.clipPathId,c=e.children,d=e.width,h=e.height,p=Dae(i);return X.createElement(tN.Provider,{value:n},X.createElement(rN.Provider,{value:a},X.createElement(AL.Provider,{value:i},X.createElement(TL.Provider,{value:p},X.createElement(CL.Provider,{value:l},X.createElement(PL.Provider,{value:h},X.createElement(IL.Provider,{value:d},c)))))))},Mae=function(){return B.useContext(CL)},OL=function(e){var r=B.useContext(tN);r==null&&gl();var n=r[e];return n==null&&gl(),n},Lae=function(){var e=B.useContext(tN);return zs(e)},$ae=function(){var e=B.useContext(rN),r=Iae(e,function(n){return wL(n.domain,Number.isFinite)});return r||zs(e)},RL=function(e){var r=B.useContext(rN);r==null&&gl();var n=r[e];return n==null&&gl(),n},Fae=function(){var e=B.useContext(TL);return e},Vae=function(){return B.useContext(AL)},nN=function(){return B.useContext(IL)},aN=function(){return B.useContext(PL)};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ML(n.key),n)}}function qae(t,e,r){return e&&Uae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zae(t,e,r){return e=Ym(e),Wae(t,DL()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function Wae(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hae(t)}function Hae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function Gae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(t,e)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){iN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iN(t,e,r){return e=ML(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ML(t){var e=Kae(t,"string");return Qc(e)=="symbol"?e:e+""}function Kae(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yae(t,e){return Zae(t)||Jae(t,e)||Qae(t,e)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return CR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Zae(t){if(Array.isArray(t))return t}function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$1.apply(this,arguments)}var eie=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Qe(e)?n=e(r):n=X.createElement("line",$1({},r,{className:"recharts-reference-line-line"})),n},tie=function(e,r,n,a,i,l,c,d,h){var p=i.x,m=i.y,y=i.width,x=i.height;if(n){var k=h.y,w=e.y.apply(k,{position:l});if(fi(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return d==="left"?b.reverse():b}if(r){var N=h.x,T=e.x.apply(N,{position:l});if(fi(h,"discard")&&!e.x.isInRange(T))return null;var P=[{x:T,y:m+x},{x:T,y:m}];return c==="top"?P.reverse():P}if(a){var R=h.segment,j=R.map(function(C){return e.apply(C,{position:l})});return fi(h,"discard")&&Gne(j,function(C){return!e.isInRange(C)})?null:j}return null};function rie(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,l=t.shape,c=t.className,d=t.alwaysShow,h=Mae(),p=OL(a),m=RL(i),y=Fae();if(!h||!y)return null;Va(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=eN({x:p.scale,y:m.scale}),k=kr(e),w=kr(r),b=n&&n.length===2,N=tie(x,k,w,b,y,t.position,p.orientation,m.orientation,t);if(!N)return null;var T=Yae(N,2),P=T[0],R=P.x,j=P.y,C=T[1],A=C.x,I=C.y,L=fi(t,"hidden")?"url(#".concat(h,")"):void 0,O=AR(AR({clipPath:L},Ye(t,!0)),{},{x1:R,y1:j,x2:A,y2:I});return X.createElement(wt,{className:tt("recharts-reference-line",c)},eie(l,O),Ir.renderCallByParent(t,jae({x1:R,y1:j,x2:A,y2:I})))}var sN=function(t){function e(){return Bae(this,e),zae(this,e,arguments)}return Gae(e,t),qae(e,[{key:"render",value:function(){return X.createElement(rie,this.props)}}])}(X.Component);iN(sN,"displayName","ReferenceLine");iN(sN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function iie(t,e,r){return e&&aie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sie(t,e,r){return e=Xm(e),oie(t,LL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function oie(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lie(t)}function lie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function cie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V1(t,e)}function V1(t,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V1(t,e)}function og(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=uie(t,"string");return Jc(e)=="symbol"?e:e+""}function uie(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var die=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,l=eN({x:a.scale,y:i.scale}),c=l.apply({x:r,y:n},{bandAware:!0});return fi(e,"discard")&&!l.isInRange(c)?null:c},lg=function(t){function e(){return nie(this,e),sie(this,e,arguments)}return cie(e,t),iie(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,l=n.r,c=n.alwaysShow,d=n.clipPathId,h=kr(a),p=kr(i);if(Va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=die(this.props);if(!m)return null;var y=m.x,x=m.y,k=this.props,w=k.shape,b=k.className,N=fi(this.props,"hidden")?"url(#".concat(d,")"):void 0,T=IR(IR({clipPath:N},Ye(this.props,!0)),{},{cx:y,cy:x});return X.createElement(wt,{className:tt("recharts-reference-dot",b)},e.renderDot(w,T),Ir.renderCallByParent(this.props,{x:y-l,y:x-l,width:2*l,height:2*l}))}}])}(X.Component);og(lg,"displayName","ReferenceDot");og(lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});og(lg,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Qe(t)?r=t(e):r=X.createElement(Zj,F1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B1.apply(this,arguments)}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){cg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function pie(t,e,r){return e&&fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mie(t,e,r){return e=Qm(e),gie(t,FL()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function gie(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(t)}function vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function yie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(t,e)}function cg(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=xie(t,"string");return Zc(e)=="symbol"?e:e+""}function xie(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bie=function(e,r,n,a,i){var l=i.x1,c=i.x2,d=i.y1,h=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var y=eN({x:p.scale,y:m.scale}),x={x:e?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},k={x:r?y.x.apply(c,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(h,{position:"end"}):y.y.rangeMax};return fi(i,"discard")&&(!y.isInRange(x)||!y.isInRange(k))?null:SL(x,k)},ug=function(t){function e(){return hie(this,e),mie(this,e,arguments)}return yie(e,t),pie(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,l=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;Va(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=kr(a),y=kr(i),x=kr(l),k=kr(c),w=this.props.shape;if(!m&&!y&&!x&&!k&&!w)return null;var b=bie(m,y,x,k,this.props);if(!b&&!w)return null;var N=fi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(wt,{className:tt("recharts-reference-area",d)},e.renderRect(w,RR(RR({clipPath:N},Ye(this.props,!0)),b)),Ir.renderCallByParent(this.props,b))}}])}(X.Component);cg(ug,"displayName","ReferenceArea");cg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cg(ug,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Qe(t)?r=t(e):r=X.createElement(Jj,B1({},e,{className:"recharts-reference-area-rect"})),r});function BL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function wie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Sae(n,r)}function _ie(t,e,r){var n=r==="width",a=t.x,i=t.y,l=t.width,c=t.height;return e===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function Jm(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function kie(t,e){return BL(t,e+1)}function jie(t,e,r,n,a){for(var i=(n||[]).slice(),l=e.start,c=e.end,d=0,h=1,p=l,m=function(){var k=n?.[d];if(k===void 0)return{v:BL(n,h)};var w=d,b,N=function(){return b===void 0&&(b=r(k,w)),b},T=k.coordinate,P=d===0||Jm(t,T,N,p,c);P||(d=0,p=l,h+=1),P&&(p=T+t*(N()/2+a),d+=h)},y;h<=i.length;)if(y=m(),y)return y.v;return[]}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){Nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e,r){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sie(t){var e=Eie(t,"string");return bh(e)=="symbol"?e:e+""}function Eie(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tie(t,e,r,n,a){for(var i=(n||[]).slice(),l=i.length,c=e.start,d=e.end,h=function(y){var x=i[y],k,w=function(){return k===void 0&&(k=r(x,y)),k};if(y===l-1){var b=t*(x.coordinate+t*w()/2-d);i[y]=x=Qr(Qr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else i[y]=x=Qr(Qr({},x),{},{tickCoord:x.coordinate});var N=Jm(t,x.tickCoord,w,c,d);N&&(d=x.tickCoord-t*(w()/2+a),i[y]=Qr(Qr({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function Aie(t,e,r,n,a,i){var l=(n||[]).slice(),c=l.length,d=e.start,h=e.end;if(i){var p=n[c-1],m=r(p,c-1),y=t*(p.coordinate+t*m/2-h);l[c-1]=p=Qr(Qr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Jm(t,p.tickCoord,function(){return m},d,h);x&&(h=p.tickCoord-t*(m/2+a),l[c-1]=Qr(Qr({},p),{},{isShow:!0}))}for(var k=i?c-1:c,w=function(T){var P=l[T],R,j=function(){return R===void 0&&(R=r(P,T)),R};if(T===0){var C=t*(P.coordinate-t*j()/2-d);l[T]=P=Qr(Qr({},P),{},{tickCoord:C<0?P.coordinate-C*t:P.coordinate})}else l[T]=P=Qr(Qr({},P),{},{tickCoord:P.coordinate});var A=Jm(t,P.tickCoord,j,d,h);A&&(d=P.tickCoord+t*(j()/2+a),l[T]=Qr(Qr({},P),{},{isShow:!0}))},b=0;b<k;b++)w(b);return l}function oN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,l=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Te(d)||hu.isSsr)return kie(a,typeof d=="number"&&Te(d)?d:0);var y=[],x=c==="top"||c==="bottom"?"width":"height",k=p&&x==="width"?kd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(P,R){var j=Qe(h)?h(P.value,R):P.value;return x==="width"?wie(kd(j,{fontSize:e,letterSpacing:r}),k,m):kd(j,{fontSize:e,letterSpacing:r})[x]},b=a.length>=2?pn(a[1].coordinate-a[0].coordinate):1,N=_ie(i,b,x);return d==="equidistantPreserveStart"?jie(b,N,w,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=Aie(b,N,w,a,l,d==="preserveStartEnd"):y=Tie(b,N,w,a,l),y.filter(function(T){return T.isShow}))}var Cie=["viewBox"],Pie=["viewBox"],Iie=["ticks"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){lN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zw(t,e){if(t==null)return{};var r=Oie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qL(n.key),n)}}function Die(t,e,r){return e&&LR(t.prototype,e),r&&LR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mie(t,e,r){return e=Zm(e),Lie(t,UL()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Lie(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ie(t)}function $ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function Fie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q1(t,e)}function q1(t,e){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q1(t,e)}function lN(t,e,r){return e=qL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qL(t){var e=Vie(t,"string");return eu(e)=="symbol"?e:e+""}function Vie(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gu=function(t){function e(r){var n;return Rie(this,e),n=Mie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Fie(e,t),Die(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,l=Zw(n,Cie),c=this.props,d=c.viewBox,h=Zw(c,Pie);return!jc(i,d)||!jc(l,h)||!jc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,l=a.y,c=a.width,d=a.height,h=a.orientation,p=a.tickSize,m=a.mirror,y=a.tickMargin,x,k,w,b,N,T,P=m?-1:1,R=n.tickSize||p,j=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":x=k=n.coordinate,b=l+ +!m*d,w=b-P*R,T=w-P*y,N=j;break;case"left":w=b=n.coordinate,k=i+ +!m*c,x=k-P*R,N=x-P*y,T=j;break;case"right":w=b=n.coordinate,k=i+ +m*c,x=k+P*R,N=x+P*y,T=j;break;default:x=k=n.coordinate,b=l+ +m*d,w=b+P*R,T=w+P*y,N=j;break}return{line:{x1:x,y1:w,x2:k,y2:b},tick:{x:N,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l;switch(a){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=wr(wr(wr({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);m=wr(wr({},m),{},{x1:a,y1:i+y*c,x2:a+l,y2:i+y*c})}else{var x=+(d==="left"&&!h||d==="right"&&h);m=wr(wr({},m),{},{x1:a+x*l,y1:i,x2:a+x*l,y2:i+c})}return X.createElement("line",gc({},m,{className:tt("recharts-cartesian-axis-line",Xn(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var l=this,c=this.props,d=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,y=c.unit,x=oN(wr(wr({},this.props),{},{ticks:n}),a,i),k=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ye(this.props,!1),N=Ye(p,!1),T=wr(wr({},b),{},{fill:"none"},Ye(d,!1)),P=x.map(function(R,j){var C=l.getTickLineCoord(R),A=C.line,I=C.tick,L=wr(wr(wr(wr({textAnchor:k,verticalAnchor:w},b),{},{stroke:"none",fill:h},N),I),{},{index:j,payload:R,visibleTicksCount:x.length,tickFormatter:m});return X.createElement(wt,gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},fl(l.props,R,j)),d&&X.createElement("line",gc({},T,A,{className:tt("recharts-cartesian-axis-tick-line",Xn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Qe(m)?m(R.value,j):R.value).concat(y||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,l=a.width,c=a.height,d=a.ticksGenerator,h=a.className,p=a.hide;if(p)return null;var m=this.props,y=m.ticks,x=Zw(m,Iie),k=y;return Qe(d)&&(k=y&&y.length>0?d(this.props):d(x)),l<=0||c<=0||!k||!k.length?null:X.createElement(wt,{className:tt("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),Ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var l,c=tt(a.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?l=X.cloneElement(n,wr(wr({},a),{},{className:c})):Qe(n)?l=n(wr(wr({},a),{},{className:c})):l=X.createElement(pl,gc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(B.Component);lN(gu,"displayName","CartesianAxis");lN(gu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Bie=["x1","y1","x2","y2","key"],Uie=["offset"];function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){qie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qie(t,e,r){return e=zie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zie(t){var e=Wie(t,"string");return vl(e)=="symbol"?e:e+""}function Wie(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zo.apply(this,arguments)}function FR(t,e){if(t==null)return{};var r=Hie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,l=e.width,c=e.height,d=e.ry;return X.createElement("rect",{x:a,y:i,ry:d,width:l,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zL(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,l=e.y2,c=e.key,d=FR(e,Bie),h=Ye(d,!1);h.offset;var p=FR(h,Uie);r=X.createElement("line",Zo({},p,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:c}))}return r}function Kie(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(c,d){var h=en(en({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return zL(a,h)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Yie(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(c,d){var h=en(en({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return zL(a,h)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Xie(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,l=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=c.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],w=k?a+l-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return X.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:i,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Qie(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,l=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],w=k?i+c-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return X.createElement("rect",{key:"react-".concat(x),x:y,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Jie=function(e,r){var n=e.xAxis,a=e.width,i=e.height,l=e.offset;return H6(oN(en(en(en({},gu.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.left,l.left+l.width,r)},Zie=function(e,r){var n=e.yAxis,a=e.width,i=e.height,l=e.offset;return H6(oN(en(en(en({},gu.defaultProps),n),{},{ticks:Gi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.top,l.top+l.height,r)},lc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function cN(t){var e,r,n,a,i,l,c=nN(),d=aN(),h=Vae(),p=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:lc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:lc.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:lc.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:lc.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:lc.verticalFill,x:Te(t.x)?t.x:h.left,y:Te(t.y)?t.y:h.top,width:Te(t.width)?t.width:h.width,height:Te(t.height)?t.height:h.height}),m=p.x,y=p.y,x=p.width,k=p.height,w=p.syncWithTicks,b=p.horizontalValues,N=p.verticalValues,T=Lae(),P=$ae();if(!Te(x)||x<=0||!Te(k)||k<=0||!Te(m)||m!==+m||!Te(y)||y!==+y)return null;var R=p.verticalCoordinatesGenerator||Jie,j=p.horizontalCoordinatesGenerator||Zie,C=p.horizontalPoints,A=p.verticalPoints;if((!C||!C.length)&&Qe(j)){var I=b&&b.length,L=j({yAxis:P?en(en({},P),{},{ticks:I?b:P.ticks}):void 0,width:c,height:d,offset:h},I?!0:w);Va(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vl(L),"]")),Array.isArray(L)&&(C=L)}if((!A||!A.length)&&Qe(R)){var O=N&&N.length,D=R({xAxis:T?en(en({},T),{},{ticks:O?N:T.ticks}):void 0,width:c,height:d,offset:h},O?!0:w);Va(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vl(D),"]")),Array.isArray(D)&&(A=D)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(Gie,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),X.createElement(Kie,Zo({},p,{offset:h,horizontalPoints:C,xAxis:T,yAxis:P})),X.createElement(Yie,Zo({},p,{offset:h,verticalPoints:A,xAxis:T,yAxis:P})),X.createElement(Xie,Zo({},p,{horizontalPoints:C})),X.createElement(Qie,Zo({},p,{verticalPoints:A})))}cN.displayName="CartesianGrid";function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function ese(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function rse(t,e,r){return e&&tse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nse(t,e,r){return e=e0(e),ase(t,WL()?Reflect.construct(e,r||[],e0(t).constructor):e.apply(t,r))}function ase(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ise(t)}function ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WL=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(t)}function sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(t,e)}function HL(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=ose(t,"string");return tu(e)=="symbol"?e:e+""}function ose(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W1.apply(this,arguments)}function lse(t){var e=t.xAxisId,r=nN(),n=aN(),a=OL(e);return a==null?null:B.createElement(gu,W1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Gi(l,!0)}}))}var Xh=function(t){function e(){return ese(this,e),nse(this,e,arguments)}return sse(e,t),rse(e,[{key:"render",value:function(){return B.createElement(lse,this.props)}}])}(B.Component);HL(Xh,"displayName","XAxis");HL(Xh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function cse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function use(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function dse(t,e,r){return e&&use(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hse(t,e,r){return e=t0(e),fse(t,KL()?Reflect.construct(e,r||[],t0(t).constructor):e.apply(t,r))}function fse(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pse(t)}function pse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(t)}function mse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H1(t,e)}function YL(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=gse(t,"string");return ru(e)=="symbol"?e:e+""}function gse(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G1.apply(this,arguments)}var vse=function(e){var r=e.yAxisId,n=nN(),a=aN(),i=RL(r);return i==null?null:B.createElement(gu,G1({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Gi(c,!0)}}))},Qh=function(t){function e(){return cse(this,e),hse(this,e,arguments)}return mse(e,t),dse(e,[{key:"render",value:function(){return B.createElement(vse,this.props)}}])}(B.Component);YL(Qh,"displayName","YAxis");YL(Qh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function VR(t){return wse(t)||bse(t)||xse(t)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(t,e){if(t){if(typeof t=="string")return K1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K1(t,e)}}function bse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wse(t){if(Array.isArray(t))return K1(t)}function K1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Y1=function(e,r,n,a,i){var l=ya(e,sN),c=ya(e,lg),d=[].concat(VR(l),VR(c)),h=ya(e,ug),p="".concat(a,"Id"),m=a[0],y=r;if(d.length&&(y=d.reduce(function(w,b){if(b.props[p]===n&&fi(b.props,"extendDomain")&&Te(b.props[m])){var N=b.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},y)),h.length){var x="".concat(m,"1"),k="".concat(m,"2");y=h.reduce(function(w,b){if(b.props[p]===n&&fi(b.props,"extendDomain")&&Te(b.props[x])&&Te(b.props[k])){var N=b.props[x],T=b.props[k];return[Math.min(w[0],N,T),Math.max(w[1],N,T)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,b){return Te(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},e_={exports:{}},BR;function _se(){return BR||(BR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,m||d,y),k=r?r+h:h;return d._events[k]?d._events[k].fn?d._events[k]=[d._events[k],x]:d._events[k].push(x):(d._events[k]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,k=new Array(x);y<x;y++)k[y]=m[y].fn;return k},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,y,x,k){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,T,P;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,k),!0}for(P=1,T=new Array(N-1);P<N;P++)T[P-1]=arguments[P];b.fn.apply(b.context,T)}else{var R=b.length,j;for(P=0;P<R;P++)switch(b[P].once&&this.removeListener(h,b[P].fn,void 0,!0),N){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,p);break;case 3:b[P].fn.call(b[P].context,p,m);break;case 4:b[P].fn.call(b[P].context,p,m,y);break;default:if(!T)for(j=1,T=new Array(N-1);j<N;j++)T[j-1]=arguments[j];b[P].fn.apply(b[P].context,T)}}return!0},c.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,y){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var k=this._events[x];if(k.fn)k.fn===p&&(!y||k.once)&&(!m||k.context===m)&&l(this,x);else{for(var w=0,b=[],N=k.length;w<N;w++)(k[w].fn!==p||y&&!k[w].once||m&&k[w].context!==m)&&b.push(k[w]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(e_)),e_.exports}var kse=_se();const jse=xt(kse);var t_=new jse,r_="recharts.syncMouseEvents";function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function Ese(t,e,r){return e&&Sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=Tse(t,"string");return wh(e)=="symbol"?e:e+""}function Tse(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ase=function(){function t(){Nse(this,t),n_(this,"activeIndex",0),n_(this,"coordinateList",[]),n_(this,"layout","horizontal")}return Ese(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,l=r.container,c=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,l=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+h,y=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function Cse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&Te(n)&&Te(a))return!0}return!1}function Pse(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function JL(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,l=Ot(e,r,n,a),c=Ot(e,r,n,i);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Ise(t,e,r){var n,a,i,l;if(t==="horizontal")n=e.x,i=n,a=r.top,l=r.top+r.height;else if(t==="vertical")a=e.y,l=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,y=Ot(c,d,h,m),x=Ot(c,d,p,m);n=y.x,a=y.y,i=x.x,l=x.y}else return JL(e);return[{x:n,y:a},{x:i,y:l}]}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){Ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ose(t,e,r){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rse(t){var e=Dse(t,"string");return _h(e)=="symbol"?e:e+""}function Dse(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mse(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,l=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!l||y!=="ScatterChart"&&a!=="axis")return null;var k,w=y1;if(y==="ScatterChart")k=l,w=vre;else if(y==="BarChart")k=Pse(m,l,d,p),w=Jj;else if(m==="radial"){var b=JL(l),N=b.cx,T=b.cy,P=b.radius,R=b.startAngle,j=b.endAngle;k={cx:N,cy:T,startAngle:R,endAngle:j,innerRadius:P,outerRadius:P},w=Qj}else k={points:Ise(m,l,d)},w=y1;var C=Pp(Pp(Pp(Pp({stroke:"#ccc",pointerEvents:"none"},d),k),Ye(x,!1)),{},{payload:c,payloadIndex:h,className:tt("recharts-tooltip-cursor",x.className)});return B.isValidElement(x)?B.cloneElement(x,C):B.createElement(w,C)}var Lse=["item"],$se=["children","className","width","height","style","compact","title","desc"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vc.apply(this,arguments)}function qR(t,e){return Bse(t)||Vse(t,e)||e$(t,e)||Fse()}function Fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Bse(t){if(Array.isArray(t))return t}function zR(t,e){if(t==null)return{};var r=Use(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Use(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function Wse(t,e,r){return e&&zse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,r){return e=r0(e),Gse(t,ZL()?Reflect.construct(e,r||[],r0(t).constructor):e.apply(t,r))}function Gse(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kse(t)}function Kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r0(t)}function Yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X1(t,e)}function au(t){return Jse(t)||Qse(t)||e$(t)||Xse()}function Xse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$(t,e){if(t){if(typeof t=="string")return Q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(t,e)}}function Qse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jse(t){if(Array.isArray(t))return Q1(t)}function Q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(r),!0).forEach(function(n){Ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ge(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=Zse(t,"string");return nu(e)=="symbol"?e:e+""}function Zse(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eoe={xAxis:["bottom","top"],yAxis:["left","right"]},toe={width:"100%",height:"100%"},r$={x:0,y:0};function Ip(t){return t}var roe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},noe=function(e,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var l=i.coordinate,c=a.radius;return ve(ve(ve({},a),Ot(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=i.coordinate,h=a.angle;return ve(ve(ve({},a),Ot(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return r$},dg=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,l=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(au(c),au(h)):c},[]);return l.length>0?l:e&&e.length&&Te(a)&&Te(i)?e.slice(a,i+1):[]};function n$(t){return t==="number"?[0,"auto"]:void 0}var J1=function(e,r,n,a){var i=e.graphicalItems,l=e.tooltipAxis,c=dg(r,e);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?c:m;y=O_(x,l.dataKey,a)}else y=m&&m[n]||c[n];return y?[].concat(au(d),[Q6(h,y)]):d},[])},HR=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},l=roe(i,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=UJ(l,c,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,y=J1(e,r,p,m),x=noe(n,c,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},aoe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=W6(p,i);return n.reduce(function(k,w){var b,N=w.type.defaultProps!==void 0?ve(ve({},w.type.defaultProps),w.props):w.props,T=N.type,P=N.dataKey,R=N.allowDataOverflow,j=N.allowDuplicatedCategory,C=N.scale,A=N.ticks,I=N.includeHidden,L=N[l];if(k[L])return k;var O=dg(e.data,{graphicalItems:a.filter(function(K){var Y,ie=l in K.props?K.props[l]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[l];return ie===L}),dataStartIndex:d,dataEndIndex:h}),D=O.length,F,$,te;Cse(N.domain,R,T)&&(F=f1(N.domain,null,R),x&&(T==="number"||C!=="auto")&&(te=Nd(O,P,"category")));var ne=n$(T);if(!F||F.length===0){var J,oe=(J=N.domain)!==null&&J!==void 0?J:ne;if(P){if(F=Nd(O,P,T),T==="category"&&x){var re=Mz(F);j&&re?($=F,F=zm(0,D)):j||(F=KI(oe,F,w).reduce(function(K,Y){return K.indexOf(Y)>=0?K:[].concat(au(K),[Y])},[]))}else if(T==="category")j?F=F.filter(function(K){return K!==""&&!at(K)}):F=KI(oe,F,w).reduce(function(K,Y){return K.indexOf(Y)>=0||Y===""||at(Y)?K:[].concat(au(K),[Y])},[]);else if(T==="number"){var G=GJ(O,a.filter(function(K){var Y,ie,me=l in K.props?K.props[l]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[l],ce="hide"in K.props?K.props.hide:(ie=K.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return me===L&&(I||!ce)}),P,i,p);G&&(F=G)}x&&(T==="number"||C!=="auto")&&(te=Nd(O,P,"category"))}else x?F=zm(0,D):c&&c[L]&&c[L].hasStack&&T==="number"?F=y==="expand"?[0,1]:X6(c[L].stackGroups,d,h):F=z6(O,a.filter(function(K){var Y=l in K.props?K.props[l]:K.type.defaultProps[l],ie="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Y===L&&(I||!ie)}),T,p,!0);if(T==="number")F=Y1(m,F,L,i,A),oe&&(F=f1(oe,F,R));else if(T==="category"&&oe){var ee=oe,W=F.every(function(K){return ee.indexOf(K)>=0});W&&(F=ee)}}return ve(ve({},k),{},Ge({},L,ve(ve({},N),{},{axisType:i,domain:F,categoricalDomain:te,duplicateDomain:$,originalDomain:(b=N.domain)!==null&&b!==void 0?b:ne,isCategorical:x,layout:p})))},{})},ioe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=dg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),x=y.length,k=W6(p,i),w=-1;return n.reduce(function(b,N){var T=N.type.defaultProps!==void 0?ve(ve({},N.type.defaultProps),N.props):N.props,P=T[l],R=n$("number");if(!b[P]){w++;var j;return k?j=zm(0,x):c&&c[P]&&c[P].hasStack?(j=X6(c[P].stackGroups,d,h),j=Y1(m,j,P,i)):(j=f1(R,z6(y,n.filter(function(C){var A,I,L=l in C.props?C.props[l]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[l],O="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===P&&!O}),"number",p),a.defaultProps.allowDataOverflow),j=Y1(m,j,P,i)),ve(ve({},b),{},Ge({},P,ve(ve({axisType:i},a.defaultProps),{},{hide:!0,orientation:Xn(eoe,"".concat(i,".").concat(w%2),null),domain:j,originalDomain:R,isCategorical:k,layout:p})))}return b},{})},soe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,l=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),y=ya(p,i),x={};return y&&y.length?x=aoe(e,{axes:y,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(x=ioe(e,{Axis:i,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),x},ooe=function(e){var r=zs(e),n=Gi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Im(r,n)}},GR=function(e){var r=e.children,n=e.defaultShowTooltip,a=Wn(r,Yc),i=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},loe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},KR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},coe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,l=i===void 0?{}:i,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,p=n.height,m=n.children,y=n.margin||{},x=Wn(m,Yc),k=Wn(m,Qs),w=Object.keys(d).reduce(function(j,C){var A=d[C],I=A.orientation;return!A.mirror&&!A.hide?ve(ve({},j),{},Ge({},I,j[I]+A.width)):j},{left:y.left||0,right:y.right||0}),b=Object.keys(l).reduce(function(j,C){var A=l[C],I=A.orientation;return!A.mirror&&!A.hide?ve(ve({},j),{},Ge({},I,Xn(j,"".concat(I))+A.height)):j},{top:y.top||0,bottom:y.bottom||0}),N=ve(ve({},b),w),T=N.bottom;x&&(N.bottom+=x.props.height||Yc.defaultProps.height),k&&r&&(N=WJ(N,a,n,r));var P=h-N.left-N.right,R=p-N.top-N.bottom;return ve(ve({brushBottom:T},N),{},{width:Math.max(P,0),height:Math.max(R,0)})},uoe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},a$=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(N,T){var P=T.graphicalItems,R=T.stackGroups,j=T.offset,C=T.updateId,A=T.dataStartIndex,I=T.dataEndIndex,L=N.barSize,O=N.layout,D=N.barGap,F=N.barCategoryGap,$=N.maxBarSize,te=KR(O),ne=te.numericAxisName,J=te.cateAxisName,oe=loe(P),re=[];return P.forEach(function(G,ee){var W=dg(N.data,{graphicalItems:[G],dataStartIndex:A,dataEndIndex:I}),K=G.type.defaultProps!==void 0?ve(ve({},G.type.defaultProps),G.props):G.props,Y=K.dataKey,ie=K.maxBarSize,me=K["".concat(ne,"Id")],ce=K["".concat(J,"Id")],he={},be=d.reduce(function(Dt,Rr){var on=T["".concat(Rr.axisType,"Map")],lr=K["".concat(Rr.axisType,"Id")];on&&on[lr]||Rr.axisType==="zAxis"||gl();var Rn=on[lr];return ve(ve({},Dt),{},Ge(Ge({},Rr.axisType,Rn),"".concat(Rr.axisType,"Ticks"),Gi(Rn)))},he),z=be[J],ge=be["".concat(J,"Ticks")],xe=R&&R[me]&&R[me].hasStack&&rZ(G,R[me].stackGroups),q=Ki(G.type).indexOf("Bar")>=0,de=Im(z,ge),_e=[],Ie=oe&&qJ({barSize:L,stackGroups:R,totalSize:uoe(be,J)});if(q){var Ue,Zt,gr=at(ie)?$:ie,sn=(Ue=(Zt=Im(z,ge,!0))!==null&&Zt!==void 0?Zt:gr)!==null&&Ue!==void 0?Ue:0;_e=zJ({barGap:D,barCategoryGap:F,bandSize:sn!==de?sn:de,sizeList:Ie[ce],maxBarSize:gr}),sn!==de&&(_e=_e.map(function(Dt){return ve(ve({},Dt),{},{position:ve(ve({},Dt.position),{},{offset:Dt.position.offset-sn/2})})}))}var Rt=G&&G.type&&G.type.getComposedData;Rt&&re.push({props:ve(ve({},Rt(ve(ve({},be),{},{displayedData:W,props:N,dataKey:Y,item:G,bandSize:de,barPosition:_e,offset:j,stackedData:xe,layout:O,dataStartIndex:A,dataEndIndex:I}))),{},Ge(Ge(Ge({key:G.key||"item-".concat(ee)},ne,be[ne]),J,be[J]),"animationId",C)),childIndex:Kz(G,N.children),item:G})}),re},x=function(N,T){var P=N.props,R=N.dataStartIndex,j=N.dataEndIndex,C=N.updateId;if(!c2({props:P}))return null;var A=P.children,I=P.layout,L=P.stackOffset,O=P.data,D=P.reverseStackOrder,F=KR(I),$=F.numericAxisName,te=F.cateAxisName,ne=ya(A,n),J=eZ(O,ne,"".concat($,"Id"),"".concat(te,"Id"),L,D),oe=d.reduce(function(K,Y){var ie="".concat(Y.axisType,"Map");return ve(ve({},K),{},Ge({},ie,soe(P,ve(ve({},Y),{},{graphicalItems:ne,stackGroups:Y.axisType===$&&J,dataStartIndex:R,dataEndIndex:j}))))},{}),re=coe(ve(ve({},oe),{},{props:P,graphicalItems:ne}),T?.legendBBox);Object.keys(oe).forEach(function(K){oe[K]=p(P,oe[K],re,K.replace("Map",""),r)});var G=oe["".concat(te,"Map")],ee=ooe(G),W=y(P,ve(ve({},oe),{},{dataStartIndex:R,dataEndIndex:j,updateId:C,graphicalItems:ne,stackGroups:J,offset:re}));return ve(ve({formattedGraphicalItems:W,graphicalItems:ne,offset:re,stackGroups:J},ee),oe)},k=function(b){function N(T){var P,R,j;return qse(this,N),j=Hse(this,N,[T]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new Ase),Ge(j,"handleLegendBBoxUpdate",function(C){if(C){var A=j.state,I=A.dataStartIndex,L=A.dataEndIndex,O=A.updateId;j.setState(ve({legendBBox:C},x({props:j.props,dataStartIndex:I,dataEndIndex:L,updateId:O},ve(ve({},j.state),{},{legendBBox:C}))))}}),Ge(j,"handleReceiveSyncEvent",function(C,A,I){if(j.props.syncId===C){if(I===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Ge(j,"handleBrushChange",function(C){var A=C.startIndex,I=C.endIndex;if(A!==j.state.dataStartIndex||I!==j.state.dataEndIndex){var L=j.state.updateId;j.setState(function(){return ve({dataStartIndex:A,dataEndIndex:I},x({props:j.props,dataStartIndex:A,dataEndIndex:I,updateId:L},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),Ge(j,"handleMouseEnter",function(C){var A=j.getMouseInfo(C);if(A){var I=ve(ve({},A),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var L=j.props.onMouseEnter;Qe(L)&&L(I,C)}}),Ge(j,"triggeredAfterMouseMove",function(C){var A=j.getMouseInfo(C),I=A?ve(ve({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(I),j.triggerSyncEvent(I);var L=j.props.onMouseMove;Qe(L)&&L(I,C)}),Ge(j,"handleItemMouseEnter",function(C){j.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(C){C.persist(),j.throttleTriggeredAfterMouseMove(C)}),Ge(j,"handleMouseLeave",function(C){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var I=j.props.onMouseLeave;Qe(I)&&I(A,C)}),Ge(j,"handleOuterEvent",function(C){var A=Gz(C),I=Xn(j.props,"".concat(A));if(A&&Qe(I)){var L,O;/.*touch.*/i.test(A)?O=j.getMouseInfo(C.changedTouches[0]):O=j.getMouseInfo(C),I((L=O)!==null&&L!==void 0?L:{},C)}}),Ge(j,"handleClick",function(C){var A=j.getMouseInfo(C);if(A){var I=ve(ve({},A),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var L=j.props.onClick;Qe(L)&&L(I,C)}}),Ge(j,"handleMouseDown",function(C){var A=j.props.onMouseDown;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleMouseUp",function(C){var A=j.props.onMouseUp;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ge(j,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseDown(C.changedTouches[0])}),Ge(j,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseUp(C.changedTouches[0])}),Ge(j,"handleDoubleClick",function(C){var A=j.props.onDoubleClick;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleContextMenu",function(C){var A=j.props.onContextMenu;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"triggerSyncEvent",function(C){j.props.syncId!==void 0&&t_.emit(r_,j.props.syncId,C,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(C){var A=j.props,I=A.layout,L=A.syncMethod,O=j.state.updateId,D=C.dataStartIndex,F=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)j.setState(ve({dataStartIndex:D,dataEndIndex:F},x({props:j.props,dataStartIndex:D,dataEndIndex:F,updateId:O},j.state)));else if(C.activeTooltipIndex!==void 0){var $=C.chartX,te=C.chartY,ne=C.activeTooltipIndex,J=j.state,oe=J.offset,re=J.tooltipTicks;if(!oe)return;if(typeof L=="function")ne=L(re,C);else if(L==="value"){ne=-1;for(var G=0;G<re.length;G++)if(re[G].value===C.activeLabel){ne=G;break}}var ee=ve(ve({},oe),{},{x:oe.left,y:oe.top}),W=Math.min($,ee.x+ee.width),K=Math.min(te,ee.y+ee.height),Y=re[ne]&&re[ne].value,ie=J1(j.state,j.props.data,ne),me=re[ne]?{x:I==="horizontal"?re[ne].coordinate:W,y:I==="horizontal"?K:re[ne].coordinate}:r$;j.setState(ve(ve({},C),{},{activeLabel:Y,activeCoordinate:me,activePayload:ie,activeTooltipIndex:ne}))}else j.setState(C)}),Ge(j,"renderCursor",function(C){var A,I=j.state,L=I.isTooltipActive,O=I.activeCoordinate,D=I.activePayload,F=I.offset,$=I.activeTooltipIndex,te=I.tooltipAxisBandSize,ne=j.getTooltipEventType(),J=(A=C.props.active)!==null&&A!==void 0?A:L,oe=j.props.layout,re=C.key||"_recharts-cursor";return X.createElement(Mse,{key:re,activeCoordinate:O,activePayload:D,activeTooltipIndex:$,chartName:r,element:C,isActive:J,layout:oe,offset:F,tooltipAxisBandSize:te,tooltipEventType:ne})}),Ge(j,"renderPolarAxis",function(C,A,I){var L=Xn(C,"type.axisType"),O=Xn(j.state,"".concat(L,"Map")),D=C.type.defaultProps,F=D!==void 0?ve(ve({},D),C.props):C.props,$=O&&O[F["".concat(L,"Id")]];return B.cloneElement(C,ve(ve({},$),{},{className:tt(L,$.className),key:C.key||"".concat(A,"-").concat(I),ticks:Gi($,!0)}))}),Ge(j,"renderPolarGrid",function(C){var A=C.props,I=A.radialLines,L=A.polarAngles,O=A.polarRadius,D=j.state,F=D.radiusAxisMap,$=D.angleAxisMap,te=zs(F),ne=zs($),J=ne.cx,oe=ne.cy,re=ne.innerRadius,G=ne.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(L)?L:Gi(ne,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(O)?O:Gi(te,!0).map(function(ee){return ee.coordinate}),cx:J,cy:oe,innerRadius:re,outerRadius:G,key:C.key||"polar-grid",radialLines:I})}),Ge(j,"renderLegend",function(){var C=j.state.formattedGraphicalItems,A=j.props,I=A.children,L=A.width,O=A.height,D=j.props.margin||{},F=L-(D.left||0)-(D.right||0),$=U6({children:I,formattedGraphicalItems:C,legendWidth:F,legendContent:h});if(!$)return null;var te=$.item,ne=zR($,Lse);return B.cloneElement(te,ve(ve({},ne),{},{chartWidth:L,chartHeight:O,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var C,A=j.props,I=A.children,L=A.accessibilityLayer,O=Wn(I,ma);if(!O)return null;var D=j.state,F=D.isTooltipActive,$=D.activeCoordinate,te=D.activePayload,ne=D.activeLabel,J=D.offset,oe=(C=O.props.active)!==null&&C!==void 0?C:F;return B.cloneElement(O,{viewBox:ve(ve({},J),{},{x:J.left,y:J.top}),active:oe,label:ne,payload:oe?te:[],coordinate:$,accessibilityLayer:L})}),Ge(j,"renderBrush",function(C){var A=j.props,I=A.margin,L=A.data,O=j.state,D=O.offset,F=O.dataStartIndex,$=O.dataEndIndex,te=O.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Ep(j.handleBrushChange,C.props.onChange),data:L,x:Te(C.props.x)?C.props.x:D.left,y:Te(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:Te(C.props.width)?C.props.width:D.width,startIndex:F,endIndex:$,updateId:"brush-".concat(te)})}),Ge(j,"renderReferenceElement",function(C,A,I){if(!C)return null;var L=j,O=L.clipPathId,D=j.state,F=D.xAxisMap,$=D.yAxisMap,te=D.offset,ne=C.type.defaultProps||{},J=C.props,oe=J.xAxisId,re=oe===void 0?ne.xAxisId:oe,G=J.yAxisId,ee=G===void 0?ne.yAxisId:G;return B.cloneElement(C,{key:C.key||"".concat(A,"-").concat(I),xAxis:F[re],yAxis:$[ee],viewBox:{x:te.left,y:te.top,width:te.width,height:te.height},clipPathId:O})}),Ge(j,"renderActivePoints",function(C){var A=C.item,I=C.activePoint,L=C.basePoint,O=C.childIndex,D=C.isRange,F=[],$=A.props.key,te=A.item.type.defaultProps!==void 0?ve(ve({},A.item.type.defaultProps),A.item.props):A.item.props,ne=te.activeDot,J=te.dataKey,oe=ve(ve({index:O,dataKey:J,cx:I.x,cy:I.y,r:4,fill:Xj(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ye(ne,!1)),lm(ne));return F.push(N.renderActiveDot(ne,oe,"".concat($,"-activePoint-").concat(O))),L?F.push(N.renderActiveDot(ne,ve(ve({},oe),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(O))):D&&F.push(null),F}),Ge(j,"renderGraphicChild",function(C,A,I){var L=j.filterFormatItem(C,A,I);if(!L)return null;var O=j.getTooltipEventType(),D=j.state,F=D.isTooltipActive,$=D.tooltipAxis,te=D.activeTooltipIndex,ne=D.activeLabel,J=j.props.children,oe=Wn(J,ma),re=L.props,G=re.points,ee=re.isRange,W=re.baseLine,K=L.item.type.defaultProps!==void 0?ve(ve({},L.item.type.defaultProps),L.item.props):L.item.props,Y=K.activeDot,ie=K.hide,me=K.activeBar,ce=K.activeShape,he=!!(!ie&&F&&oe&&(Y||me||ce)),be={};O!=="axis"&&oe&&oe.props.trigger==="click"?be={onClick:Ep(j.handleItemMouseEnter,C.props.onClick)}:O!=="axis"&&(be={onMouseLeave:Ep(j.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Ep(j.handleItemMouseEnter,C.props.onMouseEnter)});var z=B.cloneElement(C,ve(ve({},L.props),be));function ge(Rr){return typeof $.dataKey=="function"?$.dataKey(Rr.payload):null}if(he)if(te>=0){var xe,q;if($.dataKey&&!$.allowDuplicatedCategory){var de=typeof $.dataKey=="function"?ge:"payload.".concat($.dataKey.toString());xe=O_(G,de,ne),q=ee&&W&&O_(W,de,ne)}else xe=G?.[te],q=ee&&W&&W[te];if(ce||me){var _e=C.props.activeIndex!==void 0?C.props.activeIndex:te;return[B.cloneElement(C,ve(ve(ve({},L.props),be),{},{activeIndex:_e})),null,null]}if(!at(xe))return[z].concat(au(j.renderActivePoints({item:L,activePoint:xe,basePoint:q,childIndex:te,isRange:ee})))}else{var Ie,Ue=(Ie=j.getItemByXY(j.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:z},Zt=Ue.graphicalItem,gr=Zt.item,sn=gr===void 0?C:gr,Rt=Zt.childIndex,Dt=ve(ve(ve({},L.props),be),{},{activeIndex:Rt});return[B.cloneElement(sn,Dt),null,null]}return ee?[z,null,null]:[z,null]}),Ge(j,"renderCustomized",function(C,A,I){return B.cloneElement(C,ve(ve({key:"recharts-customized-".concat(I)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:Ip,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ip},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ip},YAxis:{handler:Ip},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((P=T.id)!==null&&P!==void 0?P:zh("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=B3(j.triggeredAfterMouseMove,(R=T.throttleDelay)!==null&&R!==void 0?R:1e3/60),j.state={},j}return Yse(N,b),Wse(N,[{key:"componentDidMount",value:function(){var P,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,R=P.children,j=P.data,C=P.height,A=P.layout,I=Wn(R,ma);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=J1(this.state,j,L,O),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+C)/2,te=A==="horizontal",ne=te?{x:F,y:$}:{y:F,x:$},J=this.state.formattedGraphicalItems.find(function(re){var G=re.item;return G.type.name==="Scatter"});J&&(ne=ve(ve({},ne),J.props.points[L].tooltipPosition),D=J.props.points[L].tooltipPayload);var oe={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:O,activePayload:D,activeCoordinate:ne};this.setState(oe),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var j,C;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(P){D_([Wn(P.children,ma)],[Wn(this.props.children,ma)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Wn(this.props.children,ma);if(P&&typeof P.props.shared=="boolean"){var R=P.props.shared?"axis":"item";return c.indexOf(R)>=0?R:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var R=this.container,j=R.getBoundingClientRect(),C=RK(j),A={chartX:Math.round(P.pageX-C.left),chartY:Math.round(P.pageY-C.top)},I=j.width/R.offsetWidth||1,L=this.inRange(A.chartX,A.chartY,I);if(!L)return null;var O=this.state,D=O.xAxisMap,F=O.yAxisMap,$=this.getTooltipEventType(),te=HR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&F){var ne=zs(D).scale,J=zs(F).scale,oe=ne&&ne.invert?ne.invert(A.chartX):null,re=J&&J.invert?J.invert(A.chartY):null;return ve(ve({},A),{},{xValue:oe,yValue:re},te)}return te?ve(ve({},A),te):null}},{key:"inRange",value:function(P,R){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=P/j,I=R/j;if(C==="horizontal"||C==="vertical"){var L=this.state.offset,O=A>=L.left&&A<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return O?{x:A,y:I}:null}var D=this.state,F=D.angleAxisMap,$=D.radiusAxisMap;if(F&&$){var te=zs(F);return QI({x:A,y:I},te)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,R=this.getTooltipEventType(),j=Wn(P,ma),C={};j&&R==="axis"&&(j.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=lm(this.props,this.handleOuterEvent);return ve(ve({},A),C)}},{key:"addListener",value:function(){t_.on(r_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){t_.removeListener(r_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,R,j){for(var C=this.state.formattedGraphicalItems,A=0,I=C.length;A<I;A++){var L=C[A];if(L.item===P||L.props.key===P.key||R===Ki(L.item.type)&&j===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,R=this.state.offset,j=R.left,C=R.top,A=R.height,I=R.width;return X.createElement("defs",null,X.createElement("clipPath",{id:P},X.createElement("rect",{x:j,y:C,height:A,width:I})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(R,j){var C=qR(j,2),A=C[0],I=C[1];return ve(ve({},R),{},Ge({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(R,j){var C=qR(j,2),A=C[0],I=C[1];return ve(ve({},R),{},Ge({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(P){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(P){var R=this.state,j=R.formattedGraphicalItems,C=R.activeItem;if(j&&j.length)for(var A=0,I=j.length;A<I;A++){var L=j[A],O=L.props,D=L.item,F=D.type.defaultProps!==void 0?ve(ve({},D.type.defaultProps),D.props):D.props,$=Ki(D.type);if($==="Bar"){var te=(O.data||[]).find(function(re){return Qte(P,re)});if(te)return{graphicalItem:L,payload:te}}else if($==="RadialBar"){var ne=(O.data||[]).find(function(re){return QI(P,re)});if(ne)return{graphicalItem:L,payload:ne}}else if(ag(L,C)||ig(L,C)||gh(L,C)){var J=bne({graphicalItem:L,activeTooltipItem:C,itemData:F.data}),oe=F.activeIndex===void 0?J:F.activeIndex;return{graphicalItem:ve(ve({},L),{},{childIndex:oe}),payload:gh(L,C)?F.data[J]:L.props.data[J]}}}return null}},{key:"render",value:function(){var P=this;if(!c2(this))return null;var R=this.props,j=R.children,C=R.className,A=R.width,I=R.height,L=R.style,O=R.compact,D=R.title,F=R.desc,$=zR(R,$se),te=Ye($,!1);if(O)return X.createElement(ER,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(L_,vc({},te,{width:A,height:I,title:D,desc:F}),this.renderClipPath(),d2(j,this.renderMap)));if(this.props.accessibilityLayer){var ne,J;te.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,te.role=(J=this.props.role)!==null&&J!==void 0?J:"application",te.onKeyDown=function(re){P.accessibilityManager.keyboardEvent(re)},te.onFocus=function(){P.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return X.createElement(ER,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",vc({className:tt("recharts-wrapper",C),style:ve({position:"relative",cursor:"default",width:A,height:I},L)},oe,{ref:function(G){P.container=G}}),X.createElement(L_,vc({},te,{width:A,height:I,title:D,desc:F,style:toe}),this.renderClipPath(),d2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Ge(k,"displayName",r),Ge(k,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ge(k,"getDerivedStateFromProps",function(b,N){var T=b.dataKey,P=b.data,R=b.children,j=b.width,C=b.height,A=b.layout,I=b.stackOffset,L=b.margin,O=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var F=GR(b);return ve(ve(ve({},F),{},{updateId:0},x(ve(ve({props:b},F),{},{updateId:0}),N)),{},{prevDataKey:T,prevData:P,prevWidth:j,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:L,prevChildren:R})}if(T!==N.prevDataKey||P!==N.prevData||j!==N.prevWidth||C!==N.prevHeight||A!==N.prevLayout||I!==N.prevStackOffset||!jc(L,N.prevMargin)){var $=GR(b),te={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},ne=ve(ve({},HR(N,P,A)),{},{updateId:N.updateId+1}),J=ve(ve(ve({},$),te),ne);return ve(ve(ve({},J),x(ve({props:b},J),N)),{},{prevDataKey:T,prevData:P,prevWidth:j,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:L,prevChildren:R})}if(!D_(R,N.prevChildren)){var oe,re,G,ee,W=Wn(R,Yc),K=W&&(oe=(re=W.props)===null||re===void 0?void 0:re.startIndex)!==null&&oe!==void 0?oe:O,Y=W&&(G=(ee=W.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&G!==void 0?G:D,ie=K!==O||Y!==D,me=!at(P),ce=me&&!ie?N.updateId:N.updateId+1;return ve(ve({updateId:ce},x(ve(ve({props:b},N),{},{updateId:ce,dataStartIndex:K,dataEndIndex:Y}),N)),{},{prevChildren:R,dataStartIndex:K,dataEndIndex:Y})}return null}),Ge(k,"renderActiveDot",function(b,N,T){var P;return B.isValidElement(b)?P=B.cloneElement(b,N):Qe(b)?P=b(N):P=X.createElement(Zj,N),X.createElement(wt,{className:"recharts-active-dot",key:T},P)});var w=B.forwardRef(function(N,T){return X.createElement(k,vc({},N,{ref:T}))});return w.displayName=k.displayName,w},i$=a$({chartName:"BarChart",GraphicalChild:vi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xh},{axisType:"yAxis",AxisComp:Qh}],formatAxisMap:kae}),doe=a$({chartName:"PieChart",GraphicalChild:cs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ng},{axisType:"radiusAxis",AxisComp:tg}],formatAxisMap:hZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const hoe={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},foe=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:a,handleDelete:i})=>{const[l,c]=B.useState(20),[d,h]=B.useState("single-member-llc"),[p,m]=B.useState("quarterly"),[y,x]=B.useState(!1);B.useEffect(()=>{c(hoe[d])},[d]);const k=B.useMemo(()=>{const P=new Date;let R,j;switch(p){case"weekly":R=new Date(P.setDate(P.getDate()-P.getDay())),j=new Date(P.setDate(P.getDate()-P.getDay()+6));break;case"monthly":R=new Date(P.getFullYear(),P.getMonth(),1),j=new Date(P.getFullYear(),P.getMonth()+1,0);break;case"quarterly":const C=Math.floor(P.getMonth()/3);R=new Date(P.getFullYear(),C*3,1),j=new Date(P.getFullYear(),C*3+3,0);break;case"yearly":R=new Date(P.getFullYear(),0,1),j=new Date(P.getFullYear(),11,31);break;default:R=new Date,j=new Date}return{start:R,end:j}},[p]),w=B.useMemo(()=>{const P=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=k.start&&$<=k.end}),R=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,j=(k.end-k.start)/(1e3*60*60*24*30.44),C=R*j,A=P.reduce((F,$)=>F+($.revenue||0),0),I=P.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=A-I,O=L-C,D=O>0?O*(l/100):0;return{netProfit:O,estimatedTax:D,grossProfit:L,periodOperatingExpenses:C}},[t,e,r,l,k]),b=B.useMemo(()=>n.filter(P=>{const R=new Date(P.date);return R>=k.start&&R<=k.end}).reduce((P,R)=>P+(R.amount||0),0),[n,k]),N=w.estimatedTax-b,T=[{name:"Tax Liability","Estimated Tax":w.estimatedTax,"Taxes Paid":b}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),s.jsxs("select",{id:"filingStatus",value:d,onChange:P=>h(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[s.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),s.jsx("option",{value:"s-corp",children:"S-Corporation"}),s.jsx("option",{value:"c-corp",children:"C-Corporation"}),s.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),s.jsx("input",{id:"taxRate",type:"number",value:l,onChange:P=>c(parseFloat(P.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[s.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),s.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),s.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[s.jsx(ri,{title:`Estimated ${p} Net Profit`,value:`$${w.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(zr,{}),color:"blue"}),s.jsx(ri,{title:"Estimated Tax Liability",value:`$${w.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(zr,{}),color:"orange",subtext:w.netProfit<=0?"No tax on negative profit":""}),s.jsx(ri,{title:"Overpayment / (Underpayment)",value:`${N<0?"-":""}$${Math.abs(N).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(zr,{}),color:N<0?"green":"red",subtext:N<0?"You have overpaid":"Remaining balance due"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",s.jsx(Fd,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&s.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Gross Profit (from Jobs):"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.grossProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"- Est. Operating Expenses:"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.periodOperatingExpenses.toFixed(2)]})]}),s.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),s.jsxs("div",{className:"flex justify-between font-bold",children:[s.jsx("span",{children:"= Estimated Net Profit:"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.netProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["x Tax Rate (",l,"%):"]})," ",s.jsxs("span",{className:"font-mono",children:["$",w.estimatedTax.toFixed(2)]})]})]})]}),w.netProfit<=0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[s.jsx(L4,{size:20}),s.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),s.jsx(Nj,{width:"100%",height:200,children:s.jsxs(i$,{data:T,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[s.jsx(cN,{strokeDasharray:"3 3"}),s.jsx(Xh,{type:"number"}),s.jsx(Qh,{type:"category",dataKey:"name",hide:!0}),s.jsx(ma,{formatter:P=>`$${P.toLocaleString()}`}),s.jsx(Qs,{}),s.jsx(vi,{dataKey:"Estimated Tax",fill:"#f97316"}),s.jsx(vi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),s.jsxs("button",{onClick:()=>a("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Record Payment"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Date"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-right",children:"Amount"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:n.map(P=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:P.date}),s.jsx("td",{className:"p-3",children:P.notes}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(P.amount||0).toFixed(2)]}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>a("taxPayment",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>i("taxPayment",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(nr,{size:16})})]})]},P.id))})]})})]})]})},poe=({jobs:t,tasks:e,openModal:r})=>{const[n,a]=B.useState(new Date),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=c.getDay(),p=d.getDate(),m=[];for(let w=0;w<h;w++)m.push(null);for(let w=1;w<=p;w++)m.push(new Date(n.getFullYear(),n.getMonth(),w));const y=B.useMemo(()=>{const w={};return t.forEach(b=>{const N=new Date(b.date).toISOString().split("T")[0];w[N]||(w[N]=[]),w[N].push({...b,type:"job"})}),e.forEach(b=>{const N=new Date(b.date).toISOString().split("T")[0];w[N]||(w[N]=[]),w[N].push({...b,type:"task"})}),w},[t,e]),x=()=>{a(new Date(n.getFullYear(),n.getMonth()-1,1))},k=()=>{a(new Date(n.getFullYear(),n.getMonth()+1,1))};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(D4,{})}),s.jsxs("h2",{className:"text-xl font-bold",children:[l[n.getMonth()]," ",n.getFullYear()]}),s.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(tj,{})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add Task"]}),s.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add Job"]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[i.map(w=>s.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:w},w)),m.map((w,b)=>s.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${w?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>w&&r("task",{date:w.toISOString().split("T")[0]}),children:[w&&s.jsx("span",{className:"text-xs font-semibold",children:w.getDate()}),w&&y[w.toISOString().split("T")[0]]?.map(N=>s.jsx("div",{onClick:T=>{T.stopPropagation(),r(N.type,N)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${N.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:N.name||N.title},N.id))]},b))]})]})},moe=({item:t=null,type:e,onSave:r,onClose:n,debts:a=[],clients:i=[],vehicles:l=[]})=>{const[c,d]=B.useState({}),[h,p]=B.useState(null);B.useEffect(()=>{if(t)d(t);else{const b=m(e);d(b)}},[t,e]);const m=b=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[b]||{},y=b=>{const{name:N,value:T,type:P,checked:R}=b.target;d(j=>({...j,[N]:P==="checkbox"?R:T}))},x=b=>{if(b.preventDefault(),!c.name&&!c.title&&!c.billTo&&!c.customer){alert("Please fill in the required fields.");return}const N={...c};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(R=>{N[R]!==void 0&&N[R]!==""&&(N[R]=parseFloat(N[R])||0)}),e==="client"){if(N.isParent&&N.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}N.isParent?(N.companyType="parent",N.parentId=null):N.parentId?N.companyType="child":N.companyType="regular"}if(e==="invoice"){if(N.invoiceNumber||(N.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),N.transactionDate&&N.netTerms&&!N.dueDate){const R=new Date(N.transactionDate);let j=30;N.netTerms.includes("45")?j=45:N.netTerms.includes("15")?j=15:N.netTerms.includes("Due on Receipt")&&(j=0);const C=new Date(R);C.setDate(C.getDate()+j),N.dueDate=C.toISOString().split("T")[0]}N.status=N.invoiceStatus==="Paid"?"Paid":"Unpaid",N.net=N.grandTotal,N.invNum=N.invoiceNumber,N.jobNo=N.jobNumber,!N.grandTotal&&N.net&&(N.grandTotal=N.net)}r(N,h)},k=i.filter(b=>(b.isParent||b.companyType==="parent")&&(!t||b.id!==t.id)),w=()=>{switch(e){case"bill":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),s.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:c.dueDay||1,onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:c.category||"Utilities",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Utilities",children:"Utilities"}),s.jsx("option",{value:"Insurance",children:"Insurance"}),s.jsx("option",{value:"Vehicle",children:"Vehicle"}),s.jsx("option",{value:"Software",children:"Software"}),s.jsx("option",{value:"Overhead",children:"Overhead"}),s.jsx("option",{value:"Equipment",children:"Equipment"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isAutoPay",checked:c.isAutoPay||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),s.jsx("input",{type:"text",name:"creditor",value:c.creditor||"",onChange:y,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),s.jsxs("select",{name:"debtType",value:c.debtType||"Credit Card",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Credit Card",children:"Credit Card"}),s.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),s.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),s.jsx("option",{value:"Mortgage",children:"Mortgage"}),s.jsx("option",{value:"Student Loan",children:"Student Loan"}),s.jsx("option",{value:"Business Loan",children:"Business Loan"}),s.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:c.totalAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),s.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:c.paidAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),s.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:c.interestRate||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),s.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:c.minimumPayment||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),s.jsx("input",{type:"date",name:"dueDate",value:c.dueDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.totalAmount||c.paidAmount)&&s.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),s.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(c.totalAmount)||0)-(parseFloat(c.paidAmount)||0)).toFixed(2)]})]}),s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(c.totalAmount>0?(parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100:0,100)}%`}})}),s.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[c.totalAmount>0?((parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),s.jsxs("select",{name:"type",value:c.type||"monthly",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"annually",children:"Annually"}),s.jsx("option",{value:"one-time",children:"One-time"}),s.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"paused",children:"Paused"})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),c.amount&&parseFloat(c.amount)>0&&c.type&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[c.type||"Monthly",":"]}),s.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),s.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const b=parseFloat(c.amount);switch(c.type){case"weekly":return(b*4.33).toFixed(2);case"quarterly":return(b/3).toFixed(2);case"annually":return(b/12).toFixed(2);case"monthly":default:return b.toFixed(2)}})()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const b=parseFloat(c.amount);let N;switch(c.type){case"weekly":N=b*4.33;break;case"quarterly":N=b/3;break;case"annually":N=b/12;break;case"monthly":default:N=b;break}return(N*12).toLocaleString()})()]})]})]})]})]});case"weekly":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:c.category||"Other",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Payroll",children:"Payroll"}),s.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),s.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),s.jsx("option",{value:"Utilities",children:"Utilities"}),s.jsx("option",{value:"Insurance",children:"Insurance"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),s.jsx("option",{value:"Supplies",children:"Supplies"}),s.jsx("option",{value:"Contractors",children:"Contractors"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.amount&&parseFloat(c.amount)>0&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),s.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),s.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(c.amount)*4.33).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(c.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),s.jsxs("select",{name:"make",value:c.make||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select Make"}),s.jsx("option",{value:"FORD",children:"Ford"}),s.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),s.jsx("option",{value:"GMC",children:"GMC"}),s.jsx("option",{value:"TOYOTA",children:"Toyota"}),s.jsx("option",{value:"HONDA",children:"Honda"}),s.jsx("option",{value:"NISSAN",children:"Nissan"}),s.jsx("option",{value:"RAM",children:"Ram"}),s.jsx("option",{value:"DODGE",children:"Dodge"}),s.jsx("option",{value:"JEEP",children:"Jeep"}),s.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),s.jsx("option",{value:"KIA",children:"Kia"}),s.jsx("option",{value:"MAZDA",children:"Mazda"}),s.jsx("option",{value:"SUBARU",children:"Subaru"}),s.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),s.jsx("option",{value:"BMW",children:"BMW"}),s.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),s.jsx("option",{value:"AUDI",children:"Audi"}),s.jsx("option",{value:"LEXUS",children:"Lexus"}),s.jsx("option",{value:"ACURA",children:"Acura"}),s.jsx("option",{value:"INFINITI",children:"Infiniti"}),s.jsx("option",{value:"CADILLAC",children:"Cadillac"}),s.jsx("option",{value:"LINCOLN",children:"Lincoln"}),s.jsx("option",{value:"BUICK",children:"Buick"}),s.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),s.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:y,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),s.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:c.year||new Date().getFullYear(),onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),s.jsx("input",{type:"text",name:"color",value:c.color||"",onChange:y,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"In Maintenance"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"sold",children:"Sold"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),s.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:y,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),s.jsx("input",{type:"text",name:"licensePlate",value:c.licensePlate||"",onChange:y,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),s.jsx("input",{type:"number",min:"0",name:"currentMileage",value:c.currentMileage||"",onChange:y,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),s.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:c.lastServiceMileage||"",onChange:y,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),s.jsx("input",{type:"date",name:"registrationExpiry",value:c.registrationExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),s.jsx("input",{type:"date",name:"insuranceExpiry",value:c.insuranceExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),s.jsx("input",{type:"date",name:"nextServiceDue",value:c.nextServiceDue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.name||c.make||c.model)&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"🚗 Vehicle Preview"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:c.name||"Unnamed Vehicle"}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c.year," ",c.make," ",c.model,c.color&&` (${c.color})`]}),c.licensePlate&&s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",c.licensePlate]}),c.currentMileage&&s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(c.currentMileage).toLocaleString()," miles"]}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${c.status==="active"?"bg-green-100 text-green-800":c.status==="maintenance"?"bg-yellow-100 text-yellow-800":c.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status||"active"})]})]})]})]});case"client":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),s.jsx("textarea",{name:"address",value:c.address||"",onChange:y,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(nl,{size:16}),"Company Structure & Hierarchy"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:c.isParent||!1,onChange:y,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[s.jsx(Fa,{size:14}),"This is a parent company"]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!c.isParent&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),s.jsxs("select",{name:"parentId",value:c.parentId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"",children:"-- Independent Company --"}),k.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),k.length===0&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(L4,{size:12,className:"mt-0.5 flex-shrink-0"}),s.jsx("div",{children:c.isParent?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Can have multiple child locations/subsidiaries"}),s.jsx("li",{children:"• Appears in hierarchy view with all child companies"}),s.jsx("li",{children:"• Useful for corporate clients with multiple locations"})]})]}):c.parentId?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• This location will be grouped under the parent company"}),s.jsx("li",{children:"• Jobs and invoices can be tracked separately"}),s.jsx("li",{children:"• Parent company can see consolidated reports"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Standalone client with no parent/child relationships"}),s.jsx("li",{children:"• Can be converted to parent company later if needed"}),s.jsx("li",{children:"• Most common setup for individual businesses"})]})]})})]})}),(c.isParent||c.parentId)&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[s.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),c.isParent?s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(nl,{size:12}),c.name||"New Parent Company"]}),s.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:"└── Child companies can be added later"})]}):c.parentId&&s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(nl,{size:12}),k.find(b=>b.id===c.parentId)?.name||"Parent Company"]}),s.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[s.jsx("span",{children:"└──"}),s.jsx(Fa,{size:10}),c.name||"New Child Location"]})]})]})]})]})]});case"job":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),s.jsx("input",{type:"number",step:"0.01",name:"revenue",value:c.revenue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),s.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:c.materialCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),s.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:c.laborCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),s.jsxs("select",{name:"clientId",value:c.clientId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Select Client"}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]})]})]});case"maintenanceLog":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),s.jsxs("select",{name:"vehicleId",value:c.vehicleId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select Vehicle"}),l.map(b=>s.jsxs("option",{value:b.id,children:[b.name||"Unnamed"," - ",b.make," ",b.model]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),s.jsxs("select",{name:"type",value:c.type||"Oil Change",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"Oil Change",children:"Oil Change"}),s.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),s.jsx("option",{value:"Brake Service",children:"Brake Service"}),s.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),s.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),s.jsx("option",{value:"Inspection",children:"Inspection"}),s.jsx("option",{value:"A/C Service",children:"A/C Service"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),s.jsx("input",{type:"number",step:"0.01",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),s.jsx("input",{type:"number",name:"mileage",value:c.mileage||"",onChange:y,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),s.jsx("input",{type:"number",name:"nextServiceMileage",value:c.nextServiceMileage||"",onChange:y,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"📋 AppSheet Invoice Data"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),s.jsx("input",{type:"text",name:"invoiceNumber",value:c.invoiceNumber||"",onChange:y,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),s.jsx("input",{type:"text",name:"jobNumber",value:c.jobNumber||"",onChange:y,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),s.jsx("input",{type:"text",name:"customer",value:c.customer||"",onChange:y,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),s.jsx("input",{type:"text",name:"billTo",value:c.billTo||"",onChange:y,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:c.grandTotal||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:c.totalCost||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),s.jsxs("select",{name:"netTerms",value:c.netTerms||"Net 30",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Net 15",children:"Net 15"}),s.jsx("option",{value:"Net 30",children:"Net 30"}),s.jsx("option",{value:"Net 45",children:"Net 45"}),s.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),s.jsx("input",{type:"text",name:"serviceAddress",value:c.serviceAddress||"",onChange:y,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),s.jsx("textarea",{name:"description",value:c.description||"",onChange:y,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),s.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),s.jsx("input",{type:"date",name:"completedOn",value:c.completedOn||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),s.jsxs("select",{name:"invoiceStatus",value:c.invoiceStatus||"Open",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"Paid",children:"Paid"}),s.jsx("option",{value:"Overdue",children:"Overdue"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),s.jsxs("select",{name:"locationType",value:c.locationType||"Commercial",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Commercial",children:"Commercial"}),s.jsx("option",{value:"Residential",children:"Residential"}),s.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),s.jsxs("select",{name:"jobType",value:c.jobType||"Service Call",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Service Call",children:"Service Call"}),s.jsx("option",{value:"Installation",children:"Installation"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Repair",children:"Repair"}),s.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),c.grandTotal&&parseFloat(c.grandTotal)>0&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"💰 Invoice Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),s.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(c.grandTotal||0).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),s.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(c.totalCost||0).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(c.grandTotal||0)-parseFloat(c.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),s.jsx("input",{type:"number",min:"0",name:"quantity",value:c.quantity||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),s.jsx("input",{type:"text",name:"title",value:c.title||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isComplete",checked:c.isComplete||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),s.jsxs("select",{name:"type",value:c.type||"revenue",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"revenue",children:"Revenue"}),s.jsx("option",{value:"profit",children:"Profit"}),s.jsx("option",{value:"clients",children:"New Clients"}),s.jsx("option",{value:"jobs",children:"Completed Jobs"}),s.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),s.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:c.targetValue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),s.jsx("input",{type:"date",name:"deadline",value:c.deadline?c.deadline.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return s.jsxs("div",{children:["Form not implemented for type: ",e]})}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),s.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(co,{size:24})})]})}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[s.jsxs("div",{className:"space-y-4",children:[w(),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:c.notes||"",onChange:y,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b=>p(b.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsxs("button",{onClick:x,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},goe=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,y]=B.useState("All"),[x,k]=B.useState("All"),[w,b]=B.useState(!1),N=[{key:"status",header:"Status",render:O=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(O.id,O.status),children:O.status==="Paid"?s.jsx($a,{className:"text-green-500",size:20}):s.jsx(M4,{className:"text-slate-400 dark:text-slate-600",size:20})}),s.jsx(T,{status:O.invoiceStatus||O.status})]})},{key:"invoiceNumber",header:"Invoice #",render:O=>s.jsxs("div",{className:O.status==="Paid"?"opacity-60":"",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:O.invoiceNumber||`INV-${O.id}`}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",O.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:O=>s.jsxs("div",{className:O.status==="Paid"?"opacity-60":"",children:[s.jsx("div",{className:`font-medium ${O.status==="Paid"?"line-through":""}`,children:O.customer}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.billTo&&O.billTo!==O.customer?`Bill to: ${O.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:O=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(P,{jobType:O.jobType}),s.jsx(R,{priority:O.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:O=>s.jsxs("div",{className:`text-right ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsxs("div",{className:`font-mono font-bold ${O.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(O.grandTotal?.toString().replace(/[$,]/g,"")||O.grandTotal||0).toFixed(2)]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:O=>s.jsxs("div",{className:`text-center ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsx("div",{className:O.status==="Paid"?"line-through":"",children:O.dueDate||"N/A"}),O.daysElapsed>0&&O.status!=="Paid"&&s.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[O.daysElapsed," days elapsed"]}),j(O)&&s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:O=>s.jsxs("div",{className:`max-w-xs ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsx("div",{className:"text-sm truncate",title:O.description,children:O.description||"No description"}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.serviceAddress&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(E0,{size:10}),s.jsx("span",{className:"truncate",children:O.serviceAddress})]})})]})}],T=({status:O})=>{const D=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(O)}`,children:O||"Unknown"})},P=({jobType:O})=>{const D=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(O)}`,children:O||"N/A"})},R=({priority:O})=>{if(!O)return null;const D=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(O)}`,children:O})},j=O=>O.status==="Paid"||!O.dueDate?!1:new Date(O.dueDate)<new Date,C=B.useMemo(()=>{const O=t.reduce((J,oe)=>{const re=parseFloat(oe.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+re},0),D=t.filter(J=>J.status==="Paid"||J.invoiceStatus==="Paid"),F=D.reduce((J,oe)=>{const re=parseFloat(oe.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+re},0),te=t.filter(J=>J.status!=="Paid"&&J.invoiceStatus!=="Paid").reduce((J,oe)=>{const re=parseFloat(oe.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+re},0),ne=t.filter(J=>j(J));return{totalInvoices:t.length,totalAmount:O,paidAmount:F,outstandingAmount:te,overdueCount:ne.length,paidCount:D.length}},[t]),A=B.useMemo(()=>t.filter(O=>{const D=!a||String(O.invoiceNumber||"").toLowerCase().includes(a.toLowerCase())||String(O.customer||"").toLowerCase().includes(a.toLowerCase())||String(O.vehicleId||"").toLowerCase().includes(a.toLowerCase()),F=m==="all"||O.status===m,$=x==="all"||O.priority===x;return D&&F&&$}),[t,a,m,x]),I=O=>{O.target.checked?c(A.map(D=>D.id)):c([])},L=()=>{const O=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=A.map(J=>[J.invoiceNumber||`INV-${J.id}`,J.jobNumber||"",J.customer||"",J.billTo||"",J.grandTotal||"",J.totalCost||"",J.netTerms||"",J.transactionDate||"",J.dueDate||"",J.paymentDate||"",J.completedOn||"",J.invoiceStatus||J.status||"",J.terms||"",J.priority||"",J.description||"",J.serviceAddress||"",J.locationType||"",J.jobType||"",J.lineItems||"",J.payments||"",J.daysElapsed||0,J.company||"Mechanical Temp",J.division||"HVAC & Refrigeration"]),F=[O,...D].map(J=>J.map(oe=>`"${oe}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),te=URL.createObjectURL($),ne=document.createElement("a");ne.href=te,ne.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ne.click(),URL.revokeObjectURL(te)};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(eA,{className:"text-blue-600 dark:text-blue-400",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices • Last sync: 2 hours ago"]})]})]}),s.jsxs("button",{onClick:()=>b(!w),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(eA,{size:16}),"Sync Now"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(In,{className:"text-slate-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:C.totalInvoices}),s.jsxs("div",{className:"text-sm text-slate-500",children:["$",C.totalAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx($a,{className:"text-green-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.paidCount}),s.jsxs("div",{className:"text-sm text-green-600",children:["$",C.paidAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(N0,{className:"text-orange-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-C.paidCount}),s.jsxs("div",{className:"text-sm text-orange-600",children:["$",C.outstandingAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(Bh,{className:"text-red-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.overdueCount}),s.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",A.length," of ",t.length," invoices"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:O=>i(O.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.jsxs("select",{value:m,onChange:O=>y(O.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"Paid",children:"Paid"}),s.jsx("option",{value:"Sent",children:"Sent"}),s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"Overdue",children:"Overdue"})]}),s.jsxs("select",{value:x,onChange:O=>k(O.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[s.jsx("option",{value:"All",children:"All Priority"}),s.jsx("option",{value:"ER",children:"Emergency"}),s.jsx("option",{value:"URG",children:"Urgent"}),s.jsx("option",{value:"STD",children:"Standard"})]}),l.length>0&&s.jsxs("button",{onClick:()=>n("invoice",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(nr,{size:16})," Delete (",l.length,")"]}),s.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:O=>d(O.target.files[0],"invoice")}),s.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(lo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Export AppSheet CSV"]}),s.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add New"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:I,checked:l.length===A.length&&A.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),N.map(O=>s.jsx("th",{className:`p-3 ${O.className||""}`,children:O.header},O.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:A.map(O=>s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${O.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:l.includes(O.id),onChange:()=>{c(D=>D.includes(O.id)?D.filter(F=>F!==O.id):[...D,O.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),N.map(D=>s.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(O)},D.key)),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:s.jsx(Oq,{size:16})}),s.jsx("button",{onClick:()=>e("invoice",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("invoice",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:s.jsx(nr,{size:16})})]})})]},O.id))})]})}),A.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(In,{className:"mx-auto text-slate-400 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},voe=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},s$=rk(voe),Ra=e4(s$),yoe=fk(s$),ti=typeof __app_id<"u"?__app_id:"hvac-scheduler-app",xoe=[{id:"1",name:"Synergy Management",type:"National Account",contact:{name:"Sarah Connor",email:"s.connor@synergy.com",phone:"555-0101"},billingAddress:{street:"100 Main St",city:"Southfield",state:"MI",zip:"48075"},locations:[{name:"Lane Bryant",locNum:"4826",city:"LIVONIA",state:"MI"},{name:"Lane Bryant",locNum:"6065",city:"LATHRUP VLG",state:"MI"}]},{id:"2",name:"Retail Maintenance Inc.",type:"National Account",contact:{name:"Bob Belcher",email:"bob@rmi.com",phone:"555-0102"},billingAddress:{street:"200 Corporate Dr",city:"Troy",state:"MI",zip:"48084"},locations:[{name:"Value City Furniture",locNum:"175",city:"NOVI",state:"MI"},{name:"Value City Furniture",locNum:"188",city:"CANTON TWP",state:"MI"}]},{id:"3",name:"Mr. Henderson",type:"Residential",contact:{name:"James Henderson",email:"j.henderson@email.com",phone:"555-0103"},billingAddress:{street:"123 Oak Ave",city:"Southfield",state:"MI",zip:"48076"},locations:[{name:"Primary Residence",locNum:"N/A",city:"SOUTHFIELD",state:"MI"}]}],boe=[{"WO#":"6748425-01",clientWO:"SYN-10234",Client:"Synergy Management",Company:"Lane Bryant","Loc #":"4826",Category:"Heating & Cooling",Task:"HVAC Fall Startup","Created Date":45852.5421875,"Schedule Date":45900,startTime:"09:00",endTime:"11:00",City:"LIVONIA",State:"MI",NTE:150.5,technician:["John Smith","Jane Doe"],notes:[],Priority:"Low","Order Status":"Scheduled"},{"WO#":"6694098-01",clientWO:"RMI-55912",Client:"Retail Maintenance Inc.",Company:"Value City Furniture","Loc #":"175",Category:"Heating & Cooling",Task:"AC Leak","Created Date":45792.889,"Schedule Date":45900,startTime:"14:00",endTime:"16:30","Completed Date":45812.498,City:"NOVI",State:"MI",NTE:750,technician:["John Smith"],notes:[{text:"Customer reported leak from ceiling unit.",timestamp:"2025-06-20T14:00:00Z"}],Priority:"Urgent","Order Status":"Completed"},{"WO#":"6693039-01",clientWO:"NSG-345-A",Client:"National Service Group",Company:"Floor & Decor","Loc #":"230",Category:"Heating & Cooling",Task:"Too Hot","Created Date":45791.847,"Schedule Date":null,startTime:null,endTime:null,City:"MADISON HTS",State:"MI",NTE:2500,technician:[],notes:[{text:"Manager called, says store is unbearable.",timestamp:"2025-06-20T09:30:00Z"}],Priority:"Emergency","Order Status":"Open"}].map(t=>({...t,id:t["WO#"]})),woe=[{id:"1",name:"John Smith",email:"john.s@example.com",phone:"555-1111",status:"Available"},{id:"2",name:"Jane Doe",email:"jane.d@example.com",phone:"555-2222",status:"On Site"},{id:"3",name:"Mike Rowe",email:"mike.r@example.com",phone:"555-3333",status:"On Call"},{id:"4",name:"Sarah Jenkins",email:"sarah.j@example.com",phone:"555-4444",status:"Day Off"}],uN=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,dN=t=>t?t.getTime()/864e5+25569:null,hN=t=>{const e=uN(t);return e?e.toISOString().split("T")[0]:""},fN=t=>t?dN(new Date(t+"T00:00:00")):null,gd=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${a}`},o$=t=>{const e=uN(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},_oe=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",n0=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),kh=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",koe=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",joe=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Noe=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Soe=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>s.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?s.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:s.jsx(Tq,{size:24})}):s.jsx(Ds,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Schedule Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(In,{size:20})," Billing"]}),s.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Iq,{size:20})," Reporting"]}),s.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx($q,{size:20})," Route"]}),s.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(ej,{size:20})," Dispatch"]}),s.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Fa,{size:20})," Customers"]}),s.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(rj,{size:20})," Technicians"]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(an,{size:20})," Add Work Order"]})]})]})})}),Eoe=({order:t,onSelectOrder:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:kh(t.Priority).borderColor},children:[s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${kh(t.Priority)}`,children:t.Priority}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${koe(t["Order Status"])}`,children:t["Order Status"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[s.jsx(R4,{size:12,className:"mr-1.5"})," ",t.Client]}),s.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rj,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ej,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsxs("span",{children:["Scheduled: ",o$(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${gd(t.startTime)})`]})]}),t.clientWO&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),s.jsx("span",{children:t.clientWO})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-5 py-3",children:s.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),Toe=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:a,setStatusFilter:i})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:l=>n(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsxs("select",{value:a,onChange:l=>i(l.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Open"}),s.jsx("option",{children:"Scheduled"}),s.jsx("option",{children:"In Progress"}),s.jsx("option",{children:"On Hold"}),s.jsx("option",{children:"Completed"}),s.jsx("option",{children:"Cancelled"})]}),s.jsx(Fd,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>s.jsx(Eoe,{order:l,onSelectOrder:e},l.id))}):s.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Aoe=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[a,i]=B.useState(new Date().toISOString().split("T")[0]),l=Array.from({length:13},(b,N)=>N+7),c=e.filter(b=>b.name!=="Unassigned"),d=b=>{const N=c.findIndex(T=>T.name===b);return N===-1?-1:N+2},h=b=>{if(!b)return 0;const[N,T]=b.split(":").map(Number);return isNaN(N)||isNaN(T)?0:(N-7)*4+T/15+2},p=t.filter(b=>hN(b["Schedule Date"])===a&&b.startTime&&b.endTime&&b.technician?.length>0),m=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,N)=>{const T={Emergency:1,Urgent:2,Regular:3,Low:4};return(T[b.Priority]||5)-(T[N.Priority]||5)}),y=(b,N)=>{b.dataTransfer.setData("workOrder",JSON.stringify(N))},x=(b,N,T)=>{b.preventDefault();const P=JSON.parse(b.dataTransfer.getData("workOrder")),R=T,j=`${String(parseInt(T.split(":")[0])+2).padStart(2,"0")}:${T.split(":")[1]}`;n(P.id,{technician:[N],"Schedule Date":fN(a),startTime:R,endTime:j,"Order Status":"Scheduled"})},k=b=>{b.preventDefault();const N=JSON.parse(b.dataTransfer.getData("workOrder"));n(N.id,{technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},w=b=>b.preventDefault();return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),s.jsx("input",{type:"date",value:a,onChange:b=>i(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:k,onDragOver:w,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),s.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(b=>s.jsxs("div",{draggable:!0,onDragStart:N=>y(N,b),className:`p-2 border-l-4 rounded cursor-grab ${kh(b.Priority)}`,children:[s.jsx("p",{className:"font-bold text-sm",children:b.Company}),s.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),s.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:s.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${c.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${l.length*4}, 20px)`},children:[s.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),c.map(b=>s.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[s.jsx("span",{children:b.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${Noe(b.status)}`,children:b.status})]},b.id)),l.map(b=>s.jsxs(X.Fragment,{children:[s.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),c.map((N,T)=>s.jsx(X.Fragment,{children:Array.from({length:4}).map((P,R)=>s.jsx("div",{onDrop:j=>x(j,N.name,`${String(b).padStart(2,"0")}:${String(R*15).padStart(2,"0")}`),onDragOver:w,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+R+2,gridColumn:T+2}},`${N.id}-${b}-${R}`))},N.id))]},b)),p.flatMap(b=>b.technician.map(N=>{const T=d(N),P=h(b.startTime),R=h(b.endTime);return T<0||!P||!R||R<=P?null:s.jsxs("div",{draggable:!0,onDragStart:j=>y(j,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${kh(b.Priority)}`,style:{gridColumn:T,gridRow:`${P} / ${R}`},onClick:()=>r(b),children:[s.jsx("p",{className:"font-bold truncate",children:b.Company}),s.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${N}`)}))]})})]})]})},Coe=({workOrders:t,technicians:e})=>{const[r,n]=B.useState("ALL"),[a,i]=B.useState("today"),[l,c]=B.useState(new Date().toISOString().split("T")[0]),[d,h]=B.useState(new Date().toISOString().split("T")[0]),p=B.useMemo(()=>{let x=new Date,k=new Date;switch(a){case"today":x=new Date,k=new Date;break;case"3-day":x=new Date,k=new Date,k.setDate(x.getDate()+2);break;case"week":x=new Date;const N=x.getDay();x.setDate(x.getDate()-N),k.setDate(x.getDate()+6);break;case"custom":x=new Date(l+"T00:00:00"),k=new Date(d+"T00:00:00");break}const w=t.filter(N=>{const T=uN(N["Schedule Date"]);return T>=x&&T<=k}),b=e.find(N=>N.id===r)?.name;return r!=="ALL"?w.filter(N=>N.technician.includes(b)).sort((N,T)=>(N.startTime||"").localeCompare(T.startTime||"")):w.sort((N,T)=>(N.startTime||"").localeCompare(T.startTime||""))},[r,t,e,a,l,d]),m=B.useMemo(()=>p.reduce((x,k)=>{const w=hN(k["Schedule Date"]);return x[w]||(x[w]={}),k.technician.forEach(b=>{x[w][b]||(x[w][b]=[]),x[w][b].push(k)}),x},{}),[p]),y=()=>window.print();return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"3-day",children:"Next 3 Days"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"custom",children:"Custom Range"})]}),a==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",value:l,onChange:x=>c(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),s.jsx("input",{type:"date",value:d,onChange:x=>h(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("select",{value:r,onChange:x=>n(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]}),s.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[s.jsx(Bq,{size:20})," Print Route"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(m).length>0?Object.entries(m).map(([x,k])=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(k).map(([w,b])=>s.jsxs("div",{className:"mb-4",children:[r==="ALL"&&s.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:w}),s.jsx("div",{className:"space-y-2",children:b.map((N,T)=>s.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[s.jsx("span",{className:"text-xl font-bold text-gray-400",children:T+1}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:[gd(N.startTime)," - ",gd(N.endTime)]}),s.jsxs("p",{children:[N.Company," - ",N.City]}),s.jsx("p",{className:"text-sm text-gray-600",children:N.Task})]})]},N.id))})]},w))]},x)):s.jsx("p",{children:"No jobs scheduled for this selection."})]}),s.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:s.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),s.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),s.jsxs("div",{className:"print-container hidden print:block",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(l+"T00:00:00").toLocaleDateString()]}),Object.entries(m).map(([x,k])=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(k).map(([w,b])=>s.jsxs("div",{className:"mb-2",children:[s.jsx("h4",{className:"font-semibold text-md mt-2",children:w}),b.map((N,T)=>s.jsxs("div",{className:"p-2 border-b",children:[s.jsx("p",{children:s.jsxs("strong",{children:[T+1,". ",gd(N.startTime)," - ",gd(N.endTime),": ",N.Company]})}),s.jsxs("p",{children:[N.Task," at ",N.City,", ",N.State]})]},N.id))]},w))]},x))]})]})},Poe=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[a,i]=B.useState(!1),[l,c]=B.useState(null),[d,h]=B.useState(null);return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(an,{size:20})," Add New Customer"]})]}),s.jsx("div",{className:"space-y-4",children:t.map(p=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${joe(p.type)}`,children:p.type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),s.jsx("button",{onClick:()=>h(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(rj,{size:14})," ",p.contact.name]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(sm,{size:14})," ",p.contact.email]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(om,{size:14})," ",p.contact.phone]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),s.jsx("p",{children:p.billingAddress.street}),s.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),s.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,y)=>s.jsxs("div",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${y}`))})]})]},p.id))}),a&&s.jsx(Roe,{onAddCustomer:e,onClose:()=>i(!1)}),l&&s.jsx(Doe,{customer:l,onUpdateCustomer:r,onClose:()=>c(null)}),d&&s.jsx(Moe,{customer:d,onAddLocation:n,onClose:()=>h(null)})]})},Ioe=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[a,i]=B.useState(!1),[l,c]=B.useState(null);return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(an,{size:20})," Add New Technician"]})]}),s.jsx("div",{className:"space-y-4",children:t.map(d=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(sm,{size:14})," ",d.email]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(om,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:s.jsx(nr,{size:16})})]})]},d.id))}),a&&s.jsx(Foe,{onAdd:e,onClose:()=>i(!1)}),l&&s.jsx(Voe,{technician:l,onUpdate:r,onClose:()=>c(null)})]})},Ooe=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:a})=>{if(!t)return null;const[i,l]=B.useState(t["Order Status"]),[c,d]=B.useState(t.technician||[]),[h,p]=B.useState(hN(t["Schedule Date"])),[m,y]=B.useState(t.startTime||""),[x,k]=B.useState(t.endTime||""),[w,b]=B.useState(""),[N,T]=B.useState(t.clientWO||""),P=C=>{const A=c.includes(C)?c.filter(I=>I!==C):[...c,C];d(A)},R=()=>{const C={};i!==t["Order Status"]&&(C["Order Status"]=i,i==="Completed"&&!t["Completed Date"]&&(C["Completed Date"]=dN(new Date))),JSON.stringify(c)!==JSON.stringify(t.technician)&&(C.technician=c);const A=fN(h);(A!==t["Schedule Date"]||m!==t.startTime||x!==t.endTime)&&(C["Schedule Date"]=A,C.startTime=m,C.endTime=x,i==="Open"&&h&&(C["Order Status"]="Scheduled")),N!==t.clientWO&&(C.clientWO=N),Object.keys(C).length>0&&r(t.id,C)},j=[{label:"Work Order #",value:t["WO#"],icon:s.jsx(Ds,{})},{label:"Client WO#",value:t.clientWO,icon:s.jsx(R4,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:s.jsx(nl,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:s.jsx(E0,{})},{label:"Priority",value:t.Priority,icon:s.jsx(Bh,{}),style:kh(t.Priority)+" px-2 py-0.5 rounded-full text-xs font-semibold"},{label:"Task",value:t.Task},{label:"NTE Amount",value:n0(t.NTE)},{label:"Created Date",value:o$(t["Created Date"])}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:s.jsx(co,{size:28})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:j.map(C=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:C.label}),s.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${C.style||""}`,children:[C.icon&&s.jsx("span",{className:"text-gray-400",children:X.cloneElement(C.icon,{size:16})}),s.jsx("span",{className:C.style||"",children:C.value})]})]},C.label))}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),s.jsxs("select",{value:i,onChange:C=>l(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Open"}),s.jsx("option",{children:"Scheduled"}),s.jsx("option",{children:"In Progress"}),s.jsx("option",{children:"On Hold"}),s.jsx("option",{children:"Completed"}),s.jsx("option",{children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),s.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:a.filter(C=>C.name!=="Unassigned").map(C=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`tech-${C.id}`,checked:c.includes(C.name),onChange:()=>P(C.name),className:"mr-2"}),s.jsx("label",{htmlFor:`tech-${C.id}`,children:C.name})]},C.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),s.jsx("input",{type:"date",value:h,onChange:C=>p(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:m,onChange:C=>y(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:x,onChange:C=>k(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),s.jsx("input",{type:"text",value:N,onChange:C=>T(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:R,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx($4,{size:20,className:"mr-2"}),"Work Notes"]}),s.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((C,A)=>new Date(A.timestamp)-new Date(C.timestamp)).map((C,A)=>s.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[s.jsx("p",{className:"text-gray-800",children:C.text}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:_oe(C.timestamp)})]},A)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("textarea",{value:w,onChange:C=>b(C.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{onClick:()=>n(t.id,w,()=>b("")),disabled:!w.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},Roe=({onClose:t,onAddCustomer:e})=>{const[r,n]=B.useState(""),[a,i]=B.useState("Commercial"),[l,c]=B.useState(""),[d,h]=B.useState(""),[p,m]=B.useState(""),[y,x]=B.useState(""),[k,w]=B.useState(""),[b,N]=B.useState("MI"),[T,P]=B.useState(""),R=j=>{if(j.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:a,contact:{name:l,email:d,phone:p},billingAddress:{street:y,city:k,state:b,zip:T},locations:[]}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:R,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),s.jsx("input",{type:"text",value:r,onChange:j=>n(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),s.jsxs("select",{value:a,onChange:j=>i(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Commercial"}),s.jsx("option",{children:"Residential"}),s.jsx("option",{children:"National Account"}),s.jsx("option",{children:"Maintenance"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Name"}),s.jsx("input",{value:l,onChange:j=>c(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Email"}),s.jsx("input",{value:d,onChange:j=>h(j.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Phone"}),s.jsx("input",{value:p,onChange:j=>m(j.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Billing Address"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-xs",children:"Street"}),s.jsx("input",{value:y,onChange:j=>x(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"City"}),s.jsx("input",{value:k,onChange:j=>w(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"State"}),s.jsx("input",{value:b,onChange:j=>N(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Zip"}),s.jsx("input",{value:T,onChange:j=>P(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},Doe=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,a]=B.useState(t),i=(c,d=null)=>{const{name:h,value:p}=c.target;a(d?m=>({...m,[d]:{...m[d],[h]:p}}):m=>({...m,[h]:p}))},l=c=>{c.preventDefault(),r(n),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),s.jsxs("select",{name:"type",value:n.type,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Commercial"}),s.jsx("option",{children:"Residential"}),s.jsx("option",{children:"National Account"}),s.jsx("option",{children:"Maintenance"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Name"}),s.jsx("input",{name:"name",value:n.contact.name,onChange:c=>i(c,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Email"}),s.jsx("input",{name:"email",value:n.contact.email,onChange:c=>i(c,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Phone"}),s.jsx("input",{name:"phone",value:n.contact.phone,onChange:c=>i(c,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Billing Address"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-xs",children:"Street"}),s.jsx("input",{name:"street",value:n.billingAddress.street,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"City"}),s.jsx("input",{name:"city",value:n.billingAddress.city,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"State"}),s.jsx("input",{name:"state",value:n.billingAddress.state,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Zip"}),s.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Moe=({customer:t,onClose:e,onAddLocation:r})=>{const[n,a]=B.useState("");the;const[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("MI"),m=y=>{if(y.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:i,city:c,state:h}),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),s.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),s.jsx("input",{type:"text",value:i,onChange:y=>l(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),s.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),s.jsx("input",{type:"text",value:h,onChange:y=>p(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Loe=({onClose:t,onAddOrder:e,customers:r})=>{const[n,a]=B.useState(r[0]?.id||""),[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("Regular"),[m,y]=B.useState("Heating & Cooling"),[x,k]=B.useState(""),[w,b]=B.useState(""),[N,T]=B.useState(""),[P,R]=B.useState(""),[j,C]=B.useState(""),A=B.useMemo(()=>r.find(O=>O.id===n),[n,r]);B.useEffect(()=>{if(A?.locations?.[0]){const O=A.locations[0];l(`${O.name}-${O.locNum}-0`)}else l("")},[A]);const I=O=>{l(O)},L=O=>{O.preventDefault();const[D,F]=i.split("-").slice(0,2),$=A.locations.find(te=>te.name===D&&te.locNum===F);if(!n||!$||!c){alert("Please fill out all required fields.");return}e({Client:A.name,Company:$.name,"Loc #":$.locNum,Task:c,Priority:h,Category:m,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":fN(w),startTime:N,endTime:P,clientWO:j})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),s.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(co,{size:28})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),s.jsx("select",{value:n,onChange:O=>a(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})]}),A&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),s.jsx("select",{value:i,onChange:O=>I(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:A.locations.map((O,D)=>s.jsxs("option",{value:`${O.name}-${O.locNum}-${D}`,children:[O.name," (#",O.locNum,")"]},`${O.name}-${O.locNum}-${D}`))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),s.jsx("input",{type:"text",value:j,onChange:O=>C(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),s.jsx("textarea",{value:c,onChange:O=>d(O.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),s.jsxs("select",{value:h,onChange:O=>p(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Regular"}),s.jsx("option",{children:"Low"}),s.jsx("option",{children:"Urgent"}),s.jsx("option",{children:"Emergency"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),s.jsxs("select",{value:m,onChange:O=>y(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Heating & Cooling"}),s.jsx("option",{children:"Refrigeration"}),s.jsx("option",{children:"Maintenance"}),s.jsx("option",{children:"Plumbing"}),s.jsx("option",{children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),s.jsx("input",{type:"number",value:x,onChange:O=>k(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),s.jsx("input",{type:"date",value:w,onChange:O=>b(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:N,onChange:O=>T(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:P,onChange:O=>R(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},$oe=()=>{const[t,e]=B.useState(boe),[r,n]=B.useState(xoe),[a,i]=B.useState(woe),[l,c]=B.useState([]),[d,h]=B.useState([]),[p,m]=B.useState(!0),[y,x]=B.useState(null),[k,w]=B.useState(""),[b,N]=B.useState("All"),[T,P]=B.useState(null),[R,j]=B.useState(!1),[C,A]=B.useState("dashboard");B.useEffect(()=>{let G=null,ee=null;return(async()=>{try{await WV(yoe);const K=ni(Ra,"apps",ti,"invoices"),Y=ni(Ra,"apps",ti,"quotes");G=_c(K,ie=>{const me=ie.docs.map(ce=>({id:ce.id,...ce.data()}));c(me)}),ee=_c(Y,ie=>{const me=ie.docs.map(ce=>({id:ce.id,...ce.data()}));h(me)})}catch(K){console.error("Billing load error:",K),x(K?.message||"Failed to load billing.")}finally{m(!1)}})(),()=>{G&&G(),ee&&ee()}},[]);const I=B.useMemo(()=>t.filter(G=>(b==="All"||G["Order Status"]===b)&&Object.values(G).some(ee=>String(ee).toLowerCase().includes(k.toLowerCase()))),[t,k,b]),L=(G,ee)=>{e(t.map(W=>W.id===G?{...W,...ee}:W)),P(W=>({...W,...ee}))},O=(G,ee,W)=>{if(!ee.trim())return;const K={text:ee.trim(),timestamp:new Date().toISOString()},Y=t.map(ie=>ie.id===G?{...ie,notes:[...ie.notes||[],K]}:ie);e(Y),P(ie=>({...ie,notes:[...ie.notes||[],K]})),W()},D=async G=>{const ee=`WO-${Date.now()}`;await C_(fr(Ra,"artifacts",ti,"public","data","hvac_work_orders",ee),{...G,"WO#":ee,id:ee,"Created Date":dN(new Date),"Order Status":G["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]}),j(!1)},F=async G=>{await addDoc(ni(Ra,"artifacts",ti,"public","data","hvac_customers"),G)},$=async G=>{await tl(fr(Ra,"artifacts",ti,"public","data","hvac_customers",G.id),G)},te=async(G,ee)=>{const W=r.find(K=>K.id===G);await tl(fr(Ra,"artifacts",ti,"public","data","hvac_customers",G),{locations:[...W.locations,ee]})},ne=async G=>{await addDoc(ni(Ra,"artifacts",ti,"public","data","hvac_technicians"),G)},J=async G=>{await tl(fr(Ra,"artifacts",ti,"public","data","hvac_technicians",G.id),G)},oe=async G=>{const ee=a.find(W=>W.id===G);if(ee){const W=writeBatch(Ra);t.forEach(K=>{if(K.technician.includes(ee.name)){const Y=K.technician.filter(ie=>ie!==ee.name);W.update(fr(Ra,"artifacts",ti,"public","data","hvac_work_orders",K.id),{technician:Y})}}),W.delete(fr(Ra,"artifacts",ti,"public","data","hvac_technicians",G)),await W.commit()}},re=()=>{switch(C){case"customers":return s.jsx(Poe,{customers:r,onAddCustomer:F,onUpdateCustomer:$,onAddLocation:te});case"dispatch":return s.jsx(Aoe,{workOrders:t,technicians:a,onSelectOrder:P,onUpdateOrder:L});case"technicians":return s.jsx(Ioe,{technicians:a,onAddTechnician:ne,onUpdateTechnician:J,onDeleteTechnician:oe});case"route":return s.jsx(Coe,{workOrders:t,technicians:a});case"reporting":return s.jsx(Boe,{workOrders:t,technicians:a});case"billing":return s.jsx(Uoe,{invoices:l,quotes:d});case"dashboard":default:return s.jsx(Toe,{orders:I,onSelectOrder:P,searchTerm:k,setSearchTerm:w,statusFilter:b,setStatusFilter:N})}};return s.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[s.jsx(Soe,{currentView:C,setCurrentView:A,onAddOrderClick:()=>j(!0)}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:re()}),T&&s.jsx(Ooe,{order:T,onClose:()=>P(null),onUpdate:L,onAddNote:O,technicians:a}),R&&s.jsx(Loe,{customers:r,onAddOrder:D,onClose:()=>j(!1)})]})},Foe=({onClose:t,onAdd:e})=>{const[r,n]=B.useState(""),[a,i]=B.useState(""),[l,c]=B.useState(""),d=h=>{h.preventDefault(),r.trim()&&(e({name:r,email:a,phone:l,status:"Available"}),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),s.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:h=>i(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:l,onChange:h=>c(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},Voe=({technician:t,onClose:e,onUpdate:r})=>{const[n,a]=B.useState(t),i=c=>a(d=>({...d,[c.target.name]:c.target.value})),l=c=>{c.preventDefault(),r(n),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:n.status,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Available"}),s.jsx("option",{children:"En Route"}),s.jsx("option",{children:"On Site"}),s.jsx("option",{children:"On Break"}),s.jsx("option",{children:"On Call"}),s.jsx("option",{children:"Day Off"})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Boe=({workOrders:t,technicians:e})=>{const r=t.filter(h=>h["Order Status"]==="Completed"),n=t.filter(h=>["Open","Scheduled","In Progress"].includes(h["Order Status"])),a=r.reduce((h,p)=>h+(p.NTE||0),0),i=B.useMemo(()=>e.filter(p=>p.name!=="Unassigned").map(p=>{const m=t.filter(y=>y.technician.includes(p.name)&&y["Order Status"]==="Completed").length;return{name:p.name,count:m}}).sort((p,m)=>m.count-p.count),[t,e]),l=Math.max(...i.map(h=>h.count),0),c=h=>h===0?"text-yellow-500":h===1?"text-gray-400":h===2?"text-yellow-600":"text-gray-400",d=()=>{const h=document.getElementById("reporting-view");html2canvas(h).then(p=>{const m=p.toDataURL("image/png"),y=new jspdf.jsPDF,x=y.internal.pageSize.getWidth(),k=p.height*x/p.width;y.addImage(m,"PNG",0,0,x,k),y.save("hvac-report.pdf")})};return s.jsxs(s.Fragment,{children:[s.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"}),s.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"}),s.jsxs("div",{id:"reporting-view",className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reporting Dashboard"}),s.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[s.jsx(S0,{size:20})," Download PDF"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Open/Active Jobs"}),s.jsx("p",{className:"text-5xl font-bold text-yellow-600",children:n.length})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-5xl font-bold text-green-600",children:r.length})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Potential Revenue"}),s.jsx("p",{className:"text-5xl font-bold text-blue-600",children:n0(a)})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Technician Leaderboard"}),s.jsx("div",{className:"space-y-4",children:i.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 text-center",children:p<3?s.jsx(Cq,{size:24,className:c(p)}):s.jsx("span",{className:"text-lg font-bold text-gray-400",children:p+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold",children:h.name}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-1",children:s.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:`${l>0?h.count/l*100:0}%`}})})]}),s.jsx("div",{className:"w-12 text-right font-bold text-lg",children:h.count})]},h.name))})]})]})]})},Uoe=({invoices:t,quotes:e})=>{const[r,n]=B.useState("invoices");return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(an,{size:20})," Create Quote"]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex gap-6",children:[s.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),s.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),s.jsxs("div",{className:"mt-6",children:[r==="invoices"&&s.jsx("div",{children:t.map(a=>s.jsxs("div",{children:[a.id," - ",a.customerName," - ",n0(a.amount)," - ",a.status]},a.id))}),r==="quotes"&&s.jsx("div",{children:e.map(a=>s.jsxs("div",{children:[a.id," - ",a.customerName," - ",n0(a.amount)," - ",a.status]},a.id))})]})]})},qoe=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,y]=B.useState("name"),[x,k]=B.useState("asc"),[w,b]=B.useState("all"),[N,T]=B.useState("all"),[P,R]=B.useState("hierarchy"),[j,C]=B.useState(new Set),[A,I]=B.useState(!1),[L,O]=B.useState(!1),[D,F]=B.useState(""),[$,te]=B.useState(null),ne=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),J=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),oe=B.useMemo(()=>{let q=t.filter(de=>{const _e=(de.name||"").toLowerCase().includes(a.toLowerCase())||(de.address||"").toLowerCase().includes(a.toLowerCase())||(de.email||"").toLowerCase().includes(a.toLowerCase())||(de.phone||"").includes(a),Ie=w==="all"||w==="parent"&&(!de.parentId||de.parentId==="")||w==="location"&&de.parentId&&de.parentId!==""||w==="unassigned"&&(!de.parentId||de.parentId==="")||w==="active"&&de.status==="Active"||w==="inactive"&&de.status==="Inactive",Ue=N==="all"||de.parentId===N||de.id===N;return _e&&Ie&&Ue});return q.sort((de,_e)=>{let Ie=de[m]||"",Ue=_e[m]||"";return m==="name"&&(Ie=Ie.toLowerCase(),Ue=Ue.toLowerCase()),x==="asc"?Ie<Ue?-1:Ie>Ue?1:0:Ie>Ue?-1:Ie<Ue?1:0}),q},[t,a,m,x,w,N]),re=B.useMemo(()=>oe.filter(de=>!de.parentId||de.parentId==="").map(de=>({...de,children:oe.filter(_e=>_e.parentId===de.id)})),[oe]),G=q=>{m===q?k(x==="asc"?"desc":"asc"):(y(q),k("asc"))},ee=q=>{const de=new Set(j);de.has(q)?de.delete(q):de.add(q),C(de)},W=q=>{q.target.checked?c(oe.map(de=>de.id)):c([])},K=()=>{if(l.length>0&&D){const q=l.map(de=>({id:de,parentId:D}));p&&p("client",q),c([]),O(!1),F("")}},Y=()=>{if(l.length>0){const q=l.map(de=>({id:de,parentId:""}));p&&p("client",q),c([])}},ie=(q,de)=>{te(de),q.dataTransfer.effectAllowed="move"},me=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},ce=(q,de)=>{if(q.preventDefault(),$&&$.id!==de.id){const _e={id:$.id,parentId:de.id};p&&p("client",[_e])}te(null)},he=q=>{const de=t.filter(_e=>_e.parentId===q.id).map(_e=>_e.id);c(_e=>{const Ie=new Set([..._e,q.id,...de]);return Array.from(Ie)})},be=({client:q,isChild:de=!1,parent:_e=null})=>s.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${de?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${l.includes(q.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!de,onDragStart:Ie=>ie(Ie,q),onDragOver:me,onDrop:Ie=>!de&&ce(Ie,q),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",checked:l.includes(q.id),onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])},className:"rounded"}),de?s.jsx(nl,{className:"h-4 w-4 text-blue-500"}):s.jsx(QT,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.name}),q.status&&s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:q.status}),de&&_e&&s.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["↳ ",_e.name]})]}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[q.address&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E0,{className:"h-4 w-4"}),s.jsx("span",{children:q.address})]}),q.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(om,{className:"h-4 w-4"}),s.jsx("span",{children:q.phone})]}),q.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sm,{className:"h-4 w-4"}),s.jsx("span",{children:q.email})]})]})]}),s.jsxs("div",{className:"flex gap-1 ml-4",children:[!de&&s.jsx("button",{onClick:()=>he(q),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:s.jsx(Fa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>e("client",q),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:s.jsx(rn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>r("client",q.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:s.jsx(nr,{className:"h-4 w-4"})})]})]})}),z=()=>s.jsxs("div",{className:"space-y-6",children:[J.length>0&&s.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5"}),"Unassigned Clients (",J.filter(q=>oe.includes(q)).length,")"]}),s.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),s.jsx("div",{className:"space-y-2",children:J.filter(q=>oe.includes(q)).map(q=>s.jsx(be,{client:q},q.id))})]}),re.filter(q=>q.children.length>0).map(q=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>ee(q.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:j.has(q.id)?s.jsx(Fd,{className:"h-4 w-4"}):s.jsx(tj,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1",children:s.jsx(be,{client:q})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[q.children.length," locations"]}),s.jsx("button",{onClick:()=>he(q),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),j.has(q.id)&&s.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:q.children.map(de=>s.jsx(be,{client:de,isChild:!0,parent:q},de.id))})]},q.id))]}),ge=()=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:W})}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>G("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?s.jsx(Yo,{className:"h-3 w-3"}):s.jsx(Ko,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"p-3",children:"Type"}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>G("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?s.jsx(Yo,{className:"h-3 w-3"}):s.jsx(Ko,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"p-3",children:"Contact"}),s.jsx("th",{className:"p-3",children:"Parent Company"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:oe.map(q=>{const de=ne.find(Ie=>Ie.id===q.parentId),_e=l.includes(q.id);return s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])}})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[q.parentId?s.jsx(nl,{className:"h-4 w-4 text-blue-500"}):s.jsx(QT,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:q.name})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:q.parentId?"Location":"Parent"})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{children:q.address})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"space-y-1",children:[q.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(om,{className:"h-3 w-3"}),s.jsx("span",{children:q.phone})]}),q.email&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(sm,{className:"h-3 w-3"}),s.jsx("span",{children:q.email})]})]})}),s.jsx("td",{className:"p-3",children:de?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Aq,{className:"h-3 w-3 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:de.name})]}):s.jsx("span",{className:"text-xs text-slate-400",children:"—"})}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("client",q),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("client",q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(nr,{size:16})})]})]},q.id)})})]})}),xe=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(q=>{const de=ne.find(_e=>_e.id===q.parentId);return s.jsx(be,{client:q,isChild:!!q.parentId,parent:de},q.id)})});return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[oe.length," of ",t.length," clients",l.length>0&&` • ${l.length} selected`]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dq,{size:16})," Assign Parent (",l.length,")"]}),s.jsxs("button",{onClick:Y,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Wq,{size:16})," Remove Parent"]}),s.jsxs("button",{onClick:()=>n("client",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(nr,{size:16})," Delete (",l.length,")"]})]}),s.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:q=>d(q.target.files[0],"client")}),s.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(lo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Export CSV"]}),s.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add New"]})]})]}),L&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),s.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(co,{className:"h-5 w-5"})})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",l.length," selected clients to a parent company:"]}),s.jsxs("select",{value:D,onChange:q=>F(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[s.jsx("option",{value:"",children:"Select Parent Company"}),ne.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{onClick:K,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:a,onChange:q=>i(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),s.jsxs("button",{onClick:()=>I(!A),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[s.jsx(_l,{className:"h-4 w-4"}),"Filters",s.jsx(Fd,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]}),s.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[s.jsx("button",{onClick:()=>R("hierarchy"),className:`px-3 py-2 text-sm ${P==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:s.jsx(zq,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R("list"),className:`px-3 py-2 text-sm ${P==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:s.jsx(Mq,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R("cards"),className:`px-3 py-2 text-sm ${P==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:s.jsx(Rq,{className:"h-4 w-4"})})]})]}),A&&s.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),s.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Clients"}),s.jsx("option",{value:"parent",children:"Parent Companies Only"}),s.jsx("option",{value:"location",children:"Store Locations Only"}),s.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),s.jsxs("select",{value:N,onChange:q=>T(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Companies"}),ne.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:m,onChange:q=>y(q.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"address",children:"Address"}),s.jsx("option",{value:"phone",children:"Phone"}),s.jsx("option",{value:"email",children:"Email"})]}),s.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?s.jsx(Yo,{className:"h-4 w-4"}):s.jsx(Ko,{className:"h-4 w-4"})})]})]})]})}),s.jsx("div",{className:"min-h-[400px]",children:oe.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(Fa,{className:"h-12 w-12 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),s.jsx("p",{className:"text-sm text-center",children:a||w!=="all"||N!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):s.jsxs(s.Fragment,{children:[P==="hierarchy"&&s.jsx(z,{}),P==="list"&&s.jsx(ge,{}),P==="cards"&&s.jsx(xe,{})]})})]})},zoe=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:a="",setSearchTerm:i,jobs:l=[]})=>{const[c,d]=B.useState("all"),[h,p]=B.useState("grid"),[m,y]=B.useState("name"),[x,k]=B.useState("asc"),[w,b]=B.useState([]),[N,T]=B.useState(!1),[P,R]=B.useState(null),[j,C]=B.useState(!1),[A,I]=B.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];B.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const O=({onImport:Y})=>{const ie=B.useRef(null),me=ce=>{const he=ce.target.files[0];he&&(Y(he),ce.target.value="")};return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:ie,type:"file",accept:".csv",onChange:me,style:{display:"none"}}),s.jsxs("button",{onClick:()=>ie.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[s.jsx(lo,{size:16}),"Import Vehicles"]})]})},D=Y=>{if(!Y){alert("Please select a file.");return}const ie=new FileReader;ie.onload=me=>{try{const he=me.target.result.split(`
`).filter(xe=>xe.trim());if(he.length<2){alert("CSV file must have at least a header row and one data row.");return}const be=xe=>{const q=[];let de="",_e=!1;for(let Ie=0;Ie<xe.length;Ie++){const Ue=xe[Ie];Ue==='"'?_e=!_e:Ue===","&&!_e?(q.push(de.trim()),de=""):de+=Ue}return q.push(de.trim()),q},z=be(he[0]).map(xe=>xe.replace(/"/g,"").trim().toLowerCase()),ge=[];for(let xe=1;xe<he.length;xe++){const q=be(he[xe]),de={};z.forEach((_e,Ie)=>{const Ue=q[Ie]?q[Ie].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?de.name=Ue:_e.includes("make")?de.make=Ue.toUpperCase():_e.includes("model")?de.model=Ue:_e.includes("year")?de.year=Ue:_e.includes("license")||_e.includes("plate")?de.licensePlate=Ue:_e.includes("vin")?de.vin=Ue:_e.includes("mileage")||_e.includes("miles")?de.currentMileage=parseInt(Ue)||0:_e.includes("status")?de.status=Ue.toLowerCase()||"active":_e.includes("notes")&&(de.notes=Ue)}),(de.name||de.make&&de.model)&&(de.name=de.name||`${de.make} ${de.model}`,de.status=de.status||"active",ge.push(de))}if(ge.length===0){alert("No valid vehicle records found in the CSV file.");return}ge.forEach(xe=>{r("vehicle",xe)}),alert(`Found ${ge.length} vehicles to import. Please review and save each one.`)}catch(ce){console.error("Error parsing CSV:",ce),alert("Error parsing CSV file. Please check the file format.")}},ie.readAsText(Y)},F=()=>{if(w.length===0){alert("No vehicles to export.");return}const Y=w.map(z=>({"Vehicle Name":z.name||"",Make:z.make||"",Model:z.model||"",Year:z.year||"","License Plate":z.licensePlate||"",VIN:z.vin||"","Current Mileage":z.currentMileage||0,Status:z.status||"active",Notes:z.notes||"","Date Added":z.createdAt?new Date(z.createdAt.seconds*1e3).toLocaleDateString():""})),ie=Object.keys(Y[0]),me=[ie.join(","),...Y.map(z=>ie.map(ge=>{const xe=z[ge];return typeof xe=="string"&&(xe.includes(",")||xe.includes('"')||xe.includes(`
`))?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),ce=new Blob([me],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(ce),be=document.createElement("a");be.href=he,be.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(he),console.log(`Exported ${w.length} vehicles to CSV`)},$=()=>{const Y=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],ie=Object.keys(Y[0]),me=[ie.join(","),...Y.map(z=>ie.map(ge=>z[ge]).join(","))].join(`
`),ce=new Blob([me],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(ce),be=document.createElement("a");be.href=he,be.download="vehicle-import-template.csv",document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(he)},te=async(Y,ie)=>{if(window.confirm('Delete "'+ie+'"?')){console.log("Starting delete for vehicle:",Y,ie),T(!0);try{const me=w.filter(ce=>ce.id!==Y);b(me),await n("vehicle",Y),console.log("Vehicle deleted successfully")}catch(me){console.error("Delete failed, reverting UI:",me),b([...t]),alert("Failed to delete vehicle: "+me.message)}finally{T(!1)}}},ne=()=>{let Y=0;return w.forEach(ie=>{L.forEach(me=>{if(me.interval>0){const ce=e.filter(ge=>ge.vehicleId===ie.id&&ge.serviceType===me.value).sort((ge,xe)=>new Date(xe.date)-new Date(ge.date))[0],he=ie.currentMileage||0,be=ce&&ce.mileage||0;he-be>=me.interval&&Y++}})}),Y},J=B.useMemo(()=>{const Y=w.filter(q=>!q.status||q.status==="active"),ie=w.reduce((q,de)=>q+(de.currentMileage||0),0),me=w.length>0?ie/w.length:0,ce=new Date().getFullYear(),he=w.reduce((q,de)=>q+(ce-parseInt(de.year||ce)),0),be=w.length>0?he/w.length:0,z=w.filter(q=>(q.currentMileage||0)>1e5).length,ge=e.filter(q=>q.date&&new Date(q.date).getFullYear()===ce).reduce((q,de)=>q+(de.cost||0),0),xe=ne();return{totalVehicles:w.length,activeVehicles:Y.length,avgMileage:Math.round(me),avgAge:be.toFixed(1),highMileageVehicles:z,totalMaintenanceCost:ge,overdueMaintenance:xe}},[w,e]),oe=Y=>{const ie=[],me=Y.currentMileage||0;return L.forEach(ce=>{if(ce.interval>0){const he=e.filter(xe=>xe.vehicleId===Y.id&&xe.serviceType===ce.value).sort((xe,q)=>new Date(q.date)-new Date(xe.date))[0],be=he&&he.mileage||0,z=me-be,ge=ce.interval-z;z>=ce.interval?ie.push({type:"overdue",service:ce.label,mileage:Math.abs(ge),severity:"high"}):ge<=1e3&&ge>0&&ie.push({type:"due_soon",service:ce.label,mileage:ge,severity:"medium"})}}),ie.sort((ce,he)=>he.severity==="high"?1:-1)},re=B.useMemo(()=>{let Y=w;return a&&(Y=Y.filter(me=>me.name?.toLowerCase().includes(a.toLowerCase())||me.make?.toLowerCase().includes(a.toLowerCase())||me.model?.toLowerCase().includes(a.toLowerCase())||me.licensePlate?.toLowerCase().includes(a.toLowerCase())||me.vin?.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(Y=Y.filter(me=>(me.status||"active")===c)),[...Y].sort((me,ce)=>{let he,be;switch(m){case"name":he=me.name||"",be=ce.name||"";break;case"mileage":he=me.currentMileage||0,be=ce.currentMileage||0;break;case"year":he=parseInt(me.year||0),be=parseInt(ce.year||0);break;case"make":he=me.make||"",be=ce.make||"";break;default:he=me.name||"",be=ce.name||""}return typeof he=="string"?x==="asc"?he.localeCompare(be):be.localeCompare(he):x==="asc"?he-be:be-he})},[w,a,c,m,x]),G=Y=>{const ie=Y.status||"active";return ie==="active"?{status:"active",color:"text-green-500",icon:$a,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:ie==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Rc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:JT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},ee=({title:Y,value:ie,icon:me,color:ce,subtext:he,onClick:be})=>s.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${be?"cursor-pointer hover:border-blue-300":""}`,onClick:be,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Y}),s.jsx("p",{className:"text-2xl font-bold "+ce,children:ie}),he&&s.jsx("p",{className:"text-xs text-slate-400",children:he})]}),s.jsx(me,{size:24,className:ce})]})}),W=()=>{const[Y,ie]=B.useState({vehicleId:P?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),me=L.find(he=>he.value===Y.serviceType),ce=he=>{he.preventDefault();const be={...Y,cost:parseFloat(Y.cost)||0,mileage:parseInt(Y.mileage)||0,nextServiceMileage:parseInt(Y.nextServiceMileage)||0,createdAt:new Date().toISOString()};!be.nextServiceMileage&&me?.interval&&(be.nextServiceMileage=be.mileage+me.interval),r("maintenanceLog",be),C(!1),ie({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return B.useEffect(()=>{me&&ie(he=>({...he,cost:he.cost||me.cost.toString(),description:he.description||me.label}))},[me]),j?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(Ds,{className:"text-blue-500",size:24}),"Add Service Record"]}),s.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(JT,{size:24})})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),s.jsxs("select",{value:Y.vehicleId,onChange:he=>ie(be=>({...be,vehicleId:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Vehicle"}),w.map(he=>s.jsxs("option",{value:he.id,children:[he.name||"Unnamed"," - ",he.make," ",he.model]},he.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),s.jsxs("select",{value:Y.serviceType,onChange:he=>ie(be=>({...be,serviceType:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Service"}),L.map(he=>s.jsxs("option",{value:he.value,children:[he.label," (",he.category,")"]},he.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),s.jsx("input",{type:"date",value:Y.date,onChange:he=>ie(be=>({...be,date:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),s.jsx("input",{type:"number",value:Y.mileage,onChange:he=>ie(be=>({...be,mileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),s.jsx("input",{type:"number",step:"0.01",value:Y.cost,onChange:he=>ie(be=>({...be,cost:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),s.jsx("input",{type:"number",value:Y.nextServiceMileage,onChange:he=>ie(be=>({...be,nextServiceMileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:me?`Auto: ${(parseInt(Y.mileage)||0)+me.interval}`:"Optional"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:Y.description,onChange:he=>ie(be=>({...be,description:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:Y.notes,onChange:he=>ie(be=>({...be,notes:he.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{type:"button",onClick:ce,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},K=()=>{const Y=[...e].sort((ie,me)=>new Date(me.date)-new Date(ie.date));return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(Ds,{className:"text-blue-500",size:24}),"Maintenance History"]}),s.jsxs("button",{onClick:()=>{R(null),C(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Vd,{size:18}),"Add Service"]})]}),Y.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Date"}),s.jsx("th",{className:"p-3",children:"Vehicle"}),s.jsx("th",{className:"p-3",children:"Service"}),s.jsx("th",{className:"p-3",children:"Mileage"}),s.jsx("th",{className:"p-3",children:"Cost"}),s.jsx("th",{className:"p-3",children:"Next Due"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:Y.map(ie=>{const me=w.find(he=>he.id===ie.vehicleId),ce=L.find(he=>he.value===ie.serviceType);return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"p-3",children:ie.date?new Date(ie.date).toLocaleDateString():"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:me?.name||"Unknown Vehicle"}),s.jsxs("div",{className:"text-xs text-slate-500",children:[me?.make," ",me?.model]})]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:ce?.label||ie.serviceType}),ie.description&&s.jsx("div",{className:"text-xs text-slate-500",children:ie.description})]})}),s.jsx("td",{className:"p-3 font-mono",children:(ie.mileage||0).toLocaleString()}),s.jsxs("td",{className:"p-3 font-mono",children:["$",(ie.cost||0).toFixed(2)]}),s.jsx("td",{className:"p-3 font-mono",children:ie.nextServiceMileage?ie.nextServiceMileage.toLocaleString():"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>r("maintenanceLog",ie),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>n("maintenanceLog",ie.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:s.jsx(nr,{size:16})})]})})]},ie.id)})})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ds,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),s.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(j0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),w.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{onImport:D}),s.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[s.jsx(S0,{size:16}),"Export Vehicles"]}),s.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[s.jsx(In,{size:16}),"CSV Template"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[s.jsx(ee,{title:"Total Vehicles",value:J.totalVehicles,icon:xp,color:"text-blue-500"}),s.jsx(ee,{title:"Active Fleet",value:J.activeVehicles,icon:$a,color:"text-green-500",subtext:(J.activeVehicles/(J.totalVehicles||1)*100).toFixed(0)+"% active"}),s.jsx(ee,{title:"Avg Mileage",value:J.avgMileage.toLocaleString(),icon:E0,color:"text-purple-500",subtext:"miles per vehicle"}),s.jsx(ee,{title:"Fleet Age",value:J.avgAge+" yrs",icon:N0,color:"text-orange-500",subtext:"average age"}),s.jsx(ee,{title:"High Mileage",value:J.highMileageVehicles,icon:xa,color:"text-amber-500",subtext:">100k miles"}),s.jsx(ee,{title:"Maintenance Cost",value:"$"+J.totalMaintenanceCost.toLocaleString(),icon:zr,color:"text-emerald-500",subtext:"this year"}),s.jsx(ee,{title:"Overdue Services",value:J.overdueMaintenance,icon:Bh,color:J.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>I("maintenance")})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>I("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${A==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xp,{size:18}),"Vehicles (",w.length,")"]})}),s.jsx("button",{onClick:()=>I("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${A==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{size:18}),"Maintenance (",e.length,")",J.overdueMaintenance>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:J.overdueMaintenance})]})})]})}),s.jsx("div",{className:"p-6",children:A==="vehicles"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[w.length>0&&s.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?s.jsx(In,{size:16}):s.jsx(xp,{size:16}),h==="grid"?"Table View":"Grid View"]}),s.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Vd,{size:18}),"Add Vehicle"]})]})]}),w.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:a,onChange:Y=>i(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{size:18,className:"text-slate-400"}),s.jsxs("select",{value:c,onChange:Y=>d(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"In Maintenance"}),s.jsx("option",{value:"retired",children:"Retired"})]}),s.jsxs("select",{value:m,onChange:Y=>y(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"mileage",children:"Sort by Mileage"}),s.jsx("option",{value:"year",children:"Sort by Year"}),s.jsx("option",{value:"make",children:"Sort by Make"})]}),s.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:s.jsx(xa,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),w.length>0?h==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.map(Y=>{const ie=G(Y),me=oe(Y);return s.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+ie.bg+(N?" opacity-50":""),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ie.icon,{size:24,className:ie.color}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:Y.name||"Unnamed Vehicle"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ie.label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{R(Y),C(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:N,children:s.jsx(Ds,{size:16})}),s.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:N,children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>te(Y.id,Y.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:N,children:s.jsx(nr,{size:16})})]})]}),me.length>0&&s.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(I_,{size:16,className:"text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),s.jsxs("div",{className:"space-y-1",children:[me.slice(0,2).map((ce,he)=>s.jsx("div",{className:"text-xs",children:s.jsxs("span",{className:ce.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[ce.service,": ",ce.type==="overdue"?`${ce.mileage} miles overdue`:`due in ${ce.mileage} miles`]})},he)),me.length>2&&s.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",me.length-2," more alerts"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),s.jsxs("span",{className:"font-medium",children:[Y.make||"N/A"," ",Y.model||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),s.jsx("span",{className:"font-medium",children:Y.year||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),s.jsx("span",{className:"font-medium",children:Y.licensePlate||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),s.jsxs("span",{className:"font-medium",children:[(Y.currentMileage||0).toLocaleString()," mi"]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),s.jsx("span",{className:"font-medium text-xs",children:Y.vin||"N/A"})]})]})]},Y.id)})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3",children:"Vehicle"}),s.jsx("th",{className:"p-3",children:"Make/Model"}),s.jsx("th",{className:"p-3",children:"Year"}),s.jsx("th",{className:"p-3",children:"License"}),s.jsx("th",{className:"p-3",children:"Mileage"}),s.jsx("th",{className:"p-3",children:"Alerts"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:re.map(Y=>{const ie=G(Y),me=oe(Y);return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(N?" opacity-50":""),children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie.icon,{size:16,className:ie.color}),s.jsx("span",{className:"text-xs",children:ie.label})]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:Y.name||"Unnamed"}),Y.vin&&s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",Y.vin.slice(-6)]})]})}),s.jsxs("td",{className:"p-3",children:[Y.make||"N/A"," ",Y.model||"N/A"]}),s.jsx("td",{className:"p-3",children:Y.year||"N/A"}),s.jsx("td",{className:"p-3",children:Y.licensePlate||"N/A"}),s.jsx("td",{className:"p-3 font-mono",children:(Y.currentMileage||0).toLocaleString()}),s.jsx("td",{className:"p-3",children:me.length>0?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(I_,{size:14,className:"text-amber-500"}),s.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[me.length," alert",me.length>1?"s":""]})]}):s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"✓ Up to date"})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>{R(Y),C(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:N,children:s.jsx(Ds,{size:16})}),s.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:N,children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>te(Y.id,Y.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:N,children:s.jsx(nr,{size:16})})]})})]},Y.id)})})]})}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:s.jsx(xp,{size:40,className:"text-slate-400 dark:text-slate-500"})}),s.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),s.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:N,children:"Add Your First Vehicle"})]})]}):s.jsx(K,{})})]}),s.jsx(W,{}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},Woe=()=>{const[t,e]=B.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=B.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[a,i]=B.useState(0),[l,c]=B.useState(2.75),[d,h]=B.useState(0);B.useEffect(()=>{const T=Object.values(t).map(P=>parseFloat(P)||0).reduce((P,R)=>P+R,0);i(T)},[t]),B.useEffect(()=>{const T=Object.values(r).reduce((P,R)=>P+R,0)/6;T<=.5?c(2+T*1.5):T<=1.5?c(2.75+(T-.5)*.75):c(3.5+(T-1.5)*2)},[r]),B.useEffect(()=>{h(a*l)},[a,l]);const p=(N,T)=>{e(P=>({...P,[N]:T}))},m=(N,T)=>{n(P=>({...P,[N]:T}))},y=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(N),x=()=>l<2.75?"Conservative Range":l<3.5?"Average Range":"Premium Range",k=()=>l<2.75?"text-red-600 dark:text-red-400":l<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",w=()=>{const T=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",y(parseFloat(t.netProfit)||0)],["Owner Salary",y(parseFloat(t.ownerSalary)||0)],["Owner Perks",y(parseFloat(t.ownerPerks)||0)],["Depreciation",y(parseFloat(t.depreciation)||0)],["Amortization",y(parseFloat(t.amortization)||0)],["Interest Expense",y(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",y(a)],[""],["Valuation Results"],["SDE",y(a)],["Multiple",l.toFixed(2)+"x"],["Estimated Business Value",y(d)]].map(C=>C.join(",")).join(`
`),P=new Blob([T],{type:"text/csv"}),R=window.URL.createObjectURL(P),j=document.createElement("a");j.href=R,j.download="hvac-business-valuation.csv",j.click(),window.URL.revokeObjectURL(R)},b=[{field:"recurringRevenue",title:"Recurring Revenue",icon:s.jsx(xa,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:s.jsx(Fa,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:s.jsx(nl,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:s.jsx(zr,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:s.jsx(Fa,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:s.jsx(Uq,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsx("div",{className:"bg-blue-600 text-white p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kc,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),s.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),s.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:N,label:T,desc:P})=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:T}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P})]}),s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"number",value:t[N],onChange:R=>p(N,R.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},N))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(a)})]})})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),s.jsx("span",{className:"font-semibold",children:y(a)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),s.jsxs("span",{className:`font-semibold ${k()}`,children:[l.toFixed(2),"x (",x(),")"]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),s.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y(d)})]})})]}),s.jsxs("button",{onClick:w,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(S0,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),s.jsx("div",{className:"space-y-6",children:b.map(({field:N,title:T,icon:P,options:R})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[P,s.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:T})]}),s.jsx("div",{className:"space-y-2",children:R.map((j,C)=>s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"radio",name:N,value:C,checked:r[N]===C,onChange:A=>m(N,parseInt(A.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),s.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${C===0?"text-red-600 dark:text-red-400":C===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:j})]},C))})]},N))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000 × 3.5 = $700,000 estimated value."})]}),s.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},Hoe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:x=>s.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>s.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>s.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=B.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(a.toLowerCase())),[t,a]),y=x=>{x.target.checked?c(m.map(k=>k.id)):c([])};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search Inventory...",value:a,onChange:x=>i(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),l.length>0&&s.jsxs("button",{onClick:()=>n("inventory",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(nr,{size:16})," Delete (",l.length,")"]}),s.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),s.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(lo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Export to CSV"]}),s.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add New"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>s.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:m.map(x=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:l.includes(x.id),onChange:()=>{c(k=>k.includes(x.id)?k.filter(w=>w!==x.id):[...k,x.id])}})}),p.map(k=>s.jsx("td",{className:`p-3 ${k.className||""}`,children:k.render(x)},k.key)),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(nr,{size:16})})]})]},x.id))})]})})]})},Goe=({clients:t,jobs:e,bills:r,inventory:n})=>{const a=B.useMemo(()=>t.map(c=>{const d=e.filter(m=>m.clientId===c.id),h=d.reduce((m,y)=>m+(y.revenue||0),0),p=d.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:c.name,netProfit:h-p}}).sort((c,d)=>d.netProfit-c.netProfit),[t,e]),i=B.useMemo(()=>{const c={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);c[p]||(c[p]={revenue:0,expenses:0}),c[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);c[m]||(c[m]={revenue:0,expenses:0}),c[m].expenses+=h.amount||0}}),Object.keys(c).map(h=>({month:h,Revenue:c[h].revenue,Expenses:c[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),l=B.useMemo(()=>n.map(c=>({name:c.name,totalValue:(c.quantity||0)*(c.cost||0)})).sort((c,d)=>d.totalValue-c.totalValue),[n]);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),s.jsx(Nj,{width:"100%",height:300,children:s.jsxs(i$,{data:i,children:[s.jsx(cN,{strokeDasharray:"3 3"}),s.jsx(Xh,{dataKey:"month",stroke:"#64748b"}),s.jsx(Qh,{stroke:"#64748b",tickFormatter:c=>`$${c/1e3}k`}),s.jsx(ma,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:c=>`$${c.toLocaleString()}`}),s.jsx(Qs,{}),s.jsx(vi,{dataKey:"Revenue",fill:"#22c55e"}),s.jsx(vi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Client"}),s.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),s.jsx("tbody",{children:a.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsxs("td",{className:`p-3 text-right font-mono ${c.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",c.netProfit.toFixed(2)]})]},c.name))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Item"}),s.jsx("th",{className:"p-3 text-center",children:"Quantity"}),s.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),s.jsx("tbody",{children:l.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===c.name)?.quantity}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",c.totalValue.toFixed(2)]})]},c.name))})]})})]})]})},Koe=({bills:t,paidStatus:e,onClose:r})=>{const n=B.useMemo(()=>{const a=new Date,i=new Date;return i.setDate(a.getDate()+3),t.filter(l=>{if(e[l.id])return!1;const c=new Date(a.getFullYear(),a.getMonth(),l.dueDay);return c>=a&&c<=i})},[t,e]);return n.length===0?null:s.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(I_,{size:20,className:"mr-3"}),s.jsxs("div",{children:[s.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),s.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(a=>s.jsxs("li",{children:[a.name," is due on day ",a.dueDay,"."]},a.id))})]})]}),s.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(co,{size:18})})]})},Yoe=({data:t,onSliceClick:e})=>{const[r,n]=B.useState(0),a=B.useCallback((l,c)=>{n(c)},[n]),i=l=>{const{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x,payload:k}=l;return s.jsxs("g",{className:"cursor-pointer",onClick:()=>e(k.name),children:[s.jsx("text",{x:c,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:k.name}),s.jsx(Qj,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x})]})};return s.jsx(Nj,{width:"100%",height:300,children:s.jsxs(doe,{children:[s.jsx(ma,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:l=>`$${l.toFixed(2)}`}),s.jsx(cs,{activeIndex:r,activeShape:i,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:a,onClick:l=>e(l.name),children:t.map((l,c)=>s.jsx(V0,{fill:l.color},`cell-${c}`))})]})})},Xoe=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:a})=>{const i=x=>{if(x==null||x==="")return 0;const k=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(k)?0:k},l=t.filter(x=>x.status==="Unpaid"),c=l.reduce((x,k)=>x+i(k.grandTotal),0),d=e.reduce((x,k)=>x+i(k.amount),0),h=r.reduce((x,k)=>x+i(k.amount),0)*4.33,p=d+h,m=i(n)+c-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const k=parseFloat(x);k>=0?a(k):alert("Please enter a positive number for the balance.")}};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",i(n).toLocaleString()]})]}),s.jsx(zr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",c.toLocaleString()]})]}),s.jsx(xa,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[l.length," unpaid invoices"]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),s.jsx(V4,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),s.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?s.jsx(xa,{className:"text-green-600 dark:text-green-400",size:24}):s.jsx(Rc,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:l.length>0?l.map((x,k)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),s.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),s.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",i(x.grandTotal).toLocaleString()]})]},k)):s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),s.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),s.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",h.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[s.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),s.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&s.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rc,{className:"text-red-600 dark:text-red-400",size:20}),s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),s.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),i(n)===0&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zr,{className:"text-blue-600 dark:text-blue-400",size:20}),s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),s.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},Qoe=({title:t,data:e,columns:r,type:n,searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[s.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:m=>i(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>l(m.target.files[0],n)}),s.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(lo,{size:16})," Import CSV"]})]}),s.jsxs("button",{onClick:()=>c(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Export to CSV"]}),s.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16})," Add New"]})]})]}),n==="debt"&&p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),s.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>s.jsxs("li",{children:[m.name," ",s.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),s.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>s.jsxs("li",{children:[m.name," ",s.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[r.map(m=>s.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:e.map(m=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>s.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(m)},y.key)),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(nr,{size:16})})]})]},m.id))})]})})]}),Joe=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c})=>{const d=[{key:"name",header:"Job/Client",render:h=>s.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>s.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>s.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return s.jsx(Qoe,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c,openModal:r,handleDelete:n})},Zoe=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:a})=>{const i=B.useMemo(()=>{const c=t.filter(T=>{if(!T.date)return!1;const P=new Date(T.date);return P>=a.start&&P<=a.end}),d=c.reduce((T,P)=>T+(P.revenue||0),0),h=c.reduce((T,P)=>T+(P.materialCost||0)+(P.laborCost||0),0),p=d-h,m=(a.end-a.start)/(1e3*60*60*24*30.44),y=e.reduce((T,P)=>{const R=P.category||"Uncategorized";return T[R]=(T[R]||0)+P.amount,T},{}),x=r.reduce((T,P)=>T+P.amount,0)*m;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const k=Object.values(y).reduce((T,P)=>T+P,0),w=p-k,b=d>0?p/d*100:0,N=d>0?w/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:k,expensesByCategory:y,netProfit:w,grossProfitMargin:b,netProfitMargin:N}},[t,e,r,a]),l=()=>{const c={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${a.start.toLocaleString("default",c)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${a.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${a.start.getFullYear()}`:""};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l()}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[s.jsx("span",{children:"Total Revenue"}),s.jsxs("span",{className:"font-mono",children:["$",i.revenue.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),s.jsxs("span",{className:"font-mono",children:["($",i.cogs.toFixed(2),")"]})]}),s.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),s.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[s.jsx("span",{children:"Gross Profit"}),s.jsxs("span",{className:"font-mono",children:["$",i.grossProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[s.jsx("span",{children:"Gross Profit Margin"}),s.jsxs("span",{className:"font-mono",children:[i.grossProfitMargin.toFixed(1),"%"]})]}),s.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),s.jsx("div",{className:"p-3 font-semibold",children:s.jsx("span",{children:"Operating Expenses"})}),Object.entries(i.expensesByCategory).map(([c,d])=>s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:c}),s.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},c)),s.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[s.jsx("span",{children:"Total Operating Expenses"}),s.jsxs("span",{className:"font-mono",children:["($",i.operatingExpenses.toFixed(2),")"]})]}),s.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),s.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:i.netProfit>=0?"#22c55e":"#ef4444"},children:[s.jsx("span",{children:"Net Profit"}),s.jsx("span",{className:"font-mono",children:i.netProfit<0?`-$${Math.abs(i.netProfit).toFixed(2)}`:`$${i.netProfit.toFixed(2)}`})]}),s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[s.jsx("span",{children:"Net Profit Margin"}),s.jsxs("span",{className:"font-mono",children:[i.netProfitMargin.toFixed(1),"%"]})]})]})]})},ele=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:a,handleImportCSV:i,handleExportCSV:l,debtPayoffStrategies:c={avalanche:[],snowball:[]}})=>{const[d,h]=B.useState("overview"),[p,m]=B.useState("avalanche"),[y,x]=B.useState(500),k=B.useMemo(()=>{const j=t.reduce((D,F)=>D+(F.totalAmount||0),0),C=t.reduce((D,F)=>D+(F.paidAmount||0),0),A=j-C,I=t.length>0?t.reduce((D,F)=>D+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),O=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:j,totalPaid:C,totalRemaining:A,avgInterestRate:I,highestInterest:L,lowestBalance:O===1/0?0:O,payoffProgress:j>0?C/j*100:0}},[t]),w=j=>{const C=c[j]||[];let A=[],I=0,L=y;return C.forEach((O,D)=>{const F=(O.totalAmount||0)-(O.paidAmount||0),$=(O.interestRate||0)/100/12;if(F>0&&L>0){const te=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));A.push({...O,monthsToPayoff:isFinite(te)?te:0,order:D+1,remaining:F}),I=Math.max(I,te)}}),{timeline:A,totalMonthsToPayoff:I}},b=w("avalanche"),N=w("snowball"),T=B.useMemo(()=>n?t.filter(j=>j.name?.toLowerCase().includes(n.toLowerCase())||j.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),P=j=>(j.totalAmount||0)-(j.paidAmount||0)<=0?"text-green-600 dark:text-green-400":j.interestRate>20?"text-red-600 dark:text-red-400":j.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",R=j=>j.interestRate>20?s.jsx(Rc,{className:"text-red-500",size:16}):j.interestRate>10?s.jsx(xa,{className:"text-yellow-500",size:16}):s.jsx($a,{className:"text-green-500",size:16});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>i&&i(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(lo,{size:16}),"Import"]}),s.jsxs("button",{onClick:()=>l&&l(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(S0,{size:16}),"Export"]}),s.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(an,{size:18}),"Add Debt"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",k.totalDebt.toLocaleString()]})]}),s.jsx(ry,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",k.totalRemaining.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalPaid.toLocaleString()]})]}),s.jsx($a,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.payoffProgress.toFixed(1),"% complete"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[k.avgInterestRate.toFixed(1),"%"]})]}),s.jsx(F4,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",k.highestInterest,"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(j=>j.totalAmount-j.paidAmount>0).length})]}),s.jsx(j0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(ry,{size:16}),"Overview"]}),s.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(Bd,{size:16}),"Payoff Strategies"]}),s.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(kc,{size:16}),"Calculator"]})]})}),d==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:T.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(ry,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),s.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),s.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:T.map(j=>{const C=(j.totalAmount||0)-(j.paidAmount||0),A=j.totalAmount>0?(j.paidAmount||0)/j.totalAmount*100:0;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[R(j),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:j.name}),j.creditor&&s.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:j.creditor})]})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:`font-mono font-semibold ${P(j)}`,children:[(j.interestRate||0).toFixed(1),"%"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(j.totalAmount||0).toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(j.paidAmount||0).toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",C.toLocaleString()]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(A,100)}%`}})}),s.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[A.toFixed(1),"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>e("debt",j),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("debt",j.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:s.jsx(nr,{size:16})})]})})]},j.id)})})]})})})]}),d==="strategies"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(V4,{className:"text-purple-600",size:20}),s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),s.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Hq,{className:"text-purple-600",size:20}),s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",N.totalMonthsToPayoff," months"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:y,onChange:j=>x(parseFloat(j.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),s.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:N.timeline).map((j,C)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:j.order}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:j.name}),s.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",j.remaining.toLocaleString()," remaining at ",j.interestRate,"%"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[j.monthsToPayoff," months"]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},j.id))})]})]}),d==="calculator"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),s.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[s.jsx(kc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Advanced debt calculator coming soon!"}),s.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},tle=({incomes:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[i,l]=B.useState("all"),[c,d]=B.useState("all"),[h,p]=B.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=B.useMemo(()=>t.filter(j=>{const C=j.name.toLowerCase().includes(n.toLowerCase())||j.notes&&j.notes.toLowerCase().includes(n.toLowerCase()),A=i==="all"||j.type===i,I=c==="all"||j.status===c;return C&&A&&I}).sort((j,C)=>{if(h.key==="amount"){const A=parseFloat(j.amount)||0,I=parseFloat(C.amount)||0;return h.direction==="asc"?A-I:I-A}return h.key==="name"?h.direction==="asc"?j.name.localeCompare(C.name):C.name.localeCompare(j.name):0}),[t,n,i,c,h]),k=B.useMemo(()=>{const R=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),C=R.map(D=>{const F=parseFloat(D.amount)||0;switch(D.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((D,F)=>D+F,0),A=C*12,I=t.reduce((D,F)=>{const $=F.type||"monthly",te=parseFloat(F.amount)||0;return D[$]=(D[$]||0)+te,D},{}),L=t.reduce((D,F)=>{const $=F.status||"active";return D[$]=(D[$]||0)+1,D},{}),O=t.reduce((D,F)=>{const $=parseFloat(F.amount)||0;return $>D.amount?{name:F.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:C,totalAnnualIncome:A,typeBreakdown:I,statusBreakdown:L,highestIncome:O,activeCount:R.length,totalCount:t.length,averageIncome:R.length>0?C/R.length:0}},[t]),w=R=>{p(j=>({key:R,direction:j.key===R&&j.direction==="desc"?"asc":"desc"}))},b=R=>{switch(R){case"active":return s.jsx($a,{size:14,className:"text-green-500"});case"pending":return s.jsx(N0,{size:14,className:"text-yellow-500"});case"completed":return s.jsx($a,{size:14,className:"text-blue-500"});case"paused":return s.jsx(Rc,{size:14,className:"text-red-500"});default:return s.jsx($a,{size:14,className:"text-green-500"})}},N=R=>{const j={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return j[R]||j.monthly},T=(R,j)=>{const C=parseFloat(R)||0;switch(j){case"weekly":return C*4.33;case"quarterly":return C/3;case"annually":return C/12;case"monthly":default:return C}},P=()=>{if(t.length===0){alert("No income sources to export.");return}try{const R=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],j=t.map(O=>[O.name||"",(parseFloat(O.amount)||0).toFixed(2),O.type||"monthly",T(O.amount,O.type).toFixed(2),(T(O.amount,O.type)*12).toFixed(2),O.status||"active",O.isRecurring?"Yes":"No",O.notes||""]),C=[R.join(","),...j.map(O=>O.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),A=new Blob([C],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),L=URL.createObjectURL(A);I.setAttribute("href",L),I.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I),alert(`Successfully exported ${t.length} income sources!`)}catch(R){console.error("Error exporting CSV:",R),alert("Failed to export CSV: "+R.message)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalMonthlyIncome.toLocaleString()]})]}),s.jsx(zr,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.activeCount," active sources"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",k.totalAnnualIncome.toLocaleString()]})]}),s.jsx(xa,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",k.averageIncome.toLocaleString()]})]}),s.jsx(j0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),s.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:k.highestIncome.name})]}),s.jsx(Bd,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",k.highestIncome.amount.toLocaleString()]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16}),"Export CSV"]}),s.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16}),"Add Income Source"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:R=>a(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"text-slate-400",size:16}),s.jsx("select",{value:i,onChange:R=>l(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(R=>s.jsx("option",{value:R,children:R==="all"?"All Types":R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")},R))}),s.jsx("select",{value:c,onChange:R=>d(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(R=>s.jsx("option",{value:R,children:R==="all"?"All Status":R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&s.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("amount"),children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&s.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3",children:"Type"}),s.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),s.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3",children:"Recurring"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(R=>{const j=parseFloat(R.amount)||0,C=T(j,R.type),A=C*12;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:R.name})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",j.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N(R.type)}`,children:(R.type||"monthly").replace("-"," ")})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",C.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",A.toLocaleString()]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[b(R.status),s.jsx("span",{className:"text-xs capitalize",children:R.status||"active"})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${R.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:R.isRecurring?"Yes":"No"})}),s.jsx("td",{className:"p-3 max-w-xs",children:s.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:R.notes&&R.notes.length>30?`${R.notes.substring(0,30)}...`:R.notes||"—"})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>e("income",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("income",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:s.jsx(nr,{size:16})})]})})]},R.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||i!=="all"||c!=="all"?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(mi,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No income sources match your search criteria"}),s.jsx("button",{onClick:()=>{a(""),l("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(zr,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No income sources added yet"}),s.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),s.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((R,j)=>R+T(j.amount,j.type),0).toFixed(2)]}),s.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((R,j)=>R+T(j.amount,j.type),0)*12).toLocaleString()]})]})]})})]}),k.totalCount>=1&&k.highestIncome.amount>k.totalMonthlyIncome*.7&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rc,{className:"text-amber-600 dark:text-amber-400",size:20}),s.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),s.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",k.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},rle=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[a,i]=B.useState(null),[l,c]=B.useState(!1),[d,h]=B.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=T=>{i(T)},m=T=>{r(T),i(null)},y=()=>{i(null)},x=T=>T>=100?"from-green-500 to-emerald-500":T>=80?"from-green-500 to-green-600":T>=50?"from-yellow-500 to-orange-500":T>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",k=T=>{const P=new Date,j=new Date(T)-P,C=Math.ceil(j/(1e3*60*60*24));return C<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:C===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C<=7?{text:`${C} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:C<=30?{text:`${C} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${C} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},w=T=>{const P=T.target-T.current,R=Math.ceil((new Date(T.deadline)-new Date)/(1e3*60*60*24));return R>0?Math.ceil(P/R):0},b=(T,P)=>{console.log("Update goal progress:",T,P)},N=T=>{T.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),c(!1))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:s.jsx(Bd,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(T=>T.progress>=100).length," of ",t.length," completed"]})]})]}),s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(Vd,{size:16}),"Add Goal"]})]}),t.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:s.jsx($a,{className:"text-green-600 dark:text-green-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(T=>T.progress>=100).length})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:s.jsx(xa,{className:"text-blue-600 dark:text-blue-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),s.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(T=>T.progress>0&&T.progress<100).length})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:s.jsx(N0,{className:"text-orange-600 dark:text-orange-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),s.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((T,P)=>T+(P.targetValue||0),0).toLocaleString()]})]})]})})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(Bd,{size:32,className:"opacity-50"})}),s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),s.jsx("button",{onClick:()=>c(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(T=>{const P=T.progress||0,R=P>=100,j=(T.targetValue||0)-(T.current||0),C=k(T.deadline),A=x(P),I=C.text==="Overdue",L=w({target:T.targetValue||0,current:T.current||0,deadline:T.deadline});return s.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${R?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":I?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:a!==T.id?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:T.name}),R&&s.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:"✓ Completed"}),T.type&&s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":T.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":T.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":T.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:T.type||"savings"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.bgColor} ${C.color}`,children:C.text})]}),T.description&&s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:T.description}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(T.current||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(T.targetValue||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",j>0?j.toLocaleString():"0"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>b(T.id,(T.current||0)+(T.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:s.jsx(Vd,{size:18})}),s.jsx("button",{onClick:()=>b(T.id,Math.max(0,(T.current||0)-(T.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:s.jsx(Fq,{size:18})}),s.jsx("button",{onClick:()=>p(T.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:s.jsx(nr,{size:18})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),s.jsxs("span",{className:`font-bold ${R?"text-green-600":"text-cyan-600"}`,children:[P.toFixed(1),"%"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:s.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${A}`,style:{width:`${Math.min(P,100)}%`},children:s.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),P>15&&s.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:s.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(T.current||0).toLocaleString()]})})]}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[s.jsxs("span",{children:["Deadline: ",new Date(T.deadline).toLocaleDateString()]}),!R&&j>0&&L>0&&s.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(nr,{className:"text-red-600 dark:text-red-400",size:24})}),s.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',T.name,'"?']}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:()=>m(T.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},T.id)})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),s.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:s.jsx(co,{size:20})})]}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),s.jsxs("select",{value:d.type,onChange:T=>h({...d,type:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"savings",children:"💰 Savings Goal"}),s.jsx("option",{value:"debt",children:"💳 Debt Payoff"}),s.jsx("option",{value:"investment",children:"📈 Investment Target"}),s.jsx("option",{value:"purchase",children:"🛍️ Large Purchase"}),s.jsx("option",{value:"emergency",children:"🆘 Emergency Fund"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),s.jsx("input",{type:"text",value:d.name,onChange:T=>h({...d,name:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),s.jsx("textarea",{value:d.description,onChange:T=>h({...d,description:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),s.jsx("input",{type:"number",value:d.current,onChange:T=>h({...d,current:Number(T.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),s.jsx("input",{type:"number",value:d.target,onChange:T=>h({...d,target:Number(T.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),s.jsx("input",{type:"date",value:d.deadline,onChange:T=>h({...d,deadline:T.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},nle=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[i,l]=B.useState("all"),[c,d]=B.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=B.useMemo(()=>t.filter(w=>{const b=w.name.toLowerCase().includes(n.toLowerCase())||w.notes&&w.notes.toLowerCase().includes(n.toLowerCase()),N=i==="all"||w.category===i;return b&&N}).sort((w,b)=>{if(c.key==="amount"){const N=parseFloat(w.amount)||0,T=parseFloat(b.amount)||0;return c.direction==="asc"?N-T:T-N}return c.key==="name"?c.direction==="asc"?w.name.localeCompare(b.name):b.name.localeCompare(w.name):0}),[t,n,i,c]),m=B.useMemo(()=>{const k=t.reduce((j,C)=>j+(parseFloat(C.amount)||0),0),w=k*4.33,b=k*52,N=t.reduce((j,C)=>(parseFloat(C.amount)||0)>j?parseFloat(C.amount)||0:j,0),T=t.length>0?k/t.length:0,P=t.reduce((j,C)=>{const A=C.category||"Other";return j[A]=(j[A]||0)+(parseFloat(C.amount)||0),j},{}),R=Object.entries(P).reduce((j,[C,A])=>A>(j.amount||0)?{category:C,amount:A}:j,{category:"None",amount:0});return{totalWeekly:k,totalMonthly:w,totalAnnual:b,highestCost:N,averageCost:T,categoryTotals:P,topCategory:R,itemCount:t.length}},[t]),y=k=>{d(w=>({key:k,direction:w.key===k&&w.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const k=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],w=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),((parseFloat(R.amount)||0)*4.33).toFixed(2),((parseFloat(R.amount)||0)*52).toFixed(2),R.category||"Other",R.notes||""]),b=[k.join(","),...w.map(R=>R.map(j=>typeof j=="string"&&j.includes(",")?`"${j}"`:j).join(","))].join(`
`),N=new Blob([b],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),P=URL.createObjectURL(N);T.setAttribute("href",P),T.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T),alert(`Successfully exported ${t.length} weekly costs!`)}catch(k){console.error("Error exporting CSV:",k),alert("Failed to export CSV: "+k.message)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),s.jsx(ej,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),s.jsx(xa,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),s.jsx(j0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),s.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),s.jsx(zr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16}),"Export CSV"]}),s.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(an,{size:16}),"Add Weekly Cost"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"text-slate-400",size:16}),s.jsx("select",{value:i,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(k=>s.jsx("option",{value:k,children:k==="all"?"All Categories":k},k))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",c.key==="name"&&s.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3",children:"Category"}),s.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",c.key==="amount"&&s.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),s.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(k=>{const w=parseFloat(k.amount)||0,b=w*4.33,N=w*52;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.name})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:k.category||"Other"})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",w.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",N.toLocaleString()]})}),s.jsx("td",{className:"p-3 max-w-xs",children:s.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:k.notes&&k.notes.length>50?`${k.notes.substring(0,50)}...`:k.notes||"—"})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>e("weekly",k),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("weekly",k.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:s.jsx(nr,{size:16})})]})})]},k.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||i!=="all"?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(mi,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No weekly costs match your search criteria"}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(zr,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No weekly costs added yet"}),s.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),s.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[s.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0).toFixed(2)]}),s.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0)*4.33).toFixed(2)]}),s.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"text-amber-600 dark:text-amber-400",size:20}),s.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),s.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},ale=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],ile=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],sle=({userId:t,db:e,appId:r})=>{const[n,a]=B.useState(ale),[i,l]=B.useState(0),[c,d]=B.useState(ile),[h,p]=B.useState(0),[m,y]=B.useState(0),[x,k]=B.useState([]),[w,b]=B.useState("employees"),[N,T]=B.useState(!1),[P,R]=B.useState(null),[j,C]=B.useState(""),[A,I]=B.useState("all"),[L,O]=B.useState("all"),[D,F]=B.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});B.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const z=ni(e,"artifacts",r,"users",t,"employees"),ge=_c(z,xe=>{const q=xe.docs.map(de=>({id:de.id,...de.data()}));console.log("Employees loaded from Firebase:",q),k(q)},xe=>{console.error("Error fetching employees:",xe)});return()=>ge()},[t,e,r]);const $=B.useMemo(()=>x.filter(z=>{const ge=z.name.toLowerCase().includes(j.toLowerCase())||z.position.toLowerCase().includes(j.toLowerCase())||z.email.toLowerCase().includes(j.toLowerCase()),xe=A==="all"||z.status===A,q=L==="all"||z.department===L;return ge&&xe&&q}),[x,j,A,L]),te=B.useMemo(()=>{const z=x.filter(de=>de.status==="active");let ge=0,xe=0,q=0;return z.forEach(de=>{if(de.payType==="salary"?ge+=(de.baseSalary||0)/12:(ge+=(de.hourlyRate||0)*(de.hoursWorked||0),q+=de.hoursWorked||0),de.incentiveType==="percent"){const _e=n.find(Ie=>de.salesAmount>=Ie.min&&de.salesAmount<=Ie.max);_e&&(xe+=de.salesAmount*(_e.rate/100))}else if(de.incentiveType==="hourly"){const _e=c.find(Ie=>de.salesAmount>=Ie.min&&de.salesAmount<=Ie.max);_e&&(xe+=(de.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:z.length,totalEmployeeCount:x.length,totalBasePay:ge,totalIncentives:xe,totalPayroll:ge+xe,averagePay:z.length>0?(ge+xe)/z.length:0,totalHours:q}},[x,n,c]),ne=B.useMemo(()=>["all",...[...new Set(x.map(ge=>ge.department))]],[x]),J=B.useMemo(()=>{const z=n.find(ge=>i>=ge.min&&i<=ge.max);return z?i*(z.rate/100):0},[i,n]),oe=B.useMemo(()=>{const z=c.find(ge=>h>=ge.min&&h<=ge.max);return!z||!m?0:m*z.bonus},[h,m,c]),re=(z,ge,xe)=>{const q=[...n];q[z][ge]=parseFloat(xe)||0,a(q)},G=(z,ge,xe)=>{const q=[...c];q[z][ge]=parseFloat(xe)||0,d(q)},ee=(z,ge)=>{F(xe=>({...xe,[z]:ge}))},W=async()=>{if(console.log("Adding employee:",D),!D.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const z=ni(e,"artifacts",r,"users",t,"employees");await m4(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:Us()}),console.log("Employee saved to Firebase successfully!"),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),T(!1)}catch(z){console.error("Error adding employee:",z),alert("Failed to add employee: "+z.message)}},K=z=>{F(z),R(z.id),T(!0)},Y=async()=>{if(!(!t||!e||!P))try{const z=fr(e,"artifacts",r,"users",t,"employees",P);await tl(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,modifiedAt:Us()}),R(null),T(!1),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(z){console.error("Error updating employee:",z),alert("Failed to update employee: "+z.message)}},ie=async z=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const ge=fr(e,"artifacts",r,"users",t,"employees",z);await p4(ge),console.log("Employee deleted from Firebase")}catch(ge){console.error("Error deleting employee:",ge),alert("Failed to delete employee: "+ge.message)}},me=async(z,ge,xe)=>{if(!(!t||!e))try{const q=fr(e,"artifacts",r,"users",t,"employees",z);await tl(q,{[ge]:parseFloat(xe)||0,modifiedAt:Us()})}catch(q){console.error("Error updating employee data:",q)}},ce=z=>{if(z.incentiveType==="percent"){const ge=n.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return ge?z.salesAmount*(ge.rate/100):0}else if(z.incentiveType==="hourly"){const ge=c.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return ge?(z.hoursWorked||0)*ge.bonus:0}return 0},he=z=>z.payType==="salary"?(z.baseSalary||0)/12:(z.hourlyRate||0)*(z.hoursWorked||0),be=z=>{switch(z){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),s.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>b("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(Fa,{size:16}),"Employees"]}),s.jsxs("button",{onClick:()=>b("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(kc,{size:16}),"Payroll"]}),s.jsxs("button",{onClick:()=>b("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(xa,{size:16}),"Incentive Calculator"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:te.activeEmployeeCount})]}),s.jsx(Fa,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",te.totalEmployeeCount," total"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",te.totalBasePay.toLocaleString()]})]}),s.jsx(zr,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",te.averagePay.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",te.totalIncentives.toLocaleString()]})]}),s.jsx(xa,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",te.totalPayroll.toLocaleString()]})]}),s.jsx(kc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),w==="employees"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),s.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),T(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Vd,{size:16}),"Add Employee"]})]}),x.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(Fa,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),s.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),s.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),T(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search employees...",value:j,onChange:z=>C(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"text-slate-400",size:16}),s.jsxs("select",{value:A,onChange:z=>I(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"terminated",children:"Terminated"})]}),s.jsx("select",{value:L,onChange:z=>O(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:ne.map(z=>s.jsx("option",{value:z,children:z==="all"?"All Departments":z},z))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Employee"}),s.jsx("th",{className:"p-3",children:"Department"}),s.jsx("th",{className:"p-3",children:"Pay Type"}),s.jsx("th",{className:"p-3",children:"Base Pay"}),s.jsx("th",{className:"p-3",children:"Incentive Type"}),s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:$.map(z=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),s.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:z.position}),s.jsx("div",{className:"text-xs text-slate-400",children:z.email})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:z.department})}),s.jsxs("td",{className:"p-3",children:[s.jsx("span",{className:"capitalize",children:z.payType}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.payType==="salary"?`$${z.baseSalary.toLocaleString()}/year`:`$${z.hourlyRate}/hour`})]}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",he(z).toLocaleString()]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"capitalize",children:z.incentiveType})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${be(z.status)}`,children:z.status})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>K(z),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>ie(z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:s.jsx(nr,{size:16})})]})})]},z.id))})]})})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:P?"Edit Employee":"Add New Employee"})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",value:D.name,onChange:z=>ee("name",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),s.jsx("input",{type:"text",value:D.position,onChange:z=>ee("position",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:D.email,onChange:z=>ee("email",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:D.phone,onChange:z=>ee("phone",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),s.jsxs("select",{value:D.department,onChange:z=>ee("department",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Operations",children:"Operations"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Administration",children:"Administration"}),s.jsx("option",{value:"Management",children:"Management"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),s.jsxs("select",{value:D.payType,onChange:z=>ee("payType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"salary",children:"Salary"}),s.jsx("option",{value:"hourly",children:"Hourly"})]})]}),D.payType==="salary"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),s.jsx("input",{type:"number",value:D.baseSalary,onChange:z=>ee("baseSalary",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),s.jsx("input",{type:"number",step:"0.01",value:D.hourlyRate,onChange:z=>ee("hourlyRate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),s.jsxs("select",{value:D.incentiveType,onChange:z=>ee("incentiveType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"percent",children:"Percentage"}),s.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{value:D.status,onChange:z=>ee("status",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"terminated",children:"Terminated"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),s.jsx("input",{type:"date",value:D.hireDate,onChange:z=>ee("hireDate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:D.notes,onChange:z=>ee("notes",z.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),s.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{T(!1),R(null),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),P?Y():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:P?"Update Employee":"Add Employee"})]})]})})]}),w==="payroll"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),x.filter(z=>z.status==="active").length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(kc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),s.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Employee"}),s.jsx("th",{className:"p-3",children:"Hours"}),s.jsx("th",{className:"p-3",children:"Sales"}),s.jsx("th",{className:"p-3",children:"Base Pay"}),s.jsx("th",{className:"p-3",children:"Incentive"}),s.jsx("th",{className:"p-3",children:"Total Pay"})]})}),s.jsx("tbody",{className:"text-sm",children:x.filter(z=>z.status==="active").map(z=>{const ge=he(z),xe=ce(z),q=ge+xe;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.position})]}),s.jsx("td",{className:"p-3",children:z.payType==="hourly"?s.jsx("input",{type:"number",value:z.hoursWorked||"",onChange:de=>me(z.id,"hoursWorked",de.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):s.jsx("span",{className:"text-slate-400",children:"—"})}),s.jsx("td",{className:"p-3",children:z.incentiveType!=="none"?s.jsx("input",{type:"number",value:z.salesAmount||"",onChange:de=>me(z.id,"salesAmount",de.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):s.jsx("span",{className:"text-slate-400",children:"—"})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",ge.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",xe.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",q.toFixed(2)]})})]},z.id)})})]})})]}),w==="incentives"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Sales Bracket"}),s.jsx("th",{className:"p-2",children:"% Scale"})]})}),s.jsx("tbody",{children:n.map((z,ge)=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),s.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[s.jsx("input",{type:"number",value:z.rate,onChange:xe=>re(ge,"rate",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},ge))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:i,onChange:z=>l(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",J.toFixed(2)]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Sales Bracket"}),s.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),s.jsx("tbody",{children:c.map((z,ge)=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),s.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",s.jsx("input",{type:"number",value:z.bonus,onChange:xe=>G(ge,"bonus",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},ge))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),s.jsxs("div",{className:"relative",children:[s.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:h,onChange:z=>p(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),s.jsx("input",{type:"number",value:m,onChange:z=>y(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",oe.toFixed(2)]})]})]})]})]})]})]})]})},ole=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:a,handleSort:i,openModal:l,handleDelete:c,handleEnhancedExportCSV:d})=>{const[h,p]=B.useState(""),[m,y]=B.useState("dueDay"),[x,k]=B.useState("asc"),[w,b]=B.useState("all"),[N,T]=B.useState("all"),[P,R]=B.useState("all"),[j,C]=B.useState(!1),A=new Date,I=new Date(A.getFullYear(),A.getMonth(),A.getDate()-A.getDay()),L=new Date(I.getTime()+6*24*60*60*1e3),O=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(O.getTime()+6*24*60*60*1e3),F=new Date(A.getFullYear(),A.getMonth(),1),$=new Date(A.getFullYear(),A.getMonth()+1,0),te=B.useMemo(()=>{let G=t.filter(ee=>{if(r&&ee.category!==r||h&&!ee.name.toLowerCase().includes(h.toLowerCase())||w==="paid"&&!e[ee.id]||w==="unpaid"&&e[ee.id]||P==="under100"&&ee.amount>=100||P==="100to500"&&(ee.amount<100||ee.amount>500)||P==="over500"&&ee.amount<=500)return!1;if(N!=="all"&&ee.dueDay){const W=new Date(A.getFullYear(),A.getMonth(),ee.dueDay);switch(W<A&&W.setMonth(W.getMonth()+1),N){case"overdue":if(W>=A)return!1;break;case"thisWeek":if(W<I||W>L)return!1;break;case"nextWeek":if(W<O||W>D)return!1;break;case"thisMonth":if(W<F||W>$)return!1;break}}return!0});return G.sort((ee,W)=>{let K=ee[m],Y=W[m];m==="status"&&(K=e[ee.id]?"paid":"unpaid",Y=e[W.id]?"paid":"unpaid"),typeof K=="string"&&(K=K.toLowerCase(),Y=Y.toLowerCase());let ie=0;return K<Y&&(ie=-1),K>Y&&(ie=1),x==="desc"?-ie:ie}),G},[t,r,h,w,N,P,m,x,e,A]),ne=G=>{m===G?k(x==="asc"?"desc":"asc"):(y(G),k("asc"))},J=()=>{p(""),y("dueDay"),k("asc"),b("all"),T("all"),R("all"),n(null)},oe=B.useMemo(()=>{let G=0;return h&&G++,r&&G++,w!=="all"&&G++,N!=="all"&&G++,P!=="all"&&G++,G},[h,r,w,N,P]),re=({type:G,label:ee})=>{const W=X.useRef(null);return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:W,type:"file",accept:".csv",onChange:K=>{K.target.files[0]&&(window.handleEnhancedCSVImport?.(K.target.files[0],G),K.target.value="")},style:{display:"none"}}),s.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(lo,{size:16}),ee]})]})};return s.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&s.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),oe>0&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[oe," filter",oe!==1?"s":""," active"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(re,{type:"bill",label:"Import"}),s.jsxs("button",{onClick:()=>d(te,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Export"]})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:G=>p(G.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&s.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:s.jsx(co,{size:16})})]}),s.jsxs("button",{onClick:()=>C(!j),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${j?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[s.jsx(_l,{size:16}),"Filters",s.jsx(Fd,{className:`transition-transform ${j?"rotate-180":""}`,size:16})]}),oe>0&&s.jsx("button",{onClick:J,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),j&&s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),s.jsxs("select",{value:`${m}-${x}`,onChange:G=>{const[ee,W]=G.target.value.split("-");y(ee),k(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),s.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),s.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),s.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),s.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),s.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),s.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),s.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),s.jsxs("select",{value:w,onChange:G=>b(G.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Bills"}),s.jsx("option",{value:"unpaid",children:"Unpaid Only"}),s.jsx("option",{value:"paid",children:"Paid Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),s.jsxs("select",{value:N,onChange:G=>T(G.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Dates"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"nextWeek",children:"Next Week"}),s.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),s.jsxs("select",{value:P,onChange:G=>R(G.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Amounts"}),s.jsx("option",{value:"under100",children:"Under $100"}),s.jsx("option",{value:"100to500",children:"$100 - $500"}),s.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",te.length," of ",t.length," bills",oe>0&&` with ${oe} filter${oe!==1?"s":""} applied`]})})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>ne("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?s.jsx(Yo,{size:14}):s.jsx(Ko,{size:14}))]})}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>ne("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?s.jsx(Yo,{size:14}):s.jsx(Ko,{size:14}))]})}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3",children:"Receipt"}),s.jsx("th",{className:"p-3 text-right",children:s.jsxs("button",{onClick:()=>ne("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?s.jsx(Yo,{size:14}):s.jsx(Ko,{size:14}))]})}),s.jsx("th",{className:"p-3 text-center",children:s.jsxs("button",{onClick:()=>ne("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?s.jsx(Yo,{size:14}):s.jsx(Ko,{size:14}))]})}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):te.map(G=>s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[G.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("button",{onClick:()=>a(G.id),className:"hover:scale-110 transition-transform",children:e[G.id]?s.jsx($a,{className:"text-green-500",size:20}):s.jsx(M4,{className:"text-slate-400 dark:text-slate-600",size:20})})}),s.jsxs("td",{className:`p-3 font-medium ${e[G.id]?"line-through":""}`,children:[G.name,G.category&&s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:G.category})]}),s.jsx("td",{className:"p-3 text-center",children:G.notes&&s.jsxs("div",{className:"group relative flex justify-center",children:[s.jsx($4,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),s.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:G.notes})]})}),s.jsx("td",{className:"p-3 text-center",children:G.attachmentURL?s.jsx("a",{href:G.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:s.jsx(ZT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):s.jsx(ZT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),s.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(G.amount||0).toFixed(2)]}),s.jsx("td",{className:"p-3 text-center font-medium",children:G.dueDay}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>l("bill",G),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>c("bill",G.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:s.jsx(nr,{size:16})})]})})]},G.id))})]})}),s.jsxs("button",{onClick:()=>l("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[s.jsx(an,{size:18}),"Add New Bill"]})]})},qp=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=X.useRef(null);return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:n,type:"file",accept:r,onChange:a=>{a.target.files[0]&&(window.handleEnhancedCSVImport?.(a.target.files[0],t),a.target.value="")},style:{display:"none"}}),s.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(lo,{size:16}),e]})]})},lle=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:a,setSearchTerm:i})=>{const l=X.useMemo(()=>t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(a.toLowerCase()))),[t,a]);return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(qp,{type:"recurring",label:"Import"}),s.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16}),"Export"]}),s.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(an,{size:18}),"Add Recurring Work"]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search recurring work...",value:a,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Work Name"}),s.jsx("th",{className:"p-3",children:"Client ID"}),s.jsx("th",{className:"p-3 text-right",children:"Revenue"}),s.jsx("th",{className:"p-3",children:"Frequency"}),s.jsx("th",{className:"p-3",children:"Next Due Date"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:l.length>0?l.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsx("td",{className:"p-3",children:c.clientId}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(c.revenue||0).toFixed(2)]}),s.jsx("td",{className:"p-3",children:c.frequency}),s.jsx("td",{className:"p-3",children:c.nextDueDate}),s.jsx("td",{className:"p-3 text-sm text-slate-500",children:c.notes}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("recurring",c),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(rn,{size:16})}),s.jsx("button",{onClick:()=>r("recurring",c.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(nr,{size:16})})]})]},c.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},cle={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},An="hvac-finance-dashboard",pN=rk(cle),YR=fk(pN),Fr=e4(pN),ule=bq(pN),dle=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(!0),[a,i]=B.useState([]),[l,c]=B.useState([]),[d,h]=B.useState([]),[p,m]=B.useState([]),[y,x]=B.useState([]),[k,w]=B.useState([]),[b,N]=B.useState([]),[T,P]=B.useState([]),[R,j]=B.useState([]),[C,A]=B.useState([]),[I,L]=B.useState([]),[O,D]=B.useState([]),[F,$]=B.useState([]),[te,ne]=B.useState([]),[J,oe]=B.useState({}),[re,G]=B.useState(!1),[ee,W]=B.useState(null),[K,Y]=B.useState("bill"),[ie,me]=B.useState({key:"dueDay",direction:"ascending"}),[ce,he]=B.useState("dashboard"),[be,z]=B.useState(null),[ge,xe]=B.useState(0),[q,de]=B.useState({start:new Date,end:new Date}),[_e,Ie]=B.useState("monthly"),[Ue,Zt]=B.useState(!0),[gr,sn]=B.useState("dark"),[Rt,Dt]=B.useState(""),[Rr,on]=B.useState([]),[lr,Rn]=B.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[Ht,Gt]=B.useState({}),Dn=(fe,ye)=>{if(!fe||!t)return alert("Please select a file and ensure you're logged in.");const Ve=new FileReader;Ve.onload=Ce=>{try{const St=Ce.target.result.split(`
`).filter(Et=>Et.trim());if(St.length<2)return alert("CSV file must have at least a header row and one data row.");const it=Et=>{const Tt=[];let er="",Mn=!1;for(let ra=0;ra<Et.length;ra++){const Yt=Et[ra];Yt==='"'?Mn=!Mn:Yt===","&&!Mn?(Tt.push(er.trim()),er=""):er+=Yt}return Tt.push(er.trim()),Tt},dt=it(St[0]).map(Et=>Et.replace(/"/g,"").trim()),Ut=St.slice(1,6).map(Et=>{const Tt=it(Et);return dt.reduce((er,Mn,ra)=>{let Yt=Tt[ra]||"";return Yt=Yt.replace(/"/g,"").trim(),er[Mn]=Yt&&!isNaN(Yt)&&Yt!==""?parseFloat(Yt):Yt,er},{})}),rt=St.slice(1).map(Et=>{const Tt=it(Et);return dt.reduce((er,Mn,ra)=>{let Yt=Tt[ra]||"";return Yt=Yt.replace(/"/g,"").trim(),er[Mn]=Yt&&!isNaN(Yt)&&Yt!==""?parseFloat(Yt):Yt,er},{})});Rn({show:!0,data:Ut,headers:dt,type:ye,fileName:fe.name,fullData:rt}),za(ye,dt)}catch(He){console.error("Error parsing CSV:",He),alert("Error parsing CSV file.")}},Ve.readAsText(fe)};B.useEffect(()=>(window.handleEnhancedCSVImport=Dn,()=>{delete window.handleEnhancedCSVImport}),[t]);const gt=(fe,ye)=>{for(const Ve of ye){const Ce=fe.find(He=>He.toLowerCase().includes(Ve.toLowerCase()));if(Ce)return Ce}return fe[0]||""},za=(fe,ye)=>{const Ve={job:{name:gt(ye,["name","job name","title","description"]),revenue:gt(ye,["revenue","amount","total","price"]),materialCost:gt(ye,["material cost","materials"]),laborCost:gt(ye,["labor cost","labor"]),date:gt(ye,["date","completed"]),notes:gt(ye,["notes","comments"]),clientId:gt(ye,["client","customer id"])},client:{name:gt(ye,["name","customer name","company"]),address:gt(ye,["address","location"]),phone:gt(ye,["phone","contact"]),email:gt(ye,["email"])},invoice:{billTo:gt(ye,["bill to","customer","client"]),customer:gt(ye,["customer","company"]),jobNo:gt(ye,["job no","job id"]),completedOn:gt(ye,["completed","date"]),net:gt(ye,["net","amount","subtotal"]),grandTotal:gt(ye,["grand total","total"]),status:gt(ye,["status","paid"])},recurring:{name:gt(ye,["name","work name","title"]),clientId:gt(ye,["client id","customer id"]),revenue:gt(ye,["revenue","amount","price"]),frequency:gt(ye,["frequency","schedule"]),nextDueDate:gt(ye,["next due","due date"]),notes:gt(ye,["notes","details"])}};Gt(Ve[fe]||{})},wi=async()=>{if(!lr.fullData.length)return alert("No data to import.");const{type:fe,fullData:ye,fileName:Ve}=lr;try{const He={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory",recurring:"recurringWork"}[fe];if(!He)return alert("Invalid import type.");const St=Zv(Fr),it=ni(Fr,"artifacts",An,"users",t,He);let dt=0;if(ye.forEach(Ut=>{const rt={};if(Object.entries(Ht).forEach(([Tt,er])=>{er&&Ut[er]!==void 0&&Ut[er]!==""&&(rt[Tt]=Ut[er])}),fe==="job"?(rt.date=rt.date||new Date().toISOString(),rt.revenue=rt.revenue||0,rt.materialCost=rt.materialCost||0,rt.laborCost=rt.laborCost||0):fe==="invoice"?(rt.status=rt.status||"Unpaid",rt.net=rt.net||0,rt.grandTotal=rt.grandTotal||rt.net||0):fe==="recurring"&&(rt.revenue=rt.revenue||0,rt.frequency=rt.frequency||"Monthly",rt.nextDueDate=rt.nextDueDate||new Date().toISOString().split("T")[0]),fe==="job"&&rt.name||fe==="client"&&rt.name||fe==="invoice"&&(rt.billTo||rt.customer)||fe==="inventory"&&rt.name||fe==="recurring"&&rt.name){const Tt=fr(it);St.set(Tt,{...rt,importedFrom:Ve,importedAt:Us(),createdAt:Us()}),dt++}}),dt===0)return alert("No valid records found to import.");await St.commit(),alert(`Successfully imported ${dt} ${He} from ${Ve}!`),Rn({show:!1,data:[],headers:[],type:"",fileName:""}),Gt({})}catch(Ce){console.error("Error importing CSV:",Ce),alert(`Failed to import CSV: ${Ce.message}`)}},_i=()=>lr.show?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",lr.fileName]}),s.jsx("button",{onClick:()=>Rn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(co,{size:24})})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",lr.fullData?.length||0," records. Showing first 5 for preview."]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(Ht).map(fe=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[fe,":"]}),s.jsxs("select",{value:Ht[fe]||"",onChange:ye=>Gt(Ve=>({...Ve,[fe]:ye.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[s.jsx("option",{value:"",children:"-- Skip Field --"}),lr.headers.map(ye=>s.jsx("option",{value:ye,children:ye},ye))]})]},fe))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:s.jsx("tr",{children:lr.headers.map(fe=>s.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:fe},fe))})}),s.jsx("tbody",{children:lr.data.map((fe,ye)=>s.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:lr.headers.map(Ve=>s.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(fe[Ve]||"")},Ve))},ye))})]})})]})]}),s.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 mt-auto",children:[s.jsx("button",{onClick:()=>Rn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsxs("button",{onClick:wi,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",lr.fullData?.length||0," Records"]})]})]})}):null,xn=(fe,ye,Ve=null)=>{if(!fe||fe.length===0)return alert("No data to export.");try{const Ce=Ve||Object.keys(fe[0]).filter(Et=>Et!=="id"&&!Et.includes("At")),He=Et=>{if(Et==null)return"";const Tt=String(Et);return Tt.includes(",")||Tt.includes('"')||Tt.includes(`
`)?`"${Tt.replace(/"/g,'""')}"`:Tt},it=[Ce.join(","),...fe.map(Et=>Ce.map(Tt=>He(Et[Tt])).join(","))].join(`
`),dt=new Blob([it],{type:"text/csv;charset=utf-8;"}),Ut=document.createElement("a"),rt=URL.createObjectURL(dt);Ut.setAttribute("href",rt),Ut.setAttribute("download",`${An}_${ye}_${new Date().toISOString().split("T")[0]}.csv`),Ut.style.visibility="hidden",document.body.appendChild(Ut),Ut.click(),document.body.removeChild(Ut)}catch(Ce){console.error("Error exporting CSV:",Ce),alert("Failed to export CSV: "+Ce.message)}},mo=()=>{xn([{"Job Name":"Sample HVAC Install",Revenue:5e3,"Material Cost":2e3,"Labor Cost":1500,Date:"2025-01-15",Customer:"Sample Customer",Notes:"Sample job for import"}],"appsheet_template",["Job Name","Revenue","Material Cost","Labor Cost","Date","Customer","Notes"])};B.useEffect(()=>{document.documentElement.classList.toggle("dark",gr==="dark")},[gr]);const go=()=>sn(gr==="light"?"dark":"light");B.useEffect(()=>{const fe=new Date;let ye,Ve;if(_e==="monthly")ye=new Date(fe.getFullYear(),fe.getMonth(),1),Ve=new Date(fe.getFullYear(),fe.getMonth()+1,0);else if(_e==="quarterly"){const Ce=Math.floor(fe.getMonth()/3);ye=new Date(fe.getFullYear(),Ce*3,1),Ve=new Date(fe.getFullYear(),Ce*3+3,0)}else ye=new Date(fe.getFullYear(),0,1),Ve=new Date(fe.getFullYear(),11,31);de({start:ye,end:Ve})},[_e]);const ki=B.useMemo(()=>q.start.getFullYear()+"-"+String(q.start.getMonth()+1).padStart(2,"0"),[q]);B.useEffect(()=>{const fe=ZV(YR,ye=>{e(ye?ye.uid:null),n(!1)});return()=>fe()},[]),B.useEffect(()=>{if(!t)return;const ye=Object.entries({bills:i,debts:c,incomes:h,weeklyCosts:m,jobs:x,tasks:w,invoices:N,taxPayments:P,goals:j,clients:A,inventory:L,vehicles:D,maintenanceLogs:$,recurringWork:ne}).map(([Ce,He])=>_c(a8(ni(Fr,"artifacts",An,"users",t,Ce)),St=>{He(St.docs.map(it=>({id:it.id,...it.data()})))},St=>console.error(`Error fetching ${Ce}:`,St))),Ve=_c(fr(Fr,"artifacts",An,"users",t,"paidStatus",ki),Ce=>{oe(Ce.exists()?Ce.data().status:{})},Ce=>console.error("Error fetching paid status:",Ce));return()=>{ye.forEach(Ce=>Ce()),Ve()}},[t,ki]),B.useEffect(()=>{if(!t)return;const fe=_c(fr(Fr,"artifacts",An,"users",t,"settings","currentBalance"),ye=>{xe(ye.exists()&&ye.data().amount||0)},ye=>console.error("Error fetching current balance:",ye));return()=>fe()},[t]);const Qn=B.useMemo(()=>y.filter(fe=>{if(!fe.date)return!1;const ye=new Date(fe.date);return ye>=q.start&&ye<=q.end}),[y,q]),Wa=B.useMemo(()=>a.filter(fe=>!be||fe.category===be),[a,be]),Jn=B.useMemo(()=>{const fe=d.reduce((it,dt)=>it+(dt.amount||0),0),ye=a.reduce((it,dt)=>it+(dt.amount||0),0),Ve=p.reduce((it,dt)=>it+(dt.amount||0),0)*4.33,Ce=ye+Ve,He=fe-Ce,St=l.reduce((it,dt)=>it+((dt.totalAmount||0)-(dt.paidAmount||0)),0);return{totalIncome:fe,totalOutflow:Ce,netCashFlow:He,totalDebt:St}},[a,l,d,p]),Zn=B.useMemo(()=>{const fe=Qn.reduce((Ce,He)=>Ce+(He.revenue||0),0),ye=Qn.reduce((Ce,He)=>Ce+(He.materialCost||0)+(He.laborCost||0),0),Ve=fe-ye;return{revenue:fe,cogs:ye,grossProfit:Ve}},[Qn]),bn=B.useMemo(()=>{const fe=a.reduce((Ve,Ce)=>{const He=Ce.category||"Uncategorized";return Ve[He]=(Ve[He]||0)+Ce.amount,Ve},{}),ye=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(fe).map(([Ve,Ce],He)=>({name:Ve,value:Ce,color:ye[He%ye.length]})).sort((Ve,Ce)=>Ce.value-Ve.value)},[a]),ea=B.useMemo(()=>{let ye={bills:Wa,debts:l,incomes:d,weeklyCosts:p,jobs:y,goals:R,clients:C,inventory:I,vehicles:O,invoices:b,recurring:te}[ce]||[];return Rt&&(ye=ye.filter(Ve=>Object.values(Ve).some(Ce=>Ce&&String(Ce).toLowerCase().includes(Rt.toLowerCase())))),[...ye].sort((Ve,Ce)=>ie.key?Ve[ie.key]<Ce[ie.key]?ie.direction==="ascending"?-1:1:Ve[ie.key]>Ce[ie.key]?ie.direction==="ascending"?1:-1:0:0)},[Wa,l,d,p,y,R,C,I,O,b,te,ie,ce,Rt]),us=B.useMemo(()=>{const fe=l.map(Ce=>({...Ce,remaining:Ce.totalAmount-Ce.paidAmount})).filter(Ce=>Ce.remaining>0),ye=[...fe].sort((Ce,He)=>He.interestRate-Ce.interestRate),Ve=[...fe].sort((Ce,He)=>Ce.remaining-He.remaining);return{avalanche:ye,snowball:Ve}},[l]),ta=B.useMemo(()=>R.map(fe=>{let ye=0;if(fe.type==="debt"){const Ve=l.find(Ce=>Ce.id===fe.targetId);Ve&&(ye=Ve.paidAmount/Ve.totalAmount*100)}else fe.type==="revenue"&&(ye=y.reduce((Ce,He)=>Ce+(He.revenue||0),0)/fe.targetValue*100);return{...fe,progress:Math.min(ye,100)}}),[R,l,y]),vo=fe=>me(ye=>({key:fe,direction:ye.key===fe&&ye.direction==="ascending"?"descending":"ascending"})),ji=async fe=>{t&&await C_(fr(Fr,"artifacts",An,"users",t,"paidStatus",ki),{status:{...J,[fe]:!J[fe]}},{merge:!0})},yo=async(fe,ye)=>{if(!t)return;const Ve=ye==="Paid"?"Unpaid":"Paid";await tl(fr(Fr,"artifacts",An,"users",t,"invoices",fe),{status:Ve})},Bt=(fe,ye=null)=>{Y(fe),W(ye),G(!0)},xo=async fe=>{if(!t)return alert("Please log in to update the balance.");try{await C_(fr(Fr,"artifacts",An,"users",t,"settings","currentBalance"),{amount:fe,updatedAt:Us()},{merge:!0})}catch(ye){console.error("Failed to update current balance:",ye),alert("Failed to update balance: "+ye.message)}},Kt=async(fe,ye)=>{if(!t)return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[K];if(!Ce)return alert("Invalid modal type for saving.");const He=["artifacts",An,"users",t,Ce],St={...fe,modifiedAt:Us()};if(ye){const it=xq(ule,`receipts/${t}/${Date.now()}-${ye.name}`);try{await vq(it,ye),St.attachmentURL=await yq(it)}catch(dt){return console.error("File upload failed:",dt),alert("File upload failed. Please try again.")}}try{ee?.id?await tl(fr(Fr,...He,ee.id),St):await m4(ni(Fr,...He),{...St,createdAt:Us()}),G(!1),W(null)}catch(it){console.error("Error saving item:",it),alert("Failed to save item.")}},vr=async(fe,ye)=>{if(!t||!window.confirm("Delete this item?"))return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[fe];if(!Ce)return alert("Invalid item type for deletion.");try{await p4(fr(Fr,"artifacts",An,"users",t,Ce,ye))}catch(He){console.error(`Error deleting ${fe}:`,He),alert(`Failed to delete ${fe}. Error: ${He.message}`)}},ln=async(fe,ye)=>{if(!t||!ye.length||!window.confirm(`Delete ${ye.length} selected items?`))return;const Ce={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[fe];if(!Ce)return alert("Invalid bulk delete type.");try{const He=Zv(Fr);ye.forEach(St=>{He.delete(fr(Fr,"artifacts",An,"users",t,Ce,St)),fe==="vehicle"&&F.filter(dt=>dt.vehicleId===St).forEach(dt=>He.delete(fr(Fr,"artifacts",An,"users",t,"maintenanceLogs",dt.id)))}),await He.commit(),on([])}catch(He){console.error(`Error bulk deleting ${fe}s:`,He),alert(`Failed to delete ${fe}s. Please try again.`)}},Ni=async()=>{if(!(!t||!window.confirm("Clear all your business data? This is irreversible.")))try{const fe=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","recurringWork","paidStatus","system","settings"];for(const ye of fe){const Ve=await o8(ni(Fr,"artifacts",An,"users",t,ye));if(!Ve.empty){const Ce=Zv(Fr);Ve.docs.forEach(He=>Ce.delete(He.ref)),await Ce.commit()}}alert("All business data has been cleared.")}catch(fe){console.error("Failed to clear data:",fe),alert("Failed to clear data: "+fe.message)}};if(r)return s.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return s.jsx(Gq,{setUserId:e});const Si=()=>s.jsxs(s.Fragment,{children:[Ue&&s.jsx(Koe,{bills:a,paidStatus:J,onClose:()=>Zt(!1)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(ri,{title:"Total Monthly Income",value:`$${Jn.totalIncome.toLocaleString()}`,icon:s.jsx(Pq,{size:24}),color:"green"}),s.jsx(ri,{title:"Total Monthly Outflow",value:`$${Jn.totalOutflow.toLocaleString()}`,icon:s.jsx(Eq,{size:24}),color:"red"}),s.jsx(ri,{title:"Projected Net",value:`$${Jn.netCashFlow.toLocaleString()}`,icon:s.jsx(zr,{size:24}),color:Jn.netCashFlow>=0?"cyan":"amber"}),s.jsx(ri,{title:"Outstanding Debt",value:`$${Jn.totalDebt.toLocaleString()}`,icon:s.jsx(Bh,{size:24}),color:"orange"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx(ri,{title:"Gross Profit Margin",value:`${Zn.revenue>0?(Zn.grossProfit/Zn.revenue*100).toFixed(1):"0.0"}%`,icon:s.jsx(F4,{size:24}),color:"teal",subtext:"For selected period"}),s.jsx(ri,{title:"Avg. Job Revenue",value:`$${(Zn.revenue/(Qn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(xa,{size:24}),color:"indigo",subtext:`${Qn.length} jobs`}),s.jsx(ri,{title:"Avg. Job Profit",value:`$${(Zn.grossProfit/(Qn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(Bd,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx(ole,{bills:a,paidStatus:J,selectedCategory:be,setSelectedCategory:z,handleTogglePaid:ji,handleSort:vo,openModal:Bt,handleDelete:vr,handleEnhancedExportCSV:xn}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),s.jsx(Yoe,{data:bn,onSliceClick:z})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(qp,{type:"job",label:"Import Jobs"}),s.jsx(qp,{type:"client",label:"Import Customers"}),s.jsx(qp,{type:"invoice",label:"Import Invoices"})]}),s.jsxs("button",{onClick:mo,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(In,{size:16})," Download CSV Template"]}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[s.jsx("p",{children:"• Export data from AppSheet as CSV"}),s.jsx("p",{children:"• Use Import buttons to map fields"}),s.jsx("p",{children:"• Download template for reference"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome!"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{children:"• Use the navigation tabs to add clients, jobs, vehicles, and more."}),s.jsx("p",{children:"• Track your finances and business performance from the dashboard."})]})]}),s.jsxs("button",{onClick:Ni,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(nr,{size:16})," Clear All Data"]})]})]})]})]})]});return s.jsxs("div",{className:`${gr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:go,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:gr==="light"?s.jsx(Vq,{size:20}):s.jsx(qq,{size:20})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[s.jsx("button",{onClick:()=>Ie("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>Ie("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),s.jsx("button",{onClick:()=>Ie("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[s.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()-1):_e==="quarterly"?fe.setMonth(fe.getMonth()-3):fe.setFullYear(fe.getFullYear()-1);let ye;_e==="monthly"?ye=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ye=new Date(fe.getFullYear(),fe.getMonth()+3,0):ye=new Date(fe.getFullYear(),11,31),de({start:fe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:s.jsx(D4,{size:16})}),s.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&q.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((q.start.getMonth()+1)/3)} ${q.start.getFullYear()}`,_e==="yearly"&&q.start.getFullYear().toString()]}),s.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()+1):_e==="quarterly"?fe.setMonth(fe.getMonth()+3):fe.setFullYear(fe.getFullYear()+1);let ye;_e==="monthly"?ye=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ye=new Date(fe.getFullYear(),fe.getMonth()+3,0):ye=new Date(fe.getFullYear(),11,31),de({start:fe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:s.jsx(tj,{size:16})})]})]}),s.jsxs("button",{onClick:()=>eB(YR),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Lq,{size:16})," Logout"]})]})]}),s.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[s.jsx("button",{onClick:()=>he("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),s.jsx("button",{onClick:()=>he("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),s.jsx("button",{onClick:()=>he("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),s.jsx("button",{onClick:()=>he("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),s.jsx("button",{onClick:()=>he("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),s.jsx("button",{onClick:()=>he("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),s.jsx("button",{onClick:()=>he("workorder"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="workorder"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Workorder"}),s.jsx("button",{onClick:()=>he("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),s.jsx("button",{onClick:()=>he("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),s.jsx("button",{onClick:()=>he("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),s.jsx("button",{onClick:()=>he("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),s.jsx("button",{onClick:()=>he("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),s.jsx("button",{onClick:()=>he("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),s.jsx("button",{onClick:()=>he("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),s.jsx("button",{onClick:()=>he("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),s.jsx("button",{onClick:()=>he("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),s.jsx("button",{onClick:()=>he("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Valuation"}),s.jsx("button",{onClick:()=>he("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"}),s.jsx("button",{onClick:()=>he("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ce==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"})]}),s.jsxs("main",{children:[ce==="dashboard"&&Si(),ce==="reports"&&s.jsx(Goe,{clients:C,jobs:y,bills:a,inventory:I}),ce==="valuation"&&s.jsx(Woe,{}),ce==="calendar"&&s.jsx(poe,{jobs:y,tasks:k,openModal:Bt}),ce==="invoices"&&s.jsx(goe,{invoices:b,openModal:Bt,handleDelete:vr,handleBulkDelete:ln,selectedIds:Rr,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleImportCSV:Dn,handleExportCSV:xn,handleToggleInvoicePaid:yo}),ce==="tax"&&s.jsx(foe,{jobs:y,bills:a,weeklyCosts:p,taxPayments:T,openModal:Bt,handleDelete:vr}),ce==="pnl"&&s.jsx(Zoe,{jobs:y,bills:a,weeklyCosts:p,reportingPeriod:_e,dateRange:q}),ce==="forecast"&&s.jsx(Xoe,{invoices:b,bills:a,weeklyCosts:p,currentBankBalance:ge,setCurrentBankBalance:xo}),ce==="goals"&&s.jsx(rle,{goalsWithProgress:ta,openModal:Bt,onDeleteGoal:fe=>vr("goal",fe),onEditGoal:fe=>Bt("goal",fe)}),ce==="incentives"&&s.jsx(sle,{userId:t,db:Fr,appId:An}),ce==="clients"&&s.jsx(qoe,{clients:C,openModal:Bt,handleDelete:vr,handleBulkDelete:ln,selectedIds:Rr,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleImportCSV:Dn,handleExportCSV:xn,handleBulkUpdate:fe=>handleBulkUpdate("client",fe)}),ce==="jobs"&&s.jsx(Joe,{jobs:y,clients:C,openModal:Bt,handleDelete:vr,searchTerm:Rt,setSearchTerm:Dt,handleEnhancedExportCSV:xn}),ce==="recurring"&&s.jsx(lle,{recurringWork:ea,openModal:Bt,handleDelete:vr,handleEnhancedExportCSV:xn,searchTerm:Rt,setSearchTerm:Dt}),ce==="workorder"&&s.jsx($oe,{}),ce==="vehicles"&&s.jsx(zoe,{vehicles:O,maintenanceLogs:F,openModal:Bt,handleDelete:vr,searchTerm:Rt,setSearchTerm:Dt}),ce==="inventory"&&s.jsx(Hoe,{inventory:I,openModal:Bt,handleDelete:vr,handleBulkDelete:ln,selectedIds:Rr,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleEnhancedExportCSV:xn}),ce==="debts"&&s.jsx(ele,{debts:l,openModal:Bt,handleDelete:vr,searchTerm:Rt,setSearchTerm:Dt,debtPayoffStrategies:us,handleEnhancedExportCSV:xn}),ce==="incomes"&&s.jsx(tle,{incomes:d,openModal:Bt,handleDelete:vr}),ce==="weeklyCosts"&&s.jsx(nle,{weeklyCosts:p,openModal:Bt,handleDelete:vr})]}),s.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:s.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",s.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),s.jsx(_i,{}),re&&s.jsx(moe,{item:ee,type:K,onSave:Kt,onClose:()=>G(!1),debts:l,clients:C,vehicles:O})]})};b5.createRoot(document.getElementById("root")).render(s.jsx(X.StrictMode,{children:s.jsx(dle,{})}));
