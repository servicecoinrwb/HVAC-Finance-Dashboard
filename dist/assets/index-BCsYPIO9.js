(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ey={exports:{}},ic={},Sy={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function P$(){if(DT)return Ze;DT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function b(q,G,ue){this.props=q,this.context=G,this.refs=S,this.updater=ue||x}b.prototype.isReactComponent={},b.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function k(){}k.prototype=b.prototype;function R(q,G,ue){this.props=q,this.context=G,this.refs=S,this.updater=ue||x}var M=R.prototype=new k;M.constructor=R,T(M,b.prototype),M.isPureReactComponent=!0;var V=Array.isArray,O=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,G,ue){var _e,Ce={},Le=null,Xe=null;if(G!=null)for(_e in G.ref!==void 0&&(Xe=G.ref),G.key!==void 0&&(Le=""+G.key),G)O.call(G,_e)&&!A.hasOwnProperty(_e)&&(Ce[_e]=G[_e]);var Ne=arguments.length-2;if(Ne===1)Ce.children=ue;else if(1<Ne){for(var de=Array(Ne),Ee=0;Ee<Ne;Ee++)de[Ee]=arguments[Ee+2];Ce.children=de}if(q&&q.defaultProps)for(_e in Ne=q.defaultProps,Ne)Ce[_e]===void 0&&(Ce[_e]=Ne[_e]);return{$$typeof:t,type:q,key:Le,ref:Xe,props:Ce,_owner:C.current}}function N(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function $(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return G[ue]})}var F=/\/+/g;function D(q,G){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):G.toString(36)}function re(q,G,ue,_e,Ce){var Le=typeof q;(Le==="undefined"||Le==="boolean")&&(q=null);var Xe=!1;if(q===null)Xe=!0;else switch(Le){case"string":case"number":Xe=!0;break;case"object":switch(q.$$typeof){case t:case e:Xe=!0}}if(Xe)return Xe=q,Ce=Ce(Xe),q=_e===""?"."+D(Xe,0):_e,V(Ce)?(ue="",q!=null&&(ue=q.replace(F,"$&/")+"/"),re(Ce,G,ue,"",function(Ee){return Ee})):Ce!=null&&(L(Ce)&&(Ce=N(Ce,ue+(!Ce.key||Xe&&Xe.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+q)),G.push(Ce)),1;if(Xe=0,_e=_e===""?".":_e+":",V(q))for(var Ne=0;Ne<q.length;Ne++){Le=q[Ne];var de=_e+D(Le,Ne);Xe+=re(Le,G,ue,de,Ce)}else if(de=v(q),typeof de=="function")for(q=de.call(q),Ne=0;!(Le=q.next()).done;)Le=Le.value,de=_e+D(Le,Ne++),Xe+=re(Le,G,ue,de,Ce);else if(Le==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Xe}function ne(q,G,ue){if(q==null)return q;var _e=[],Ce=0;return re(q,_e,"","",function(Le){return G.call(ue,Le,Ce++)}),_e}function se(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Z={transition:null},Y={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:C};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ne,forEach:function(q,G,ue){ne(q,function(){G.apply(this,arguments)},ue)},count:function(q){var G=0;return ne(q,function(){G++}),G},toArray:function(q){return ne(q,function(G){return G})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=b,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=R,Ze.StrictMode=n,Ze.Suspense=c,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ze.act=ie,Ze.cloneElement=function(q,G,ue){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var _e=T({},q.props),Ce=q.key,Le=q.ref,Xe=q._owner;if(G!=null){if(G.ref!==void 0&&(Le=G.ref,Xe=C.current),G.key!==void 0&&(Ce=""+G.key),q.type&&q.type.defaultProps)var Ne=q.type.defaultProps;for(de in G)O.call(G,de)&&!A.hasOwnProperty(de)&&(_e[de]=G[de]===void 0&&Ne!==void 0?Ne[de]:G[de])}var de=arguments.length-2;if(de===1)_e.children=ue;else if(1<de){Ne=Array(de);for(var Ee=0;Ee<de;Ee++)Ne[Ee]=arguments[Ee+2];_e.children=Ne}return{$$typeof:t,type:q.type,key:Ce,ref:Le,props:_e,_owner:Xe}},Ze.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Ze.createElement=P,Ze.createFactory=function(q){var G=P.bind(null,q);return G.type=q,G},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:u,render:q}},Ze.isValidElement=L,Ze.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:se}},Ze.memo=function(q,G){return{$$typeof:d,type:q,compare:G===void 0?null:G}},Ze.startTransition=function(q){var G=Z.transition;Z.transition={};try{q()}finally{Z.transition=G}},Ze.unstable_act=ie,Ze.useCallback=function(q,G){return oe.current.useCallback(q,G)},Ze.useContext=function(q){return oe.current.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},Ze.useEffect=function(q,G){return oe.current.useEffect(q,G)},Ze.useId=function(){return oe.current.useId()},Ze.useImperativeHandle=function(q,G,ue){return oe.current.useImperativeHandle(q,G,ue)},Ze.useInsertionEffect=function(q,G){return oe.current.useInsertionEffect(q,G)},Ze.useLayoutEffect=function(q,G){return oe.current.useLayoutEffect(q,G)},Ze.useMemo=function(q,G){return oe.current.useMemo(q,G)},Ze.useReducer=function(q,G,ue){return oe.current.useReducer(q,G,ue)},Ze.useRef=function(q){return oe.current.useRef(q)},Ze.useState=function(q){return oe.current.useState(q)},Ze.useSyncExternalStore=function(q,G,ue){return oe.current.useSyncExternalStore(q,G,ue)},Ze.useTransition=function(){return oe.current.useTransition()},Ze.version="18.3.1",Ze}var LT;function kw(){return LT||(LT=1,Sy.exports=P$()),Sy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function k$(){if($T)return ic;$T=1;var t=kw(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,d){var p,m={},v=null,x=null;d!==void 0&&(v=""+d),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(x=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(m[p]=c[p]);if(u&&u.defaultProps)for(p in c=u.defaultProps,c)m[p]===void 0&&(m[p]=c[p]);return{$$typeof:e,type:u,key:v,ref:x,props:m,_owner:i.current}}return ic.Fragment=r,ic.jsx=s,ic.jsxs=s,ic}var VT;function O$(){return VT||(VT=1,Ey.exports=k$()),Ey.exports}var y=O$(),W=kw();const X=yt(W);var ah={},Ty={exports:{}},Zr={},Ay={exports:{}},Iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function C$(){return FT||(FT=1,function(t){function e(Z,Y){var ie=Z.length;Z.push(Y);e:for(;0<ie;){var q=ie-1>>>1,G=Z[q];if(0<i(G,Y))Z[q]=Y,Z[ie]=G,ie=q;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var Y=Z[0],ie=Z.pop();if(ie!==Y){Z[0]=ie;e:for(var q=0,G=Z.length,ue=G>>>1;q<ue;){var _e=2*(q+1)-1,Ce=Z[_e],Le=_e+1,Xe=Z[Le];if(0>i(Ce,ie))Le<G&&0>i(Xe,Ce)?(Z[q]=Xe,Z[Le]=ie,q=Le):(Z[q]=Ce,Z[_e]=ie,q=_e);else if(Le<G&&0>i(Xe,ie))Z[q]=Xe,Z[Le]=ie,q=Le;else break e}}return Y}function i(Z,Y){var ie=Z.sortIndex-Y.sortIndex;return ie!==0?ie:Z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],p=1,m=null,v=3,x=!1,T=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Z){for(var Y=r(d);Y!==null;){if(Y.callback===null)n(d);else if(Y.startTime<=Z)n(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=r(d)}}function V(Z){if(S=!1,M(Z),!T)if(r(c)!==null)T=!0,se(O);else{var Y=r(d);Y!==null&&oe(V,Y.startTime-Z)}}function O(Z,Y){T=!1,S&&(S=!1,k(P),P=-1),x=!0;var ie=v;try{for(M(Y),m=r(c);m!==null&&(!(m.expirationTime>Y)||Z&&!$());){var q=m.callback;if(typeof q=="function"){m.callback=null,v=m.priorityLevel;var G=q(m.expirationTime<=Y);Y=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(c)&&n(c),M(Y)}else n(c);m=r(c)}if(m!==null)var ue=!0;else{var _e=r(d);_e!==null&&oe(V,_e.startTime-Y),ue=!1}return ue}finally{m=null,v=ie,x=!1}}var C=!1,A=null,P=-1,N=5,L=-1;function $(){return!(t.unstable_now()-L<N)}function F(){if(A!==null){var Z=t.unstable_now();L=Z;var Y=!0;try{Y=A(!0,Z)}finally{Y?D():(C=!1,A=null)}}else C=!1}var D;if(typeof R=="function")D=function(){R(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ne=re.port2;re.port1.onmessage=F,D=function(){ne.postMessage(null)}}else D=function(){b(F,0)};function se(Z){A=Z,C||(C=!0,D())}function oe(Z,Y){P=b(function(){Z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,se(O))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Z){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ie=v;v=Y;try{return Z()}finally{v=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,Y){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=v;v=Z;try{return Y()}finally{v=ie}},t.unstable_scheduleCallback=function(Z,Y,ie){var q=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?q+ie:q):ie=q,Z){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ie+G,Z={id:p++,callback:Y,priorityLevel:Z,startTime:ie,expirationTime:G,sortIndex:-1},ie>q?(Z.sortIndex=ie,e(d,Z),r(c)===null&&Z===r(d)&&(S?(k(P),P=-1):S=!0,oe(V,ie-q))):(Z.sortIndex=G,e(c,Z),T||x||(T=!0,se(O))),Z},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(Z){var Y=v;return function(){var ie=v;v=Y;try{return Z.apply(this,arguments)}finally{v=ie}}}}(Iy)),Iy}var UT;function N$(){return UT||(UT=1,Ay.exports=C$()),Ay.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function R$(){if(BT)return Zr;BT=1;var t=kw(),e=N$();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(o){return c.call(m,o)?!0:c.call(p,o)?!1:d.test(o)?m[o]=!0:(p[o]=!0,!1)}function x(o,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,f,g){if(l===null||typeof l>"u"||x(o,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(o,l,f,g,_,E,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];b[l]=new S(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(k,R);b[l]=new S(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(k,R);b[l]=new S(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(k,R);b[l]=new S(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,l,f,g){var _=b.hasOwnProperty(l)?b[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,f,_,g)&&(f=null),g||_===null?v(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):_.mustUseProperty?o[_.propertyName]=f===null?_.type===3?!1:"":f:(l=_.attributeName,g=_.attributeNamespace,f===null?o.removeAttribute(l):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,g?o.setAttributeNS(g,l,f):o.setAttribute(l,f))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function Y(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ue=!1;function _e(o,l){if(!o||ue)return"";ue=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(o,[],l)}else{try{l.call()}catch(te){g=te}o.call(l.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),E=g.stack.split(`
`),j=_.length-1,B=E.length-1;1<=j&&0<=B&&_[j]!==E[B];)B--;for(;1<=j&&0<=B;j--,B--)if(_[j]!==E[B]){if(j!==1||B!==1)do if(j--,B--,0>B||_[j]!==E[B]){var H=`
`+_[j].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=j&&0<=B);break}}}finally{ue=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?G(o):""}function Ce(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=_e(o.type,!1),o;case 11:return o=_e(o.type.render,!1),o;case 1:return o=_e(o.type,!0),o;default:return""}}function Le(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case C:return"Portal";case N:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case $:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ne:return l=o.displayName||null,l!==null?l:Le(o.type)||"Memo";case se:l=o._payload,o=o._init;try{return Le(o(l))}catch{}}return null}function Xe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function de(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ee(o){var l=de(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,E=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(j){g=""+j,E.call(this,j)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Re(o){o._valueTracker||(o._valueTracker=Ee(o))}function z(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return o&&(g=de(o)?o.checked?"true":"false":o.value),o=g,o!==f?(l.setValue(o),!0):!1}function ge(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function be(o,l){var f=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function je(o,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ne(l.value!=null?l.value:f),o._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Qe(o,l){l=l.checked,l!=null&&M(o,"checked",l,!1)}function Dt(o,l){Qe(o,l);var f=Ne(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Mr(o,l.type,f):l.hasOwnProperty("defaultValue")&&Mr(o,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function qr(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Mr(o,l,f){(l!=="number"||ge(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Dr=Array.isArray;function Yt(o,l,f,g){if(o=o.options,l){l={};for(var _=0;_<f.length;_++)l["$"+f[_]]=!0;for(f=0;f<o.length;f++)_=l.hasOwnProperty("$"+o[f].value),o[f].selected!==_&&(o[f].selected=_),_&&g&&(o[f].defaultSelected=!0)}else{for(f=""+Ne(f),l=null,_=0;_<o.length;_++){if(o[_].value===f){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function hr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function xn(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Dr(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Ne(f)}}function fi(o,l){var f=Ne(l.value),g=Ne(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),g!=null&&(o.defaultValue=""+g)}function di(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Lt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Lt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Bn,Pa=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,f,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Bn=Bn||document.createElement("div"),Bn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Bn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Bi(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(o){zr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),ka[l]=ka[o]})});function Ms(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ka.hasOwnProperty(o)&&ka[o]?(""+l).trim():l+"px"}function Ds(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,_=Ms(f,l[f],g);f==="float"&&(f="cssFloat"),g?o.setProperty(f,_):o[f]=_}}var Ls=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(o,l){if(l){if(Ls[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Po(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wn=null;function qi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ko=null,an=null,qn=null;function Oo(o){if(o=qu(o)){if(typeof ko!="function")throw Error(r(280));var l=o.stateNode;l&&(l=_d(l),ko(o.stateNode,o.type,l))}}function zn(o){an?qn?qn.push(o):qn=[o]:an=o}function $s(){if(an){var o=an,l=qn;if(qn=an=null,Oo(o),l)for(o=0;o<l.length;o++)Oo(l[o])}}function Wn(o,l){return o(l)}function Co(){}var Sr=!1;function Hn(o,l,f){if(Sr)return o(l,f);Sr=!0;try{return Wn(o,l,f)}finally{Sr=!1,(an!==null||qn!==null)&&(Co(),$s())}}function _t(o,l){var f=o.stateNode;if(f===null)return null;var g=_d(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Oa=!1;if(u)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Oa=!1}function zi(o,l,f,g,_,E,j,B,H){var te=Array.prototype.slice.call(arguments,3);try{l.apply(f,te)}catch(he){this.onError(he)}}var Wi=!1,Ca=null,on=!1,No=null,Tu={onError:function(o){Wi=!0,Ca=o}};function Na(o,l,f,g,_,E,j,B,H){Wi=!1,Ca=null,zi.apply(Tu,arguments)}function Vs(o,l,f,g,_,E,j,B,H){if(Na.apply(this,arguments),Wi){if(Wi){var te=Ca;Wi=!1,Ca=null}else throw Error(r(198));on||(on=!0,No=te)}}function Tr(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Hi(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Ar(o){if(Tr(o)!==o)throw Error(r(188))}function Fs(o){var l=o.alternate;if(!l){if(l=Tr(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,g=l;;){var _=f.return;if(_===null)break;var E=_.alternate;if(E===null){if(g=_.return,g!==null){f=g;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===f)return Ar(_),o;if(E===g)return Ar(_),l;E=E.sibling}throw Error(r(188))}if(f.return!==g.return)f=_,g=E;else{for(var j=!1,B=_.child;B;){if(B===f){j=!0,f=_,g=E;break}if(B===g){j=!0,g=_,f=E;break}B=B.sibling}if(!j){for(B=E.child;B;){if(B===f){j=!0,f=E,g=_;break}if(B===g){j=!0,g=E,f=_;break}B=B.sibling}if(!j)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function Ro(o){return o=Fs(o),o!==null?Ra(o):null}function Ra(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ra(o);if(l!==null)return l;o=o.sibling}return null}var Me=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,pt=e.unstable_shouldYield,tt=e.unstable_requestPaint,He=e.unstable_now,sn=e.unstable_getCurrentPriorityLevel,zt=e.unstable_ImmediatePriority,Qt=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,Au=e.unstable_LowPriority,Gf=e.unstable_IdlePriority,jo=null,ln=null;function Xf(o){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(jo,o,void 0,(o.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:Qf,Iu=Math.log,Yf=Math.LN2;function Qf(o){return o>>>=0,o===0?32:31-(Iu(o)/Yf|0)|0}var Us=64,Bs=4194304;function ja(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Mo(o,l){var f=o.pendingLanes;if(f===0)return 0;var g=0,_=o.suspendedLanes,E=o.pingedLanes,j=f&268435455;if(j!==0){var B=j&~_;B!==0?g=ja(B):(E&=j,E!==0&&(g=ja(E)))}else j=f&~_,j!==0?g=ja(j):E!==0&&(g=ja(E));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,E=l&-l,_>=E||_===16&&(E&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)f=31-Lr(l),_=1<<f,g|=o[f],l&=~_;return g}function Zm(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ki(o,l){for(var f=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,E=o.pendingLanes;0<E;){var j=31-Lr(E),B=1<<j,H=_[j];H===-1?((B&f)===0||(B&g)!==0)&&(_[j]=Zm(B,l)):H<=l&&(o.expiredLanes|=B),E&=~B}}function un(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Do(){var o=Us;return Us<<=1,(Us&4194240)===0&&(Us=64),o}function Ma(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Da(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Lr(l),o[l]=f}function bt(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<f;){var _=31-Lr(f),E=1<<_;l[_]=0,g[_]=-1,o[_]=-1,f&=~E}}function La(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var g=31-Lr(f),_=1<<g;_&l|o[g]&l&&(o[g]|=l),f&=~_}}var rt=0;function $a(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Jf,qs,Zf,ed,td,Pu=!1,hi=[],pr=null,Kn=null,Gn=null,Va=new Map,Sn=new Map,pi=[],eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(o,l){switch(o){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Va.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(l.pointerId)}}function Hr(o,l,f,g,_,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:E,targetContainers:[_]},l!==null&&(l=qu(l),l!==null&&qs(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function tg(o,l,f,g,_){switch(l){case"focusin":return pr=Hr(pr,o,l,f,g,_),!0;case"dragenter":return Kn=Hr(Kn,o,l,f,g,_),!0;case"mouseover":return Gn=Hr(Gn,o,l,f,g,_),!0;case"pointerover":var E=_.pointerId;return Va.set(E,Hr(Va.get(E)||null,o,l,f,g,_)),!0;case"gotpointercapture":return E=_.pointerId,Sn.set(E,Hr(Sn.get(E)||null,o,l,f,g,_)),!0}return!1}function nd(o){var l=Uo(o.target);if(l!==null){var f=Tr(l);if(f!==null){if(l=f.tag,l===13){if(l=Hi(f),l!==null){o.blockedOn=l,td(o.priority,function(){Zf(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Gi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=zs(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);wn=g,f.target.dispatchEvent(g),wn=null}else return l=qu(f),l!==null&&qs(l),o.blockedOn=f,!1;l.shift()}return!0}function Lo(o,l,f){Gi(o)&&f.delete(l)}function id(){Pu=!1,pr!==null&&Gi(pr)&&(pr=null),Kn!==null&&Gi(Kn)&&(Kn=null),Gn!==null&&Gi(Gn)&&(Gn=null),Va.forEach(Lo),Sn.forEach(Lo)}function Xn(o,l){o.blockedOn===l&&(o.blockedOn=null,Pu||(Pu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,id)))}function Yn(o){function l(_){return Xn(_,o)}if(0<hi.length){Xn(hi[0],o);for(var f=1;f<hi.length;f++){var g=hi[f];g.blockedOn===o&&(g.blockedOn=null)}}for(pr!==null&&Xn(pr,o),Kn!==null&&Xn(Kn,o),Gn!==null&&Xn(Gn,o),Va.forEach(l),Sn.forEach(l),f=0;f<pi.length;f++)g=pi[f],g.blockedOn===o&&(g.blockedOn=null);for(;0<pi.length&&(f=pi[0],f.blockedOn===null);)nd(f),f.blockedOn===null&&pi.shift()}var Xi=V.ReactCurrentBatchConfig,Fa=!0;function Ot(o,l,f,g){var _=rt,E=Xi.transition;Xi.transition=null;try{rt=1,ku(o,l,f,g)}finally{rt=_,Xi.transition=E}}function rg(o,l,f,g){var _=rt,E=Xi.transition;Xi.transition=null;try{rt=4,ku(o,l,f,g)}finally{rt=_,Xi.transition=E}}function ku(o,l,f,g){if(Fa){var _=zs(o,l,f,g);if(_===null)hg(o,l,g,$o,f),rd(o,g);else if(tg(_,o,l,f,g))g.stopPropagation();else if(rd(o,g),l&4&&-1<eg.indexOf(o)){for(;_!==null;){var E=qu(_);if(E!==null&&Jf(E),E=zs(o,l,f,g),E===null&&hg(o,l,g,$o,f),E===_)break;_=E}_!==null&&g.stopPropagation()}else hg(o,l,g,null,f)}}var $o=null;function zs(o,l,f,g){if($o=null,o=qi(g),o=Uo(o),o!==null)if(l=Tr(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Hi(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return $o=o,null}function Ou(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sn()){case zt:return 1;case Qt:return 4;case En:case Au:return 16;case Gf:return 536870912;default:return 16}default:return 16}}var cn=null,Ws=null,Kr=null;function Cu(){if(Kr)return Kr;var o,l=Ws,f=l.length,g,_="value"in cn?cn.value:cn.textContent,E=_.length;for(o=0;o<f&&l[o]===_[o];o++);var j=f-o;for(g=1;g<=j&&l[f-g]===_[E-g];g++);return Kr=_.slice(o,1<g?1-g:void 0)}function Hs(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mi(){return!0}function Nu(){return!1}function mr(o){function l(f,g,_,E,j){this._reactName=f,this._targetInst=_,this.type=g,this.nativeEvent=E,this.target=j,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(f=o[B],this[B]=f?f(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?mi:Nu,this.isPropagationStopped=Nu,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),l}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=mr(Qn),gi=ie({},Qn,{view:0,detail:0}),ng=mr(gi),Gs,Yi,Ua,Vo=ie({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ua&&(Ua&&o.type==="mousemove"?(Gs=o.screenX-Ua.screenX,Yi=o.screenY-Ua.screenY):Yi=Gs=0,Ua=o),Gs)},movementY:function(o){return"movementY"in o?o.movementY:Yi}}),Xs=mr(Vo),Ru=ie({},Vo,{dataTransfer:0}),ad=mr(Ru),Ys=ie({},gi,{relatedTarget:0}),Qs=mr(Ys),od=ie({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qi=mr(od),sd=ie({},Qn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ld=mr(sd),ud=ie({},Qn,{data:0}),ju=mr(ud),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fd(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=cd[o])?!!l[o]:!1}function yi(){return fd}var h=ie({},gi,{key:function(o){if(o.key){var l=Js[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Hs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?$r[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(o){return o.type==="keypress"?Hs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Hs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),w=mr(h),I=ie({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=mr(I),Q=ie({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),ae=mr(Q),ve=ie({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=mr(ve),Jt=ie({},Vo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),at=mr(Jt),or=[9,13,27,32],Wt=u&&"CompositionEvent"in window,Tn=null;u&&"documentMode"in document&&(Tn=document.documentMode);var fn=u&&"TextEvent"in window&&!Tn,Fo=u&&(!Wt||Tn&&8<Tn&&11>=Tn),Zs=" ",OE=!1;function CE(o,l){switch(o){case"keyup":return or.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var el=!1;function T4(o,l){switch(o){case"compositionend":return NE(l);case"keypress":return l.which!==32?null:(OE=!0,Zs);case"textInput":return o=l.data,o===Zs&&OE?null:o;default:return null}}function A4(o,l){if(el)return o==="compositionend"||!Wt&&CE(o,l)?(o=Cu(),Kr=Ws=cn=null,el=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Fo&&l.locale!=="ko"?null:l.data;default:return null}}var I4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RE(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!I4[o.type]:l==="textarea"}function jE(o,l,f,g){zn(g),l=gd(l,"onChange"),0<l.length&&(f=new Ks("onChange","change",null,f,g),o.push({event:f,listeners:l}))}var Mu=null,Du=null;function P4(o){JE(o,0)}function dd(o){var l=al(o);if(z(l))return o}function k4(o,l){if(o==="change")return l}var ME=!1;if(u){var ig;if(u){var ag="oninput"in document;if(!ag){var DE=document.createElement("div");DE.setAttribute("oninput","return;"),ag=typeof DE.oninput=="function"}ig=ag}else ig=!1;ME=ig&&(!document.documentMode||9<document.documentMode)}function LE(){Mu&&(Mu.detachEvent("onpropertychange",$E),Du=Mu=null)}function $E(o){if(o.propertyName==="value"&&dd(Du)){var l=[];jE(l,Du,o,qi(o)),Hn(P4,l)}}function O4(o,l,f){o==="focusin"?(LE(),Mu=l,Du=f,Mu.attachEvent("onpropertychange",$E)):o==="focusout"&&LE()}function C4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return dd(Du)}function N4(o,l){if(o==="click")return dd(l)}function R4(o,l){if(o==="input"||o==="change")return dd(l)}function j4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Jn=typeof Object.is=="function"?Object.is:j4;function Lu(o,l){if(Jn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var _=f[g];if(!c.call(l,_)||!Jn(o[_],l[_]))return!1}return!0}function VE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function FE(o,l){var f=VE(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=l&&g>=l)return{node:f,offset:l-o};o=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=VE(f)}}function UE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?UE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function BE(){for(var o=window,l=ge();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=ge(o.document)}return l}function og(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function M4(o){var l=BE(),f=o.focusedElem,g=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&UE(f.ownerDocument.documentElement,f)){if(g!==null&&og(f)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=f.textContent.length,E=Math.min(g.start,_);g=g.end===void 0?E:Math.min(g.end,_),!o.extend&&E>g&&(_=g,g=E,E=_),_=FE(f,E);var j=FE(f,g);_&&j&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==j.node||o.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),E>g?(o.addRange(l),o.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var D4=u&&"documentMode"in document&&11>=document.documentMode,tl=null,sg=null,$u=null,lg=!1;function qE(o,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;lg||tl==null||tl!==ge(g)||(g=tl,"selectionStart"in g&&og(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$u&&Lu($u,g)||($u=g,g=gd(sg,"onSelect"),0<g.length&&(l=new Ks("onSelect","select",null,l,f),o.push({event:l,listeners:g}),l.target=tl)))}function hd(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var rl={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},ug={},zE={};u&&(zE=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function pd(o){if(ug[o])return ug[o];if(!rl[o])return o;var l=rl[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in zE)return ug[o]=l[f];return o}var WE=pd("animationend"),HE=pd("animationiteration"),KE=pd("animationstart"),GE=pd("transitionend"),XE=new Map,YE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ba(o,l){XE.set(o,l),a(l,[o])}for(var cg=0;cg<YE.length;cg++){var fg=YE[cg],L4=fg.toLowerCase(),$4=fg[0].toUpperCase()+fg.slice(1);Ba(L4,"on"+$4)}Ba(WE,"onAnimationEnd"),Ba(HE,"onAnimationIteration"),Ba(KE,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(GE,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vu));function QE(o,l,f){var g=o.type||"unknown-event";o.currentTarget=f,Vs(g,l,void 0,o),o.currentTarget=null}function JE(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],_=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var j=g.length-1;0<=j;j--){var B=g[j],H=B.instance,te=B.currentTarget;if(B=B.listener,H!==E&&_.isPropagationStopped())break e;QE(_,B,te),E=H}else for(j=0;j<g.length;j++){if(B=g[j],H=B.instance,te=B.currentTarget,B=B.listener,H!==E&&_.isPropagationStopped())break e;QE(_,B,te),E=H}}}if(on)throw o=No,on=!1,No=null,o}function At(o,l){var f=l[_g];f===void 0&&(f=l[_g]=new Set);var g=o+"__bubble";f.has(g)||(ZE(l,o,2,!1),f.add(g))}function dg(o,l,f){var g=0;l&&(g|=4),ZE(f,o,g,l)}var md="_reactListening"+Math.random().toString(36).slice(2);function Fu(o){if(!o[md]){o[md]=!0,n.forEach(function(f){f!=="selectionchange"&&(V4.has(f)||dg(f,!1,o),dg(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[md]||(l[md]=!0,dg("selectionchange",!1,l))}}function ZE(o,l,f,g){switch(Ou(l)){case 1:var _=Ot;break;case 4:_=rg;break;default:_=ku}f=_.bind(null,l,f,o),_=void 0,!Oa||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,f,{capture:!0,passive:_}):o.addEventListener(l,f,!0):_!==void 0?o.addEventListener(l,f,{passive:_}):o.addEventListener(l,f,!1)}function hg(o,l,f,g,_){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var B=g.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(j===4)for(j=g.return;j!==null;){var H=j.tag;if((H===3||H===4)&&(H=j.stateNode.containerInfo,H===_||H.nodeType===8&&H.parentNode===_))return;j=j.return}for(;B!==null;){if(j=Uo(B),j===null)return;if(H=j.tag,H===5||H===6){g=E=j;continue e}B=B.parentNode}}g=g.return}Hn(function(){var te=E,he=qi(f),me=[];e:{var fe=XE.get(o);if(fe!==void 0){var xe=Ks,Ae=o;switch(o){case"keypress":if(Hs(f)===0)break e;case"keydown":case"keyup":xe=w;break;case"focusin":Ae="focus",xe=Qs;break;case"focusout":Ae="blur",xe=Qs;break;case"beforeblur":case"afterblur":xe=Qs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=ae;break;case WE:case HE:case KE:xe=Qi;break;case GE:xe=mt;break;case"scroll":xe=ng;break;case"wheel":xe=at;break;case"copy":case"cut":case"paste":xe=ld;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=U}var Pe=(l&4)!==0,Bt=!Pe&&o==="scroll",J=Pe?fe!==null?fe+"Capture":null:fe;Pe=[];for(var K=te,ee;K!==null;){ee=K;var ye=ee.stateNode;if(ee.tag===5&&ye!==null&&(ee=ye,J!==null&&(ye=_t(K,J),ye!=null&&Pe.push(Uu(K,ye,ee)))),Bt)break;K=K.return}0<Pe.length&&(fe=new xe(fe,Ae,null,f,he),me.push({event:fe,listeners:Pe}))}}if((l&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",xe=o==="mouseout"||o==="pointerout",fe&&f!==wn&&(Ae=f.relatedTarget||f.fromElement)&&(Uo(Ae)||Ae[Ji]))break e;if((xe||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,xe?(Ae=f.relatedTarget||f.toElement,xe=te,Ae=Ae?Uo(Ae):null,Ae!==null&&(Bt=Tr(Ae),Ae!==Bt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(xe=null,Ae=te),xe!==Ae)){if(Pe=Xs,ye="onMouseLeave",J="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=U,ye="onPointerLeave",J="onPointerEnter",K="pointer"),Bt=xe==null?fe:al(xe),ee=Ae==null?fe:al(Ae),fe=new Pe(ye,K+"leave",xe,f,he),fe.target=Bt,fe.relatedTarget=ee,ye=null,Uo(he)===te&&(Pe=new Pe(J,K+"enter",Ae,f,he),Pe.target=ee,Pe.relatedTarget=Bt,ye=Pe),Bt=ye,xe&&Ae)t:{for(Pe=xe,J=Ae,K=0,ee=Pe;ee;ee=nl(ee))K++;for(ee=0,ye=J;ye;ye=nl(ye))ee++;for(;0<K-ee;)Pe=nl(Pe),K--;for(;0<ee-K;)J=nl(J),ee--;for(;K--;){if(Pe===J||J!==null&&Pe===J.alternate)break t;Pe=nl(Pe),J=nl(J)}Pe=null}else Pe=null;xe!==null&&eS(me,fe,xe,Pe,!1),Ae!==null&&Bt!==null&&eS(me,Bt,Ae,Pe,!0)}}e:{if(fe=te?al(te):window,xe=fe.nodeName&&fe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&fe.type==="file")var Oe=k4;else if(RE(fe))if(ME)Oe=R4;else{Oe=C4;var $e=O4}else(xe=fe.nodeName)&&xe.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Oe=N4);if(Oe&&(Oe=Oe(o,te))){jE(me,Oe,f,he);break e}$e&&$e(o,fe,te),o==="focusout"&&($e=fe._wrapperState)&&$e.controlled&&fe.type==="number"&&Mr(fe,"number",fe.value)}switch($e=te?al(te):window,o){case"focusin":(RE($e)||$e.contentEditable==="true")&&(tl=$e,sg=te,$u=null);break;case"focusout":$u=sg=tl=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,qE(me,f,he);break;case"selectionchange":if(D4)break;case"keydown":case"keyup":qE(me,f,he)}var Ve;if(Wt)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else el?CE(o,f)&&(qe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(qe="onCompositionStart");qe&&(Fo&&f.locale!=="ko"&&(el||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&el&&(Ve=Cu()):(cn=he,Ws="value"in cn?cn.value:cn.textContent,el=!0)),$e=gd(te,qe),0<$e.length&&(qe=new ju(qe,o,null,f,he),me.push({event:qe,listeners:$e}),Ve?qe.data=Ve:(Ve=NE(f),Ve!==null&&(qe.data=Ve)))),(Ve=fn?T4(o,f):A4(o,f))&&(te=gd(te,"onBeforeInput"),0<te.length&&(he=new ju("onBeforeInput","beforeinput",null,f,he),me.push({event:he,listeners:te}),he.data=Ve))}JE(me,l)})}function Uu(o,l,f){return{instance:o,listener:l,currentTarget:f}}function gd(o,l){for(var f=l+"Capture",g=[];o!==null;){var _=o,E=_.stateNode;_.tag===5&&E!==null&&(_=E,E=_t(o,f),E!=null&&g.unshift(Uu(o,E,_)),E=_t(o,l),E!=null&&g.push(Uu(o,E,_))),o=o.return}return g}function nl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function eS(o,l,f,g,_){for(var E=l._reactName,j=[];f!==null&&f!==g;){var B=f,H=B.alternate,te=B.stateNode;if(H!==null&&H===g)break;B.tag===5&&te!==null&&(B=te,_?(H=_t(f,E),H!=null&&j.unshift(Uu(f,H,B))):_||(H=_t(f,E),H!=null&&j.push(Uu(f,H,B)))),f=f.return}j.length!==0&&o.push({event:l,listeners:j})}var F4=/\r\n?/g,U4=/\u0000|\uFFFD/g;function tS(o){return(typeof o=="string"?o:""+o).replace(F4,`
`).replace(U4,"")}function yd(o,l,f){if(l=tS(l),tS(o)!==l&&f)throw Error(r(425))}function vd(){}var pg=null,mg=null;function gg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,B4=typeof clearTimeout=="function"?clearTimeout:void 0,rS=typeof Promise=="function"?Promise:void 0,q4=typeof queueMicrotask=="function"?queueMicrotask:typeof rS<"u"?function(o){return rS.resolve(null).then(o).catch(z4)}:yg;function z4(o){setTimeout(function(){throw o})}function vg(o,l){var f=l,g=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(g===0){o.removeChild(_),Yn(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=_}while(f);Yn(l)}function qa(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function nS(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var il=Math.random().toString(36).slice(2),vi="__reactFiber$"+il,Bu="__reactProps$"+il,Ji="__reactContainer$"+il,_g="__reactEvents$"+il,W4="__reactListeners$"+il,H4="__reactHandles$"+il;function Uo(o){var l=o[vi];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Ji]||f[vi]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=nS(o);o!==null;){if(f=o[vi])return f;o=nS(o)}return l}o=f,f=o.parentNode}return null}function qu(o){return o=o[vi]||o[Ji],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function al(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function _d(o){return o[Bu]||null}var bg=[],ol=-1;function za(o){return{current:o}}function It(o){0>ol||(o.current=bg[ol],bg[ol]=null,ol--)}function wt(o,l){ol++,bg[ol]=o.current,o.current=l}var Wa={},Ir=za(Wa),Gr=za(!1),Bo=Wa;function sl(o,l){var f=o.type.contextTypes;if(!f)return Wa;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},E;for(E in f)_[E]=l[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function Xr(o){return o=o.childContextTypes,o!=null}function bd(){It(Gr),It(Ir)}function iS(o,l,f){if(Ir.current!==Wa)throw Error(r(168));wt(Ir,l),wt(Gr,f)}function aS(o,l,f){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,Xe(o)||"Unknown",_));return ie({},f,g)}function xd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Wa,Bo=Ir.current,wt(Ir,o),wt(Gr,Gr.current),!0}function oS(o,l,f){var g=o.stateNode;if(!g)throw Error(r(169));f?(o=aS(o,l,Bo),g.__reactInternalMemoizedMergedChildContext=o,It(Gr),It(Ir),wt(Ir,o)):It(Gr),wt(Gr,f)}var Zi=null,wd=!1,xg=!1;function sS(o){Zi===null?Zi=[o]:Zi.push(o)}function K4(o){wd=!0,sS(o)}function Ha(){if(!xg&&Zi!==null){xg=!0;var o=0,l=rt;try{var f=Zi;for(rt=1;o<f.length;o++){var g=f[o];do g=g(!0);while(g!==null)}Zi=null,wd=!1}catch(_){throw Zi!==null&&(Zi=Zi.slice(o+1)),Me(zt,Ha),_}finally{rt=l,xg=!1}}return null}var ll=[],ul=0,Ed=null,Sd=0,An=[],In=0,qo=null,ea=1,ta="";function zo(o,l){ll[ul++]=Sd,ll[ul++]=Ed,Ed=o,Sd=l}function lS(o,l,f){An[In++]=ea,An[In++]=ta,An[In++]=qo,qo=o;var g=ea;o=ta;var _=32-Lr(g)-1;g&=~(1<<_),f+=1;var E=32-Lr(l)+_;if(30<E){var j=_-_%5;E=(g&(1<<j)-1).toString(32),g>>=j,_-=j,ea=1<<32-Lr(l)+_|f<<_|g,ta=E+o}else ea=1<<E|f<<_|g,ta=o}function wg(o){o.return!==null&&(zo(o,1),lS(o,1,0))}function Eg(o){for(;o===Ed;)Ed=ll[--ul],ll[ul]=null,Sd=ll[--ul],ll[ul]=null;for(;o===qo;)qo=An[--In],An[In]=null,ta=An[--In],An[In]=null,ea=An[--In],An[In]=null}var dn=null,hn=null,Ct=!1,Zn=null;function uS(o,l){var f=Cn(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function cS(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,dn=o,hn=qa(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,dn=o,hn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=qo!==null?{id:ea,overflow:ta}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Cn(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,dn=o,hn=null,!0):!1;default:return!1}}function Sg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Tg(o){if(Ct){var l=hn;if(l){var f=l;if(!cS(o,l)){if(Sg(o))throw Error(r(418));l=qa(f.nextSibling);var g=dn;l&&cS(o,l)?uS(g,f):(o.flags=o.flags&-4097|2,Ct=!1,dn=o)}}else{if(Sg(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ct=!1,dn=o}}}function fS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;dn=o}function Td(o){if(o!==dn)return!1;if(!Ct)return fS(o),Ct=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!gg(o.type,o.memoizedProps)),l&&(l=hn)){if(Sg(o))throw dS(),Error(r(418));for(;l;)uS(o,l),l=qa(l.nextSibling)}if(fS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){hn=qa(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}hn=null}}else hn=dn?qa(o.stateNode.nextSibling):null;return!0}function dS(){for(var o=hn;o;)o=qa(o.nextSibling)}function cl(){hn=dn=null,Ct=!1}function Ag(o){Zn===null?Zn=[o]:Zn.push(o)}var G4=V.ReactCurrentBatchConfig;function zu(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,o));var _=g,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(j){var B=_.refs;j===null?delete B[E]:B[E]=j},l._stringRef=E,l)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Ad(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function hS(o){var l=o._init;return l(o._payload)}function pS(o){function l(J,K){if(o){var ee=J.deletions;ee===null?(J.deletions=[K],J.flags|=16):ee.push(K)}}function f(J,K){if(!o)return null;for(;K!==null;)l(J,K),K=K.sibling;return null}function g(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function _(J,K){return J=eo(J,K),J.index=0,J.sibling=null,J}function E(J,K,ee){return J.index=ee,o?(ee=J.alternate,ee!==null?(ee=ee.index,ee<K?(J.flags|=2,K):ee):(J.flags|=2,K)):(J.flags|=1048576,K)}function j(J){return o&&J.alternate===null&&(J.flags|=2),J}function B(J,K,ee,ye){return K===null||K.tag!==6?(K=yy(ee,J.mode,ye),K.return=J,K):(K=_(K,ee),K.return=J,K)}function H(J,K,ee,ye){var Oe=ee.type;return Oe===A?he(J,K,ee.props.children,ye,ee.key):K!==null&&(K.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===se&&hS(Oe)===K.type)?(ye=_(K,ee.props),ye.ref=zu(J,K,ee),ye.return=J,ye):(ye=Yd(ee.type,ee.key,ee.props,null,J.mode,ye),ye.ref=zu(J,K,ee),ye.return=J,ye)}function te(J,K,ee,ye){return K===null||K.tag!==4||K.stateNode.containerInfo!==ee.containerInfo||K.stateNode.implementation!==ee.implementation?(K=vy(ee,J.mode,ye),K.return=J,K):(K=_(K,ee.children||[]),K.return=J,K)}function he(J,K,ee,ye,Oe){return K===null||K.tag!==7?(K=Jo(ee,J.mode,ye,Oe),K.return=J,K):(K=_(K,ee),K.return=J,K)}function me(J,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return K=yy(""+K,J.mode,ee),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return ee=Yd(K.type,K.key,K.props,null,J.mode,ee),ee.ref=zu(J,null,K),ee.return=J,ee;case C:return K=vy(K,J.mode,ee),K.return=J,K;case se:var ye=K._init;return me(J,ye(K._payload),ee)}if(Dr(K)||Y(K))return K=Jo(K,J.mode,ee,null),K.return=J,K;Ad(J,K)}return null}function fe(J,K,ee,ye){var Oe=K!==null?K.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Oe!==null?null:B(J,K,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return ee.key===Oe?H(J,K,ee,ye):null;case C:return ee.key===Oe?te(J,K,ee,ye):null;case se:return Oe=ee._init,fe(J,K,Oe(ee._payload),ye)}if(Dr(ee)||Y(ee))return Oe!==null?null:he(J,K,ee,ye,null);Ad(J,ee)}return null}function xe(J,K,ee,ye,Oe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return J=J.get(ee)||null,B(K,J,""+ye,Oe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return J=J.get(ye.key===null?ee:ye.key)||null,H(K,J,ye,Oe);case C:return J=J.get(ye.key===null?ee:ye.key)||null,te(K,J,ye,Oe);case se:var $e=ye._init;return xe(J,K,ee,$e(ye._payload),Oe)}if(Dr(ye)||Y(ye))return J=J.get(ee)||null,he(K,J,ye,Oe,null);Ad(K,ye)}return null}function Ae(J,K,ee,ye){for(var Oe=null,$e=null,Ve=K,qe=K=0,ur=null;Ve!==null&&qe<ee.length;qe++){Ve.index>qe?(ur=Ve,Ve=null):ur=Ve.sibling;var lt=fe(J,Ve,ee[qe],ye);if(lt===null){Ve===null&&(Ve=ur);break}o&&Ve&&lt.alternate===null&&l(J,Ve),K=E(lt,K,qe),$e===null?Oe=lt:$e.sibling=lt,$e=lt,Ve=ur}if(qe===ee.length)return f(J,Ve),Ct&&zo(J,qe),Oe;if(Ve===null){for(;qe<ee.length;qe++)Ve=me(J,ee[qe],ye),Ve!==null&&(K=E(Ve,K,qe),$e===null?Oe=Ve:$e.sibling=Ve,$e=Ve);return Ct&&zo(J,qe),Oe}for(Ve=g(J,Ve);qe<ee.length;qe++)ur=xe(Ve,J,qe,ee[qe],ye),ur!==null&&(o&&ur.alternate!==null&&Ve.delete(ur.key===null?qe:ur.key),K=E(ur,K,qe),$e===null?Oe=ur:$e.sibling=ur,$e=ur);return o&&Ve.forEach(function(to){return l(J,to)}),Ct&&zo(J,qe),Oe}function Pe(J,K,ee,ye){var Oe=Y(ee);if(typeof Oe!="function")throw Error(r(150));if(ee=Oe.call(ee),ee==null)throw Error(r(151));for(var $e=Oe=null,Ve=K,qe=K=0,ur=null,lt=ee.next();Ve!==null&&!lt.done;qe++,lt=ee.next()){Ve.index>qe?(ur=Ve,Ve=null):ur=Ve.sibling;var to=fe(J,Ve,lt.value,ye);if(to===null){Ve===null&&(Ve=ur);break}o&&Ve&&to.alternate===null&&l(J,Ve),K=E(to,K,qe),$e===null?Oe=to:$e.sibling=to,$e=to,Ve=ur}if(lt.done)return f(J,Ve),Ct&&zo(J,qe),Oe;if(Ve===null){for(;!lt.done;qe++,lt=ee.next())lt=me(J,lt.value,ye),lt!==null&&(K=E(lt,K,qe),$e===null?Oe=lt:$e.sibling=lt,$e=lt);return Ct&&zo(J,qe),Oe}for(Ve=g(J,Ve);!lt.done;qe++,lt=ee.next())lt=xe(Ve,J,qe,lt.value,ye),lt!==null&&(o&&lt.alternate!==null&&Ve.delete(lt.key===null?qe:lt.key),K=E(lt,K,qe),$e===null?Oe=lt:$e.sibling=lt,$e=lt);return o&&Ve.forEach(function(I$){return l(J,I$)}),Ct&&zo(J,qe),Oe}function Bt(J,K,ee,ye){if(typeof ee=="object"&&ee!==null&&ee.type===A&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:e:{for(var Oe=ee.key,$e=K;$e!==null;){if($e.key===Oe){if(Oe=ee.type,Oe===A){if($e.tag===7){f(J,$e.sibling),K=_($e,ee.props.children),K.return=J,J=K;break e}}else if($e.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===se&&hS(Oe)===$e.type){f(J,$e.sibling),K=_($e,ee.props),K.ref=zu(J,$e,ee),K.return=J,J=K;break e}f(J,$e);break}else l(J,$e);$e=$e.sibling}ee.type===A?(K=Jo(ee.props.children,J.mode,ye,ee.key),K.return=J,J=K):(ye=Yd(ee.type,ee.key,ee.props,null,J.mode,ye),ye.ref=zu(J,K,ee),ye.return=J,J=ye)}return j(J);case C:e:{for($e=ee.key;K!==null;){if(K.key===$e)if(K.tag===4&&K.stateNode.containerInfo===ee.containerInfo&&K.stateNode.implementation===ee.implementation){f(J,K.sibling),K=_(K,ee.children||[]),K.return=J,J=K;break e}else{f(J,K);break}else l(J,K);K=K.sibling}K=vy(ee,J.mode,ye),K.return=J,J=K}return j(J);case se:return $e=ee._init,Bt(J,K,$e(ee._payload),ye)}if(Dr(ee))return Ae(J,K,ee,ye);if(Y(ee))return Pe(J,K,ee,ye);Ad(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,K!==null&&K.tag===6?(f(J,K.sibling),K=_(K,ee),K.return=J,J=K):(f(J,K),K=yy(ee,J.mode,ye),K.return=J,J=K),j(J)):f(J,K)}return Bt}var fl=pS(!0),mS=pS(!1),Id=za(null),Pd=null,dl=null,Ig=null;function Pg(){Ig=dl=Pd=null}function kg(o){var l=Id.current;It(Id),o._currentValue=l}function Og(o,l,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===f)break;o=o.return}}function hl(o,l){Pd=o,Ig=dl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(Yr=!0),o.firstContext=null)}function Pn(o){var l=o._currentValue;if(Ig!==o)if(o={context:o,memoizedValue:l,next:null},dl===null){if(Pd===null)throw Error(r(308));dl=o,Pd.dependencies={lanes:0,firstContext:o}}else dl=dl.next=o;return l}var Wo=null;function Cg(o){Wo===null?Wo=[o]:Wo.push(o)}function gS(o,l,f,g){var _=l.interleaved;return _===null?(f.next=f,Cg(l)):(f.next=_.next,_.next=f),l.interleaved=f,ra(o,g)}function ra(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Ka=!1;function Ng(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yS(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function na(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ga(o,l,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(st&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,ra(o,f)}return _=g.interleaved,_===null?(l.next=l,Cg(g)):(l.next=_.next,_.next=l),g.interleaved=l,ra(o,f)}function kd(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,La(o,f)}}function vS(o,l){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var _=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var j={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?_=E=j:E=E.next=j,f=f.next}while(f!==null);E===null?_=E=l:E=E.next=l}else _=E=l;f={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Od(o,l,f,g){var _=o.updateQueue;Ka=!1;var E=_.firstBaseUpdate,j=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var H=B,te=H.next;H.next=null,j===null?E=te:j.next=te,j=H;var he=o.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==j&&(B===null?he.firstBaseUpdate=te:B.next=te,he.lastBaseUpdate=H))}if(E!==null){var me=_.baseState;j=0,he=te=H=null,B=E;do{var fe=B.lane,xe=B.eventTime;if((g&fe)===fe){he!==null&&(he=he.next={eventTime:xe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ae=o,Pe=B;switch(fe=l,xe=f,Pe.tag){case 1:if(Ae=Pe.payload,typeof Ae=="function"){me=Ae.call(xe,me,fe);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Pe.payload,fe=typeof Ae=="function"?Ae.call(xe,me,fe):Ae,fe==null)break e;me=ie({},me,fe);break e;case 2:Ka=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,fe=_.effects,fe===null?_.effects=[B]:fe.push(B))}else xe={eventTime:xe,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(te=he=xe,H=me):he=he.next=xe,j|=fe;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,_.lastBaseUpdate=fe,_.shared.pending=null}}while(!0);if(he===null&&(H=me),_.baseState=H,_.firstBaseUpdate=te,_.lastBaseUpdate=he,l=_.shared.interleaved,l!==null){_=l;do j|=_.lane,_=_.next;while(_!==l)}else E===null&&(_.shared.lanes=0);Go|=j,o.lanes=j,o.memoizedState=me}}function _S(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=f,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Wu={},_i=za(Wu),Hu=za(Wu),Ku=za(Wu);function Ho(o){if(o===Wu)throw Error(r(174));return o}function Rg(o,l){switch(wt(Ku,l),wt(Hu,o),wt(_i,Wu),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$t(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=$t(l,o)}It(_i),wt(_i,l)}function pl(){It(_i),It(Hu),It(Ku)}function bS(o){Ho(Ku.current);var l=Ho(_i.current),f=$t(l,o.type);l!==f&&(wt(Hu,o),wt(_i,f))}function jg(o){Hu.current===o&&(It(_i),It(Hu))}var Rt=za(0);function Cd(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Mg=[];function Dg(){for(var o=0;o<Mg.length;o++)Mg[o]._workInProgressVersionPrimary=null;Mg.length=0}var Nd=V.ReactCurrentDispatcher,Lg=V.ReactCurrentBatchConfig,Ko=0,jt=null,Zt=null,sr=null,Rd=!1,Gu=!1,Xu=0,X4=0;function Pr(){throw Error(r(321))}function $g(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Jn(o[f],l[f]))return!1;return!0}function Vg(o,l,f,g,_,E){if(Ko=E,jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Nd.current=o===null||o.memoizedState===null?Z4:e$,o=f(g,_),Gu){E=0;do{if(Gu=!1,Xu=0,25<=E)throw Error(r(301));E+=1,sr=Zt=null,l.updateQueue=null,Nd.current=t$,o=f(g,_)}while(Gu)}if(Nd.current=Dd,l=Zt!==null&&Zt.next!==null,Ko=0,sr=Zt=jt=null,Rd=!1,l)throw Error(r(300));return o}function Fg(){var o=Xu!==0;return Xu=0,o}function bi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?jt.memoizedState=sr=o:sr=sr.next=o,sr}function kn(){if(Zt===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=Zt.next;var l=sr===null?jt.memoizedState:sr.next;if(l!==null)sr=l,Zt=o;else{if(o===null)throw Error(r(310));Zt=o,o={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},sr===null?jt.memoizedState=sr=o:sr=sr.next=o}return sr}function Yu(o,l){return typeof l=="function"?l(o):l}function Ug(o){var l=kn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var g=Zt,_=g.baseQueue,E=f.pending;if(E!==null){if(_!==null){var j=_.next;_.next=E.next,E.next=j}g.baseQueue=_=E,f.pending=null}if(_!==null){E=_.next,g=g.baseState;var B=j=null,H=null,te=E;do{var he=te.lane;if((Ko&he)===he)H!==null&&(H=H.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var me={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};H===null?(B=H=me,j=g):H=H.next=me,jt.lanes|=he,Go|=he}te=te.next}while(te!==null&&te!==E);H===null?j=g:H.next=B,Jn(g,l.memoizedState)||(Yr=!0),l.memoizedState=g,l.baseState=j,l.baseQueue=H,f.lastRenderedState=g}if(o=f.interleaved,o!==null){_=o;do E=_.lane,jt.lanes|=E,Go|=E,_=_.next;while(_!==o)}else _===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Bg(o){var l=kn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var g=f.dispatch,_=f.pending,E=l.memoizedState;if(_!==null){f.pending=null;var j=_=_.next;do E=o(E,j.action),j=j.next;while(j!==_);Jn(E,l.memoizedState)||(Yr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,g]}function xS(){}function wS(o,l){var f=jt,g=kn(),_=l(),E=!Jn(g.memoizedState,_);if(E&&(g.memoizedState=_,Yr=!0),g=g.queue,qg(TS.bind(null,f,g,o),[o]),g.getSnapshot!==l||E||sr!==null&&sr.memoizedState.tag&1){if(f.flags|=2048,Qu(9,SS.bind(null,f,g,_,l),void 0,null),lr===null)throw Error(r(349));(Ko&30)!==0||ES(f,l,_)}return _}function ES(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function SS(o,l,f,g){l.value=f,l.getSnapshot=g,AS(l)&&IS(o)}function TS(o,l,f){return f(function(){AS(l)&&IS(o)})}function AS(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Jn(o,f)}catch{return!0}}function IS(o){var l=ra(o,1);l!==null&&ni(l,o,1,-1)}function PS(o){var l=bi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:o},l.queue=o,o=o.dispatch=J4.bind(null,jt,o),[l.memoizedState,o]}function Qu(o,l,f,g){return o={tag:o,create:l,destroy:f,deps:g,next:null},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,l.lastEffect=o)),o}function kS(){return kn().memoizedState}function jd(o,l,f,g){var _=bi();jt.flags|=o,_.memoizedState=Qu(1|l,f,void 0,g===void 0?null:g)}function Md(o,l,f,g){var _=kn();g=g===void 0?null:g;var E=void 0;if(Zt!==null){var j=Zt.memoizedState;if(E=j.destroy,g!==null&&$g(g,j.deps)){_.memoizedState=Qu(l,f,E,g);return}}jt.flags|=o,_.memoizedState=Qu(1|l,f,E,g)}function OS(o,l){return jd(8390656,8,o,l)}function qg(o,l){return Md(2048,8,o,l)}function CS(o,l){return Md(4,2,o,l)}function NS(o,l){return Md(4,4,o,l)}function RS(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function jS(o,l,f){return f=f!=null?f.concat([o]):null,Md(4,4,RS.bind(null,l,o),f)}function zg(){}function MS(o,l){var f=kn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&$g(l,g[1])?g[0]:(f.memoizedState=[o,l],o)}function DS(o,l){var f=kn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&$g(l,g[1])?g[0]:(o=o(),f.memoizedState=[o,l],o)}function LS(o,l,f){return(Ko&21)===0?(o.baseState&&(o.baseState=!1,Yr=!0),o.memoizedState=f):(Jn(f,l)||(f=Do(),jt.lanes|=f,Go|=f,o.baseState=!0),l)}function Y4(o,l){var f=rt;rt=f!==0&&4>f?f:4,o(!0);var g=Lg.transition;Lg.transition={};try{o(!1),l()}finally{rt=f,Lg.transition=g}}function $S(){return kn().memoizedState}function Q4(o,l,f){var g=Ja(o);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},VS(o))FS(l,f);else if(f=gS(o,l,f,g),f!==null){var _=Fr();ni(f,o,g,_),US(f,l,g)}}function J4(o,l,f){var g=Ja(o),_={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(VS(o))FS(l,_);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var j=l.lastRenderedState,B=E(j,f);if(_.hasEagerState=!0,_.eagerState=B,Jn(B,j)){var H=l.interleaved;H===null?(_.next=_,Cg(l)):(_.next=H.next,H.next=_),l.interleaved=_;return}}catch{}finally{}f=gS(o,l,_,g),f!==null&&(_=Fr(),ni(f,o,g,_),US(f,l,g))}}function VS(o){var l=o.alternate;return o===jt||l!==null&&l===jt}function FS(o,l){Gu=Rd=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function US(o,l,f){if((f&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,f|=g,l.lanes=f,La(o,f)}}var Dd={readContext:Pn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},Z4={readContext:Pn,useCallback:function(o,l){return bi().memoizedState=[o,l===void 0?null:l],o},useContext:Pn,useEffect:OS,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,jd(4194308,4,RS.bind(null,l,o),f)},useLayoutEffect:function(o,l){return jd(4194308,4,o,l)},useInsertionEffect:function(o,l){return jd(4,2,o,l)},useMemo:function(o,l){var f=bi();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var g=bi();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=Q4.bind(null,jt,o),[g.memoizedState,o]},useRef:function(o){var l=bi();return o={current:o},l.memoizedState=o},useState:PS,useDebugValue:zg,useDeferredValue:function(o){return bi().memoizedState=o},useTransition:function(){var o=PS(!1),l=o[0];return o=Y4.bind(null,o[1]),bi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var g=jt,_=bi();if(Ct){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),lr===null)throw Error(r(349));(Ko&30)!==0||ES(g,l,f)}_.memoizedState=f;var E={value:f,getSnapshot:l};return _.queue=E,OS(TS.bind(null,g,E,o),[o]),g.flags|=2048,Qu(9,SS.bind(null,g,E,f,l),void 0,null),f},useId:function(){var o=bi(),l=lr.identifierPrefix;if(Ct){var f=ta,g=ea;f=(g&~(1<<32-Lr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Xu++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=X4++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},e$={readContext:Pn,useCallback:MS,useContext:Pn,useEffect:qg,useImperativeHandle:jS,useInsertionEffect:CS,useLayoutEffect:NS,useMemo:DS,useReducer:Ug,useRef:kS,useState:function(){return Ug(Yu)},useDebugValue:zg,useDeferredValue:function(o){var l=kn();return LS(l,Zt.memoizedState,o)},useTransition:function(){var o=Ug(Yu)[0],l=kn().memoizedState;return[o,l]},useMutableSource:xS,useSyncExternalStore:wS,useId:$S,unstable_isNewReconciler:!1},t$={readContext:Pn,useCallback:MS,useContext:Pn,useEffect:qg,useImperativeHandle:jS,useInsertionEffect:CS,useLayoutEffect:NS,useMemo:DS,useReducer:Bg,useRef:kS,useState:function(){return Bg(Yu)},useDebugValue:zg,useDeferredValue:function(o){var l=kn();return Zt===null?l.memoizedState=o:LS(l,Zt.memoizedState,o)},useTransition:function(){var o=Bg(Yu)[0],l=kn().memoizedState;return[o,l]},useMutableSource:xS,useSyncExternalStore:wS,useId:$S,unstable_isNewReconciler:!1};function ei(o,l){if(o&&o.defaultProps){l=ie({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function Wg(o,l,f,g){l=o.memoizedState,f=f(g,l),f=f==null?l:ie({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Ld={isMounted:function(o){return(o=o._reactInternals)?Tr(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var g=Fr(),_=Ja(o),E=na(g,_);E.payload=l,f!=null&&(E.callback=f),l=Ga(o,E,_),l!==null&&(ni(l,o,_,g),kd(l,o,_))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var g=Fr(),_=Ja(o),E=na(g,_);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=Ga(o,E,_),l!==null&&(ni(l,o,_,g),kd(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Fr(),g=Ja(o),_=na(f,g);_.tag=2,l!=null&&(_.callback=l),l=Ga(o,_,g),l!==null&&(ni(l,o,g,f),kd(l,o,g))}};function BS(o,l,f,g,_,E,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,j):l.prototype&&l.prototype.isPureReactComponent?!Lu(f,g)||!Lu(_,E):!0}function qS(o,l,f){var g=!1,_=Wa,E=l.contextType;return typeof E=="object"&&E!==null?E=Pn(E):(_=Xr(l)?Bo:Ir.current,g=l.contextTypes,E=(g=g!=null)?sl(o,_):Wa),l=new l(f,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ld,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=E),l}function zS(o,l,f,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==o&&Ld.enqueueReplaceState(l,l.state,null)}function Hg(o,l,f,g){var _=o.stateNode;_.props=f,_.state=o.memoizedState,_.refs={},Ng(o);var E=l.contextType;typeof E=="object"&&E!==null?_.context=Pn(E):(E=Xr(l)?Bo:Ir.current,_.context=sl(o,E)),_.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Wg(o,l,E,f),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&Ld.enqueueReplaceState(_,_.state,null),Od(o,f,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function ml(o,l){try{var f="",g=l;do f+=Ce(g),g=g.return;while(g);var _=f}catch(E){_=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:_,digest:null}}function Kg(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function Gg(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var r$=typeof WeakMap=="function"?WeakMap:Map;function WS(o,l,f){f=na(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){zd||(zd=!0,uy=g),Gg(o,l)},f}function HS(o,l,f){f=na(-1,f),f.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;f.payload=function(){return g(_)},f.callback=function(){Gg(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){Gg(o,l),typeof g!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),f}function KS(o,l,f){var g=o.pingCache;if(g===null){g=o.pingCache=new r$;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(f)||(_.add(f),o=g$.bind(null,o,l,f),l.then(o,o))}function GS(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function XS(o,l,f,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=na(-1,1),l.tag=2,Ga(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var n$=V.ReactCurrentOwner,Yr=!1;function Vr(o,l,f,g){l.child=o===null?mS(l,null,f,g):fl(l,o.child,f,g)}function YS(o,l,f,g,_){f=f.render;var E=l.ref;return hl(l,_),g=Vg(o,l,f,g,E,_),f=Fg(),o!==null&&!Yr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ia(o,l,_)):(Ct&&f&&wg(l),l.flags|=1,Vr(o,l,g,_),l.child)}function QS(o,l,f,g,_){if(o===null){var E=f.type;return typeof E=="function"&&!gy(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=E,JS(o,l,E,g,_)):(o=Yd(f.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&_)===0){var j=E.memoizedProps;if(f=f.compare,f=f!==null?f:Lu,f(j,g)&&o.ref===l.ref)return ia(o,l,_)}return l.flags|=1,o=eo(E,g),o.ref=l.ref,o.return=l,l.child=o}function JS(o,l,f,g,_){if(o!==null){var E=o.memoizedProps;if(Lu(E,g)&&o.ref===l.ref)if(Yr=!1,l.pendingProps=g=E,(o.lanes&_)!==0)(o.flags&131072)!==0&&(Yr=!0);else return l.lanes=o.lanes,ia(o,l,_)}return Xg(o,l,f,g,_)}function ZS(o,l,f){var g=l.pendingProps,_=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(yl,pn),pn|=f;else{if((f&1073741824)===0)return o=E!==null?E.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,wt(yl,pn),pn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:f,wt(yl,pn),pn|=g}else E!==null?(g=E.baseLanes|f,l.memoizedState=null):g=f,wt(yl,pn),pn|=g;return Vr(o,l,_,f),l.child}function eT(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Xg(o,l,f,g,_){var E=Xr(f)?Bo:Ir.current;return E=sl(l,E),hl(l,_),f=Vg(o,l,f,g,E,_),g=Fg(),o!==null&&!Yr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ia(o,l,_)):(Ct&&g&&wg(l),l.flags|=1,Vr(o,l,f,_),l.child)}function tT(o,l,f,g,_){if(Xr(f)){var E=!0;xd(l)}else E=!1;if(hl(l,_),l.stateNode===null)Vd(o,l),qS(l,f,g),Hg(l,f,g,_),g=!0;else if(o===null){var j=l.stateNode,B=l.memoizedProps;j.props=B;var H=j.context,te=f.contextType;typeof te=="object"&&te!==null?te=Pn(te):(te=Xr(f)?Bo:Ir.current,te=sl(l,te));var he=f.getDerivedStateFromProps,me=typeof he=="function"||typeof j.getSnapshotBeforeUpdate=="function";me||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(B!==g||H!==te)&&zS(l,j,g,te),Ka=!1;var fe=l.memoizedState;j.state=fe,Od(l,g,j,_),H=l.memoizedState,B!==g||fe!==H||Gr.current||Ka?(typeof he=="function"&&(Wg(l,f,he,g),H=l.memoizedState),(B=Ka||BS(l,f,B,g,fe,H,te))?(me||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=H),j.props=g,j.state=H,j.context=te,g=B):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{j=l.stateNode,yS(o,l),B=l.memoizedProps,te=l.type===l.elementType?B:ei(l.type,B),j.props=te,me=l.pendingProps,fe=j.context,H=f.contextType,typeof H=="object"&&H!==null?H=Pn(H):(H=Xr(f)?Bo:Ir.current,H=sl(l,H));var xe=f.getDerivedStateFromProps;(he=typeof xe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(B!==me||fe!==H)&&zS(l,j,g,H),Ka=!1,fe=l.memoizedState,j.state=fe,Od(l,g,j,_);var Ae=l.memoizedState;B!==me||fe!==Ae||Gr.current||Ka?(typeof xe=="function"&&(Wg(l,f,xe,g),Ae=l.memoizedState),(te=Ka||BS(l,f,te,g,fe,Ae,H)||!1)?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Ae,H),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Ae,H)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ae),j.props=g,j.state=Ae,j.context=H,g=te):(typeof j.componentDidUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),g=!1)}return Yg(o,l,f,g,E,_)}function Yg(o,l,f,g,_,E){eT(o,l);var j=(l.flags&128)!==0;if(!g&&!j)return _&&oS(l,f,!1),ia(o,l,E);g=l.stateNode,n$.current=l;var B=j&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&j?(l.child=fl(l,o.child,null,E),l.child=fl(l,null,B,E)):Vr(o,l,B,E),l.memoizedState=g.state,_&&oS(l,f,!0),l.child}function rT(o){var l=o.stateNode;l.pendingContext?iS(o,l.pendingContext,l.pendingContext!==l.context):l.context&&iS(o,l.context,!1),Rg(o,l.containerInfo)}function nT(o,l,f,g,_){return cl(),Ag(_),l.flags|=256,Vr(o,l,f,g),l.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Jg(o){return{baseLanes:o,cachePool:null,transitions:null}}function iT(o,l,f){var g=l.pendingProps,_=Rt.current,E=!1,j=(l.flags&128)!==0,B;if((B=j)||(B=o!==null&&o.memoizedState===null?!1:(_&2)!==0),B?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),wt(Rt,_&1),o===null)return Tg(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=g.children,o=g.fallback,E?(g=l.mode,E=l.child,j={mode:"hidden",children:j},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=j):E=Qd(j,g,0,null),o=Jo(o,g,f,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=Jg(f),l.memoizedState=Qg,o):Zg(l,j));if(_=o.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return i$(o,l,j,g,B,_,f);if(E){E=g.fallback,j=l.mode,_=o.child,B=_.sibling;var H={mode:"hidden",children:g.children};return(j&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=H,l.deletions=null):(g=eo(_,H),g.subtreeFlags=_.subtreeFlags&14680064),B!==null?E=eo(B,E):(E=Jo(E,j,f,null),E.flags|=2),E.return=l,g.return=l,g.sibling=E,l.child=g,g=E,E=l.child,j=o.child.memoizedState,j=j===null?Jg(f):{baseLanes:j.baseLanes|f,cachePool:null,transitions:j.transitions},E.memoizedState=j,E.childLanes=o.childLanes&~f,l.memoizedState=Qg,g}return E=o.child,o=E.sibling,g=eo(E,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=g,l.memoizedState=null,g}function Zg(o,l){return l=Qd({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function $d(o,l,f,g){return g!==null&&Ag(g),fl(l,o.child,null,f),o=Zg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function i$(o,l,f,g,_,E,j){if(f)return l.flags&256?(l.flags&=-257,g=Kg(Error(r(422))),$d(o,l,j,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=g.fallback,_=l.mode,g=Qd({mode:"visible",children:g.children},_,0,null),E=Jo(E,_,j,null),E.flags|=2,g.return=l,E.return=l,g.sibling=E,l.child=g,(l.mode&1)!==0&&fl(l,o.child,null,j),l.child.memoizedState=Jg(j),l.memoizedState=Qg,E);if((l.mode&1)===0)return $d(o,l,j,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var B=g.dgst;return g=B,E=Error(r(419)),g=Kg(E,g,void 0),$d(o,l,j,g)}if(B=(j&o.childLanes)!==0,Yr||B){if(g=lr,g!==null){switch(j&-j){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|j))!==0?0:_,_!==0&&_!==E.retryLane&&(E.retryLane=_,ra(o,_),ni(g,o,_,-1))}return my(),g=Kg(Error(r(421))),$d(o,l,j,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=y$.bind(null,o),_._reactRetry=l,null):(o=E.treeContext,hn=qa(_.nextSibling),dn=l,Ct=!0,Zn=null,o!==null&&(An[In++]=ea,An[In++]=ta,An[In++]=qo,ea=o.id,ta=o.overflow,qo=l),l=Zg(l,g.children),l.flags|=4096,l)}function aT(o,l,f){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Og(o.return,l,f)}function ey(o,l,f,g,_){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:_}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=f,E.tailMode=_)}function oT(o,l,f){var g=l.pendingProps,_=g.revealOrder,E=g.tail;if(Vr(o,l,g.children,f),g=Rt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&aT(o,f,l);else if(o.tag===19)aT(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(wt(Rt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(f=l.child,_=null;f!==null;)o=f.alternate,o!==null&&Cd(o)===null&&(_=f),f=f.sibling;f=_,f===null?(_=l.child,l.child=null):(_=f.sibling,f.sibling=null),ey(l,!1,_,f,E);break;case"backwards":for(f=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Cd(o)===null){l.child=_;break}o=_.sibling,_.sibling=f,f=_,_=o}ey(l,!0,f,null,E);break;case"together":ey(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vd(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ia(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Go|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=eo(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=eo(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function a$(o,l,f){switch(l.tag){case 3:rT(l),cl();break;case 5:bS(l);break;case 1:Xr(l.type)&&xd(l);break;case 4:Rg(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;wt(Id,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(wt(Rt,Rt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?iT(o,l,f):(wt(Rt,Rt.current&1),o=ia(o,l,f),o!==null?o.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(o.flags&128)!==0){if(g)return oT(o,l,f);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),wt(Rt,Rt.current),g)break;return null;case 22:case 23:return l.lanes=0,ZS(o,l,f)}return ia(o,l,f)}var sT,ty,lT,uT;sT=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},ty=function(){},lT=function(o,l,f,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,Ho(_i.current);var E=null;switch(f){case"input":_=be(o,_),g=be(o,g),E=[];break;case"select":_=ie({},_,{value:void 0}),g=ie({},g,{value:void 0}),E=[];break;case"textarea":_=hr(o,_),g=hr(o,g),E=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=vd)}Io(f,g);var j;f=null;for(te in _)if(!g.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var B=_[te];for(j in B)B.hasOwnProperty(j)&&(f||(f={}),f[j]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?E||(E=[]):(E=E||[]).push(te,null));for(te in g){var H=g[te];if(B=_?.[te],g.hasOwnProperty(te)&&H!==B&&(H!=null||B!=null))if(te==="style")if(B){for(j in B)!B.hasOwnProperty(j)||H&&H.hasOwnProperty(j)||(f||(f={}),f[j]="");for(j in H)H.hasOwnProperty(j)&&B[j]!==H[j]&&(f||(f={}),f[j]=H[j])}else f||(E||(E=[]),E.push(te,f)),f=H;else te==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(E=E||[]).push(te,H)):te==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(te,""+H):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(H!=null&&te==="onScroll"&&At("scroll",o),E||B===H||(E=[])):(E=E||[]).push(te,H))}f&&(E=E||[]).push("style",f);var te=E;(l.updateQueue=te)&&(l.flags|=4)}},uT=function(o,l,f,g){f!==g&&(l.flags|=4)};function Ju(o,l){if(!Ct)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function kr(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(l)for(var _=o.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=f,l}function o$(o,l,f){var g=l.pendingProps;switch(Eg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(l),null;case 1:return Xr(l.type)&&bd(),kr(l),null;case 3:return g=l.stateNode,pl(),It(Gr),It(Ir),Dg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Td(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Zn!==null&&(dy(Zn),Zn=null))),ty(o,l),kr(l),null;case 5:jg(l);var _=Ho(Ku.current);if(f=l.type,o!==null&&l.stateNode!=null)lT(o,l,f,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return kr(l),null}if(o=Ho(_i.current),Td(l)){g=l.stateNode,f=l.type;var E=l.memoizedProps;switch(g[vi]=l,g[Bu]=E,o=(l.mode&1)!==0,f){case"dialog":At("cancel",g),At("close",g);break;case"iframe":case"object":case"embed":At("load",g);break;case"video":case"audio":for(_=0;_<Vu.length;_++)At(Vu[_],g);break;case"source":At("error",g);break;case"img":case"image":case"link":At("error",g),At("load",g);break;case"details":At("toggle",g);break;case"input":je(g,E),At("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},At("invalid",g);break;case"textarea":xn(g,E),At("invalid",g)}Io(f,E),_=null;for(var j in E)if(E.hasOwnProperty(j)){var B=E[j];j==="children"?typeof B=="string"?g.textContent!==B&&(E.suppressHydrationWarning!==!0&&yd(g.textContent,B,o),_=["children",B]):typeof B=="number"&&g.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&yd(g.textContent,B,o),_=["children",""+B]):i.hasOwnProperty(j)&&B!=null&&j==="onScroll"&&At("scroll",g)}switch(f){case"input":Re(g),qr(g,E,!0);break;case"textarea":Re(g),di(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=vd)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{j=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Lt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=j.createElement(f,{is:g.is}):(o=j.createElement(f),f==="select"&&(j=o,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):o=j.createElementNS(o,f),o[vi]=l,o[Bu]=g,sT(o,l,!1,!1),l.stateNode=o;e:{switch(j=Po(f,g),f){case"dialog":At("cancel",o),At("close",o),_=g;break;case"iframe":case"object":case"embed":At("load",o),_=g;break;case"video":case"audio":for(_=0;_<Vu.length;_++)At(Vu[_],o);_=g;break;case"source":At("error",o),_=g;break;case"img":case"image":case"link":At("error",o),At("load",o),_=g;break;case"details":At("toggle",o),_=g;break;case"input":je(o,g),_=be(o,g),At("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=ie({},g,{value:void 0}),At("invalid",o);break;case"textarea":xn(o,g),_=hr(o,g),At("invalid",o);break;default:_=g}Io(f,_),B=_;for(E in B)if(B.hasOwnProperty(E)){var H=B[E];E==="style"?Ds(o,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Pa(o,H)):E==="children"?typeof H=="string"?(f!=="textarea"||H!=="")&&Bi(o,H):typeof H=="number"&&Bi(o,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&At("scroll",o):H!=null&&M(o,E,H,j))}switch(f){case"input":Re(o),qr(o,g,!1);break;case"textarea":Re(o),di(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ne(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?Yt(o,!!g.multiple,E,!1):g.defaultValue!=null&&Yt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=vd)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return kr(l),null;case 6:if(o&&l.stateNode!=null)uT(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ho(Ku.current),Ho(_i.current),Td(l)){if(g=l.stateNode,f=l.memoizedProps,g[vi]=l,(E=g.nodeValue!==f)&&(o=dn,o!==null))switch(o.tag){case 3:yd(g.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&yd(g.nodeValue,f,(o.mode&1)!==0)}E&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[vi]=l,l.stateNode=g}return kr(l),null;case 13:if(It(Rt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ct&&hn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)dS(),cl(),l.flags|=98560,E=!1;else if(E=Td(l),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[vi]=l}else cl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kr(l),E=!1}else Zn!==null&&(dy(Zn),Zn=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Rt.current&1)!==0?er===0&&(er=3):my())),l.updateQueue!==null&&(l.flags|=4),kr(l),null);case 4:return pl(),ty(o,l),o===null&&Fu(l.stateNode.containerInfo),kr(l),null;case 10:return kg(l.type._context),kr(l),null;case 17:return Xr(l.type)&&bd(),kr(l),null;case 19:if(It(Rt),E=l.memoizedState,E===null)return kr(l),null;if(g=(l.flags&128)!==0,j=E.rendering,j===null)if(g)Ju(E,!1);else{if(er!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(j=Cd(o),j!==null){for(l.flags|=128,Ju(E,!1),g=j.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)E=f,o=g,E.flags&=14680066,j=E.alternate,j===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=j.childLanes,E.lanes=j.lanes,E.child=j.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=j.memoizedProps,E.memoizedState=j.memoizedState,E.updateQueue=j.updateQueue,E.type=j.type,o=j.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return wt(Rt,Rt.current&1|2),l.child}o=o.sibling}E.tail!==null&&He()>vl&&(l.flags|=128,g=!0,Ju(E,!1),l.lanes=4194304)}else{if(!g)if(o=Cd(j),o!==null){if(l.flags|=128,g=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Ju(E,!0),E.tail===null&&E.tailMode==="hidden"&&!j.alternate&&!Ct)return kr(l),null}else 2*He()-E.renderingStartTime>vl&&f!==1073741824&&(l.flags|=128,g=!0,Ju(E,!1),l.lanes=4194304);E.isBackwards?(j.sibling=l.child,l.child=j):(f=E.last,f!==null?f.sibling=j:l.child=j,E.last=j)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=He(),l.sibling=null,f=Rt.current,wt(Rt,g?f&1|2:f&1),l):(kr(l),null);case 22:case 23:return py(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(pn&1073741824)!==0&&(kr(l),l.subtreeFlags&6&&(l.flags|=8192)):kr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function s$(o,l){switch(Eg(l),l.tag){case 1:return Xr(l.type)&&bd(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return pl(),It(Gr),It(Ir),Dg(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return jg(l),null;case 13:if(It(Rt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));cl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return It(Rt),null;case 4:return pl(),null;case 10:return kg(l.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var Fd=!1,Or=!1,l$=typeof WeakSet=="function"?WeakSet:Set,Se=null;function gl(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Vt(o,l,g)}else f.current=null}function ry(o,l,f){try{f()}catch(g){Vt(o,l,g)}}var cT=!1;function u$(o,l){if(pg=Fa,o=BE(),og(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var _=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var j=0,B=-1,H=-1,te=0,he=0,me=o,fe=null;t:for(;;){for(var xe;me!==f||_!==0&&me.nodeType!==3||(B=j+_),me!==E||g!==0&&me.nodeType!==3||(H=j+g),me.nodeType===3&&(j+=me.nodeValue.length),(xe=me.firstChild)!==null;)fe=me,me=xe;for(;;){if(me===o)break t;if(fe===f&&++te===_&&(B=j),fe===E&&++he===g&&(H=j),(xe=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=xe}f=B===-1||H===-1?null:{start:B,end:H}}else f=null}f=f||{start:0,end:0}}else f=null;for(mg={focusedElem:o,selectionRange:f},Fa=!1,Se=l;Se!==null;)if(l=Se,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Se=o;else for(;Se!==null;){l=Se;try{var Ae=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Pe=Ae.memoizedProps,Bt=Ae.memoizedState,J=l.stateNode,K=J.getSnapshotBeforeUpdate(l.elementType===l.type?Pe:ei(l.type,Pe),Bt);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ee=l.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Vt(l,l.return,ye)}if(o=l.sibling,o!==null){o.return=l.return,Se=o;break}Se=l.return}return Ae=cT,cT=!1,Ae}function Zu(o,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var E=_.destroy;_.destroy=void 0,E!==void 0&&ry(l,f,E)}_=_.next}while(_!==g)}}function Ud(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function ny(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function fT(o){var l=o.alternate;l!==null&&(o.alternate=null,fT(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[vi],delete l[Bu],delete l[_g],delete l[W4],delete l[H4])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function dT(o){return o.tag===5||o.tag===3||o.tag===4}function hT(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||dT(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function iy(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=vd));else if(g!==4&&(o=o.child,o!==null))for(iy(o,l,f),o=o.sibling;o!==null;)iy(o,l,f),o=o.sibling}function ay(o,l,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(ay(o,l,f),o=o.sibling;o!==null;)ay(o,l,f),o=o.sibling}var gr=null,ti=!1;function Xa(o,l,f){for(f=f.child;f!==null;)pT(o,l,f),f=f.sibling}function pT(o,l,f){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(jo,f)}catch{}switch(f.tag){case 5:Or||gl(f,l);case 6:var g=gr,_=ti;gr=null,Xa(o,l,f),gr=g,ti=_,gr!==null&&(ti?(o=gr,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):gr.removeChild(f.stateNode));break;case 18:gr!==null&&(ti?(o=gr,f=f.stateNode,o.nodeType===8?vg(o.parentNode,f):o.nodeType===1&&vg(o,f),Yn(o)):vg(gr,f.stateNode));break;case 4:g=gr,_=ti,gr=f.stateNode.containerInfo,ti=!0,Xa(o,l,f),gr=g,ti=_;break;case 0:case 11:case 14:case 15:if(!Or&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var E=_,j=E.destroy;E=E.tag,j!==void 0&&((E&2)!==0||(E&4)!==0)&&ry(f,l,j),_=_.next}while(_!==g)}Xa(o,l,f);break;case 1:if(!Or&&(gl(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(B){Vt(f,l,B)}Xa(o,l,f);break;case 21:Xa(o,l,f);break;case 22:f.mode&1?(Or=(g=Or)||f.memoizedState!==null,Xa(o,l,f),Or=g):Xa(o,l,f);break;default:Xa(o,l,f)}}function mT(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new l$),l.forEach(function(g){var _=v$.bind(null,o,g);f.has(g)||(f.add(g),g.then(_,_))})}}function ri(o,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];try{var E=o,j=l,B=j;e:for(;B!==null;){switch(B.tag){case 5:gr=B.stateNode,ti=!1;break e;case 3:gr=B.stateNode.containerInfo,ti=!0;break e;case 4:gr=B.stateNode.containerInfo,ti=!0;break e}B=B.return}if(gr===null)throw Error(r(160));pT(E,j,_),gr=null,ti=!1;var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(te){Vt(_,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)gT(l,o),l=l.sibling}function gT(o,l){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ri(l,o),xi(o),g&4){try{Zu(3,o,o.return),Ud(3,o)}catch(Pe){Vt(o,o.return,Pe)}try{Zu(5,o,o.return)}catch(Pe){Vt(o,o.return,Pe)}}break;case 1:ri(l,o),xi(o),g&512&&f!==null&&gl(f,f.return);break;case 5:if(ri(l,o),xi(o),g&512&&f!==null&&gl(f,f.return),o.flags&32){var _=o.stateNode;try{Bi(_,"")}catch(Pe){Vt(o,o.return,Pe)}}if(g&4&&(_=o.stateNode,_!=null)){var E=o.memoizedProps,j=f!==null?f.memoizedProps:E,B=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&Qe(_,E),Po(B,j);var te=Po(B,E);for(j=0;j<H.length;j+=2){var he=H[j],me=H[j+1];he==="style"?Ds(_,me):he==="dangerouslySetInnerHTML"?Pa(_,me):he==="children"?Bi(_,me):M(_,he,me,te)}switch(B){case"input":Dt(_,E);break;case"textarea":fi(_,E);break;case"select":var fe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!E.multiple;var xe=E.value;xe!=null?Yt(_,!!E.multiple,xe,!1):fe!==!!E.multiple&&(E.defaultValue!=null?Yt(_,!!E.multiple,E.defaultValue,!0):Yt(_,!!E.multiple,E.multiple?[]:"",!1))}_[Bu]=E}catch(Pe){Vt(o,o.return,Pe)}}break;case 6:if(ri(l,o),xi(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,E=o.memoizedProps;try{_.nodeValue=E}catch(Pe){Vt(o,o.return,Pe)}}break;case 3:if(ri(l,o),xi(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Yn(l.containerInfo)}catch(Pe){Vt(o,o.return,Pe)}break;case 4:ri(l,o),xi(o);break;case 13:ri(l,o),xi(o),_=o.child,_.flags&8192&&(E=_.memoizedState!==null,_.stateNode.isHidden=E,!E||_.alternate!==null&&_.alternate.memoizedState!==null||(ly=He())),g&4&&mT(o);break;case 22:if(he=f!==null&&f.memoizedState!==null,o.mode&1?(Or=(te=Or)||he,ri(l,o),Or=te):ri(l,o),xi(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!he&&(o.mode&1)!==0)for(Se=o,he=o.child;he!==null;){for(me=Se=he;Se!==null;){switch(fe=Se,xe=fe.child,fe.tag){case 0:case 11:case 14:case 15:Zu(4,fe,fe.return);break;case 1:gl(fe,fe.return);var Ae=fe.stateNode;if(typeof Ae.componentWillUnmount=="function"){g=fe,f=fe.return;try{l=g,Ae.props=l.memoizedProps,Ae.state=l.memoizedState,Ae.componentWillUnmount()}catch(Pe){Vt(g,f,Pe)}}break;case 5:gl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){_T(me);continue}}xe!==null?(xe.return=fe,Se=xe):_T(me)}he=he.sibling}e:for(he=null,me=o;;){if(me.tag===5){if(he===null){he=me;try{_=me.stateNode,te?(E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=me.stateNode,H=me.memoizedProps.style,j=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Ms("display",j))}catch(Pe){Vt(o,o.return,Pe)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Pe){Vt(o,o.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:ri(l,o),xi(o),g&4&&mT(o);break;case 21:break;default:ri(l,o),xi(o)}}function xi(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(dT(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Bi(_,""),g.flags&=-33);var E=hT(o);ay(o,E,_);break;case 3:case 4:var j=g.stateNode.containerInfo,B=hT(o);iy(o,B,j);break;default:throw Error(r(161))}}catch(H){Vt(o,o.return,H)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function c$(o,l,f){Se=o,yT(o)}function yT(o,l,f){for(var g=(o.mode&1)!==0;Se!==null;){var _=Se,E=_.child;if(_.tag===22&&g){var j=_.memoizedState!==null||Fd;if(!j){var B=_.alternate,H=B!==null&&B.memoizedState!==null||Or;B=Fd;var te=Or;if(Fd=j,(Or=H)&&!te)for(Se=_;Se!==null;)j=Se,H=j.child,j.tag===22&&j.memoizedState!==null?bT(_):H!==null?(H.return=j,Se=H):bT(_);for(;E!==null;)Se=E,yT(E),E=E.sibling;Se=_,Fd=B,Or=te}vT(o)}else(_.subtreeFlags&8772)!==0&&E!==null?(E.return=_,Se=E):vT(o)}}function vT(o){for(;Se!==null;){var l=Se;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Or||Ud(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Or)if(f===null)g.componentDidMount();else{var _=l.elementType===l.type?f.memoizedProps:ei(l.type,f.memoizedProps);g.componentDidUpdate(_,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&_S(l,E,g);break;case 3:var j=l.updateQueue;if(j!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}_S(l,j,f)}break;case 5:var B=l.stateNode;if(f===null&&l.flags&4){f=B;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&f.focus();break;case"img":H.src&&(f.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Yn(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Or||l.flags&512&&ny(l)}catch(fe){Vt(l,l.return,fe)}}if(l===o){Se=null;break}if(f=l.sibling,f!==null){f.return=l.return,Se=f;break}Se=l.return}}function _T(o){for(;Se!==null;){var l=Se;if(l===o){Se=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Se=f;break}Se=l.return}}function bT(o){for(;Se!==null;){var l=Se;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Ud(4,l)}catch(H){Vt(l,f,H)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(H){Vt(l,_,H)}}var E=l.return;try{ny(l)}catch(H){Vt(l,E,H)}break;case 5:var j=l.return;try{ny(l)}catch(H){Vt(l,j,H)}}}catch(H){Vt(l,l.return,H)}if(l===o){Se=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Se=B;break}Se=l.return}}var f$=Math.ceil,Bd=V.ReactCurrentDispatcher,oy=V.ReactCurrentOwner,On=V.ReactCurrentBatchConfig,st=0,lr=null,Ht=null,yr=0,pn=0,yl=za(0),er=0,ec=null,Go=0,qd=0,sy=0,tc=null,Qr=null,ly=0,vl=1/0,aa=null,zd=!1,uy=null,Ya=null,Wd=!1,Qa=null,Hd=0,rc=0,cy=null,Kd=-1,Gd=0;function Fr(){return(st&6)!==0?He():Kd!==-1?Kd:Kd=He()}function Ja(o){return(o.mode&1)===0?1:(st&2)!==0&&yr!==0?yr&-yr:G4.transition!==null?(Gd===0&&(Gd=Do()),Gd):(o=rt,o!==0||(o=window.event,o=o===void 0?16:Ou(o.type)),o)}function ni(o,l,f,g){if(50<rc)throw rc=0,cy=null,Error(r(185));Da(o,f,g),((st&2)===0||o!==lr)&&(o===lr&&((st&2)===0&&(qd|=f),er===4&&Za(o,yr)),Jr(o,g),f===1&&st===0&&(l.mode&1)===0&&(vl=He()+500,wd&&Ha()))}function Jr(o,l){var f=o.callbackNode;Ki(o,l);var g=Mo(o,o===lr?yr:0);if(g===0)f!==null&&Be(f),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(f!=null&&Be(f),l===1)o.tag===0?K4(wT.bind(null,o)):sS(wT.bind(null,o)),q4(function(){(st&6)===0&&Ha()}),f=null;else{switch($a(g)){case 1:f=zt;break;case 4:f=Qt;break;case 16:f=En;break;case 536870912:f=Gf;break;default:f=En}f=OT(f,xT.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function xT(o,l){if(Kd=-1,Gd=0,(st&6)!==0)throw Error(r(327));var f=o.callbackNode;if(_l()&&o.callbackNode!==f)return null;var g=Mo(o,o===lr?yr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Xd(o,g);else{l=g;var _=st;st|=2;var E=ST();(lr!==o||yr!==l)&&(aa=null,vl=He()+500,Yo(o,l));do try{p$();break}catch(B){ET(o,B)}while(!0);Pg(),Bd.current=E,st=_,Ht!==null?l=0:(lr=null,yr=0,l=er)}if(l!==0){if(l===2&&(_=un(o),_!==0&&(g=_,l=fy(o,_))),l===1)throw f=ec,Yo(o,0),Za(o,g),Jr(o,He()),f;if(l===6)Za(o,g);else{if(_=o.current.alternate,(g&30)===0&&!d$(_)&&(l=Xd(o,g),l===2&&(E=un(o),E!==0&&(g=E,l=fy(o,E))),l===1))throw f=ec,Yo(o,0),Za(o,g),Jr(o,He()),f;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Qo(o,Qr,aa);break;case 3:if(Za(o,g),(g&130023424)===g&&(l=ly+500-He(),10<l)){if(Mo(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){Fr(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=yg(Qo.bind(null,o,Qr,aa),l);break}Qo(o,Qr,aa);break;case 4:if(Za(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var j=31-Lr(g);E=1<<j,j=l[j],j>_&&(_=j),g&=~E}if(g=_,g=He()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*f$(g/1960))-g,10<g){o.timeoutHandle=yg(Qo.bind(null,o,Qr,aa),g);break}Qo(o,Qr,aa);break;case 5:Qo(o,Qr,aa);break;default:throw Error(r(329))}}}return Jr(o,He()),o.callbackNode===f?xT.bind(null,o):null}function fy(o,l){var f=tc;return o.current.memoizedState.isDehydrated&&(Yo(o,l).flags|=256),o=Xd(o,l),o!==2&&(l=Qr,Qr=f,l!==null&&dy(l)),o}function dy(o){Qr===null?Qr=o:Qr.push.apply(Qr,o)}function d$(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var _=f[g],E=_.getSnapshot;_=_.value;try{if(!Jn(E(),_))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Za(o,l){for(l&=~sy,l&=~qd,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Lr(l),g=1<<f;o[f]=-1,l&=~g}}function wT(o){if((st&6)!==0)throw Error(r(327));_l();var l=Mo(o,0);if((l&1)===0)return Jr(o,He()),null;var f=Xd(o,l);if(o.tag!==0&&f===2){var g=un(o);g!==0&&(l=g,f=fy(o,g))}if(f===1)throw f=ec,Yo(o,0),Za(o,l),Jr(o,He()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Qo(o,Qr,aa),Jr(o,He()),null}function hy(o,l){var f=st;st|=1;try{return o(l)}finally{st=f,st===0&&(vl=He()+500,wd&&Ha())}}function Xo(o){Qa!==null&&Qa.tag===0&&(st&6)===0&&_l();var l=st;st|=1;var f=On.transition,g=rt;try{if(On.transition=null,rt=1,o)return o()}finally{rt=g,On.transition=f,st=l,(st&6)===0&&Ha()}}function py(){pn=yl.current,It(yl)}function Yo(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,B4(f)),Ht!==null)for(f=Ht.return;f!==null;){var g=f;switch(Eg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&bd();break;case 3:pl(),It(Gr),It(Ir),Dg();break;case 5:jg(g);break;case 4:pl();break;case 13:It(Rt);break;case 19:It(Rt);break;case 10:kg(g.type._context);break;case 22:case 23:py()}f=f.return}if(lr=o,Ht=o=eo(o.current,null),yr=pn=l,er=0,ec=null,sy=qd=Go=0,Qr=tc=null,Wo!==null){for(l=0;l<Wo.length;l++)if(f=Wo[l],g=f.interleaved,g!==null){f.interleaved=null;var _=g.next,E=f.pending;if(E!==null){var j=E.next;E.next=_,g.next=j}f.pending=g}Wo=null}return o}function ET(o,l){do{var f=Ht;try{if(Pg(),Nd.current=Dd,Rd){for(var g=jt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Rd=!1}if(Ko=0,sr=Zt=jt=null,Gu=!1,Xu=0,oy.current=null,f===null||f.return===null){er=1,ec=l,Ht=null;break}e:{var E=o,j=f.return,B=f,H=l;if(l=yr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var te=H,he=B,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var xe=GS(j);if(xe!==null){xe.flags&=-257,XS(xe,j,B,E,l),xe.mode&1&&KS(E,te,l),l=xe,H=te;var Ae=l.updateQueue;if(Ae===null){var Pe=new Set;Pe.add(H),l.updateQueue=Pe}else Ae.add(H);break e}else{if((l&1)===0){KS(E,te,l),my();break e}H=Error(r(426))}}else if(Ct&&B.mode&1){var Bt=GS(j);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),XS(Bt,j,B,E,l),Ag(ml(H,B));break e}}E=H=ml(H,B),er!==4&&(er=2),tc===null?tc=[E]:tc.push(E),E=j;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var J=WS(E,H,l);vS(E,J);break e;case 1:B=H;var K=E.type,ee=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Ya===null||!Ya.has(ee)))){E.flags|=65536,l&=-l,E.lanes|=l;var ye=HS(E,B,l);vS(E,ye);break e}}E=E.return}while(E!==null)}AT(f)}catch(Oe){l=Oe,Ht===f&&f!==null&&(Ht=f=f.return);continue}break}while(!0)}function ST(){var o=Bd.current;return Bd.current=Dd,o===null?Dd:o}function my(){(er===0||er===3||er===2)&&(er=4),lr===null||(Go&268435455)===0&&(qd&268435455)===0||Za(lr,yr)}function Xd(o,l){var f=st;st|=2;var g=ST();(lr!==o||yr!==l)&&(aa=null,Yo(o,l));do try{h$();break}catch(_){ET(o,_)}while(!0);if(Pg(),st=f,Bd.current=g,Ht!==null)throw Error(r(261));return lr=null,yr=0,er}function h$(){for(;Ht!==null;)TT(Ht)}function p$(){for(;Ht!==null&&!pt();)TT(Ht)}function TT(o){var l=kT(o.alternate,o,pn);o.memoizedProps=o.pendingProps,l===null?AT(o):Ht=l,oy.current=null}function AT(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=o$(f,l,pn),f!==null){Ht=f;return}}else{if(f=s$(f,l),f!==null){f.flags&=32767,Ht=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{er=6,Ht=null;return}}if(l=l.sibling,l!==null){Ht=l;return}Ht=l=o}while(l!==null);er===0&&(er=5)}function Qo(o,l,f){var g=rt,_=On.transition;try{On.transition=null,rt=1,m$(o,l,f,g)}finally{On.transition=_,rt=g}return null}function m$(o,l,f,g){do _l();while(Qa!==null);if((st&6)!==0)throw Error(r(327));f=o.finishedWork;var _=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var E=f.lanes|f.childLanes;if(bt(o,E),o===lr&&(Ht=lr=null,yr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Wd||(Wd=!0,OT(En,function(){return _l(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=On.transition,On.transition=null;var j=rt;rt=1;var B=st;st|=4,oy.current=null,u$(o,f),gT(f,o),M4(mg),Fa=!!pg,mg=pg=null,o.current=f,c$(f),tt(),st=B,rt=j,On.transition=E}else o.current=f;if(Wd&&(Wd=!1,Qa=o,Hd=_),E=o.pendingLanes,E===0&&(Ya=null),Xf(f.stateNode),Jr(o,He()),l!==null)for(g=o.onRecoverableError,f=0;f<l.length;f++)_=l[f],g(_.value,{componentStack:_.stack,digest:_.digest});if(zd)throw zd=!1,o=uy,uy=null,o;return(Hd&1)!==0&&o.tag!==0&&_l(),E=o.pendingLanes,(E&1)!==0?o===cy?rc++:(rc=0,cy=o):rc=0,Ha(),null}function _l(){if(Qa!==null){var o=$a(Hd),l=On.transition,f=rt;try{if(On.transition=null,rt=16>o?16:o,Qa===null)var g=!1;else{if(o=Qa,Qa=null,Hd=0,(st&6)!==0)throw Error(r(331));var _=st;for(st|=4,Se=o.current;Se!==null;){var E=Se,j=E.child;if((Se.flags&16)!==0){var B=E.deletions;if(B!==null){for(var H=0;H<B.length;H++){var te=B[H];for(Se=te;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:Zu(8,he,E)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var fe=he.sibling,xe=he.return;if(fT(he),he===te){Se=null;break}if(fe!==null){fe.return=xe,Se=fe;break}Se=xe}}}var Ae=E.alternate;if(Ae!==null){var Pe=Ae.child;if(Pe!==null){Ae.child=null;do{var Bt=Pe.sibling;Pe.sibling=null,Pe=Bt}while(Pe!==null)}}Se=E}}if((E.subtreeFlags&2064)!==0&&j!==null)j.return=E,Se=j;else e:for(;Se!==null;){if(E=Se,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Zu(9,E,E.return)}var J=E.sibling;if(J!==null){J.return=E.return,Se=J;break e}Se=E.return}}var K=o.current;for(Se=K;Se!==null;){j=Se;var ee=j.child;if((j.subtreeFlags&2064)!==0&&ee!==null)ee.return=j,Se=ee;else e:for(j=K;Se!==null;){if(B=Se,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Ud(9,B)}}catch(Oe){Vt(B,B.return,Oe)}if(B===j){Se=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,Se=ye;break e}Se=B.return}}if(st=_,Ha(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(jo,o)}catch{}g=!0}return g}finally{rt=f,On.transition=l}}return!1}function IT(o,l,f){l=ml(f,l),l=WS(o,l,1),o=Ga(o,l,1),l=Fr(),o!==null&&(Da(o,1,l),Jr(o,l))}function Vt(o,l,f){if(o.tag===3)IT(o,o,f);else for(;l!==null;){if(l.tag===3){IT(l,o,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ya===null||!Ya.has(g))){o=ml(f,o),o=HS(l,o,1),l=Ga(l,o,1),o=Fr(),l!==null&&(Da(l,1,o),Jr(l,o));break}}l=l.return}}function g$(o,l,f){var g=o.pingCache;g!==null&&g.delete(l),l=Fr(),o.pingedLanes|=o.suspendedLanes&f,lr===o&&(yr&f)===f&&(er===4||er===3&&(yr&130023424)===yr&&500>He()-ly?Yo(o,0):sy|=f),Jr(o,l)}function PT(o,l){l===0&&((o.mode&1)===0?l=1:(l=Bs,Bs<<=1,(Bs&130023424)===0&&(Bs=4194304)));var f=Fr();o=ra(o,l),o!==null&&(Da(o,l,f),Jr(o,f))}function y$(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),PT(o,f)}function v$(o,l){var f=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(f=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),PT(o,f)}var kT;kT=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||Gr.current)Yr=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return Yr=!1,a$(o,l,f);Yr=(o.flags&131072)!==0}else Yr=!1,Ct&&(l.flags&1048576)!==0&&lS(l,Sd,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Vd(o,l),o=l.pendingProps;var _=sl(l,Ir.current);hl(l,f),_=Vg(null,l,g,o,_,f);var E=Fg();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Xr(g)?(E=!0,xd(l)):E=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Ng(l),_.updater=Ld,l.stateNode=_,_._reactInternals=l,Hg(l,g,o,f),l=Yg(null,l,g,!0,E,f)):(l.tag=0,Ct&&E&&wg(l),Vr(null,l,_,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Vd(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=b$(g),o=ei(g,o),_){case 0:l=Xg(null,l,g,o,f);break e;case 1:l=tT(null,l,g,o,f);break e;case 11:l=YS(null,l,g,o,f);break e;case 14:l=QS(null,l,g,ei(g.type,o),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ei(g,_),Xg(o,l,g,_,f);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ei(g,_),tT(o,l,g,_,f);case 3:e:{if(rT(l),o===null)throw Error(r(387));g=l.pendingProps,E=l.memoizedState,_=E.element,yS(o,l),Od(l,g,null,f);var j=l.memoizedState;if(g=j.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){_=ml(Error(r(423)),l),l=nT(o,l,g,f,_);break e}else if(g!==_){_=ml(Error(r(424)),l),l=nT(o,l,g,f,_);break e}else for(hn=qa(l.stateNode.containerInfo.firstChild),dn=l,Ct=!0,Zn=null,f=mS(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(cl(),g===_){l=ia(o,l,f);break e}Vr(o,l,g,f)}l=l.child}return l;case 5:return bS(l),o===null&&Tg(l),g=l.type,_=l.pendingProps,E=o!==null?o.memoizedProps:null,j=_.children,gg(g,_)?j=null:E!==null&&gg(g,E)&&(l.flags|=32),eT(o,l),Vr(o,l,j,f),l.child;case 6:return o===null&&Tg(l),null;case 13:return iT(o,l,f);case 4:return Rg(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=fl(l,null,g,f):Vr(o,l,g,f),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ei(g,_),YS(o,l,g,_,f);case 7:return Vr(o,l,l.pendingProps,f),l.child;case 8:return Vr(o,l,l.pendingProps.children,f),l.child;case 12:return Vr(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,E=l.memoizedProps,j=_.value,wt(Id,g._currentValue),g._currentValue=j,E!==null)if(Jn(E.value,j)){if(E.children===_.children&&!Gr.current){l=ia(o,l,f);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var B=E.dependencies;if(B!==null){j=E.child;for(var H=B.firstContext;H!==null;){if(H.context===g){if(E.tag===1){H=na(-1,f&-f),H.tag=2;var te=E.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?H.next=H:(H.next=he.next,he.next=H),te.pending=H}}E.lanes|=f,H=E.alternate,H!==null&&(H.lanes|=f),Og(E.return,f,l),B.lanes|=f;break}H=H.next}}else if(E.tag===10)j=E.type===l.type?null:E.child;else if(E.tag===18){if(j=E.return,j===null)throw Error(r(341));j.lanes|=f,B=j.alternate,B!==null&&(B.lanes|=f),Og(j,f,l),j=E.sibling}else j=E.child;if(j!==null)j.return=E;else for(j=E;j!==null;){if(j===l){j=null;break}if(E=j.sibling,E!==null){E.return=j.return,j=E;break}j=j.return}E=j}Vr(o,l,_.children,f),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,hl(l,f),_=Pn(_),g=g(_),l.flags|=1,Vr(o,l,g,f),l.child;case 14:return g=l.type,_=ei(g,l.pendingProps),_=ei(g.type,_),QS(o,l,g,_,f);case 15:return JS(o,l,l.type,l.pendingProps,f);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ei(g,_),Vd(o,l),l.tag=1,Xr(g)?(o=!0,xd(l)):o=!1,hl(l,f),qS(l,g,_),Hg(l,g,_,f),Yg(null,l,g,!0,o,f);case 19:return oT(o,l,f);case 22:return ZS(o,l,f)}throw Error(r(156,l.tag))};function OT(o,l){return Me(o,l)}function _$(o,l,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(o,l,f,g){return new _$(o,l,f,g)}function gy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function b$(o){if(typeof o=="function")return gy(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===ne)return 14}return 2}function eo(o,l){var f=o.alternate;return f===null?(f=Cn(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Yd(o,l,f,g,_,E){var j=2;if(g=o,typeof o=="function")gy(o)&&(j=1);else if(typeof o=="string")j=5;else e:switch(o){case A:return Jo(f.children,_,E,l);case P:j=8,_|=8;break;case N:return o=Cn(12,f,l,_|2),o.elementType=N,o.lanes=E,o;case D:return o=Cn(13,f,l,_),o.elementType=D,o.lanes=E,o;case re:return o=Cn(19,f,l,_),o.elementType=re,o.lanes=E,o;case oe:return Qd(f,_,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:j=10;break e;case $:j=9;break e;case F:j=11;break e;case ne:j=14;break e;case se:j=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Cn(j,f,l,_),l.elementType=o,l.type=g,l.lanes=E,l}function Jo(o,l,f,g){return o=Cn(7,o,g,l),o.lanes=f,o}function Qd(o,l,f,g){return o=Cn(22,o,g,l),o.elementType=oe,o.lanes=f,o.stateNode={isHidden:!1},o}function yy(o,l,f){return o=Cn(6,o,null,l),o.lanes=f,o}function vy(o,l,f){return l=Cn(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function x$(o,l,f,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function _y(o,l,f,g,_,E,j,B,H){return o=new x$(o,l,f,B,H),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Cn(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ng(E),o}function w$(o,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:g==null?null:""+g,children:o,containerInfo:l,implementation:f}}function CT(o){if(!o)return Wa;o=o._reactInternals;e:{if(Tr(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Xr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(Xr(f))return aS(o,f,l)}return l}function NT(o,l,f,g,_,E,j,B,H){return o=_y(f,g,!0,o,_,E,j,B,H),o.context=CT(null),f=o.current,g=Fr(),_=Ja(f),E=na(g,_),E.callback=l??null,Ga(f,E,_),o.current.lanes=_,Da(o,_,g),Jr(o,g),o}function Jd(o,l,f,g){var _=l.current,E=Fr(),j=Ja(_);return f=CT(f),l.context===null?l.context=f:l.pendingContext=f,l=na(E,j),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Ga(_,l,j),o!==null&&(ni(o,_,j,E),kd(o,_,j)),j}function Zd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function RT(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function by(o,l){RT(o,l),(o=o.alternate)&&RT(o,l)}function E$(){return null}var jT=typeof reportError=="function"?reportError:function(o){console.error(o)};function xy(o){this._internalRoot=o}eh.prototype.render=xy.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Jd(o,l,null,null)},eh.prototype.unmount=xy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Xo(function(){Jd(null,o,null,null)}),l[Ji]=null}};function eh(o){this._internalRoot=o}eh.prototype.unstable_scheduleHydration=function(o){if(o){var l=ed();o={blockedOn:null,target:o,priority:l};for(var f=0;f<pi.length&&l!==0&&l<pi[f].priority;f++);pi.splice(f,0,o),f===0&&nd(o)}};function wy(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function th(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function MT(){}function S$(o,l,f,g,_){if(_){if(typeof g=="function"){var E=g;g=function(){var te=Zd(j);E.call(te)}}var j=NT(l,g,o,0,null,!1,!1,"",MT);return o._reactRootContainer=j,o[Ji]=j.current,Fu(o.nodeType===8?o.parentNode:o),Xo(),j}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var B=g;g=function(){var te=Zd(H);B.call(te)}}var H=_y(o,0,!1,null,null,!1,!1,"",MT);return o._reactRootContainer=H,o[Ji]=H.current,Fu(o.nodeType===8?o.parentNode:o),Xo(function(){Jd(l,H,f,g)}),H}function rh(o,l,f,g,_){var E=f._reactRootContainer;if(E){var j=E;if(typeof _=="function"){var B=_;_=function(){var H=Zd(j);B.call(H)}}Jd(l,j,o,_)}else j=S$(f,l,o,_,g);return Zd(j)}Jf=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=ja(l.pendingLanes);f!==0&&(La(l,f|1),Jr(l,He()),(st&6)===0&&(vl=He()+500,Ha()))}break;case 13:Xo(function(){var g=ra(o,1);if(g!==null){var _=Fr();ni(g,o,1,_)}}),by(o,1)}},qs=function(o){if(o.tag===13){var l=ra(o,134217728);if(l!==null){var f=Fr();ni(l,o,134217728,f)}by(o,134217728)}},Zf=function(o){if(o.tag===13){var l=Ja(o),f=ra(o,l);if(f!==null){var g=Fr();ni(f,o,l,g)}by(o,l)}},ed=function(){return rt},td=function(o,l){var f=rt;try{return rt=o,l()}finally{rt=f}},ko=function(o,l,f){switch(l){case"input":if(Dt(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==o&&g.form===o.form){var _=_d(g);if(!_)throw Error(r(90));z(g),Dt(g,_)}}}break;case"textarea":fi(o,f);break;case"select":l=f.value,l!=null&&Yt(o,!!f.multiple,l,!1)}},Wn=hy,Co=Xo;var T$={usingClientEntryPoint:!1,Events:[qu,al,_d,zn,$s,hy]},nc={findFiberByHostInstance:Uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A$={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ro(o),o===null?null:o.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||E$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{jo=nh.inject(A$),ln=nh}catch{}}return Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T$,Zr.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wy(l))throw Error(r(200));return w$(o,l,null,f)},Zr.createRoot=function(o,l){if(!wy(o))throw Error(r(299));var f=!1,g="",_=jT;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=_y(o,1,!1,null,null,f,!1,g,_),o[Ji]=l.current,Fu(o.nodeType===8?o.parentNode:o),new xy(l)},Zr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Ro(l),o=o===null?null:o.stateNode,o},Zr.flushSync=function(o){return Xo(o)},Zr.hydrate=function(o,l,f){if(!th(l))throw Error(r(200));return rh(null,o,l,!0,f)},Zr.hydrateRoot=function(o,l,f){if(!wy(o))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,_=!1,E="",j=jT;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(j=f.onRecoverableError)),l=NT(l,null,o,1,f??null,_,!1,E,j),o[Ji]=l.current,Fu(o),g)for(o=0;o<g.length;o++)f=g[o],_=f._getVersion,_=_(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,_]:l.mutableSourceEagerHydrationData.push(f,_);return new eh(l)},Zr.render=function(o,l,f){if(!th(l))throw Error(r(200));return rh(null,o,l,!1,f)},Zr.unmountComponentAtNode=function(o){if(!th(o))throw Error(r(40));return o._reactRootContainer?(Xo(function(){rh(null,null,o,!1,function(){o._reactRootContainer=null,o[Ji]=null})}),!0):!1},Zr.unstable_batchedUpdates=hy,Zr.unstable_renderSubtreeIntoContainer=function(o,l,f,g){if(!th(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return rh(o,l,f,!1,g)},Zr.version="18.3.1-next-f1338f8080-20240426",Zr}var qT;function j$(){if(qT)return Ty.exports;qT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ty.exports=R$(),Ty.exports}var zT;function M$(){if(zT)return ah;zT=1;var t=j$();return ah.createRoot=t.createRoot,ah.hydrateRoot=t.hydrateRoot,ah}var D$=M$();const L$=yt(D$);var WT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},$$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let v=(u&15)<<2|d>>6,x=d&63;c||(x=64,s||(v=64)),n.push(r[p],r[m],r[v],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||d==null||m==null)throw new V$;const v=a<<2|u>>4;if(n.push(v),d!==64){const x=u<<4&240|d>>2;if(n.push(x),m!==64){const T=d<<6&192|m;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F$=function(t){const e=o2(t);return s2.encodeByteArray(e,!0)},Vh=function(t){return F$(t).replace(/\./g,"")},l2=function(t){try{return s2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=()=>U$().__FIREBASE_DEFAULTS__,q$=()=>{if(typeof process>"u"||typeof WT>"u")return;const t=WT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l2(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return B$()||q$()||z$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},u2=t=>{var e,r;return(r=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},c2=t=>{const e=u2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},f2=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},d2=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vh(JSON.stringify(r)),Vh(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function K$(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q$(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J$(){return!K$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z$(){try{return typeof indexedDB=="object"}catch{return!1}}function eV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="FirebaseError";class $i extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=tV,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?rV(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new $i(i,u,n)}}function rV(t,e){return t.replace(nV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const nV=/\{\$([^}]+)}/g;function iV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(HT(a)&&HT(s)){if(!Fh(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function HT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function aV(t,e){const r=new oV(t,e);return r.subscribe.bind(r)}class oV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");sV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Py),i.error===void 0&&(i.error=Py),i.complete===void 0&&(i.complete=Py);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Py(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new W$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cV(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:uV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uV(t){return t===ns?void 0:t}function cV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new lV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const dV={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},hV=nt.INFO,pV={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},mV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=pV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ow{constructor(e){this.name=e,this._logLevel=hV,this._logHandler=mV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const gV=(t,e)=>e.some(r=>t instanceof r);let KT,GT;function yV(){return KT||(KT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vV(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p2=new WeakMap,Ub=new WeakMap,m2=new WeakMap,ky=new WeakMap,Cw=new WeakMap;function _V(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(uo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&p2.set(r,t)}).catch(()=>{}),Cw.set(e,t),e}function bV(t){if(Ub.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ub.set(t,e)}let Bb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ub.get(t);if(e==="objectStoreNames")return t.objectStoreNames||m2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return uo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xV(t){Bb=t(Bb)}function wV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Oy(this),e,...r);return m2.set(n,e.sort?e.sort():[e]),uo(n)}:vV().includes(t)?function(...e){return t.apply(Oy(this),e),uo(p2.get(this))}:function(...e){return uo(t.apply(Oy(this),e))}}function EV(t){return typeof t=="function"?wV(t):(t instanceof IDBTransaction&&bV(t),gV(t,yV())?new Proxy(t,Bb):t)}function uo(t){if(t instanceof IDBRequest)return _V(t);if(ky.has(t))return ky.get(t);const e=EV(t);return e!==t&&(ky.set(t,e),Cw.set(e,t)),e}const Oy=t=>Cw.get(t);function SV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=uo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(uo(s.result),c.oldVersion,c.newVersion,uo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const TV=["get","getKey","getAll","getAllKeys","count"],AV=["put","add","delete","clear"],Cy=new Map;function XT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cy.get(e))return Cy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=AV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||TV.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(u.shift())),(await Promise.all([d[r](...u),i&&c.done]))[0]};return Cy.set(e,a),a}xV(t=>({...t,get:(e,r,n)=>XT(e,r)||t.get(e,r,n),has:(e,r)=>!!XT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(PV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function PV(t){const e=t.getComponent();return e?.type==="VERSION"}const qb="@firebase/app",YT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Ow("@firebase/app"),kV="@firebase/app-compat",OV="@firebase/analytics-compat",CV="@firebase/analytics",NV="@firebase/app-check-compat",RV="@firebase/app-check",jV="@firebase/auth",MV="@firebase/auth-compat",DV="@firebase/database",LV="@firebase/data-connect",$V="@firebase/database-compat",VV="@firebase/functions",FV="@firebase/functions-compat",UV="@firebase/installations",BV="@firebase/installations-compat",qV="@firebase/messaging",zV="@firebase/messaging-compat",WV="@firebase/performance",HV="@firebase/performance-compat",KV="@firebase/remote-config",GV="@firebase/remote-config-compat",XV="@firebase/storage",YV="@firebase/storage-compat",QV="@firebase/firestore",JV="@firebase/vertexai-preview",ZV="@firebase/firestore-compat",e3="firebase",t3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="[DEFAULT]",r3={[qb]:"fire-core",[kV]:"fire-core-compat",[CV]:"fire-analytics",[OV]:"fire-analytics-compat",[RV]:"fire-app-check",[NV]:"fire-app-check-compat",[jV]:"fire-auth",[MV]:"fire-auth-compat",[DV]:"fire-rtdb",[LV]:"fire-data-connect",[$V]:"fire-rtdb-compat",[VV]:"fire-fn",[FV]:"fire-fn-compat",[UV]:"fire-iid",[BV]:"fire-iid-compat",[qV]:"fire-fcm",[zV]:"fire-fcm-compat",[WV]:"fire-perf",[HV]:"fire-perf-compat",[KV]:"fire-rc",[GV]:"fire-rc-compat",[XV]:"fire-gcs",[YV]:"fire-gcs-compat",[QV]:"fire-fst",[ZV]:"fire-fst-compat",[JV]:"fire-vertex","fire-js":"fire-js",[e3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,n3=new Map,Wb=new Map;function QT(t,e){try{t.container.addComponent(e)}catch(r){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _s(t){const e=t.name;if(Wb.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Wb.set(e,t);for(const r of Uh.values())QT(r,t);for(const r of n3.values())QT(r,t);return!0}function Yp(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new Sf("app","Firebase",i3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=t3;function g2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:zb,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(r||(r=f2()),!r)throw co.create("no-options");const a=Uh.get(i);if(a){if(Fh(r,a.options)&&Fh(n,a.config))return a;throw co.create("duplicate-app",{appName:i})}const s=new fV(i);for(const c of Wb.values())s.addComponent(c);const u=new a3(r,n,s);return Uh.set(i,u),u}function Nw(t=zb){const e=Uh.get(t);if(!e&&t===zb&&f2())return g2();if(!e)throw co.create("no-app",{appName:t});return e}function Ai(t,e,r){var n;let i=(n=r3[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(u.join(" "));return}_s(new po(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebase-heartbeat-database",s3=1,Mc="firebase-heartbeat-store";let Ny=null;function y2(){return Ny||(Ny=SV(o3,s3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(r){console.warn(r)}}}}).catch(t=>{throw co.create("idb-open",{originalErrorMessage:t.message})})),Ny}async function l3(t){try{const r=(await y2()).transaction(Mc),n=await r.objectStore(Mc).get(v2(t));return await r.done,n}catch(e){if(e instanceof $i)ya.warn(e.message);else{const r=co.create("idb-get",{originalErrorMessage:e?.message});ya.warn(r.message)}}}async function JT(t,e){try{const n=(await y2()).transaction(Mc,"readwrite");await n.objectStore(Mc).put(e,v2(t)),await n.done}catch(r){if(r instanceof $i)ya.warn(r.message);else{const n=co.create("idb-set",{originalErrorMessage:r?.message});ya.warn(n.message)}}}function v2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=1024,c3=30*24*60*60*1e3;class f3{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new h3(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ZT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=c3}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ya.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ZT(),{heartbeatsToSend:n,unsentEntries:i}=d3(this._heartbeatsCache.heartbeats),a=Vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ya.warn(r),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function d3(t,e=u3){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),eA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),eA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class h3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z$()?eV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await l3(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return JT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eA(t){return Vh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){_s(new po("platform-logger",e=>new IV(e),"PRIVATE")),_s(new po("heartbeat",e=>new f3(e),"PRIVATE")),Ai(qb,YT,t),Ai(qb,YT,"esm2017"),Ai("fire-js","")}p3("");var m3="firebase",g3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(m3,g3,"app");function Rw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function _2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y3=_2,b2=new Sf("auth","Firebase",_2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Ow("@firebase/auth");function v3(t,...e){Bh.logLevel<=nt.WARN&&Bh.warn(`Auth (${Is}): ${t}`,...e)}function Ph(t,...e){Bh.logLevel<=nt.ERROR&&Bh.error(`Auth (${Is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,...e){throw jw(t,...e)}function Ii(t,...e){return jw(t,...e)}function x2(t,e,r){const n=Object.assign(Object.assign({},y3()),{[e]:r});return new Sf("auth","Firebase",n).create(e,{appName:t.name})}function ha(t){return x2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return b2.create(t,...e)}function Ue(t,e,...r){if(!t)throw jw(e,...r)}function la(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ph(e),new Error(e)}function va(t,e){t||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _3(){return tA()==="http:"||tA()==="https:"}function tA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_3()||X$()||"connection"in navigator)?navigator.onLine:!0}function x3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r){this.shortDelay=e,this.longDelay=r,va(r>e,"Short delay should be less than long delay!"),this.isMobile=H$()||Y$()}get(){return b3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){va(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Af(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bo(t,e,r,n,i={}){return E2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=Tf(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},a);return G$()||(d.referrerPolicy="no-referrer"),w2.fetch()(S2(t,t.config.apiHost,r,u),d)})}async function E2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},w3),e);try{const i=new T3(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw oh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw oh(t,"user-disabled",s);const p=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw x2(t,p,d);li(t,p)}}catch(i){if(i instanceof $i)throw i;li(t,"network-request-failed",{message:String(i)})}}async function If(t,e,r,n,i={}){const a=await bo(t,e,r,n,i);return"mfaPendingCredential"in a&&li(t,"multi-factor-auth-required",{_serverResponse:a}),a}function S2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Mw(t.config,i):`${t.config.apiScheme}://${i}`}function S3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class T3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ii(this.auth,"network-request-failed")),E3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ii(t,e,n);return i.customData._tokenResponse=r,i}function rA(t){return t!==void 0&&t.enterprise!==void 0}class A3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return S3(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function I3(t,e){return bo(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e){return bo(t,"POST","/v1/accounts:delete",e)}async function T2(t,e){return bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k3(t,e=!1){const r=ir(t),n=await r.getIdToken(e),i=Dw(n);Ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:Tc(Ry(i.auth_time)),issuedAtTime:Tc(Ry(i.iat)),expirationTime:Tc(Ry(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ry(t){return Number(t)*1e3}function Dw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=l2(r);return i?JSON.parse(i):(Ph("Failed to decode base64 JWT payload"),null)}catch(i){return Ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nA(t){const e=Dw(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof $i&&O3(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function O3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Dc(t,T2(r,{idToken:n}));Ue(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?A2(a.providerUserInfo):[],u=R3(t.providerData,s),c=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=c?d:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Kb(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function N3(t){const e=ir(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function R3(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function A2(t){return t.map(e=>{var{providerId:r}=e,n=Rw(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e){const r=await E2(t,{},async()=>{const n=Tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=S2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",w2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function M3(t,e){return bo(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=nA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await j3(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Cl;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ua{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Rw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kb(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return k3(this,e)}reload(){return N3(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ua(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await qh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(ha(this.auth));const e=await this.getIdToken();return await Dc(this,P3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,d,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,T=(s=r.photoURL)!==null&&s!==void 0?s:void 0,S=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,k=(d=r.createdAt)!==null&&d!==void 0?d:void 0,R=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:V,isAnonymous:O,providerData:C,stsTokenManager:A}=r;Ue(M&&A,e,"internal-error");const P=Cl.fromJSON(this.name,A);Ue(typeof M=="string",e,"internal-error"),ro(m,e.name),ro(v,e.name),Ue(typeof V=="boolean",e,"internal-error"),Ue(typeof O=="boolean",e,"internal-error"),ro(x,e.name),ro(T,e.name),ro(S,e.name),ro(b,e.name),ro(k,e.name),ro(R,e.name);const N=new ua({uid:M,auth:e,email:v,emailVerified:V,displayName:m,isAnonymous:O,photoURL:T,phoneNumber:x,tenantId:S,stsTokenManager:P,createdAt:k,lastLoginAt:R});return C&&Array.isArray(C)&&(N.providerData=C.map(L=>Object.assign({},L))),b&&(N._redirectEventId=b),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new Cl;i.updateFromServerResponse(r);const a=new ua({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await qh(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?A2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new Cl;u.updateFromIdToken(n);const c=new ua({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;function ca(t){va(t instanceof Function,"Expected a class definition");let e=iA.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}I2.type="NONE";const aA=I2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,r){return`firebase:${t}:${e}:${r}`}class Nl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,a),this.fullPersistenceKey=kh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ua._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Nl(ca(aA),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||ca(aA);const s=kh(n,e.config.apiKey,e.name);let u=null;for(const d of r)try{const p=await d._get(s);if(p){const m=ua._fromJSON(e,p);d!==a&&(u=m),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Nl(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Nl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R2(e))return"Blackberry";if(j2(e))return"Webos";if(k2(e))return"Safari";if((e.includes("chrome/")||O2(e))&&!e.includes("edge/"))return"Chrome";if(N2(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function P2(t=jr()){return/firefox\//i.test(t)}function k2(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O2(t=jr()){return/crios\//i.test(t)}function C2(t=jr()){return/iemobile/i.test(t)}function N2(t=jr()){return/android/i.test(t)}function R2(t=jr()){return/blackberry/i.test(t)}function j2(t=jr()){return/webos/i.test(t)}function Lw(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D3(t=jr()){var e;return Lw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L3(){return Q$()&&document.documentMode===10}function M2(t=jr()){return Lw(t)||N2(t)||j2(t)||R2(t)||/windows phone/i.test(t)||C2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e=[]){let r;switch(t){case"Browser":r=oA(jr());break;case"Worker":r=`${oA(jr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Is}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e={}){return bo(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=6;class U3{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:F3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new $3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ca(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await T2(this,{idToken:e}),n=await ua._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Si(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=x3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(ha(this));const r=e?ir(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V3(this),r=new U3(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await M3(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ca(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[ca(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&v3(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Ps(t){return ir(t)}class sA{constructor(e){this.auth=e,this.observer=null,this.addObserver=aV(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q3(t){Qp=t}function L2(t){return Qp.loadJS(t)}function z3(){return Qp.recaptchaEnterpriseScript}function W3(){return Qp.gapiScript}function H3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const K3="recaptcha-enterprise",G3="NO_RECAPTCHA";class X3{constructor(e){this.type=K3,this.auth=Ps(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{I3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new A3(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;rA(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(G3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&rA(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=z3();c.length!==0&&(c+=u),L2(c).then(()=>{i(u,a,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}}async function lA(t,e,r,n=!1){const i=new X3(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Gb(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await lA(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await lA(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t,e){const r=Yp(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Fh(a,e??{}))return i;li(i,"already-initialized")}return r.initialize({options:e})}function Q3(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ca);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function J3(t,e,r){const n=Ps(t);Ue(n._canInitEmulator,n,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=$2(e),{host:s,port:u}=Z3(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),eF()}function $2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z3(t){const e=$2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:uA(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:uA(s)}}}function uA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,r){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}async function tF(t,e){return bo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return If(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function iF(t,e){return If(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends $w{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Lc(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Lc(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gb(e,r,"signInWithPassword",rF);case"emailLink":return nF(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gb(e,n,"signUpPassword",tF);case"emailLink":return iF(e,{idToken:r,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e){return If(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="http://localhost";class bs extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):li("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Rw(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new bs(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Rl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Rl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Rl(e,r)}buildRequest(){const e={requestUri:aF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Tf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sF(t){const e=mc(gc(t)).link,r=e?mc(gc(e)).deep_link_id:null,n=mc(gc(t)).deep_link_id;return(n?mc(gc(n)).link:null)||n||r||e||t}class Vw{constructor(e){var r,n,i,a,s,u;const c=mc(gc(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,p=(n=c.oobCode)!==null&&n!==void 0?n:null,m=oF((i=c.mode)!==null&&i!==void 0?i:null);Ue(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=sF(e);try{return new Vw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this.providerId=pu.PROVIDER_ID}static credential(e,r){return Lc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Vw.parseLink(r);return Ue(n,"argument-error"),Lc._fromEmailAndCode(e,n.code,n.tenantId)}}pu.PROVIDER_ID="password";pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends V2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Pf{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch{return null}}}io.FACEBOOK_SIGN_IN_METHOD="facebook.com";io.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return bs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ao.credential(r,n)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Pf{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Pf{constructor(){super("twitter.com")}static credential(e,r){return bs._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return so.credential(r,n)}catch{return null}}}so.TWITTER_SIGN_IN_METHOD="twitter.com";so.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return If(t,"POST","/v1/accounts:signUp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ua._fromIdTokenResponse(e,n,i),s=cA(n);return new xs({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=cA(n);return new xs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function cA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends $i{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new zh(e,r,n,i)}}function F2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(t,a,e,n):a})}async function uF(t,e,r=!1){const n=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return xs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e,r=!1){const{auth:n}=t;if(Si(n.app))return Promise.reject(ha(n));const i="reauthenticate";try{const a=await Dc(t,F2(n,i,e,t),r);Ue(a.idToken,n,"internal-error");const s=Dw(a.idToken);Ue(s,n,"internal-error");const{sub:u}=s;return Ue(t.uid===u,n,"user-mismatch"),xs._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&li(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e,r=!1){if(Si(t.app))return Promise.reject(ha(t));const n="signIn",i=await F2(t,n,e),a=await xs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function fF(t,e){return U2(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dF(t,e,r){if(Si(t.app))return Promise.reject(ha(t));const n=Ps(t),s=await Gb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&B2(t),c}),u=await xs._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function hF(t,e,r){return Si(t.app)?Promise.reject(ha(t)):fF(ir(t),pu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&B2(t),n})}function pF(t,e,r,n){return ir(t).onIdTokenChanged(e,r,n)}function mF(t,e,r){return ir(t).beforeAuthStateChanged(e,r)}function gF(t,e,r,n){return ir(t).onAuthStateChanged(e,r,n)}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=1e3,vF=10;class z2 extends q2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);L3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},yF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}z2.type="LOCAL";const _F=z2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2 extends q2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}W2.type="SESSION";const H2=W2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Jp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async d=>d(r.origin,a)),c=await bF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const d=Fw("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function wF(t){Pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function EF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TF(){return K2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",AF=1,Hh="firebaseLocalStorage",X2="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Zp(t,e){return t.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function IF(){const t=indexedDB.deleteDatabase(G2);return new kf(t).toPromise()}function Xb(){const t=indexedDB.open(G2,AF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Hh,{keyPath:X2})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Hh)?e(n):(n.close(),await IF(),e(await Xb()))})})}async function fA(t,e,r){const n=Zp(t,!0).put({[X2]:e,value:r});return new kf(n).toPromise()}async function PF(t,e){const r=Zp(t,!1).get(e),n=await new kf(r).toPromise();return n===void 0?null:n.value}function dA(t,e){const r=Zp(t,!0).delete(e);return new kf(r).toPromise()}const kF=800,OF=3;class Y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>OF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jp._getInstance(TF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await EF(),!this.activeServiceWorker)return;this.sender=new xF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xb();return await fA(e,Wh,"1"),await dA(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>PF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>dA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zp(i,!1).getAll();return new kf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y2.type="LOCAL";const CF=Y2;new Af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){return e?ca(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends $w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Rl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function RF(t){return U2(t.auth,new Uw(t),t.bypassAuthState)}function jF(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),cF(r,new Uw(t),t.bypassAuthState)}async function MF(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),uF(r,new Uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RF;case"linkViaPopup":case"linkViaRedirect":return MF;case"reauthViaPopup":case"reauthViaRedirect":return jF;default:li(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new Af(2e3,1e4);class Al extends Q2{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=Fw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DF.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="pendingRedirect",Oh=new Map;class $F extends Q2{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const n=await VF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VF(t,e){const r=BF(e),n=UF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function FF(t,e){Oh.set(t._key(),e)}function UF(t){return ca(t._redirectPersistence)}function BF(t){return kh(LF,t.config.apiKey,t.name)}async function qF(t,e,r=!1){if(Si(t.app))return Promise.reject(ha(t));const n=Ps(t),i=NF(n,e),s=await new $F(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=10*60*1e3;class WF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!J2(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ii(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zF&&this.cachedEventUids.clear(),this.cachedEventUids.has(hA(e))}saveEventToCache(e){this.cachedEventUids.add(hA(e)),this.lastProcessedEventTime=Date.now()}}function hA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e={}){return bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XF=/^https?/;async function YF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KF(t);for(const r of e)try{if(QF(r))return}catch{}li(t,"unauthorized-domain")}function QF(t){const e=Hb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!XF.test(r))return!1;if(GF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new Af(3e4,6e4);function pA(){const t=Pi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ZF(t){return new Promise((e,r)=>{var n,i,a;function s(){pA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pA(),r(Ii(t,"network-request-failed"))},timeout:JF.get()})}if(!((i=(n=Pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Pi().gapi)===null||a===void 0)&&a.load)s();else{const u=H3("iframefcb");return Pi()[u]=()=>{gapi.load?s():r(Ii(t,"network-request-failed"))},L2(`${W3()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function e6(t){return Ch=Ch||ZF(t),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new Af(5e3,15e3),r6="__/auth/iframe",n6="emulator/auth/iframe",i6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Mw(e,n6):`https://${t.config.authDomain}/${r6}`,n={apiKey:e.apiKey,appName:t.name,v:Is},i=a6.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Tf(n).slice(1)}`}async function s6(t){const e=await e6(t),r=Pi().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:o6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i6,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Ii(t,"network-request-failed"),u=Pi().setTimeout(()=>{a(s)},t6.get());function c(){Pi().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u6=500,c6=600,f6="_blank",d6="http://localhost";class mA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h6(t,e,r,n=u6,i=c6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},l6),{width:n.toString(),height:i.toString(),top:a,left:s}),d=jr().toLowerCase();r&&(u=O2(d)?f6:r),P2(d)&&(e=e||d6,c.scrollbars="yes");const p=Object.entries(c).reduce((v,[x,T])=>`${v}${x}=${T},`,"");if(D3(d)&&u!=="_self")return p6(e||"",u),new mA(null);const m=window.open(e||"",u,p);Ue(m,t,"popup-blocked");try{m.focus()}catch{}return new mA(m)}function p6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="__/auth/handler",g6="emulator/auth/handler",y6=encodeURIComponent("fac");async function gA(t,e,r,n,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Is,eventId:i};if(e instanceof V2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",iV(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))s[p]=m}if(e instanceof Pf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await t._getAppCheckToken(),d=c?`#${y6}=${encodeURIComponent(c)}`:"";return`${v6(t)}?${Tf(u).slice(1)}${d}`}function v6({config:t}){return t.emulator?Mw(t,g6):`https://${t.authDomain}/${m6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="webStorageSupport";class _6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H2,this._completeRedirectFn=qF,this._overrideRedirectResult=FF}async _openPopup(e,r,n,i){var a;va((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await gA(e,r,n,Hb(),i);return h6(e,s,Fw())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await gA(e,r,n,Hb(),i);return wF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await s6(e),n=new WF(e);return r.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(jy,{type:jy},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[jy];s!==void 0&&r(!!s),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=YF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return M2()||k2()||Lw()}}const b6=_6;var yA="@firebase/auth",vA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E6(t){_s(new po("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D2(t)},d=new B3(n,i,a,c);return Q3(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_s(new po("auth-internal",e=>{const r=Ps(e.getProvider("auth").getImmediate());return(n=>new x6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(yA,vA,w6(t)),Ai(yA,vA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=5*60,T6=d2("authIdTokenMaxAge")||S6;let _A=null;const A6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>T6)return;const i=r?.token;_A!==i&&(_A=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z2(t=Nw()){const e=Yp(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Y3(t,{popupRedirectResolver:b6,persistence:[CF,_F,H2]}),n=d2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=A6(a.toString());mF(r,s,()=>s(r.currentUser)),pF(r,u=>s(u))}}const i=u2("auth");return i&&J3(r,`http://${i}`),r}function I6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q3({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ii("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",I6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E6("Browser");var bA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,ej;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function N(){}N.prototype=P.prototype,A.D=P.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(L,$,F){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return P.prototype[$].apply(L,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,N){N||(N=0);var L=Array(16);if(typeof P=="string")for(var $=0;16>$;++$)L[$]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for($=0;16>$;++$)L[$]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=A.g[0],N=A.g[1],$=A.g[2];var F=A.g[3],D=P+(F^N&($^F))+L[0]+3614090360&4294967295;P=N+(D<<7&4294967295|D>>>25),D=F+($^P&(N^$))+L[1]+3905402710&4294967295,F=P+(D<<12&4294967295|D>>>20),D=$+(N^F&(P^N))+L[2]+606105819&4294967295,$=F+(D<<17&4294967295|D>>>15),D=N+(P^$&(F^P))+L[3]+3250441966&4294967295,N=$+(D<<22&4294967295|D>>>10),D=P+(F^N&($^F))+L[4]+4118548399&4294967295,P=N+(D<<7&4294967295|D>>>25),D=F+($^P&(N^$))+L[5]+1200080426&4294967295,F=P+(D<<12&4294967295|D>>>20),D=$+(N^F&(P^N))+L[6]+2821735955&4294967295,$=F+(D<<17&4294967295|D>>>15),D=N+(P^$&(F^P))+L[7]+4249261313&4294967295,N=$+(D<<22&4294967295|D>>>10),D=P+(F^N&($^F))+L[8]+1770035416&4294967295,P=N+(D<<7&4294967295|D>>>25),D=F+($^P&(N^$))+L[9]+2336552879&4294967295,F=P+(D<<12&4294967295|D>>>20),D=$+(N^F&(P^N))+L[10]+4294925233&4294967295,$=F+(D<<17&4294967295|D>>>15),D=N+(P^$&(F^P))+L[11]+2304563134&4294967295,N=$+(D<<22&4294967295|D>>>10),D=P+(F^N&($^F))+L[12]+1804603682&4294967295,P=N+(D<<7&4294967295|D>>>25),D=F+($^P&(N^$))+L[13]+4254626195&4294967295,F=P+(D<<12&4294967295|D>>>20),D=$+(N^F&(P^N))+L[14]+2792965006&4294967295,$=F+(D<<17&4294967295|D>>>15),D=N+(P^$&(F^P))+L[15]+1236535329&4294967295,N=$+(D<<22&4294967295|D>>>10),D=P+($^F&(N^$))+L[1]+4129170786&4294967295,P=N+(D<<5&4294967295|D>>>27),D=F+(N^$&(P^N))+L[6]+3225465664&4294967295,F=P+(D<<9&4294967295|D>>>23),D=$+(P^N&(F^P))+L[11]+643717713&4294967295,$=F+(D<<14&4294967295|D>>>18),D=N+(F^P&($^F))+L[0]+3921069994&4294967295,N=$+(D<<20&4294967295|D>>>12),D=P+($^F&(N^$))+L[5]+3593408605&4294967295,P=N+(D<<5&4294967295|D>>>27),D=F+(N^$&(P^N))+L[10]+38016083&4294967295,F=P+(D<<9&4294967295|D>>>23),D=$+(P^N&(F^P))+L[15]+3634488961&4294967295,$=F+(D<<14&4294967295|D>>>18),D=N+(F^P&($^F))+L[4]+3889429448&4294967295,N=$+(D<<20&4294967295|D>>>12),D=P+($^F&(N^$))+L[9]+568446438&4294967295,P=N+(D<<5&4294967295|D>>>27),D=F+(N^$&(P^N))+L[14]+3275163606&4294967295,F=P+(D<<9&4294967295|D>>>23),D=$+(P^N&(F^P))+L[3]+4107603335&4294967295,$=F+(D<<14&4294967295|D>>>18),D=N+(F^P&($^F))+L[8]+1163531501&4294967295,N=$+(D<<20&4294967295|D>>>12),D=P+($^F&(N^$))+L[13]+2850285829&4294967295,P=N+(D<<5&4294967295|D>>>27),D=F+(N^$&(P^N))+L[2]+4243563512&4294967295,F=P+(D<<9&4294967295|D>>>23),D=$+(P^N&(F^P))+L[7]+1735328473&4294967295,$=F+(D<<14&4294967295|D>>>18),D=N+(F^P&($^F))+L[12]+2368359562&4294967295,N=$+(D<<20&4294967295|D>>>12),D=P+(N^$^F)+L[5]+4294588738&4294967295,P=N+(D<<4&4294967295|D>>>28),D=F+(P^N^$)+L[8]+2272392833&4294967295,F=P+(D<<11&4294967295|D>>>21),D=$+(F^P^N)+L[11]+1839030562&4294967295,$=F+(D<<16&4294967295|D>>>16),D=N+($^F^P)+L[14]+4259657740&4294967295,N=$+(D<<23&4294967295|D>>>9),D=P+(N^$^F)+L[1]+2763975236&4294967295,P=N+(D<<4&4294967295|D>>>28),D=F+(P^N^$)+L[4]+1272893353&4294967295,F=P+(D<<11&4294967295|D>>>21),D=$+(F^P^N)+L[7]+4139469664&4294967295,$=F+(D<<16&4294967295|D>>>16),D=N+($^F^P)+L[10]+3200236656&4294967295,N=$+(D<<23&4294967295|D>>>9),D=P+(N^$^F)+L[13]+681279174&4294967295,P=N+(D<<4&4294967295|D>>>28),D=F+(P^N^$)+L[0]+3936430074&4294967295,F=P+(D<<11&4294967295|D>>>21),D=$+(F^P^N)+L[3]+3572445317&4294967295,$=F+(D<<16&4294967295|D>>>16),D=N+($^F^P)+L[6]+76029189&4294967295,N=$+(D<<23&4294967295|D>>>9),D=P+(N^$^F)+L[9]+3654602809&4294967295,P=N+(D<<4&4294967295|D>>>28),D=F+(P^N^$)+L[12]+3873151461&4294967295,F=P+(D<<11&4294967295|D>>>21),D=$+(F^P^N)+L[15]+530742520&4294967295,$=F+(D<<16&4294967295|D>>>16),D=N+($^F^P)+L[2]+3299628645&4294967295,N=$+(D<<23&4294967295|D>>>9),D=P+($^(N|~F))+L[0]+4096336452&4294967295,P=N+(D<<6&4294967295|D>>>26),D=F+(N^(P|~$))+L[7]+1126891415&4294967295,F=P+(D<<10&4294967295|D>>>22),D=$+(P^(F|~N))+L[14]+2878612391&4294967295,$=F+(D<<15&4294967295|D>>>17),D=N+(F^($|~P))+L[5]+4237533241&4294967295,N=$+(D<<21&4294967295|D>>>11),D=P+($^(N|~F))+L[12]+1700485571&4294967295,P=N+(D<<6&4294967295|D>>>26),D=F+(N^(P|~$))+L[3]+2399980690&4294967295,F=P+(D<<10&4294967295|D>>>22),D=$+(P^(F|~N))+L[10]+4293915773&4294967295,$=F+(D<<15&4294967295|D>>>17),D=N+(F^($|~P))+L[1]+2240044497&4294967295,N=$+(D<<21&4294967295|D>>>11),D=P+($^(N|~F))+L[8]+1873313359&4294967295,P=N+(D<<6&4294967295|D>>>26),D=F+(N^(P|~$))+L[15]+4264355552&4294967295,F=P+(D<<10&4294967295|D>>>22),D=$+(P^(F|~N))+L[6]+2734768916&4294967295,$=F+(D<<15&4294967295|D>>>17),D=N+(F^($|~P))+L[13]+1309151649&4294967295,N=$+(D<<21&4294967295|D>>>11),D=P+($^(N|~F))+L[4]+4149444226&4294967295,P=N+(D<<6&4294967295|D>>>26),D=F+(N^(P|~$))+L[11]+3174756917&4294967295,F=P+(D<<10&4294967295|D>>>22),D=$+(P^(F|~N))+L[2]+718787259&4294967295,$=F+(D<<15&4294967295|D>>>17),D=N+(F^($|~P))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+($+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+$&4294967295,A.g[3]=A.g[3]+F&4294967295}n.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var N=P-this.blockSize,L=this.B,$=this.h,F=0;F<P;){if($==0)for(;F<=N;)i(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<P;)if(L[$++]=A.charCodeAt(F++),$==this.blockSize){i(this,L),$=0;break}}else for(;F<P;)if(L[$++]=A[F++],$==this.blockSize){i(this,L),$=0;break}}this.h=$,this.o+=P},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var N=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=N&255,N/=256;for(this.u(A),A=Array(16),P=N=0;4>P;++P)for(var L=0;32>L;L+=8)A[N++]=this.g[P]>>>L&255;return A};function a(A,P){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=P(A)}function s(A,P){this.h=P;for(var N=[],L=!0,$=A.length-1;0<=$;$--){var F=A[$]|0;L&&F==P||(N[$]=F,L=!1)}this.g=N}var u={};function c(A){return-128<=A&&128>A?a(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return b(d(-A));for(var P=[],N=1,L=0;A>=N;L++)P[L]=A/N|0,N*=4294967296;return new s(P,0)}function p(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return b(p(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=d(Math.pow(P,8)),L=m,$=0;$<A.length;$+=8){var F=Math.min(8,A.length-$),D=parseInt(A.substring($,$+F),P);8>F?(F=d(Math.pow(P,F)),L=L.j(F).add(d(D))):(L=L.j(N),L=L.add(d(D)))}return L}var m=c(0),v=c(1),x=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-b(this).m();for(var A=0,P=1,N=0;N<this.g.length;N++){var L=this.i(N);A+=(0<=L?L:4294967296+L)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+b(this).toString(A);for(var P=d(Math.pow(A,6)),N=this,L="";;){var $=V(N,P).g;N=k(N,$.j(P));var F=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=$,T(N))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=k(this,A),S(A)?-1:T(A)?0:1};function b(A){for(var P=A.g.length,N=[],L=0;L<P;L++)N[L]=~A.g[L];return new s(N,~A.h).add(v)}t.abs=function(){return S(this)?b(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],L=0,$=0;$<=P;$++){var F=L+(this.i($)&65535)+(A.i($)&65535),D=(F>>>16)+(this.i($)>>>16)+(A.i($)>>>16);L=D>>>16,F&=65535,D&=65535,N[$]=D<<16|F}return new s(N,N[N.length-1]&-2147483648?-1:0)};function k(A,P){return A.add(b(P))}t.j=function(A){if(T(this)||T(A))return m;if(S(this))return S(A)?b(this).j(b(A)):b(b(this).j(A));if(S(A))return b(this.j(b(A)));if(0>this.l(x)&&0>A.l(x))return d(this.m()*A.m());for(var P=this.g.length+A.g.length,N=[],L=0;L<2*P;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var $=0;$<A.g.length;$++){var F=this.i(L)>>>16,D=this.i(L)&65535,re=A.i($)>>>16,ne=A.i($)&65535;N[2*L+2*$]+=D*ne,R(N,2*L+2*$),N[2*L+2*$+1]+=F*ne,R(N,2*L+2*$+1),N[2*L+2*$+1]+=D*re,R(N,2*L+2*$+1),N[2*L+2*$+2]+=F*re,R(N,2*L+2*$+2)}for(L=0;L<P;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=P;L<2*P;L++)N[L]=0;return new s(N,0)};function R(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function M(A,P){this.g=A,this.h=P}function V(A,P){if(T(P))throw Error("division by zero");if(T(A))return new M(m,m);if(S(A))return P=V(b(A),P),new M(b(P.g),b(P.h));if(S(P))return P=V(A,b(P)),new M(b(P.g),P.h);if(30<A.g.length){if(S(A)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var N=v,L=P;0>=L.l(A);)N=O(N),L=O(L);var $=C(N,1),F=C(L,1);for(L=C(L,2),N=C(N,2);!T(L);){var D=F.add(L);0>=D.l(A)&&($=$.add(N),F=D),L=C(L,1),N=C(N,1)}return P=k(A,$.j(P)),new M($,P)}for($=m;0<=A.l(P);){for(N=Math.max(1,Math.floor(A.m()/P.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=d(N),D=F.j(P);S(D)||0<D.l(A);)N-=L,F=d(N),D=F.j(P);T(F)&&(F=v),$=$.add(F),A=k(A,D)}return new M($,A)}t.A=function(A){return V(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)&A.i(L);return new s(N,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)|A.i(L);return new s(N,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],L=0;L<P;L++)N[L]=this.i(L)^A.i(L);return new s(N,this.h^A.h)};function O(A){for(var P=A.g.length+1,N=[],L=0;L<P;L++)N[L]=A.i(L)<<1|A.i(L-1)>>>31;return new s(N,A.h)}function C(A,P){var N=P>>5;P%=32;for(var L=A.g.length-N,$=[],F=0;F<L;F++)$[F]=0<P?A.i(F+N)>>>P|A.i(F+N+1)<<32-P:A.i(F+N);return new s($,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ej=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,hs=s}).apply(typeof bA<"u"?bA:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tj,yc,rj,Nh,Yb,nj,ij,aj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,I){return h==Array.prototype||h==Object.prototype||(h[w]=I.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var w=0;w<h.length;++w){var I=h[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(h,w){if(w)e:{var I=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var Q=h[U];if(!(Q in I))break e;I=I[Q]}h=h[h.length-1],U=I[h],w=w(U),w!=U&&w!=null&&e(I,h,{configurable:!0,writable:!0,value:w})}}function a(h,w){h instanceof String&&(h+="");var I=0,U=!1,Q={next:function(){if(!U&&I<h.length){var ae=I++;return{value:w(ae,h[ae]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(h){return h||function(){return a(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function d(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function p(h,w,I){return h.call.apply(h.bind,arguments)}function m(h,w,I){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,U),h.apply(w,Q)}}return function(){return h.apply(w,arguments)}}function v(h,w,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function x(h,w){var I=Array.prototype.slice.call(arguments,1);return function(){var U=I.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function T(h,w){function I(){}I.prototype=w.prototype,h.aa=w.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(U,Q,ae){for(var ve=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ve[mt-2]=arguments[mt];return w.prototype[Q].apply(U,ve)}}function S(h){const w=h.length;if(0<w){const I=Array(w);for(let U=0;U<w;U++)I[U]=h[U];return I}return[]}function b(h,w){for(let I=1;I<arguments.length;I++){const U=arguments[I];if(c(U)){const Q=h.length||0,ae=U.length||0;h.length=Q+ae;for(let ve=0;ve<ae;ve++)h[Q+ve]=U[ve]}else h.push(U)}}class k{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var O=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function C(h,w,I){for(const U in h)w.call(I,h[U],U,h)}function A(h,w){for(const I in h)w.call(void 0,h[I],I,h)}function P(h){const w={};for(const I in h)w[I]=h[I];return w}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,w){let I,U;for(let Q=1;Q<arguments.length;Q++){U=arguments[Q];for(I in U)h[I]=U[I];for(let ae=0;ae<N.length;ae++)I=N[ae],Object.prototype.hasOwnProperty.call(U,I)&&(h[I]=U[I])}}function $(h){var w=1;h=h.split(":");const I=[];for(;0<w&&h.length;)I.push(h.shift()),w--;return h.length&&I.push(h.join(":")),I}function F(h){u.setTimeout(()=>{throw h},0)}function D(){var h=Y;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class re{constructor(){this.h=this.g=null}add(w,I){const U=ne.get();U.set(w,I),this.h?this.h.next=U:this.g=U,this.h=U}}var ne=new k(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Z=!1,Y=new re,ie=()=>{const h=u.Promise.resolve(void 0);oe=()=>{h.then(q)}};var q=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(I){F(I)}var w=ne;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}Z=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};u.addEventListener("test",I,w),u.removeEventListener("test",I,w)}catch{}return h}();function Ce(h,w){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(O){e:{try{V(w.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(w=null)}}else I=="mouseover"?w=h.fromElement:I=="mouseout"&&(w=h.toElement);this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}T(Ce,ue);var Le={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xe="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function de(h,w,I,U,Q){this.listener=h,this.proxy=null,this.src=w,this.type=I,this.capture=!!U,this.ha=Q,this.key=++Ne,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,w,I,U,Q){var ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);var ve=ge(h,w,U,Q);return-1<ve?(w=h[ve],I||(w.fa=!1)):(w=new de(w,this.src,ae,!!U,Q),w.fa=I,h.push(w)),w};function z(h,w){var I=w.type;if(I in h.g){var U=h.g[I],Q=Array.prototype.indexOf.call(U,w,void 0),ae;(ae=0<=Q)&&Array.prototype.splice.call(U,Q,1),ae&&(Ee(w),h.g[I].length==0&&(delete h.g[I],h.h--))}}function ge(h,w,I,U){for(var Q=0;Q<h.length;++Q){var ae=h[Q];if(!ae.da&&ae.listener==w&&ae.capture==!!I&&ae.ha==U)return Q}return-1}var be="closure_lm_"+(1e6*Math.random()|0),je={};function Qe(h,w,I,U,Q){if(Array.isArray(w)){for(var ae=0;ae<w.length;ae++)Qe(h,w[ae],I,U,Q);return null}return I=di(I),h&&h[Xe]?h.K(w,I,d(U)?!!U.capture:!1,Q):Dt(h,w,I,!1,U,Q)}function Dt(h,w,I,U,Q,ae){if(!w)throw Error("Invalid event type");var ve=d(Q)?!!Q.capture:!!Q,mt=xn(h);if(mt||(h[be]=mt=new Re(h)),I=mt.add(w,I,U,ve,ae),I.proxy)return I;if(U=qr(),I.proxy=U,U.src=h,U.listener=I,h.addEventListener)_e||(Q=ve),Q===void 0&&(Q=!1),h.addEventListener(w.toString(),U,Q);else if(h.attachEvent)h.attachEvent(Yt(w.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return I}function qr(){function h(I){return w.call(h.src,h.listener,I)}const w=hr;return h}function Mr(h,w,I,U,Q){if(Array.isArray(w))for(var ae=0;ae<w.length;ae++)Mr(h,w[ae],I,U,Q);else U=d(U)?!!U.capture:!!U,I=di(I),h&&h[Xe]?(h=h.i,w=String(w).toString(),w in h.g&&(ae=h.g[w],I=ge(ae,I,U,Q),-1<I&&(Ee(ae[I]),Array.prototype.splice.call(ae,I,1),ae.length==0&&(delete h.g[w],h.h--)))):h&&(h=xn(h))&&(w=h.g[w.toString()],h=-1,w&&(h=ge(w,I,U,Q)),(I=-1<h?w[h]:null)&&Dr(I))}function Dr(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Xe])z(w.i,h);else{var I=h.type,U=h.proxy;w.removeEventListener?w.removeEventListener(I,U,h.capture):w.detachEvent?w.detachEvent(Yt(I),U):w.addListener&&w.removeListener&&w.removeListener(U),(I=xn(w))?(z(I,h),I.h==0&&(I.src=null,w[be]=null)):Ee(h)}}}function Yt(h){return h in je?je[h]:je[h]="on"+h}function hr(h,w){if(h.da)h=!0;else{w=new Ce(w,this);var I=h.listener,U=h.ha||h.src;h.fa&&Dr(h),h=I.call(U,w)}return h}function xn(h){return h=h[be],h instanceof Re?h:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(h){return typeof h=="function"?h:(h[fi]||(h[fi]=function(w){return h.handleEvent(w)}),h[fi])}function Lt(){G.call(this),this.i=new Re(this),this.M=this,this.F=null}T(Lt,G),Lt.prototype[Xe]=!0,Lt.prototype.removeEventListener=function(h,w,I,U){Mr(this,h,w,I,U)};function $t(h,w){var I,U=h.F;if(U)for(I=[];U;U=U.F)I.push(U);if(h=h.M,U=w.type||w,typeof w=="string")w=new ue(w,h);else if(w instanceof ue)w.target=w.target||h;else{var Q=w;w=new ue(U,h),L(w,Q)}if(Q=!0,I)for(var ae=I.length-1;0<=ae;ae--){var ve=w.g=I[ae];Q=Bn(ve,U,!0,w)&&Q}if(ve=w.g=h,Q=Bn(ve,U,!0,w)&&Q,Q=Bn(ve,U,!1,w)&&Q,I)for(ae=0;ae<I.length;ae++)ve=w.g=I[ae],Q=Bn(ve,U,!1,w)&&Q}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var I=h.g[w],U=0;U<I.length;U++)Ee(I[U]);delete h.g[w],h.h--}}this.F=null},Lt.prototype.K=function(h,w,I,U){return this.i.add(String(h),w,!1,I,U)},Lt.prototype.L=function(h,w,I,U){return this.i.add(String(h),w,!0,I,U)};function Bn(h,w,I,U){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var Q=!0,ae=0;ae<w.length;++ae){var ve=w[ae];if(ve&&!ve.da&&ve.capture==I){var mt=ve.listener,Jt=ve.ha||ve.src;ve.fa&&z(h.i,ve),Q=mt.call(Jt,U)!==!1&&Q}}return Q&&!U.defaultPrevented}function Pa(h,w,I){if(typeof h=="function")I&&(h=v(h,I));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(h,w||0)}function Bi(h){h.g=Pa(()=>{h.g=null,h.i&&(h.i=!1,Bi(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class ka extends G{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Bi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(h){G.call(this),this.h=h,this.g={}}T(zr,G);var Ms=[];function Ds(h){C(h.g,function(w,I){this.g.hasOwnProperty(I)&&Dr(w)},h),h.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Ds(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ls=u.JSON.stringify,Io=u.JSON.parse,Po=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function wn(){}wn.prototype.h=null;function qi(h){return h.h||(h.h=h.i())}function ko(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){ue.call(this,"d")}T(qn,ue);function Oo(){ue.call(this,"c")}T(Oo,ue);var zn={},$s=null;function Wn(){return $s=$s||new Lt}zn.La="serverreachability";function Co(h){ue.call(this,zn.La,h)}T(Co,ue);function Sr(h){const w=Wn();$t(w,new Co(w))}zn.STAT_EVENT="statevent";function Hn(h,w){ue.call(this,zn.STAT_EVENT,h),this.stat=w}T(Hn,ue);function _t(h){const w=Wn();$t(w,new Hn(w,h))}zn.Ma="timingevent";function Oa(h,w){ue.call(this,zn.Ma,h),this.size=w}T(Oa,ue);function Wr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},w)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function Wi(h,w,I,U,Q,ae){h.info(function(){if(h.g)if(ae)for(var ve="",mt=ae.split("&"),Jt=0;Jt<mt.length;Jt++){var at=mt[Jt].split("=");if(1<at.length){var or=at[0];at=at[1];var Wt=or.split("_");ve=2<=Wt.length&&Wt[1]=="type"?ve+(or+"="+at+"&"):ve+(or+"=redacted&")}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+U+") [attempt "+Q+"]: "+w+`
`+I+`
`+ve})}function Ca(h,w,I,U,Q,ae,ve){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Q+"]: "+w+`
`+I+`
`+ae+" "+ve})}function on(h,w,I,U){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Tu(h,I)+(U?" "+U:"")})}function No(h,w){h.info(function(){return"TIMEOUT: "+w})}zi.prototype.info=function(){};function Tu(h,w){if(!h.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var U=I[h];if(!(2>U.length)){var Q=U[1];if(Array.isArray(Q)&&!(1>Q.length)){var ae=Q[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var ve=1;ve<Q.length;ve++)Q[ve]=""}}}}return Ls(I)}catch{return w}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function Hi(){}T(Hi,wn),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Tr=new Hi;function Ar(h,w,I,U){this.j=h,this.i=w,this.l=I,this.R=U||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fs}function Fs(){this.i=null,this.g="",this.h=!1}var Ro={},Ra={};function Me(h,w,I){h.L=1,h.v=La(un(w)),h.m=I,h.P=!0,Be(h,null)}function Be(h,w){h.F=Date.now(),He(h),h.A=un(h.v);var I=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),Va(I.i,"t",U),h.C=0,I=h.j.J,h.h=new Fs,h.g=ud(h.j,I?w:null,!h.m),0<h.O&&(h.M=new ka(v(h.Y,h,h.g),h.O)),w=h.U,I=h.g,U=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ms[0]=Q.toString()),Q=Ms);for(var ae=0;ae<Q.length;ae++){var ve=Qe(I,Q[ae],U||w.handleEvent,!1,w.h||w);if(!ve)break;w.g[ve.key]=ve}w=h.H?P(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),Sr(),Wi(h.i,h.u,h.A,h.l,h.R,h.m)}Ar.prototype.ca=function(h){h=h.target;const w=this.M;w&&Kr(h)==3?w.j():this.Y(h)},Ar.prototype.Y=function(h){try{if(h==this.g)e:{const Wt=Kr(this.g);var w=this.g.Ba();const Tn=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||Wt!=4||w==7||(w==8||0>=Tn?Sr(3):Sr(2)),zt(this);var I=this.g.Z();this.X=I;t:if(pt(this)){var U=Cu(this.g);h="";var Q=U.length,ae=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Qt(this);var ve="";break t}this.h.i=new u.TextDecoder}for(w=0;w<Q;w++)this.h.h=!0,h+=this.h.i.decode(U[w],{stream:!(ae&&w==Q-1)});U.length=0,this.h.g+=h,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=I==200,Ca(this.i,this.u,this.A,this.l,this.R,Wt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Jt=this.g;if((mt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(mt)){var at=mt;break t}}at=null}if(I=at)on(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Au(this,I);else{this.o=!1,this.s=3,_t(12),En(this),Qt(this);break e}}if(this.P){I=!0;let fn;for(;!this.J&&this.C<ve.length;)if(fn=tt(this,ve),fn==Ra){Wt==4&&(this.s=4,_t(14),I=!1),on(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Ro){this.s=4,_t(15),on(this.i,this.l,ve,"[Invalid Chunk]"),I=!1;break}else on(this.i,this.l,fn,null),Au(this,fn);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ve.length!=0||this.h.h||(this.s=1,_t(16),I=!1),this.o=this.o&&I,!I)on(this.i,this.l,ve,"[Invalid Chunked Response]"),En(this),Qt(this);else if(0<ve.length&&!this.W){this.W=!0;var or=this.j;or.g==this&&or.ba&&!or.M&&(or.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Ru(or),or.M=!0,_t(11))}}else on(this.i,this.l,ve,null),Au(this,ve);Wt==4&&En(this),this.o&&!this.J&&(Wt==4?Qs(this.j,this):(this.o=!1,He(this)))}else Hs(this.g),I==400&&0<ve.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),En(this),Qt(this)}}}catch{}finally{}};function pt(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function tt(h,w){var I=h.C,U=w.indexOf(`
`,I);return U==-1?Ra:(I=Number(w.substring(I,U)),isNaN(I)?Ro:(U+=1,U+I>w.length?Ra:(w=w.slice(U,U+I),h.C=U+I,w)))}Ar.prototype.cancel=function(){this.J=!0,En(this)};function He(h){h.S=Date.now()+h.I,sn(h,h.I)}function sn(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wr(v(h.ba,h),w)}function zt(h){h.B&&(u.clearTimeout(h.B),h.B=null)}Ar.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(No(this.i,this.A),this.L!=2&&(Sr(),_t(17)),En(this),this.s=2,Qt(this)):sn(this,this.S-h)};function Qt(h){h.j.G==0||h.J||Qs(h.j,h)}function En(h){zt(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,Ds(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Au(h,w){try{var I=h.j;if(I.G!=0&&(I.g==h||Lr(I.h,h))){if(!h.K&&Lr(I.h,h)&&I.G==3){try{var U=I.Da.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Q=U;if(Q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)Ys(I),Qn(I);else break e;Xs(I),_t(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Wr(v(I.Za,I),6e3));if(1>=Xf(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Qi(I,11)}else if((h.K||I.g==h)&&Ys(I),!R(w))for(Q=I.Da.g.parse(w),w=0;w<Q.length;w++){let at=Q[w];if(I.T=at[0],at=at[1],I.G==2)if(at[0]=="c"){I.K=at[1],I.ia=at[2];const or=at[3];or!=null&&(I.la=or,I.j.info("VER="+I.la));const Wt=at[4];Wt!=null&&(I.Aa=Wt,I.j.info("SVER="+I.Aa));const Tn=at[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(U=1.5*Tn,I.L=U,I.j.info("backChannelRequestTimeoutMs_="+U)),U=I;const fn=h.g;if(fn){const Fo=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var ae=U.h;ae.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Iu(ae,ae.h),ae.h=null))}if(U.D){const Zs=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(U.ya=Zs,bt(U.I,U.D,Zs))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),U=I;var ve=h;if(U.qa=ld(U,U.J?U.ia:null,U.W),ve.K){Yf(U.h,ve);var mt=ve,Jt=U.L;Jt&&(mt.I=Jt),mt.B&&(zt(mt),He(mt)),U.g=ve}else Vo(U);0<I.i.length&&gi(I)}else at[0]!="stop"&&at[0]!="close"||Qi(I,7);else I.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Qi(I,7):mr(I):at[0]!="noop"&&I.l&&I.l.ta(at),I.v=0)}}Sr(4)}catch{}}var Gf=class{constructor(h,w){this.g=h,this.map=w}};function jo(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xf(h){return h.h?1:h.g?h.g.size:0}function Lr(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Iu(h,w){h.g?h.g.add(w):h.h=w}function Yf(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}jo.prototype.cancel=function(){if(this.i=Qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Qf(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const I of h.g.values())w=w.concat(I.D);return w}return S(h.i)}function Us(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var w=[],I=h.length,U=0;U<I;U++)w.push(h[U]);return w}w=[],I=0;for(U in h)w[I++]=h[U];return w}function Bs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var w=[];h=h.length;for(var I=0;I<h;I++)w.push(I);return w}w=[],I=0;for(const U in h)w[I++]=U;return w}}}function ja(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var I=Bs(h),U=Us(h),Q=U.length,ae=0;ae<Q;ae++)w.call(void 0,U[ae],I&&I[ae],h)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zm(h,w){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var U=h[I].indexOf("="),Q=null;if(0<=U){var ae=h[I].substring(0,U);Q=h[I].substring(U+1)}else ae=h[I];w(ae,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ki(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ki){this.h=h.h,Do(this,h.j),this.o=h.o,this.g=h.g,Ma(this,h.s),this.l=h.l;var w=h.i,I=new hi;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),Da(this,I),this.m=h.m}else h&&(w=String(h).match(Mo))?(this.h=!1,Do(this,w[1]||"",!0),this.o=rt(w[2]||""),this.g=rt(w[3]||"",!0),Ma(this,w[4]),this.l=rt(w[5]||"",!0),Da(this,w[6]||"",!0),this.m=rt(w[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Ki.prototype.toString=function(){var h=[],w=this.j;w&&h.push($a(w,qs,!0),":");var I=this.g;return(I||w=="file")&&(h.push("//"),(w=this.o)&&h.push($a(w,qs,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push($a(I,I.charAt(0)=="/"?ed:Zf,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",$a(I,Pu)),h.join("")};function un(h){return new Ki(h)}function Do(h,w,I){h.j=I?rt(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function Ma(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Da(h,w,I){w instanceof hi?(h.i=w,pi(h.i,h.h)):(I||(w=$a(w,td)),h.i=new hi(w,h.h))}function bt(h,w,I){h.i.set(w,I)}function La(h){return bt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function rt(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $a(h,w,I){return typeof h=="string"?(h=encodeURI(h).replace(w,Jf),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Jf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qs=/[#\/\?@]/g,Zf=/[#\?:]/g,ed=/[#\?]/g,td=/[#\?@]/g,Pu=/#/g;function hi(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function pr(h){h.g||(h.g=new Map,h.h=0,h.i&&Zm(h.i,function(w,I){h.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=hi.prototype,t.add=function(h,w){pr(this),this.i=null,h=Sn(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(w),this.h+=1,this};function Kn(h,w){pr(h),w=Sn(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Gn(h,w){return pr(h),w=Sn(h,w),h.g.has(w)}t.forEach=function(h,w){pr(this),this.g.forEach(function(I,U){I.forEach(function(Q){h.call(w,Q,U,this)},this)},this)},t.na=function(){pr(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let U=0;U<w.length;U++){const Q=h[U];for(let ae=0;ae<Q.length;ae++)I.push(w[U])}return I},t.V=function(h){pr(this);let w=[];if(typeof h=="string")Gn(this,h)&&(w=w.concat(this.g.get(Sn(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)w=w.concat(h[I])}return w},t.set=function(h,w){return pr(this),this.i=null,h=Sn(this,h),Gn(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function Va(h,w,I){Kn(h,w),0<I.length&&(h.i=null,h.g.set(Sn(h,w),S(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var U=w[I];const ae=encodeURIComponent(String(U)),ve=this.V(U);for(U=0;U<ve.length;U++){var Q=ae;ve[U]!==""&&(Q+="="+encodeURIComponent(String(ve[U]))),h.push(Q)}}return this.i=h.join("&")};function Sn(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function pi(h,w){w&&!h.j&&(pr(h),h.i=null,h.g.forEach(function(I,U){var Q=U.toLowerCase();U!=Q&&(Kn(this,U),Va(this,Q,I))},h)),h.j=w}function eg(h,w){const I=new zi;if(u.Image){const U=new Image;U.onload=x(Hr,I,"TestLoadImage: loaded",!0,w,U),U.onerror=x(Hr,I,"TestLoadImage: error",!1,w,U),U.onabort=x(Hr,I,"TestLoadImage: abort",!1,w,U),U.ontimeout=x(Hr,I,"TestLoadImage: timeout",!1,w,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else w(!1)}function rd(h,w){const I=new zi,U=new AbortController,Q=setTimeout(()=>{U.abort(),Hr(I,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:U.signal}).then(ae=>{clearTimeout(Q),ae.ok?Hr(I,"TestPingServer: ok",!0,w):Hr(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),Hr(I,"TestPingServer: error",!1,w)})}function Hr(h,w,I,U,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),U(I)}catch{}}function tg(){this.g=new Po}function nd(h,w,I){const U=I||"";try{ja(h,function(Q,ae){let ve=Q;d(Q)&&(ve=Ls(Q)),w.push(U+ae+"="+encodeURIComponent(ve))})}catch(Q){throw w.push(U+"type="+encodeURIComponent("_badmap")),Q}}function Gi(h){this.l=h.Ub||null,this.j=h.eb||!1}T(Gi,wn),Gi.prototype.g=function(){return new Lo(this.l,this.j)},Gi.prototype.i=function(h){return function(){return h}}({});function Lo(h,w){Lt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Lo,Lt),t=Lo.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,Yn(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;id(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function id(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Xn(this):Yn(this),this.readyState==3&&id(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Xn(this))},t.Qa=function(h){this.g&&(this.response=h,Xn(this))},t.ga=function(){this.g&&Xn(this)};function Xn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Yn(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=w.next();return h.join(`\r
`)};function Yn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xi(h){let w="";return C(h,function(I,U){w+=U,w+=":",w+=I,w+=`\r
`}),w}function Fa(h,w,I){e:{for(U in I){var U=!1;break e}U=!0}U||(I=Xi(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):bt(h,w,I))}function Ot(h){Lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ot,Lt);var rg=/^https?$/i,ku=["POST","PUT"];t=Ot.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,I,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?qi(this.o):qi(Tr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(ae){$o(this,ae);return}if(h=I||"",I=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Q in U)I.set(Q,U[Q]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ae of U.keys())I.set(ae,U.get(ae));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(I.keys()).find(ae=>ae.toLowerCase()=="content-type"),Q=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ku,w,void 0))||U||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of I)this.g.setRequestHeader(ae,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){$o(this,ae)}};function $o(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,zs(h),cn(h)}function zs(h){h.A||(h.A=!0,$t(h,"complete"),$t(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$t(this,"complete"),$t(this,"abort"),cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ou(this):this.bb())},t.bb=function(){Ou(this)};function Ou(h){if(h.h&&typeof s<"u"&&(!h.v[1]||Kr(h)!=4||h.Z()!=2)){if(h.u&&Kr(h)==4)Pa(h.Ea,0,h);else if($t(h,"readystatechange"),Kr(h)==4){h.h=!1;try{const ve=h.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var U;if(U=ve===0){var Q=String(h.D).match(Mo)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),U=!rg.test(Q?Q.toLowerCase():"")}I=U}if(I)$t(h,"complete"),$t(h,"success");else{h.m=6;try{var ae=2<Kr(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",zs(h)}}finally{cn(h)}}}}function cn(h,w){if(h.g){Ws(h);const I=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||$t(h,"ready");try{I.onreadystatechange=U}catch{}}}function Ws(h){h.I&&(u.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Kr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Io(w)}};function Cu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(h){const w={};h=(h.g&&2<=Kr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(R(h[U]))continue;var I=$(h[U]);const Q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ae=w[Q]||[];w[Q]=ae,ae.push(I)}A(w,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(h,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||w}function Nu(h){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,h),this.cb=mi("retryDelaySeedMs",1e4,h),this.Wa=mi("forwardChannelMaxRetries",2,h),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(h&&h.concurrentRequestLimit),this.Da=new tg,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nu.prototype,t.la=8,t.G=1,t.connect=function(h,w,I,U){_t(0),this.W=h,this.H=w||{},I&&U!==void 0&&(this.H.OSID=I,this.H.OAID=U),this.F=this.X,this.I=ld(this,null,this.W),gi(this)};function mr(h){if(Ks(h),h.G==3){var w=h.U++,I=un(h.I);if(bt(I,"SID",h.K),bt(I,"RID",w),bt(I,"TYPE","terminate"),Yi(h,I),w=new Ar(h,h.j,w),w.L=2,w.v=La(un(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=w.v,I=!0),I||(w.g=ud(w.j,null),w.g.ea(w.v)),w.F=Date.now(),He(w)}sd(h)}function Qn(h){h.g&&(Ru(h),h.g.cancel(),h.g=null)}function Ks(h){Qn(h),h.u&&(u.clearTimeout(h.u),h.u=null),Ys(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function gi(h){if(!ln(h.h)&&!h.s){h.s=!0;var w=h.Ga;oe||ie(),Z||(oe(),Z=!0),Y.add(w,h),h.B=0}}function ng(h,w){return Xf(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wr(v(h.Ga,h,w),od(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new Ar(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=P(ae),L(ae,this.S)):ae=this.S),this.m!==null||this.O||(Q.H=ae,ae=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var U=this.i[I];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=Ua(this,Q,w),I=un(this.I),bt(I,"RID",h),bt(I,"CVER",22),this.D&&bt(I,"X-HTTP-Session-Id",this.D),Yi(this,I),ae&&(this.O?w="headers="+encodeURIComponent(String(Xi(ae)))+"&"+w:this.m&&Fa(I,this.m,ae)),Iu(this.h,Q),this.Ua&&bt(I,"TYPE","init"),this.P?(bt(I,"$req",w),bt(I,"SID","null"),Q.T=!0,Me(Q,I,null)):Me(Q,I,w),this.G=2}}else this.G==3&&(h?Gs(this,h):this.i.length==0||ln(this.h)||Gs(this))};function Gs(h,w){var I;w?I=w.l:I=h.U++;const U=un(h.I);bt(U,"SID",h.K),bt(U,"RID",I),bt(U,"AID",h.T),Yi(h,U),h.m&&h.o&&Fa(U,h.m,h.o),I=new Ar(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),w&&(h.i=w.D.concat(h.i)),w=Ua(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Iu(h.h,I),Me(I,U,w)}function Yi(h,w){h.H&&C(h.H,function(I,U){bt(w,U,I)}),h.l&&ja({},function(I,U){bt(w,U,I)})}function Ua(h,w,I){I=Math.min(h.i.length,I);var U=h.l?v(h.l.Na,h.l,h):null;e:{var Q=h.i;let ae=-1;for(;;){const ve=["count="+I];ae==-1?0<I?(ae=Q[0].g,ve.push("ofs="+ae)):ae=0:ve.push("ofs="+ae);let mt=!0;for(let Jt=0;Jt<I;Jt++){let at=Q[Jt].g;const or=Q[Jt].map;if(at-=ae,0>at)ae=Math.max(0,Q[Jt].g-100),mt=!1;else try{nd(or,ve,"req"+at+"_")}catch{U&&U(or)}}if(mt){U=ve.join("&");break e}}}return h=h.i.splice(0,I),w.D=h,U}function Vo(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;oe||ie(),Z||(oe(),Z=!0),Y.add(w,h),h.v=0}}function Xs(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wr(v(h.Fa,h),od(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wr(v(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Qn(this),ad(this))};function Ru(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function ad(h){h.g=new Ar(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=un(h.qa);bt(w,"RID","rpc"),bt(w,"SID",h.K),bt(w,"AID",h.T),bt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&bt(w,"TO",h.ja),bt(w,"TYPE","xmlhttp"),Yi(h,w),h.m&&h.o&&Fa(w,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=La(un(w)),I.m=null,I.P=!0,Be(I,h)}t.Za=function(){this.C!=null&&(this.C=null,Qn(this),Xs(this),_t(19))};function Ys(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Qs(h,w){var I=null;if(h.g==w){Ys(h),Ru(h),h.g=null;var U=2}else if(Lr(h.h,w))I=w.D,Yf(h.h,w),U=1;else return;if(h.G!=0){if(w.o)if(U==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var Q=h.B;U=Wn(),$t(U,new Oa(U,I)),gi(h)}else Vo(h);else if(Q=w.s,Q==3||Q==0&&0<w.X||!(U==1&&ng(h,w)||U==2&&Xs(h)))switch(I&&0<I.length&&(w=h.h,w.i=w.i.concat(I)),Q){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function od(h,w){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*w}function Qi(h,w){if(h.j.info("Error code "+w),w==2){var I=v(h.fb,h),U=h.Xa;const Q=!U;U=new Ki(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Do(U,"https"),La(U),Q?eg(U.toString(),I):rd(U.toString(),I)}else _t(2);h.G=0,h.l&&h.l.sa(w),sd(h),Ks(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function sd(h){if(h.G=0,h.ka=[],h.l){const w=Qf(h.h);(w.length!=0||h.i.length!=0)&&(b(h.ka,w),b(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function ld(h,w,I){var U=I instanceof Ki?un(I):new Ki(I);if(U.g!="")w&&(U.g=w+"."+U.g),Ma(U,U.s);else{var Q=u.location;U=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;var ae=new Ki(null);U&&Do(ae,U),w&&(ae.g=w),Q&&Ma(ae,Q),I&&(ae.l=I),U=ae}return I=h.D,w=h.ya,I&&w&&bt(U,I,w),bt(U,"VER",h.la),Yi(h,U),U}function ud(h,w,I){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new Ot(new Gi({eb:I})):new Ot(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}t=ju.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Js(){}Js.prototype.g=function(h,w){return new $r(h,w)};function $r(h,w){Lt.call(this),this.g=new Nu(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!R(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new yi(this)}T($r,Lt),$r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){mr(this.g)},$r.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=Ls(h),h=I);w.i.push(new Gf(w.Ya++,h)),w.G==3&&gi(w)},$r.prototype.N=function(){this.g.l=null,delete this.j,mr(this.g),delete this.g,$r.aa.N.call(this)};function cd(h){qn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const I in w){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}T(cd,qn);function fd(){Oo.call(this),this.status=1}T(fd,Oo);function yi(h){this.g=h}T(yi,ju),yi.prototype.ua=function(){$t(this.g,"a")},yi.prototype.ta=function(h){$t(this.g,new cd(h))},yi.prototype.sa=function(h){$t(this.g,new fd)},yi.prototype.ra=function(){$t(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,aj=function(){return new Js},ij=function(){return Wn()},nj=zn,Yb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Nh=Na,Vs.COMPLETE="complete",rj=Vs,ko.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,yc=ko,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,tj=Ot}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const xA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Ow("@firebase/firestore");function ac(){return ws.logLevel}function ke(t,...e){if(ws.logLevel<=nt.DEBUG){const r=e.map(Bw);ws.debug(`Firestore (${mu}): ${t}`,...r)}}function _a(t,...e){if(ws.logLevel<=nt.ERROR){const r=e.map(Bw);ws.error(`Firestore (${mu}): ${t}`,...r)}}function $l(t,...e){if(ws.logLevel<=nt.WARN){const r=e.map(Bw);ws.warn(`Firestore (${mu}): ${t}`,...r)}}function Bw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t="Unexpected state"){const e=`FIRESTORE (${mu}) INTERNAL ASSERTION FAILED: `+t;throw _a(e),new Error(e)}function gt(t,e){t||ze()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends $i{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Nr.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class O6{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ps,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ps)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string"),new oj(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new Nr(e)}}class C6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class N6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new C6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){gt(this.o===void 0);const n=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt(typeof r.token=="string"),this.R=r.token,new R6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=M6(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ut(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nr.fromMillis(Date.now())}static fromDate(e){return nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new nr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new nr(0,0))}static max(){return new Ke(new nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,r,n){r===void 0?r=0:r>e.length&&ze(),n===void 0?n=e.length-r:n>e.length-r&&ze(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class kt extends $c{construct(e,r,n){return new kt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new kt(r)}static emptyPath(){return new kt([])}}const D6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends $c{construct(e,r,n){return new xr(e,r,n)}static isValidIdentifier(e){return D6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ie(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new Ie(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(r)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(kt.fromString(e))}static fromName(e){return new De(kt.fromString(e).popFirst(5))}static empty(){return new De(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return kt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new kt(e.slice()))}}function L6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ke.fromTimestamp(n===1e9?new nr(r+1,0):new nr(r,n));return new mo(i,De.empty(),e)}function $6(t){return new mo(t.readTime,t.key,-1)}class mo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new mo(Ke.min(),De.empty(),-1)}static max(){return new mo(Ke.max(),De.empty(),-1)}}function V6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=De.comparator(t.documentKey,e.documentKey),r!==0?r:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==F6)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next(p=>{s[d]=p,++u,u===a&&n(s)},p=>i(p))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function B6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Cf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qw.oe=-1;function em(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function q6(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ks(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function lj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,r){this.comparator=e,this.root=r||_r.EMPTY}insert(e,r){return new Mt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _r{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??_r.RED,this.left=i??_r.EMPTY,this.right=a??_r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new _r(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return _r.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,r,n,i,a){return this}insert(e,r,n){return new _r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new EA(this.data.getIterator())}getIteratorFrom(e){return new EA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new wr(this.comparator);return r.data=e,r}}class EA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new bn([])}unionWith(e){let r=new wr(xr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new bn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uj("Invalid base64 string: "+a):a}}(e);return new Er(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Er(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(t){if(gt(!!t),typeof t=="string"){let e=0;const r=z6.exec(t);if(gt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ww(t){const e=t.mapValue.fields.__previous_value__;return zw(e)?Ww(e):e}function Vc(t){const e=go(t.mapValue.fields.__local_write_time__.timestampValue);return new nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,r,n,i,a,s,u,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d}}class Fc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={mapValue:{}};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zw(t)?4:K6(t)?9007199254740991:H6(t)?10:11:ze()}function Mi(t,e){if(t===e)return!0;const r=Ss(t);if(r!==Ss(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vc(t).isEqual(Vc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=go(i.timestampValue),u=go(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Es(i.bytesValue).isEqual(Es(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return qt(i.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return qt(i.integerValue)===qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=qt(i.doubleValue),u=qt(a.doubleValue);return s===u?Kh(s)===Kh(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(wA(s)!==wA(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Mi(s[c],u[c])))return!1;return!0}(t,e);default:return ze()}}function Uc(t,e){return(t.values||[]).find(r=>Mi(r,e))!==void 0}function Fl(t,e){if(t===e)return 0;const r=Ss(t),n=Ss(e);if(r!==n)return ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=qt(a.integerValue||a.doubleValue),c=qt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return SA(t.timestampValue,e.timestampValue);case 4:return SA(Vc(t),Vc(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Es(a),c=Es(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let d=0;d<u.length&&d<c.length;d++){const p=ut(u[d],c[d]);if(p!==0)return p}return ut(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ut(qt(a.latitude),qt(s.latitude));return u!==0?u:ut(qt(a.longitude),qt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TA(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,d,p;const m=a.fields||{},v=s.fields||{},x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,T=(c=v.value)===null||c===void 0?void 0:c.arrayValue,S=ut(((d=x?.values)===null||d===void 0?void 0:d.length)||0,((p=T?.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:TA(x,T)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===uh.mapValue&&s===uh.mapValue)return 0;if(a===uh.mapValue)return 1;if(s===uh.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),d=s.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const v=ut(c[m],p[m]);if(v!==0)return v;const x=Fl(u[c[m]],d[p[m]]);if(x!==0)return x}return ut(c.length,p.length)}(t.mapValue,e.mapValue);default:throw ze()}}function SA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const r=go(t),n=go(e),i=ut(r.seconds,n.seconds);return i!==0?i:ut(r.nanos,n.nanos)}function TA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Fl(r[i],n[i]);if(a)return a}return ut(r.length,n.length)}function Ul(t){return Qb(t)}function Qb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=go(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Es(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return De.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Qb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Qb(r.fields[s])}`;return i+"}"}(t.mapValue):ze()}function AA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jb(t){return!!t&&"integerValue"in t}function Hw(t){return!!t&&"arrayValue"in t}function IA(t){return!!t&&"nullValue"in t}function PA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rh(t){return!!t&&"mapValue"in t}function H6(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ac(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ac(t.arrayValue.values[r]);return e}return Object.assign({},t)}function K6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Rh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(r)}setAll(e){let r=xr.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=Ac(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Rh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Rh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ks(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new en(Ac(this.value))}}function cj(t){const e=[];return ks(t.fields,(r,n)=>{const i=new xr([r]);if(Rh(n)){const a=cj(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Rr(e,0,Ke.min(),Ke.min(),Ke.min(),en.empty(),0)}static newFoundDocument(e,r,n,i){return new Rr(e,1,r,Ke.min(),n,i,0)}static newNoDocument(e,r){return new Rr(e,2,r,Ke.min(),Ke.min(),en.empty(),0)}static newUnknownDocument(e,r){return new Rr(e,3,r,Ke.min(),Ke.min(),en.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,r){this.position=e,this.inclusive=r}}function kA(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=De.comparator(De.fromName(s.referenceValue),r.key):n=Fl(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function OA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Mi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,r="asc"){this.field=e,this.dir=r}}function G6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fj=class{};class Gt extends fj{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Y6(e,r,n):r==="array-contains"?new Z6(e,n):r==="in"?new eU(e,n):r==="not-in"?new tU(e,n):r==="array-contains-any"?new rU(e,n):new Gt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Q6(e,n):new J6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Fl(r,this.value)):r!==null&&Ss(this.value)===Ss(r)&&this.matchesComparison(Fl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends fj{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ui(e,r)}matches(e){return dj(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dj(t){return t.op==="and"}function hj(t){return X6(t)&&dj(t)}function X6(t){for(const e of t.filters)if(e instanceof ui)return!1;return!0}function Zb(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Ul(t.value);if(hj(t))return t.filters.map(e=>Zb(e)).join(",");{const e=t.filters.map(r=>Zb(r)).join(",");return`${t.op}(${e})`}}function pj(t,e){return t instanceof Gt?function(n,i){return i instanceof Gt&&n.op===i.op&&n.field.isEqual(i.field)&&Mi(n.value,i.value)}(t,e):t instanceof ui?function(n,i){return i instanceof ui&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&pj(s,i.filters[u]),!0):!1}(t,e):void ze()}function mj(t){return t instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ul(r.value)}`}(t):t instanceof ui?function(r){return r.op.toString()+" {"+r.getFilters().map(mj).join(" ,")+"}"}(t):"Filter"}class Y6 extends Gt{constructor(e,r,n){super(e,r,n),this.key=De.fromName(n.referenceValue)}matches(e){const r=De.comparator(e.key,this.key);return this.matchesComparison(r)}}class Q6 extends Gt{constructor(e,r){super(e,"in",r),this.keys=gj("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class J6 extends Gt{constructor(e,r){super(e,"not-in",r),this.keys=gj("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function gj(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>De.fromName(n.referenceValue))}class Z6 extends Gt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Hw(r)&&Uc(r.arrayValue,this.value)}}class eU extends Gt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Uc(this.value.arrayValue,r)}}class tU extends Gt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Uc(this.value.arrayValue,r)}}class rU extends Gt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Hw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Uc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function CA(t,e=null,r=[],n=[],i=null,a=null,s=null){return new nU(t,e,r,n,i,a,s)}function Kw(t){const e=Ge(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Zb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),em(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ul(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ul(n)).join(",")),e.ue=r}return e.ue}function Gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!G6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!pj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OA(t.startAt,e.startAt)&&OA(t.endAt,e.endAt)}function ex(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iU(t,e,r,n,i,a,s,u){return new Nf(t,e,r,n,i,a,s,u)}function Xw(t){return new Nf(t)}function NA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yj(t){return t.collectionGroup!==null}function Ic(t){const e=Ge(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new wr(xr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Xh(a,n))}),r.has(xr.keyField().canonicalString())||e.ce.push(new Xh(xr.keyField(),n))}return e.ce}function ki(t){const e=Ge(t);return e.le||(e.le=aU(e,Ic(t))),e.le}function aU(t,e){if(t.limitType==="F")return CA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Xh(i.field,a)});const r=t.endAt?new Gh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Gh(t.startAt.position,t.startAt.inclusive):null;return CA(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function tx(t,e){const r=t.filters.concat([e]);return new Nf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function rx(t,e,r){return new Nf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function tm(t,e){return Gw(ki(t),ki(e))&&t.limitType===e.limitType}function vj(t){return`${Kw(ki(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>mj(i)).join(", ")}]`),em(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ul(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ul(i)).join(",")),`Target(${n})`}(ki(t))}; limitType=${t.limitType})`}function rm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):De.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Ic(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const d=kA(s,u,c);return s.inclusive?d<=0:d<0}(n.startAt,Ic(n),i)||n.endAt&&!function(s,u,c){const d=kA(s,u,c);return s.inclusive?d>=0:d>0}(n.endAt,Ic(n),i))}(t,e)}function oU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _j(t){return(e,r)=>{let n=!1;for(const i of Ic(t)){const a=sU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function sU(t,e,r){const n=t.field.isKeyField()?De.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),d=u.data.field(a);return c!==null&&d!==null?Fl(c,d):ze()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return lj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new Mt(De.comparator);function ba(){return lU}const bj=new Mt(De.comparator);function vc(...t){let e=bj;for(const r of t)e=e.insert(r.key,r);return e}function xj(t){let e=bj;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ss(){return Pc()}function wj(){return Pc()}function Pc(){return new gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const uU=new Mt(De.comparator),cU=new wr(De.comparator);function et(...t){let e=cU;for(const r of t)e=e.add(r);return e}const fU=new wr(ut);function dU(){return fU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function Ej(t){return{integerValue:""+t}}function hU(t,e){return q6(e)?Ej(e):Yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this._=void 0}}function pU(t,e,r){return t instanceof Yh?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zw(a)&&(a=Ww(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof Bc?Tj(t,e):t instanceof qc?Aj(t,e):function(i,a){const s=Sj(i,a),u=RA(s)+RA(i.Pe);return Jb(s)&&Jb(i.Pe)?Ej(u):Yw(i.serializer,u)}(t,e)}function mU(t,e,r){return t instanceof Bc?Tj(t,e):t instanceof qc?Aj(t,e):r}function Sj(t,e){return t instanceof Qh?function(n){return Jb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Yh extends nm{}class Bc extends nm{constructor(e){super(),this.elements=e}}function Tj(t,e){const r=Ij(e);for(const n of t.elements)r.some(i=>Mi(i,n))||r.push(n);return{arrayValue:{values:r}}}class qc extends nm{constructor(e){super(),this.elements=e}}function Aj(t,e){let r=Ij(e);for(const n of t.elements)r=r.filter(i=>!Mi(i,n));return{arrayValue:{values:r}}}class Qh extends nm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function RA(t){return qt(t.integerValue||t.doubleValue)}function Ij(t){return Hw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Bc&&i instanceof Bc||n instanceof qc&&i instanceof qc?Vl(n.elements,i.elements,Mi):n instanceof Qh&&i instanceof Qh?Mi(n.Pe,i.Pe):n instanceof Yh&&i instanceof Yh}(t.transform,e.transform)}class yU{constructor(e,r){this.version=e,this.transformResults=r}}class Vn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function Pj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qw(t.key,Vn.none()):new Rf(t.key,t.data,Vn.none());{const r=t.data,n=en.empty();let i=new wr(xr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new xo(t.key,n,new bn(i.toArray()),Vn.none())}}function vU(t,e,r){t instanceof Rf?function(i,a,s){const u=i.value.clone(),c=MA(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof xo?function(i,a,s){if(!jh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=MA(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(kj(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function kc(t,e,r,n){return t instanceof Rf?function(a,s,u,c){if(!jh(a.precondition,s))return u;const d=a.value.clone(),p=DA(a.fieldTransforms,c,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof xo?function(a,s,u,c){if(!jh(a.precondition,s))return u;const d=DA(a.fieldTransforms,c,s),p=s.data;return p.setAll(kj(a)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,u){return jh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function _U(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Sj(n.transform,i||null);a!=null&&(r===null&&(r=en.empty()),r.set(n.field,a))}return r||null}function jA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vl(n,i,(a,s)=>gU(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rf extends im{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xo extends im{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function MA(t,e,r){const n=new Map;gt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,mU(s,u,r[i]))}return n}function DA(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,pU(a,s,e))}return n}class Qw extends im{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bU extends im{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=kc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=kc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=wj();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=Pj(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ke.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),et())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(r,n)=>jA(r,n))&&Vl(this.baseMutations,e.baseMutations,(r,n)=>jA(r,n))}}class Jw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){gt(e.mutations.length===n.length);let i=function(){return uU}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new Jw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,ot;function SU(t){switch(t){default:return ze();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function Oj(t){if(t===void 0)return _a("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Kt.OK:return ce.OK;case Kt.CANCELLED:return ce.CANCELLED;case Kt.UNKNOWN:return ce.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ce.INTERNAL;case Kt.UNAVAILABLE:return ce.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ce.NOT_FOUND;case Kt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Kt.ABORTED:return ce.ABORTED;case Kt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Kt.DATA_LOSS:return ce.DATA_LOSS;default:return ze()}}(ot=Kt||(Kt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new hs([4294967295,4294967295],0);function LA(t){const e=TU().encode(t),r=new ej;return r.update(e),new Uint8Array(r.digest())}function $A(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new hs([r,n],0),new hs([i,a],0)]}class Zw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new _c(`Invalid padding: ${r}`);if(n<0)throw new _c(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new _c(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=hs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(hs.fromNumber(n)));return i.compare(AU)===1&&(i=new hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=LA(e),[n,i]=$A(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Zw(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=LA(e),[n,i]=$A(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new am(Ke.min(),i,new Mt(ut),ba(),et())}}class jf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new jf(n,r,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Cj{constructor(e,r){this.targetId=e,this.me=r}}class Nj{constructor(e,r,n=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class VA{constructor(){this.fe=0,this.ge=UA(),this.pe=Er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),r=et(),n=et();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ze()}}),new jf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=UA()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IU{constructor(e){this.Le=e,this.Be=new Map,this.ke=ba(),this.qe=FA(),this.Qe=new Mt(ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ze()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(ex(a))if(n===0){const s=new De(a.path);this.Ue(r,s,Rr.newNoDocument(s,Ke.min()))}else gt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Es(n).toUint8Array()}catch(c){if(c instanceof uj)return $l("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Zw(s,i,a)}catch(c){return $l(c instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&ex(u.target)){const c=new De(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Rr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=et();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new am(e,r,this.Qe,this.ke,n);return this.ke=ba(),this.qe=FA(),this.Qe=new Mt(ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new VA,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new wr(ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ke("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new VA),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function FA(){return new Mt(De.comparator)}function UA(){return new Mt(De.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OU={and:"AND",or:"OR"};class CU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nx(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NU(t,e){return Jh(t,e.toTimestamp())}function Oi(t){return gt(!!t),Ke.fromTimestamp(function(r){const n=go(r);return new nr(n.seconds,n.nanos)}(t))}function e1(t,e){return ix(t,e).canonicalString()}function ix(t,e){const r=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function jj(t){const e=kt.fromString(t);return gt(Vj(e)),e}function ax(t,e){return e1(t.databaseId,e.path)}function My(t,e){const r=jj(e);if(r.get(1)!==t.databaseId.projectId)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ie(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new De(Dj(r))}function Mj(t,e){return e1(t.databaseId,e)}function RU(t){const e=jj(t);return e.length===4?kt.emptyPath():Dj(e)}function ox(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dj(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function BA(t,e,r){return{name:ax(t,e),fields:r.value.mapValue.fields}}function jU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,p){return d.useProto3Json?(gt(p===void 0||typeof p=="string"),Er.fromBase64String(p||"")):(gt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Er.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(d){const p=d.code===void 0?ce.UNKNOWN:Oj(d.code);return new Ie(p,d.message||"")}(s);r=new Nj(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=My(t,n.document.name),a=Oi(n.document.updateTime),s=n.document.createTime?Oi(n.document.createTime):Ke.min(),u=new en({mapValue:{fields:n.document.fields}}),c=Rr.newFoundDocument(i,a,s,u),d=n.targetIds||[],p=n.removedTargetIds||[];r=new Mh(d,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=My(t,n.document),a=n.readTime?Oi(n.readTime):Ke.min(),s=Rr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new Mh([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=My(t,n.document),a=n.removedTargetIds||[];r=new Mh([],a,i,null)}else{if(!("filter"in e))return ze();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new EU(i,a),u=n.targetId;r=new Cj(u,s)}}return r}function MU(t,e){let r;if(e instanceof Rf)r={update:BA(t,e.key,e.value)};else if(e instanceof Qw)r={delete:ax(t,e.key)};else if(e instanceof xo)r={update:BA(t,e.key,e.data),updateMask:zU(e.fieldMask)};else{if(!(e instanceof bU))return ze();r={verify:ax(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof Yh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof qc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qh)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw ze()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:NU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ze()}(t,e.precondition)),r}function DU(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?Oi(i.updateTime):Oi(a);return s.isEqual(Ke.min())&&(s=Oi(a)),new yU(s,i.transformResults||[])}(r,e))):[]}function LU(t,e){return{documents:[Mj(t,e.path)]}}function $U(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Mj(t,i);const a=function(d){if(d.length!==0)return $j(ui.create(d,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(d){if(d.length!==0)return d.map(p=>function(v){return{field:El(v.field),direction:UU(v.dir)}}(p))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=nx(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:i}}function VU(t){let e=RU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){gt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(m){const v=Lj(m);return v instanceof ui&&hj(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(v=>function(T){return new Xh(Sl(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(v))}(r.orderBy));let u=null;r.limit&&(u=function(m){let v;return v=typeof m=="object"?m.value:m,em(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(m){const v=!!m.before,x=m.values||[];return new Gh(x,v)}(r.startAt));let d=null;return r.endAt&&(d=function(m){const v=!m.before,x=m.values||[];return new Gh(x,v)}(r.endAt)),iU(e,i,s,a,u,"F",c,d)}function FU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Lj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Sl(r.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Sl(r.unaryFilter.field);return Gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sl(r.unaryFilter.field);return Gt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Sl(r.unaryFilter.field);return Gt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):t.fieldFilter!==void 0?function(r){return Gt.create(Sl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ui.create(r.compositeFilter.filters.map(n=>Lj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(r.compositeFilter.op))}(t):ze()}function UU(t){return PU[t]}function BU(t){return kU[t]}function qU(t){return OU[t]}function El(t){return{fieldPath:t.canonicalString()}}function Sl(t){return xr.fromServerFormat(t.fieldPath)}function $j(t){return t instanceof Gt?function(r){if(r.op==="=="){if(PA(r.value))return{unaryFilter:{field:El(r.field),op:"IS_NAN"}};if(IA(r.value))return{unaryFilter:{field:El(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(PA(r.value))return{unaryFilter:{field:El(r.field),op:"IS_NOT_NAN"}};if(IA(r.value))return{unaryFilter:{field:El(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(r.field),op:BU(r.op),value:r.value}}}(t):t instanceof ui?function(r){const n=r.getFilters().map(i=>$j(i));return n.length===1?n[0]:{compositeFilter:{op:qU(r.op),filters:n}}}(t):ze()}function zU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Vj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,r,n,i,a=Ke.min(),s=Ke.min(),u=Er.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.ct=e}}function HU(t){const e=VU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.un=new GU}addToCollectionParentIndex(e,r){return this.un.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(mo.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class GU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new wr(kt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new wr(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bl(0)}static kn(){return new Bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.changes=new gu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&kc(n.mutation,i,bn.empty(),nr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,et()).next(()=>n))}getLocalViewOfDocuments(e,r,n=et()){const i=ss();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=vc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=ss();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,et()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=ba();const s=Pc(),u=function(){return Pc()}();return r.forEach((c,d)=>{const p=n.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof xo)?a=a.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),kc(p.mutation,d,p.mutation.getFieldMask(),nr.now())):s.set(d.key,bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((d,p)=>s.set(d,p)),r.forEach((d,p)=>{var m;return u.set(d,new YU(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=Pc();let i=new Mt((s,u)=>s-u),a=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let p=n.get(c)||bn.empty();p=u.applyToLocalView(d,p),n.set(c,p);const m=(i.get(u.batchId)||et()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,p=c.value,m=wj();p.forEach(v=>{if(!a.has(v)){const x=Pj(r.get(v),n.get(v));x!==null&&m.set(v,x),a=a.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return pe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yj(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(ss());let u=-1,c=a;return s.next(d=>pe.forEach(d,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?pe.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{c=c.insert(p,v)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,c,d,et())).next(p=>({batchId:u,changes:xj(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new De(r)).next(n=>{let i=vc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=vc();return this.indexManager.getCollectionParents(e,a).next(u=>pe.forEach(u,c=>{const d=function(m,v){return new Nf(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(p=>{p.forEach((m,v)=>{s=s.insert(m,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,d)=>{const p=d.getKey();s.get(p)===null&&(s=s.insert(p,Rr.newInvalidDocument(p)))});let u=vc();return s.forEach((c,d)=>{const p=a.get(c);p!==void 0&&kc(p.mutation,d,bn.empty(),nr.now()),rm(r,d)&&(u=u.insert(c,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return pe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Oi(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:HU(i.bundledQuery),readTime:Oi(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.overlays=new Mt(De.comparator),this.Ir=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ss();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=ss(),a=r.length+1,s=new De(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Mt((d,p)=>d-p);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let p=a.get(d.largestBatchId);p===null&&(p=ss(),a=a.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=ss(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=i)););return pe.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new wU(r,n));let a=this.Ir.get(r);a===void 0&&(a=et(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.Tr=new wr(cr.Er),this.dr=new wr(cr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new cr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new cr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new De(new kt([])),n=new cr(r,e),i=new cr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new De(new kt([])),n=new cr(r,e),i=new cr(r,e+1);let a=et();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new cr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class cr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return De.comparator(e.key,r.key)||ut(e.wr,r.wr)}static Ar(e,r){return ut(e.wr,r.wr)||De.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new wr(cr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xU(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new cr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,r){return pe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new cr(r,0),i=new cr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new wr(ut);return r.forEach(i=>{const a=new cr(i,0),s=new cr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),pe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;De.isDocumentKey(a)||(a=a.child(""));const s=new cr(new De(a),0);let u=new wr(ut);return this.br.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.wr)),!0)},s),pe.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){gt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return pe.forEach(r.mutations,i=>{const a=new cr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new cr(r,0),i=this.br.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.Mr=e,this.docs=function(){return new Mt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():Rr.newInvalidDocument(r))}getEntries(e,r){let n=ba();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Rr.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ba();const s=r.path,u=new De(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||V6($6(p),n)<=0||(i.has(p.key)||rm(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ze()}Or(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new n5(this)}getSize(e){return pe.resolve(this.size)}}class n5 extends XU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.persistence=e,this.Nr=new gu(r=>Kw(r),Gw),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new t1,this.targetCount=0,this.kr=Bl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Bl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Kn(r),pe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new qw(0),this.Kr=!1,this.Kr=!0,this.$r=new e5,this.referenceDelegate=e(this),this.Ur=new i5(this),this.indexManager=new KU,this.remoteDocumentCache=function(i){return new r5(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new WU(r),this.Gr=new JU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new ZU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new t5(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const i=new o5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return pe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class o5 extends U6{constructor(e){super(),this.currentSequenceNumber=e}}class r1{constructor(e){this.persistence=e,this.Jr=new t1,this.Yr=null}static Zr(e){return new r1(e)}get Xr(){if(this.Yr)return this.Yr;throw ze()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,n=>{const i=De.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ke.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return pe.or([()=>pe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=et(),i=et();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new n1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J$()?8:B6(jr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new s5;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ac()<=nt.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",wl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(ac()<=nt.DEBUG&&ke("QueryEngine","Query:",wl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ac()<=nt.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",wl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(r))):pe.resolve())}Yi(e,r){if(NA(r))return pe.resolve(null);let n=ki(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=rx(r,null,"F"),n=ki(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=et(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.ts(r,u);return this.ns(r,d,s,c.readTime)?this.Yi(e,rx(r,null,"F")):this.rs(e,d,r,c)}))})))}Zi(e,r,n,i){return NA(r)||i.isEqual(Ke.min())?pe.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?pe.resolve(null):(ac()<=nt.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wl(r)),this.rs(e,s,r,L6(i,-1)).next(u=>u))})}ts(e,r){let n=new wr(_j(e));return r.forEach((i,a)=>{rm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return ac()<=nt.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",wl(r)),this.Ji.getDocumentsMatchingQuery(e,r,mo.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Mt(ut),this._s=new gu(a=>Kw(a),Gw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function c5(t,e,r,n){return new u5(t,e,r,n)}async function Fj(t,e){const r=Ge(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=et();for(const d of i){s.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of a){u.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return r.localDocuments.getDocuments(n,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:u}))})})}function f5(t,e){const r=Ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,d,p){const m=d.batch,v=m.keys();let x=pe.resolve();return v.forEach(T=>{x=x.next(()=>p.getEntry(c,T)).next(S=>{const b=d.docVersions.get(T);gt(b!==null),S.version.compareTo(b)<0&&(m.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=et();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Uj(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function d5(t,e){const r=Ge(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((p,m)=>{const v=i.get(m);if(!v)return;u.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,m)));let x=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Er.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),function(S,b,k){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,x,p)&&u.push(r.Ur.updateTargetData(a,x))});let c=ba(),d=et();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(h5(a,s,e.documentUpdates).next(p=>{c=p.Ps,d=p.Is})),!n.isEqual(Ke.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return pe.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,d)).next(()=>c)}).then(a=>(r.os=i,a))}function h5(t,e,r){let n=et(),i=et();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=ba();return r.forEach((u,c)=>{const d=a.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ke.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):ke("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function p5(t,e){const r=Ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function m5(t,e){const r=Ge(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new lo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function sx(t,e,r){const n=Ge(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cf(s))throw s;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function qA(t,e,r){const n=Ge(t);let i=Ke.min(),a=et();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,p){const m=Ge(c),v=m._s.get(p);return v!==void 0?pe.resolve(m.os.get(v)):m.Ur.getTargetData(d,p)}(n,s,ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Ke.min(),r?a:et())).next(u=>(g5(n,oU(e),u),{documents:u,Ts:a})))}function g5(t,e,r){let n=t.us.get(e)||Ke.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class zA{constructor(){this.activeTargetIds=dU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y5{constructor(){this.so=new zA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zA,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Dy(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="WebChannelConnection";class x5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=Dy(),c=this.xo(r,n.toUriEncodedString());ke("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,a,s),this.No(r,c,d,i).then(p=>(ke("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw $l("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",c,"request:",i),p})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=_5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Dy();return new Promise((s,u)=>{const c=new tj;c.setWithCredentials(!0),c.listenOnce(rj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nh.NO_ERROR:const p=c.getResponseJson();ke(Cr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),s(p);break;case Nh.TIMEOUT:ke(Cr,`RPC '${e}' ${a} timed out`),u(new Ie(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const m=c.getStatus();if(ke(Cr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v?.error;if(x&&x.status&&x.message){const T=function(b){const k=b.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(k)>=0?k:ce.UNKNOWN}(x.status);u(new Ie(T,x.message))}else u(new Ie(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ie(ce.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{ke(Cr,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);ke(Cr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",d,n,15)})}Bo(e,r,n){const i=Dy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aj(),u=ij(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const p=a.join("");ke(Cr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=s.createWebChannel(p,c);let v=!1,x=!1;const T=new b5({Io:b=>{x?ke(Cr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(ke(Cr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),ke(Cr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},To:()=>m.close()}),S=(b,k,R)=>{b.listen(k,M=>{try{R(M)}catch(V){setTimeout(()=>{throw V},0)}})};return S(m,yc.EventType.OPEN,()=>{x||(ke(Cr,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),S(m,yc.EventType.CLOSE,()=>{x||(x=!0,ke(Cr,`RPC '${e}' stream ${i} transport closed`),T.So())}),S(m,yc.EventType.ERROR,b=>{x||(x=!0,$l(Cr,`RPC '${e}' stream ${i} transport errored:`,b),T.So(new Ie(ce.UNAVAILABLE,"The operation could not be completed")))}),S(m,yc.EventType.MESSAGE,b=>{var k;if(!x){const R=b.data[0];gt(!!R);const M=R,V=M.error||((k=M[0])===null||k===void 0?void 0:k.error);if(V){ke(Cr,`RPC '${e}' stream ${i} received error:`,V);const O=V.status;let C=function(N){const L=Kt[N];if(L!==void 0)return Oj(L)}(O),A=V.message;C===void 0&&(C=ce.INTERNAL,A="Unknown error status: "+O+" with message "+V.message),x=!0,T.So(new Ie(C,A)),m.close()}else ke(Cr,`RPC '${e}' stream ${i} received:`,R),T.bo(R)}}),S(u,nj.STAT_EVENT,b=>{b.stat===Yb.PROXY?ke(Cr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Yb.NOPROXY&&ke(Cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return new CU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(_a(r.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ie(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w5 extends qj{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=jU(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ke.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ke.min():s.readTime?Oi(s.readTime):Ke.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ox(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=ex(c)?{documents:LU(a,c)}:{query:$U(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=Rj(a,s.resumeToken);const d=nx(a,s.expectedCount);d!==null&&(u.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ke.min())>0){u.readTime=Jh(a,s.snapshotVersion.toTimestamp());const d=nx(a,s.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const n=FU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ox(this.serializer),r.removeTarget=e,this.a_(r)}}class E5 extends qj{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=DU(e.writeResults,e.commitTime),n=Oi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ox(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>MU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,ix(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ce.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,ix(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class T5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(_a(r),this.D_=!1):ke("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Os(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=Ge(c);d.L_.add(4),await Mf(d),d.q_.set("Unknown"),d.L_.delete(4),await sm(d)}(this))})}),this.q_=new T5(n,i)}}async function sm(t){if(Os(t))for(const e of t.B_)await e(!0)}async function Mf(t){for(const e of t.B_)await e(!1)}function zj(t,e){const r=Ge(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),s1(r)?o1(r):yu(r).r_()&&a1(r,e))}function i1(t,e){const r=Ge(t),n=yu(r);r.N_.delete(e),n.r_()&&Wj(r,e),r.N_.size===0&&(n.r_()?n.o_():Os(r)&&r.q_.set("Unknown"))}function a1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}yu(t).A_(e)}function Wj(t,e){t.Q_.xe(e),yu(t).R_(e)}function o1(t){t.Q_=new IU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.q_.v_()}function s1(t){return Os(t)&&!yu(t).n_()&&t.N_.size>0}function Os(t){return Ge(t).L_.size===0}function Hj(t){t.Q_=void 0}async function I5(t){t.q_.set("Online")}async function P5(t){t.N_.forEach((e,r)=>{a1(t,e)})}async function k5(t,e){Hj(t),s1(t)?(t.q_.M_(e),o1(t)):t.q_.set("Unknown")}async function O5(t,e,r){if(t.q_.set("Online"),e instanceof Nj&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Zh(t,n)}else if(e instanceof Mh?t.Q_.Ke(e):e instanceof Cj?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ke.min()))try{const n=await Uj(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.N_.get(d);p&&a.N_.set(d,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,d)=>{const p=a.N_.get(c);if(!p)return;a.N_.set(c,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),Wj(a,c);const m=new lo(p.target,c,d,p.sequenceNumber);a1(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){ke("RemoteStore","Failed to raise snapshot:",n),await Zh(t,n)}}async function Zh(t,e,r){if(!Cf(e))throw e;t.L_.add(1),await Mf(t),t.q_.set("Offline"),r||(r=()=>Uj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await sm(t)})}function Kj(t,e){return e().catch(r=>Zh(t,r,e))}async function lm(t){const e=Ge(t),r=yo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C5(e);)try{const i=await p5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,N5(e,i)}catch(i){await Zh(e,i)}Gj(e)&&Xj(e)}function C5(t){return Os(t)&&t.O_.length<10}function N5(t,e){t.O_.push(e);const r=yo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Gj(t){return Os(t)&&!yo(t).n_()&&t.O_.length>0}function Xj(t){yo(t).start()}async function R5(t){yo(t).p_()}async function j5(t){const e=yo(t);for(const r of t.O_)e.m_(r.mutations)}async function M5(t,e,r){const n=t.O_.shift(),i=Jw.from(n,e,r);await Kj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lm(t)}async function D5(t,e){e&&yo(t).V_&&await async function(n,i){if(function(s){return SU(s)&&s!==ce.ABORTED}(i.code)){const a=n.O_.shift();yo(n).s_(),await Kj(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await lm(n)}}(t,e),Gj(t)&&Xj(t)}async function HA(t,e){const r=Ge(t);r.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const n=Os(r);r.L_.add(3),await Mf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await sm(r)}async function L5(t,e){const r=Ge(t);e?(r.L_.delete(2),await sm(r)):e||(r.L_.add(2),await Mf(r),r.q_.set("Unknown"))}function yu(t){return t.K_||(t.K_=function(r,n,i){const a=Ge(r);return a.w_(),new w5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:I5.bind(null,t),Ro:P5.bind(null,t),mo:k5.bind(null,t),d_:O5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),s1(t)?o1(t):t.q_.set("Unknown")):(await t.K_.stop(),Hj(t))})),t.K_}function yo(t){return t.U_||(t.U_=function(r,n,i){const a=Ge(r);return a.w_(),new E5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R5.bind(null,t),mo:D5.bind(null,t),f_:j5.bind(null,t),g_:M5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await lm(t)):(await t.U_.stop(),t.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new l1(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u1(t,e){if(_a("AsyncQueue",`${e}: ${t}`),Cf(t))return new Ie(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||De.comparator(r.key,n.key):(r,n)=>De.comparator(r.key,n.key),this.keyedMap=vc(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new jl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new jl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.W_=new Mt(De.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ze():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ql{constructor(e,r,n,i,a,s,u,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new ql(e,r,jl.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V5{constructor(){this.queries=GA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ge(r),a=i.queries;i.queries=GA(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new Ie(ce.ABORTED,"Firestore shutting down"))}}function GA(){return new gu(t=>vj(t),tm)}async function F5(t,e){const r=Ge(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new $5,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=u1(s,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&c1(r)}async function U5(t,e){const r=Ge(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function B5(t,e){const r=Ge(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&c1(r)}function q5(t,e,r){const n=Ge(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function c1(t){t.Y_.forEach(e=>{e.next()})}var lx,XA;(XA=lx||(lx={})).ea="default",XA.Cache="cache";class z5{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ql(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.key=e}}class Qj{constructor(e){this.key=e}}class W5{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=et(),this.mutatedKeys=et(),this.Aa=_j(e),this.Ra=new jl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new KA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const v=i.get(p),x=rm(this.query,m)?m:null,T=!!v&&this.mutatedKeys.has(v.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;v&&x?v.data.isEqual(x.data)?T!==S&&(n.track({type:3,doc:x}),b=!0):this.ga(v,x)||(n.track({type:2,doc:x}),b=!0,(c&&this.Aa(x,c)>0||d&&this.Aa(x,d)<0)&&(u=!0)):!v&&x?(n.track({type:0,doc:x}),b=!0):v&&!x&&(n.track({type:1,doc:v}),b=!0,(c||d)&&(u=!0)),b&&(x?(s=s.add(x),a=S?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((p,m)=>function(x,T){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return S(x)-S(T)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,d=c!==this.Ea;return this.Ea=c,s.length!==0||d?{snapshot:new ql(this.query,e.Ra,a,s,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new KA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=et(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Qj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Yj(n))}),r}ba(e){this.Ta=e.Ts,this.da=et();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class H5{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class K5{constructor(e){this.key=e,this.va=!1}}class G5{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gu(u=>vj(u),tm),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(De.comparator),this.Na=new Map,this.La=new t1,this.Ba={},this.ka=new Map,this.qa=Bl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X5(t,e,r=!0){const n=nM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Jj(n,e,r,!0),i}async function Y5(t,e){const r=nM(t);await Jj(r,e,!0,!1)}async function Jj(t,e,r,n){const i=await m5(t.localStore,ki(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await Q5(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&zj(t.remoteStore,i),u}async function Q5(t,e,r,n,i){t.Ka=(m,v,x)=>async function(S,b,k,R){let M=b.view.ma(k);M.ns&&(M=await qA(S.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,M)));const V=R&&R.targetChanges.get(b.targetId),O=R&&R.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(M,S.isPrimaryClient,V,O);return QA(S,b.targetId,C.wa),C.snapshot}(t,m,v,x);const a=await qA(t.localStore,e,!0),s=new W5(e,a.Ts),u=s.ma(a.documents),c=jf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=s.applyChanges(u,t.isPrimaryClient,c);QA(t,r,d.wa);const p=new H5(e,r,s);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function J5(t,e,r){const n=Ge(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!tm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await sx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&i1(n.remoteStore,i.targetId),ux(n,i.targetId)}).catch(Of)):(ux(n,i.targetId),await sx(n.localStore,i.targetId,!0))}async function Z5(t,e){const r=Ge(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),i1(r.remoteStore,n.targetId))}async function eB(t,e,r){const n=sB(t);try{const i=await function(s,u){const c=Ge(s),d=nr.now(),p=u.reduce((x,T)=>x.add(T.key),et());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let T=ba(),S=et();return c.cs.getEntries(x,p).next(b=>{T=b,T.forEach((k,R)=>{R.isValidDocument()||(S=S.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,T)).next(b=>{m=b;const k=[];for(const R of u){const M=_U(R,m.get(R.key).overlayedDocument);M!=null&&k.push(new xo(R.key,M,cj(M.value.mapValue),Vn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,d,k,u)}).next(b=>{v=b;const k=b.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(x,b.batchId,k)})}).then(()=>({batchId:v.batchId,changes:xj(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new Mt(ut)),d=d.insert(u,c),s.Ba[s.currentUser.toKey()]=d}(n,i.batchId,r),await Df(n,i.changes),await lm(n.remoteStore)}catch(i){const a=u1(i,"Failed to persist write");r.reject(a)}}async function Zj(t,e){const r=Ge(t);try{const n=await d5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?gt(s.va):i.removedDocuments.size>0&&(gt(s.va),s.va=!1))}),await Df(r,n,e)}catch(n){await Of(n)}}function YA(t,e,r){const n=Ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ge(s);c.onlineState=u;let d=!1;c.queries.forEach((p,m)=>{for(const v of m.j_)v.Z_(u)&&(d=!0)}),d&&c1(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function tB(t,e,r){const n=Ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Mt(De.comparator);s=s.insert(a,Rr.newNoDocument(a,Ke.min()));const u=et().add(a),c=new am(Ke.min(),new Map,new Mt(ut),s,u);await Zj(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),f1(n)}else await sx(n.localStore,e,!1).then(()=>ux(n,e,r)).catch(Of)}async function rB(t,e){const r=Ge(t),n=e.batch.batchId;try{const i=await f5(r.localStore,e);tM(r,n,null),eM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Df(r,i)}catch(i){await Of(i)}}async function nB(t,e,r){const n=Ge(t);try{const i=await function(s,u){const c=Ge(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,u).next(m=>(gt(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(n.localStore,e);tM(n,e,r),eM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Df(n,i)}catch(i){await Of(i)}}function eM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function tM(t,e,r){const n=Ge(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function ux(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||rM(t,n)})}function rM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(i1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),f1(t))}function QA(t,e,r){for(const n of r)n instanceof Yj?(t.La.addReference(n.key,e),iB(t,n)):n instanceof Qj?(ke("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rM(t,n.key)):ze()}function iB(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ke("SyncEngine","New document in limbo: "+r),t.xa.add(n),f1(t))}function f1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new De(kt.fromString(e)),n=t.qa.next();t.Na.set(n,new K5(r)),t.Oa=t.Oa.insert(r,n),zj(t.remoteStore,new lo(ki(Xw(r.path)),n,"TargetPurposeLimboResolution",qw.oe))}}async function Df(t,e,r){const n=Ge(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(d=>{var p;if((d||r)&&n.isPrimaryClient){const m=d?!d.fromCache:(p=r?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=n1.Wi(c.targetId,d);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,d){const p=Ge(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>pe.forEach(d,v=>pe.forEach(v.$i,x=>p.persistence.referenceDelegate.addReference(m,v.targetId,x)).next(()=>pe.forEach(v.Ui,x=>p.persistence.referenceDelegate.removeReference(m,v.targetId,x)))))}catch(m){if(!Cf(m))throw m;ke("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const x=p.os.get(v),T=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(T);p.os=p.os.insert(v,S)}}}(n.localStore,a))}async function aB(t,e){const r=Ge(t);if(!r.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const n=await Fj(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new Ie(ce.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Df(r,n.hs)}}function oB(t,e){const r=Ge(t),n=r.Na.get(e);if(n&&n.va)return et().add(n.key);{let i=et();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function nM(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tB.bind(null,e),e.Ca.d_=B5.bind(null,e.eventManager),e.Ca.$a=q5.bind(null,e.eventManager),e}function sB(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nB.bind(null,e),e}class ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=om(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return c5(this.persistence,new l5,e.initialUser,this.serializer)}Ga(e){return new a5(r1.Zr,this.serializer)}Wa(e){return new y5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ep.provider={build:()=>new ep};class cx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>YA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=aB.bind(null,this.syncEngine),await L5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V5}()}createDatastore(e){const r=om(e.databaseInfo.databaseId),n=function(a){return new x5(a)}(e.databaseInfo);return function(a,s,u,c){return new S5(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new A5(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>YA(this.syncEngine,r,0),function(){return WA.D()?new WA:new v5}())}createSyncEngine(e,r){return function(i,a,s,u,c,d,p){const m=new G5(i,a,s,u,c,d);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ge(i);ke("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Mf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}cx.provider={build:()=>new cx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Nr.UNAUTHENTICATED,this.clientId=sj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{ke("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=u1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function $y(t,e){t.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await Fj(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await cB(t);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>HA(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>HA(e.remoteStore,i)),t._onlineComponents=e}async function cB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await $y(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;$l("Error using user provided cache. Falling back to memory cache: "+r),await $y(t,new ep)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await $y(t,new ep);return t._offlineComponents}async function iM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await JA(t,t._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await JA(t,new cx))),t._onlineComponents}function fB(t){return iM(t).then(e=>e.syncEngine)}async function ZA(t){const e=await iM(t),r=e.eventManager;return r.onListen=X5.bind(null,e.syncEngine),r.onUnlisten=J5.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Y5.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Z5.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e,r){if(!r)throw new Ie(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dB(t,e,r,n){if(e===!0&&n===!0)throw new Ie(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tI(t){if(!De.isDocumentKey(t))throw new Ie(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rI(t){if(De.isDocumentKey(t))throw new Ie(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze()}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=um(t);throw new Ie(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ie(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new P6;switch(n.type){case"firstParty":return new N6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=eI.get(r);n&&(ke("ComponentProvider","Removing Datastore"),eI.delete(r),n.terminate())}(this),Promise.resolve()}}function hB(t,e,r,n={}){var i;const a=(t=Ci(t,cm))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Nr.MOCK_USER;else{u=h2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new Ie(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Nr(d)}t._authCredentials=new k6(new oj(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vu(this.firestore,e,this._query)}}class Br{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class fo extends vu{constructor(e,r,n){super(e,r,Xw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new De(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function fh(t,e,...r){if(t=ir(t),oM("collection","path",e),t instanceof cm){const n=kt.fromString(e,...r);return rI(n),new fo(t,null,n)}{if(!(t instanceof Br||t instanceof fo))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(kt.fromString(e,...r));return rI(n),new fo(t.firestore,null,n)}}function wi(t,e,...r){if(t=ir(t),arguments.length===1&&(e=sj.newId()),oM("doc","path",e),t instanceof cm){const n=kt.fromString(e,...r);return tI(n),new Br(t,null,new De(n))}{if(!(t instanceof Br||t instanceof fo))throw new Ie(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(kt.fromString(e,...r));return tI(n),new Br(t.firestore,t instanceof fo?t.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bj(this,"async_queue_retry"),this.Vu=()=>{const n=Ly();n&&ke("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ly();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ly();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ps;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cf(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw _a("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=l1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&ze()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function aI(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ts extends cm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new iI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iI(e),this._firestoreClient=void 0,await e}}}function pB(t,e){const r=typeof t=="object"?t:Nw(),n=typeof t=="string"?t:"(default)",i=Yp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=c2("firestore");a&&hB(i,...a)}return i}function sM(t){if(t._terminated)throw new Ie(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mB(t),t._firestoreClient}function mB(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,d,p){return new W6(u,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,aM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uB(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(Er.fromBase64String(e))}catch(r){throw new Ie(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new zl(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ie(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ie(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ie(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=/^__.*__$/;class yB{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new xo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Rf(e,this.data,r,this.fieldTransforms)}}class lM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new xo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function uM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class m1{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new m1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uM(this.Cu)&&gB.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vB{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||om(e)}Qu(e,r,n,i=!1){return new m1({Cu:e,methodName:r,qu:n,path:xr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(t){const e=t._freezeSettings(),r=om(t._databaseId);return new vB(t._databaseId,!!e.ignoreUndefinedProperties,r)}function cM(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);g1("Data must be an object, but it was:",s,n);const u=fM(n,s);let c,d;if(a.merge)c=new bn(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const v=fx(e,m,r);if(!s.contains(v))throw new Ie(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hM(p,v)||p.push(v)}c=new bn(p),d=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=s.fieldTransforms;return new yB(new en(u),c,d)}class hm extends d1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hm}}function _B(t,e,r,n){const i=t.Qu(1,e,r);g1("Data must be an object, but it was:",i,n);const a=[],s=en.empty();ks(n,(c,d)=>{const p=y1(e,c,r);d=ir(d);const m=i.Nu(p);if(d instanceof hm)a.push(p);else{const v=Lf(d,m);v!=null&&(a.push(p),s.set(p,v))}});const u=new bn(a);return new lM(s,u,i.fieldTransforms)}function bB(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[fx(e,n,r)],c=[i];if(a.length%2!=0)throw new Ie(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(fx(e,a[v])),c.push(a[v+1]);const d=[],p=en.empty();for(let v=u.length-1;v>=0;--v)if(!hM(d,u[v])){const x=u[v];let T=c[v];T=ir(T);const S=s.Nu(x);if(T instanceof hm)d.push(x);else{const b=Lf(T,S);b!=null&&(d.push(x),p.set(x,b))}}const m=new bn(d);return new lM(p,m,s.fieldTransforms)}function xB(t,e,r,n=!1){return Lf(r,t.Qu(n?4:3,e))}function Lf(t,e){if(dM(t=ir(t)))return g1("Unsupported field value:",e,t),fM(t,e);if(t instanceof d1)return function(n,i){if(!uM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=Lf(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=ir(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=nr.fromDate(n);return{timestampValue:Jh(i.serializer,a)}}if(n instanceof nr){const a=new nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,a)}}if(n instanceof h1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zl)return{bytesValue:Rj(i.serializer,n._byteString)};if(n instanceof Br){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:e1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof p1)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return Yw(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${um(n)}`)}(t,e)}function fM(t,e){const r={};return lj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(n,i)=>{const a=Lf(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function dM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nr||t instanceof h1||t instanceof zl||t instanceof Br||t instanceof d1||t instanceof p1)}function g1(t,e,r){if(!dM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=um(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function fx(t,e,r){if((e=ir(e))instanceof fm)return e._internalPath;if(typeof e=="string")return y1(t,e);throw tp("Field path arguments must be of type string or ",t,!1,void 0,r)}const wB=new RegExp("[~\\*/\\[\\]]");function y1(t,e,r){if(e.search(wB)>=0)throw tp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new fm(...e.split("."))._internalPath}catch{throw tp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function tp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ie(ce.INVALID_ARGUMENT,u+t+c)}function hM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class EB extends pM{data(){return super.data()}}function mM(t,e){return typeof e=="string"?y1(t,e):e instanceof fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ie(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v1{}class TB extends v1{}function AB(t,e,...r){let n=[];e instanceof v1&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof b1).length,u=a.filter(c=>c instanceof _1).length;if(s>1||s>0&&u>0)throw new Ie(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class _1 extends TB{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new _1(e,r,n)}_apply(e){const r=this._parse(e);return gM(e._query,r),new vu(e.firestore,e.converter,tx(e._query,r))}_parse(e){const r=dm(e.firestore);return function(a,s,u,c,d,p,m){let v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){sI(m,p);const x=[];for(const T of m)x.push(oI(c,a,T));v={arrayValue:{values:x}}}else v=oI(c,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||sI(m,p),v=xB(u,s,m,p==="in"||p==="not-in");return Gt.create(d,p,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class b1 extends v1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new b1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ui.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)gM(s,c),s=tx(s,c)}(e._query,r),new vu(e.firestore,e.converter,tx(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oI(t,e,r){if(typeof(r=ir(r))=="string"){if(r==="")throw new Ie(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yj(e)&&r.indexOf("/")!==-1)throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(kt.fromString(r));if(!De.isDocumentKey(n))throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return AA(t,new De(n))}if(r instanceof Br)return AA(t,r._key);throw new Ie(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(r)}.`)}function sI(t,e){if(!Array.isArray(t)||t.length===0)throw new Ie(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gM(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class IB{convertValue(e,r="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ks(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>qt(s.doubleValue));return new p1(a)}convertGeoPoint(e){return new h1(qt(e.latitude),qt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Ww(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const r=go(e);return new nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=kt.fromString(e);gt(Vj(n));const i=new Fc(n.get(1),n.get(3)),a=new De(n.popFirst(5));return i.isEqual(r)||_a(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vM extends pM{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Dh extends vM{data(e={}){return super.data(e)}}class PB{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new bc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Dh(this._firestore,this._userDataWriter,n.key,n,new bc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ie(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new Dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new Dh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return u.type!==0&&(d=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),p=s.indexOf(u.doc.key)),{type:kB(u.type),doc:c,oldIndex:d,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function kB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}class _M extends IB{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,r)}}function OB(t,e,r){t=Ci(t,Br);const n=Ci(t.firestore,Ts),i=yM(t.converter,e,r);return pm(n,[cM(dm(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Vn.none())])}function oc(t,e,r,...n){t=Ci(t,Br);const i=Ci(t.firestore,Ts),a=dm(i);let s;return s=typeof(e=ir(e))=="string"||e instanceof fm?bB(a,"updateDoc",t._key,e,r,n):_B(a,"updateDoc",t._key,e),pm(i,[s.toMutation(t._key,Vn.exists(!0))])}function lI(t){return pm(Ci(t.firestore,Ts),[new Qw(t._key,Vn.none())])}function Vy(t,e){const r=Ci(t.firestore,Ts),n=wi(t),i=yM(t.converter,e);return pm(r,[cM(dm(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Vn.exists(!1))]).then(()=>n)}function uI(t,...e){var r,n,i;t=ir(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aI(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(aI(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,d,p;if(t instanceof Br)d=Ci(t.firestore,Ts),p=Xw(t._key.path),c={next:m=>{e[s]&&e[s](CB(d,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Ci(t,vu);d=Ci(m.firestore,Ts),p=m._query;const v=new _M(d);c={next:x=>{e[s]&&e[s](new PB(d,v,m,x))},error:e[s+1],complete:e[s+2]},SB(t._query)}return function(v,x,T,S){const b=new lB(S),k=new z5(x,b,T);return v.asyncQueue.enqueueAndForget(async()=>F5(await ZA(v),k)),()=>{b.Za(),v.asyncQueue.enqueueAndForget(async()=>U5(await ZA(v),k))}}(sM(d),p,u,c)}function pm(t,e){return function(n,i){const a=new ps;return n.asyncQueue.enqueueAndForget(async()=>eB(await fB(n),i,a)),a.promise}(sM(t),e)}function CB(t,e,r){const n=r.docs.get(e._key),i=new _M(t);return new vM(t,i,e._key,n,new bc(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){mu=i})(Is),_s(new po("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Ts(new O6(n.getProvider("auth-internal")),new j6(n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ie(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(d.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ai(xA,"4.7.3",e),Ai(xA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="firebasestorage.googleapis.com",NB="storageBucket",RB=2*60*1e3,jB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends $i{constructor(e,r,n=0){super(Fy(e),`Firebase Storage: ${r} (${Fy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Di||(Di={}));function Fy(t){return"storage/"+t}function MB(){const t="An unknown error occurred, please check the error payload for server response.";return new Vi(Di.UNKNOWN,t)}function DB(){return new Vi(Di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LB(){return new Vi(Di.CANCELED,"User canceled the upload/download.")}function $B(t){return new Vi(Di.INVALID_URL,"Invalid URL '"+t+"'.")}function VB(t){return new Vi(Di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cI(t){return new Vi(Di.INVALID_ARGUMENT,t)}function xM(){return new Vi(Di.APP_DELETED,"The Firebase app was deleted.")}function FB(t){return new Vi(Di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=oi.makeFromUrl(e,r)}catch{return new oi(e,"")}if(n.path==="")return n;throw VB(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function d(V){V.path_=decodeURIComponent(V.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${i}/o${v}`,"i"),T={bucket:1,path:3},S=r===bM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",k=new RegExp(`^https?://${S}/${i}/${b}`,"i"),M=[{regex:u,indices:c,postModify:a},{regex:x,indices:T,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let V=0;V<M.length;V++){const O=M[V],C=O.regex.exec(e);if(C){const A=C[O.indices.bucket];let P=C[O.indices.path];P||(P=""),n=new oi(A,P),O.postModify(n);break}}if(n==null)throw $B(e);return n}}class UB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let d=!1;function p(...b){d||(d=!0,e.apply(null,b))}function m(b){i=setTimeout(()=>{i=null,t(x,c())},b)}function v(){a&&clearTimeout(a)}function x(b,...k){if(d){v();return}if(b){v(),p.call(null,b,...k);return}if(c()||s){v(),p.call(null,b,...k);return}n<64&&(n*=2);let M;u===1?(u=2,M=0):M=(n+Math.random())*1e3,m(M)}let T=!1;function S(b){T||(T=!0,v(),!d&&(i!==null?(b||(u=2),clearTimeout(i),m(0)):b||(u=1)))}return m(0),a=setTimeout(()=>{s=!0,S(!0)},r),S}function qB(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t){return t!==void 0}function fI(t,e,r,n){if(n<e)throw cI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw cI(`Invalid value for '${t}'. Expected ${r} or less.`)}function WB(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var rp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rp||(rp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,r,n,i,a,s,u,c,d,p,m,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,T)=>{this.resolve_=x,this.reject_=T,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new dh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===rp.NO_ERROR,c=a.getStatus();if(!u||HB(c,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===rp.ABORT;n(!1,new dh(!1,null,p));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new dh(d,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());zB(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=MB();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?xM():LB();s(c)}else{const c=DB();s(c)}};this.canceled_?r(!1,new dh(!1,null,!0)):this.backoffId_=BB(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function GB(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JB(t,e,r,n,i,a,s=!0){const u=WB(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return YB(d,e),GB(d,r),XB(d,a),QB(d,n),new KB(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,r){this._service=e,r instanceof oi?this._location=r:this._location=oi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new np(e,r)}get root(){const e=new oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eq(this._location.path)}get storage(){return this._service}get parent(){const e=ZB(this._location.path);if(e===null)return null;const r=new oi(this._location.bucket,e);return new np(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw FB(e)}}function dI(t,e){const r=e?.[NB];return r==null?null:oi.makeFromBucketSpec(r,t)}function tq(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:h2(i,t.app.options.projectId))}class rq{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=bM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RB,this._maxUploadRetryTime=jB,this._requests=new Set,i!=null?this._bucket=oi.makeFromBucketSpec(i,this._host):this._bucket=dI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,e):this._bucket=dI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new np(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new UB(xM());{const s=JB(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const hI="@firebase/storage",pI="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="storage";function nq(t=Nw(),e){t=ir(t);const n=Yp(t,wM).getImmediate({identifier:e}),i=c2("storage");return i&&iq(n,...i),n}function iq(t,e,r,n={}){tq(t,e,r,n)}function aq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rq(r,n,i,e,Is)}function oq(){_s(new po(wM,aq,"PUBLIC").setMultipleInstances(!0)),Ai(hI,pI,""),Ai(hI,pI,"esm2017")}oq();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EM=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>W.createElement("svg",{ref:c,...lq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:EM("lucide",i),...u},[...s.map(([d,p])=>W.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(t,e)=>{const r=W.forwardRef(({className:n,...i},a)=>W.createElement(uq,{ref:a,iconNode:e,className:EM(`lucide-${sq(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=We("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=We("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=We("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=We("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=We("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=We("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=We("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=We("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=We("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=We("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=We("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=We("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=We("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=We("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=We("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=We("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=We("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=We("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=We("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=We("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=We("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=We("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cq=({setUserId:t})=>{const[e,r]=W.useState(!0),[n,i]=W.useState(""),[a,s]=W.useState(""),[u,c]=W.useState(""),[d,p]=W.useState(!1),m=Z2(),v=async x=>{x.preventDefault(),c(""),p(!0);try{e?await hF(m,n,a):await dF(m,n,a)}catch(T){c(T.message)}finally{p(!1)}};return y.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(hx,{className:"mx-auto h-12 w-auto text-cyan-500"}),y.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>s(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&y.jsx("div",{className:"rounded-md bg-red-50 p-4",children:y.jsx("p",{className:"text-sm text-red-700",children:u})}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:d,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:d?"Processing...":e?"Sign in":"Create account"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",y.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Zo=({title:t,value:e,icon:r,color:n,subtext:i})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),y.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function PM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=PM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=PM(t))&&(n&&(n+=" "),n+=e);return n}var Uy,yI;function nn(){if(yI)return Uy;yI=1;var t=Array.isArray;return Uy=t,Uy}var By,vI;function kM(){if(vI)return By;vI=1;var t=typeof ih=="object"&&ih&&ih.Object===Object&&ih;return By=t,By}var qy,_I;function Fi(){if(_I)return qy;_I=1;var t=kM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return qy=r,qy}var zy,bI;function Ff(){if(bI)return zy;bI=1;var t=Fi(),e=t.Symbol;return zy=e,zy}var Wy,xI;function Nq(){if(xI)return Wy;xI=1;var t=Ff(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var p=n.call(s);return d&&(u?s[i]=c:delete s[i]),p}return Wy=a,Wy}var Hy,wI;function Rq(){if(wI)return Hy;wI=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Hy=r,Hy}var Ky,EI;function Sa(){if(EI)return Ky;EI=1;var t=Ff(),e=Nq(),r=Rq(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Ky=s,Ky}var Gy,SI;function Ta(){if(SI)return Gy;SI=1;function t(e){return e!=null&&typeof e=="object"}return Gy=t,Gy}var Xy,TI;function _u(){if(TI)return Xy;TI=1;var t=Sa(),e=Ta(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Xy=n,Xy}var Yy,AI;function A1(){if(AI)return Yy;AI=1;var t=nn(),e=_u(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Yy=i,Yy}var Qy,II;function Eo(){if(II)return Qy;II=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Qy=t,Qy}var Jy,PI;function I1(){if(PI)return Jy;PI=1;var t=Sa(),e=Eo(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Jy=s,Jy}var Zy,kI;function jq(){if(kI)return Zy;kI=1;var t=Fi(),e=t["__core-js_shared__"];return Zy=e,Zy}var ev,OI;function Mq(){if(OI)return ev;OI=1;var t=jq(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return ev=r,ev}var tv,CI;function OM(){if(CI)return tv;CI=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return tv=r,tv}var rv,NI;function Dq(){if(NI)return rv;NI=1;var t=I1(),e=Mq(),r=Eo(),n=OM(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var x=t(v)?p:a;return x.test(n(v))}return rv=m,rv}var nv,RI;function Lq(){if(RI)return nv;RI=1;function t(e,r){return e?.[r]}return nv=t,nv}var iv,jI;function Cs(){if(jI)return iv;jI=1;var t=Dq(),e=Lq();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return iv=r,iv}var av,MI;function gm(){if(MI)return av;MI=1;var t=Cs(),e=t(Object,"create");return av=e,av}var ov,DI;function $q(){if(DI)return ov;DI=1;var t=gm();function e(){this.__data__=t?t(null):{},this.size=0}return ov=e,ov}var sv,LI;function Vq(){if(LI)return sv;LI=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return sv=t,sv}var lv,$I;function Fq(){if($I)return lv;$I=1;var t=gm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return lv=i,lv}var uv,VI;function Uq(){if(VI)return uv;VI=1;var t=gm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return uv=n,uv}var cv,FI;function Bq(){if(FI)return cv;FI=1;var t=gm(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return cv=r,cv}var fv,UI;function qq(){if(UI)return fv;UI=1;var t=$q(),e=Vq(),r=Fq(),n=Uq(),i=Bq();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,fv=a,fv}var dv,BI;function zq(){if(BI)return dv;BI=1;function t(){this.__data__=[],this.size=0}return dv=t,dv}var hv,qI;function P1(){if(qI)return hv;qI=1;function t(e,r){return e===r||e!==e&&r!==r}return hv=t,hv}var pv,zI;function ym(){if(zI)return pv;zI=1;var t=P1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return pv=e,pv}var mv,WI;function Wq(){if(WI)return mv;WI=1;var t=ym(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return mv=n,mv}var gv,HI;function Hq(){if(HI)return gv;HI=1;var t=ym();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return gv=e,gv}var yv,KI;function Kq(){if(KI)return yv;KI=1;var t=ym();function e(r){return t(this.__data__,r)>-1}return yv=e,yv}var vv,GI;function Gq(){if(GI)return vv;GI=1;var t=ym();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return vv=e,vv}var _v,XI;function vm(){if(XI)return _v;XI=1;var t=zq(),e=Wq(),r=Hq(),n=Kq(),i=Gq();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,_v=a,_v}var bv,YI;function k1(){if(YI)return bv;YI=1;var t=Cs(),e=Fi(),r=t(e,"Map");return bv=r,bv}var xv,QI;function Xq(){if(QI)return xv;QI=1;var t=qq(),e=vm(),r=k1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return xv=n,xv}var wv,JI;function Yq(){if(JI)return wv;JI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return wv=t,wv}var Ev,ZI;function _m(){if(ZI)return Ev;ZI=1;var t=Yq();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ev=e,Ev}var Sv,eP;function Qq(){if(eP)return Sv;eP=1;var t=_m();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Sv=e,Sv}var Tv,tP;function Jq(){if(tP)return Tv;tP=1;var t=_m();function e(r){return t(this,r).get(r)}return Tv=e,Tv}var Av,rP;function Zq(){if(rP)return Av;rP=1;var t=_m();function e(r){return t(this,r).has(r)}return Av=e,Av}var Iv,nP;function e9(){if(nP)return Iv;nP=1;var t=_m();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Iv=e,Iv}var Pv,iP;function O1(){if(iP)return Pv;iP=1;var t=Xq(),e=Qq(),r=Jq(),n=Zq(),i=e9();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var d=s[u];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Pv=a,Pv}var kv,aP;function CM(){if(aP)return kv;aP=1;var t=O1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var d=n.apply(this,s);return a.cache=c.set(u,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,kv=r,kv}var Ov,oP;function t9(){if(oP)return Ov;oP=1;var t=CM(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Ov=r,Ov}var Cv,sP;function r9(){if(sP)return Cv;sP=1;var t=t9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,d){a.push(c?d.replace(r,"$1"):u||s)}),a});return Cv=n,Cv}var Nv,lP;function C1(){if(lP)return Nv;lP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Nv=t,Nv}var Rv,uP;function n9(){if(uP)return Rv;uP=1;var t=Ff(),e=C1(),r=nn(),n=_u(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Rv=s,Rv}var jv,cP;function NM(){if(cP)return jv;cP=1;var t=n9();function e(r){return r==null?"":t(r)}return jv=e,jv}var Mv,fP;function RM(){if(fP)return Mv;fP=1;var t=nn(),e=A1(),r=r9(),n=NM();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return Mv=i,Mv}var Dv,dP;function bm(){if(dP)return Dv;dP=1;var t=_u();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Dv=e,Dv}var Lv,hP;function N1(){if(hP)return Lv;hP=1;var t=RM(),e=bm();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return Lv=r,Lv}var $v,pP;function jM(){if(pP)return $v;pP=1;var t=N1();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return $v=e,$v}var i9=jM();const si=yt(i9);var Vv,mP;function a9(){if(mP)return Vv;mP=1;function t(e){return e==null}return Vv=t,Vv}var o9=a9();const it=yt(o9);var Fv,gP;function s9(){if(gP)return Fv;gP=1;var t=Sa(),e=nn(),r=Ta(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Fv=i,Fv}var l9=s9();const Uf=yt(l9);var u9=I1();const Je=yt(u9);var c9=Eo();const bu=yt(c9);var Uv={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function f9(){if(yP)return dt;yP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case i:case n:case d:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case s:case c:case v:case m:case a:return b;default:return k}}case e:return k}}}return dt.ContextConsumer=s,dt.ContextProvider=a,dt.Element=t,dt.ForwardRef=c,dt.Fragment=r,dt.Lazy=v,dt.Memo=m,dt.Portal=e,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=d,dt.SuspenseList=p,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(b){return S(b)===s},dt.isContextProvider=function(b){return S(b)===a},dt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},dt.isForwardRef=function(b){return S(b)===c},dt.isFragment=function(b){return S(b)===r},dt.isLazy=function(b){return S(b)===v},dt.isMemo=function(b){return S(b)===m},dt.isPortal=function(b){return S(b)===e},dt.isProfiler=function(b){return S(b)===i},dt.isStrictMode=function(b){return S(b)===n},dt.isSuspense=function(b){return S(b)===d},dt.isSuspenseList=function(b){return S(b)===p},dt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===d||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===a||b.$$typeof===s||b.$$typeof===c||b.$$typeof===T||b.getModuleId!==void 0)},dt.typeOf=S,dt}var vP;function d9(){return vP||(vP=1,Uv.exports=f9()),Uv.exports}var h9=d9(),Bv,_P;function MM(){if(_P)return Bv;_P=1;var t=Sa(),e=Ta(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Bv=n,Bv}var qv,bP;function p9(){if(bP)return qv;bP=1;var t=MM();function e(r){return t(r)&&r!=+r}return qv=e,qv}var m9=p9();const Bf=yt(m9);var g9=MM();const y9=yt(g9);var Ln=function(e){return e===0?0:e>0?1:-1},cs=function(e){return Uf(e)&&e.indexOf("%")===e.length-1},we=function(e){return y9(e)&&!Bf(e)},rr=function(e){return we(e)||Uf(e)},v9=0,xm=function(e){var r=++v9;return"".concat(e||"").concat(r)},tn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(e)&&!Uf(e))return n;var a;if(cs(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Bf(a)&&(a=n),i&&a>r&&(a=r),a},Tl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},_9=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},xP=function(e,r){return we(e)&&we(r)?function(n){return e+n*(r-e)}:function(){return r}};function px(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):si(n,e))===r})}function mx(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}var b9=["viewBox","children"],x9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wP=["points","pathLength"],zv={svg:b9,polygon:wP,polyline:wP},R1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(W.isValidElement(e)&&(n=e.props),!bu(n))return null;var i={};return Object.keys(n).forEach(function(a){R1.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},w9=function(e,r,n){return function(i){return e(r,n,i),null}},wm=function(e,r,n){if(!bu(e)||gx(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];R1.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=w9(s,r,n))}),i},E9=["children"],S9=["children"];function EP(t,e){if(t==null)return{};var r=T9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var SP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TP=null,Wv=null,j1=function t(e){if(e===TP&&Array.isArray(Wv))return Wv;var r=[];return W.Children.forEach(e,function(n){it(n)||(h9.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Wv=r,TP=e,r};function Ni(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return pa(i)}):n=[pa(e)],j1(t).forEach(function(i){var a=si(i,"type.displayName")||si(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Mn(t,e){var r=Ni(t,e);return r&&r[0]}var AP=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!we(n)||n<=0||!we(i)||i<=0)},A9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],I9=function(e){return e&&e.type&&Uf(e.type)&&A9.indexOf(e.type)>=0},P9=function(e,r,n,i){var a,s=(a=zv?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Je(e)&&(i&&s.includes(r)||x9.includes(r))||n&&R1.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(W.isValidElement(e)&&(i=e.props),!bu(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;P9((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},yx=function t(e,r){if(e===r)return!0;var n=W.Children.count(e);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return IP(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!IP(a,s))return!1}return!0},IP=function(e,r){if(it(e)&&it(r))return!0;if(!it(e)&&!it(r)){var n=e.props||{},i=n.children,a=EP(n,E9),s=r.props||{},u=s.children,c=EP(s,S9);return i&&u?mx(a,c)&&yx(i,u):!i&&!u?mx(a,c):!1}return!1},PP=function(e,r){var n=[],i={};return j1(e).forEach(function(a,s){if(I9(a))n.push(a);else if(a){var u=pa(a.type),c=r[u]||{},d=c.handler,p=c.once;if(d&&(!p||!i[u])){var m=d(a,u,s);n.push(m),i[u]=!0}}}),n},k9=function(e){var r=e&&e.type;return r&&SP[r]?SP[r]:null},O9=function(e,r){return j1(r).indexOf(e)},C9=["children","width","height","viewBox","className","style","title","desc"];function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vx.apply(this,arguments)}function N9(t,e){if(t==null)return{};var r=R9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _x(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,d=N9(t,C9),p=i||{width:r,height:n,x:0,y:0},m=ct("recharts-surface",a);return X.createElement("svg",vx({},Ye(d,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,u),X.createElement("desc",null,c),e)}var j9=["children","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function M9(t,e){if(t==null)return{};var r=D9(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D9(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=X.forwardRef(function(t,e){var r=t.children,n=t.className,i=M9(t,j9),a=ct("recharts-layer",n);return X.createElement("g",bx({className:a},Ye(i,!0),{ref:e}),r)}),ma=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Hv,kP;function L9(){if(kP)return Hv;kP=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return Hv=t,Hv}var Kv,OP;function $9(){if(OP)return Kv;OP=1;var t=L9();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Kv=e,Kv}var Gv,CP;function DM(){if(CP)return Gv;CP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(d){return u.test(d)}return Gv=c,Gv}var Xv,NP;function V9(){if(NP)return Xv;NP=1;function t(e){return e.split("")}return Xv=t,Xv}var Yv,RP;function F9(){if(RP)return Yv;RP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+c+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",T=d+"?",S="["+a+"]?",b="(?:"+x+"(?:"+[p,m,v].join("|")+")"+S+T+")*",k=S+T+b,R="(?:"+[p+u+"?",u,m,v,s].join("|")+")",M=RegExp(c+"(?="+c+")|"+R+k,"g");function V(O){return O.match(M)||[]}return Yv=V,Yv}var Qv,jP;function U9(){if(jP)return Qv;jP=1;var t=V9(),e=DM(),r=F9();function n(i){return e(i)?r(i):t(i)}return Qv=n,Qv}var Jv,MP;function B9(){if(MP)return Jv;MP=1;var t=$9(),e=DM(),r=U9(),n=NM();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),d=u?t(u,1).join(""):s.slice(1);return c[a]()+d}}return Jv=i,Jv}var Zv,DP;function q9(){if(DP)return Zv;DP=1;var t=B9(),e=t("toUpperCase");return Zv=e,Zv}var z9=q9();const Em=yt(z9);function St(t){return function(){return t}}const LM=Math.cos,lp=Math.sin,ci=Math.sqrt,up=Math.PI,Sm=2*up,xx=Math.PI,wx=2*xx,is=1e-6,W9=wx-is;function $M(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function H9(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $M;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class K9{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$M:H9(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,d=i-r,p=s-e,m=u-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>is)if(!(Math.abs(m*c-d*p)>is)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-s,T=i-u,S=c*c+d*d,b=x*x+T*T,k=Math.sqrt(S),R=Math.sqrt(v),M=a*Math.tan((xx-Math.acos((S+v-b)/(2*k*R)))/2),V=M/R,O=M/k;Math.abs(V-1)>is&&this._append`L${e+V*p},${r+V*m}`,this._append`A${a},${a},0,0,${+(m*x>p*T)},${this._x1=e+O*c},${this._y1=r+O*d}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),d=e+u,p=r+c,m=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>is||Math.abs(this._y1-p)>is)&&this._append`L${d},${p}`,n&&(v<0&&(v=v%wx+wx),v>W9?this._append`A${n},${n},0,1,${m},${e-u},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=p}`:v>is&&this._append`A${n},${n},0,${+(v>=xx)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function M1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new K9(e)}function D1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tm(t){return new VM(t)}function FM(t){return t[0]}function UM(t){return t[1]}function BM(t,e){var r=St(!0),n=null,i=Tm,a=null,s=M1(u);t=typeof t=="function"?t:t===void 0?FM:St(t),e=typeof e=="function"?e:e===void 0?UM:St(e);function u(c){var d,p=(c=D1(c)).length,m,v=!1,x;for(n==null&&(a=i(x=s())),d=0;d<=p;++d)!(d<p&&r(m=c[d],d,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,d,c),+e(m,d,c));if(x)return a=null,x+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:St(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:St(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:St(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function hh(t,e,r){var n=null,i=St(!0),a=null,s=Tm,u=null,c=M1(d);t=typeof t=="function"?t:t===void 0?FM:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?UM:St(+r);function d(m){var v,x,T,S=(m=D1(m)).length,b,k=!1,R,M=new Array(S),V=new Array(S);for(a==null&&(u=s(R=c())),v=0;v<=S;++v){if(!(v<S&&i(b=m[v],v,m))===k)if(k=!k)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=v-1;T>=x;--T)u.point(M[T],V[T]);u.lineEnd(),u.areaEnd()}k&&(M[v]=+t(b,v,m),V[v]=+e(b,v,m),u.point(n?+n(b,v,m):M[v],r?+r(b,v,m):V[v]))}if(R)return u=null,R+""||null}function p(){return BM().defined(i).curve(s).context(a)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:St(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:St(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:St(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:St(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:St(+m),d):r},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(r)},d.lineX1=function(){return p().x(n).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:St(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),d):s},d.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),d):a},d}class qM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function G9(t){return new qM(t,!0)}function X9(t){return new qM(t,!1)}const L1={draw(t,e){const r=ci(e/up);t.moveTo(r,0),t.arc(0,0,r,0,Sm)}},Y9={draw(t,e){const r=ci(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},zM=ci(1/3),Q9=zM*2,J9={draw(t,e){const r=ci(e/Q9),n=r*zM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Z9={draw(t,e){const r=ci(e),n=-r/2;t.rect(n,n,r,r)}},e8=.8908130915292852,WM=lp(up/10)/lp(7*up/10),t8=lp(Sm/10)*WM,r8=-LM(Sm/10)*WM,n8={draw(t,e){const r=ci(e*e8),n=t8*r,i=r8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Sm*a/5,u=LM(s),c=lp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},e0=ci(3),i8={draw(t,e){const r=-ci(e/(e0*3));t.moveTo(0,r*2),t.lineTo(-e0*r,-r),t.lineTo(e0*r,-r),t.closePath()}},Nn=-.5,Rn=ci(3)/2,Ex=1/ci(12),a8=(Ex/2+1)*3,o8={draw(t,e){const r=ci(e/a8),n=r/2,i=r*Ex,a=n,s=r*Ex+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(Nn*n-Rn*i,Rn*n+Nn*i),t.lineTo(Nn*a-Rn*s,Rn*a+Nn*s),t.lineTo(Nn*u-Rn*c,Rn*u+Nn*c),t.lineTo(Nn*n+Rn*i,Nn*i-Rn*n),t.lineTo(Nn*a+Rn*s,Nn*s-Rn*a),t.lineTo(Nn*u+Rn*c,Nn*c-Rn*u),t.closePath()}};function s8(t,e){let r=null,n=M1(i);t=typeof t=="function"?t:St(t||L1),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:St(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:St(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function cp(){}function fp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function HM(t){this._context=t}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l8(t){return new HM(t)}function KM(t){this._context=t}KM.prototype={areaStart:cp,areaEnd:cp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u8(t){return new KM(t)}function GM(t){this._context=t}GM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c8(t){return new GM(t)}function XM(t){this._context=t}XM.prototype={areaStart:cp,areaEnd:cp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function f8(t){return new XM(t)}function LP(t){return t<0?-1:1}function $P(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(LP(a)+LP(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function VP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function t0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function dp(t){this._context=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t0(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t0(this,VP(this,r=$P(this,t,e)),r);break;default:t0(this,this._t0,r=$P(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function YM(t){this._context=new QM(t)}(YM.prototype=Object.create(dp.prototype)).point=function(t,e){dp.prototype.point.call(this,e,t)};function QM(t){this._context=t}QM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function d8(t){return new dp(t)}function h8(t){return new YM(t)}function JM(t){this._context=t}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=FP(t),i=FP(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function p8(t){return new JM(t)}function Am(t,e){this._context=t,this._t=e}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function m8(t){return new Am(t,.5)}function g8(t){return new Am(t,0)}function y8(t){return new Am(t,1)}function Hl(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Sx(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function v8(t,e){return t[e]}function _8(t){const e=[];return e.key=t,e}function b8(){var t=St([]),e=Sx,r=Hl,n=v8;function i(a){var s=Array.from(t.apply(this,arguments),_8),u,c=s.length,d=-1,p;for(const m of a)for(u=0,++d;u<c;++u)(s[u][d]=[0,+n(m,s[u].key,d,a)]).data=m;for(u=0,p=D1(e(s));u<c;++u)s[p[u]].index=u;return r(s,p),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:St(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:St(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Sx:typeof a=="function"?a:St(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Hl,i):r},i}function x8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Hl(t,e)}}function w8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}Hl(t,e)}}function E8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,d=0;u<s;++u){for(var p=t[e[u]],m=p[n][1]||0,v=p[n-1][1]||0,x=(m-v)/2,T=0;T<u;++T){var S=t[e[T]],b=S[n][1]||0,k=S[n-1][1]||0;x+=b-k}c+=m,d+=x*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,Hl(t,e)}}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var S8=["type","size","sizeType"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tx.apply(this,arguments)}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){T8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T8(t,e,r){return e=A8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A8(t){var e=I8(t,"string");return zc(e)=="symbol"?e:e+""}function I8(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P8(t,e){if(t==null)return{};var r=k8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZM={symbolCircle:L1,symbolCross:Y9,symbolDiamond:J9,symbolSquare:Z9,symbolStar:n8,symbolTriangle:i8,symbolWye:o8},O8=Math.PI/180,C8=function(e){var r="symbol".concat(Em(e));return ZM[r]||L1},N8=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*O8;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},R8=function(e,r){ZM["symbol".concat(Em(e))]=r},$1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=P8(e,S8),d=BP(BP({},c),{},{type:n,size:a,sizeType:u}),p=function(){var b=C8(n),k=s8().type(b).size(N8(a,u,n));return k()},m=d.className,v=d.cx,x=d.cy,T=Ye(d,!0);return v===+v&&x===+x&&a===+a?X.createElement("path",Tx({},T,{className:ct("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:p()})):null};$1.registerSymbol=R8;function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ax.apply(this,arguments)}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Wc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tD(n.key),n)}}function L8(t,e,r){return e&&D8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $8(t,e,r){return e=hp(e),V8(t,eD()?Reflect.construct(e,r||[],hp(t).constructor):e.apply(t,r))}function V8(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F8(t)}function F8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eD=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hp(t)}function U8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ix(t,e)}function Ix(t,e){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ix(t,e)}function Wc(t,e,r){return e=tD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tD(t){var e=B8(t,"string");return Kl(e)=="symbol"?e:e+""}function B8(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jn=32,V1=function(t){function e(){return M8(this,e),$8(this,e,arguments)}return U8(e,t),L8(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=jn/2,s=jn/6,u=jn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:jn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(jn,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(jn/8,"h").concat(jn,"v").concat(jn*3/4,"h").concat(-jn,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var d=j8({},n);return delete d.legendIcon,X.cloneElement(n.legendIcon,d)}return X.createElement($1,{fill:c,cx:a,cy:a,size:jn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:jn,height:jn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,T){var S=x.formatter||c,b=ct(Wc(Wc({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",x.inactive));if(x.type==="none")return null;var k=Je(x.value)?null:x.value;ma(!Je(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=x.inactive?d:x.color;return X.createElement("li",Ax({className:b,style:m,key:"legend-item-".concat(T)},wm(n.props,x,T)),X.createElement(_x,{width:s,height:s,viewBox:p,style:v},n.renderIcon(x)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},S?S(k,x,T):k))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(W.PureComponent);Wc(V1,"displayName","Legend");Wc(V1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r0,zP;function q8(){if(zP)return r0;zP=1;var t=vm();function e(){this.__data__=new t,this.size=0}return r0=e,r0}var n0,WP;function z8(){if(WP)return n0;WP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return n0=t,n0}var i0,HP;function W8(){if(HP)return i0;HP=1;function t(e){return this.__data__.get(e)}return i0=t,i0}var a0,KP;function H8(){if(KP)return a0;KP=1;function t(e){return this.__data__.has(e)}return a0=t,a0}var o0,GP;function K8(){if(GP)return o0;GP=1;var t=vm(),e=k1(),r=O1(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return o0=i,o0}var s0,XP;function rD(){if(XP)return s0;XP=1;var t=vm(),e=q8(),r=z8(),n=W8(),i=H8(),a=K8();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,s0=s,s0}var l0,YP;function G8(){if(YP)return l0;YP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return l0=e,l0}var u0,QP;function X8(){if(QP)return u0;QP=1;function t(e){return this.__data__.has(e)}return u0=t,u0}var c0,JP;function nD(){if(JP)return c0;JP=1;var t=O1(),e=G8(),r=X8();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,c0=n,c0}var f0,ZP;function iD(){if(ZP)return f0;ZP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return f0=t,f0}var d0,ek;function aD(){if(ek)return d0;ek=1;function t(e,r){return e.has(r)}return d0=t,d0}var h0,tk;function oD(){if(tk)return h0;tk=1;var t=nD(),e=iD(),r=aD(),n=1,i=2;function a(s,u,c,d,p,m){var v=c&n,x=s.length,T=u.length;if(x!=T&&!(v&&T>x))return!1;var S=m.get(s),b=m.get(u);if(S&&b)return S==u&&b==s;var k=-1,R=!0,M=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++k<x;){var V=s[k],O=u[k];if(d)var C=v?d(O,V,k,u,s,m):d(V,O,k,s,u,m);if(C!==void 0){if(C)continue;R=!1;break}if(M){if(!e(u,function(A,P){if(!r(M,P)&&(V===A||p(V,A,c,d,m)))return M.push(P)})){R=!1;break}}else if(!(V===O||p(V,O,c,d,m))){R=!1;break}}return m.delete(s),m.delete(u),R}return h0=a,h0}var p0,rk;function Y8(){if(rk)return p0;rk=1;var t=Fi(),e=t.Uint8Array;return p0=e,p0}var m0,nk;function Q8(){if(nk)return m0;nk=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return m0=t,m0}var g0,ik;function F1(){if(ik)return g0;ik=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return g0=t,g0}var y0,ak;function J8(){if(ak)return y0;ak=1;var t=Ff(),e=Y8(),r=P1(),n=oD(),i=Q8(),a=F1(),s=1,u=2,c="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",T="[object Set]",S="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",R="[object DataView]",M=t?t.prototype:void 0,V=M?M.valueOf:void 0;function O(C,A,P,N,L,$,F){switch(P){case R:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case k:return!(C.byteLength!=A.byteLength||!$(new e(C),new e(A)));case c:case d:case v:return r(+C,+A);case p:return C.name==A.name&&C.message==A.message;case x:case S:return C==A+"";case m:var D=i;case T:var re=N&s;if(D||(D=a),C.size!=A.size&&!re)return!1;var ne=F.get(C);if(ne)return ne==A;N|=u,F.set(C,A);var se=n(D(C),D(A),N,L,$,F);return F.delete(C),se;case b:if(V)return V.call(C)==V.call(A)}return!1}return y0=O,y0}var v0,ok;function sD(){if(ok)return v0;ok=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return v0=t,v0}var _0,sk;function Z8(){if(sk)return _0;sk=1;var t=sD(),e=nn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return _0=r,_0}var b0,lk;function ez(){if(lk)return b0;lk=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return b0=t,b0}var x0,uk;function tz(){if(uk)return x0;uk=1;function t(){return[]}return x0=t,x0}var w0,ck;function rz(){if(ck)return w0;ck=1;var t=ez(),e=tz(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return w0=a,w0}var E0,fk;function nz(){if(fk)return E0;fk=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return E0=t,E0}var S0,dk;function iz(){if(dk)return S0;dk=1;var t=Sa(),e=Ta(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return S0=n,S0}var T0,hk;function U1(){if(hk)return T0;hk=1;var t=iz(),e=Ta(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return T0=a,T0}var xc={exports:{}},A0,pk;function az(){if(pk)return A0;pk=1;function t(){return!1}return A0=t,A0}xc.exports;var mk;function lD(){return mk||(mk=1,function(t,e){var r=Fi(),n=az(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||n;t.exports=d}(xc,xc.exports)),xc.exports}var I0,gk;function B1(){if(gk)return I0;gk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return I0=r,I0}var P0,yk;function q1(){if(yk)return P0;yk=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return P0=e,P0}var k0,vk;function oz(){if(vk)return k0;vk=1;var t=Sa(),e=q1(),r=Ta(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",T="[object String]",S="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",M="[object Float64Array]",V="[object Int8Array]",O="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",L="[object Uint32Array]",$={};$[R]=$[M]=$[V]=$[O]=$[C]=$[A]=$[P]=$[N]=$[L]=!0,$[n]=$[i]=$[b]=$[a]=$[k]=$[s]=$[u]=$[c]=$[d]=$[p]=$[m]=$[v]=$[x]=$[T]=$[S]=!1;function F(D){return r(D)&&e(D.length)&&!!$[t(D)]}return k0=F,k0}var O0,_k;function uD(){if(_k)return O0;_k=1;function t(e){return function(r){return e(r)}}return O0=t,O0}var wc={exports:{}};wc.exports;var bk;function sz(){return bk||(bk=1,function(t,e){var r=kM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(wc,wc.exports)),wc.exports}var C0,xk;function cD(){if(xk)return C0;xk=1;var t=oz(),e=uD(),r=sz(),n=r&&r.isTypedArray,i=n?e(n):t;return C0=i,C0}var N0,wk;function lz(){if(wk)return N0;wk=1;var t=nz(),e=U1(),r=nn(),n=lD(),i=B1(),a=cD(),s=Object.prototype,u=s.hasOwnProperty;function c(d,p){var m=r(d),v=!m&&e(d),x=!m&&!v&&n(d),T=!m&&!v&&!x&&a(d),S=m||v||x||T,b=S?t(d.length,String):[],k=b.length;for(var R in d)(p||u.call(d,R))&&!(S&&(R=="length"||x&&(R=="offset"||R=="parent")||T&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,k)))&&b.push(R);return b}return N0=c,N0}var R0,Ek;function uz(){if(Ek)return R0;Ek=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return R0=e,R0}var j0,Sk;function fD(){if(Sk)return j0;Sk=1;function t(e,r){return function(n){return e(r(n))}}return j0=t,j0}var M0,Tk;function cz(){if(Tk)return M0;Tk=1;var t=fD(),e=t(Object.keys,Object);return M0=e,M0}var D0,Ak;function fz(){if(Ak)return D0;Ak=1;var t=uz(),e=cz(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return D0=i,D0}var L0,Ik;function qf(){if(Ik)return L0;Ik=1;var t=I1(),e=q1();function r(n){return n!=null&&e(n.length)&&!t(n)}return L0=r,L0}var $0,Pk;function Im(){if(Pk)return $0;Pk=1;var t=lz(),e=fz(),r=qf();function n(i){return r(i)?t(i):e(i)}return $0=n,$0}var V0,kk;function dz(){if(kk)return V0;kk=1;var t=Z8(),e=rz(),r=Im();function n(i){return t(i,r,e)}return V0=n,V0}var F0,Ok;function hz(){if(Ok)return F0;Ok=1;var t=dz(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,d,p){var m=u&e,v=t(a),x=v.length,T=t(s),S=T.length;if(x!=S&&!m)return!1;for(var b=x;b--;){var k=v[b];if(!(m?k in s:n.call(s,k)))return!1}var R=p.get(a),M=p.get(s);if(R&&M)return R==s&&M==a;var V=!0;p.set(a,s),p.set(s,a);for(var O=m;++b<x;){k=v[b];var C=a[k],A=s[k];if(c)var P=m?c(A,C,k,s,a,p):c(C,A,k,a,s,p);if(!(P===void 0?C===A||d(C,A,u,c,p):P)){V=!1;break}O||(O=k=="constructor")}if(V&&!O){var N=a.constructor,L=s.constructor;N!=L&&"constructor"in a&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof L=="function"&&L instanceof L)&&(V=!1)}return p.delete(a),p.delete(s),V}return F0=i,F0}var U0,Ck;function pz(){if(Ck)return U0;Ck=1;var t=Cs(),e=Fi(),r=t(e,"DataView");return U0=r,U0}var B0,Nk;function mz(){if(Nk)return B0;Nk=1;var t=Cs(),e=Fi(),r=t(e,"Promise");return B0=r,B0}var q0,Rk;function dD(){if(Rk)return q0;Rk=1;var t=Cs(),e=Fi(),r=t(e,"Set");return q0=r,q0}var z0,jk;function gz(){if(jk)return z0;jk=1;var t=Cs(),e=Fi(),r=t(e,"WeakMap");return z0=r,z0}var W0,Mk;function yz(){if(Mk)return W0;Mk=1;var t=pz(),e=k1(),r=mz(),n=dD(),i=gz(),a=Sa(),s=OM(),u="[object Map]",c="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",x=s(t),T=s(e),S=s(r),b=s(n),k=s(i),R=a;return(t&&R(new t(new ArrayBuffer(1)))!=v||e&&R(new e)!=u||r&&R(r.resolve())!=d||n&&R(new n)!=p||i&&R(new i)!=m)&&(R=function(M){var V=a(M),O=V==c?M.constructor:void 0,C=O?s(O):"";if(C)switch(C){case x:return v;case T:return u;case S:return d;case b:return p;case k:return m}return V}),W0=R,W0}var H0,Dk;function vz(){if(Dk)return H0;Dk=1;var t=rD(),e=oD(),r=J8(),n=hz(),i=yz(),a=nn(),s=lD(),u=cD(),c=1,d="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function T(S,b,k,R,M,V){var O=a(S),C=a(b),A=O?p:i(S),P=C?p:i(b);A=A==d?m:A,P=P==d?m:P;var N=A==m,L=P==m,$=A==P;if($&&s(S)){if(!s(b))return!1;O=!0,N=!1}if($&&!N)return V||(V=new t),O||u(S)?e(S,b,k,R,M,V):r(S,b,A,k,R,M,V);if(!(k&c)){var F=N&&x.call(S,"__wrapped__"),D=L&&x.call(b,"__wrapped__");if(F||D){var re=F?S.value():S,ne=D?b.value():b;return V||(V=new t),M(re,ne,k,R,V)}}return $?(V||(V=new t),n(S,b,k,R,M,V)):!1}return H0=T,H0}var K0,Lk;function z1(){if(Lk)return K0;Lk=1;var t=vz(),e=Ta();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return K0=r,K0}var G0,$k;function _z(){if($k)return G0;$k=1;var t=rD(),e=z1(),r=1,n=2;function i(a,s,u,c){var d=u.length,p=d,m=!c;if(a==null)return!p;for(a=Object(a);d--;){var v=u[d];if(m&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++d<p;){v=u[d];var x=v[0],T=a[x],S=v[1];if(m&&v[2]){if(T===void 0&&!(x in a))return!1}else{var b=new t;if(c)var k=c(T,S,x,a,s,b);if(!(k===void 0?e(S,T,r|n,c,b):k))return!1}}return!0}return G0=i,G0}var X0,Vk;function hD(){if(Vk)return X0;Vk=1;var t=Eo();function e(r){return r===r&&!t(r)}return X0=e,X0}var Y0,Fk;function bz(){if(Fk)return Y0;Fk=1;var t=hD(),e=Im();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Y0=r,Y0}var Q0,Uk;function pD(){if(Uk)return Q0;Uk=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Q0=t,Q0}var J0,Bk;function xz(){if(Bk)return J0;Bk=1;var t=_z(),e=bz(),r=pD();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return J0=n,J0}var Z0,qk;function wz(){if(qk)return Z0;qk=1;function t(e,r){return e!=null&&r in Object(e)}return Z0=t,Z0}var e_,zk;function Ez(){if(zk)return e_;zk=1;var t=RM(),e=U1(),r=nn(),n=B1(),i=q1(),a=bm();function s(u,c,d){c=t(c,u);for(var p=-1,m=c.length,v=!1;++p<m;){var x=a(c[p]);if(!(v=u!=null&&d(u,x)))break;u=u[x]}return v||++p!=m?v:(m=u==null?0:u.length,!!m&&i(m)&&n(x,m)&&(r(u)||e(u)))}return e_=s,e_}var t_,Wk;function Sz(){if(Wk)return t_;Wk=1;var t=wz(),e=Ez();function r(n,i){return n!=null&&e(n,i,t)}return t_=r,t_}var r_,Hk;function Tz(){if(Hk)return r_;Hk=1;var t=z1(),e=jM(),r=Sz(),n=A1(),i=hD(),a=pD(),s=bm(),u=1,c=2;function d(p,m){return n(p)&&i(m)?a(s(p),m):function(v){var x=e(v,p);return x===void 0&&x===m?r(v,p):t(m,x,u|c)}}return r_=d,r_}var n_,Kk;function xu(){if(Kk)return n_;Kk=1;function t(e){return e}return n_=t,n_}var i_,Gk;function Az(){if(Gk)return i_;Gk=1;function t(e){return function(r){return r?.[e]}}return i_=t,i_}var a_,Xk;function Iz(){if(Xk)return a_;Xk=1;var t=N1();function e(r){return function(n){return t(n,r)}}return a_=e,a_}var o_,Yk;function Pz(){if(Yk)return o_;Yk=1;var t=Az(),e=Iz(),r=A1(),n=bm();function i(a){return r(a)?t(n(a)):e(a)}return o_=i,o_}var s_,Qk;function Ui(){if(Qk)return s_;Qk=1;var t=xz(),e=Tz(),r=xu(),n=nn(),i=Pz();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return s_=a,s_}var l_,Jk;function mD(){if(Jk)return l_;Jk=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return l_=t,l_}var u_,Zk;function kz(){if(Zk)return u_;Zk=1;function t(e){return e!==e}return u_=t,u_}var c_,eO;function Oz(){if(eO)return c_;eO=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return c_=t,c_}var f_,tO;function Cz(){if(tO)return f_;tO=1;var t=mD(),e=kz(),r=Oz();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return f_=n,f_}var d_,rO;function Nz(){if(rO)return d_;rO=1;var t=Cz();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return d_=e,d_}var h_,nO;function Rz(){if(nO)return h_;nO=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return h_=t,h_}var p_,iO;function jz(){if(iO)return p_;iO=1;function t(){}return p_=t,p_}var m_,aO;function Mz(){if(aO)return m_;aO=1;var t=dD(),e=jz(),r=F1(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return m_=i,m_}var g_,oO;function Dz(){if(oO)return g_;oO=1;var t=nD(),e=Nz(),r=Rz(),n=aD(),i=Mz(),a=F1(),s=200;function u(c,d,p){var m=-1,v=e,x=c.length,T=!0,S=[],b=S;if(p)T=!1,v=r;else if(x>=s){var k=d?null:i(c);if(k)return a(k);T=!1,v=n,b=new t}else b=d?[]:S;e:for(;++m<x;){var R=c[m],M=d?d(R):R;if(R=p||R!==0?R:0,T&&M===M){for(var V=b.length;V--;)if(b[V]===M)continue e;d&&b.push(M),S.push(R)}else v(b,M,p)||(b!==S&&b.push(M),S.push(R))}return S}return g_=u,g_}var y_,sO;function Lz(){if(sO)return y_;sO=1;var t=Ui(),e=Dz();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return y_=r,y_}var $z=Lz();const lO=yt($z);function gD(t,e,r){return e===!0?lO(t,r):Je(e)?lO(t,e):t}function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}var Vz=["ref"];function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){Pm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vD(n.key),n)}}function Uz(t,e,r){return e&&cO(t.prototype,e),r&&cO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bz(t,e,r){return e=pp(e),qz(t,yD()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function qz(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zz(t)}function zz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(t)}function Wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Px(t,e)}function Px(t,e){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Px(t,e)}function Pm(t,e,r){return e=vD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vD(t){var e=Hz(t,"string");return Gl(e)=="symbol"?e:e+""}function Hz(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kz(t,e){if(t==null)return{};var r=Gz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xz(t){return t.value}function Yz(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=Kz(e,Vz);return X.createElement(V1,r)}var fO=1,Ml=function(t){function e(){var r;Fz(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Bz(this,e,[].concat(i)),Pm(r,"lastBoundingBox",{width:-1,height:-1}),r}return Wz(e,t),Uz(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>fO||Math.abs(i.height-this.lastBoundingBox.height)>fO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?oa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,d=i.chartWidth,p=i.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((d||0)-x.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var T=this.getBBoxSnapshot();v={top:((p||0)-T.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return oa(oa({},m),v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,m=oa(oa({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},Yz(a,oa(oa({},this.props),{},{payload:gD(p,d,Xz)})))}}],[{key:"getWithHeight",value:function(n,i){var a=oa(oa({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&we(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(W.PureComponent);Pm(Ml,"displayName","Legend");Pm(Ml,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v_,dO;function Qz(){if(dO)return v_;dO=1;var t=Ff(),e=U1(),r=nn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return v_=i,v_}var __,hO;function _D(){if(hO)return __;hO=1;var t=sD(),e=Qz();function r(n,i,a,s,u){var c=-1,d=n.length;for(a||(a=e),u||(u=[]);++c<d;){var p=n[c];i>0&&a(p)?i>1?r(p,i-1,a,s,u):t(u,p):s||(u[u.length]=p)}return u}return __=r,__}var b_,pO;function Jz(){if(pO)return b_;pO=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var d=u[e?c:++a];if(n(s[d],d,s)===!1)break}return r}}return b_=t,b_}var x_,mO;function Zz(){if(mO)return x_;mO=1;var t=Jz(),e=t();return x_=e,x_}var w_,gO;function bD(){if(gO)return w_;gO=1;var t=Zz(),e=Im();function r(n,i){return n&&t(n,i,e)}return w_=r,w_}var E_,yO;function e7(){if(yO)return E_;yO=1;var t=qf();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return E_=e,E_}var S_,vO;function W1(){if(vO)return S_;vO=1;var t=bD(),e=e7(),r=e(t);return S_=r,S_}var T_,_O;function xD(){if(_O)return T_;_O=1;var t=W1(),e=qf();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,d){s[++a]=i(u,c,d)}),s}return T_=r,T_}var A_,bO;function t7(){if(bO)return A_;bO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return A_=t,A_}var I_,xO;function r7(){if(xO)return I_;xO=1;var t=_u();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,d=n===null,p=n===n,m=t(n);if(!d&&!m&&!u&&r>n||u&&c&&p&&!d&&!m||a&&c&&p||!i&&p||!s)return 1;if(!a&&!u&&!m&&r<n||m&&i&&s&&!a&&!u||d&&i&&s||!c&&s||!p)return-1}return 0}return I_=e,I_}var P_,wO;function n7(){if(wO)return P_;wO=1;var t=r7();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,d=i.length;++a<c;){var p=t(s[a],u[a]);if(p){if(a>=d)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return P_=e,P_}var k_,EO;function i7(){if(EO)return k_;EO=1;var t=C1(),e=N1(),r=Ui(),n=xD(),i=t7(),a=uD(),s=n7(),u=xu(),c=nn();function d(p,m,v){m.length?m=t(m,function(S){return c(S)?function(b){return e(b,S.length===1?S[0]:S)}:S}):m=[u];var x=-1;m=t(m,a(r));var T=n(p,function(S,b,k){var R=t(m,function(M){return M(S)});return{criteria:R,index:++x,value:S}});return i(T,function(S,b){return s(S,b,v)})}return k_=d,k_}var O_,SO;function a7(){if(SO)return O_;SO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return O_=t,O_}var C_,TO;function o7(){if(TO)return C_;TO=1;var t=a7(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),d=Array(c);++u<c;)d[u]=s[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=s[u];return p[i]=a(d),t(n,this,p)}}return C_=r,C_}var N_,AO;function s7(){if(AO)return N_;AO=1;function t(e){return function(){return e}}return N_=t,N_}var R_,IO;function wD(){if(IO)return R_;IO=1;var t=Cs(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return R_=e,R_}var j_,PO;function l7(){if(PO)return j_;PO=1;var t=s7(),e=wD(),r=xu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return j_=n,j_}var M_,kO;function u7(){if(kO)return M_;kO=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return M_=n,M_}var D_,OO;function c7(){if(OO)return D_;OO=1;var t=l7(),e=u7(),r=e(t);return D_=r,D_}var L_,CO;function f7(){if(CO)return L_;CO=1;var t=xu(),e=o7(),r=c7();function n(i,a){return r(e(i,a,t),i+"")}return L_=n,L_}var $_,NO;function km(){if(NO)return $_;NO=1;var t=P1(),e=qf(),r=B1(),n=Eo();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return $_=i,$_}var V_,RO;function d7(){if(RO)return V_;RO=1;var t=_D(),e=i7(),r=f7(),n=km(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return V_=i,V_}var h7=d7();const H1=yt(h7);function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(this,arguments)}function p7(t,e){return v7(t)||y7(t,e)||g7(t,e)||m7()}function m7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g7(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function v7(t){if(Array.isArray(t))return t}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){_7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _7(t,e,r){return e=b7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b7(t){var e=x7(t,"string");return Hc(e)=="symbol"?e:e+""}function x7(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w7(t){return Array.isArray(t)&&rr(t[0])&&rr(t[1])?t.join(" ~ "):t}var E7=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,d=c===void 0?{}:c,p=e.payload,m=e.formatter,v=e.itemSorter,x=e.wrapperClassName,T=e.labelClassName,S=e.label,b=e.labelFormatter,k=e.accessibilityLayer,R=k===void 0?!1:k,M=function(){if(p&&p.length){var F={padding:0,margin:0},D=(v?H1(p,v):p).map(function(re,ne){if(re.type==="none")return null;var se=F_({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},u),oe=re.formatter||m||w7,Z=re.value,Y=re.name,ie=Z,q=Y;if(oe&&ie!=null&&q!=null){var G=oe(Z,Y,re,ne,p);if(Array.isArray(G)){var ue=p7(G,2);ie=ue[0],q=ue[1]}else ie=G}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:se},rr(q)?X.createElement("span",{className:"recharts-tooltip-item-name"},q):null,rr(q)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},ie),X.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:F},D)}return null},V=F_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=F_({margin:0},d),C=!it(S),A=C?S:"",P=ct("recharts-default-tooltip",x),N=ct("recharts-tooltip-label",T);C&&b&&p!==void 0&&p!==null&&(A=b(S,p));var L=R?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",kx({className:P,style:V},L),X.createElement("p",{className:N,style:O},X.isValidElement(A)?A:"".concat(A)),M())};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function ph(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7(t){var e=T7(t,"string");return Kc(e)=="symbol"?e:e+""}function T7(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sc="recharts-tooltip-wrapper",A7={visibility:"hidden"};function I7(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ct(sc,ph(ph(ph(ph({},"".concat(sc,"-right"),we(r)&&e&&we(e.x)&&r>=e.x),"".concat(sc,"-left"),we(r)&&e&&we(e.x)&&r<e.x),"".concat(sc,"-bottom"),we(n)&&e&&we(e.y)&&n>=e.y),"".concat(sc,"-top"),we(n)&&e&&we(e.y)&&n<e.y))}function DO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&we(a[n]))return a[n];var p=r[n]-u-i,m=r[n]+i;if(e[n])return s[n]?p:m;if(s[n]){var v=p,x=c[n];return v<x?Math.max(m,c[n]):Math.max(p,c[n])}var T=m+u,S=c[n]+d;return T>S?Math.max(p,c[n]):Math.max(m,c[n])}function P7(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function k7(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,d,p,m;return s.height>0&&s.width>0&&r?(p=DO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=DO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=P7({translateX:p,translateY:m,useTranslate3d:u})):d=A7,{cssProperties:d,cssClasses:I7({translateX:p,translateY:m,coordinate:r})}}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){Cx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SD(n.key),n)}}function N7(t,e,r){return e&&C7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7(t,e,r){return e=mp(e),j7(t,ED()?Reflect.construct(e,r||[],mp(t).constructor):e.apply(t,r))}function j7(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M7(t)}function M7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ED(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!t})()}function mp(t){return mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mp(t)}function D7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ox(t,e)}function Cx(t,e,r){return e=SD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SD(t){var e=L7(t,"string");return Xl(e)=="symbol"?e:e+""}function L7(t,e){if(Xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VO=1,$7=function(t){function e(){var r;O7(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=R7(this,e,[].concat(i)),Cx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cx(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,d,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(d=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),r}return D7(e,t),N7(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>VO||Math.abs(n.height-this.state.lastBoundingBox.height)>VO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,d=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,x=i.offset,T=i.position,S=i.reverseDirection,b=i.useTranslate3d,k=i.viewBox,R=i.wrapperStyle,M=k7({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:x,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),V=M.cssClasses,O=M.cssProperties,C=$O($O({transition:v&&a?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},R);return X.createElement("div",{tabIndex:-1,className:V,style:C,ref:function(P){n.wrapperNode=P}},d)}}])}(W.PureComponent),V7=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Om={isSsr:V7()};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){K1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AD(n.key),n)}}function B7(t,e,r){return e&&U7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q7(t,e,r){return e=gp(e),z7(t,TD()?Reflect.construct(e,r||[],gp(t).constructor):e.apply(t,r))}function z7(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7(t)}function W7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(t)}function H7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nx(t,e)}function Nx(t,e){return Nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nx(t,e)}function K1(t,e,r){return e=AD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AD(t){var e=K7(t,"string");return Yl(e)=="symbol"?e:e+""}function K7(t,e){if(Yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function G7(t){return t.dataKey}function X7(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(E7,e)}var Ei=function(t){function e(){return F7(this,e),q7(this,e,arguments)}return H7(e,t),B7(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,d=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,x=i.offset,T=i.payload,S=i.payloadUniqBy,b=i.position,k=i.reverseDirection,R=i.useTranslate3d,M=i.viewBox,V=i.wrapperStyle,O=T??[];m&&O.length&&(O=gD(T.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),S,G7));var C=O.length>0;return X.createElement($7,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:a,coordinate:p,hasPayload:C,offset:x,position:b,reverseDirection:k,useTranslate3d:R,viewBox:M,wrapperStyle:V},X7(d,UO(UO({},this.props),{},{payload:O})))}}])}(W.PureComponent);K1(Ei,"displayName","Tooltip");K1(Ei,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Om.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U_,BO;function Y7(){if(BO)return U_;BO=1;var t=Fi(),e=function(){return t.Date.now()};return U_=e,U_}var B_,qO;function Q7(){if(qO)return B_;qO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return B_=e,B_}var q_,zO;function J7(){if(zO)return q_;zO=1;var t=Q7(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return q_=r,q_}var z_,WO;function ID(){if(WO)return z_;WO=1;var t=J7(),e=Eo(),r=_u(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=a.test(d);return m||s.test(d)?u(d.slice(2),m?2:8):i.test(d)?n:+d}return z_=c,z_}var W_,HO;function Z7(){if(HO)return W_;HO=1;var t=Eo(),e=Y7(),r=ID(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,d){var p,m,v,x,T,S,b=0,k=!1,R=!1,M=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(k=!!d.leading,R="maxWait"in d,v=R?i(r(d.maxWait)||0,c):v,M="trailing"in d?!!d.trailing:M);function V(D){var re=p,ne=m;return p=m=void 0,b=D,x=u.apply(ne,re),x}function O(D){return b=D,T=setTimeout(P,c),k?V(D):x}function C(D){var re=D-S,ne=D-b,se=c-re;return R?a(se,v-ne):se}function A(D){var re=D-S,ne=D-b;return S===void 0||re>=c||re<0||R&&ne>=v}function P(){var D=e();if(A(D))return N(D);T=setTimeout(P,C(D))}function N(D){return T=void 0,M&&p?V(D):(p=m=void 0,x)}function L(){T!==void 0&&clearTimeout(T),b=0,p=S=m=T=void 0}function $(){return T===void 0?x:N(e())}function F(){var D=e(),re=A(D);if(p=arguments,m=this,S=D,re){if(T===void 0)return O(S);if(R)return clearTimeout(T),T=setTimeout(P,c),V(S)}return T===void 0&&(T=setTimeout(P,c)),x}return F.cancel=L,F.flush=$,F}return W_=s,W_}var H_,KO;function eW(){if(KO)return H_;KO=1;var t=Z7(),e=Eo(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return H_=n,H_}var tW=eW();const PD=yt(tW);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){rW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rW(t,e,r){return e=nW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nW(t){var e=iW(t,"string");return Gc(e)=="symbol"?e:e+""}function iW(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aW(t,e){return uW(t)||lW(t,e)||sW(t,e)||oW()}function oW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function uW(t){if(Array.isArray(t))return t}var cW=W.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,d=t.minWidth,p=d===void 0?0:d,m=t.minHeight,v=t.maxHeight,x=t.children,T=t.debounce,S=T===void 0?0:T,b=t.id,k=t.className,R=t.onResize,M=t.style,V=M===void 0?{}:M,O=W.useRef(null),C=W.useRef();C.current=R,W.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=W.useState({containerWidth:i.width,containerHeight:i.height}),P=aW(A,2),N=P[0],L=P[1],$=W.useCallback(function(D,re){L(function(ne){var se=Math.round(D),oe=Math.round(re);return ne.containerWidth===se&&ne.containerHeight===oe?ne:{containerWidth:se,containerHeight:oe}})},[]);W.useEffect(function(){var D=function(Y){var ie,q=Y[0].contentRect,G=q.width,ue=q.height;$(G,ue),(ie=C.current)===null||ie===void 0||ie.call(C,G,ue)};S>0&&(D=PD(D,S,{trailing:!0,leading:!1}));var re=new ResizeObserver(D),ne=O.current.getBoundingClientRect(),se=ne.width,oe=ne.height;return $(se,oe),re.observe(O.current),function(){re.disconnect()}},[$,S]);var F=W.useMemo(function(){var D=N.containerWidth,re=N.containerHeight;if(D<0||re<0)return null;ma(cs(s)||cs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ma(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ne=cs(s)?D:s,se=cs(c)?re:c;r&&r>0&&(ne?se=ne/r:se&&(ne=se*r),v&&se>v&&(se=v)),ma(ne>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,se,s,c,p,m,r);var oe=!Array.isArray(x)&&pa(x.type).endsWith("Chart");return X.Children.map(x,function(Z){return X.isValidElement(Z)?W.cloneElement(Z,mh({width:ne,height:se},oe?{style:mh({height:"100%",width:"100%",maxHeight:se,maxWidth:ne},Z.props.style)}:{})):Z})},[r,x,c,v,m,p,N,s]);return X.createElement("div",{id:b?"".concat(b):void 0,className:ct("recharts-responsive-container",k),style:mh(mh({},V),{},{width:s,height:c,minWidth:p,minHeight:m,maxHeight:v}),ref:O},F)}),G1=function(e){return null};G1.displayName="Cell";function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){fW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fW(t,e,r){return e=dW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dW(t){var e=hW(t,"string");return Xc(e)=="symbol"?e:e+""}function hW(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bl={widthCache:{},cacheCount:0},pW=2e3,mW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QO="recharts_measurement_span";function gW(t){var e=Rx({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var JO=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Om.isSsr)return{width:0,height:0};var n=gW(r),i=JSON.stringify({text:e,copyStyle:n});if(bl.widthCache[i])return bl.widthCache[i];try{var a=document.getElementById(QO);a||(a=document.createElement("span"),a.setAttribute("id",QO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Rx(Rx({},mW),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return bl.widthCache[i]=c,++bl.cacheCount>pW&&(bl.cacheCount=0,bl.widthCache={}),c}catch{return{width:0,height:0}}},yW=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function yp(t,e){return xW(t)||bW(t,e)||_W(t,e)||vW()}function vW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _W(t,e){if(t){if(typeof t=="string")return ZO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(t,e)}}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function xW(t){if(Array.isArray(t))return t}function wW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SW(n.key),n)}}function EW(t,e,r){return e&&eC(t.prototype,e),r&&eC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SW(t){var e=TW(t,"string");return Yc(e)=="symbol"?e:e+""}function TW(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PW=Object.keys(kD),Il="NaN";function kW(t,e){return t*kD[e]}var gh=function(){function t(e,r){wW(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!AW.test(r)&&(this.num=NaN,this.unit=""),PW.includes(r)&&(this.num=kW(e,r),this.unit="px")}return EW(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=IW.exec(r))!==null&&n!==void 0?n:[],a=yp(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function OD(t){if(t.includes(Il))return Il;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=tC.exec(e))!==null&&r!==void 0?r:[],i=yp(n,4),a=i[1],s=i[2],u=i[3],c=gh.parse(a??""),d=gh.parse(u??""),p=s==="*"?c.multiply(d):c.divide(d);if(p.isNaN())return Il;e=e.replace(tC,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=rC.exec(e))!==null&&m!==void 0?m:[],x=yp(v,4),T=x[1],S=x[2],b=x[3],k=gh.parse(T??""),R=gh.parse(b??""),M=S==="+"?k.add(R):k.subtract(R);if(M.isNaN())return Il;e=e.replace(rC,M.toString())}return e}var nC=/\(([^()]*)\)/;function OW(t){for(var e=t;e.includes("(");){var r=nC.exec(e),n=yp(r,2),i=n[1];e=e.replace(nC,OD(i))}return e}function CW(t){var e=t.replace(/\s+/g,"");return e=OW(e),e=OD(e),e}function NW(t){try{return CW(t)}catch{return Il}}function K_(t){var e=NW(t.slice(5,-1));return e===Il?"":e}var RW=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jW=["dx","dy","angle","className","breakAll"];function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jx.apply(this,arguments)}function iC(t,e){if(t==null)return{};var r=MW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aC(t,e){return VW(t)||$W(t,e)||LW(t,e)||DW()}function DW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LW(t,e){if(t){if(typeof t=="string")return oC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(t,e)}}function oC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $W(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function VW(t){if(Array.isArray(t))return t}var CD=/[ \f\n\r\t\v\u2028\u2029]+/,ND=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];it(r)||(n?a=r.toString().split(""):a=r.toString().split(CD));var s=a.map(function(c){return{word:c,width:JO(c,i).width}}),u=n?0:JO("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},FW=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,d=e.breakAll,p=we(s),m=u,v=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(se,oe){var Z=oe.word,Y=oe.width,ie=se[se.length-1];if(ie&&(i==null||a||ie.width+Y+n<Number(i)))ie.words.push(Z),ie.width+=Y+n;else{var q={words:[Z],width:Y};se.push(q)}return se},[])},x=v(r),T=function(ne){return ne.reduce(function(se,oe){return se.width>oe.width?se:oe})};if(!p)return x;for(var S="",b=function(ne){var se=m.slice(0,ne),oe=ND({breakAll:d,style:c,children:se+S}).wordsWithComputedWidth,Z=v(oe),Y=Z.length>s||T(Z).width>Number(i);return[Y,Z]},k=0,R=m.length-1,M=0,V;k<=R&&M<=m.length-1;){var O=Math.floor((k+R)/2),C=O-1,A=b(C),P=aC(A,2),N=P[0],L=P[1],$=b(O),F=aC($,1),D=F[0];if(!N&&!D&&(k=O+1),N&&D&&(R=O-1),!N&&D){V=L;break}M++}return V||x},sC=function(e){var r=it(e)?[]:e.toString().split(CD);return[{words:r}]},UW=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!Om.isSsr){var c,d,p=ND({breakAll:s,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;c=m,d=v}else return sC(i);return FW({breakAll:s,children:i,maxLines:u,style:a},c,d,r,n)}return sC(i)},lC="#808080",Ql=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,d=c===void 0?"0.71em":c,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,x=v===void 0?"start":v,T=e.verticalAnchor,S=T===void 0?"end":T,b=e.fill,k=b===void 0?lC:b,R=iC(e,RW),M=W.useMemo(function(){return UW({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:m,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,m,R.style,R.width]),V=R.dx,O=R.dy,C=R.angle,A=R.className,P=R.breakAll,N=iC(R,jW);if(!rr(n)||!rr(a))return null;var L=n+(we(V)?V:0),$=a+(we(O)?O:0),F;switch(S){case"start":F=K_("calc(".concat(d,")"));break;case"middle":F=K_("calc(".concat((M.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:F=K_("calc(".concat(M.length-1," * -").concat(u,")"));break}var D=[];if(m){var re=M[0].width,ne=R.width;D.push("scale(".concat((we(ne)?ne/re:1)/re,")"))}return C&&D.push("rotate(".concat(C,", ").concat(L,", ").concat($,")")),D.length&&(N.transform=D.join(" ")),X.createElement("text",jx({},Ye(N,!0),{x:L,y:$,className:ct("recharts-text",A),textAnchor:x,fill:k.includes("url")?lC:k}),M.map(function(se,oe){var Z=se.words.join(P?"":" ");return X.createElement("tspan",{x:L,dy:oe===0?F:u,key:"".concat(Z,"-").concat(oe)},Z)}))};function ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BW(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function X1(t){let e,r,n;t.length!==2?(e=ho,r=(u,c)=>ho(t(u),c),n=(u,c)=>t(u)-c):(e=t===ho||t===BW?t:qW,r=t,n=t);function i(u,c,d=0,p=u.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(u[m],c)<0?d=m+1:p=m}while(d<p)}return d}function a(u,c,d=0,p=u.length){if(d<p){if(e(c,c)!==0)return p;do{const m=d+p>>>1;r(u[m],c)<=0?d=m+1:p=m}while(d<p)}return d}function s(u,c,d=0,p=u.length){const m=i(u,c,d,p-1);return m>d&&n(u[m-1],c)>-n(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function qW(){return 0}function RD(t){return t===null?NaN:+t}function*zW(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const WW=X1(ho),zf=WW.right;X1(RD).center;class uC extends Map{constructor(e,r=GW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(cC(this,e))}has(e){return super.has(cC(this,e))}set(e,r){return super.set(HW(this,e),r)}delete(e){return super.delete(KW(this,e))}}function cC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function HW({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KW({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function GW(t){return t!==null&&typeof t=="object"?t.valueOf():t}function XW(t=ho){if(t===ho)return jD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function jD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YW=Math.sqrt(50),QW=Math.sqrt(10),JW=Math.sqrt(2);function vp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=YW?10:a>=QW?5:a>=JW?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=r&&r<2?vp(t,e,r*2):[u,c,d]}function Mx(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?vp(e,t,r):vp(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let d=0;d<u;++d)c[d]=(a-d)/-s;else for(let d=0;d<u;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(i+d)/-s;else for(let d=0;d<u;++d)c[d]=(i+d)*s;return c}function Dx(t,e,r){return e=+e,t=+t,r=+r,vp(t,e,r)[2]}function Lx(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Dx(e,t,r):Dx(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function fC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function dC(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?jD:XW(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),x=Math.max(r,Math.floor(e-d*m/c+v)),T=Math.min(n,Math.floor(e+(c-d)*m/c+v));MD(t,e,x,T,i)}const a=t[e];let s=r,u=n;for(lc(t,r,e),i(t[n],a)>0&&lc(t,r,n);s<u;){for(lc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?lc(t,r,u):(++u,lc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function lc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function ZW(t,e,r){if(t=Float64Array.from(zW(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return dC(t);if(e>=1)return fC(t);var n,i=(n-1)*e,a=Math.floor(i),s=fC(MD(t,a).subarray(0,a+1)),u=dC(t.subarray(a+1));return s+(u-s)*(i-a)}}function eH(t,e,r=RD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function tH(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Un(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Aa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $x=Symbol("implicit");function Y1(){var t=new uC,e=[],r=[],n=$x;function i(a){let s=t.get(a);if(s===void 0){if(n!==$x)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new uC;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Y1(e,r).unknown(n)},Un.apply(i,arguments),i}function Qc(){var t=Y1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,d=0,p=.5;delete t.unknown;function m(){var v=e().length,x=i<n,T=x?i:n,S=x?n:i;a=(S-T)/Math.max(1,v-c+d*2),u&&(a=Math.floor(a)),T+=(S-T-a*(v-c))*p,s=a*(1-c),u&&(T=Math.round(T),s=Math.round(s));var b=tH(v).map(function(k){return T+a*k});return r(x?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,d=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Qc(e(),[n,i]).round(u).paddingInner(c).paddingOuter(d).align(p)},Un.apply(m(),arguments)}function DD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DD(e())},t}function Oc(){return DD(Qc.apply(null,arguments).paddingInner(1))}function Q1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function LD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wf(){}var Jc=.7,_p=1/Jc,Dl="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rH=/^#([0-9a-f]{3,8})$/,nH=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),iH=new RegExp(`^rgb\\(${Ri},${Ri},${Ri}\\)$`),aH=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${Zc}\\)$`),oH=new RegExp(`^rgba\\(${Ri},${Ri},${Ri},${Zc}\\)$`),sH=new RegExp(`^hsl\\(${Zc},${Ri},${Ri}\\)$`),lH=new RegExp(`^hsla\\(${Zc},${Ri},${Ri},${Zc}\\)$`),hC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q1(Wf,ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pC,formatHex:pC,formatHex8:uH,formatHsl:cH,formatRgb:mC,toString:mC});function pC(){return this.rgb().formatHex()}function uH(){return this.rgb().formatHex8()}function cH(){return $D(this).formatHsl()}function mC(){return this.rgb().formatRgb()}function ef(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=rH.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?gC(e):r===3?new rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nH.exec(t))?new rn(e[1],e[2],e[3],1):(e=iH.exec(t))?new rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aH.exec(t))?yh(e[1],e[2],e[3],e[4]):(e=oH.exec(t))?yh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sH.exec(t))?_C(e[1],e[2]/100,e[3]/100,1):(e=lH.exec(t))?_C(e[1],e[2]/100,e[3]/100,e[4]):hC.hasOwnProperty(t)?gC(hC[t]):t==="transparent"?new rn(NaN,NaN,NaN,0):null}function gC(t){return new rn(t>>16&255,t>>8&255,t&255,1)}function yh(t,e,r,n){return n<=0&&(t=e=r=NaN),new rn(t,e,r,n)}function fH(t){return t instanceof Wf||(t=ef(t)),t?(t=t.rgb(),new rn(t.r,t.g,t.b,t.opacity)):new rn}function Vx(t,e,r,n){return arguments.length===1?fH(t):new rn(t,e,r,n??1)}function rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Q1(rn,Vx,LD(Wf,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rn(gs(this.r),gs(this.g),gs(this.b),bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yC,formatHex:yC,formatHex8:dH,formatRgb:vC,toString:vC}));function yC(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}`}function dH(){return`#${fs(this.r)}${fs(this.g)}${fs(this.b)}${fs((isNaN(this.opacity)?1:this.opacity)*255)}`}function vC(){const t=bp(this.opacity);return`${t===1?"rgb(":"rgba("}${gs(this.r)}, ${gs(this.g)}, ${gs(this.b)}${t===1?")":`, ${t})`}`}function bp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fs(t){return t=gs(t),(t<16?"0":"")+t.toString(16)}function _C(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ai(t,e,r,n)}function $D(t){if(t instanceof ai)return new ai(t.h,t.s,t.l,t.opacity);if(t instanceof Wf||(t=ef(t)),!t)return new ai;if(t instanceof ai)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new ai(s,u,c,t.opacity)}function hH(t,e,r,n){return arguments.length===1?$D(t):new ai(t,e,r,n??1)}function ai(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Q1(ai,hH,LD(Wf,{brighter(t){return t=t==null?_p:Math.pow(_p,t),new ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new rn(G_(t>=240?t-240:t+120,i,n),G_(t,i,n),G_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ai(bC(this.h),vh(this.s),vh(this.l),bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bp(this.opacity);return`${t===1?"hsl(":"hsla("}${bC(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bC(t){return t=(t||0)%360,t<0?t+360:t}function vh(t){return Math.max(0,Math.min(1,t||0))}function G_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const J1=t=>()=>t;function pH(t,e){return function(r){return t+r*e}}function mH(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function gH(t){return(t=+t)==1?VD:function(e,r){return r-e?mH(e,r,t):J1(isNaN(e)?r:e)}}function VD(t,e){var r=e-t;return r?pH(t,r):J1(isNaN(t)?e:t)}const xC=function t(e){var r=gH(e);function n(i,a){var s=r((i=Vx(i)).r,(a=Vx(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),d=VD(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=u(p),i.b=c(p),i.opacity=d(p),i+""}}return n.gamma=t,n}(1);function yH(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function vH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _H(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=wu(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function bH(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function xp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xH(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=wu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X_=new RegExp(Fx.source,"g");function wH(t){return function(){return t}}function EH(t){return function(e){return t(e)+""}}function SH(t,e){var r=Fx.lastIndex=X_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Fx.exec(t))&&(i=X_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:xp(n,i)})),r=X_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?EH(c[0].x):wH(e):(e=c.length,function(d){for(var p=0,m;p<e;++p)u[(m=c[p]).i]=m.x(d);return u.join("")})}function wu(t,e){var r=typeof e,n;return e==null||r==="boolean"?J1(e):(r==="number"?xp:r==="string"?(n=ef(e))?(e=n,xC):SH:e instanceof ef?xC:e instanceof Date?bH:vH(e)?yH:Array.isArray(e)?_H:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xH:xp)(t,e)}function Z1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function TH(t,e){e===void 0&&(e=t,t=wu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function AH(t){return function(){return t}}function wp(t){return+t}var wC=[0,1];function Ur(t){return t}function Ux(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:AH(isNaN(e)?NaN:.5)}function IH(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function PH(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Ux(i,n),a=r(s,a)):(n=Ux(n,i),a=r(a,s)),function(u){return a(n(u))}}function kH(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Ux(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=zf(t,u,1,n)-1;return a[c](i[c](u))}}function Hf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cm(){var t=wC,e=wC,r=wu,n,i,a,s=Ur,u,c,d;function p(){var v=Math.min(t.length,e.length);return s!==Ur&&(s=IH(t[0],t[v-1])),u=v>2?kH:PH,c=d=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(n),e,r)))(n(s(v)))}return m.invert=function(v){return s(i((d||(d=u(e,t.map(n),xp)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,wp),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=Z1,p()},m.clamp=function(v){return arguments.length?(s=v?!0:Ur,p()):s!==Ur},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,x){return n=v,i=x,p()}}function eE(){return Cm()(Ur,Ur)}function OH(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ep(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Jl(t){return t=Ep(Math.abs(t)),t?t[1]:NaN}function CH(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function NH(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var RH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tf(t){if(!(e=RH.exec(t)))throw new Error("invalid format: "+t);var e;return new tE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tf.prototype=tE.prototype;function tE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jH(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var FD;function MH(t,e){var r=Ep(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(FD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ep(t,Math.max(0,e+a-1))[0]}function EC(t,e){var r=Ep(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const SC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:OH,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EC(t*100,e),r:EC,s:MH,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TC(t){return t}var AC=Array.prototype.map,IC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function DH(t){var e=t.grouping===void 0||t.thousands===void 0?TC:CH(AC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?TC:NH(AC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=tf(m);var v=m.fill,x=m.align,T=m.sign,S=m.symbol,b=m.zero,k=m.width,R=m.comma,M=m.precision,V=m.trim,O=m.type;O==="n"?(R=!0,O="g"):SC[O]||(M===void 0&&(M=12),V=!0,O="g"),(b||v==="0"&&x==="=")&&(b=!0,v="0",x="=");var C=S==="$"?r:S==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=S==="$"?n:/[%p]/.test(O)?s:"",P=SC[O],N=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function L($){var F=C,D=A,re,ne,se;if(O==="c")D=P($)+D,$="";else{$=+$;var oe=$<0||1/$<0;if($=isNaN($)?c:P(Math.abs($),M),V&&($=jH($)),oe&&+$==0&&T!=="+"&&(oe=!1),F=(oe?T==="("?T:u:T==="-"||T==="("?"":T)+F,D=(O==="s"?IC[8+FD/3]:"")+D+(oe&&T==="("?")":""),N){for(re=-1,ne=$.length;++re<ne;)if(se=$.charCodeAt(re),48>se||se>57){D=(se===46?i+$.slice(re+1):$.slice(re))+D,$=$.slice(0,re);break}}}R&&!b&&($=e($,1/0));var Z=F.length+$.length+D.length,Y=Z<k?new Array(k-Z+1).join(v):"";switch(R&&b&&($=e(Y+$,Y.length?k-D.length:1/0),Y=""),x){case"<":$=F+$+D+Y;break;case"=":$=F+Y+$+D;break;case"^":$=Y.slice(0,Z=Y.length>>1)+F+$+D+Y.slice(Z);break;default:$=Y+F+$+D;break}return a($)}return L.toString=function(){return m+""},L}function p(m,v){var x=d((m=tf(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(Jl(v)/3)))*3,S=Math.pow(10,-T),b=IC[8+T/3];return function(k){return x(S*k)+b}}return{format:d,formatPrefix:p}}var _h,rE,UD;LH({thousands:",",grouping:[3],currency:["$",""]});function LH(t){return _h=DH(t),rE=_h.format,UD=_h.formatPrefix,_h}function $H(t){return Math.max(0,-Jl(Math.abs(t)))}function VH(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jl(e)/3)))*3-Jl(Math.abs(t)))}function FH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jl(e)-Jl(t))+1}function BD(t,e,r,n){var i=Lx(t,e,r),a;switch(n=tf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=VH(i,s))&&(n.precision=a),UD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=FH(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=$H(i))&&(n.precision=a-(n.type==="%")*2);break}}return rE(n)}function So(t){var e=t.domain;return t.ticks=function(r){var n=e();return Mx(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return BD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,d,p=10;for(u<s&&(d=s,s=u,u=d,d=i,i=a,a=d);p-- >0;){if(d=Dx(s,u,r),d===c)return n[i]=s,n[a]=u,e(n);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function Sp(){var t=eE();return t.copy=function(){return Hf(t,Sp())},Un.apply(t,arguments),So(t)}function qD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return qD(t).unknown(e)},t=arguments.length?Array.from(t,wp):[0,1],So(r)}function zD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function PC(t){return Math.log(t)}function kC(t){return Math.exp(t)}function UH(t){return-Math.log(-t)}function BH(t){return-Math.exp(-t)}function qH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zH(t){return t===10?qH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function WH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OC(t){return(e,r)=>-t(-e,r)}function nE(t){const e=t(PC,kC),r=e.domain;let n=10,i,a;function s(){return i=WH(n),a=zH(n),r()[0]<0?(i=OC(i),a=OC(a),t(UH,BH)):t(PC,kC),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let d=c[0],p=c[c.length-1];const m=p<d;m&&([d,p]=[p,d]);let v=i(d),x=i(p),T,S;const b=u==null?10:+u;let k=[];if(!(n%1)&&x-v<b){if(v=Math.floor(v),x=Math.ceil(x),d>0){for(;v<=x;++v)for(T=1;T<n;++T)if(S=v<0?T/a(-v):T*a(v),!(S<d)){if(S>p)break;k.push(S)}}else for(;v<=x;++v)for(T=n-1;T>=1;--T)if(S=v>0?T/a(-v):T*a(v),!(S<d)){if(S>p)break;k.push(S)}k.length*2<b&&(k=Mx(d,p,b))}else k=Mx(v,x,Math.min(x-v,b)).map(a);return m?k.reverse():k},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=tf(c)).precision==null&&(c.trim=!0),c=rE(c)),u===1/0)return c;const d=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=d?c(p):""}},e.nice=()=>r(zD(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function WD(){const t=nE(Cm()).domain([1,10]);return t.copy=()=>Hf(t,WD()).base(t.base()),Un.apply(t,arguments),t}function CC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iE(t){var e=1,r=t(CC(e),NC(e));return r.constant=function(n){return arguments.length?t(CC(e=+n),NC(e)):e},So(r)}function HD(){var t=iE(Cm());return t.copy=function(){return Hf(t,HD()).constant(t.constant())},Un.apply(t,arguments)}function RC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KH(t){return t<0?-t*t:t*t}function aE(t){var e=t(Ur,Ur),r=1;function n(){return r===1?t(Ur,Ur):r===.5?t(HH,KH):t(RC(r),RC(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},So(e)}function oE(){var t=aE(Cm());return t.copy=function(){return Hf(t,oE()).exponent(t.exponent())},Un.apply(t,arguments),t}function GH(){return oE.apply(null,arguments).exponent(.5)}function jC(t){return Math.sign(t)*t*t}function XH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KD(){var t=eE(),e=[0,1],r=!1,n;function i(a){var s=XH(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(jC(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,wp)).map(jC)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return KD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Un.apply(i,arguments),So(i)}function GD(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=eH(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[zf(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ho),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return GD().domain(t).range(e).unknown(n)},Un.apply(a,arguments)}function XD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[zf(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return XD().domain([t,e]).range(i).unknown(a)},Un.apply(So(s),arguments)}function YD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[zf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return YD().domain(t).range(e).unknown(r)},Un.apply(i,arguments)}const Y_=new Date,Q_=new Date;function ar(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let d;do c.push(d=new Date(+a)),e(a,u),t(a);while(d<a&&a<s);return c},i.filter=a=>ar(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Y_.setTime(+a),Q_.setTime(+s),t(Y_),t(Q_),Math.floor(r(Y_,Q_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Tp=ar(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ar(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Tp);Tp.range;const fa=1e3,$n=fa*60,da=$n*60,xa=da*24,sE=xa*7,MC=xa*30,J_=xa*365,ds=ar(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCSeconds());ds.range;const lE=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa)},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getMinutes());lE.range;const uE=ar(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getUTCMinutes());uE.range;const cE=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa-t.getMinutes()*$n)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getHours());cE.range;const fE=ar(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*da)},(t,e)=>(e-t)/da,t=>t.getUTCHours());fE.range;const Kf=ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$n)/xa,t=>t.getDate()-1);Kf.range;const Nm=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xa,t=>t.getUTCDate()-1);Nm.range;const QD=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/xa,t=>Math.floor(t/xa));QD.range;function Ns(t){return ar(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*$n)/sE)}const Rm=Ns(0),Ap=Ns(1),YH=Ns(2),QH=Ns(3),Zl=Ns(4),JH=Ns(5),ZH=Ns(6);Rm.range;Ap.range;YH.range;QH.range;Zl.range;JH.range;ZH.range;function Rs(t){return ar(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/sE)}const jm=Rs(0),Ip=Rs(1),eK=Rs(2),tK=Rs(3),eu=Rs(4),rK=Rs(5),nK=Rs(6);jm.range;Ip.range;eK.range;tK.range;eu.range;rK.range;nK.range;const dE=ar(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dE.range;const hE=ar(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hE.range;const wa=ar(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});wa.range;const Ea=ar(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ea.range;function JD(t,e,r,n,i,a){const s=[[ds,1,fa],[ds,5,5*fa],[ds,15,15*fa],[ds,30,30*fa],[a,1,$n],[a,5,5*$n],[a,15,15*$n],[a,30,30*$n],[i,1,da],[i,3,3*da],[i,6,6*da],[i,12,12*da],[n,1,xa],[n,2,2*xa],[r,1,sE],[e,1,MC],[e,3,3*MC],[t,1,J_]];function u(d,p,m){const v=p<d;v&&([d,p]=[p,d]);const x=m&&typeof m.range=="function"?m:c(d,p,m),T=x?x.range(d,+p+1):[];return v?T.reverse():T}function c(d,p,m){const v=Math.abs(p-d)/m,x=X1(([,,b])=>b).right(s,v);if(x===s.length)return t.every(Lx(d/J_,p/J_,m));if(x===0)return Tp.every(Math.max(Lx(d,p,m),1));const[T,S]=s[v/s[x-1][2]<s[x][2]/v?x-1:x];return T.every(S)}return[u,c]}const[iK,aK]=JD(Ea,hE,jm,QD,fE,uE),[oK,sK]=JD(wa,dE,Rm,Kf,cE,lE);function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function lK(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=cc(i),p=fc(i),m=cc(a),v=fc(a),x=cc(s),T=fc(s),S=cc(u),b=fc(u),k=cc(c),R=fc(c),M={a:oe,A:Z,b:Y,B:ie,c:null,d:UC,e:UC,f:CK,g:UK,G:qK,H:PK,I:kK,j:OK,L:ZD,m:NK,M:RK,p:q,q:G,Q:zC,s:WC,S:jK,u:MK,U:DK,V:LK,w:$K,W:VK,x:null,X:null,y:FK,Y:BK,Z:zK,"%":qC},V={a:ue,A:_e,b:Ce,B:Le,c:null,d:BC,e:BC,f:GK,g:iG,G:oG,H:WK,I:HK,j:KK,L:tL,m:XK,M:YK,p:Xe,q:Ne,Q:zC,s:WC,S:QK,u:JK,U:ZK,V:eG,w:tG,W:rG,x:null,X:null,y:nG,Y:aG,Z:sG,"%":qC},O={a:L,A:$,b:F,B:D,c:re,d:VC,e:VC,f:SK,g:$C,G:LC,H:FC,I:FC,j:bK,L:EK,m:_K,M:xK,p:N,q:vK,Q:AK,s:IK,S:wK,u:hK,U:pK,V:mK,w:dK,W:gK,x:ne,X:se,y:$C,Y:LC,Z:yK,"%":TK};M.x=C(r,M),M.X=C(n,M),M.c=C(e,M),V.x=C(r,V),V.X=C(n,V),V.c=C(e,V);function C(de,Ee){return function(Re){var z=[],ge=-1,be=0,je=de.length,Qe,Dt,qr;for(Re instanceof Date||(Re=new Date(+Re));++ge<je;)de.charCodeAt(ge)===37&&(z.push(de.slice(be,ge)),(Dt=DC[Qe=de.charAt(++ge)])!=null?Qe=de.charAt(++ge):Dt=Qe==="e"?" ":"0",(qr=Ee[Qe])&&(Qe=qr(Re,Dt)),z.push(Qe),be=ge+1);return z.push(de.slice(be,ge)),z.join("")}}function A(de,Ee){return function(Re){var z=uc(1900,void 0,1),ge=P(z,de,Re+="",0),be,je;if(ge!=Re.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(Ee&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(be=eb(uc(z.y,0,1)),je=be.getUTCDay(),be=je>4||je===0?Ip.ceil(be):Ip(be),be=Nm.offset(be,(z.V-1)*7),z.y=be.getUTCFullYear(),z.m=be.getUTCMonth(),z.d=be.getUTCDate()+(z.w+6)%7):(be=Z_(uc(z.y,0,1)),je=be.getDay(),be=je>4||je===0?Ap.ceil(be):Ap(be),be=Kf.offset(be,(z.V-1)*7),z.y=be.getFullYear(),z.m=be.getMonth(),z.d=be.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),je="Z"in z?eb(uc(z.y,0,1)).getUTCDay():Z_(uc(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(je+5)%7:z.w+z.U*7-(je+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,eb(z)):Z_(z)}}function P(de,Ee,Re,z){for(var ge=0,be=Ee.length,je=Re.length,Qe,Dt;ge<be;){if(z>=je)return-1;if(Qe=Ee.charCodeAt(ge++),Qe===37){if(Qe=Ee.charAt(ge++),Dt=O[Qe in DC?Ee.charAt(ge++):Qe],!Dt||(z=Dt(de,Re,z))<0)return-1}else if(Qe!=Re.charCodeAt(z++))return-1}return z}function N(de,Ee,Re){var z=d.exec(Ee.slice(Re));return z?(de.p=p.get(z[0].toLowerCase()),Re+z[0].length):-1}function L(de,Ee,Re){var z=x.exec(Ee.slice(Re));return z?(de.w=T.get(z[0].toLowerCase()),Re+z[0].length):-1}function $(de,Ee,Re){var z=m.exec(Ee.slice(Re));return z?(de.w=v.get(z[0].toLowerCase()),Re+z[0].length):-1}function F(de,Ee,Re){var z=k.exec(Ee.slice(Re));return z?(de.m=R.get(z[0].toLowerCase()),Re+z[0].length):-1}function D(de,Ee,Re){var z=S.exec(Ee.slice(Re));return z?(de.m=b.get(z[0].toLowerCase()),Re+z[0].length):-1}function re(de,Ee,Re){return P(de,e,Ee,Re)}function ne(de,Ee,Re){return P(de,r,Ee,Re)}function se(de,Ee,Re){return P(de,n,Ee,Re)}function oe(de){return s[de.getDay()]}function Z(de){return a[de.getDay()]}function Y(de){return c[de.getMonth()]}function ie(de){return u[de.getMonth()]}function q(de){return i[+(de.getHours()>=12)]}function G(de){return 1+~~(de.getMonth()/3)}function ue(de){return s[de.getUTCDay()]}function _e(de){return a[de.getUTCDay()]}function Ce(de){return c[de.getUTCMonth()]}function Le(de){return u[de.getUTCMonth()]}function Xe(de){return i[+(de.getUTCHours()>=12)]}function Ne(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ee=C(de+="",M);return Ee.toString=function(){return de},Ee},parse:function(de){var Ee=A(de+="",!1);return Ee.toString=function(){return de},Ee},utcFormat:function(de){var Ee=C(de+="",V);return Ee.toString=function(){return de},Ee},utcParse:function(de){var Ee=A(de+="",!0);return Ee.toString=function(){return de},Ee}}}var DC={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,uK=/^%/,cK=/[\\^$*+?|[\]().{}]/g;function ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function fK(t){return t.replace(cK,"\\$&")}function cc(t){return new RegExp("^(?:"+t.map(fK).join("|")+")","i")}function fc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function dK(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function hK(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function pK(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function mK(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function gK(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function LC(t,e,r){var n=dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $C(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function yK(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function vK(t,e,r){var n=dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function _K(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function VC(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function bK(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function FC(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function xK(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function wK(t,e,r){var n=dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function EK(t,e,r){var n=dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function SK(t,e,r){var n=dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TK(t,e,r){var n=uK.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function AK(t,e,r){var n=dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function IK(t,e,r){var n=dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function UC(t,e){return ft(t.getDate(),e,2)}function PK(t,e){return ft(t.getHours(),e,2)}function kK(t,e){return ft(t.getHours()%12||12,e,2)}function OK(t,e){return ft(1+Kf.count(wa(t),t),e,3)}function ZD(t,e){return ft(t.getMilliseconds(),e,3)}function CK(t,e){return ZD(t,e)+"000"}function NK(t,e){return ft(t.getMonth()+1,e,2)}function RK(t,e){return ft(t.getMinutes(),e,2)}function jK(t,e){return ft(t.getSeconds(),e,2)}function MK(t){var e=t.getDay();return e===0?7:e}function DK(t,e){return ft(Rm.count(wa(t)-1,t),e,2)}function eL(t){var e=t.getDay();return e>=4||e===0?Zl(t):Zl.ceil(t)}function LK(t,e){return t=eL(t),ft(Zl.count(wa(t),t)+(wa(t).getDay()===4),e,2)}function $K(t){return t.getDay()}function VK(t,e){return ft(Ap.count(wa(t)-1,t),e,2)}function FK(t,e){return ft(t.getFullYear()%100,e,2)}function UK(t,e){return t=eL(t),ft(t.getFullYear()%100,e,2)}function BK(t,e){return ft(t.getFullYear()%1e4,e,4)}function qK(t,e){var r=t.getDay();return t=r>=4||r===0?Zl(t):Zl.ceil(t),ft(t.getFullYear()%1e4,e,4)}function zK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function BC(t,e){return ft(t.getUTCDate(),e,2)}function WK(t,e){return ft(t.getUTCHours(),e,2)}function HK(t,e){return ft(t.getUTCHours()%12||12,e,2)}function KK(t,e){return ft(1+Nm.count(Ea(t),t),e,3)}function tL(t,e){return ft(t.getUTCMilliseconds(),e,3)}function GK(t,e){return tL(t,e)+"000"}function XK(t,e){return ft(t.getUTCMonth()+1,e,2)}function YK(t,e){return ft(t.getUTCMinutes(),e,2)}function QK(t,e){return ft(t.getUTCSeconds(),e,2)}function JK(t){var e=t.getUTCDay();return e===0?7:e}function ZK(t,e){return ft(jm.count(Ea(t)-1,t),e,2)}function rL(t){var e=t.getUTCDay();return e>=4||e===0?eu(t):eu.ceil(t)}function eG(t,e){return t=rL(t),ft(eu.count(Ea(t),t)+(Ea(t).getUTCDay()===4),e,2)}function tG(t){return t.getUTCDay()}function rG(t,e){return ft(Ip.count(Ea(t)-1,t),e,2)}function nG(t,e){return ft(t.getUTCFullYear()%100,e,2)}function iG(t,e){return t=rL(t),ft(t.getUTCFullYear()%100,e,2)}function aG(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function oG(t,e){var r=t.getUTCDay();return t=r>=4||r===0?eu(t):eu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function sG(){return"+0000"}function qC(){return"%"}function zC(t){return+t}function WC(t){return Math.floor(+t/1e3)}var xl,nL,iL;lG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lG(t){return xl=lK(t),nL=xl.format,xl.parse,iL=xl.utcFormat,xl.utcParse,xl}function uG(t){return new Date(t)}function cG(t){return t instanceof Date?+t:+new Date(+t)}function pE(t,e,r,n,i,a,s,u,c,d){var p=eE(),m=p.invert,v=p.domain,x=d(".%L"),T=d(":%S"),S=d("%I:%M"),b=d("%I %p"),k=d("%a %d"),R=d("%b %d"),M=d("%B"),V=d("%Y");function O(C){return(c(C)<C?x:u(C)<C?T:s(C)<C?S:a(C)<C?b:n(C)<C?i(C)<C?k:R:r(C)<C?M:V)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?v(Array.from(C,cG)):v().map(uG)},p.ticks=function(C){var A=v();return t(A[0],A[A.length-1],C??10)},p.tickFormat=function(C,A){return A==null?O:d(A)},p.nice=function(C){var A=v();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?v(zD(A,C)):p},p.copy=function(){return Hf(p,pE(t,e,r,n,i,a,s,u,c,d))},p}function fG(){return Un.apply(pE(oK,sK,wa,dE,Rm,Kf,cE,lE,ds,nL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dG(){return Un.apply(pE(iK,aK,Ea,hE,jm,Nm,fE,uE,ds,iL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mm(){var t=0,e=1,r,n,i,a,s=Ur,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(s=m,d):s};function p(m){return function(v){var x,T;return arguments.length?([x,T]=v,s=m(x,T),d):[s(0),s(1)]}}return d.range=p(wu),d.rangeRound=p(Z1),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),d}}function To(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aL(){var t=So(Mm()(Ur));return t.copy=function(){return To(t,aL())},Aa.apply(t,arguments)}function oL(){var t=nE(Mm()).domain([1,10]);return t.copy=function(){return To(t,oL()).base(t.base())},Aa.apply(t,arguments)}function sL(){var t=iE(Mm());return t.copy=function(){return To(t,sL()).constant(t.constant())},Aa.apply(t,arguments)}function mE(){var t=aE(Mm());return t.copy=function(){return To(t,mE()).exponent(t.exponent())},Aa.apply(t,arguments)}function hG(){return mE.apply(null,arguments).exponent(.5)}function lL(){var t=[],e=Ur;function r(n){if(n!=null&&!isNaN(n=+n))return e((zf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ho),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>ZW(t,a/n))},r.copy=function(){return lL(e).domain(t)},Aa.apply(r,arguments)}function Dm(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,d=Ur,p,m=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-a)*(n*S<n*a?u:c),d(m?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([t,e,r]=S,i=p(t=+t),a=p(e=+e),s=p(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(S){return arguments.length?(m=!!S,x):m},x.interpolator=function(S){return arguments.length?(d=S,x):d};function T(S){return function(b){var k,R,M;return arguments.length?([k,R,M]=b,d=TH(S,[k,R,M]),x):[d(0),d(.5),d(1)]}}return x.range=T(wu),x.rangeRound=T(Z1),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return p=S,i=S(t),a=S(e),s=S(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,x}}function uL(){var t=So(Dm()(Ur));return t.copy=function(){return To(t,uL())},Aa.apply(t,arguments)}function cL(){var t=nE(Dm()).domain([.1,1,10]);return t.copy=function(){return To(t,cL()).base(t.base())},Aa.apply(t,arguments)}function fL(){var t=iE(Dm());return t.copy=function(){return To(t,fL()).constant(t.constant())},Aa.apply(t,arguments)}function gE(){var t=aE(Dm());return t.copy=function(){return To(t,gE()).exponent(t.exponent())},Aa.apply(t,arguments)}function pG(){return gE.apply(null,arguments).exponent(.5)}const HC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qc,scaleDiverging:uL,scaleDivergingLog:cL,scaleDivergingPow:gE,scaleDivergingSqrt:pG,scaleDivergingSymlog:fL,scaleIdentity:qD,scaleImplicit:$x,scaleLinear:Sp,scaleLog:WD,scaleOrdinal:Y1,scalePoint:Oc,scalePow:oE,scaleQuantile:GD,scaleQuantize:XD,scaleRadial:KD,scaleSequential:aL,scaleSequentialLog:oL,scaleSequentialPow:mE,scaleSequentialQuantile:lL,scaleSequentialSqrt:hG,scaleSequentialSymlog:sL,scaleSqrt:GH,scaleSymlog:HD,scaleThreshold:YD,scaleTime:fG,scaleUtc:dG,tickFormat:BD},Symbol.toStringTag,{value:"Module"}));var tb,KC;function Lm(){if(KC)return tb;KC=1;var t=_u();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,p=u}return p}return tb=e,tb}var rb,GC;function dL(){if(GC)return rb;GC=1;function t(e,r){return e>r}return rb=t,rb}var nb,XC;function mG(){if(XC)return nb;XC=1;var t=Lm(),e=dL(),r=xu();function n(i){return i&&i.length?t(i,r,e):void 0}return nb=n,nb}var gG=mG();const $m=yt(gG);var ib,YC;function hL(){if(YC)return ib;YC=1;function t(e,r){return e<r}return ib=t,ib}var ab,QC;function yG(){if(QC)return ab;QC=1;var t=Lm(),e=hL(),r=xu();function n(i){return i&&i.length?t(i,r,e):void 0}return ab=n,ab}var vG=yG();const Vm=yt(vG);var ob,JC;function _G(){if(JC)return ob;JC=1;var t=C1(),e=Ui(),r=xD(),n=nn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return ob=i,ob}var sb,ZC;function bG(){if(ZC)return sb;ZC=1;var t=_D(),e=_G();function r(n,i){return t(e(n,i),1)}return sb=r,sb}var xG=bG();const wG=yt(xG);var lb,eN;function EG(){if(eN)return lb;eN=1;var t=z1();function e(r,n){return t(r,n)}return lb=e,lb}var SG=EG();const yE=yt(SG);var Eu=1e9,TG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_E,Nt=!0,Fn="[DecimalError] ",ys=Fn+"Invalid argument: ",vE=Fn+"Exponent out of range: ",Su=Math.floor,as=Math.pow,AG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,fr=1e7,Pt=7,pL=9007199254740991,Pp=Su(pL/Pt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return ga(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return xt(ga(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Xt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(vn))throw Error(Fn+"NaN");if(r.s<1)throw Error(Fn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(Nt=!1,e=ga(rf(r,a),rf(t,a),a),Nt=!0,xt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yL(e,t):mL(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fn+"NaN");return r.s?(Nt=!1,e=ga(r,t,0,1).times(t),Nt=!0,r.minus(e)):xt(new n(r),i)};Te.naturalExponential=Te.exp=function(){return gL(this)};Te.naturalLogarithm=Te.ln=function(){return rf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):yL(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ys+t);if(e=Xt(i)+1,n=i.d.length-1,r=n*Pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Fn+"NaN")}for(t=Xt(u),Nt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ti(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Su((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(ga(u,a,s+2)).times(.5),Ti(a.d).slice(0,s)===(e=Ti(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(xt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Nt=!0,xt(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,s,u,c,d,p=this,m=p.constructor,v=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,c=v.length,d=x.length,c<d&&(a=v,v=x,x=a,s=c,c=d,d=s),a=[],s=c+d,n=s;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+x[n]*v[i-n-1]+e,a[i--]=u%fr|0,e=u/fr|0;a[i]=(a[i]+e)%fr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Nt?xt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Li(t,0,Eu),e===void 0?e=n.rounding:Li(e,0,8),xt(r,t+Xt(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=As(n,!0):(Li(t,0,Eu),e===void 0?e=i.rounding:Li(e,0,8),n=xt(new i(n),t+1,e),r=As(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?As(i):(Li(t,0,Eu),e===void 0?e=a.rounding:Li(e,0,8),n=xt(new a(i),t+Xt(i)+1,e),r=As(n.abs(),!1,t+Xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return xt(new e(t),Xt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c(vn);if(u=new c(u),!u.s){if(t.s<1)throw Error(Fn+"Infinity");return u}if(u.eq(vn))return u;if(n=c.precision,t.eq(vn))return xt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=p<0?-p:p)<=pL){for(i=new c(vn),e=Math.ceil(n/Pt+4),Nt=!1;r%2&&(i=i.times(u),rN(i.d,e)),r=Su(r/2),r!==0;)u=u.times(u),rN(u.d,e);return Nt=!0,t.s<0?new c(vn).div(i):xt(i,n)}}else if(a<0)throw Error(Fn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Nt=!1,i=t.times(rf(u,n+d)),Nt=!0,i=gL(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Xt(i),n=As(i,r<=a.toExpNeg||r>=a.toExpPos)):(Li(t,1,Eu),e===void 0?e=a.rounding:Li(e,0,8),i=xt(new a(i),t,e),r=Xt(i),n=As(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Li(t,1,Eu),e===void 0?e=n.rounding:Li(e,0,8)),xt(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),r=t.constructor;return As(t,e<=r.toExpNeg||e>=r.toExpPos)};function mL(t,e){var r,n,i,a,s,u,c,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Nt?xt(e,m):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=d.length):(n=d,i=s,u=c.length),s=Math.ceil(m/Pt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=d.length,u-a<0&&(a=u,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/fr|0,c[a]%=fr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Nt?xt(e,m):e}function Li(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ys+t)}function Ti(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Pt-n.length,r&&(a+=no(r)),a+=n;s=t[e],n=s+"",r=Pt-n.length,r&&(a+=no(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ga=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%fr|0,s=a/fr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*fr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,d,p,m,v,x,T,S,b,k,R,M,V,O,C,A,P,N=n.constructor,L=n.s==i.s?1:-1,$=n.d,F=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Fn+"Division by zero");for(c=n.e-i.e,A=F.length,O=$.length,x=new N(L),T=x.d=[],d=0;F[d]==($[d]||0);)++d;if(F[d]>($[d]||0)&&--c,a==null?R=a=N.precision:s?R=a+(Xt(n)-Xt(i))+1:R=a,R<0)return new N(0);if(R=R/Pt+2|0,d=0,A==1)for(p=0,F=F[0],R++;(d<O||p)&&R--;d++)M=p*fr+($[d]||0),T[d]=M/F|0,p=M%F|0;else{for(p=fr/(F[0]+1)|0,p>1&&(F=t(F,p),$=t($,p),A=F.length,O=$.length),V=A,S=$.slice(0,A),b=S.length;b<A;)S[b++]=0;P=F.slice(),P.unshift(0),C=F[0],F[1]>=fr/2&&++C;do p=0,u=e(F,S,A,b),u<0?(k=S[0],A!=b&&(k=k*fr+(S[1]||0)),p=k/C|0,p>1?(p>=fr&&(p=fr-1),m=t(F,p),v=m.length,b=S.length,u=e(m,S,v,b),u==1&&(p--,r(m,A<v?P:F,v))):(p==0&&(u=p=1),m=F.slice()),v=m.length,v<b&&m.unshift(0),r(S,m,b),u==-1&&(b=S.length,u=e(F,S,A,b),u<1&&(p++,r(S,A<b?P:F,b))),b=S.length):u===0&&(p++,S=[0]),T[d++]=p,u&&S[0]?S[b++]=$[V]||0:(S=[$[V]],b=1);while((V++<O||S[0]!==void 0)&&R--)}return T[0]||T.shift(),x.e=c,xt(x,s?a+Xt(x)+1:a)}}();function gL(t,e){var r,n,i,a,s,u,c=0,d=0,p=t.constructor,m=p.precision;if(Xt(t)>16)throw Error(vE+Xt(t));if(!t.s)return new p(vn);for(Nt=!1,u=m,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(n=Math.log(as(2,d))/Math.LN10*2+5|0,u+=n,r=i=a=new p(vn),p.precision=u;;){if(i=xt(i.times(t),u),r=r.times(++c),s=a.plus(ga(i,r,u)),Ti(s.d).slice(0,u)===Ti(a.d).slice(0,u)){for(;d--;)a=xt(a.times(a),u);return p.precision=m,e==null?(Nt=!0,xt(a,m)):a}a=s}}function Xt(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function ub(t,e,r){if(e>t.LN10.sd())throw Nt=!0,r&&(t.precision=r),Error(Fn+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function no(t){for(var e="";t--;)e+="0";return e}function rf(t,e){var r,n,i,a,s,u,c,d,p,m=1,v=10,x=t,T=x.d,S=x.constructor,b=S.precision;if(x.s<1)throw Error(Fn+(x.s?"NaN":"-Infinity"));if(x.eq(vn))return new S(0);if(e==null?(Nt=!1,d=b):d=e,x.eq(10))return e==null&&(Nt=!0),ub(S,d);if(d+=v,S.precision=d,r=Ti(T),n=r.charAt(0),a=Xt(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Ti(x.d),n=r.charAt(0),m++;a=Xt(x),n>1?(x=new S("0."+r),a++):x=new S(n+"."+r.slice(1))}else return c=ub(S,d+2,b).times(a+""),x=rf(new S(n+"."+r.slice(1)),d-v).plus(c),S.precision=b,e==null?(Nt=!0,xt(x,b)):x;for(u=s=x=ga(x.minus(vn),x.plus(vn),d),p=xt(x.times(x),d),i=3;;){if(s=xt(s.times(p),d),c=u.plus(ga(s,new S(i),d)),Ti(c.d).slice(0,d)===Ti(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(ub(S,d+2,b).times(a+""))),u=ga(u,new S(m),d),S.precision=b,e==null?(Nt=!0,xt(u,b)):u;u=c,i+=2}}function tN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Su(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pt;n<i;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Nt&&(t.e>Pp||t.e<-Pp))throw Error(vE+r)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,r){var n,i,a,s,u,c,d,p,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Pt,i=e,d=m[p=0];else{if(p=Math.ceil((n+1)/Pt),a=m.length,p>=a)return t;for(d=a=m[p],s=1;a>=10;a/=10)s++;n%=Pt,i=n-Pt+s}if(r!==void 0&&(a=as(10,s-i-1),u=d/a%10|0,c=e<0||m[p+1]!==void 0||d%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?d/as(10,s-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=Xt(t),m.length=1,e=e-a-1,m[0]=as(10,(Pt-e%Pt)%Pt),t.e=Su(-e/Pt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=as(10,Pt-n),m[p]=i>0?(d/as(10,s-i)%as(10,i)|0)*a:0),c)for(;;)if(p==0){(m[0]+=a)==fr&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=fr)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Nt&&(t.e>Pp||t.e<-Pp))throw Error(vE+Xt(t));return t}function yL(t,e){var r,n,i,a,s,u,c,d,p,m,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Nt?xt(e,x):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),s=d-n,s){for(p=s<0,p?(r=c,s=-s,u=m.length):(r=m,n=d,u=c.length),i=Math.max(Math.ceil(x/Pt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){p=c[i]<m[i];break}s=0}for(p&&(r=c,c=m,m=r,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=fr-1;--c[a],c[i]+=fr}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Nt?xt(e,x):e):new v(0)}function As(t,e,r){var n,i=Xt(t),a=Ti(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+no(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+no(-i-1)+a,r&&(n=r-s)>0&&(a+=no(n))):i>=s?(a+=no(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+no(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=no(n))),t.s<0?"-"+a:a}function rN(t,e){if(t.length>e)return t.length=e,!0}function vL(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ys+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return tN(s,a.toString())}else if(typeof a!="string")throw Error(ys+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,AG.test(a))tN(s,a);else throw Error(ys+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vL,i.config=i.set=IG,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function IG(t){if(!t||typeof t!="object")throw Error(Fn+"Object expected");var e,r,n,i=["precision",1,Eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Su(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ys+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ys+r+": "+n);return this}var _E=vL(TG);vn=new _E(1);const vt=_E;function PG(t){return NG(t)||CG(t)||OG(t)||kG()}function kG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t,e){if(t){if(typeof t=="string")return Bx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bx(t,e)}}function CG(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function NG(t){if(Array.isArray(t))return Bx(t)}function Bx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var RG=function(e){return e},_L={},bL=function(e){return e===_L},nN=function(e){return function r(){return arguments.length===0||arguments.length===1&&bL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},jG=function t(e,r){return e===1?r:nN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==_L}).length;return s>=e?r.apply(void 0,i):t(e-s,nN(function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];var p=i.map(function(m){return bL(m)?c.shift():m});return r.apply(void 0,PG(p).concat(c))}))})},Fm=function(e){return jG(e.length,e)},qx=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},MG=Fm(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),DG=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return RG;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},zx=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function LG(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function $G(t,e,r){for(var n=new vt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var VG=Fm(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),FG=Fm(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),UG=Fm(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Um={rangeStep:$G,getDigitCount:LG,interpolateNumber:VG,uninterpolateNumber:FG,uninterpolateTruncation:UG};function Wx(t){return zG(t)||qG(t)||wL(t)||BG()}function BG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zG(t){if(Array.isArray(t))return Hx(t)}function nf(t,e){return KG(t)||HG(t,e)||wL(t,e)||WG()}function WG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wL(t,e){if(t){if(typeof t=="string")return Hx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hx(t,e)}}function Hx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HG(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function KG(t){if(Array.isArray(t))return t}function EL(t){var e=nf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function SL(t,e,r){if(t.lte(0))return new vt(0);var n=Um.getDigitCount(t.toNumber()),i=new vt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new vt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new vt(Math.ceil(c))}function GG(t,e,r){var n=1,i=new vt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new vt(10).pow(Um.getDigitCount(t)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):r||(i=new vt(Math.floor(t)));var s=Math.floor((e-1)/2),u=DG(MG(function(c){return i.add(new vt(c-s).mul(n)).toNumber()}),qx);return u(0,e)}function TL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=SL(new vt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new vt(0):(s=new vt(t).add(e).div(2),s=s.sub(new vt(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new vt(e).sub(s).div(a).toNumber()),d=u+c+1;return d>r?TL(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,u=e>0?u:u+(r-d)),{step:a,tickMin:s.sub(new vt(u).mul(a)),tickMax:s.add(new vt(c).mul(a))})}function XG(t){var e=nf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=EL([r,n]),c=nf(u,2),d=c[0],p=c[1];if(d===-1/0||p===1/0){var m=p===1/0?[d].concat(Wx(qx(0,i-1).map(function(){return 1/0}))):[].concat(Wx(qx(0,i-1).map(function(){return-1/0})),[p]);return r>n?zx(m):m}if(d===p)return GG(d,i,a);var v=TL(d,p,s,a),x=v.step,T=v.tickMin,S=v.tickMax,b=Um.rangeStep(T,S.add(new vt(.1).mul(x)),x);return r>n?zx(b):b}function YG(t,e){var r=nf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=EL([n,i]),u=nf(s,2),c=u[0],d=u[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(e,2),m=SL(new vt(d).sub(c).div(p-1),a,0),v=[].concat(Wx(Um.rangeStep(new vt(c),new vt(d).sub(new vt(.99).mul(m)),m)),[d]);return n>i?zx(v):v}var QG=xL(XG),JG=xL(YG),ZG="Invariant failed";function tu(t,e){throw new Error(ZG)}var eX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kp.apply(this,arguments)}function tX(t,e){return aX(t)||iX(t,e)||nX(t,e)||rX()}function rX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return iN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function aX(t){if(Array.isArray(t))return t}function oX(t,e){if(t==null)return{};var r=sX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PL(n.key),n)}}function cX(t,e,r){return e&&uX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fX(t,e,r){return e=Op(e),dX(t,AL()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function dX(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(t)}function hX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function pX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kx(t,e)}function Kx(t,e){return Kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kx(t,e)}function IL(t,e,r){return e=PL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PL(t){var e=mX(t,"string");return ru(e)=="symbol"?e:e+""}function mX(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bE=function(t){function e(){return lX(this,e),fX(this,e,arguments)}return pX(e,t),cX(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,d=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=oX(n,eX),x=Ye(v,!1);this.props.direction==="x"&&p.type!=="number"&&tu();var T=c.map(function(S){var b=d(S,u),k=b.x,R=b.y,M=b.value,V=b.errorVal;if(!V)return null;var O=[],C,A;if(Array.isArray(V)){var P=tX(V,2);C=P[0],A=P[1]}else C=A=V;if(a==="vertical"){var N=p.scale,L=R+i,$=L+s,F=L-s,D=N(M-C),re=N(M+A);O.push({x1:re,y1:$,x2:re,y2:F}),O.push({x1:D,y1:L,x2:re,y2:L}),O.push({x1:D,y1:$,x2:D,y2:F})}else if(a==="horizontal"){var ne=m.scale,se=k+i,oe=se-s,Z=se+s,Y=ne(M-C),ie=ne(M+A);O.push({x1:oe,y1:ie,x2:Z,y2:ie}),O.push({x1:se,y1:Y,x2:se,y2:ie}),O.push({x1:oe,y1:Y,x2:Z,y2:Y})}return X.createElement(Ut,kp({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),O.map(function(q){return X.createElement("line",kp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return X.createElement(Ut,{className:"recharts-errorBars"},T)}}])}(X.Component);IL(bE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IL(bE,"displayName","ErrorBar");function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function aN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(r),!0).forEach(function(n){gX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gX(t,e,r){return e=yX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yX(t){var e=vX(t,"string");return af(e)=="symbol"?e:e+""}function vX(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Mn(r,Ml);if(!s)return null;var u=Ml.defaultProps,c=u!==void 0?es(es({},u),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(n||[]).reduce(function(p,m){var v=m.item,x=m.props,T=x.sectors||x.data||[];return p.concat(T.map(function(S){return{type:s.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):d=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,x=v!==void 0?es(es({},v),m.props):{},T=x.dataKey,S=x.name,b=x.legendType,k=x.hide;return{inactive:k,dataKey:T,type:c.iconType||b||"square",color:xE(m),value:S||T,payload:x}}),es(es(es({},c),Ml.getWithHeight(s,i)),{},{payload:d,item:s})};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function oN(t){return wX(t)||xX(t)||bX(t)||_X()}function _X(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(t,e){if(t){if(typeof t=="string")return Gx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gx(t,e)}}function xX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wX(t){if(Array.isArray(t))return Gx(t)}function Gx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(r),!0).forEach(function(n){Ll(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ll(t,e,r){return e=EX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EX(t){var e=SX(t,"string");return of(e)=="symbol"?e:e+""}function SX(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _n(t,e,r){return it(t)||it(e)?r:rr(e)?si(t,e,r):Je(e)?e(t):r}function Cc(t,e,r,n){var i=wG(t,function(u){return _n(u,e)});if(r==="number"){var a=i.filter(function(u){return we(u)||parseFloat(u)});return a.length?[Vm(a),$m(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!it(u)}):i;return s.map(function(u){return rr(u)||u instanceof Date?u:""})}var TX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<u;d++){var p=d>0?i[d-1].coordinate:i[u-1].coordinate,m=i[d].coordinate,v=d>=u-1?i[0].coordinate:i[d+1].coordinate,x=void 0;if(Ln(m-p)!==Ln(v-m)){var T=[];if(Ln(v-m)===Ln(c[1]-c[0])){x=v;var S=m+c[1]-c[0];T[0]=Math.min(S,(S+p)/2),T[1]=Math.max(S,(S+p)/2)}else{x=p;var b=v+c[1]-c[0];T[0]=Math.min(m,(b+m)/2),T[1]=Math.max(m,(b+m)/2)}var k=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>k[0]&&e<=k[1]||e>=T[0]&&e<=T[1]){s=i[d].index;break}}else{var R=Math.min(p,v),M=Math.max(p,v);if(e>(R+m)/2&&e<=(M+m)/2){s=i[d].index;break}}}else for(var V=0;V<u;V++)if(V===0&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V>0&&V<u-1&&e>(n[V].coordinate+n[V-1].coordinate)/2&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V===u-1&&e>(n[V].coordinate+n[V-1].coordinate)/2){s=n[V].index;break}return s},xE=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},AX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,d=u.length;c<d;c++)for(var p=a[u[c]].stackGroups,m=Object.keys(p),v=0,x=m.length;v<x;v++){var T=p[m[v]],S=T.items,b=T.cateAxisId,k=S.filter(function(A){return pa(A.type).indexOf("Bar")>=0});if(k&&k.length){var R=k[0].type.defaultProps,M=R!==void 0?Ft(Ft({},R),k[0].props):k[0].props,V=M.barSize,O=M[b];s[O]||(s[O]=[]);var C=it(V)?r:V;s[O].push({item:k[0],stackList:k.slice(1),barSize:it(C)?void 0:tn(C,n,0)})}}return s},IX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var d=tn(r,i,0,!0),p,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,x=i/c,T=s.reduce(function(V,O){return V+O.barSize||0},0);T+=(c-1)*d,T>=i&&(T-=(c-1)*d,d=0),T>=i&&x>0&&(v=!0,x*=.9,T=c*x);var S=(i-T)/2>>0,b={offset:S-d,size:0};p=s.reduce(function(V,O){var C={item:O.item,position:{offset:b.offset+b.size+d,size:v?x:O.barSize}},A=[].concat(oN(V),[C]);return b=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:b})}),A},m)}else{var k=tn(n,i,0,!0);i-2*k-(c-1)*d<=0&&(d=0);var R=(i-2*k-(c-1)*d)/c;R>1&&(R>>=0);var M=u===+u?Math.min(R,u):R;p=s.reduce(function(V,O,C){var A=[].concat(oN(V),[{item:O.item,position:{offset:k+(R+d)*C+(R-M)/2,size:M}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return p},PX=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),d=kL({children:a,legendWidth:c});if(d){var p=i||{},m=p.width,v=p.height,x=d.align,T=d.verticalAlign,S=d.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&x!=="center"&&we(e[x]))return Ft(Ft({},e),{},Ll({},x,e[x]+(m||0)));if((S==="horizontal"||S==="vertical"&&x==="center")&&T!=="middle"&&we(e[T]))return Ft(Ft({},e),{},Ll({},T,e[T]+(v||0)))}return e},kX=function(e,r,n){return it(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OL=function(e,r,n,i,a){var s=r.props.children,u=Ni(s,bE).filter(function(d){return kX(i,a,d.props.direction)});if(u&&u.length){var c=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var m=_n(p,n);if(it(m))return d;var v=Array.isArray(m)?[Vm(m),$m(m)]:[m,m],x=c.reduce(function(T,S){var b=_n(p,S,0),k=v[0]-Math.abs(Array.isArray(b)?b[0]:b),R=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,T[0]),Math.max(R,T[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},OX=function(e,r,n,i,a){var s=r.map(function(u){return OL(e,u,n,a,i)}).filter(function(u){return!it(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},CL=function(e,r,n,i,a){var s=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&OL(e,c,d,i)||Cc(e,d,n,a)});if(n==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,d){for(var p=0,m=d.length;p<m;p++)u[d[p]]||(u[d[p]]=!0,c.push(d[p]));return c},[])},NL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Ec=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&u?.length>=2?Ln(u[0]-u[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=a?a.indexOf(m):m;return{coordinate:i(v)+d,value:m,offset:d}});return p.filter(function(m){return!Bf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+d,value:m,index:v,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,v){return{coordinate:i(m)+d,value:a?a[m]:m,index:v,offset:d}})},cb=new WeakMap,bh=function(e,r){if(typeof r!="function")return e;cb.has(e)||cb.set(e,new WeakMap);var n=cb.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},CX=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Qc(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Sp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Oc(),realScaleType:"point"}:a==="category"?{scale:Qc(),realScaleType:"band"}:{scale:Sp(),realScaleType:"linear"};if(Uf(i)){var c="scale".concat(Em(i));return{scale:(HC[c]||Oc)(),realScaleType:HC[c]?c:"point"}}return Je(i)?{scale:i}:{scale:Oc(),realScaleType:"point"}},lN=1e-4,NX=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-lN,s=Math.max(i[0],i[1])+lN,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},RX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=Bf(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},jX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=Bf(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},MX={sign:RX,expand:x8,none:Hl,silhouette:w8,wiggle:E8,positive:jX},DX=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=MX[n],s=b8().keys(i).value(function(u,c){return+_n(u,c,0)}).order(Sx).offset(a);return s(e)},LX=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},d=u.reduce(function(m,v){var x,T=(x=v.type)!==null&&x!==void 0&&x.defaultProps?Ft(Ft({},v.type.defaultProps),v.props):v.props,S=T.stackId,b=T.hide;if(b)return m;var k=T[n],R=m[k]||{hasStack:!1,stackGroups:{}};if(rr(S)){var M=R.stackGroups[S]||{numericAxisId:n,cateAxisId:i,items:[]};M.items.push(v),R.hasStack=!0,R.stackGroups[S]=M}else R.stackGroups[xm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Ft(Ft({},m),{},Ll({},k,R))},c),p={};return Object.keys(d).reduce(function(m,v){var x=d[v];if(x.hasStack){var T={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(S,b){var k=x.stackGroups[b];return Ft(Ft({},S),{},Ll({},b,{numericAxisId:n,cateAxisId:i,items:k.items,stackedData:DX(e,k.items,a)}))},T)}return Ft(Ft({},m),{},Ll({},v,x))},p)},$X=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=QG(d,a,u);return e.domain([Vm(p),$m(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),v=JG(m,a,u);return{niceTicks:v}}return null},VX=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(rr(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},FX=function(e){return e.reduce(function(r,n){return[Vm(n.concat([r[0]]).filter(we)),$m(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},RL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(d,p){var m=FX(p.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},uN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xx=function(e,r,n){if(Je(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(we(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(uN.test(e[0])){var a=+uN.exec(e[0])[1];i[0]=r[0]-a}else Je(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(we(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(cN.test(e[1])){var s=+cN.exec(e[1])[1];i[1]=r[1]+s}else Je(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Yx=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=H1(r,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var d=a[u],p=a[u-1];s=Math.min((d.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},fN=function(e,r,n){return!e||!e.length||yE(e,si(n,"type.defaultProps.domain"))?r:e},UX=function(e,r){var n=e.type.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,d=n.chartType,p=n.hide;return Ft(Ft({},Ye(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:xE(e),value:_n(r,i),type:c,payload:r,chartType:d,hide:p})};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function dN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(r),!0).forEach(function(n){jL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jL(t,e,r){return e=BX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BX(t){var e=qX(t,"string");return sf(e)=="symbol"?e:e+""}function qX(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zX(t,e){return GX(t)||KX(t,e)||HX(t,e)||WX()}function WX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return hN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hN(t,e)}}function hN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function GX(t){if(Array.isArray(t))return t}var Cp=Math.PI/180,XX=function(e){return e*180/Math.PI},Tt=function(e,r,n,i){return{x:e+Math.cos(-Cp*i)*n,y:r+Math.sin(-Cp*i)*n}},ML=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},YX=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,d=e.endAngle,p=tn(e.cx,s,s/2),m=tn(e.cy,u,u/2),v=ML(s,u,n),x=tn(e.innerRadius,v,0),T=tn(e.outerRadius,v,v*.8),S=Object.keys(r);return S.reduce(function(b,k){var R=r[k],M=R.domain,V=R.reversed,O;if(it(R.range))i==="angleAxis"?O=[c,d]:i==="radiusAxis"&&(O=[x,T]),V&&(O=[O[1],O[0]]);else{O=R.range;var C=O,A=zX(C,2);c=A[0],d=A[1]}var P=CX(R,a),N=P.realScaleType,L=P.scale;L.domain(M).range(O),NX(L);var $=$X(L,sa(sa({},R),{},{realScaleType:N})),F=sa(sa(sa({},R),$),{},{range:O,radius:T,realScaleType:N,scale:L,cx:p,cy:m,innerRadius:x,outerRadius:T,startAngle:c,endAngle:d});return sa(sa({},b),{},jL({},k,F))},{})},QX=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},JX=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=QX({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:u,angle:XX(d),angleInRadian:d}},ZX=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},eY=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},pN=function(e,r){var n=e.x,i=e.y,a=JX({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,d=r.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var p=ZX(r),m=p.startAngle,v=p.endAngle,x=u,T;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;T=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;T=x>=v&&x<=m}return T?sa(sa({},r),{},{radius:s,angle:eY(x,r)}):null},DL=function(e){return!W.isValidElement(e)&&!Je(e)&&typeof e!="boolean"?e.className:""};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}var tY=["offset"];function rY(t){return oY(t)||aY(t)||iY(t)||nY()}function nY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iY(t,e){if(t){if(typeof t=="string")return Qx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qx(t,e)}}function aY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oY(t){if(Array.isArray(t))return Qx(t)}function Qx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sY(t,e){if(t==null)return{};var r=lY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(n){uY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uY(t,e,r){return e=cY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cY(t){var e=fY(t,"string");return lf(e)=="symbol"?e:e+""}function fY(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uf.apply(this,arguments)}var dY=function(e){var r=e.value,n=e.formatter,i=it(e.children)?r:e.children;return Je(n)?n(i):i},hY=function(e,r){var n=Ln(r-e),i=Math.min(Math.abs(r-e),360);return n*i},pY=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,d=c.cx,p=c.cy,m=c.innerRadius,v=c.outerRadius,x=c.startAngle,T=c.endAngle,S=c.clockWise,b=(m+v)/2,k=hY(x,T),R=k>=0?1:-1,M,V;i==="insideStart"?(M=x+R*s,V=S):i==="insideEnd"?(M=T-R*s,V=!S):i==="end"&&(M=T+R*s,V=S),V=k<=0?V:!V;var O=Tt(d,p,b,M),C=Tt(d,p,b,M+(V?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(V?0:1,`,
    `).concat(C.x,",").concat(C.y),P=it(e.id)?xm("recharts-radial-line-"):e.id;return X.createElement("text",uf({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:P,d:A})),X.createElement("textPath",{xlinkHref:"#".concat(P)},r))},mY=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,d=a.outerRadius,p=a.startAngle,m=a.endAngle,v=(p+m)/2;if(i==="outside"){var x=Tt(s,u,d+n,v),T=x.x,S=x.y;return{x:T,y:S,textAnchor:T>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,k=Tt(s,u,b,v),R=k.x,M=k.y;return{x:R,y:M,textAnchor:"middle",verticalAnchor:"middle"}},gY=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,d=s.width,p=s.height,m=p>=0?1:-1,v=m*i,x=m>0?"end":"start",T=m>0?"start":"end",S=d>=0?1:-1,b=S*i,k=S>0?"end":"start",R=S>0?"start":"end";if(a==="top"){var M={x:u+d/2,y:c-m*i,textAnchor:"middle",verticalAnchor:x};return tr(tr({},M),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var V={x:u+d/2,y:c+p+v,textAnchor:"middle",verticalAnchor:T};return tr(tr({},V),n?{height:Math.max(n.y+n.height-(c+p),0),width:d}:{})}if(a==="left"){var O={x:u-b,y:c+p/2,textAnchor:k,verticalAnchor:"middle"};return tr(tr({},O),n?{width:Math.max(O.x-n.x,0),height:p}:{})}if(a==="right"){var C={x:u+d+b,y:c+p/2,textAnchor:R,verticalAnchor:"middle"};return tr(tr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:p}:{})}var A=n?{width:d,height:p}:{};return a==="insideLeft"?tr({x:u+b,y:c+p/2,textAnchor:R,verticalAnchor:"middle"},A):a==="insideRight"?tr({x:u+d-b,y:c+p/2,textAnchor:k,verticalAnchor:"middle"},A):a==="insideTop"?tr({x:u+d/2,y:c+v,textAnchor:"middle",verticalAnchor:T},A):a==="insideBottom"?tr({x:u+d/2,y:c+p-v,textAnchor:"middle",verticalAnchor:x},A):a==="insideTopLeft"?tr({x:u+b,y:c+v,textAnchor:R,verticalAnchor:T},A):a==="insideTopRight"?tr({x:u+d-b,y:c+v,textAnchor:k,verticalAnchor:T},A):a==="insideBottomLeft"?tr({x:u+b,y:c+p-v,textAnchor:R,verticalAnchor:x},A):a==="insideBottomRight"?tr({x:u+d-b,y:c+p-v,textAnchor:k,verticalAnchor:x},A):bu(a)&&(we(a.x)||cs(a.x))&&(we(a.y)||cs(a.y))?tr({x:u+tn(a.x,d),y:c+tn(a.y,p),textAnchor:"end",verticalAnchor:"end"},A):tr({x:u+d/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},yY=function(e){return"cx"in e&&we(e.cx)};function br(t){var e=t.offset,r=e===void 0?5:e,n=sY(t,tY),i=tr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,d=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!a||it(u)&&it(c)&&!W.isValidElement(d)&&!Je(d))return null;if(W.isValidElement(d))return W.cloneElement(d,i);var x;if(Je(d)){if(x=W.createElement(d,i),W.isValidElement(x))return x}else x=dY(i);var T=yY(a),S=Ye(i,!0);if(T&&(s==="insideStart"||s==="insideEnd"||s==="end"))return pY(i,x,S);var b=T?mY(i):gY(i);return X.createElement(Ql,uf({className:ct("recharts-label",m)},S,b,{breakAll:v}),x)}br.displayName="Label";var LL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,d=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,x=e.top,T=e.left,S=e.width,b=e.height,k=e.clockWise,R=e.labelViewBox;if(R)return R;if(we(S)&&we(b)){if(we(m)&&we(v))return{x:m,y:v,width:S,height:b};if(we(x)&&we(T))return{x,y:T,width:S,height:b}}return we(m)&&we(v)?{x:m,y:v,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:p||c||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},vY=function(e,r){return e?e===!0?X.createElement(br,{key:"label-implicit",viewBox:r}):rr(e)?X.createElement(br,{key:"label-implicit",viewBox:r,value:e}):W.isValidElement(e)?e.type===br?W.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(br,{key:"label-implicit",content:e,viewBox:r}):Je(e)?X.createElement(br,{key:"label-implicit",content:e,viewBox:r}):bu(e)?X.createElement(br,uf({viewBox:r},e,{key:"label-implicit"})):null:null},_Y=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=LL(e),s=Ni(i,br).map(function(c,d){return W.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return s;var u=vY(e.label,r||a);return[u].concat(rY(s))};br.parseViewBox=LL;br.renderCallByParent=_Y;var fb,gN;function bY(){if(gN)return fb;gN=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return fb=t,fb}var xY=bY();const wY=yt(xY);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}var EY=["valueAccessor"],SY=["data","dataKey","clockWise","id","textBreakAll"];function TY(t){return kY(t)||PY(t)||IY(t)||AY()}function AY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(t,e){if(t){if(typeof t=="string")return Jx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jx(t,e)}}function PY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kY(t){if(Array.isArray(t))return Jx(t)}function Jx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}function yN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(r),!0).forEach(function(n){OY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OY(t,e,r){return e=CY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CY(t){var e=NY(t,"string");return cf(e)=="symbol"?e:e+""}function NY(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _N(t,e){if(t==null)return{};var r=RY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jY=function(e){return Array.isArray(e.value)?wY(e.value):e.value};function vs(t){var e=t.valueAccessor,r=e===void 0?jY:e,n=_N(t,EY),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,d=_N(n,SY);return!i||!i.length?null:X.createElement(Ut,{className:"recharts-label-list"},i.map(function(p,m){var v=it(a)?r(p,m):_n(p&&p.payload,a),x=it(u)?{}:{id:"".concat(u,"-").concat(m)};return X.createElement(br,Np({},Ye(p,!0),d,x,{parentViewBox:p.parentViewBox,value:v,textBreakAll:c,viewBox:br.parseViewBox(it(s)?p:vN(vN({},p),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}vs.displayName="LabelList";function MY(t,e){return t?t===!0?X.createElement(vs,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Je(t)?X.createElement(vs,{key:"labelList-implicit",data:e,content:t}):bu(t)?X.createElement(vs,Np({data:e},t,{key:"labelList-implicit"})):null:null}function DY(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ni(n,vs).map(function(s,u){return W.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=MY(t.label,e);return[a].concat(TY(i))}vs.renderCallByParent=DY;function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zx.apply(this,arguments)}function bN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(r),!0).forEach(function(n){LY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LY(t,e,r){return e=$Y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Y(t){var e=VY(t,"string");return ff(e)=="symbol"?e:e+""}function VY(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FY=function(e,r){var n=Ln(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},xh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,p=c*(u?1:-1)+i,m=Math.asin(c/p)/Cp,v=d?a:a+s*m,x=Tt(r,n,p,v),T=Tt(r,n,i,v),S=d?a-s*m:a,b=Tt(r,n,p*Math.cos(m*Cp),S);return{center:x,circleTangency:T,lineTangency:b,theta:m}},$L=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=FY(s,u),d=s+c,p=Tt(r,n,a,s),m=Tt(r,n,a,d),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=Tt(r,n,i,s),T=Tt(r,n,i,d);v+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},UY=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,m=Ln(p-d),v=xh({cx:r,cy:n,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),x=v.circleTangency,T=v.lineTangency,S=v.theta,b=xh({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:s,cornerIsExternal:c}),k=b.circleTangency,R=b.lineTangency,M=b.theta,V=c?Math.abs(d-p):Math.abs(d-p)-S-M;if(V<0)return u?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):$L({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var O="M ".concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var C=xh({cx:r,cy:n,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=C.circleTangency,P=C.lineTangency,N=C.theta,L=xh({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=L.circleTangency,F=L.lineTangency,D=L.theta,re=c?Math.abs(d-p):Math.abs(d-p)-N-D;if(re<0&&s===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(re>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},BY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wE=function(e){var r=xN(xN({},BY),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(s<a||p===m)return null;var x=ct("recharts-sector",v),T=s-a,S=tn(u,T,0,!0),b;return S>0&&Math.abs(p-m)<360?b=UY({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,T/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:p,endAngle:m}):b=$L({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:p,endAngle:m}),X.createElement("path",Zx({},Ye(r,!0),{className:x,d:b,role:"img"}))};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(this,arguments)}function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){qY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qY(t,e,r){return e=zY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zY(t){var e=WY(t,"string");return df(e)=="symbol"?e:e+""}function WY(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SN={curveBasisClosed:u8,curveBasisOpen:c8,curveBasis:l8,curveBumpX:G9,curveBumpY:X9,curveLinearClosed:f8,curveLinear:Tm,curveMonotoneX:d8,curveMonotoneY:h8,curveNatural:p8,curveStep:m8,curveStepAfter:y8,curveStepBefore:g8},wh=function(e){return e.x===+e.x&&e.y===+e.y},dc=function(e){return e.x},hc=function(e){return e.y},HY=function(e,r){if(Je(e))return e;var n="curve".concat(Em(e));return(n==="curveMonotone"||n==="curveBump")&&r?SN["".concat(n).concat(r==="vertical"?"Y":"X")]:SN[n]||Tm},KY=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,d=c===void 0?!1:c,p=HY(n,u),m=d?a.filter(function(S){return wh(S)}):a,v;if(Array.isArray(s)){var x=d?s.filter(function(S){return wh(S)}):s,T=m.map(function(S,b){return EN(EN({},S),{},{base:x[b]})});return u==="vertical"?v=hh().y(hc).x1(dc).x0(function(S){return S.base.x}):v=hh().x(dc).y1(hc).y0(function(S){return S.base.y}),v.defined(wh).curve(p),v(T)}return u==="vertical"&&we(s)?v=hh().y(hc).x1(dc).x0(s):we(s)?v=hh().x(dc).y1(hc).y0(s):v=BM().x(dc).y(hc),v.defined(wh).curve(p),v(m)},tw=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?KY(e):i;return W.createElement("path",ew({},Ye(e,!1),sp(e),{className:ct("recharts-curve",r),d:s,ref:a}))},db={exports:{}},hb,TN;function GY(){if(TN)return hb;TN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hb=t,hb}var pb,AN;function XY(){if(AN)return pb;AN=1;var t=GY();function e(){}function r(){}return r.resetWarningCache=e,pb=function(){function n(s,u,c,d,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},pb}var IN;function YY(){return IN||(IN=1,db.exports=XY()()),db.exports}var QY=YY();const ht=yt(QY);var JY=Object.getOwnPropertyNames,ZY=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty;function PN(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Eh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function kN(t){return JY(t).concat(ZY(t))}var tQ=Object.hasOwn||function(t,e){return eQ.call(t,e)};function js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var rQ="__v",nQ="__o",iQ="_owner",ON=Object.getOwnPropertyDescriptor,CN=Object.keys;function aQ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function oQ(t,e){return js(t.getTime(),e.getTime())}function sQ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lQ(t,e){return t===e}function NN(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var d=e.entries(),p=!1,m=0;(u=d.next())&&!u.done;){if(i[m]){m++;continue}var v=s.value,x=u.value;if(r.equals(v[0],x[0],c,m,t,e,r)&&r.equals(v[1],x[1],v[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;c++}return!0}var uQ=js;function cQ(t,e,r){var n=CN(t),i=n.length;if(CN(e).length!==i)return!1;for(;i-- >0;)if(!VL(t,e,r,n[i]))return!1;return!0}function pc(t,e,r){var n=kN(t),i=n.length;if(kN(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!VL(t,e,r,a)||(s=ON(t,a),u=ON(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function fQ(t,e){return js(t.valueOf(),e.valueOf())}function dQ(t,e){return t.source===e.source&&t.flags===e.flags}function RN(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),d=!1,p=0;(u=c.next())&&!u.done;){if(!i[p]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function hQ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function pQ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function VL(t,e,r,n){return(n===iQ||n===nQ||n===rQ)&&(t.$$typeof||e.$$typeof)?!0:tQ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var mQ="[object Arguments]",gQ="[object Boolean]",yQ="[object Date]",vQ="[object Error]",_Q="[object Map]",bQ="[object Number]",xQ="[object Object]",wQ="[object RegExp]",EQ="[object Set]",SQ="[object String]",TQ="[object URL]",AQ=Array.isArray,jN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,MN=Object.assign,IQ=Object.prototype.toString.call.bind(Object.prototype.toString);function PQ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(T,S,b){if(T===S)return!0;if(T==null||S==null)return!1;var k=typeof T;if(k!==typeof S)return!1;if(k!=="object")return k==="number"?s(T,S,b):k==="function"?i(T,S,b):!1;var R=T.constructor;if(R!==S.constructor)return!1;if(R===Object)return u(T,S,b);if(AQ(T))return e(T,S,b);if(jN!=null&&jN(T))return m(T,S,b);if(R===Date)return r(T,S,b);if(R===RegExp)return d(T,S,b);if(R===Map)return a(T,S,b);if(R===Set)return p(T,S,b);var M=IQ(T);return M===yQ?r(T,S,b):M===wQ?d(T,S,b):M===_Q?a(T,S,b):M===EQ?p(T,S,b):M===xQ?typeof T.then!="function"&&typeof S.then!="function"&&u(T,S,b):M===TQ?v(T,S,b):M===vQ?n(T,S,b):M===mQ?u(T,S,b):M===gQ||M===bQ||M===SQ?c(T,S,b):!1}}function kQ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?pc:aQ,areDatesEqual:oQ,areErrorsEqual:sQ,areFunctionsEqual:lQ,areMapsEqual:n?PN(NN,pc):NN,areNumbersEqual:uQ,areObjectsEqual:n?pc:cQ,arePrimitiveWrappersEqual:fQ,areRegExpsEqual:dQ,areSetsEqual:n?PN(RN,pc):RN,areTypedArraysEqual:n?pc:hQ,areUrlsEqual:pQ};if(r&&(i=MN({},i,r(i))),e){var a=Eh(i.areArraysEqual),s=Eh(i.areMapsEqual),u=Eh(i.areObjectsEqual),c=Eh(i.areSetsEqual);i=MN({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function OQ(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function CQ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,d){var p=n(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(c,d,{cache:v,equals:i,meta:x,strict:a})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,d){return r(c,d,s)}}var NQ=Ao();Ao({strict:!0});Ao({circular:!0});Ao({circular:!0,strict:!0});Ao({createInternalComparator:function(){return js}});Ao({strict:!0,createInternalComparator:function(){return js}});Ao({circular:!0,createInternalComparator:function(){return js}});Ao({circular:!0,createInternalComparator:function(){return js},strict:!0});function Ao(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=kQ(t),c=PQ(u),d=n?n(c):OQ(c);return CQ({circular:r,comparator:c,createState:i,equals:d,strict:s})}function RQ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):RQ(i)};requestAnimationFrame(n)}function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function jQ(t){return $Q(t)||LQ(t)||DQ(t)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(t,e){if(t){if(typeof t=="string")return LN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(t,e)}}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Q(t){if(Array.isArray(t))return t}function VQ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=jQ(s),c=u[0],d=u.slice(1);if(typeof c=="number"){DN(i.bind(null,d),c);return}i(c),DN(i.bind(null,d));return}rw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function $N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(r),!0).forEach(function(n){FL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FL(t,e,r){return e=FQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FQ(t){var e=UQ(t,"string");return hf(e)==="symbol"?e:String(e)}function UQ(t,e){if(hf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BQ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},qQ=function(e){return e},zQ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nc=function(e,r){return Object.keys(r).reduce(function(n,i){return VN(VN({},n),{},FL({},i,e(i,r[i])))},{})},FN=function(e,r,n){return e.map(function(i){return"".concat(zQ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function WQ(t,e){return GQ(t)||KQ(t,e)||UL(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function GQ(t){if(Array.isArray(t))return t}function XQ(t){return JQ(t)||QQ(t)||UL(t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UL(t,e){if(t){if(typeof t=="string")return nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(t,e)}}function QQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JQ(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rp=1e-4,BL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},qL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},UN=function(e,r){return function(n){var i=BL(e,r);return qL(i,n)}},ZQ=function(e,r){return function(n){var i=BL(e,r),a=[].concat(XQ(i.map(function(s,u){return s*u}).slice(1)),[0]);return qL(a,n)}},BN=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=WQ(d,4);i=p[0],a=p[1],s=p[2],u=p[3]}}}var m=UN(i,s),v=UN(a,u),x=ZQ(i,s),T=function(k){return k>1?1:k<0?0:k},S=function(k){for(var R=k>1?1:k,M=R,V=0;V<8;++V){var O=m(M)-R,C=x(M);if(Math.abs(O-R)<Rp||C<Rp)return v(M);M=T(M-O/C)}return v(M)};return S.isStepper=!1,S},eJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(p,m,v){var x=-(p-m)*n,T=v*a,S=v+(x-T)*u/1e3,b=v*u/1e3+p;return Math.abs(b-m)<Rp&&Math.abs(S)<Rp?[m,0]:[b,S]};return c.isStepper=!0,c.dt=u,c},tJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BN(i);case"spring":return eJ();default:if(i.split("(")[0]==="cubic-bezier")return BN(i)}return typeof i=="function"?i:null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function qN(t){return iJ(t)||nJ(t)||zL(t)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iJ(t){if(Array.isArray(t))return aw(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){iw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iw(t,e,r){return e=aJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aJ(t){var e=oJ(t,"string");return pf(e)==="symbol"?e:String(e)}function oJ(t,e){if(pf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sJ(t,e){return cJ(t)||uJ(t,e)||zL(t,e)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(t,e){if(t){if(typeof t=="string")return aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aw(t,e)}}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function cJ(t){if(Array.isArray(t))return t}var jp=function(e,r,n){return e+(r-e)*n},ow=function(e){var r=e.from,n=e.to;return r!==n},fJ=function t(e,r,n){var i=Nc(function(a,s){if(ow(s)){var u=e(s.from,s.to,s.velocity),c=sJ(u,2),d=c[0],p=c[1];return vr(vr({},s),{},{from:d,velocity:p})}return s},r);return n<1?Nc(function(a,s){return ow(s)?vr(vr({},s),{},{velocity:jp(s.velocity,i[a].velocity,n),from:jp(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const dJ=function(t,e,r,n,i){var a=BQ(t,e),s=a.reduce(function(b,k){return vr(vr({},b),{},iw({},k,[t[k],e[k]]))},{}),u=a.reduce(function(b,k){return vr(vr({},b),{},iw({},k,{from:t[k],velocity:0,to:e[k]}))},{}),c=-1,d,p,m=function(){return null},v=function(){return Nc(function(k,R){return R.from},u)},x=function(){return!Object.values(u).filter(ow).length},T=function(k){d||(d=k);var R=k-d,M=R/r.dt;u=fJ(r,u,M),i(vr(vr(vr({},t),e),v())),d=k,x()||(c=requestAnimationFrame(m))},S=function(k){p||(p=k);var R=(k-p)/n,M=Nc(function(O,C){return jp.apply(void 0,qN(C).concat([r(R)]))},s);if(i(vr(vr(vr({},t),e),M)),R<1)c=requestAnimationFrame(m);else{var V=Nc(function(O,C){return jp.apply(void 0,qN(C).concat([r(1)]))},s);i(vr(vr(vr({},t),e),V))}};return m=r.isStepper?T:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var hJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pJ(t,e){if(t==null)return{};var r=mJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mb(t){return _J(t)||vJ(t)||yJ(t)||gJ()}function gJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return sw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(t,e)}}function vJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _J(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){Sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sc(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function wJ(t,e,r){return e&&xJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WL(t){var e=EJ(t,"string");return nu(e)==="symbol"?e:String(e)}function EJ(t,e){if(nu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lw(t,e)}function TJ(t){var e=AJ();return function(){var n=Mp(t),i;if(e){var a=Mp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return uw(this,i)}}function uw(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cw(t)}function cw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AJ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}var vo=function(t){SJ(r,t);var e=TJ(r);function r(n,i){var a;bJ(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,d=s.from,p=s.to,m=s.steps,v=s.children,x=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(cw(a)),a.changeStyle=a.changeStyle.bind(cw(a)),!u||x<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:p}),uw(a);if(m&&m.length)a.state={style:m[0].style};else if(d){if(typeof v=="function")return a.state={style:d},uw(a);a.state={style:c?Sc({},c,d):d}}else a.state={style:{}};return a}return wJ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,p=a.to,m=a.from,v=this.state.style;if(u){if(!s){var x={style:c?Sc({},c,p):p};this.state&&v&&(c&&v[c]!==p||!c&&v!==p)&&this.setState(x);return}if(!(NQ(i.to,p)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||d?m:i.to;if(this.state&&v){var b={style:c?Sc({},c,S):S};(c&&v[c]!==S||!c&&v!==S)&&this.setState(b)}this.runAnimation(ii(ii({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,d=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,x=dJ(s,u,tJ(d),c,this.changeStyle),T=function(){a.stopJSAnimation=x()};this.manager.start([v,p,T,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,d=s[0],p=d.style,m=d.duration,v=m===void 0?0:m,x=function(S,b,k){if(k===0)return S;var R=b.duration,M=b.easing,V=M===void 0?"ease":M,O=b.style,C=b.properties,A=b.onAnimationEnd,P=k>0?s[k-1]:b,N=C||Object.keys(O);if(typeof V=="function"||V==="spring")return[].concat(mb(S),[a.runJSAnimation.bind(a,{from:P.style,to:O,duration:R,easing:V}),R]);var L=FN(N,R,V),$=ii(ii(ii({},P.style),O),{},{transition:L});return[].concat(mb(S),[$,R,A]).filter(qQ)};return this.manager.start([c].concat(mb(s.reduce(x,[p,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=VQ());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,d=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,x=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=u?Sc({},u,c):c,b=FN(Object.keys(S),s,d);T.start([p,a,ii(ii({},S),{},{transition:b}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=pJ(i,hJ),d=W.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||d===0||s<=0)return a;var m=function(x){var T=x.props,S=T.style,b=S===void 0?{}:S,k=T.className,R=W.cloneElement(x,ii(ii({},c),{},{style:ii(ii({},b),p),className:k}));return R};return d===1?m(W.Children.only(a)):X.createElement("div",null,W.Children.map(a,function(v){return m(v)}))}}]),r}(W.PureComponent);vo.displayName="Animate";vo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vo.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dp.apply(this,arguments)}function IJ(t,e){return CJ(t)||OJ(t,e)||kJ(t,e)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return HN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function CJ(t){if(Array.isArray(t))return t}function KN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(r),!0).forEach(function(n){NJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NJ(t,e,r){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RJ(t){var e=jJ(t,"string");return mf(e)=="symbol"?e:e+""}function jJ(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XN=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,p;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=a[v]>s?s:a[v];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),p+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),p+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-u*m[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var T=Math.min(s,a);p="M ".concat(e,",").concat(r+u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+c*T,",").concat(r,`
            L `).concat(e+n-c*T,",").concat(r,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+n,",").concat(r+u*T,`
            L `).concat(e+n,",").concat(r+i-u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+n-c*T,",").concat(r+i,`
            L `).concat(e+c*T,",").concat(r+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e,",").concat(r+i-u*T," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},MJ=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var d=Math.min(a,a+u),p=Math.max(a,a+u),m=Math.min(s,s+c),v=Math.max(s,s+c);return n>=d&&n<=p&&i>=m&&i<=v}return!1},DJ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EE=function(e){var r=GN(GN({},DJ),e),n=W.useRef(),i=W.useState(-1),a=IJ(i,2),s=a[0],u=a[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&u(V)}catch{}},[]);var c=r.x,d=r.y,p=r.width,m=r.height,v=r.radius,x=r.className,T=r.animationEasing,S=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,R=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||p===0||m===0)return null;var M=ct("recharts-rectangle",x);return R?X.createElement(vo,{canBegin:s>0,from:{width:p,height:m,x:c,y:d},to:{width:p,height:m,x:c,y:d},duration:S,animationEasing:T,isActive:R},function(V){var O=V.width,C=V.height,A=V.x,P=V.y;return X.createElement(vo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,isActive:k,easing:T},X.createElement("path",Dp({},Ye(r,!0),{className:M,d:XN(A,P,O,C,v),ref:n})))}):X.createElement("path",Dp({},Ye(r,!0),{className:M,d:XN(c,d,p,m,v)}))},LJ=["points","className","baseLinePoints","connectNulls"];function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pl.apply(this,arguments)}function $J(t,e){if(t==null)return{};var r=VJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YN(t){return qJ(t)||BJ(t)||UJ(t)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(t,e){if(t){if(typeof t=="string")return fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(t,e)}}function BJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qJ(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QN=function(e){return e&&e.x===+e.x&&e.y===+e.y},zJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){QN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),QN(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rc=function(e,r){var n=zJ(e);r&&(n=[n.reduce(function(a,s){return[].concat(YN(a),YN(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},WJ=function(e,r,n){var i=Rc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Rc(r.reverse(),n).slice(1))},HJ=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=$J(e,LJ);if(!r||!r.length)return null;var u=ct("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",d=WJ(r,i,a);return X.createElement("g",{className:u},X.createElement("path",Pl({},Ye(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",stroke:"none",d})),c?X.createElement("path",Pl({},Ye(s,!0),{fill:"none",d:Rc(r,a)})):null,c?X.createElement("path",Pl({},Ye(s,!0),{fill:"none",d:Rc(i,a)})):null)}var p=Rc(r,a);return X.createElement("path",Pl({},Ye(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:u,d:p}))};function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}var SE=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=ct("recharts-dot",a);return r===+r&&n===+n&&i===+i?W.createElement("circle",dw({},Ye(e,!1),sp(e),{className:s,cx:r,cy:n,r:i})):null};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var KJ=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function JN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(r),!0).forEach(function(n){XJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XJ(t,e,r){return e=YJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YJ(t){var e=QJ(t,"string");return gf(e)=="symbol"?e:e+""}function QJ(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JJ(t,e){if(t==null)return{};var r=ZJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eZ=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},tZ=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,d=c===void 0?0:c,p=e.width,m=p===void 0?0:p,v=e.height,x=v===void 0?0:v,T=e.className,S=JJ(e,KJ),b=GJ({x:n,y:a,top:u,left:d,width:m,height:x},S);return!we(n)||!we(a)||!we(m)||!we(x)||!we(u)||!we(d)?null:X.createElement("path",hw({},Ye(b,!0),{className:ct("recharts-cross",T),d:eZ(n,a,m,x,u,d)}))},gb,ZN;function rZ(){if(ZN)return gb;ZN=1;var t=Lm(),e=dL(),r=Ui();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return gb=n,gb}var nZ=rZ();const iZ=yt(nZ);var yb,eR;function aZ(){if(eR)return yb;eR=1;var t=Lm(),e=Ui(),r=hL();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return yb=n,yb}var oZ=aZ();const sZ=yt(oZ);var lZ=["cx","cy","angle","ticks","axisLine"],uZ=["ticks","tick","angle","tickFormatter","stroke"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jc.apply(this,arguments)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){Bm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rR(t,e){if(t==null)return{};var r=cZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function dZ(t,e,r){return e&&nR(t.prototype,e),r&&nR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hZ(t,e,r){return e=Lp(e),pZ(t,HL()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function pZ(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZ(t)}function mZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function gZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pw(t,e)}function pw(t,e){return pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pw(t,e)}function Bm(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KL(t){var e=yZ(t,"string");return iu(e)=="symbol"?e:e+""}function yZ(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qm=function(t){function e(){return fZ(this,e),hZ(this,e,arguments)}return gZ(e,t),dZ(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Tt(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=iZ(u,function(p){return p.coordinate||0}),d=sZ(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,d=rR(n,lZ),p=u.reduce(function(T,S){return[Math.min(T[0],S.coordinate),Math.max(T[1],S.coordinate)]},[1/0,-1/0]),m=Tt(i,a,p[0],s),v=Tt(i,a,p[1],s),x=ts(ts(ts({},Ye(d,!1)),{},{fill:"none"},Ye(c,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return X.createElement("line",jc({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,d=i.stroke,p=rR(i,uZ),m=this.getTickTextAnchor(),v=Ye(p,!1),x=Ye(s,!1),T=a.map(function(S,b){var k=n.getTickValueCoord(S),R=ts(ts(ts(ts({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},v),{},{stroke:"none",fill:d},x),{},{index:b},k),{},{payload:S});return X.createElement(Ut,jc({className:ct("recharts-polar-radius-axis-tick",DL(s)),key:"tick-".concat(S.coordinate)},wm(n.props,S,b)),e.renderTickItem(s,R,c?c(S.value,b):S.value))});return X.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:X.createElement(Ut,{className:ct("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):Je(n)?s=n(i):s=X.createElement(Ql,jc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(W.PureComponent);Bm(qm,"displayName","PolarRadiusAxis");Bm(qm,"axisType","radiusAxis");Bm(qm,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},os.apply(this,arguments)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){zm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function _Z(t,e,r){return e&&aR(t.prototype,e),r&&aR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bZ(t,e,r){return e=$p(e),xZ(t,GL()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function xZ(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wZ(t)}function wZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function EZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mw(t,e)}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mw(t,e)}function zm(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=SZ(t,"string");return au(e)=="symbol"?e:e+""}function SZ(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TZ=Math.PI/180,oR=1e-5,Wm=function(t){function e(){return vZ(this,e),bZ(this,e,arguments)}return EZ(e,t),_Z(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,d=i.tickSize,p=d||8,m=Tt(a,s,u,n.coordinate),v=Tt(a,s,u+(c==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*TZ),s;return a>oR?s=i==="outer"?"start":"end":a<-oR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,d=rs(rs({},Ye(this.props,!1)),{},{fill:"none"},Ye(u,!1));if(c==="circle")return X.createElement(SE,os({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:s}));var p=this.props.ticks,m=p.map(function(v){return Tt(i,a,s,v.coordinate)});return X.createElement(HJ,os({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,d=i.stroke,p=Ye(this.props,!1),m=Ye(s,!1),v=rs(rs({},p),{},{fill:"none"},Ye(u,!1)),x=a.map(function(T,S){var b=n.getTickLineCoord(T),k=n.getTickTextAnchor(T),R=rs(rs(rs({textAnchor:k},p),{},{stroke:"none",fill:d},m),{},{index:S,payload:T,x:b.x2,y:b.y2});return X.createElement(Ut,os({className:ct("recharts-polar-angle-axis-tick",DL(s)),key:"tick-".concat(T.coordinate)},wm(n.props,T,S)),u&&X.createElement("line",os({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,R,c?c(T.value,S):T.value))});return X.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:X.createElement(Ut,{className:ct("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return X.isValidElement(n)?s=X.cloneElement(n,i):Je(n)?s=n(i):s=X.createElement(Ql,os({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(W.PureComponent);zm(Wm,"displayName","PolarAngleAxis");zm(Wm,"axisType","angleAxis");zm(Wm,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vb,sR;function AZ(){if(sR)return vb;sR=1;var t=fD(),e=t(Object.getPrototypeOf,Object);return vb=e,vb}var _b,lR;function IZ(){if(lR)return _b;lR=1;var t=Sa(),e=AZ(),r=Ta(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function d(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return _b=d,_b}var PZ=IZ();const kZ=yt(PZ);var bb,uR;function OZ(){if(uR)return bb;uR=1;var t=Sa(),e=Ta(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return bb=n,bb}var CZ=OZ();const NZ=yt(CZ);function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vp.apply(this,arguments)}function RZ(t,e){return LZ(t)||DZ(t,e)||MZ(t,e)||jZ()}function jZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return cR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function LZ(t){if(Array.isArray(t))return t}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){$Z(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Z(t,e,r){return e=VZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VZ(t){var e=FZ(t,"string");return yf(e)=="symbol"?e:e+""}function FZ(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hR=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},UZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BZ=function(e){var r=dR(dR({},UZ),e),n=W.useRef(),i=W.useState(-1),a=RZ(i,2),s=a[0],u=a[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&u(M)}catch{}},[]);var c=r.x,d=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,x=r.className,T=r.animationEasing,S=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var R=ct("recharts-trapezoid",x);return k?X.createElement(vo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:d},to:{upperWidth:p,lowerWidth:m,height:v,x:c,y:d},duration:S,animationEasing:T,isActive:k},function(M){var V=M.upperWidth,O=M.lowerWidth,C=M.height,A=M.x,P=M.y;return X.createElement(vo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:S,easing:T},X.createElement("path",Vp({},Ye(r,!0),{className:R,d:hR(A,P,V,O,C),ref:n})))}):X.createElement("g",null,X.createElement("path",Vp({},Ye(r,!0),{className:R,d:hR(c,d,p,m,v)})))},qZ=["option","shapeType","propTransformer","activeClassName","isActive"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function zZ(t,e){if(t==null)return{};var r=WZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){HZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HZ(t,e,r){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KZ(t){var e=GZ(t,"string");return vf(e)=="symbol"?e:e+""}function GZ(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XZ(t,e){return Fp(Fp({},e),t)}function YZ(t,e){return t==="symbols"}function mR(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(EE,r);case"trapezoid":return X.createElement(BZ,r);case"sector":return X.createElement(wE,r);case"symbols":if(YZ(e))return X.createElement($1,r);break;default:return null}}function QZ(t){return W.isValidElement(t)?t.props:t}function JZ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?XZ:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=zZ(t,qZ),d;if(W.isValidElement(e))d=W.cloneElement(e,Fp(Fp({},c),QZ(e)));else if(Je(e))d=e(c);else if(kZ(e)&&!NZ(e)){var p=i(e,c);d=X.createElement(mR,{shapeType:r,elementProps:p})}else{var m=c;d=X.createElement(mR,{shapeType:r,elementProps:m})}return u?X.createElement(Ut,{className:s},d):d}function Hm(t,e){return e!=null&&"trapezoids"in t.props}function Km(t,e){return e!=null&&"sectors"in t.props}function _f(t,e){return e!=null&&"points"in t.props}function ZZ(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function eee(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function tee(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function ree(t,e){var r;return Hm(t,e)?r=ZZ:Km(t,e)?r=eee:_f(t,e)&&(r=tee),r}function nee(t,e){var r;return Hm(t,e)?r="trapezoids":Km(t,e)?r="sectors":_f(t,e)&&(r="points"),r}function iee(t,e){if(Hm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Km(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return _f(t,e)?e.payload:{}}function aee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=nee(r,e),a=iee(r,e),s=n.filter(function(c,d){var p=yE(a,c),m=r.props[i].filter(function(T){var S=ree(r,e);return S(T,e)}),v=r.props[i].indexOf(m[m.length-1]),x=d===v;return p&&x}),u=n.indexOf(s[s.length-1]);return u}var $h;function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kl.apply(this,arguments)}function gR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(r),!0).forEach(function(n){Dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function see(t,e,r){return e&&yR(t.prototype,e),r&&yR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lee(t,e,r){return e=Up(e),uee(t,YL()?Reflect.construct(e,r||[],Up(t).constructor):e.apply(t,r))}function uee(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cee(t)}function cee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(t)}function fee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function Dn(t,e,r){return e=QL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QL(t){var e=dee(t,"string");return ou(e)=="symbol"?e:e+""}function dee(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ia=function(t){function e(r){var n;return oee(this,e),n=lee(this,e,[r]),Dn(n,"pieRef",null),Dn(n,"sectorRefs",[]),Dn(n,"id",xm("recharts-pie-")),Dn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Je(i)&&i()}),Dn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Je(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return fee(e,t),see(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,d=a.valueKey,p=Ye(this.props,!1),m=Ye(s,!1),v=Ye(u,!1),x=s&&s.offsetRadius||20,T=n.map(function(S,b){var k=(S.startAngle+S.endAngle)/2,R=Tt(S.cx,S.cy,S.outerRadius+x,k),M=Et(Et(Et(Et({},p),S),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(R.x,S.cx)},R),V=Et(Et(Et(Et({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:b,points:[Tt(S.cx,S.cy,S.outerRadius,k),R]}),O=c;return it(c)&&it(d)?O="value":it(c)&&(O=d),X.createElement(Ut,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,V,"line"),e.renderLabelItem(s,M,_n(S,O)))});return X.createElement(Ut,{className:"recharts-pie-labels"},T)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(d,p){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(p),v=c&&i.hasActiveIndex()?c:null,x=m?s:v,T=Et(Et({},d),{},{stroke:u?d.fill:d.stroke,tabIndex:-1});return X.createElement(Ut,kl({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},wm(i.props,d,p),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(p)}),X.createElement(JZ,kl({option:x,isActive:m,shapeType:"sector"},T)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,x=m.prevIsAnimationActive;return X.createElement(vo,{begin:u,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(T){var S=T.t,b=[],k=a&&a[0],R=k.startAngle;return a.forEach(function(M,V){var O=v&&v[V],C=V>0?si(M,"paddingAngle",0):0;if(O){var A=xP(O.endAngle-O.startAngle,M.endAngle-M.startAngle),P=Et(Et({},M),{},{startAngle:R+C,endAngle:R+A(S)+C});b.push(P),R=P.endAngle}else{var N=M.endAngle,L=M.startAngle,$=xP(0,N-L),F=$(S),D=Et(Et({},M),{},{startAngle:R+C,endAngle:R+F+C});b.push(D),R=D.endAngle}}),X.createElement(Ut,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!yE(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,d=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,x=i.isAnimationActive,T=this.state.isAnimationFinished;if(a||!s||!s.length||!we(d)||!we(p)||!we(m)||!we(v))return null;var S=ct("recharts-pie",u);return X.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:S,ref:function(k){n.pieRef=k}},this.renderSectors(),c&&this.renderLabels(s),br.renderCallByParent(this.props,null,!1),(!x||T)&&vs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(X.isValidElement(n))return X.cloneElement(n,i);if(Je(n))return n(i);var s=ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(tw,kl({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(X.isValidElement(n))return X.cloneElement(n,i);var s=a;if(Je(n)&&(s=n(i),X.isValidElement(s)))return s;var u=ct("recharts-pie-label-text",typeof n!="boolean"&&!Je(n)?n.className:"");return X.createElement(Ql,kl({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(W.PureComponent);$h=Ia;Dn(Ia,"displayName","Pie");Dn(Ia,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Om.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Dn(Ia,"parseDeltaAngle",function(t,e){var r=Ln(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Dn(Ia,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),i=Ni(r,G1);return e&&e.length?e.map(function(a,s){return Et(Et(Et({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Et(Et({},n),a.props)}):[]});Dn(Ia,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=ML(i,a),u=n+tn(t.cx,i,i/2),c=r+tn(t.cy,a,a/2),d=tn(t.innerRadius,s,0),p=tn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:d,outerRadius:p,maxRadius:m}});Dn(Ia,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=$h.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,d=n.dataKey,p=n.nameKey,m=n.valueKey,v=n.tooltipType,x=Math.abs(n.minAngle),T=$h.parseCoordinateOfPie(n,r),S=$h.parseDeltaAngle(s,u),b=Math.abs(S),k=d;it(d)&&it(m)?(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):it(d)&&(ma(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=m);var R=i.filter(function(P){return _n(P,k,0)!==0}).length,M=(b>=360?R:R-1)*c,V=b-R*x-M,O=i.reduce(function(P,N){var L=_n(N,k,0);return P+(we(L)?L:0)},0),C;if(O>0){var A;C=i.map(function(P,N){var L=_n(P,k,0),$=_n(P,p,N),F=(we(L)?L:0)/O,D;N?D=A.endAngle+Ln(S)*c*(L!==0?1:0):D=s;var re=D+Ln(S)*((L!==0?x:0)+F*V),ne=(D+re)/2,se=(T.innerRadius+T.outerRadius)/2,oe=[{name:$,value:L,payload:P,dataKey:k,type:v}],Z=Tt(T.cx,T.cy,se,ne);return A=Et(Et(Et({percent:F,cornerRadius:a,name:$,tooltipPayload:oe,midAngle:ne,middleRadius:se,tooltipPosition:Z},P),T),{},{value:_n(P,k),startAngle:D,endAngle:re,payload:P,paddingAngle:Ln(S)*c}),A})}return Et(Et({},T),{},{sectors:C,data:i})});var xb,vR;function hee(){if(vR)return xb;vR=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[s?c:++u]=n,n+=a;return d}return xb=r,xb}var wb,_R;function JL(){if(_R)return wb;_R=1;var t=ID(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return wb=n,wb}var Eb,bR;function pee(){if(bR)return Eb;bR=1;var t=hee(),e=km(),r=JL();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return Eb=n,Eb}var Sb,xR;function mee(){if(xR)return Sb;xR=1;var t=pee(),e=t();return Sb=e,Sb}var gee=mee();const Bp=yt(gee);function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){ZL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZL(t,e,r){return e=yee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yee(t){var e=vee(t,"string");return bf(e)=="symbol"?e:e+""}function vee(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ee=["Webkit","Moz","O","ms"],bee=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=_ee.reduce(function(a,s){return ER(ER({},a),{},ZL({},s+n,r))},{});return i[e]=r,i};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qp.apply(this,arguments)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){yn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t4(n.key),n)}}function wee(t,e,r){return e&&TR(t.prototype,e),r&&TR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eee(t,e,r){return e=zp(e),See(t,e4()?Reflect.construct(e,r||[],zp(t).constructor):e.apply(t,r))}function See(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(t)}function Tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e4=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(t)}function Aee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function yn(t,e,r){return e=t4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t4(t){var e=Iee(t,"string");return su(e)=="symbol"?e:e+""}function Iee(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pee=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Oc().domain(Bp(0,c)).range([a,a+s-u]),p=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:p}},AR=function(e){return e.changedTouches&&!!e.changedTouches.length},lu=function(t){function e(r){var n;return xee(this,e),n=Eee(this,e,[r]),yn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),yn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),yn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),yn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),yn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),yn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),yn(n,"handleSlideDragStart",function(i){var a=AR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Aee(e,t),wee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,d=u.data,p=d.length-1,m=Math.min(i,a),v=Math.max(i,a),x=e.getIndexInRange(s,m),T=e.getIndexInRange(s,v);return{startIndex:x-x%c,endIndex:T===p?p:T-T%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=_n(a[n],u,n);return Je(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,d=c.x,p=c.width,m=c.travellerWidth,v=c.startIndex,x=c.endIndex,T=c.onChange,S=n.pageX-a;S>0?S=Math.min(S,d+p-m-u,d+p-m-s):S<0&&(S=Math.max(S,d-s,d-u));var b=this.getIndex({startX:s+S,endX:u+S});(b.startIndex!==v||b.endIndex!==x)&&T&&T(b),this.setState({startX:s+S,endX:u+S,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=AR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,d=this.state[s],p=this.props,m=p.x,v=p.width,x=p.travellerWidth,T=p.onChange,S=p.gap,b=p.data,k={startX:this.state.startX,endX:this.state.endX},R=n.pageX-a;R>0?R=Math.min(R,m+v-x-d):R<0&&(R=Math.max(R,m-d)),k[s]=d+R;var M=this.getIndex(k),V=M.startIndex,O=M.endIndex,C=function(){var P=b.length-1;return s==="startX"&&(u>c?V%S===0:O%S===0)||u<c&&O===P||s==="endX"&&(u>c?O%S===0:V%S===0)||u>c&&O===P};this.setState(yn(yn({},s,d+R),"brushMoveStartX",n.pageX),function(){T&&C()&&T(M)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,d=s.endX,p=this.state[i],m=u.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var x=u[v];i==="startX"&&x>=d||i==="endX"&&x<=c||this.setState(yn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,d=n.stroke;return X.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,d=n.children,p=n.padding,m=W.Children.only(d);return m?X.cloneElement(m,{x:i,y:a,width:s,height:u,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,d=c.y,p=c.travellerWidth,m=c.height,v=c.traveller,x=c.ariaLabel,T=c.data,S=c.startIndex,b=c.endIndex,k=Math.max(n,this.props.x),R=Tb(Tb({},Ye(this.props,!1)),{},{x:k,y:d,width:p,height:m}),M=x||"Min value: ".concat((a=T[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=T[b])===null||s===void 0?void 0:s.name);return X.createElement(Ut,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,R))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,d=a.travellerWidth,p=Math.min(n,i)+d,m=Math.max(Math.abs(i-n)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:s,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,d=n.stroke,p=this.state,m=p.startX,v=p.endX,x=5,T={pointerEvents:"none",fill:d};return X.createElement(Ut,{className:"recharts-brush-texts"},X.createElement(Ql,qp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:s+u/2},T),this.getTextOfTick(i)),X.createElement(Ql,qp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+x,y:s+u/2},T),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,d=n.width,p=n.height,m=n.alwaysShowText,v=this.state,x=v.startX,T=v.endX,S=v.isTextActive,b=v.isSlideMoving,k=v.isTravellerMoving,R=v.isTravellerFocused;if(!i||!i.length||!we(u)||!we(c)||!we(d)||!we(p)||d<=0||p<=0)return null;var M=ct("recharts-brush",a),V=X.Children.count(s)===1,O=bee("userSelect","none");return X.createElement(Ut,{className:M,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(x,T),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(T,"endX"),(S||b||k||R||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,d=Math.floor(a+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),X.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return X.isValidElement(n)?a=X.cloneElement(n,i):Je(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,d=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Tb({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:s},a&&a.length?Pee({data:a,width:s,x:u,travellerWidth:c,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(W.PureComponent);yn(lu,"displayName","Brush");yn(lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ab,IR;function kee(){if(IR)return Ab;IR=1;var t=W1();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return Ab=e,Ab}var Ib,PR;function Oee(){if(PR)return Ib;PR=1;var t=iD(),e=Ui(),r=kee(),n=nn(),i=km();function a(s,u,c){var d=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),d(s,e(u,3))}return Ib=a,Ib}var Cee=Oee();const Nee=yt(Cee);var ji=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Pb,kR;function Ree(){if(kR)return Pb;kR=1;var t=wD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Pb=e,Pb}var kb,OR;function jee(){if(OR)return kb;OR=1;var t=Ree(),e=bD(),r=Ui();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,d){t(s,c,a(u,c,d))}),s}return kb=n,kb}var Mee=jee();const Dee=yt(Mee);var Ob,CR;function Lee(){if(CR)return Ob;CR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ob=t,Ob}var Cb,NR;function $ee(){if(NR)return Cb;NR=1;var t=W1();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return Cb=e,Cb}var Nb,RR;function Vee(){if(RR)return Nb;RR=1;var t=Lee(),e=$ee(),r=Ui(),n=nn(),i=km();function a(s,u,c){var d=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),d(s,r(u,3))}return Nb=a,Nb}var Fee=Vee();const Uee=yt(Fee);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Bee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function qee(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){TE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TE(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=zee(t,"string");return xf(e)=="symbol"?e:e+""}function zee(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Wee=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return n4({x:r,y:n},{x:i,y:a})},i4=function(){function t(e){Bee(this,t),this.scale=e}return qee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();TE(i4,"EPS",1e-4);var AE=function(e){var r=Object.keys(e).reduce(function(n,i){return Sh(Sh({},n),{},TE({},i,i4.create(e[i])))},{});return Sh(Sh({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return Dee(i,function(c,d){return r[d].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return Uee(i,function(a,s){return r[s].isInRange(a)})}})},Rb,DR;function Hee(){if(DR)return Rb;DR=1;var t=Ui(),e=qf(),r=Im();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var d=t(s,3);a=r(a),s=function(m){return d(c[m],m,c)}}var p=i(a,s,u);return p>-1?c[d?a[p]:p]:void 0}}return Rb=n,Rb}var jb,LR;function Kee(){if(LR)return jb;LR=1;var t=JL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return jb=e,jb}var Mb,$R;function Gee(){if($R)return Mb;$R=1;var t=mD(),e=Ui(),r=Kee(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var d=u==null?0:r(u);return d<0&&(d=n(c+d,0)),t(a,e(s,3),d)}return Mb=i,Mb}var Db,VR;function Xee(){if(VR)return Db;VR=1;var t=Hee(),e=Gee(),r=t(e);return Db=r,Db}Xee();var Yee=CM();const Qee=yt(Yee);var Jee=Qee(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),a4=W.createContext(void 0),o4=W.createContext(void 0),s4=W.createContext(void 0),Zee=W.createContext({}),l4=W.createContext(void 0),ete=W.createContext(0),tte=W.createContext(0),FR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,d=e.height,p=Jee(a);return X.createElement(a4.Provider,{value:n},X.createElement(o4.Provider,{value:i},X.createElement(Zee.Provider,{value:a},X.createElement(s4.Provider,{value:p},X.createElement(l4.Provider,{value:s},X.createElement(ete.Provider,{value:d},X.createElement(tte.Provider,{value:c},u)))))))},rte=function(){return W.useContext(l4)},nte=function(e){var r=W.useContext(a4);r==null&&tu();var n=r[e];return n==null&&tu(),n},ite=function(e){var r=W.useContext(o4);r==null&&tu();var n=r[e];return n==null&&tu(),n},ate=function(){var e=W.useContext(s4);return e};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ste(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c4(n.key),n)}}function lte(t,e,r){return e&&ste(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ute(t,e,r){return e=Wp(e),cte(t,u4()?Reflect.construct(e,r||[],Wp(t).constructor):e.apply(t,r))}function cte(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fte(t)}function fte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}function dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vw(t,e)}function UR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(r),!0).forEach(function(n){IE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IE(t,e,r){return e=c4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4(t){var e=hte(t,"string");return uu(e)=="symbol"?e:e+""}function hte(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pte(t,e){return vte(t)||yte(t,e)||gte(t,e)||mte()}function mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t,e){if(t){if(typeof t=="string")return qR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function vte(t){if(Array.isArray(t))return t}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}var _te=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Je(e)?n=e(r):n=X.createElement("line",_w({},r,{className:"recharts-reference-line-line"})),n},bte=function(e,r,n,i,a,s,u,c,d){var p=a.x,m=a.y,v=a.width,x=a.height;if(n){var T=d.y,S=e.y.apply(T,{position:s});if(ji(d,"discard")&&!e.y.isInRange(S))return null;var b=[{x:p+v,y:S},{x:p,y:S}];return c==="left"?b.reverse():b}if(r){var k=d.x,R=e.x.apply(k,{position:s});if(ji(d,"discard")&&!e.x.isInRange(R))return null;var M=[{x:R,y:m+x},{x:R,y:m}];return u==="top"?M.reverse():M}if(i){var V=d.segment,O=V.map(function(C){return e.apply(C,{position:s})});return ji(d,"discard")&&Nee(O,function(C){return!e.isInRange(C)})?null:O}return null};function xte(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,d=rte(),p=nte(i),m=ite(a),v=ate();if(!d||!v)return null;ma(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=AE({x:p.scale,y:m.scale}),T=rr(e),S=rr(r),b=n&&n.length===2,k=bte(x,T,S,b,v,t.position,p.orientation,m.orientation,t);if(!k)return null;var R=pte(k,2),M=R[0],V=M.x,O=M.y,C=R[1],A=C.x,P=C.y,N=ji(t,"hidden")?"url(#".concat(d,")"):void 0,L=BR(BR({clipPath:N},Ye(t,!0)),{},{x1:V,y1:O,x2:A,y2:P});return X.createElement(Ut,{className:ct("recharts-reference-line",u)},_te(s,L),br.renderCallByParent(t,Wee({x1:V,y1:O,x2:A,y2:P})))}var PE=function(t){function e(){return ote(this,e),ute(this,e,arguments)}return dte(e,t),lte(e,[{key:"render",value:function(){return X.createElement(xte,this.props)}}])}(X.Component);IE(PE,"displayName","ReferenceLine");IE(PE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){Gm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ete(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d4(n.key),n)}}function Ste(t,e,r){return e&&Ete(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tte(t,e,r){return e=Hp(e),Ate(t,f4()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function Ate(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ite(t)}function Ite(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function Pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function Gm(t,e,r){return e=d4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d4(t){var e=kte(t,"string");return cu(e)=="symbol"?e:e+""}function kte(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ote=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=AE({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return ji(e,"discard")&&!s.isInRange(u)?null:u},Xm=function(t){function e(){return wte(this,e),Tte(this,e,arguments)}return Pte(e,t),Ste(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,d=rr(i),p=rr(a);if(ma(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var m=Ote(this.props);if(!m)return null;var v=m.x,x=m.y,T=this.props,S=T.shape,b=T.className,k=ji(this.props,"hidden")?"url(#".concat(c,")"):void 0,R=WR(WR({clipPath:k},Ye(this.props,!0)),{},{cx:v,cy:x});return X.createElement(Ut,{className:ct("recharts-reference-dot",b)},e.renderDot(S,R),br.renderCallByParent(this.props,{x:v-s,y:x-s,width:2*s,height:2*s}))}}])}(X.Component);Gm(Xm,"displayName","ReferenceDot");Gm(Xm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gm(Xm,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Je(t)?r=t(e):r=X.createElement(SE,bw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(this,arguments)}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){Ym(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p4(n.key),n)}}function Rte(t,e,r){return e&&Nte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jte(t,e,r){return e=Kp(e),Mte(t,h4()?Reflect.construct(e,r||[],Kp(t).constructor):e.apply(t,r))}function Mte(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dte(t)}function Dte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(t)}function Lte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ew(t,e)}function Ym(t,e,r){return e=p4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p4(t){var e=$te(t,"string");return fu(e)=="symbol"?e:e+""}function $te(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vte=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,d=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var v=AE({x:p.scale,y:m.scale}),x={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},T={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(d,{position:"end"}):v.y.rangeMax};return ji(a,"discard")&&(!v.isInRange(x)||!v.isInRange(T))?null:n4(x,T)},Qm=function(t){function e(){return Cte(this,e),jte(this,e,arguments)}return Lte(e,t),Rte(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,d=n.alwaysShow,p=n.clipPathId;ma(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=rr(i),v=rr(a),x=rr(s),T=rr(u),S=this.props.shape;if(!m&&!v&&!x&&!T&&!S)return null;var b=Vte(m,v,x,T,this.props);if(!b&&!S)return null;var k=ji(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(Ut,{className:ct("recharts-reference-area",c)},e.renderRect(S,KR(KR({clipPath:k},Ye(this.props,!0)),b)),br.renderCallByParent(this.props,b))}}])}(X.Component);Ym(Qm,"displayName","ReferenceArea");Ym(Qm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ym(Qm,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Je(t)?r=t(e):r=X.createElement(EE,ww({},e,{className:"recharts-reference-area-rect"})),r});function GR(t){return qte(t)||Bte(t)||Ute(t)||Fte()}function Fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(t,e){if(t){if(typeof t=="string")return Sw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sw(t,e)}}function Bte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qte(t){if(Array.isArray(t))return Sw(t)}function Sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tw=function(e,r,n,i,a){var s=Ni(e,PE),u=Ni(e,Xm),c=[].concat(GR(s),GR(u)),d=Ni(e,Qm),p="".concat(i,"Id"),m=i[0],v=r;if(c.length&&(v=c.reduce(function(S,b){if(b.props[p]===n&&ji(b.props,"extendDomain")&&we(b.props[m])){var k=b.props[m];return[Math.min(S[0],k),Math.max(S[1],k)]}return S},v)),d.length){var x="".concat(m,"1"),T="".concat(m,"2");v=d.reduce(function(S,b){if(b.props[p]===n&&ji(b.props,"extendDomain")&&we(b.props[x])&&we(b.props[T])){var k=b.props[x],R=b.props[T];return[Math.min(S[0],k,R),Math.max(S[1],k,R)]}return S},v)}return a&&a.length&&(v=a.reduce(function(S,b){return we(b)?[Math.min(S[0],b),Math.max(S[1],b)]:S},v)),v},Lb={exports:{}},XR;function zte(){return XR||(XR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function a(c,d,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||c,v),T=r?r+d:d;return c._events[T]?c._events[T].fn?c._events[T]=[c._events[T],x]:c._events[T].push(x):(c._events[T]=x,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,m;if(this._eventsCount===0)return d;for(m in p=this._events)e.call(p,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=r?r+d:d,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,T=new Array(x);v<x;v++)T[v]=m[v].fn;return T},u.prototype.listenerCount=function(d){var p=r?r+d:d,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,p,m,v,x,T){var S=r?r+d:d;if(!this._events[S])return!1;var b=this._events[S],k=arguments.length,R,M;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,v),!0;case 5:return b.fn.call(b.context,p,m,v,x),!0;case 6:return b.fn.call(b.context,p,m,v,x,T),!0}for(M=1,R=new Array(k-1);M<k;M++)R[M-1]=arguments[M];b.fn.apply(b.context,R)}else{var V=b.length,O;for(M=0;M<V;M++)switch(b[M].once&&this.removeListener(d,b[M].fn,void 0,!0),k){case 1:b[M].fn.call(b[M].context);break;case 2:b[M].fn.call(b[M].context,p);break;case 3:b[M].fn.call(b[M].context,p,m);break;case 4:b[M].fn.call(b[M].context,p,m,v);break;default:if(!R)for(O=1,R=new Array(k-1);O<k;O++)R[O-1]=arguments[O];b[M].fn.apply(b[M].context,R)}}return!0},u.prototype.on=function(d,p,m){return a(this,d,p,m,!1)},u.prototype.once=function(d,p,m){return a(this,d,p,m,!0)},u.prototype.removeListener=function(d,p,m,v){var x=r?r+d:d;if(!this._events[x])return this;if(!p)return s(this,x),this;var T=this._events[x];if(T.fn)T.fn===p&&(!v||T.once)&&(!m||T.context===m)&&s(this,x);else{for(var S=0,b=[],k=T.length;S<k;S++)(T[S].fn!==p||v&&!T[S].once||m&&T[S].context!==m)&&b.push(T[S]);b.length?this._events[x]=b.length===1?b[0]:b:s(this,x)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Lb)),Lb.exports}var Wte=zte();const Hte=yt(Wte);var $b=new Hte,Vb="recharts.syncMouseEvents";function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m4(n.key),n)}}function Xte(t,e,r){return e&&Gte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fb(t,e,r){return e=m4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4(t){var e=Yte(t,"string");return wf(e)=="symbol"?e:e+""}function Yte(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qte=function(){function t(){Kte(this,t),Fb(this,"activeIndex",0),Fb(this,"coordinateList",[]),Fb(this,"layout","horizontal")}return Xte(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,d=c===void 0?null:c,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+d,v=s+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])}();function Jte(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&we(n)&&we(i))return!0}return!1}function Zte(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function g4(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Tt(e,r,n,i),u=Tt(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function ere(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,d=e.innerRadius,p=e.outerRadius,m=e.angle,v=Tt(u,c,d,m),x=Tt(u,c,p,m);n=v.x,i=v.y,a=x.x,s=x.y}else return g4(e);return[{x:n,y:i},{x:a,y:s}]}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){tre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tre(t,e,r){return e=rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=nre(t,"string");return Ef(e)=="symbol"?e:e+""}function nre(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ire(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var T,S=tw;if(v==="ScatterChart")T=s,S=tZ;else if(v==="BarChart")T=Zte(m,s,c,p),S=EE;else if(m==="radial"){var b=g4(s),k=b.cx,R=b.cy,M=b.radius,V=b.startAngle,O=b.endAngle;T={cx:k,cy:R,startAngle:V,endAngle:O,innerRadius:M,outerRadius:M},S=wE}else T={points:ere(m,s,c)},S=tw;var C=Th(Th(Th(Th({stroke:"#ccc",pointerEvents:"none"},c),T),Ye(x,!1)),{},{payload:u,payloadIndex:d,className:ct("recharts-tooltip-cursor",x.className)});return W.isValidElement(x)?W.cloneElement(x,C):W.createElement(S,C)}var are=["item"],ore=["children","className","width","height","style","compact","title","desc"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ol.apply(this,arguments)}function QR(t,e){return ure(t)||lre(t,e)||v4(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return u}}function ure(t){if(Array.isArray(t))return t}function JR(t,e){if(t==null)return{};var r=cre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_4(n.key),n)}}function hre(t,e,r){return e&&dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pre(t,e,r){return e=Gp(e),mre(t,y4()?Reflect.construct(e,r||[],Gp(t).constructor):e.apply(t,r))}function mre(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gre(t)}function gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(t)}function yre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aw(t,e)}function hu(t){return bre(t)||_re(t)||v4(t)||vre()}function vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function _re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bre(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fe(t,e,r){return e=_4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _4(t){var e=xre(t,"string");return du(e)=="symbol"?e:e+""}function xre(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wre={xAxis:["bottom","top"],yAxis:["left","right"]},Ere={width:"100%",height:"100%"},b4={x:0,y:0};function Ah(t){return t}var Sre=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Tre=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return le(le(le({},i),Tt(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,d=i.angle;return le(le(le({},i),Tt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return b4},Jm=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var d=c.props.data;return d&&d.length?[].concat(hu(u),hu(d)):u},[]);return s.length>0?s:e&&e.length&&we(i)&&we(a)?e.slice(i,a+1):[]};function x4(t){return t==="number"?[0,"auto"]:void 0}var Pw=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Jm(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,d){var p,m=(p=d.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var x=m===void 0?u:m;v=px(x,s.dataKey,i)}else v=m&&m[n]||u[n];return v?[].concat(hu(c),[UX(d,v)]):c},[])},e2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Sre(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,p=TX(s,u,d,c);if(p>=0&&d){var m=d[p]&&d[p].value,v=Pw(e,r,p,m),x=Tre(n,u,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},Are=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,x=NL(p,a);return n.reduce(function(T,S){var b,k=S.type.defaultProps!==void 0?le(le({},S.type.defaultProps),S.props):S.props,R=k.type,M=k.dataKey,V=k.allowDataOverflow,O=k.allowDuplicatedCategory,C=k.scale,A=k.ticks,P=k.includeHidden,N=k[s];if(T[N])return T;var L=Jm(e.data,{graphicalItems:i.filter(function(G){var ue,_e=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s];return _e===N}),dataStartIndex:c,dataEndIndex:d}),$=L.length,F,D,re;Jte(k.domain,V,R)&&(F=Xx(k.domain,null,V),x&&(R==="number"||C!=="auto")&&(re=Cc(L,M,"category")));var ne=x4(R);if(!F||F.length===0){var se,oe=(se=k.domain)!==null&&se!==void 0?se:ne;if(M){if(F=Cc(L,M,R),R==="category"&&x){var Z=_9(F);O&&Z?(D=F,F=Bp(0,$)):O||(F=fN(oe,F,S).reduce(function(G,ue){return G.indexOf(ue)>=0?G:[].concat(hu(G),[ue])},[]))}else if(R==="category")O?F=F.filter(function(G){return G!==""&&!it(G)}):F=fN(oe,F,S).reduce(function(G,ue){return G.indexOf(ue)>=0||ue===""||it(ue)?G:[].concat(hu(G),[ue])},[]);else if(R==="number"){var Y=OX(L,i.filter(function(G){var ue,_e,Ce=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s],Le="hide"in G.props?G.props.hide:(_e=G.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ce===N&&(P||!Le)}),M,a,p);Y&&(F=Y)}x&&(R==="number"||C!=="auto")&&(re=Cc(L,M,"category"))}else x?F=Bp(0,$):u&&u[N]&&u[N].hasStack&&R==="number"?F=v==="expand"?[0,1]:RL(u[N].stackGroups,c,d):F=CL(L,i.filter(function(G){var ue=s in G.props?G.props[s]:G.type.defaultProps[s],_e="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ue===N&&(P||!_e)}),R,p,!0);if(R==="number")F=Tw(m,F,N,a,A),oe&&(F=Xx(oe,F,V));else if(R==="category"&&oe){var ie=oe,q=F.every(function(G){return ie.indexOf(G)>=0});q&&(F=ie)}}return le(le({},T),{},Fe({},N,le(le({},k),{},{axisType:a,domain:F,categoricalDomain:re,duplicateDomain:D,originalDomain:(b=k.domain)!==null&&b!==void 0?b:ne,isCategorical:x,layout:p})))},{})},Ire=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,m=e.children,v=Jm(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),x=v.length,T=NL(p,a),S=-1;return n.reduce(function(b,k){var R=k.type.defaultProps!==void 0?le(le({},k.type.defaultProps),k.props):k.props,M=R[s],V=x4("number");if(!b[M]){S++;var O;return T?O=Bp(0,x):u&&u[M]&&u[M].hasStack?(O=RL(u[M].stackGroups,c,d),O=Tw(m,O,M,a)):(O=Xx(V,CL(v,n.filter(function(C){var A,P,N=s in C.props?C.props[s]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[s],L="hide"in C.props?C.props.hide:(P=C.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===M&&!L}),"number",p),i.defaultProps.allowDataOverflow),O=Tw(m,O,M,a)),le(le({},b),{},Fe({},M,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:si(wre,"".concat(a,".").concat(S%2),null),domain:O,originalDomain:V,isCategorical:T,layout:p})))}return b},{})},Pre=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=Ni(p,a),x={};return v&&v.length?x=Are(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(x=Ire(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:d})),x},kre=function(e){var r=Tl(e),n=Ec(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:H1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Yx(r,n)}},t2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Mn(r,lu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Ore=function(e){return!e||!e.length?!1:e.some(function(r){var n=pa(r&&r.type);return n&&n.indexOf("Bar")>=0})},r2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Cre=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,d=n.width,p=n.height,m=n.children,v=n.margin||{},x=Mn(m,lu),T=Mn(m,Ml),S=Object.keys(c).reduce(function(O,C){var A=c[C],P=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},Fe({},P,O[P]+A.width)):O},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(O,C){var A=s[C],P=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},Fe({},P,si(O,"".concat(P))+A.height)):O},{top:v.top||0,bottom:v.bottom||0}),k=le(le({},b),S),R=k.bottom;x&&(k.bottom+=x.props.height||lu.defaultProps.height),T&&r&&(k=PX(k,i,n,r));var M=d-k.left-k.right,V=p-k.top-k.bottom;return le(le({brushBottom:R},k),{},{width:Math.max(M,0),height:Math.max(V,0)})},Nre=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Rre=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(k,R){var M=R.graphicalItems,V=R.stackGroups,O=R.offset,C=R.updateId,A=R.dataStartIndex,P=R.dataEndIndex,N=k.barSize,L=k.layout,$=k.barGap,F=k.barCategoryGap,D=k.maxBarSize,re=r2(L),ne=re.numericAxisName,se=re.cateAxisName,oe=Ore(M),Z=[];return M.forEach(function(Y,ie){var q=Jm(k.data,{graphicalItems:[Y],dataStartIndex:A,dataEndIndex:P}),G=Y.type.defaultProps!==void 0?le(le({},Y.type.defaultProps),Y.props):Y.props,ue=G.dataKey,_e=G.maxBarSize,Ce=G["".concat(ne,"Id")],Le=G["".concat(se,"Id")],Xe={},Ne=c.reduce(function(Yt,hr){var xn=R["".concat(hr.axisType,"Map")],fi=G["".concat(hr.axisType,"Id")];xn&&xn[fi]||hr.axisType==="zAxis"||tu();var di=xn[fi];return le(le({},Yt),{},Fe(Fe({},hr.axisType,di),"".concat(hr.axisType,"Ticks"),Ec(di)))},Xe),de=Ne[se],Ee=Ne["".concat(se,"Ticks")],Re=V&&V[Ce]&&V[Ce].hasStack&&VX(Y,V[Ce].stackGroups),z=pa(Y.type).indexOf("Bar")>=0,ge=Yx(de,Ee),be=[],je=oe&&AX({barSize:N,stackGroups:V,totalSize:Nre(Ne,se)});if(z){var Qe,Dt,qr=it(_e)?D:_e,Mr=(Qe=(Dt=Yx(de,Ee,!0))!==null&&Dt!==void 0?Dt:qr)!==null&&Qe!==void 0?Qe:0;be=IX({barGap:$,barCategoryGap:F,bandSize:Mr!==ge?Mr:ge,sizeList:je[Le],maxBarSize:qr}),Mr!==ge&&(be=be.map(function(Yt){return le(le({},Yt),{},{position:le(le({},Yt.position),{},{offset:Yt.position.offset-Mr/2})})}))}var Dr=Y&&Y.type&&Y.type.getComposedData;Dr&&Z.push({props:le(le({},Dr(le(le({},Ne),{},{displayedData:q,props:k,dataKey:ue,item:Y,bandSize:ge,barPosition:be,offset:O,stackedData:Re,layout:L,dataStartIndex:A,dataEndIndex:P}))),{},Fe(Fe(Fe({key:Y.key||"item-".concat(ie)},ne,Ne[ne]),se,Ne[se]),"animationId",C)),childIndex:O9(Y,k.children),item:Y})}),Z},x=function(k,R){var M=k.props,V=k.dataStartIndex,O=k.dataEndIndex,C=k.updateId;if(!AP({props:M}))return null;var A=M.children,P=M.layout,N=M.stackOffset,L=M.data,$=M.reverseStackOrder,F=r2(P),D=F.numericAxisName,re=F.cateAxisName,ne=Ni(A,n),se=LX(L,ne,"".concat(D,"Id"),"".concat(re,"Id"),N,$),oe=c.reduce(function(G,ue){var _e="".concat(ue.axisType,"Map");return le(le({},G),{},Fe({},_e,Pre(M,le(le({},ue),{},{graphicalItems:ne,stackGroups:ue.axisType===D&&se,dataStartIndex:V,dataEndIndex:O}))))},{}),Z=Cre(le(le({},oe),{},{props:M,graphicalItems:ne}),R?.legendBBox);Object.keys(oe).forEach(function(G){oe[G]=p(M,oe[G],Z,G.replace("Map",""),r)});var Y=oe["".concat(re,"Map")],ie=kre(Y),q=v(M,le(le({},oe),{},{dataStartIndex:V,dataEndIndex:O,updateId:C,graphicalItems:ne,stackGroups:se,offset:Z}));return le(le({formattedGraphicalItems:q,graphicalItems:ne,offset:Z,stackGroups:se},ie),oe)},T=function(b){function k(R){var M,V,O;return fre(this,k),O=pre(this,k,[R]),Fe(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(O,"accessibilityManager",new Qte),Fe(O,"handleLegendBBoxUpdate",function(C){if(C){var A=O.state,P=A.dataStartIndex,N=A.dataEndIndex,L=A.updateId;O.setState(le({legendBBox:C},x({props:O.props,dataStartIndex:P,dataEndIndex:N,updateId:L},le(le({},O.state),{},{legendBBox:C}))))}}),Fe(O,"handleReceiveSyncEvent",function(C,A,P){if(O.props.syncId===C){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),Fe(O,"handleBrushChange",function(C){var A=C.startIndex,P=C.endIndex;if(A!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var N=O.state.updateId;O.setState(function(){return le({dataStartIndex:A,dataEndIndex:P},x({props:O.props,dataStartIndex:A,dataEndIndex:P,updateId:N},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),Fe(O,"handleMouseEnter",function(C){var A=O.getMouseInfo(C);if(A){var P=le(le({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var N=O.props.onMouseEnter;Je(N)&&N(P,C)}}),Fe(O,"triggeredAfterMouseMove",function(C){var A=O.getMouseInfo(C),P=A?le(le({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var N=O.props.onMouseMove;Je(N)&&N(P,C)}),Fe(O,"handleItemMouseEnter",function(C){O.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Fe(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Fe(O,"handleMouseMove",function(C){C.persist(),O.throttleTriggeredAfterMouseMove(C)}),Fe(O,"handleMouseLeave",function(C){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var P=O.props.onMouseLeave;Je(P)&&P(A,C)}),Fe(O,"handleOuterEvent",function(C){var A=k9(C),P=si(O.props,"".concat(A));if(A&&Je(P)){var N,L;/.*touch.*/i.test(A)?L=O.getMouseInfo(C.changedTouches[0]):L=O.getMouseInfo(C),P((N=L)!==null&&N!==void 0?N:{},C)}}),Fe(O,"handleClick",function(C){var A=O.getMouseInfo(C);if(A){var P=le(le({},A),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var N=O.props.onClick;Je(N)&&N(P,C)}}),Fe(O,"handleMouseDown",function(C){var A=O.props.onMouseDown;if(Je(A)){var P=O.getMouseInfo(C);A(P,C)}}),Fe(O,"handleMouseUp",function(C){var A=O.props.onMouseUp;if(Je(A)){var P=O.getMouseInfo(C);A(P,C)}}),Fe(O,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Fe(O,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&O.handleMouseDown(C.changedTouches[0])}),Fe(O,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&O.handleMouseUp(C.changedTouches[0])}),Fe(O,"handleDoubleClick",function(C){var A=O.props.onDoubleClick;if(Je(A)){var P=O.getMouseInfo(C);A(P,C)}}),Fe(O,"handleContextMenu",function(C){var A=O.props.onContextMenu;if(Je(A)){var P=O.getMouseInfo(C);A(P,C)}}),Fe(O,"triggerSyncEvent",function(C){O.props.syncId!==void 0&&$b.emit(Vb,O.props.syncId,C,O.eventEmitterSymbol)}),Fe(O,"applySyncEvent",function(C){var A=O.props,P=A.layout,N=A.syncMethod,L=O.state.updateId,$=C.dataStartIndex,F=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)O.setState(le({dataStartIndex:$,dataEndIndex:F},x({props:O.props,dataStartIndex:$,dataEndIndex:F,updateId:L},O.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,re=C.chartY,ne=C.activeTooltipIndex,se=O.state,oe=se.offset,Z=se.tooltipTicks;if(!oe)return;if(typeof N=="function")ne=N(Z,C);else if(N==="value"){ne=-1;for(var Y=0;Y<Z.length;Y++)if(Z[Y].value===C.activeLabel){ne=Y;break}}var ie=le(le({},oe),{},{x:oe.left,y:oe.top}),q=Math.min(D,ie.x+ie.width),G=Math.min(re,ie.y+ie.height),ue=Z[ne]&&Z[ne].value,_e=Pw(O.state,O.props.data,ne),Ce=Z[ne]?{x:P==="horizontal"?Z[ne].coordinate:q,y:P==="horizontal"?G:Z[ne].coordinate}:b4;O.setState(le(le({},C),{},{activeLabel:ue,activeCoordinate:Ce,activePayload:_e,activeTooltipIndex:ne}))}else O.setState(C)}),Fe(O,"renderCursor",function(C){var A,P=O.state,N=P.isTooltipActive,L=P.activeCoordinate,$=P.activePayload,F=P.offset,D=P.activeTooltipIndex,re=P.tooltipAxisBandSize,ne=O.getTooltipEventType(),se=(A=C.props.active)!==null&&A!==void 0?A:N,oe=O.props.layout,Z=C.key||"_recharts-cursor";return X.createElement(ire,{key:Z,activeCoordinate:L,activePayload:$,activeTooltipIndex:D,chartName:r,element:C,isActive:se,layout:oe,offset:F,tooltipAxisBandSize:re,tooltipEventType:ne})}),Fe(O,"renderPolarAxis",function(C,A,P){var N=si(C,"type.axisType"),L=si(O.state,"".concat(N,"Map")),$=C.type.defaultProps,F=$!==void 0?le(le({},$),C.props):C.props,D=L&&L[F["".concat(N,"Id")]];return W.cloneElement(C,le(le({},D),{},{className:ct(N,D.className),key:C.key||"".concat(A,"-").concat(P),ticks:Ec(D,!0)}))}),Fe(O,"renderPolarGrid",function(C){var A=C.props,P=A.radialLines,N=A.polarAngles,L=A.polarRadius,$=O.state,F=$.radiusAxisMap,D=$.angleAxisMap,re=Tl(F),ne=Tl(D),se=ne.cx,oe=ne.cy,Z=ne.innerRadius,Y=ne.outerRadius;return W.cloneElement(C,{polarAngles:Array.isArray(N)?N:Ec(ne,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(L)?L:Ec(re,!0).map(function(ie){return ie.coordinate}),cx:se,cy:oe,innerRadius:Z,outerRadius:Y,key:C.key||"polar-grid",radialLines:P})}),Fe(O,"renderLegend",function(){var C=O.state.formattedGraphicalItems,A=O.props,P=A.children,N=A.width,L=A.height,$=O.props.margin||{},F=N-($.left||0)-($.right||0),D=kL({children:P,formattedGraphicalItems:C,legendWidth:F,legendContent:d});if(!D)return null;var re=D.item,ne=JR(D,are);return W.cloneElement(re,le(le({},ne),{},{chartWidth:N,chartHeight:L,margin:$,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Fe(O,"renderTooltip",function(){var C,A=O.props,P=A.children,N=A.accessibilityLayer,L=Mn(P,Ei);if(!L)return null;var $=O.state,F=$.isTooltipActive,D=$.activeCoordinate,re=$.activePayload,ne=$.activeLabel,se=$.offset,oe=(C=L.props.active)!==null&&C!==void 0?C:F;return W.cloneElement(L,{viewBox:le(le({},se),{},{x:se.left,y:se.top}),active:oe,label:ne,payload:oe?re:[],coordinate:D,accessibilityLayer:N})}),Fe(O,"renderBrush",function(C){var A=O.props,P=A.margin,N=A.data,L=O.state,$=L.offset,F=L.dataStartIndex,D=L.dataEndIndex,re=L.updateId;return W.cloneElement(C,{key:C.key||"_recharts-brush",onChange:bh(O.handleBrushChange,C.props.onChange),data:N,x:we(C.props.x)?C.props.x:$.left,y:we(C.props.y)?C.props.y:$.top+$.height+$.brushBottom-(P.bottom||0),width:we(C.props.width)?C.props.width:$.width,startIndex:F,endIndex:D,updateId:"brush-".concat(re)})}),Fe(O,"renderReferenceElement",function(C,A,P){if(!C)return null;var N=O,L=N.clipPathId,$=O.state,F=$.xAxisMap,D=$.yAxisMap,re=$.offset,ne=C.type.defaultProps||{},se=C.props,oe=se.xAxisId,Z=oe===void 0?ne.xAxisId:oe,Y=se.yAxisId,ie=Y===void 0?ne.yAxisId:Y;return W.cloneElement(C,{key:C.key||"".concat(A,"-").concat(P),xAxis:F[Z],yAxis:D[ie],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:L})}),Fe(O,"renderActivePoints",function(C){var A=C.item,P=C.activePoint,N=C.basePoint,L=C.childIndex,$=C.isRange,F=[],D=A.props.key,re=A.item.type.defaultProps!==void 0?le(le({},A.item.type.defaultProps),A.item.props):A.item.props,ne=re.activeDot,se=re.dataKey,oe=le(le({index:L,dataKey:se,cx:P.x,cy:P.y,r:4,fill:xE(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ye(ne,!1)),sp(ne));return F.push(k.renderActiveDot(ne,oe,"".concat(D,"-activePoint-").concat(L))),N?F.push(k.renderActiveDot(ne,le(le({},oe),{},{cx:N.x,cy:N.y}),"".concat(D,"-basePoint-").concat(L))):$&&F.push(null),F}),Fe(O,"renderGraphicChild",function(C,A,P){var N=O.filterFormatItem(C,A,P);if(!N)return null;var L=O.getTooltipEventType(),$=O.state,F=$.isTooltipActive,D=$.tooltipAxis,re=$.activeTooltipIndex,ne=$.activeLabel,se=O.props.children,oe=Mn(se,Ei),Z=N.props,Y=Z.points,ie=Z.isRange,q=Z.baseLine,G=N.item.type.defaultProps!==void 0?le(le({},N.item.type.defaultProps),N.item.props):N.item.props,ue=G.activeDot,_e=G.hide,Ce=G.activeBar,Le=G.activeShape,Xe=!!(!_e&&F&&oe&&(ue||Ce||Le)),Ne={};L!=="axis"&&oe&&oe.props.trigger==="click"?Ne={onClick:bh(O.handleItemMouseEnter,C.props.onClick)}:L!=="axis"&&(Ne={onMouseLeave:bh(O.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:bh(O.handleItemMouseEnter,C.props.onMouseEnter)});var de=W.cloneElement(C,le(le({},N.props),Ne));function Ee(hr){return typeof D.dataKey=="function"?D.dataKey(hr.payload):null}if(Xe)if(re>=0){var Re,z;if(D.dataKey&&!D.allowDuplicatedCategory){var ge=typeof D.dataKey=="function"?Ee:"payload.".concat(D.dataKey.toString());Re=px(Y,ge,ne),z=ie&&q&&px(q,ge,ne)}else Re=Y?.[re],z=ie&&q&&q[re];if(Le||Ce){var be=C.props.activeIndex!==void 0?C.props.activeIndex:re;return[W.cloneElement(C,le(le(le({},N.props),Ne),{},{activeIndex:be})),null,null]}if(!it(Re))return[de].concat(hu(O.renderActivePoints({item:N,activePoint:Re,basePoint:z,childIndex:re,isRange:ie})))}else{var je,Qe=(je=O.getItemByXY(O.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:de},Dt=Qe.graphicalItem,qr=Dt.item,Mr=qr===void 0?C:qr,Dr=Dt.childIndex,Yt=le(le(le({},N.props),Ne),{},{activeIndex:Dr});return[W.cloneElement(Mr,Yt),null,null]}return ie?[de,null,null]:[de,null]}),Fe(O,"renderCustomized",function(C,A,P){return W.cloneElement(C,le(le({key:"recharts-customized-".concat(P)},O.props),O.state))}),Fe(O,"renderMap",{CartesianGrid:{handler:Ah,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Ah},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Ah},YAxis:{handler:Ah},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((M=R.id)!==null&&M!==void 0?M:xm("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=PD(O.triggeredAfterMouseMove,(V=R.throttleDelay)!==null&&V!==void 0?V:1e3/60),O.state={},O}return yre(k,b),hre(k,[{key:"componentDidMount",value:function(){var M,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,V=M.children,O=M.data,C=M.height,A=M.layout,P=Mn(V,Ei);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,$=Pw(this.state,O,N,L),F=this.state.tooltipTicks[N].coordinate,D=(this.state.offset.top+C)/2,re=A==="horizontal",ne=re?{x:F,y:D}:{y:F,x:D},se=this.state.formattedGraphicalItems.find(function(Z){var Y=Z.item;return Y.type.name==="Scatter"});se&&(ne=le(le({},ne),se.props.points[N].tooltipPosition),$=se.props.points[N].tooltipPayload);var oe={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:L,activePayload:$,activeCoordinate:ne};this.setState(oe),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var O,C;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(M){yx([Mn(M.children,Ei)],[Mn(this.props.children,Ei)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=Mn(this.props.children,Ei);if(M&&typeof M.props.shared=="boolean"){var V=M.props.shared?"axis":"item";return u.indexOf(V)>=0?V:a}return a}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var V=this.container,O=V.getBoundingClientRect(),C=yW(O),A={chartX:Math.round(M.pageX-C.left),chartY:Math.round(M.pageY-C.top)},P=O.width/V.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,P);if(!N)return null;var L=this.state,$=L.xAxisMap,F=L.yAxisMap,D=this.getTooltipEventType(),re=e2(this.state,this.props.data,this.props.layout,N);if(D!=="axis"&&$&&F){var ne=Tl($).scale,se=Tl(F).scale,oe=ne&&ne.invert?ne.invert(A.chartX):null,Z=se&&se.invert?se.invert(A.chartY):null;return le(le({},A),{},{xValue:oe,yValue:Z},re)}return re?le(le({},A),re):null}},{key:"inRange",value:function(M,V){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=M/O,P=V/O;if(C==="horizontal"||C==="vertical"){var N=this.state.offset,L=A>=N.left&&A<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return L?{x:A,y:P}:null}var $=this.state,F=$.angleAxisMap,D=$.radiusAxisMap;if(F&&D){var re=Tl(F);return pN({x:A,y:P},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,V=this.getTooltipEventType(),O=Mn(M,Ei),C={};O&&V==="axis"&&(O.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=sp(this.props,this.handleOuterEvent);return le(le({},A),C)}},{key:"addListener",value:function(){$b.on(Vb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$b.removeListener(Vb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,V,O){for(var C=this.state.formattedGraphicalItems,A=0,P=C.length;A<P;A++){var N=C[A];if(N.item===M||N.props.key===M.key||V===pa(N.item.type)&&O===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,V=this.state.offset,O=V.left,C=V.top,A=V.height,P=V.width;return X.createElement("defs",null,X.createElement("clipPath",{id:M},X.createElement("rect",{x:O,y:C,height:A,width:P})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(V,O){var C=QR(O,2),A=C[0],P=C[1];return le(le({},V),{},Fe({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(V,O){var C=QR(O,2),A=C[0],P=C[1];return le(le({},V),{},Fe({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[M])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(M){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[M])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(M){var V=this.state,O=V.formattedGraphicalItems,C=V.activeItem;if(O&&O.length)for(var A=0,P=O.length;A<P;A++){var N=O[A],L=N.props,$=N.item,F=$.type.defaultProps!==void 0?le(le({},$.type.defaultProps),$.props):$.props,D=pa($.type);if(D==="Bar"){var re=(L.data||[]).find(function(Z){return MJ(M,Z)});if(re)return{graphicalItem:N,payload:re}}else if(D==="RadialBar"){var ne=(L.data||[]).find(function(Z){return pN(M,Z)});if(ne)return{graphicalItem:N,payload:ne}}else if(Hm(N,C)||Km(N,C)||_f(N,C)){var se=aee({graphicalItem:N,activeTooltipItem:C,itemData:F.data}),oe=F.activeIndex===void 0?se:F.activeIndex;return{graphicalItem:le(le({},N),{},{childIndex:oe}),payload:_f(N,C)?F.data[se]:N.props.data[se]}}}return null}},{key:"render",value:function(){var M=this;if(!AP(this))return null;var V=this.props,O=V.children,C=V.className,A=V.width,P=V.height,N=V.style,L=V.compact,$=V.title,F=V.desc,D=JR(V,ore),re=Ye(D,!1);if(L)return X.createElement(FR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(_x,Ol({},re,{width:A,height:P,title:$,desc:F}),this.renderClipPath(),PP(O,this.renderMap)));if(this.props.accessibilityLayer){var ne,se;re.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,re.role=(se=this.props.role)!==null&&se!==void 0?se:"application",re.onKeyDown=function(Z){M.accessibilityManager.keyboardEvent(Z)},re.onFocus=function(){M.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return X.createElement(FR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Ol({className:ct("recharts-wrapper",C),style:le({position:"relative",cursor:"default",width:A,height:P},N)},oe,{ref:function(Y){M.container=Y}}),X.createElement(_x,Ol({},re,{width:A,height:P,title:$,desc:F,style:Ere}),this.renderClipPath(),PP(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(W.Component);Fe(T,"displayName",r),Fe(T,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Fe(T,"getDerivedStateFromProps",function(b,k){var R=b.dataKey,M=b.data,V=b.children,O=b.width,C=b.height,A=b.layout,P=b.stackOffset,N=b.margin,L=k.dataStartIndex,$=k.dataEndIndex;if(k.updateId===void 0){var F=t2(b);return le(le(le({},F),{},{updateId:0},x(le(le({props:b},F),{},{updateId:0}),k)),{},{prevDataKey:R,prevData:M,prevWidth:O,prevHeight:C,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:V})}if(R!==k.prevDataKey||M!==k.prevData||O!==k.prevWidth||C!==k.prevHeight||A!==k.prevLayout||P!==k.prevStackOffset||!mx(N,k.prevMargin)){var D=t2(b),re={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},ne=le(le({},e2(k,M,A)),{},{updateId:k.updateId+1}),se=le(le(le({},D),re),ne);return le(le(le({},se),x(le({props:b},se),k)),{},{prevDataKey:R,prevData:M,prevWidth:O,prevHeight:C,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:V})}if(!yx(V,k.prevChildren)){var oe,Z,Y,ie,q=Mn(V,lu),G=q&&(oe=(Z=q.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&oe!==void 0?oe:L,ue=q&&(Y=(ie=q.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&Y!==void 0?Y:$,_e=G!==L||ue!==$,Ce=!it(M),Le=Ce&&!_e?k.updateId:k.updateId+1;return le(le({updateId:Le},x(le(le({props:b},k),{},{updateId:Le,dataStartIndex:G,dataEndIndex:ue}),k)),{},{prevChildren:V,dataStartIndex:G,dataEndIndex:ue})}return null}),Fe(T,"renderActiveDot",function(b,k,R){var M;return W.isValidElement(b)?M=W.cloneElement(b,k):Je(b)?M=b(k):M=X.createElement(SE,k),X.createElement(Ut,{className:"recharts-active-dot",key:R},M)});var S=W.forwardRef(function(k,R){return X.createElement(T,Ol({},k,{ref:R}))});return S.displayName=T.displayName,S},jre=Rre({chartName:"PieChart",GraphicalChild:Ia,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Wm},{axisType:"radiusAxis",AxisComp:qm}],formatAxisMap:YX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Mre=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:d,handleBulkUpdate:p})=>{const[m,v]=W.useState("name"),[x,T]=W.useState("asc"),[S,b]=W.useState("all"),[k,R]=W.useState("all"),[M,V]=W.useState("hierarchy"),[O,C]=W.useState(new Set),[A,P]=W.useState(!1),[N,L]=W.useState(!1),[$,F]=W.useState(""),[D,re]=W.useState(null),ne=W.useMemo(()=>t.filter(z=>!z.parentId||z.parentId===""),[t]),se=W.useMemo(()=>t.filter(z=>!z.parentId||z.parentId===""),[t]),oe=W.useMemo(()=>{let z=t.filter(ge=>{const be=(ge.name||"").toLowerCase().includes(i.toLowerCase())||(ge.address||"").toLowerCase().includes(i.toLowerCase())||(ge.email||"").toLowerCase().includes(i.toLowerCase())||(ge.phone||"").includes(i),je=S==="all"||S==="parent"&&(!ge.parentId||ge.parentId==="")||S==="location"&&ge.parentId&&ge.parentId!==""||S==="unassigned"&&(!ge.parentId||ge.parentId==="")||S==="active"&&ge.status==="Active"||S==="inactive"&&ge.status==="Inactive",Qe=k==="all"||ge.parentId===k||ge.id===k;return be&&je&&Qe});return z.sort((ge,be)=>{let je=ge[m]||"",Qe=be[m]||"";return m==="name"&&(je=je.toLowerCase(),Qe=Qe.toLowerCase()),x==="asc"?je<Qe?-1:je>Qe?1:0:je>Qe?-1:je<Qe?1:0}),z},[t,i,m,x,S,k]),Z=W.useMemo(()=>oe.filter(ge=>!ge.parentId||ge.parentId==="").map(ge=>({...ge,children:oe.filter(be=>be.parentId===ge.id)})),[oe]),Y=z=>{m===z?T(x==="asc"?"desc":"asc"):(v(z),T("asc"))},ie=z=>{const ge=new Set(O);ge.has(z)?ge.delete(z):ge.add(z),C(ge)},q=z=>{z.target.checked?u(oe.map(ge=>ge.id)):u([])},G=()=>{if(s.length>0&&$){const z=s.map(ge=>({id:ge,parentId:$}));p&&p("client",z),u([]),L(!1),F("")}},ue=()=>{if(s.length>0){const z=s.map(ge=>({id:ge,parentId:""}));p&&p("client",z),u([])}},_e=(z,ge)=>{re(ge),z.dataTransfer.effectAllowed="move"},Ce=z=>{z.preventDefault(),z.dataTransfer.dropEffect="move"},Le=(z,ge)=>{if(z.preventDefault(),D&&D.id!==ge.id){const be={id:D.id,parentId:ge.id};p&&p("client",[be])}re(null)},Xe=z=>{const ge=t.filter(be=>be.parentId===z.id).map(be=>be.id);u(be=>{const je=new Set([...be,z.id,...ge]);return Array.from(je)})},Ne=({client:z,isChild:ge=!1,parent:be=null})=>y.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${ge?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${s.includes(z.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!ge,onDragStart:je=>_e(je,z),onDragOver:Ce,onDrop:je=>!ge&&Le(je,z),children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("input",{type:"checkbox",checked:s.includes(z.id),onChange:()=>{u(je=>je.includes(z.id)?je.filter(Qe=>Qe!==z.id):[...je,z.id])},className:"rounded"}),ge?y.jsx(dx,{className:"h-4 w-4 text-blue-500"}):y.jsx(mI,{className:"h-5 w-5 text-purple-600"}),y.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:z.name}),z.status&&y.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${z.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:z.status}),ge&&be&&y.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",be.name]})]}),y.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[z.address&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(TM,{className:"h-4 w-4"}),y.jsx("span",{children:z.address})]}),z.phone&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(op,{className:"h-4 w-4"}),y.jsx("span",{children:z.phone})]}),z.email&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(ap,{className:"h-4 w-4"}),y.jsx("span",{children:z.email})]})]})]}),y.jsxs("div",{className:"flex gap-1 ml-4",children:[!ge&&y.jsx("button",{onClick:()=>Xe(z),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:y.jsx(Lh,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>e("client",z),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:y.jsx(Wl,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>r("client",z.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:y.jsx(ms,{className:"h-4 w-4"})})]})]})}),de=()=>y.jsxs("div",{className:"space-y-6",children:[se.length>0&&y.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[y.jsx(Lh,{className:"h-5 w-5"}),"Unassigned Clients (",se.filter(z=>oe.includes(z)).length,")"]}),y.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),y.jsx("div",{className:"space-y-2",children:se.filter(z=>oe.includes(z)).map(z=>y.jsx(Ne,{client:z},z.id))})]}),Z.filter(z=>z.children.length>0).map(z=>y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>ie(z.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:O.has(z.id)?y.jsx(ip,{className:"h-4 w-4"}):y.jsx(gq,{className:"h-4 w-4"})}),y.jsx("div",{className:"flex-1",children:y.jsx(Ne,{client:z})}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[z.children.length," locations"]}),y.jsx("button",{onClick:()=>Xe(z),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),O.has(z.id)&&y.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:z.children.map(ge=>y.jsx(Ne,{client:ge,isChild:!0,parent:z},ge.id))})]},z.id))]}),Ee=()=>y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:q})}),y.jsx("th",{className:"p-3",children:y.jsxs("button",{onClick:()=>Y("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?y.jsx(us,{className:"h-3 w-3"}):y.jsx(ls,{className:"h-3 w-3"}))]})}),y.jsx("th",{className:"p-3",children:"Type"}),y.jsx("th",{className:"p-3",children:y.jsxs("button",{onClick:()=>Y("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?y.jsx(us,{className:"h-3 w-3"}):y.jsx(ls,{className:"h-3 w-3"}))]})}),y.jsx("th",{className:"p-3",children:"Contact"}),y.jsx("th",{className:"p-3",children:"Parent Company"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:oe.map(z=>{const ge=ne.find(je=>je.id===z.parentId),be=s.includes(z.id);return y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${be?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:be,onChange:()=>{u(je=>je.includes(z.id)?je.filter(Qe=>Qe!==z.id):[...je,z.id])}})}),y.jsx("td",{className:"p-3",children:y.jsxs("div",{className:"flex items-center gap-2",children:[z.parentId?y.jsx(dx,{className:"h-4 w-4 text-blue-500"}):y.jsx(mI,{className:"h-4 w-4 text-purple-600"}),y.jsx("span",{className:"font-medium",children:z.name})]})}),y.jsx("td",{className:"p-3",children:y.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${z.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:z.parentId?"Location":"Parent"})}),y.jsx("td",{className:"p-3",children:y.jsx("span",{children:z.address})}),y.jsx("td",{className:"p-3",children:y.jsxs("div",{className:"space-y-1",children:[z.phone&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(op,{className:"h-3 w-3"}),y.jsx("span",{children:z.phone})]}),z.email&&y.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[y.jsx(ap,{className:"h-3 w-3"}),y.jsx("span",{children:z.email})]})]})}),y.jsx("td",{className:"p-3",children:ge?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(dq,{className:"h-3 w-3 text-slate-400"}),y.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:ge.name})]}):y.jsx("span",{className:"text-xs text-slate-400",children:""})}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("client",z),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Wl,{size:16})}),y.jsx("button",{onClick:()=>r("client",z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(ms,{size:16})})]})]},z.id)})})]})}),Re=()=>y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oe.map(z=>{const ge=ne.find(be=>be.id===z.parentId);return y.jsx(Ne,{client:z,isChild:!!z.parentId,parent:ge},z.id)})});return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),y.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[oe.length," of ",t.length," clients",s.length>0&&`  ${s.length} selected`]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.length>0&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bq,{size:16})," Assign Parent (",s.length,")"]}),y.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Oq,{size:16})," Remove Parent"]}),y.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(ms,{size:16})," Delete (",s.length,")"]})]}),y.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:z=>c(z.target.files[0],"client")}),y.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(mm,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>d(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($f,{size:16})," Export CSV"]}),y.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(wo,{size:16})," Add New"]})]})]}),N&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),y.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600",children:y.jsx(Vf,{className:"h-5 w-5"})})]}),y.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",s.length," selected clients to a parent company:"]}),y.jsxs("select",{value:$,onChange:z=>F(z.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[y.jsx("option",{value:"",children:"Select Parent Company"}),ne.map(z=>y.jsx("option",{value:z.id,children:z.name},z.id))]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>L(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),y.jsx("button",{onClick:G,disabled:!$,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(E1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),y.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),y.jsxs("button",{onClick:()=>P(!A),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[y.jsx(w1,{className:"h-4 w-4"}),"Filters",y.jsx(ip,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]}),y.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[y.jsx("button",{onClick:()=>V("hierarchy"),className:`px-3 py-2 text-sm ${M==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:y.jsx(Pq,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>V("list"),className:`px-3 py-2 text-sm ${M==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:y.jsx(xq,{className:"h-4 w-4"})}),y.jsx("button",{onClick:()=>V("cards"),className:`px-3 py-2 text-sm ${M==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:y.jsx(_q,{className:"h-4 w-4"})})]})]}),A&&y.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),y.jsxs("select",{value:S,onChange:z=>b(z.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[y.jsx("option",{value:"all",children:"All Clients"}),y.jsx("option",{value:"parent",children:"Parent Companies Only"}),y.jsx("option",{value:"location",children:"Store Locations Only"}),y.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),y.jsx("option",{value:"active",children:"Active Only"}),y.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),y.jsxs("select",{value:k,onChange:z=>R(z.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[y.jsx("option",{value:"all",children:"All Companies"}),ne.map(z=>y.jsx("option",{value:z.id,children:z.name},z.id))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("select",{value:m,onChange:z=>v(z.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[y.jsx("option",{value:"name",children:"Name"}),y.jsx("option",{value:"address",children:"Address"}),y.jsx("option",{value:"phone",children:"Phone"}),y.jsx("option",{value:"email",children:"Email"})]}),y.jsx("button",{onClick:()=>T(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?y.jsx(us,{className:"h-4 w-4"}):y.jsx(ls,{className:"h-4 w-4"})})]})]})]})}),y.jsx("div",{className:"min-h-[400px]",children:oe.length===0?y.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[y.jsx(Lh,{className:"h-12 w-12 mb-4"}),y.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),y.jsx("p",{className:"text-sm text-center",children:i||S!=="all"||k!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):y.jsxs(y.Fragment,{children:[M==="hierarchy"&&y.jsx(de,{}),M==="list"&&y.jsx(Ee,{}),M==="cards"&&y.jsx(Re,{})]})})]})},Dre=({bills:t,paidStatus:e,onClose:r})=>{const n=W.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:y.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(mq,{size:20,className:"mr-3"}),y.jsxs("div",{children:[y.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),y.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>y.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),y.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:y.jsx(Vf,{size:18})})]})},Lre=({data:t,onSliceClick:e})=>{const[r,n]=W.useState(0),i=W.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:d,outerRadius:p,startAngle:m,endAngle:v,fill:x,payload:T}=s;return y.jsxs("g",{className:"cursor-pointer",onClick:()=>e(T.name),children:[y.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:T.name}),y.jsx(wE,{cx:u,cy:c,innerRadius:d,outerRadius:p,startAngle:m,endAngle:v,fill:x})]})};return y.jsx(cW,{width:"100%",height:300,children:y.jsxs(jre,{children:[y.jsx(Ei,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),y.jsx(Ia,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>y.jsx(G1,{fill:s.color},`cell-${u}`))})]})})},$re=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:c,handleDelete:d,debtPayoffStrategies:p})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),y.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[y.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>a(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>s(m.target.files[0],n)}),y.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(mm,{size:16})," Import CSV"]})]}),y.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($f,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>c(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(wo,{size:16})," Add New"]})]})]}),n==="debt"&&p&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>y.jsxs("li",{children:[m.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>y.jsxs("li",{children:[m.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[r.map(m=>y.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:e.map(m=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(v=>y.jsx("td",{className:`p-3 ${v.className||""}`,children:v.render(m)},v.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>c(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Wl,{size:16})}),y.jsx("button",{onClick:()=>d(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(ms,{size:16})})]})]},m.id))})]})})]}),Vre=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u})=>{const c=[{key:"name",header:"Job/Client",render:d=>y.jsx("span",{className:"font-medium",children:d.name})},{key:"client",header:"Client",render:d=>y.jsx("span",{children:e.find(p=>p.id===d.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:d=>y.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(d.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:d=>y.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(d.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:d=>y.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(d.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:d=>y.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((d.revenue||0)-(d.materialCost||0)-(d.laborCost||0)).toFixed(2)]})}];return y.jsx($re,{title:"Job Profitability",data:t,columns:c,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:r,handleDelete:n})},Fre=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:s,handleDelete:u,handleEnhancedExportCSV:c})=>{const[d,p]=W.useState(""),[m,v]=W.useState("dueDay"),[x,T]=W.useState("asc"),[S,b]=W.useState("all"),[k,R]=W.useState("all"),[M,V]=W.useState("all"),[O,C]=W.useState(!1),A=new Date,P=new Date(A.getFullYear(),A.getMonth(),A.getDate()-A.getDay()),N=new Date(P.getTime()+6*24*60*60*1e3),L=new Date(N.getTime()+1*24*60*60*1e3),$=new Date(L.getTime()+6*24*60*60*1e3),F=new Date(A.getFullYear(),A.getMonth(),1),D=new Date(A.getFullYear(),A.getMonth()+1,0),re=W.useMemo(()=>{let Y=t.filter(ie=>{if(r&&ie.category!==r||d&&!ie.name.toLowerCase().includes(d.toLowerCase())||S==="paid"&&!e[ie.id]||S==="unpaid"&&e[ie.id]||M==="under100"&&ie.amount>=100||M==="100to500"&&(ie.amount<100||ie.amount>500)||M==="over500"&&ie.amount<=500)return!1;if(k!=="all"&&ie.dueDay){const q=new Date(A.getFullYear(),A.getMonth(),ie.dueDay);switch(q<A&&q.setMonth(q.getMonth()+1),k){case"overdue":if(q>=A)return!1;break;case"thisWeek":if(q<P||q>N)return!1;break;case"nextWeek":if(q<L||q>$)return!1;break;case"thisMonth":if(q<F||q>D)return!1;break}}return!0});return Y.sort((ie,q)=>{let G=ie[m],ue=q[m];m==="status"&&(G=e[ie.id]?"paid":"unpaid",ue=e[q.id]?"paid":"unpaid"),typeof G=="string"&&(G=G.toLowerCase(),ue=ue.toLowerCase());let _e=0;return G<ue&&(_e=-1),G>ue&&(_e=1),x==="desc"?-_e:_e}),Y},[t,r,d,S,k,M,m,x,e,A]),ne=Y=>{m===Y?T(x==="asc"?"desc":"asc"):(v(Y),T("asc"))},se=()=>{p(""),v("dueDay"),T("asc"),b("all"),R("all"),V("all"),n(null)},oe=W.useMemo(()=>{let Y=0;return d&&Y++,r&&Y++,S!=="all"&&Y++,k!=="all"&&Y++,M!=="all"&&Y++,Y},[d,r,S,k,M]),Z=({type:Y,label:ie})=>{const q=X.useRef(null);return y.jsxs("div",{className:"inline-block",children:[y.jsx("input",{ref:q,type:"file",accept:".csv",onChange:G=>{G.target.files[0]&&(window.handleEnhancedCSVImport?.(G.target.files[0],Y),G.target.value="")},style:{display:"none"}}),y.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(mm,{size:16}),ie]})]})};return y.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&y.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),oe>0&&y.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[oe," filter",oe!==1?"s":""," active"]})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx(Z,{type:"bill",label:"Import"}),y.jsxs("button",{onClick:()=>c(re,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($f,{size:16})," Export"]})]})]}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsxs("div",{className:"flex-1 relative",children:[y.jsx(E1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"text",placeholder:"Search bills by name...",value:d,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),d&&y.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:y.jsx(Vf,{size:16})})]}),y.jsxs("button",{onClick:()=>C(!O),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${O?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[y.jsx(w1,{size:16}),"Filters",y.jsx(ip,{className:`transition-transform ${O?"rotate-180":""}`,size:16})]}),oe>0&&y.jsx("button",{onClick:se,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),O&&y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),y.jsxs("select",{value:`${m}-${x}`,onChange:Y=>{const[ie,q]=Y.target.value.split("-");v(ie),T(q)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[y.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),y.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),y.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),y.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),y.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),y.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),y.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),y.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),y.jsxs("select",{value:S,onChange:Y=>b(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[y.jsx("option",{value:"all",children:"All Bills"}),y.jsx("option",{value:"unpaid",children:"Unpaid Only"}),y.jsx("option",{value:"paid",children:"Paid Only"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),y.jsxs("select",{value:k,onChange:Y=>R(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[y.jsx("option",{value:"all",children:"All Dates"}),y.jsx("option",{value:"overdue",children:"Overdue"}),y.jsx("option",{value:"thisWeek",children:"This Week"}),y.jsx("option",{value:"nextWeek",children:"Next Week"}),y.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),y.jsxs("select",{value:M,onChange:Y=>V(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[y.jsx("option",{value:"all",children:"All Amounts"}),y.jsx("option",{value:"under100",children:"Under $100"}),y.jsx("option",{value:"100to500",children:"$100 - $500"}),y.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),y.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:y.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",re.length," of ",t.length," bills",oe>0&&` with ${oe} filter${oe!==1?"s":""} applied`]})})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsxs("button",{onClick:()=>ne("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?y.jsx(us,{size:14}):y.jsx(ls,{size:14}))]})}),y.jsx("th",{className:"p-3",children:y.jsxs("button",{onClick:()=>ne("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?y.jsx(us,{size:14}):y.jsx(ls,{size:14}))]})}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3",children:"Receipt"}),y.jsx("th",{className:"p-3 text-right",children:y.jsxs("button",{onClick:()=>ne("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?y.jsx(us,{size:14}):y.jsx(ls,{size:14}))]})}),y.jsx("th",{className:"p-3 text-center",children:y.jsxs("button",{onClick:()=>ne("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?y.jsx(us,{size:14}):y.jsx(ls,{size:14}))]})}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:re.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?y.jsxs("div",{children:[y.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),y.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):y.jsxs("div",{children:[y.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),y.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):re.map(Y=>y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Y.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>i(Y.id),className:"hover:scale-110 transition-transform",children:e[Y.id]?y.jsx(yq,{className:"text-green-500",size:20}):y.jsx(vq,{className:"text-slate-400 dark:text-slate-600",size:20})})}),y.jsxs("td",{className:`p-3 font-medium ${e[Y.id]?"line-through":""}`,children:[Y.name,Y.category&&y.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Y.category})]}),y.jsx("td",{className:"p-3 text-center",children:Y.notes&&y.jsxs("div",{className:"group relative flex justify-center",children:[y.jsx(AM,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),y.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Y.notes})]})}),y.jsx("td",{className:"p-3 text-center",children:Y.attachmentURL?y.jsx("a",{href:Y.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:y.jsx(gI,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):y.jsx(gI,{size:16,className:"text-slate-400 dark:text-slate-600"})}),y.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Y.amount||0).toFixed(2)]}),y.jsx("td",{className:"p-3 text-center font-medium",children:Y.dueDay}),y.jsx("td",{className:"p-3 text-center",children:y.jsxs("div",{className:"flex items-center justify-center gap-1",children:[y.jsx("button",{onClick:()=>s("bill",Y),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:y.jsx(Wl,{size:16})}),y.jsx("button",{onClick:()=>u("bill",Y.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:y.jsx(ms,{size:16})})]})})]},Y.id))})]})}),y.jsxs("button",{onClick:()=>s("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[y.jsx(wo,{size:18}),"Add New Bill"]})]})},Ure=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=X.useRef(null);return y.jsxs("div",{className:"inline-block",children:[y.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),y.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(mm,{size:16}),e]})]})},Bre=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const s=X.useMemo(()=>t.filter(u=>Object.values(u).some(c=>String(c).toLowerCase().includes(i.toLowerCase()))),[t,i]);return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx(Ure,{type:"recurring",label:"Import"}),y.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($f,{size:16}),"Export"]}),y.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[y.jsx(wo,{size:18}),"Add Recurring Work"]})]})]}),y.jsx("div",{className:"mb-4",children:y.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Work Name"}),y.jsx("th",{className:"p-3",children:"Client ID"}),y.jsx("th",{className:"p-3 text-right",children:"Revenue"}),y.jsx("th",{className:"p-3",children:"Frequency"}),y.jsx("th",{className:"p-3",children:"Next Due Date"}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:s.length>0?s.map(u=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsx("td",{className:"p-3",children:u.clientId}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(u.revenue||0).toFixed(2)]}),y.jsx("td",{className:"p-3",children:u.frequency}),y.jsx("td",{className:"p-3",children:u.nextDueDate}),y.jsx("td",{className:"p-3 text-sm text-slate-500",children:u.notes}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("recurring",u),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Wl,{size:16})}),y.jsx("button",{onClick:()=>r("recurring",u.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(ms,{size:16})})]})]},u.id)):y.jsx("tr",{children:y.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},qre=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>y.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?y.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:y.jsx(fq,{size:24})}):y.jsx(T1,{className:"h-8 w-8 text-blue-600"}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Dispatch"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx($f,{size:20})," Billing"]}),y.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx(pq,{size:20})," Reporting"]}),y.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx(wq,{size:20})," Route"]}),y.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx(x1,{size:20})," Dispatch"]}),y.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx(Lh,{size:20})," Customers"]}),y.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[y.jsx(S1,{size:20})," Technicians"]}),y.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[y.jsx(wo,{size:20})," Add Work Order"]})]})]})})}),zre=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Wre=t=>{const e=zre(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Hre=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},n2=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Kre=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Gre=({order:t,onSelectOrder:e})=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:n2(t.Priority).borderColor},children:[y.jsxs("div",{className:"p-5",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${n2(t.Priority)}`,children:t.Priority}),y.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Kre(t["Order Status"])}`,children:t["Order Status"]})]}),y.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[y.jsx(SM,{size:12,className:"mr-1.5"})," ",t.Client]}),y.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),y.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),y.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(S1,{className:"w-4 h-4 mr-2 text-gray-400"}),y.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx(x1,{className:"w-4 h-4 mr-2 text-gray-400"}),y.jsxs("span",{children:["Scheduled: ",Wre(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${Hre(t.startTime)})`]})]}),t.clientWO&&y.jsxs("div",{className:"flex items-center",children:[y.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),y.jsx("span",{children:t.clientWO})]})]})]}),y.jsx("div",{className:"bg-gray-50 px-5 py-3",children:y.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),Xre=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:i,setStatusFilter:a})=>y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"relative md:col-span-2",children:[y.jsx(E1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:s=>n(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(w1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),y.jsxs("select",{value:i,onChange:s=>a(s.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[y.jsx("option",{children:"All"}),y.jsx("option",{children:"Open"}),y.jsx("option",{children:"Scheduled"}),y.jsx("option",{children:"In Progress"}),y.jsx("option",{children:"On Hold"}),y.jsx("option",{children:"Completed"}),y.jsx("option",{children:"Cancelled"})]}),y.jsx(ip,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>y.jsx(Gre,{order:s,onSelectOrder:e},s.id))}):y.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),y.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Yre=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Qre=t=>t?t.getTime()/864e5+25569:null,Jre=t=>{const e=Yre(t);return e?e.toISOString().split("T")[0]:""},Zre=t=>t?Qre(new Date(t+"T00:00:00")):null,i2=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",ene=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",tne=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[i,a]=W.useState(new Date().toISOString().split("T")[0]),s=Array.from({length:13},(b,k)=>k+7),u=e.filter(b=>b.name!=="Unassigned"),c=b=>{const k=u.findIndex(R=>R.name===b);return k===-1?-1:k+2},d=b=>{if(!b)return 0;const[k,R]=b.split(":").map(Number);return isNaN(k)||isNaN(R)?0:(k-7)*4+R/15+2},p=t.filter(b=>Jre(b["Schedule Date"])===i&&b.startTime&&b.endTime&&b.technician?.length>0),m=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,k)=>{const R={Emergency:1,Urgent:2,Regular:3,Low:4};return(R[b.Priority]||5)-(R[k.Priority]||5)}),v=(b,k)=>{b.dataTransfer.setData("workOrder",JSON.stringify(k))},x=(b,k,R)=>{b.preventDefault();const M=JSON.parse(b.dataTransfer.getData("workOrder")),V=R,O=`${String(parseInt(R.split(":")[0])+2).padStart(2,"0")}:${R.split(":")[1]}`;n(M.id,{...M,technician:[k],"Schedule Date":Zre(i),startTime:V,endTime:O,"Order Status":"Scheduled"})},T=b=>{b.preventDefault();const k=JSON.parse(b.dataTransfer.getData("workOrder"));n(k.id,{...k,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},S=b=>b.preventDefault();return y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),y.jsx("input",{type:"date",value:i,onChange:b=>a(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:T,onDragOver:S,children:[y.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),y.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(b=>y.jsxs("div",{draggable:!0,onDragStart:k=>v(k,b),className:`p-2 border-l-4 rounded cursor-grab ${i2(b.Priority)}`,children:[y.jsx("p",{className:"font-bold text-sm",children:b.Company}),y.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),y.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:y.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${u.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${s.length*4}, 20px)`},children:[y.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),u.map(b=>y.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[y.jsx("span",{children:b.name}),y.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${ene(b.status)}`,children:b.status})]},b.id)),s.map(b=>y.jsxs(X.Fragment,{children:[y.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),u.map((k,R)=>y.jsx(X.Fragment,{children:Array.from({length:4}).map((M,V)=>y.jsx("div",{onDrop:O=>x(O,k.name,`${String(b).padStart(2,"0")}:${String(V*15).padStart(2,"0")}`),onDragOver:S,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+V+2,gridColumn:R+2}},`${k.id}-${b}-${V}`))},k.id))]},b)),p.flatMap(b=>b.technician.map(k=>{const R=c(k),M=d(b.startTime),V=d(b.endTime);return R<0||!M||!V||V<=M?null:y.jsxs("div",{draggable:!0,onDragStart:O=>v(O,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${i2(b.Priority)}`,style:{gridColumn:R,gridRow:`${M} / ${V}`},onClick:()=>r(b),children:[y.jsx("p",{className:"font-bold truncate",children:b.Company}),y.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${k}`)}))]})})]})]})},rne=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",nne=({onClose:t,onAddCustomer:e})=>{const[r,n]=W.useState(""),[i,a]=W.useState("Commercial"),[s,u]=W.useState(""),[c,d]=W.useState(""),[p,m]=W.useState(""),[v,x]=W.useState(""),[T,S]=W.useState(""),[b,k]=W.useState("MI"),[R,M]=W.useState(""),V=O=>{if(O.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:i,contact:{name:s,email:c,phone:p},billingAddress:{street:v,city:T,state:b,zip:R},locations:[]}),t()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:V,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[y.jsx("div",{className:"p-6 border-b",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),y.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),y.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),y.jsxs("select",{value:i,onChange:O=>a(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Commercial"}),y.jsx("option",{children:"Residential"}),y.jsx("option",{children:"National Account"}),y.jsx("option",{children:"Maintenance"})]})]})]}),y.jsxs("div",{className:"pt-4 border-t",children:[y.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Name"}),y.jsx("input",{value:s,onChange:O=>u(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Email"}),y.jsx("input",{value:c,onChange:O=>d(O.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Phone"}),y.jsx("input",{value:p,onChange:O=>m(O.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),y.jsxs("div",{className:"pt-4 border-t",children:[y.jsx("h3",{className:"font-semibold",children:"Billing Address"}),y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{className:"text-xs",children:"Street"}),y.jsx("input",{value:v,onChange:O=>x(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"City"}),y.jsx("input",{value:T,onChange:O=>S(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"State"}),y.jsx("input",{value:b,onChange:O=>k(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Zip"}),y.jsx("input",{value:R,onChange:O=>M(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),y.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},ine=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,i]=W.useState(t),a=(u,c=null)=>{const{name:d,value:p}=u.target;i(c?m=>({...m,[c]:{...m[c],[d]:p}}):m=>({...m,[d]:p}))},s=u=>{u.preventDefault(),r(n),e()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:s,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[y.jsx("div",{className:"p-6 border-b",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),y.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),y.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Commercial"}),y.jsx("option",{children:"Residential"}),y.jsx("option",{children:"National Account"}),y.jsx("option",{children:"Maintenance"})]})]})]}),y.jsxs("div",{className:"pt-4 border-t",children:[y.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Name"}),y.jsx("input",{name:"name",value:n.contact.name,onChange:u=>a(u,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Email"}),y.jsx("input",{name:"email",value:n.contact.email,onChange:u=>a(u,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Phone"}),y.jsx("input",{name:"phone",value:n.contact.phone,onChange:u=>a(u,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),y.jsxs("div",{className:"pt-4 border-t",children:[y.jsx("h3",{className:"font-semibold",children:"Billing Address"}),y.jsxs("div",{className:"mt-2",children:[y.jsx("label",{className:"text-xs",children:"Street"}),y.jsx("input",{name:"street",value:n.billingAddress.street,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"City"}),y.jsx("input",{name:"city",value:n.billingAddress.city,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"State"}),y.jsx("input",{name:"state",value:n.billingAddress.state,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs",children:"Zip"}),y.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),y.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},ane=({customer:t,onClose:e,onAddLocation:r})=>{const[n,i]=W.useState(""),[a,s]=W.useState(""),[u,c]=W.useState(""),[d,p]=W.useState("MI"),m=v=>{if(v.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:a,city:u,state:d}),e()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[y.jsx("div",{className:"p-6 border-b",children:y.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),y.jsx("input",{type:"text",value:n,onChange:v=>i(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),y.jsx("input",{type:"text",value:a,onChange:v=>s(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),y.jsx("input",{type:"text",value:u,onChange:v=>c(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),y.jsx("input",{type:"text",value:d,onChange:v=>p(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),y.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},one=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[i,a]=W.useState(!1),[s,u]=W.useState(null),[c,d]=W.useState(null);return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),y.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[y.jsx(wo,{size:20})," Add New Customer"]})]}),y.jsx("div",{className:"space-y-4",children:t.map(p=>y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),y.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${rne(p.type)}`,children:p.type})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>u(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),y.jsx("button",{onClick:()=>d(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[y.jsxs("div",{className:"text-sm",children:[y.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(S1,{size:14})," ",p.contact.name]}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(ap,{size:14})," ",p.contact.email]}),y.jsxs("p",{className:"flex items-center gap-2",children:[y.jsx(op,{size:14})," ",p.contact.phone]})]}),y.jsxs("div",{className:"text-sm",children:[y.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),y.jsx("p",{children:p.billingAddress.street}),y.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),y.jsxs("div",{className:"mt-3 pt-3 border-t",children:[y.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),y.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,v)=>y.jsxs("div",{className:"text-sm text-gray-700",children:[y.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${v}`))})]})]},p.id))}),i&&y.jsx(nne,{onAddCustomer:e,onClose:()=>a(!1)}),s&&y.jsx(ine,{customer:s,onUpdateCustomer:r,onClose:()=>u(null)}),c&&y.jsx(ane,{customer:c,onAddLocation:n,onClose:()=>d(null)})]})},sne=({onClose:t,onAdd:e})=>{const[r,n]=W.useState(""),[i,a]=W.useState(""),[s,u]=W.useState(""),c=d=>{d.preventDefault(),r.trim()&&(e({name:r,email:i,phone:s,status:"Available"}),t())};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:c,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[y.jsx("div",{className:"p-6 border-b",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),y.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),y.jsx("input",{type:"email",value:i,onChange:d=>a(d.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),y.jsx("input",{type:"tel",value:s,onChange:d=>u(d.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),y.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},lne=({technician:t,onClose:e,onUpdate:r})=>{const[n,i]=W.useState(t),a=u=>i(c=>({...c,[u.target.name]:u.target.value})),s=u=>{u.preventDefault(),r(n),e()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:s,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[y.jsx("div",{className:"p-6 border-b",children:y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),y.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),y.jsxs("select",{name:"status",value:n.status,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Available"}),y.jsx("option",{children:"En Route"}),y.jsx("option",{children:"On Site"}),y.jsx("option",{children:"On Break"}),y.jsx("option",{children:"On Call"}),y.jsx("option",{children:"Day Off"})]})]})]}),y.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),y.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},une=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[i,a]=W.useState(!1),[s,u]=W.useState(null);return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),y.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[y.jsx(wo,{size:20})," Add New Technician"]})]}),y.jsx("div",{className:"space-y-4",children:t.map(c=>y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c.name}),y.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx(ap,{size:14})," ",c.email]}),y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx(op,{size:14})," ",c.phone]})]})]}),c.name!=="Unassigned"&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>u(c),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:y.jsx(Wl,{size:16})}),y.jsx("button",{onClick:()=>n(c.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:y.jsx(ms,{size:16})})]})]},c.id))}),i&&y.jsx(sne,{onAdd:e,onClose:()=>a(!1)}),s&&y.jsx(lne,{technician:s,onUpdate:r,onClose:()=>u(null)})]})},w4=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,cne=t=>{const e=w4(t);return e?e.toISOString().split("T")[0]:""},Ih=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},fne=({workOrders:t,technicians:e})=>{const[r,n]=W.useState("ALL"),[i,a]=W.useState("today"),[s,u]=W.useState(new Date().toISOString().split("T")[0]),[c,d]=W.useState(new Date().toISOString().split("T")[0]),p=W.useMemo(()=>{let x=new Date,T=new Date;switch(i){case"today":x.setHours(0,0,0,0),T.setHours(23,59,59,999);break;case"3-day":x.setHours(0,0,0,0),T.setDate(x.getDate()+2),T.setHours(23,59,59,999);break;case"week":const k=x.getDay();x.setDate(x.getDate()-k),x.setHours(0,0,0,0),T.setDate(x.getDate()+6),T.setHours(23,59,59,999);break;case"custom":x=new Date(s+"T00:00:00"),T=new Date(c+"T23:59:59");break}const S=t.filter(k=>{const R=w4(k["Schedule Date"]);return R&&R>=x&&R<=T}),b=e.find(k=>k.id===r)?.name;return r!=="ALL"?S.filter(k=>k.technician.includes(b)).sort((k,R)=>(k.startTime||"").localeCompare(R.startTime||"")):S.sort((k,R)=>(k.startTime||"").localeCompare(R.startTime||""))},[r,t,e,i,s,c]),m=W.useMemo(()=>p.reduce((x,T)=>{const S=cne(T["Schedule Date"]);return x[S]||(x[S]={}),T.technician.forEach(b=>{x[S][b]||(x[S][b]=[]),x[S][b].push(T)}),x},{}),[p]),v=()=>window.print();return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{value:"today",children:"Today"}),y.jsx("option",{value:"3-day",children:"Next 3 Days"}),y.jsx("option",{value:"week",children:"This Week"}),y.jsx("option",{value:"custom",children:"Custom Range"})]}),i==="custom"&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"date",value:s,onChange:x=>u(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),y.jsx("input",{type:"date",value:c,onChange:x=>d(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("select",{value:r,onChange:x=>n(x.target.value==="ALL"?"ALL":Number(x.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>y.jsx("option",{value:x.id,children:x.name},x.id))]}),y.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[y.jsx(Tq,{size:20})," Print Route"]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[y.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(m).length>0?Object.entries(m).map(([x,T])=>y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(T).map(([S,b])=>y.jsxs("div",{className:"mb-4",children:[r==="ALL"&&y.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:S}),y.jsx("div",{className:"space-y-2",children:b.map((k,R)=>y.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[y.jsx("span",{className:"text-xl font-bold text-gray-400",children:R+1}),y.jsxs("div",{children:[y.jsxs("p",{className:"font-bold",children:[Ih(k.startTime)," - ",Ih(k.endTime)]}),y.jsxs("p",{children:[k.Company," - ",k.City]}),y.jsx("p",{className:"text-sm text-gray-600",children:k.Task})]})]},k.id))})]},S))]},x)):y.jsx("p",{children:"No jobs scheduled for this selection."})]}),y.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:y.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),y.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),y.jsxs("div",{className:"print-container hidden print:block",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(s+"T00:00:00").toLocaleDateString()]}),Object.entries(m).map(([x,T])=>y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(T).map(([S,b])=>y.jsxs("div",{className:"mb-2",children:[y.jsx("h4",{className:"font-semibold text-md mt-2",children:S}),b.map((k,R)=>y.jsxs("div",{className:"p-2 border-b",children:[y.jsx("p",{children:y.jsxs("strong",{children:[R+1,". ",Ih(k.startTime)," - ",Ih(k.endTime),": ",k.Company]})}),y.jsxs("p",{children:[k.Task," at ",k.City,", ",k.State]})]},k.id))]},S))]},x))]})]})},a2=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),dne=({invoices:t,quotes:e})=>{const[r,n]=W.useState("invoices");return y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),y.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[y.jsx(wo,{size:20})," Create Quote"]})]}),y.jsx("div",{className:"border-b border-gray-200",children:y.jsxs("nav",{className:"-mb-px flex gap-6",children:[y.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),y.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),y.jsxs("div",{className:"mt-6",children:[r==="invoices"&&y.jsx("div",{children:t.map(i=>y.jsxs("div",{children:[i.id," - ",i.customerName," - ",a2(i.amount)," - ",i.status]},i.id))}),r==="quotes"&&y.jsx("div",{children:e.map(i=>y.jsxs("div",{children:[i.id," - ",i.customerName," - ",a2(i.amount)," - ",i.status]},i.id))})]})]})},E4=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,S4=t=>t?t.getTime()/864e5+25569:null,hne=t=>{const e=E4(t);return e?e.toISOString().split("T")[0]:""},pne=t=>t?S4(new Date(t+"T00:00:00")):null,mne=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",gne=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),yne=t=>{const e=E4(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},vne=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",_ne=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[a,s]=W.useState(t["Order Status"]),[u,c]=W.useState(t.technician||[]),[d,p]=W.useState(hne(t["Schedule Date"])),[m,v]=W.useState(t.startTime||""),[x,T]=W.useState(t.endTime||""),[S,b]=W.useState(""),[k,R]=W.useState(t.clientWO||""),M=C=>{const A=u.includes(C)?u.filter(P=>P!==C):[...u,C];c(A)},V=()=>{const C={};a!==t["Order Status"]&&(C["Order Status"]=a,a==="Completed"&&!t["Completed Date"]&&(C["Completed Date"]=S4(new Date))),JSON.stringify(u)!==JSON.stringify(t.technician)&&(C.technician=u);const A=pne(d);(A!==t["Schedule Date"]||m!==t.startTime||x!==t.endTime)&&(C["Schedule Date"]=A,C.startTime=m,C.endTime=x,a==="Open"&&d&&(C["Order Status"]="Scheduled")),k!==t.clientWO&&(C.clientWO=k),Object.keys(C).length>0&&r(t.id,C)},O=[{label:"Work Order #",value:t["WO#"],icon:y.jsx(T1,{})},{label:"Client WO#",value:t.clientWO,icon:y.jsx(SM,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:y.jsx(dx,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:y.jsx(TM,{})},{label:"Priority",value:t.Priority,icon:y.jsx(IM,{}),style:`${vne(t.Priority)} px-2 py-0.5 rounded-full text-xs font-semibold`},{label:"Task",value:t.Task},{label:"NTE Amount",value:gne(t.NTE)},{label:"Created Date",value:yne(t["Created Date"])}];return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:y.jsx(Vf,{size:28})})]}),y.jsxs("div",{className:"p-6 overflow-y-auto",children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:O.map(C=>y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-xs text-gray-500 font-medium",children:C.label}),y.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${C.style||""}`,children:[C.icon&&y.jsx("span",{className:"text-gray-400",children:X.cloneElement(C.icon,{size:16})}),y.jsx("span",{className:C.style||"",children:C.value})]})]},C.label))}),y.jsxs("div",{className:"mt-6 pt-6 border-t",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),y.jsxs("select",{value:a,onChange:C=>s(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Open"}),y.jsx("option",{children:"Scheduled"}),y.jsx("option",{children:"In Progress"}),y.jsx("option",{children:"On Hold"}),y.jsx("option",{children:"Completed"}),y.jsx("option",{children:"Cancelled"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),y.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(C=>C.name!=="Unassigned").map(C=>y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:`tech-${C.id}`,checked:u.includes(C.name),onChange:()=>M(C.name),className:"mr-2"}),y.jsx("label",{htmlFor:`tech-${C.id}`,children:C.name})]},C.id))})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),y.jsx("input",{type:"date",value:d,onChange:C=>p(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),y.jsx("input",{type:"time",value:m,onChange:C=>v(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),y.jsx("input",{type:"time",value:x,onChange:C=>T(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),y.jsx("input",{type:"text",value:k,onChange:C=>R(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsx("div",{className:"mt-4 flex justify-end",children:y.jsx("button",{onClick:V,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),y.jsxs("div",{className:"mt-6 pt-6 border-t",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[y.jsx(AM,{size:20,className:"mr-2"}),"Work Notes"]}),y.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((C,A)=>new Date(A.timestamp)-new Date(C.timestamp)).map((C,A)=>y.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[y.jsx("p",{className:"text-gray-800",children:C.text}),y.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:mne(C.timestamp)})]},A)):y.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),y.jsxs("div",{className:"mt-4",children:[y.jsx("textarea",{value:S,onChange:C=>b(C.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),y.jsx("div",{className:"flex justify-end mt-2",children:y.jsx("button",{onClick:()=>n(t.id,S,()=>b("")),disabled:!S.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},bne=t=>t?t.getTime()/864e5+25569:null,xne=t=>t?bne(new Date(t+"T00:00:00")):null,wne=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=W.useState(r[0]?.id||""),[a,s]=W.useState(""),[u,c]=W.useState(""),[d,p]=W.useState("Regular"),[m,v]=W.useState("Heating & Cooling"),[x,T]=W.useState(""),[S,b]=W.useState(""),[k,R]=W.useState(""),[M,V]=W.useState(""),[O,C]=W.useState(""),A=W.useMemo(()=>r.find(L=>L.id===n),[n,r]);W.useEffect(()=>{if(A?.locations?.[0]){const L=A.locations[0];s(`${L.name}-${L.locNum}-0`)}else s("")},[A]);const P=L=>{s(L)},N=L=>{L.preventDefault();const[$,F]=a.split("-").slice(0,2),D=A.locations.find(re=>re.name===$&&re.locNum===F);if(!n||!D||!u){alert("Please fill out all required fields.");return}e({Client:A.name,Company:D.name,"Loc #":D.locNum,Task:u,Priority:d,Category:m,City:D.city,State:D.state,NTE:parseFloat(x)||0,"Schedule Date":xne(S),startTime:k,endTime:M,clientWO:O})};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:y.jsxs("form",{onSubmit:N,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),y.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:y.jsx(Vf,{size:28})})]}),y.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),y.jsx("select",{value:n,onChange:L=>i(parseInt(L.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(L=>y.jsx("option",{value:L.id,children:L.name},L.id))})]}),A&&y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),y.jsx("select",{value:a,onChange:L=>P(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:A.locations.map((L,$)=>y.jsxs("option",{value:`${L.name}-${L.locNum}-${$}`,children:[L.name," (#",L.locNum,")"]},`${L.name}-${L.locNum}-${$}`))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),y.jsx("input",{type:"text",value:O,onChange:L=>C(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),y.jsx("textarea",{value:u,onChange:L=>c(L.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),y.jsxs("select",{value:d,onChange:L=>p(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Regular"}),y.jsx("option",{children:"Low"}),y.jsx("option",{children:"Urgent"}),y.jsx("option",{children:"Emergency"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),y.jsxs("select",{value:m,onChange:L=>v(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[y.jsx("option",{children:"Heating & Cooling"}),y.jsx("option",{children:"Refrigeration"}),y.jsx("option",{children:"Maintenance"}),y.jsx("option",{children:"Plumbing"}),y.jsx("option",{children:"Other"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),y.jsx("input",{type:"number",value:x,onChange:L=>T(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),y.jsx("input",{type:"date",value:S,onChange:L=>b(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),y.jsx("input",{type:"time",value:k,onChange:L=>R(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),y.jsx("input",{type:"time",value:M,onChange:L=>V(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),y.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Ene={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},mn="hvac-master-dashboard",kE=g2(Ene),Sne=Z2(kE),gn=pB(kE);nq(kE);const Tne=t=>t?t.getTime()/864e5+25569:null,Ane=()=>{const[t,e]=W.useState(null),[r,n]=W.useState(!0),[i,a]=W.useState("finance"),[s,u]=W.useState("dashboard"),[c,d]=W.useState([]),[p,m]=W.useState([]),[v,x]=W.useState([]),[T,S]=W.useState([]),[b,k]=W.useState([]),[R,M]=W.useState([]),[V,O]=W.useState([]),[C,A]=W.useState([]),[P,N]=W.useState([]),[L,$]=W.useState([]),[F,D]=W.useState([]),[re,ne]=W.useState([]),[se,oe]=W.useState([]),[Z,Y]=W.useState([]),[ie,q]=W.useState([]),[G,ue]=W.useState([]),[_e,Ce]=W.useState([]),[Le,Xe]=W.useState(""),[Ne,de]=W.useState("All"),[Ee,Re]=W.useState(null),[z,ge]=W.useState(!1),[be,je]=W.useState("dashboard"),[Qe,Dt]=W.useState(!1),[qr,Mr]=W.useState(null),[Dr,Yt]=W.useState("bill"),[hr,xn]=W.useState("dark"),[fi,di]=W.useState({key:"dueDay",direction:"ascending"}),[Lt,$t]=W.useState(""),[Bn,Pa]=W.useState(null),[Bi,ka]=W.useState(0),[zr,Ms]=W.useState({start:new Date,end:new Date}),[Ds,Ls]=W.useState("monthly"),[Io,Po]=W.useState(!0),[wn,qi]=W.useState({}),[ko,an]=W.useState([]),[qn,Oo]=W.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[zn,$s]=W.useState({});W.useEffect(()=>{const Me=gF(Sne,Be=>{e(Be?Be.uid:null),n(!1)});return()=>Me()},[]);const Wn=W.useMemo(()=>zr.start.getFullYear()+"-"+String(zr.start.getMonth()+1).padStart(2,"0"),[zr]);W.useEffect(()=>{if(!t)return;const Be=Object.entries({bills:d,debts:m,incomes:x,weeklyCosts:S,jobs:k,tasks:M,invoices:O,taxPayments:A,goals:N,clients:Y,inventory:$,vehicles:D,maintenanceLogs:ne,recurringWork:oe,workOrders:q,customers:ue,technicians:Ce}).map(([tt,He])=>uI(AB(fh(gn,"artifacts",mn,"users",t,tt)),sn=>{He(sn.docs.map(zt=>({id:zt.id,...zt.data()})))},sn=>console.error(`Error fetching ${tt}:`,sn))),pt=uI(wi(gn,"artifacts",mn,"users",t,"paidStatus",Wn),tt=>{qi(tt.exists()?tt.data().status:{})},tt=>console.error("Error fetching paid status:",tt));return()=>{Be.forEach(tt=>tt()),pt()}},[t,Wn]);const Co=()=>xn(hr==="light"?"dark":"light"),Sr=W.useMemo(()=>b.filter(Me=>{if(!Me.date)return!1;const Be=new Date(Me.date);return Be>=zr.start&&Be<=zr.end}),[b,zr]),Hn=W.useMemo(()=>{const Me=v.reduce((zt,Qt)=>zt+(Qt.amount||0),0),Be=c.reduce((zt,Qt)=>zt+(Qt.amount||0),0),pt=T.reduce((zt,Qt)=>zt+(Qt.amount||0),0)*4.33,tt=Be+pt,He=Me-tt,sn=p.reduce((zt,Qt)=>zt+((Qt.totalAmount||0)-(Qt.paidAmount||0)),0);return{totalIncome:Me,totalOutflow:tt,netCashFlow:He,totalDebt:sn}},[c,p,v,T]),_t=W.useMemo(()=>{const Me=Sr.reduce((tt,He)=>tt+(He.revenue||0),0),Be=Sr.reduce((tt,He)=>tt+(He.materialCost||0)+(He.laborCost||0),0),pt=Me-Be;return{revenue:Me,cogs:Be,grossProfit:pt}},[Sr]),Oa=W.useMemo(()=>{const Me=c.reduce((pt,tt)=>{const He=tt.category||"Uncategorized";return pt[He]=(pt[He]||0)+tt.amount,pt},{}),Be=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(Me).map(([pt,tt],He)=>({name:pt,value:tt,color:Be[He%Be.length]})).sort((pt,tt)=>tt.value-pt.value)},[c]),Wr=(Me,Be)=>{const pt=wi(gn,"artifacts",mn,"users",t,"workOrders",Me);oc(pt,Be),Ee&&Ee.id===Me&&Re(tt=>({...tt,...Be}))},zi=(Me,Be,pt)=>{if(!Be.trim())return;const tt={text:Be.trim(),timestamp:new Date().toISOString()},He=wi(gn,"artifacts",mn,"users",t,"workOrders",Me),zt=[...ie.find(Qt=>Qt.id===Me)?.notes||[],tt];oc(He,{notes:zt}),pt()},Wi=Me=>{const Be=`WO-${Date.now()}`,pt={...Me,"WO#":Be,id:Be,"Created Date":Tne(new Date),"Order Status":Me["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]};Vy(fh(gn,"artifacts",mn,"users",t,"workOrders"),pt),ge(!1)},Ca=Me=>{const Be={...Me,id:Date.now().toString()};Vy(fh(gn,"artifacts",mn,"users",t,"customers"),Be)},on=Me=>{const Be=wi(gn,"artifacts",mn,"users",t,"customers",Me.id);oc(Be,Me)},No=(Me,Be)=>{const pt=wi(gn,"artifacts",mn,"users",t,"customers",Me),He=[...G.find(sn=>sn.id===Me).locations,Be];oc(pt,{locations:He})},Tu=Me=>{const Be={...Me,id:Date.now().toString()};Vy(fh(gn,"artifacts",mn,"users",t,"technicians"),Be)},Na=Me=>{const Be=wi(gn,"artifacts",mn,"users",t,"technicians",Me.id);oc(Be,Me)},Vs=Me=>{_e.find(pt=>pt.id===Me)&&lI(wi(gn,"artifacts",mn,"users",t,"technicians",Me))},Tr=async(Me,Be)=>{if(!t||!window.confirm("Delete this item?"))return;const tt={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[Me];if(!tt)return alert("Invalid item type for deletion.");try{await lI(wi(gn,"artifacts",mn,"users",t,tt,Be))}catch{alert(`Failed to delete ${Me}.`)}},Hi=async Me=>{t&&await OB(wi(gn,"artifacts",mn,"users",t,"paidStatus",Wn),{status:{...wn,[Me]:!wn[Me]}},{merge:!0})},Ar=(Me,Be=null)=>{Yt(Me),Mr(Be),Dt(!0)},Fs=W.useMemo(()=>ie.filter(Me=>(Ne==="All"||Me["Order Status"]===Ne)&&Object.values(Me).some(Be=>String(Be).toLowerCase().includes(Le.toLowerCase()))),[ie,Le,Ne]),Ro=()=>y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your company's finances."})]}),y.jsx("div",{className:"flex items-center gap-4",children:y.jsx("button",{onClick:Co,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:hr==="light"?y.jsx(Eq,{size:20}):y.jsx(Aq,{size:20})})})]}),y.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[y.jsx("button",{onClick:()=>je("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),y.jsx("button",{onClick:()=>je("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),y.jsx("button",{onClick:()=>je("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),y.jsx("button",{onClick:()=>je("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"})]}),y.jsxs("main",{children:[be==="dashboard"&&y.jsxs(y.Fragment,{children:[Io&&y.jsx(Dre,{bills:c,paidStatus:wn,onClose:()=>Po(!1)}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[y.jsx(Zo,{title:"Total Monthly Income",value:`$${Hn.totalIncome.toLocaleString()}`,icon:y.jsx(hq,{size:24}),color:"green"}),y.jsx(Zo,{title:"Total Monthly Outflow",value:`$${Hn.totalOutflow.toLocaleString()}`,icon:y.jsx(cq,{size:24}),color:"red"}),y.jsx(Zo,{title:"Projected Net",value:`$${Hn.netCashFlow.toLocaleString()}`,icon:y.jsx(hx,{size:24}),color:Hn.netCashFlow>=0?"cyan":"amber"}),y.jsx(Zo,{title:"Outstanding Debt",value:`$${Hn.totalDebt.toLocaleString()}`,icon:y.jsx(IM,{size:24}),color:"orange"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[y.jsx(Zo,{title:"Gross Profit Margin",value:`${_t.revenue>0?(_t.grossProfit/_t.revenue*100).toFixed(1):"0.0"}%`,icon:y.jsx(Sq,{size:24}),color:"teal",subtext:"For selected period"}),y.jsx(Zo,{title:"Avg. Job Revenue",value:`$${(_t.revenue/(Sr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(kq,{size:24}),color:"indigo",subtext:`${Sr.length} jobs`}),y.jsx(Zo,{title:"Avg. Job Profit",value:`$${(_t.grossProfit/(Sr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Iq,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsx(Fre,{bills:c,paidStatus:wn,setPaidStatus:qi,selectedCategory:Bn,setSelectedCategory:Pa,handleTogglePaid:Hi,handleSort:di,openModal:Ar,handleDelete:Tr,handleEnhancedExportCSV:()=>{}}),y.jsx("div",{className:"lg:col-span-2 space-y-6",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),y.jsx(Lre,{data:Oa,onSliceClick:Pa})]})})]})]}),be==="jobs"&&y.jsx(Vre,{jobs:b,clients:Z,openModal:Ar,handleDelete:Tr,searchTerm:Lt,setSearchTerm:$t}),be==="recurring"&&y.jsx(Bre,{recurringWork:se,openModal:Ar,handleDelete:Tr,searchTerm:Lt,setSearchTerm:$t}),be==="clients"&&y.jsx(Mre,{clients:Z,openModal:Ar,handleDelete:Tr})]})]}),Ra=()=>{switch(s){case"customers":return y.jsx(one,{customers:G,onAddCustomer:Ca,onUpdateCustomer:on,onAddLocation:No});case"dispatch":return y.jsx(tne,{workOrders:ie,technicians:_e,onSelectOrder:Re,onUpdateOrder:Wr});case"technicians":return y.jsx(une,{technicians:_e,onAddTechnician:Tu,onUpdateTechnician:Na,onDeleteTechnician:Vs});case"route":return y.jsx(fne,{workOrders:ie,technicians:_e});case"billing":return y.jsx(dne,{invoices:V,quotes:[]});default:return y.jsx(Xre,{orders:Fs,onSelectOrder:Re,searchTerm:Le,setSearchTerm:Xe,statusFilter:Ne,setStatusFilter:de})}};return r?y.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):t?y.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[y.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:y.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(T1,{className:"h-8 w-8 text-blue-600"}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Business Suite"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("button",{onClick:()=>a("finance"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="finance"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[y.jsx(hx,{size:20})," Finance"]}),y.jsxs("button",{onClick:()=>a("dispatch"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="dispatch"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[y.jsx(x1,{size:20})," Dispatch"]})]})]})})}),i==="dispatch"&&y.jsxs(y.Fragment,{children:[y.jsx(qre,{currentView:s,setCurrentView:u,onAddOrderClick:()=>ge(!0)}),y.jsx("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Ra()}),Ee&&y.jsx(_ne,{order:Ee,onClose:()=>Re(null),onUpdate:Wr,onAddNote:zi,technicians:_e}),z&&y.jsx(wne,{customers:G,onAddOrder:Wi,onClose:()=>ge(!1)})]}),i==="finance"&&y.jsx("div",{className:`${hr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white`,children:y.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:Ro()})})]}):y.jsx(Cq,{})};L$.createRoot(document.getElementById("root")).render(y.jsx(X.StrictMode,{children:y.jsx(Ane,{})}));
