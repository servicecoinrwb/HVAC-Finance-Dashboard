(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cv={exports:{}},Oc={},fv={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function kV(){if(LA)return et;LA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function w(q,G,ce){this.props=q,this.context=G,this.refs=E,this.updater=ce||b}w.prototype.isReactComponent={},w.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=w.prototype;function O(q,G,ce){this.props=q,this.context=G,this.refs=E,this.updater=ce||b}var P=O.prototype=new C;P.constructor=O,x(P,w.prototype),P.isPureReactComponent=!0;var $=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(q,G,ce){var xe,Re={},be=null,Me=null;if(G!=null)for(xe in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(be=""+G.key),G)N.call(G,xe)&&!A.hasOwnProperty(xe)&&(Re[xe]=G[xe]);var Fe=arguments.length-2;if(Fe===1)Re.children=ce;else if(1<Fe){for(var he=Array(Fe),Oe=0;Oe<Fe;Oe++)he[Oe]=arguments[Oe+2];Re.children=he}if(q&&q.defaultProps)for(xe in Fe=q.defaultProps,Fe)Re[xe]===void 0&&(Re[xe]=Fe[xe]);return{$$typeof:t,type:q,key:be,ref:Me,props:Re,_owner:j.current}}function R(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ce){return G[ce]})}var V=/\/+/g;function M(q,G){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):G.toString(36)}function Z(q,G,ce,xe,Re){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var Me=!1;if(q===null)Me=!0;else switch(be){case"string":case"number":Me=!0;break;case"object":switch(q.$$typeof){case t:case e:Me=!0}}if(Me)return Me=q,Re=Re(Me),q=xe===""?"."+M(Me,0):xe,$(Re)?(ce="",q!=null&&(ce=q.replace(V,"$&/")+"/"),Z(Re,G,ce,"",function(Oe){return Oe})):Re!=null&&(F(Re)&&(Re=R(Re,ce+(!Re.key||Me&&Me.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+q)),G.push(Re)),1;if(Me=0,xe=xe===""?".":xe+":",$(q))for(var Fe=0;Fe<q.length;Fe++){be=q[Fe];var he=xe+M(be,Fe);Me+=Z(be,G,ce,he,Re)}else if(he=v(q),typeof he=="function")for(q=he.call(q),Fe=0;!(be=q.next()).done;)be=be.value,he=xe+M(be,Fe++),Me+=Z(be,G,ce,he,Re);else if(be==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function te(q,G,ce){if(q==null)return q;var xe=[],Re=0;return Z(q,xe,"","",function(be){return G.call(ce,be,Re++)}),xe}function ne(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ce){(q._status===0||q._status===-1)&&(q._status=1,q._result=ce)},function(ce){(q._status===0||q._status===-1)&&(q._status=2,q._result=ce)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var ae={current:null},Q={transition:null},ie={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function oe(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:te,forEach:function(q,G,ce){te(q,function(){G.apply(this,arguments)},ce)},count:function(q){var G=0;return te(q,function(){G++}),G},toArray:function(q){return te(q,function(G){return G})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},et.Component=w,et.Fragment=r,et.Profiler=i,et.PureComponent=O,et.StrictMode=n,et.Suspense=c,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,et.act=oe,et.cloneElement=function(q,G,ce){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=x({},q.props),Re=q.key,be=q.ref,Me=q._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,Me=j.current),G.key!==void 0&&(Re=""+G.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(he in G)N.call(G,he)&&!A.hasOwnProperty(he)&&(xe[he]=G[he]===void 0&&Fe!==void 0?Fe[he]:G[he])}var he=arguments.length-2;if(he===1)xe.children=ce;else if(1<he){Fe=Array(he);for(var Oe=0;Oe<he;Oe++)Fe[Oe]=arguments[Oe+2];xe.children=Fe}return{$$typeof:t,type:q.type,key:Re,ref:be,props:xe,_owner:Me}},et.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},et.createElement=k,et.createFactory=function(q){var G=k.bind(null,q);return G.type=q,G},et.createRef=function(){return{current:null}},et.forwardRef=function(q){return{$$typeof:u,render:q}},et.isValidElement=F,et.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:ne}},et.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},et.startTransition=function(q){var G=Q.transition;Q.transition={};try{q()}finally{Q.transition=G}},et.unstable_act=oe,et.useCallback=function(q,G){return ae.current.useCallback(q,G)},et.useContext=function(q){return ae.current.useContext(q)},et.useDebugValue=function(){},et.useDeferredValue=function(q){return ae.current.useDeferredValue(q)},et.useEffect=function(q,G){return ae.current.useEffect(q,G)},et.useId=function(){return ae.current.useId()},et.useImperativeHandle=function(q,G,ce){return ae.current.useImperativeHandle(q,G,ce)},et.useInsertionEffect=function(q,G){return ae.current.useInsertionEffect(q,G)},et.useLayoutEffect=function(q,G){return ae.current.useLayoutEffect(q,G)},et.useMemo=function(q,G){return ae.current.useMemo(q,G)},et.useReducer=function(q,G,ce){return ae.current.useReducer(q,G,ce)},et.useRef=function(q){return ae.current.useRef(q)},et.useState=function(q){return ae.current.useState(q)},et.useSyncExternalStore=function(q,G,ce){return ae.current.useSyncExternalStore(q,G,ce)},et.useTransition=function(){return ae.current.useTransition()},et.version="18.3.1",et}var $A;function S1(){return $A||($A=1,fv.exports=kV()),fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function PV(){if(FA)return Oc;FA=1;var t=S1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,m={},v=null,b=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:v,ref:b,props:m,_owner:i.current}}return Oc.Fragment=r,Oc.jsx=s,Oc.jsxs=s,Oc}var VA;function IV(){return VA||(VA=1,cv.exports=PV()),cv.exports}var y=IV(),K=S1();const W=vt(K);var qh={},dv={exports:{}},xn={},hv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function OV(){return BA||(BA=1,function(t){function e(Q,ie){var oe=Q.length;Q.push(ie);e:for(;0<oe;){var q=oe-1>>>1,G=Q[q];if(0<i(G,ie))Q[q]=ie,Q[oe]=G,oe=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ie=Q[0],oe=Q.pop();if(oe!==ie){Q[0]=oe;e:for(var q=0,G=Q.length,ce=G>>>1;q<ce;){var xe=2*(q+1)-1,Re=Q[xe],be=xe+1,Me=Q[be];if(0>i(Re,oe))be<G&&0>i(Me,Re)?(Q[q]=Me,Q[be]=oe,q=be):(Q[q]=Re,Q[xe]=oe,q=xe);else if(be<G&&0>i(Me,oe))Q[q]=Me,Q[be]=oe,q=be;else break e}}return ie}function i(Q,ie){var oe=Q.sortIndex-ie.sortIndex;return oe!==0?oe:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,v=3,b=!1,x=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Q){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Q)n(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(f)}}function $(Q){if(E=!1,P(Q),!x)if(r(c)!==null)x=!0,ne(N);else{var ie=r(f);ie!==null&&ae($,ie.startTime-Q)}}function N(Q,ie){x=!1,E&&(E=!1,C(k),k=-1),b=!0;var oe=v;try{for(P(ie),m=r(c);m!==null&&(!(m.expirationTime>ie)||Q&&!L());){var q=m.callback;if(typeof q=="function"){m.callback=null,v=m.priorityLevel;var G=q(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(c)&&n(c),P(ie)}else n(c);m=r(c)}if(m!==null)var ce=!0;else{var xe=r(f);xe!==null&&ae($,xe.startTime-ie),ce=!1}return ce}finally{m=null,v=oe,b=!1}}var j=!1,A=null,k=-1,R=5,F=-1;function L(){return!(t.unstable_now()-F<R)}function V(){if(A!==null){var Q=t.unstable_now();F=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?M():(j=!1,A=null)}}else j=!1}var M;if(typeof O=="function")M=function(){O(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,te=Z.port2;Z.port1.onmessage=V,M=function(){te.postMessage(null)}}else M=function(){w(V,0)};function ne(Q){A=Q,j||(j=!0,M())}function ae(Q,ie){k=w(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,ne(N))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var oe=v;v=ie;try{return Q()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=v;v=Q;try{return ie()}finally{v=oe}},t.unstable_scheduleCallback=function(Q,ie,oe){var q=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?q+oe:q):oe=q,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:oe,expirationTime:G,sortIndex:-1},oe>q?(Q.sortIndex=oe,e(f,Q),r(c)===null&&Q===r(f)&&(E?(C(k),k=-1):E=!0,ae($,oe-q))):(Q.sortIndex=G,e(c,Q),x||b||(x=!0,ne(N))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var ie=v;return function(){var oe=v;v=ie;try{return Q.apply(this,arguments)}finally{v=oe}}}}(pv)),pv}var UA;function CV(){return UA||(UA=1,hv.exports=OV()),hv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function NV(){if(qA)return xn;qA=1;var t=S1(),e=CV();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function b(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,l,d,g){if(l===null||typeof l>"u"||b(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,d,g,_,T,D){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=D}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];w[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function O(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,O);w[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,O);w[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,O);w[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,l,d,g){var _=w.hasOwnProperty(l)?w[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,d,_,g)&&(d=null),g||_===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):_.mustUseProperty?o[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?o.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ce=!1;function xe(o,l){if(!o||ce)return"";ce=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(o,[],l)}else{try{l.call()}catch(ee){g=ee}o.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}o()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var _=ee.stack.split(`
`),T=g.stack.split(`
`),D=_.length-1,U=T.length-1;1<=D&&0<=U&&_[D]!==T[U];)U--;for(;1<=D&&0<=U;D--,U--)if(_[D]!==T[U]){if(D!==1||U!==1)do if(D--,U--,0>U||_[D]!==T[U]){var z=`
`+_[D].replace(" at new "," at ");return o.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",o.displayName)),z}while(1<=D&&0<=U);break}}}finally{ce=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Re(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case j:return"Portal";case R:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case te:return l=o.displayName||null,l!==null?l:be(o.type)||"Memo";case ne:l=o._payload,o=o._init;try{return be(o(l))}catch{}}return null}function Me(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(o){var l=he(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(D){g=""+D,T.call(this,D)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(D){g=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function qe(o){o._valueTracker||(o._valueTracker=Oe(o))}function le(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=he(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function We(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function pt(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Fe(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Et(o,l){l=l.checked,l!=null&&P(o,"checked",l,!1)}function Ht(o,l){Et(o,l);var d=Fe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Jr(o,l.type,d):l.hasOwnProperty("defaultValue")&&Jr(o,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function cr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Jr(o,l,d){(l!=="number"||st(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var At=Array.isArray;function kt(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Fe(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Ir(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Zr(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(At(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Fe(d)}}function di(o,l){var d=Fe(l.value),g=Fe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function hi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Kt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Kt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var pi,is=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(pi=pi||document.createElement("div"),pi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=pi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Fi(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fn=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(o){fn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Un[l]=Un[o]})});function eo(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Un.hasOwnProperty(o)&&Un[o]?(""+l).trim():l+"px"}function mi(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=eo(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,_):o[d]=_}}var gi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function as(o,l){if(l){if(gi[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function qn(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=null;function to(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vi=null,dn=null,zn=null;function rr(o){if(o=mc(o)){if(typeof Vi!="function")throw Error(r(280));var l=o.stateNode;l&&(l=nh(l),Vi(o.stateNode,o.type,l))}}function Wn(o){dn?zn?zn.push(o):zn=[o]:dn=o}function Fr(){if(dn){var o=dn,l=zn;if(zn=dn=null,rr(o),l)for(o=0;o<l.length;o++)rr(l[o])}}function Vr(o,l){return o(l)}function Tn(){}var yi=!1;function ma(o,l,d){if(yi)return o(l,d);yi=!0;try{return Vr(o,l,d)}finally{yi=!1,(dn!==null||zn!==null)&&(Tn(),Fr())}}function Ut(o,l){var d=o.stateNode;if(d===null)return null;var g=nh(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ge=!1;if(u)try{var we={};Object.defineProperty(we,"passive",{get:function(){ge=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{ge=!1}function Ie(o,l,d,g,_,T,D,U,z){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,ee)}catch(de){this.onError(de)}}var Se=!1,De=null,$e=!1,ht=null,Ve={onError:function(o){Se=!0,De=o}};function nr(o,l,d,g,_,T,D,U,z){Se=!1,De=null,Ie.apply(Ve,arguments)}function An(o,l,d,g,_,T,D,U,z){if(nr.apply(this,arguments),Se){if(Se){var ee=De;Se=!1,De=null}else throw Error(r(198));$e||($e=!0,ht=ee)}}function hn(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function ga(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Zt(o){if(hn(o)!==o)throw Error(r(188))}function ro(o){var l=o.alternate;if(!l){if(l=hn(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return Zt(_),o;if(T===g)return Zt(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=T;else{for(var D=!1,U=_.child;U;){if(U===d){D=!0,d=_,g=T;break}if(U===g){D=!0,g=_,d=T;break}U=U.sibling}if(!D){for(U=T.child;U;){if(U===d){D=!0,d=T,g=_;break}if(U===g){D=!0,g=T,d=_;break}U=U.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Hn(o){return o=ro(o),o!==null?vi(o):null}function vi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=vi(o);if(l!==null)return l;o=o.sibling}return null}var Bi=e.unstable_scheduleCallback,kn=e.unstable_cancelCallback,Od=e.unstable_shouldYield,Fg=e.unstable_requestPaint,Pt=e.unstable_now,Cd=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,no=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,Ju=e.unstable_LowPriority,Nd=e.unstable_IdlePriority,ss=null,Pn=null;function Rd(o){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(ss,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Md,Zu=Math.log,jd=Math.LN2;function Md(o){return o>>>=0,o===0?32:31-(Zu(o)/jd|0)|0}var cl=64,fl=4194304;function io(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ls(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,_=o.suspendedLanes,T=o.pingedLanes,D=d&268435455;if(D!==0){var U=D&~_;U!==0?g=io(U):(T&=D,T!==0&&(g=io(T)))}else D=d&~_,D!==0?g=io(D):T!==0&&(g=io(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,T=l&-l,_>=T||_===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-en(l),_=1<<d,g|=o[d],l&=~_;return g}function Vg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var D=31-en(T),U=1<<D,z=_[D];z===-1?((U&d)===0||(U&g)!==0)&&(_[D]=Vg(U,l)):z<=l&&(o.expiredLanes|=U),T&=~U}}function In(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function us(){var o=cl;return cl<<=1,(cl&4194240)===0&&(cl=64),o}function ao(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function oo(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-en(l),o[l]=d}function St(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var _=31-en(d),T=1<<_;l[_]=0,g[_]=-1,o[_]=-1,d&=~T}}function so(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-en(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}var nt=0;function lo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Dd,dl,Ld,$d,Fd,ec=!1,Ui=[],Or=null,bi=null,_i=null,uo=new Map,Gn=new Map,qi=[],Bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(o,l){switch(o){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":uo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(l.pointerId)}}function pn(o,l,d,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},l!==null&&(l=mc(l),l!==null&&dl(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function Ug(o,l,d,g,_){switch(l){case"focusin":return Or=pn(Or,o,l,d,g,_),!0;case"dragenter":return bi=pn(bi,o,l,d,g,_),!0;case"mouseover":return _i=pn(_i,o,l,d,g,_),!0;case"pointerover":var T=_.pointerId;return uo.set(T,pn(uo.get(T)||null,o,l,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Gn.set(T,pn(Gn.get(T)||null,o,l,d,g,_)),!0}return!1}function Bd(o){var l=ps(o.target);if(l!==null){var d=hn(l);if(d!==null){if(l=d.tag,l===13){if(l=ga(d),l!==null){o.blockedOn=l,Fd(o.priority,function(){Ld(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function va(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=hl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);pa=g,d.target.dispatchEvent(g),pa=null}else return l=mc(d),l!==null&&dl(l),o.blockedOn=d,!1;l.shift()}return!0}function cs(o,l,d){va(o)&&d.delete(l)}function Ud(){ec=!1,Or!==null&&va(Or)&&(Or=null),bi!==null&&va(bi)&&(bi=null),_i!==null&&va(_i)&&(_i=null),uo.forEach(cs),Gn.forEach(cs)}function xi(o,l){o.blockedOn===l&&(o.blockedOn=null,ec||(ec=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ud)))}function wi(o){function l(_){return xi(_,o)}if(0<Ui.length){xi(Ui[0],o);for(var d=1;d<Ui.length;d++){var g=Ui[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Or!==null&&xi(Or,o),bi!==null&&xi(bi,o),_i!==null&&xi(_i,o),uo.forEach(l),Gn.forEach(l),d=0;d<qi.length;d++)g=qi[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<qi.length&&(d=qi[0],d.blockedOn===null);)Bd(d),d.blockedOn===null&&qi.shift()}var ba=$.ReactCurrentBatchConfig,co=!0;function $t(o,l,d,g){var _=nt,T=ba.transition;ba.transition=null;try{nt=1,tc(o,l,d,g)}finally{nt=_,ba.transition=T}}function qg(o,l,d,g){var _=nt,T=ba.transition;ba.transition=null;try{nt=4,tc(o,l,d,g)}finally{nt=_,ba.transition=T}}function tc(o,l,d,g){if(co){var _=hl(o,l,d,g);if(_===null)ey(o,l,g,fs,d),Vd(o,g);else if(Ug(_,o,l,d,g))g.stopPropagation();else if(Vd(o,g),l&4&&-1<Bg.indexOf(o)){for(;_!==null;){var T=mc(_);if(T!==null&&Dd(T),T=hl(o,l,d,g),T===null&&ey(o,l,g,fs,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else ey(o,l,g,null,d)}}var fs=null;function hl(o,l,d,g){if(fs=null,o=to(g),o=ps(o),o!==null)if(l=hn(o),l===null)o=null;else if(d=l.tag,d===13){if(o=ga(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return fs=o,null}function rc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cd()){case os:return 1;case no:return 4;case Kn:case Ju:return 16;case Nd:return 536870912;default:return 16}default:return 16}}var On=null,pl=null,mn=null;function nc(){if(mn)return mn;var o,l=pl,d=l.length,g,_="value"in On?On.value:On.textContent,T=_.length;for(o=0;o<d&&l[o]===_[o];o++);var D=d-o;for(g=1;g<=D&&l[d-g]===_[T-g];g++);return mn=_.slice(o,1<g?1-g:void 0)}function ml(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function zi(){return!0}function ic(){return!1}function Cr(o){function l(d,g,_,T,D){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?zi:ic,this.isPropagationStopped=ic,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),l}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=Cr(Ei),Wi=oe({},Ei,{view:0,detail:0}),zg=Cr(Wi),yl,_a,fo,ds=oe({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==fo&&(fo&&o.type==="mousemove"?(yl=o.screenX-fo.screenX,_a=o.screenY-fo.screenY):_a=yl=0,fo=o),yl)},movementY:function(o){return"movementY"in o?o.movementY:_a}}),vl=Cr(ds),ac=oe({},ds,{dataTransfer:0}),qd=Cr(ac),bl=oe({},Wi,{relatedTarget:0}),_l=Cr(bl),zd=oe({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Cr(zd),Wd=oe({},Ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Hd=Cr(Wd),Kd=oe({},Ei,{data:0}),oc=Cr(Kd),xl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yd(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Gd[o])?!!l[o]:!1}function Hi(){return Yd}var p=oe({},Wi,{key:function(o){if(o.key){var l=xl[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ml(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?tn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(o){return o.type==="keypress"?ml(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ml(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Cr(p),I=oe({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Cr(I),Y=oe({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),re=Cr(Y),_e=oe({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Cr(_e),fr=oe({},ds,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),at=Cr(fr),_r=[9,13,27,32],ir=u&&"CompositionEvent"in window,Yn=null;u&&"documentMode"in document&&(Yn=document.documentMode);var Cn=u&&"TextEvent"in window&&!Yn,hs=u&&(!ir||Yn&&8<Yn&&11>=Yn),wl=" ",CS=!1;function NS(o,l){switch(o){case"keyup":return _r.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var El=!1;function SF(o,l){switch(o){case"compositionend":return RS(l);case"keypress":return l.which!==32?null:(CS=!0,wl);case"textInput":return o=l.data,o===wl&&CS?null:o;default:return null}}function TF(o,l){if(El)return o==="compositionend"||!ir&&NS(o,l)?(o=nc(),mn=pl=On=null,El=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return hs&&l.locale!=="ko"?null:l.data;default:return null}}var AF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!AF[o.type]:l==="textarea"}function MS(o,l,d,g){Wn(g),l=eh(l,"onChange"),0<l.length&&(d=new gl("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var sc=null,lc=null;function kF(o){ZS(o,0)}function Xd(o){var l=Pl(o);if(le(l))return o}function PF(o,l){if(o==="change")return l}var DS=!1;if(u){var Wg;if(u){var Hg="oninput"in document;if(!Hg){var LS=document.createElement("div");LS.setAttribute("oninput","return;"),Hg=typeof LS.oninput=="function"}Wg=Hg}else Wg=!1;DS=Wg&&(!document.documentMode||9<document.documentMode)}function $S(){sc&&(sc.detachEvent("onpropertychange",FS),lc=sc=null)}function FS(o){if(o.propertyName==="value"&&Xd(lc)){var l=[];MS(l,lc,o,to(o)),ma(kF,l)}}function IF(o,l,d){o==="focusin"?($S(),sc=l,lc=d,sc.attachEvent("onpropertychange",FS)):o==="focusout"&&$S()}function OF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Xd(lc)}function CF(o,l){if(o==="click")return Xd(l)}function NF(o,l){if(o==="input"||o==="change")return Xd(l)}function RF(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Si=typeof Object.is=="function"?Object.is:RF;function uc(o,l){if(Si(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!Si(o[_],l[_]))return!1}return!0}function VS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function BS(o,l){var d=VS(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=VS(d)}}function US(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?US(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function qS(){for(var o=window,l=st();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=st(o.document)}return l}function Kg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function jF(o){var l=qS(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&US(d.ownerDocument.documentElement,d)){if(g!==null&&Kg(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=d.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!o.extend&&T>g&&(_=g,g=T,T=_),_=BS(d,T);var D=BS(d,g);_&&D&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==D.node||o.focusOffset!==D.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),T>g?(o.addRange(l),o.extend(D.node,D.offset)):(l.setEnd(D.node,D.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var MF=u&&"documentMode"in document&&11>=document.documentMode,Sl=null,Gg=null,cc=null,Yg=!1;function zS(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Yg||Sl==null||Sl!==st(g)||(g=Sl,"selectionStart"in g&&Kg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),cc&&uc(cc,g)||(cc=g,g=eh(Gg,"onSelect"),0<g.length&&(l=new gl("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Sl)))}function Qd(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Tl={animationend:Qd("Animation","AnimationEnd"),animationiteration:Qd("Animation","AnimationIteration"),animationstart:Qd("Animation","AnimationStart"),transitionend:Qd("Transition","TransitionEnd")},Xg={},WS={};u&&(WS=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function Jd(o){if(Xg[o])return Xg[o];if(!Tl[o])return o;var l=Tl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in WS)return Xg[o]=l[d];return o}var HS=Jd("animationend"),KS=Jd("animationiteration"),GS=Jd("animationstart"),YS=Jd("transitionend"),XS=new Map,QS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(o,l){XS.set(o,l),a(l,[o])}for(var Qg=0;Qg<QS.length;Qg++){var Jg=QS[Qg],DF=Jg.toLowerCase(),LF=Jg[0].toUpperCase()+Jg.slice(1);ho(DF,"on"+LF)}ho(HS,"onAnimationEnd"),ho(KS,"onAnimationIteration"),ho(GS,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(YS,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$F=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function JS(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,An(g,l,void 0,o),o.currentTarget=null}function ZS(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var D=g.length-1;0<=D;D--){var U=g[D],z=U.instance,ee=U.currentTarget;if(U=U.listener,z!==T&&_.isPropagationStopped())break e;JS(_,U,ee),T=z}else for(D=0;D<g.length;D++){if(U=g[D],z=U.instance,ee=U.currentTarget,U=U.listener,z!==T&&_.isPropagationStopped())break e;JS(_,U,ee),T=z}}}if($e)throw o=ht,$e=!1,ht=null,o}function Rt(o,l){var d=l[oy];d===void 0&&(d=l[oy]=new Set);var g=o+"__bubble";d.has(g)||(eT(l,o,2,!1),d.add(g))}function Zg(o,l,d){var g=0;l&&(g|=4),eT(d,o,g,l)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function dc(o){if(!o[Zd]){o[Zd]=!0,n.forEach(function(d){d!=="selectionchange"&&($F.has(d)||Zg(d,!1,o),Zg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Zd]||(l[Zd]=!0,Zg("selectionchange",!1,l))}}function eT(o,l,d,g){switch(rc(l)){case 1:var _=$t;break;case 4:_=qg;break;default:_=tc}d=_.bind(null,l,d,o),_=void 0,!ge||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function ey(o,l,d,g,_){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var D=g.tag;if(D===3||D===4){var U=g.stateNode.containerInfo;if(U===_||U.nodeType===8&&U.parentNode===_)break;if(D===4)for(D=g.return;D!==null;){var z=D.tag;if((z===3||z===4)&&(z=D.stateNode.containerInfo,z===_||z.nodeType===8&&z.parentNode===_))return;D=D.return}for(;U!==null;){if(D=ps(U),D===null)return;if(z=D.tag,z===5||z===6){g=T=D;continue e}U=U.parentNode}}g=g.return}ma(function(){var ee=T,de=to(d),me=[];e:{var fe=XS.get(o);if(fe!==void 0){var Ee=gl,Pe=o;switch(o){case"keypress":if(ml(d)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":Pe="focus",Ee=_l;break;case"focusout":Pe="blur",Ee=_l;break;case"beforeblur":case"afterblur":Ee=_l;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=re;break;case HS:case KS:case GS:Ee=xa;break;case YS:Ee=bt;break;case"scroll":Ee=zg;break;case"wheel":Ee=at;break;case"copy":case"cut":case"paste":Ee=Hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Ce=(l&4)!==0,er=!Ce&&o==="scroll",X=Ce?fe!==null?fe+"Capture":null:fe;Ce=[];for(var H=ee,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,X!==null&&(ye=Ut(H,X),ye!=null&&Ce.push(hc(H,ye,J)))),er)break;H=H.return}0<Ce.length&&(fe=new Ee(fe,Pe,null,d,de),me.push({event:fe,listeners:Ce}))}}if((l&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",Ee=o==="mouseout"||o==="pointerout",fe&&d!==pa&&(Pe=d.relatedTarget||d.fromElement)&&(ps(Pe)||Pe[wa]))break e;if((Ee||fe)&&(fe=de.window===de?de:(fe=de.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(Pe=d.relatedTarget||d.toElement,Ee=ee,Pe=Pe?ps(Pe):null,Pe!==null&&(er=hn(Pe),Pe!==er||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ee=null,Pe=ee),Ee!==Pe)){if(Ce=vl,ye="onMouseLeave",X="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=B,ye="onPointerLeave",X="onPointerEnter",H="pointer"),er=Ee==null?fe:Pl(Ee),J=Pe==null?fe:Pl(Pe),fe=new Ce(ye,H+"leave",Ee,d,de),fe.target=er,fe.relatedTarget=J,ye=null,ps(de)===ee&&(Ce=new Ce(X,H+"enter",Pe,d,de),Ce.target=J,Ce.relatedTarget=er,ye=Ce),er=ye,Ee&&Pe)t:{for(Ce=Ee,X=Pe,H=0,J=Ce;J;J=Al(J))H++;for(J=0,ye=X;ye;ye=Al(ye))J++;for(;0<H-J;)Ce=Al(Ce),H--;for(;0<J-H;)X=Al(X),J--;for(;H--;){if(Ce===X||X!==null&&Ce===X.alternate)break t;Ce=Al(Ce),X=Al(X)}Ce=null}else Ce=null;Ee!==null&&tT(me,fe,Ee,Ce,!1),Pe!==null&&er!==null&&tT(me,er,Pe,Ce,!0)}}e:{if(fe=ee?Pl(ee):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var je=PF;else if(jS(fe))if(DS)je=NF;else{je=OF;var Be=IF}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(je=CF);if(je&&(je=je(o,ee))){MS(me,je,d,de);break e}Be&&Be(o,fe,ee),o==="focusout"&&(Be=fe._wrapperState)&&Be.controlled&&fe.type==="number"&&Jr(fe,"number",fe.value)}switch(Be=ee?Pl(ee):window,o){case"focusin":(jS(Be)||Be.contentEditable==="true")&&(Sl=Be,Gg=ee,cc=null);break;case"focusout":cc=Gg=Sl=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,zS(me,d,de);break;case"selectionchange":if(MF)break;case"keydown":case"keyup":zS(me,d,de)}var Ue;if(ir)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else El?NS(o,d)&&(Ge="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ge="onCompositionStart");Ge&&(hs&&d.locale!=="ko"&&(El||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&El&&(Ue=nc()):(On=de,pl="value"in On?On.value:On.textContent,El=!0)),Be=eh(ee,Ge),0<Be.length&&(Ge=new oc(Ge,o,null,d,de),me.push({event:Ge,listeners:Be}),Ue?Ge.data=Ue:(Ue=RS(d),Ue!==null&&(Ge.data=Ue)))),(Ue=Cn?SF(o,d):TF(o,d))&&(ee=eh(ee,"onBeforeInput"),0<ee.length&&(de=new oc("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:ee}),de.data=Ue))}ZS(me,l)})}function hc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function eh(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Ut(o,d),T!=null&&g.unshift(hc(o,T,_)),T=Ut(o,l),T!=null&&g.push(hc(o,T,_))),o=o.return}return g}function Al(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function tT(o,l,d,g,_){for(var T=l._reactName,D=[];d!==null&&d!==g;){var U=d,z=U.alternate,ee=U.stateNode;if(z!==null&&z===g)break;U.tag===5&&ee!==null&&(U=ee,_?(z=Ut(d,T),z!=null&&D.unshift(hc(d,z,U))):_||(z=Ut(d,T),z!=null&&D.push(hc(d,z,U)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var FF=/\r\n?/g,VF=/\u0000|\uFFFD/g;function rT(o){return(typeof o=="string"?o:""+o).replace(FF,`
`).replace(VF,"")}function th(o,l,d){if(l=rT(l),rT(o)!==l&&d)throw Error(r(425))}function rh(){}var ty=null,ry=null;function ny(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,BF=typeof clearTimeout=="function"?clearTimeout:void 0,nT=typeof Promise=="function"?Promise:void 0,UF=typeof queueMicrotask=="function"?queueMicrotask:typeof nT<"u"?function(o){return nT.resolve(null).then(o).catch(qF)}:iy;function qF(o){setTimeout(function(){throw o})}function ay(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){o.removeChild(_),wi(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);wi(l)}function po(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function iT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Ki="__reactFiber$"+kl,pc="__reactProps$"+kl,wa="__reactContainer$"+kl,oy="__reactEvents$"+kl,zF="__reactListeners$"+kl,WF="__reactHandles$"+kl;function ps(o){var l=o[Ki];if(l)return l;for(var d=o.parentNode;d;){if(l=d[wa]||d[Ki]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=iT(o);o!==null;){if(d=o[Ki])return d;o=iT(o)}return l}o=d,d=o.parentNode}return null}function mc(o){return o=o[Ki]||o[wa],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Pl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function nh(o){return o[pc]||null}var sy=[],Il=-1;function mo(o){return{current:o}}function jt(o){0>Il||(o.current=sy[Il],sy[Il]=null,Il--)}function It(o,l){Il++,sy[Il]=o.current,o.current=l}var go={},Br=mo(go),gn=mo(!1),ms=go;function Ol(o,l){var d=o.type.contextTypes;if(!d)return go;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=l[T];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function yn(o){return o=o.childContextTypes,o!=null}function ih(){jt(gn),jt(Br)}function aT(o,l,d){if(Br.current!==go)throw Error(r(168));It(Br,l),It(gn,d)}function oT(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,Me(o)||"Unknown",_));return oe({},d,g)}function ah(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||go,ms=Br.current,It(Br,o),It(gn,gn.current),!0}function sT(o,l,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=oT(o,l,ms),g.__reactInternalMemoizedMergedChildContext=o,jt(gn),jt(Br),It(Br,o)):jt(gn),It(gn,d)}var Ea=null,oh=!1,ly=!1;function lT(o){Ea===null?Ea=[o]:Ea.push(o)}function HF(o){oh=!0,lT(o)}function yo(){if(!ly&&Ea!==null){ly=!0;var o=0,l=nt;try{var d=Ea;for(nt=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Ea=null,oh=!1}catch(_){throw Ea!==null&&(Ea=Ea.slice(o+1)),Bi(os,yo),_}finally{nt=l,ly=!1}}return null}var Cl=[],Nl=0,sh=null,lh=0,Xn=[],Qn=0,gs=null,Sa=1,Ta="";function ys(o,l){Cl[Nl++]=lh,Cl[Nl++]=sh,sh=o,lh=l}function uT(o,l,d){Xn[Qn++]=Sa,Xn[Qn++]=Ta,Xn[Qn++]=gs,gs=o;var g=Sa;o=Ta;var _=32-en(g)-1;g&=~(1<<_),d+=1;var T=32-en(l)+_;if(30<T){var D=_-_%5;T=(g&(1<<D)-1).toString(32),g>>=D,_-=D,Sa=1<<32-en(l)+_|d<<_|g,Ta=T+o}else Sa=1<<T|d<<_|g,Ta=o}function uy(o){o.return!==null&&(ys(o,1),uT(o,1,0))}function cy(o){for(;o===sh;)sh=Cl[--Nl],Cl[Nl]=null,lh=Cl[--Nl],Cl[Nl]=null;for(;o===gs;)gs=Xn[--Qn],Xn[Qn]=null,Ta=Xn[--Qn],Xn[Qn]=null,Sa=Xn[--Qn],Xn[Qn]=null}var Nn=null,Rn=null,Ft=!1,Ti=null;function cT(o,l){var d=ti(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function fT(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Nn=o,Rn=po(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Nn=o,Rn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=gs!==null?{id:Sa,overflow:Ta}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=ti(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Nn=o,Rn=null,!0):!1;default:return!1}}function fy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dy(o){if(Ft){var l=Rn;if(l){var d=l;if(!fT(o,l)){if(fy(o))throw Error(r(418));l=po(d.nextSibling);var g=Nn;l&&fT(o,l)?cT(g,d):(o.flags=o.flags&-4097|2,Ft=!1,Nn=o)}}else{if(fy(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ft=!1,Nn=o}}}function dT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Nn=o}function uh(o){if(o!==Nn)return!1;if(!Ft)return dT(o),Ft=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!ny(o.type,o.memoizedProps)),l&&(l=Rn)){if(fy(o))throw hT(),Error(r(418));for(;l;)cT(o,l),l=po(l.nextSibling)}if(dT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Rn=po(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Rn=null}}else Rn=Nn?po(o.stateNode.nextSibling):null;return!0}function hT(){for(var o=Rn;o;)o=po(o.nextSibling)}function Rl(){Rn=Nn=null,Ft=!1}function hy(o){Ti===null?Ti=[o]:Ti.push(o)}var KF=$.ReactCurrentBatchConfig;function gc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var _=g,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(D){var U=_.refs;D===null?delete U[T]:U[T]=D},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function ch(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function pT(o){var l=o._init;return l(o._payload)}function mT(o){function l(X,H){if(o){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function d(X,H){if(!o)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function g(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function _(X,H){return X=To(X,H),X.index=0,X.sibling=null,X}function T(X,H,J){return X.index=J,o?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function D(X){return o&&X.alternate===null&&(X.flags|=2),X}function U(X,H,J,ye){return H===null||H.tag!==6?(H=iv(J,X.mode,ye),H.return=X,H):(H=_(H,J),H.return=X,H)}function z(X,H,J,ye){var je=J.type;return je===A?de(X,H,J.props.children,ye,J.key):H!==null&&(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ne&&pT(je)===H.type)?(ye=_(H,J.props),ye.ref=gc(X,H,J),ye.return=X,ye):(ye=jh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=gc(X,H,J),ye.return=X,ye)}function ee(X,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=av(J,X.mode,ye),H.return=X,H):(H=_(H,J.children||[]),H.return=X,H)}function de(X,H,J,ye,je){return H===null||H.tag!==7?(H=Ts(J,X.mode,ye,je),H.return=X,H):(H=_(H,J),H.return=X,H)}function me(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=iv(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return J=jh(H.type,H.key,H.props,null,X.mode,J),J.ref=gc(X,null,H),J.return=X,J;case j:return H=av(H,X.mode,J),H.return=X,H;case ne:var ye=H._init;return me(X,ye(H._payload),J)}if(At(H)||ie(H))return H=Ts(H,X.mode,J,null),H.return=X,H;ch(X,H)}return null}function fe(X,H,J,ye){var je=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:U(X,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===je?z(X,H,J,ye):null;case j:return J.key===je?ee(X,H,J,ye):null;case ne:return je=J._init,fe(X,H,je(J._payload),ye)}if(At(J)||ie(J))return je!==null?null:de(X,H,J,ye,null);ch(X,J)}return null}function Ee(X,H,J,ye,je){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(J)||null,U(H,X,""+ye,je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case N:return X=X.get(ye.key===null?J:ye.key)||null,z(H,X,ye,je);case j:return X=X.get(ye.key===null?J:ye.key)||null,ee(H,X,ye,je);case ne:var Be=ye._init;return Ee(X,H,J,Be(ye._payload),je)}if(At(ye)||ie(ye))return X=X.get(J)||null,de(H,X,ye,je,null);ch(H,ye)}return null}function Pe(X,H,J,ye){for(var je=null,Be=null,Ue=H,Ge=H=0,Er=null;Ue!==null&&Ge<J.length;Ge++){Ue.index>Ge?(Er=Ue,Ue=null):Er=Ue.sibling;var ut=fe(X,Ue,J[Ge],ye);if(ut===null){Ue===null&&(Ue=Er);break}o&&Ue&&ut.alternate===null&&l(X,Ue),H=T(ut,H,Ge),Be===null?je=ut:Be.sibling=ut,Be=ut,Ue=Er}if(Ge===J.length)return d(X,Ue),Ft&&ys(X,Ge),je;if(Ue===null){for(;Ge<J.length;Ge++)Ue=me(X,J[Ge],ye),Ue!==null&&(H=T(Ue,H,Ge),Be===null?je=Ue:Be.sibling=Ue,Be=Ue);return Ft&&ys(X,Ge),je}for(Ue=g(X,Ue);Ge<J.length;Ge++)Er=Ee(Ue,X,Ge,J[Ge],ye),Er!==null&&(o&&Er.alternate!==null&&Ue.delete(Er.key===null?Ge:Er.key),H=T(Er,H,Ge),Be===null?je=Er:Be.sibling=Er,Be=Er);return o&&Ue.forEach(function(Ao){return l(X,Ao)}),Ft&&ys(X,Ge),je}function Ce(X,H,J,ye){var je=ie(J);if(typeof je!="function")throw Error(r(150));if(J=je.call(J),J==null)throw Error(r(151));for(var Be=je=null,Ue=H,Ge=H=0,Er=null,ut=J.next();Ue!==null&&!ut.done;Ge++,ut=J.next()){Ue.index>Ge?(Er=Ue,Ue=null):Er=Ue.sibling;var Ao=fe(X,Ue,ut.value,ye);if(Ao===null){Ue===null&&(Ue=Er);break}o&&Ue&&Ao.alternate===null&&l(X,Ue),H=T(Ao,H,Ge),Be===null?je=Ao:Be.sibling=Ao,Be=Ao,Ue=Er}if(ut.done)return d(X,Ue),Ft&&ys(X,Ge),je;if(Ue===null){for(;!ut.done;Ge++,ut=J.next())ut=me(X,ut.value,ye),ut!==null&&(H=T(ut,H,Ge),Be===null?je=ut:Be.sibling=ut,Be=ut);return Ft&&ys(X,Ge),je}for(Ue=g(X,Ue);!ut.done;Ge++,ut=J.next())ut=Ee(Ue,X,Ge,ut.value,ye),ut!==null&&(o&&ut.alternate!==null&&Ue.delete(ut.key===null?Ge:ut.key),H=T(ut,H,Ge),Be===null?je=ut:Be.sibling=ut,Be=ut);return o&&Ue.forEach(function(AV){return l(X,AV)}),Ft&&ys(X,Ge),je}function er(X,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var je=J.key,Be=H;Be!==null;){if(Be.key===je){if(je=J.type,je===A){if(Be.tag===7){d(X,Be.sibling),H=_(Be,J.props.children),H.return=X,X=H;break e}}else if(Be.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ne&&pT(je)===Be.type){d(X,Be.sibling),H=_(Be,J.props),H.ref=gc(X,Be,J),H.return=X,X=H;break e}d(X,Be);break}else l(X,Be);Be=Be.sibling}J.type===A?(H=Ts(J.props.children,X.mode,ye,J.key),H.return=X,X=H):(ye=jh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=gc(X,H,J),ye.return=X,X=ye)}return D(X);case j:e:{for(Be=J.key;H!==null;){if(H.key===Be)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(X,H.sibling),H=_(H,J.children||[]),H.return=X,X=H;break e}else{d(X,H);break}else l(X,H);H=H.sibling}H=av(J,X.mode,ye),H.return=X,X=H}return D(X);case ne:return Be=J._init,er(X,H,Be(J._payload),ye)}if(At(J))return Pe(X,H,J,ye);if(ie(J))return Ce(X,H,J,ye);ch(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(X,H.sibling),H=_(H,J),H.return=X,X=H):(d(X,H),H=iv(J,X.mode,ye),H.return=X,X=H),D(X)):d(X,H)}return er}var jl=mT(!0),gT=mT(!1),fh=mo(null),dh=null,Ml=null,py=null;function my(){py=Ml=dh=null}function gy(o){var l=fh.current;jt(fh),o._currentValue=l}function yy(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function Dl(o,l){dh=o,py=Ml=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vn=!0),o.firstContext=null)}function Jn(o){var l=o._currentValue;if(py!==o)if(o={context:o,memoizedValue:l,next:null},Ml===null){if(dh===null)throw Error(r(308));Ml=o,dh.dependencies={lanes:0,firstContext:o}}else Ml=Ml.next=o;return l}var vs=null;function vy(o){vs===null?vs=[o]:vs.push(o)}function yT(o,l,d,g){var _=l.interleaved;return _===null?(d.next=d,vy(l)):(d.next=_.next,_.next=d),l.interleaved=d,Aa(o,g)}function Aa(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var vo=!1;function by(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ka(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function bo(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(lt&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,Aa(o,d)}return _=g.interleaved,_===null?(l.next=l,vy(g)):(l.next=_.next,_.next=l),g.interleaved=l,Aa(o,d)}function hh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,so(o,d)}}function bT(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=D:T=T.next=D,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function ph(o,l,d,g){var _=o.updateQueue;vo=!1;var T=_.firstBaseUpdate,D=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var z=U,ee=z.next;z.next=null,D===null?T=ee:D.next=ee,D=z;var de=o.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==D&&(U===null?de.firstBaseUpdate=ee:U.next=ee,de.lastBaseUpdate=z))}if(T!==null){var me=_.baseState;D=0,de=ee=z=null,U=T;do{var fe=U.lane,Ee=U.eventTime;if((g&fe)===fe){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Pe=o,Ce=U;switch(fe=l,Ee=d,Ce.tag){case 1:if(Pe=Ce.payload,typeof Pe=="function"){me=Pe.call(Ee,me,fe);break e}me=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ce.payload,fe=typeof Pe=="function"?Pe.call(Ee,me,fe):Pe,fe==null)break e;me=oe({},me,fe);break e;case 2:vo=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,fe=_.effects,fe===null?_.effects=[U]:fe.push(U))}else Ee={eventTime:Ee,lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(ee=de=Ee,z=me):de=de.next=Ee,D|=fe;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;fe=U,U=fe.next,fe.next=null,_.lastBaseUpdate=fe,_.shared.pending=null}}while(!0);if(de===null&&(z=me),_.baseState=z,_.firstBaseUpdate=ee,_.lastBaseUpdate=de,l=_.shared.interleaved,l!==null){_=l;do D|=_.lane,_=_.next;while(_!==l)}else T===null&&(_.shared.lanes=0);xs|=D,o.lanes=D,o.memoizedState=me}}function _T(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var yc={},Gi=mo(yc),vc=mo(yc),bc=mo(yc);function bs(o){if(o===yc)throw Error(r(174));return o}function _y(o,l){switch(It(bc,l),It(vc,o),It(Gi,yc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Jt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Jt(l,o)}jt(Gi),It(Gi,l)}function Ll(){jt(Gi),jt(vc),jt(bc)}function xT(o){bs(bc.current);var l=bs(Gi.current),d=Jt(l,o.type);l!==d&&(It(vc,o),It(Gi,d))}function xy(o){vc.current===o&&(jt(Gi),jt(vc))}var qt=mo(0);function mh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var wy=[];function Ey(){for(var o=0;o<wy.length;o++)wy[o]._workInProgressVersionPrimary=null;wy.length=0}var gh=$.ReactCurrentDispatcher,Sy=$.ReactCurrentBatchConfig,_s=0,zt=null,dr=null,xr=null,yh=!1,_c=!1,xc=0,GF=0;function Ur(){throw Error(r(321))}function Ty(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Si(o[d],l[d]))return!1;return!0}function Ay(o,l,d,g,_,T){if(_s=T,zt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,gh.current=o===null||o.memoizedState===null?JF:ZF,o=d(g,_),_c){T=0;do{if(_c=!1,xc=0,25<=T)throw Error(r(301));T+=1,xr=dr=null,l.updateQueue=null,gh.current=eV,o=d(g,_)}while(_c)}if(gh.current=_h,l=dr!==null&&dr.next!==null,_s=0,xr=dr=zt=null,yh=!1,l)throw Error(r(300));return o}function ky(){var o=xc!==0;return xc=0,o}function Yi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?zt.memoizedState=xr=o:xr=xr.next=o,xr}function Zn(){if(dr===null){var o=zt.alternate;o=o!==null?o.memoizedState:null}else o=dr.next;var l=xr===null?zt.memoizedState:xr.next;if(l!==null)xr=l,dr=o;else{if(o===null)throw Error(r(310));dr=o,o={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},xr===null?zt.memoizedState=xr=o:xr=xr.next=o}return xr}function wc(o,l){return typeof l=="function"?l(o):l}function Py(o){var l=Zn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=dr,_=g.baseQueue,T=d.pending;if(T!==null){if(_!==null){var D=_.next;_.next=T.next,T.next=D}g.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,g=g.baseState;var U=D=null,z=null,ee=T;do{var de=ee.lane;if((_s&de)===de)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:o(g,ee.action);else{var me={lane:de,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(U=z=me,D=g):z=z.next=me,zt.lanes|=de,xs|=de}ee=ee.next}while(ee!==null&&ee!==T);z===null?D=g:z.next=U,Si(g,l.memoizedState)||(vn=!0),l.memoizedState=g,l.baseState=D,l.baseQueue=z,d.lastRenderedState=g}if(o=d.interleaved,o!==null){_=o;do T=_.lane,zt.lanes|=T,xs|=T,_=_.next;while(_!==o)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Iy(o){var l=Zn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var D=_=_.next;do T=o(T,D.action),D=D.next;while(D!==_);Si(T,l.memoizedState)||(vn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function wT(){}function ET(o,l){var d=zt,g=Zn(),_=l(),T=!Si(g.memoizedState,_);if(T&&(g.memoizedState=_,vn=!0),g=g.queue,Oy(AT.bind(null,d,g,o),[o]),g.getSnapshot!==l||T||xr!==null&&xr.memoizedState.tag&1){if(d.flags|=2048,Ec(9,TT.bind(null,d,g,_,l),void 0,null),wr===null)throw Error(r(349));(_s&30)!==0||ST(d,l,_)}return _}function ST(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=zt.updateQueue,l===null?(l={lastEffect:null,stores:null},zt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function TT(o,l,d,g){l.value=d,l.getSnapshot=g,kT(l)&&PT(o)}function AT(o,l,d){return d(function(){kT(l)&&PT(o)})}function kT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Si(o,d)}catch{return!0}}function PT(o){var l=Aa(o,1);l!==null&&Ii(l,o,1,-1)}function IT(o){var l=Yi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:o},l.queue=o,o=o.dispatch=QF.bind(null,zt,o),[l.memoizedState,o]}function Ec(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=zt.updateQueue,l===null?(l={lastEffect:null,stores:null},zt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function OT(){return Zn().memoizedState}function vh(o,l,d,g){var _=Yi();zt.flags|=o,_.memoizedState=Ec(1|l,d,void 0,g===void 0?null:g)}function bh(o,l,d,g){var _=Zn();g=g===void 0?null:g;var T=void 0;if(dr!==null){var D=dr.memoizedState;if(T=D.destroy,g!==null&&Ty(g,D.deps)){_.memoizedState=Ec(l,d,T,g);return}}zt.flags|=o,_.memoizedState=Ec(1|l,d,T,g)}function CT(o,l){return vh(8390656,8,o,l)}function Oy(o,l){return bh(2048,8,o,l)}function NT(o,l){return bh(4,2,o,l)}function RT(o,l){return bh(4,4,o,l)}function jT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function MT(o,l,d){return d=d!=null?d.concat([o]):null,bh(4,4,jT.bind(null,l,o),d)}function Cy(){}function DT(o,l){var d=Zn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ty(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function LT(o,l){var d=Zn();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ty(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function $T(o,l,d){return(_s&21)===0?(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=d):(Si(d,l)||(d=us(),zt.lanes|=d,xs|=d,o.baseState=!0),l)}function YF(o,l){var d=nt;nt=d!==0&&4>d?d:4,o(!0);var g=Sy.transition;Sy.transition={};try{o(!1),l()}finally{nt=d,Sy.transition=g}}function FT(){return Zn().memoizedState}function XF(o,l,d){var g=Eo(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},VT(o))BT(l,d);else if(d=yT(o,l,d,g),d!==null){var _=nn();Ii(d,o,g,_),UT(d,l,g)}}function QF(o,l,d){var g=Eo(o),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(VT(o))BT(l,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var D=l.lastRenderedState,U=T(D,d);if(_.hasEagerState=!0,_.eagerState=U,Si(U,D)){var z=l.interleaved;z===null?(_.next=_,vy(l)):(_.next=z.next,z.next=_),l.interleaved=_;return}}catch{}finally{}d=yT(o,l,_,g),d!==null&&(_=nn(),Ii(d,o,g,_),UT(d,l,g))}}function VT(o){var l=o.alternate;return o===zt||l!==null&&l===zt}function BT(o,l){_c=yh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function UT(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,so(o,d)}}var _h={readContext:Jn,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},JF={readContext:Jn,useCallback:function(o,l){return Yi().memoizedState=[o,l===void 0?null:l],o},useContext:Jn,useEffect:CT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,vh(4194308,4,jT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return vh(4194308,4,o,l)},useInsertionEffect:function(o,l){return vh(4,2,o,l)},useMemo:function(o,l){var d=Yi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=Yi();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=XF.bind(null,zt,o),[g.memoizedState,o]},useRef:function(o){var l=Yi();return o={current:o},l.memoizedState=o},useState:IT,useDebugValue:Cy,useDeferredValue:function(o){return Yi().memoizedState=o},useTransition:function(){var o=IT(!1),l=o[0];return o=YF.bind(null,o[1]),Yi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=zt,_=Yi();if(Ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),wr===null)throw Error(r(349));(_s&30)!==0||ST(g,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,CT(AT.bind(null,g,T,o),[o]),g.flags|=2048,Ec(9,TT.bind(null,g,T,d,l),void 0,null),d},useId:function(){var o=Yi(),l=wr.identifierPrefix;if(Ft){var d=Ta,g=Sa;d=(g&~(1<<32-en(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=xc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=GF++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},ZF={readContext:Jn,useCallback:DT,useContext:Jn,useEffect:Oy,useImperativeHandle:MT,useInsertionEffect:NT,useLayoutEffect:RT,useMemo:LT,useReducer:Py,useRef:OT,useState:function(){return Py(wc)},useDebugValue:Cy,useDeferredValue:function(o){var l=Zn();return $T(l,dr.memoizedState,o)},useTransition:function(){var o=Py(wc)[0],l=Zn().memoizedState;return[o,l]},useMutableSource:wT,useSyncExternalStore:ET,useId:FT,unstable_isNewReconciler:!1},eV={readContext:Jn,useCallback:DT,useContext:Jn,useEffect:Oy,useImperativeHandle:MT,useInsertionEffect:NT,useLayoutEffect:RT,useMemo:LT,useReducer:Iy,useRef:OT,useState:function(){return Iy(wc)},useDebugValue:Cy,useDeferredValue:function(o){var l=Zn();return dr===null?l.memoizedState=o:$T(l,dr.memoizedState,o)},useTransition:function(){var o=Iy(wc)[0],l=Zn().memoizedState;return[o,l]},useMutableSource:wT,useSyncExternalStore:ET,useId:FT,unstable_isNewReconciler:!1};function Ai(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Ny(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var xh={isMounted:function(o){return(o=o._reactInternals)?hn(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=nn(),_=Eo(o),T=ka(g,_);T.payload=l,d!=null&&(T.callback=d),l=bo(o,T,_),l!==null&&(Ii(l,o,_,g),hh(l,o,_))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=nn(),_=Eo(o),T=ka(g,_);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=bo(o,T,_),l!==null&&(Ii(l,o,_,g),hh(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=nn(),g=Eo(o),_=ka(d,g);_.tag=2,l!=null&&(_.callback=l),l=bo(o,_,g),l!==null&&(Ii(l,o,g,d),hh(l,o,g))}};function qT(o,l,d,g,_,T,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,D):l.prototype&&l.prototype.isPureReactComponent?!uc(d,g)||!uc(_,T):!0}function zT(o,l,d){var g=!1,_=go,T=l.contextType;return typeof T=="object"&&T!==null?T=Jn(T):(_=yn(l)?ms:Br.current,g=l.contextTypes,T=(g=g!=null)?Ol(o,_):go),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=xh,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),l}function WT(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&xh.enqueueReplaceState(l,l.state,null)}function Ry(o,l,d,g){var _=o.stateNode;_.props=d,_.state=o.memoizedState,_.refs={},by(o);var T=l.contextType;typeof T=="object"&&T!==null?_.context=Jn(T):(T=yn(l)?ms:Br.current,_.context=Ol(o,T)),_.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ny(o,l,T,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&xh.enqueueReplaceState(_,_.state,null),ph(o,d,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function $l(o,l){try{var d="",g=l;do d+=Re(g),g=g.return;while(g);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:_,digest:null}}function jy(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function My(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var tV=typeof WeakMap=="function"?WeakMap:Map;function HT(o,l,d){d=ka(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Ph||(Ph=!0,Xy=g),My(o,l)},d}function KT(o,l,d){d=ka(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){My(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){My(o,l),typeof g!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})}),d}function GT(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new tV;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),o=mV.bind(null,o,l,d),l.then(o,o))}function YT(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function XT(o,l,d,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=ka(-1,1),l.tag=2,bo(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var rV=$.ReactCurrentOwner,vn=!1;function rn(o,l,d,g){l.child=o===null?gT(l,null,d,g):jl(l,o.child,d,g)}function QT(o,l,d,g,_){d=d.render;var T=l.ref;return Dl(l,_),g=Ay(o,l,d,g,T,_),d=ky(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Pa(o,l,_)):(Ft&&d&&uy(l),l.flags|=1,rn(o,l,g,_),l.child)}function JT(o,l,d,g,_){if(o===null){var T=d.type;return typeof T=="function"&&!nv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,ZT(o,l,T,g,_)):(o=jh(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&_)===0){var D=T.memoizedProps;if(d=d.compare,d=d!==null?d:uc,d(D,g)&&o.ref===l.ref)return Pa(o,l,_)}return l.flags|=1,o=To(T,g),o.ref=l.ref,o.return=l,l.child=o}function ZT(o,l,d,g,_){if(o!==null){var T=o.memoizedProps;if(uc(T,g)&&o.ref===l.ref)if(vn=!1,l.pendingProps=g=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,Pa(o,l,_)}return Dy(o,l,d,g,_)}function eA(o,l,d){var g=l.pendingProps,_=g.children,T=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Vl,jn),jn|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,It(Vl,jn),jn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,It(Vl,jn),jn|=g}else T!==null?(g=T.baseLanes|d,l.memoizedState=null):g=d,It(Vl,jn),jn|=g;return rn(o,l,_,d),l.child}function tA(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Dy(o,l,d,g,_){var T=yn(d)?ms:Br.current;return T=Ol(l,T),Dl(l,_),d=Ay(o,l,d,g,T,_),g=ky(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Pa(o,l,_)):(Ft&&g&&uy(l),l.flags|=1,rn(o,l,d,_),l.child)}function rA(o,l,d,g,_){if(yn(d)){var T=!0;ah(l)}else T=!1;if(Dl(l,_),l.stateNode===null)Eh(o,l),zT(l,d,g),Ry(l,d,g,_),g=!0;else if(o===null){var D=l.stateNode,U=l.memoizedProps;D.props=U;var z=D.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=Jn(ee):(ee=yn(d)?ms:Br.current,ee=Ol(l,ee));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof D.getSnapshotBeforeUpdate=="function";me||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==g||z!==ee)&&WT(l,D,g,ee),vo=!1;var fe=l.memoizedState;D.state=fe,ph(l,g,D,_),z=l.memoizedState,U!==g||fe!==z||gn.current||vo?(typeof de=="function"&&(Ny(l,d,de,g),z=l.memoizedState),(U=vo||qT(l,d,U,g,fe,z,ee))?(me||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(l.flags|=4194308)):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=z),D.props=g,D.state=z,D.context=ee,g=U):(typeof D.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{D=l.stateNode,vT(o,l),U=l.memoizedProps,ee=l.type===l.elementType?U:Ai(l.type,U),D.props=ee,me=l.pendingProps,fe=D.context,z=d.contextType,typeof z=="object"&&z!==null?z=Jn(z):(z=yn(d)?ms:Br.current,z=Ol(l,z));var Ee=d.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(U!==me||fe!==z)&&WT(l,D,g,z),vo=!1,fe=l.memoizedState,D.state=fe,ph(l,g,D,_);var Pe=l.memoizedState;U!==me||fe!==Pe||gn.current||vo?(typeof Ee=="function"&&(Ny(l,d,Ee,g),Pe=l.memoizedState),(ee=vo||qT(l,d,ee,g,fe,Pe,z)||!1)?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,Pe,z),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,Pe,z)),typeof D.componentDidUpdate=="function"&&(l.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Pe),D.props=g,D.state=Pe,D.context=z,g=ee):(typeof D.componentDidUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),g=!1)}return Ly(o,l,d,g,T,_)}function Ly(o,l,d,g,_,T){tA(o,l);var D=(l.flags&128)!==0;if(!g&&!D)return _&&sT(l,d,!1),Pa(o,l,T);g=l.stateNode,rV.current=l;var U=D&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&D?(l.child=jl(l,o.child,null,T),l.child=jl(l,null,U,T)):rn(o,l,U,T),l.memoizedState=g.state,_&&sT(l,d,!0),l.child}function nA(o){var l=o.stateNode;l.pendingContext?aT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&aT(o,l.context,!1),_y(o,l.containerInfo)}function iA(o,l,d,g,_){return Rl(),hy(_),l.flags|=256,rn(o,l,d,g),l.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function Fy(o){return{baseLanes:o,cachePool:null,transitions:null}}function aA(o,l,d){var g=l.pendingProps,_=qt.current,T=!1,D=(l.flags&128)!==0,U;if((U=D)||(U=o!==null&&o.memoizedState===null?!1:(_&2)!==0),U?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),It(qt,_&1),o===null)return dy(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(D=g.children,o=g.fallback,T?(g=l.mode,T=l.child,D={mode:"hidden",children:D},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=D):T=Mh(D,g,0,null),o=Ts(o,g,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=Fy(d),l.memoizedState=$y,o):Vy(l,D));if(_=o.memoizedState,_!==null&&(U=_.dehydrated,U!==null))return nV(o,l,D,g,U,_,d);if(T){T=g.fallback,D=l.mode,_=o.child,U=_.sibling;var z={mode:"hidden",children:g.children};return(D&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=z,l.deletions=null):(g=To(_,z),g.subtreeFlags=_.subtreeFlags&14680064),U!==null?T=To(U,T):(T=Ts(T,D,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,D=o.child.memoizedState,D=D===null?Fy(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},T.memoizedState=D,T.childLanes=o.childLanes&~d,l.memoizedState=$y,g}return T=o.child,o=T.sibling,g=To(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function Vy(o,l){return l=Mh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function wh(o,l,d,g){return g!==null&&hy(g),jl(l,o.child,null,d),o=Vy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function nV(o,l,d,g,_,T,D){if(d)return l.flags&256?(l.flags&=-257,g=jy(Error(r(422))),wh(o,l,D,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=g.fallback,_=l.mode,g=Mh({mode:"visible",children:g.children},_,0,null),T=Ts(T,_,D,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&jl(l,o.child,null,D),l.child.memoizedState=Fy(D),l.memoizedState=$y,T);if((l.mode&1)===0)return wh(o,l,D,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var U=g.dgst;return g=U,T=Error(r(419)),g=jy(T,g,void 0),wh(o,l,D,g)}if(U=(D&o.childLanes)!==0,vn||U){if(g=wr,g!==null){switch(D&-D){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|D))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Aa(o,_),Ii(g,o,_,-1))}return rv(),g=jy(Error(r(421))),wh(o,l,D,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=gV.bind(null,o),_._reactRetry=l,null):(o=T.treeContext,Rn=po(_.nextSibling),Nn=l,Ft=!0,Ti=null,o!==null&&(Xn[Qn++]=Sa,Xn[Qn++]=Ta,Xn[Qn++]=gs,Sa=o.id,Ta=o.overflow,gs=l),l=Vy(l,g.children),l.flags|=4096,l)}function oA(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),yy(o.return,l,d)}function By(o,l,d,g,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function sA(o,l,d){var g=l.pendingProps,_=g.revealOrder,T=g.tail;if(rn(o,l,g.children,d),g=qt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&oA(o,d,l);else if(o.tag===19)oA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(It(qt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&mh(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),By(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&mh(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}By(l,!0,d,null,T);break;case"together":By(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Eh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Pa(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),xs|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=To(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=To(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function iV(o,l,d){switch(l.tag){case 3:nA(l),Rl();break;case 5:xT(l);break;case 1:yn(l.type)&&ah(l);break;case 4:_y(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;It(fh,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(It(qt,qt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?aA(o,l,d):(It(qt,qt.current&1),o=Pa(o,l,d),o!==null?o.sibling:null);It(qt,qt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return sA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),It(qt,qt.current),g)break;return null;case 22:case 23:return l.lanes=0,eA(o,l,d)}return Pa(o,l,d)}var lA,Uy,uA,cA;lA=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Uy=function(){},uA=function(o,l,d,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,bs(Gi.current);var T=null;switch(d){case"input":_=We(o,_),g=We(o,g),T=[];break;case"select":_=oe({},_,{value:void 0}),g=oe({},g,{value:void 0}),T=[];break;case"textarea":_=Ir(o,_),g=Ir(o,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=rh)}as(d,g);var D;d=null;for(ee in _)if(!g.hasOwnProperty(ee)&&_.hasOwnProperty(ee)&&_[ee]!=null)if(ee==="style"){var U=_[ee];for(D in U)U.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?T||(T=[]):(T=T||[]).push(ee,null));for(ee in g){var z=g[ee];if(U=_?.[ee],g.hasOwnProperty(ee)&&z!==U&&(z!=null||U!=null))if(ee==="style")if(U){for(D in U)!U.hasOwnProperty(D)||z&&z.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in z)z.hasOwnProperty(D)&&U[D]!==z[D]&&(d||(d={}),d[D]=z[D])}else d||(T||(T=[]),T.push(ee,d)),d=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,U=U?U.__html:void 0,z!=null&&U!==z&&(T=T||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(T=T||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&Rt("scroll",o),T||U===z||(T=[])):(T=T||[]).push(ee,z))}d&&(T=T||[]).push("style",d);var ee=T;(l.updateQueue=ee)&&(l.flags|=4)}},cA=function(o,l,d,g){d!==g&&(l.flags|=4)};function Sc(o,l){if(!Ft)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function qr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function aV(o,l,d){var g=l.pendingProps;switch(cy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(l),null;case 1:return yn(l.type)&&ih(),qr(l),null;case 3:return g=l.stateNode,Ll(),jt(gn),jt(Br),Ey(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(uh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ti!==null&&(Zy(Ti),Ti=null))),Uy(o,l),qr(l),null;case 5:xy(l);var _=bs(bc.current);if(d=l.type,o!==null&&l.stateNode!=null)uA(o,l,d,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return qr(l),null}if(o=bs(Gi.current),uh(l)){g=l.stateNode,d=l.type;var T=l.memoizedProps;switch(g[Ki]=l,g[pc]=T,o=(l.mode&1)!==0,d){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(_=0;_<fc.length;_++)Rt(fc[_],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":pt(g,T),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Rt("invalid",g);break;case"textarea":Zr(g,T),Rt("invalid",g)}as(d,T),_=null;for(var D in T)if(T.hasOwnProperty(D)){var U=T[D];D==="children"?typeof U=="string"?g.textContent!==U&&(T.suppressHydrationWarning!==!0&&th(g.textContent,U,o),_=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(T.suppressHydrationWarning!==!0&&th(g.textContent,U,o),_=["children",""+U]):i.hasOwnProperty(D)&&U!=null&&D==="onScroll"&&Rt("scroll",g)}switch(d){case"input":qe(g),cr(g,T,!0);break;case"textarea":qe(g),hi(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=rh)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{D=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Kt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=D.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=D.createElement(d,{is:g.is}):(o=D.createElement(d),d==="select"&&(D=o,g.multiple?D.multiple=!0:g.size&&(D.size=g.size))):o=D.createElementNS(o,d),o[Ki]=l,o[pc]=g,lA(o,l,!1,!1),l.stateNode=o;e:{switch(D=qn(d,g),d){case"dialog":Rt("cancel",o),Rt("close",o),_=g;break;case"iframe":case"object":case"embed":Rt("load",o),_=g;break;case"video":case"audio":for(_=0;_<fc.length;_++)Rt(fc[_],o);_=g;break;case"source":Rt("error",o),_=g;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),_=g;break;case"details":Rt("toggle",o),_=g;break;case"input":pt(o,g),_=We(o,g),Rt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=oe({},g,{value:void 0}),Rt("invalid",o);break;case"textarea":Zr(o,g),_=Ir(o,g),Rt("invalid",o);break;default:_=g}as(d,_),U=_;for(T in U)if(U.hasOwnProperty(T)){var z=U[T];T==="style"?mi(o,z):T==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&is(o,z)):T==="children"?typeof z=="string"?(d!=="textarea"||z!=="")&&Fi(o,z):typeof z=="number"&&Fi(o,""+z):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?z!=null&&T==="onScroll"&&Rt("scroll",o):z!=null&&P(o,T,z,D))}switch(d){case"input":qe(o),cr(o,g,!1);break;case"textarea":qe(o),hi(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Fe(g.value));break;case"select":o.multiple=!!g.multiple,T=g.value,T!=null?kt(o,!!g.multiple,T,!1):g.defaultValue!=null&&kt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=rh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return qr(l),null;case 6:if(o&&l.stateNode!=null)cA(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=bs(bc.current),bs(Gi.current),uh(l)){if(g=l.stateNode,d=l.memoizedProps,g[Ki]=l,(T=g.nodeValue!==d)&&(o=Nn,o!==null))switch(o.tag){case 3:th(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&th(g.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Ki]=l,l.stateNode=g}return qr(l),null;case 13:if(jt(qt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ft&&Rn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)hT(),Rl(),l.flags|=98560,T=!1;else if(T=uh(l),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ki]=l}else Rl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qr(l),T=!1}else Ti!==null&&(Zy(Ti),Ti=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(qt.current&1)!==0?hr===0&&(hr=3):rv())),l.updateQueue!==null&&(l.flags|=4),qr(l),null);case 4:return Ll(),Uy(o,l),o===null&&dc(l.stateNode.containerInfo),qr(l),null;case 10:return gy(l.type._context),qr(l),null;case 17:return yn(l.type)&&ih(),qr(l),null;case 19:if(jt(qt),T=l.memoizedState,T===null)return qr(l),null;if(g=(l.flags&128)!==0,D=T.rendering,D===null)if(g)Sc(T,!1);else{if(hr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(D=mh(o),D!==null){for(l.flags|=128,Sc(T,!1),g=D.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)T=d,o=g,T.flags&=14680066,D=T.alternate,D===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=D.childLanes,T.lanes=D.lanes,T.child=D.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=D.memoizedProps,T.memoizedState=D.memoizedState,T.updateQueue=D.updateQueue,T.type=D.type,o=D.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return It(qt,qt.current&1|2),l.child}o=o.sibling}T.tail!==null&&Pt()>Bl&&(l.flags|=128,g=!0,Sc(T,!1),l.lanes=4194304)}else{if(!g)if(o=mh(D),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Sc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!D.alternate&&!Ft)return qr(l),null}else 2*Pt()-T.renderingStartTime>Bl&&d!==1073741824&&(l.flags|=128,g=!0,Sc(T,!1),l.lanes=4194304);T.isBackwards?(D.sibling=l.child,l.child=D):(d=T.last,d!==null?d.sibling=D:l.child=D,T.last=D)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=Pt(),l.sibling=null,d=qt.current,It(qt,g?d&1|2:d&1),l):(qr(l),null);case 22:case 23:return tv(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(jn&1073741824)!==0&&(qr(l),l.subtreeFlags&6&&(l.flags|=8192)):qr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function oV(o,l){switch(cy(l),l.tag){case 1:return yn(l.type)&&ih(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ll(),jt(gn),jt(Br),Ey(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return xy(l),null;case 13:if(jt(qt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Rl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return jt(qt),null;case 4:return Ll(),null;case 10:return gy(l.type._context),null;case 22:case 23:return tv(),null;case 24:return null;default:return null}}var Sh=!1,zr=!1,sV=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Fl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Gt(o,l,g)}else d.current=null}function qy(o,l,d){try{d()}catch(g){Gt(o,l,g)}}var fA=!1;function lV(o,l){if(ty=co,o=qS(),Kg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var D=0,U=-1,z=-1,ee=0,de=0,me=o,fe=null;t:for(;;){for(var Ee;me!==d||_!==0&&me.nodeType!==3||(U=D+_),me!==T||g!==0&&me.nodeType!==3||(z=D+g),me.nodeType===3&&(D+=me.nodeValue.length),(Ee=me.firstChild)!==null;)fe=me,me=Ee;for(;;){if(me===o)break t;if(fe===d&&++ee===_&&(U=D),fe===T&&++de===g&&(z=D),(Ee=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ee}d=U===-1||z===-1?null:{start:U,end:z}}else d=null}d=d||{start:0,end:0}}else d=null;for(ry={focusedElem:o,selectionRange:d},co=!1,Te=l;Te!==null;)if(l=Te,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Te=o;else for(;Te!==null;){l=Te;try{var Pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ce=Pe.memoizedProps,er=Pe.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:Ai(l.type,Ce),er);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Gt(l,l.return,ye)}if(o=l.sibling,o!==null){o.return=l.return,Te=o;break}Te=l.return}return Pe=fA,fA=!1,Pe}function Tc(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&qy(l,d,T)}_=_.next}while(_!==g)}}function Th(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function zy(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function dA(o){var l=o.alternate;l!==null&&(o.alternate=null,dA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Ki],delete l[pc],delete l[oy],delete l[zF],delete l[WF])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hA(o){return o.tag===5||o.tag===3||o.tag===4}function pA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wy(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=rh));else if(g!==4&&(o=o.child,o!==null))for(Wy(o,l,d),o=o.sibling;o!==null;)Wy(o,l,d),o=o.sibling}function Hy(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Hy(o,l,d),o=o.sibling;o!==null;)Hy(o,l,d),o=o.sibling}var Nr=null,ki=!1;function _o(o,l,d){for(d=d.child;d!==null;)mA(o,l,d),d=d.sibling}function mA(o,l,d){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(ss,d)}catch{}switch(d.tag){case 5:zr||Fl(d,l);case 6:var g=Nr,_=ki;Nr=null,_o(o,l,d),Nr=g,ki=_,Nr!==null&&(ki?(o=Nr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Nr.removeChild(d.stateNode));break;case 18:Nr!==null&&(ki?(o=Nr,d=d.stateNode,o.nodeType===8?ay(o.parentNode,d):o.nodeType===1&&ay(o,d),wi(o)):ay(Nr,d.stateNode));break;case 4:g=Nr,_=ki,Nr=d.stateNode.containerInfo,ki=!0,_o(o,l,d),Nr=g,ki=_;break;case 0:case 11:case 14:case 15:if(!zr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,D=T.destroy;T=T.tag,D!==void 0&&((T&2)!==0||(T&4)!==0)&&qy(d,l,D),_=_.next}while(_!==g)}_o(o,l,d);break;case 1:if(!zr&&(Fl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Gt(d,l,U)}_o(o,l,d);break;case 21:_o(o,l,d);break;case 22:d.mode&1?(zr=(g=zr)||d.memoizedState!==null,_o(o,l,d),zr=g):_o(o,l,d);break;default:_o(o,l,d)}}function gA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new sV),l.forEach(function(g){var _=yV.bind(null,o,g);d.has(g)||(d.add(g),g.then(_,_))})}}function Pi(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var T=o,D=l,U=D;e:for(;U!==null;){switch(U.tag){case 5:Nr=U.stateNode,ki=!1;break e;case 3:Nr=U.stateNode.containerInfo,ki=!0;break e;case 4:Nr=U.stateNode.containerInfo,ki=!0;break e}U=U.return}if(Nr===null)throw Error(r(160));mA(T,D,_),Nr=null,ki=!1;var z=_.alternate;z!==null&&(z.return=null),_.return=null}catch(ee){Gt(_,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)yA(l,o),l=l.sibling}function yA(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Pi(l,o),Xi(o),g&4){try{Tc(3,o,o.return),Th(3,o)}catch(Ce){Gt(o,o.return,Ce)}try{Tc(5,o,o.return)}catch(Ce){Gt(o,o.return,Ce)}}break;case 1:Pi(l,o),Xi(o),g&512&&d!==null&&Fl(d,d.return);break;case 5:if(Pi(l,o),Xi(o),g&512&&d!==null&&Fl(d,d.return),o.flags&32){var _=o.stateNode;try{Fi(_,"")}catch(Ce){Gt(o,o.return,Ce)}}if(g&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,D=d!==null?d.memoizedProps:T,U=o.type,z=o.updateQueue;if(o.updateQueue=null,z!==null)try{U==="input"&&T.type==="radio"&&T.name!=null&&Et(_,T),qn(U,D);var ee=qn(U,T);for(D=0;D<z.length;D+=2){var de=z[D],me=z[D+1];de==="style"?mi(_,me):de==="dangerouslySetInnerHTML"?is(_,me):de==="children"?Fi(_,me):P(_,de,me,ee)}switch(U){case"input":Ht(_,T);break;case"textarea":di(_,T);break;case"select":var fe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?kt(_,!!T.multiple,Ee,!1):fe!==!!T.multiple&&(T.defaultValue!=null?kt(_,!!T.multiple,T.defaultValue,!0):kt(_,!!T.multiple,T.multiple?[]:"",!1))}_[pc]=T}catch(Ce){Gt(o,o.return,Ce)}}break;case 6:if(Pi(l,o),Xi(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(Ce){Gt(o,o.return,Ce)}}break;case 3:if(Pi(l,o),Xi(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{wi(l.containerInfo)}catch(Ce){Gt(o,o.return,Ce)}break;case 4:Pi(l,o),Xi(o);break;case 13:Pi(l,o),Xi(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Yy=Pt())),g&4&&gA(o);break;case 22:if(de=d!==null&&d.memoizedState!==null,o.mode&1?(zr=(ee=zr)||de,Pi(l,o),zr=ee):Pi(l,o),Xi(o),g&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!de&&(o.mode&1)!==0)for(Te=o,de=o.child;de!==null;){for(me=Te=de;Te!==null;){switch(fe=Te,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:Tc(4,fe,fe.return);break;case 1:Fl(fe,fe.return);var Pe=fe.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=fe,d=fe.return;try{l=g,Pe.props=l.memoizedProps,Pe.state=l.memoizedState,Pe.componentWillUnmount()}catch(Ce){Gt(g,d,Ce)}}break;case 5:Fl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){_A(me);continue}}Ee!==null?(Ee.return=fe,Te=Ee):_A(me)}de=de.sibling}e:for(de=null,me=o;;){if(me.tag===5){if(de===null){de=me;try{_=me.stateNode,ee?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(U=me.stateNode,z=me.memoizedProps.style,D=z!=null&&z.hasOwnProperty("display")?z.display:null,U.style.display=eo("display",D))}catch(Ce){Gt(o,o.return,Ce)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(Ce){Gt(o,o.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Pi(l,o),Xi(o),g&4&&gA(o);break;case 21:break;default:Pi(l,o),Xi(o)}}function Xi(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(hA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Fi(_,""),g.flags&=-33);var T=pA(o);Hy(o,T,_);break;case 3:case 4:var D=g.stateNode.containerInfo,U=pA(o);Wy(o,U,D);break;default:throw Error(r(161))}}catch(z){Gt(o,o.return,z)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function uV(o,l,d){Te=o,vA(o)}function vA(o,l,d){for(var g=(o.mode&1)!==0;Te!==null;){var _=Te,T=_.child;if(_.tag===22&&g){var D=_.memoizedState!==null||Sh;if(!D){var U=_.alternate,z=U!==null&&U.memoizedState!==null||zr;U=Sh;var ee=zr;if(Sh=D,(zr=z)&&!ee)for(Te=_;Te!==null;)D=Te,z=D.child,D.tag===22&&D.memoizedState!==null?xA(_):z!==null?(z.return=D,Te=z):xA(_);for(;T!==null;)Te=T,vA(T),T=T.sibling;Te=_,Sh=U,zr=ee}bA(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Te=T):bA(o)}}function bA(o){for(;Te!==null;){var l=Te;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:zr||Th(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!zr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:Ai(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&_T(l,T,g);break;case 3:var D=l.updateQueue;if(D!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}_T(l,D,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var z=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&d.focus();break;case"img":z.src&&(d.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var de=ee.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&wi(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zr||l.flags&512&&zy(l)}catch(fe){Gt(l,l.return,fe)}}if(l===o){Te=null;break}if(d=l.sibling,d!==null){d.return=l.return,Te=d;break}Te=l.return}}function _A(o){for(;Te!==null;){var l=Te;if(l===o){Te=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Te=d;break}Te=l.return}}function xA(o){for(;Te!==null;){var l=Te;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Th(4,l)}catch(z){Gt(l,d,z)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(z){Gt(l,_,z)}}var T=l.return;try{zy(l)}catch(z){Gt(l,T,z)}break;case 5:var D=l.return;try{zy(l)}catch(z){Gt(l,D,z)}}}catch(z){Gt(l,l.return,z)}if(l===o){Te=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Te=U;break}Te=l.return}}var cV=Math.ceil,Ah=$.ReactCurrentDispatcher,Ky=$.ReactCurrentOwner,ei=$.ReactCurrentBatchConfig,lt=0,wr=null,ar=null,Rr=0,jn=0,Vl=mo(0),hr=0,Ac=null,xs=0,kh=0,Gy=0,kc=null,bn=null,Yy=0,Bl=1/0,Ia=null,Ph=!1,Xy=null,xo=null,Ih=!1,wo=null,Oh=0,Pc=0,Qy=null,Ch=-1,Nh=0;function nn(){return(lt&6)!==0?Pt():Ch!==-1?Ch:Ch=Pt()}function Eo(o){return(o.mode&1)===0?1:(lt&2)!==0&&Rr!==0?Rr&-Rr:KF.transition!==null?(Nh===0&&(Nh=us()),Nh):(o=nt,o!==0||(o=window.event,o=o===void 0?16:rc(o.type)),o)}function Ii(o,l,d,g){if(50<Pc)throw Pc=0,Qy=null,Error(r(185));oo(o,d,g),((lt&2)===0||o!==wr)&&(o===wr&&((lt&2)===0&&(kh|=d),hr===4&&So(o,Rr)),_n(o,g),d===1&&lt===0&&(l.mode&1)===0&&(Bl=Pt()+500,oh&&yo()))}function _n(o,l){var d=o.callbackNode;ya(o,l);var g=ls(o,o===wr?Rr:0);if(g===0)d!==null&&kn(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&kn(d),l===1)o.tag===0?HF(EA.bind(null,o)):lT(EA.bind(null,o)),UF(function(){(lt&6)===0&&yo()}),d=null;else{switch(lo(g)){case 1:d=os;break;case 4:d=no;break;case 16:d=Kn;break;case 536870912:d=Nd;break;default:d=Kn}d=CA(d,wA.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function wA(o,l){if(Ch=-1,Nh=0,(lt&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Ul()&&o.callbackNode!==d)return null;var g=ls(o,o===wr?Rr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Rh(o,g);else{l=g;var _=lt;lt|=2;var T=TA();(wr!==o||Rr!==l)&&(Ia=null,Bl=Pt()+500,Es(o,l));do try{hV();break}catch(U){SA(o,U)}while(!0);my(),Ah.current=T,lt=_,ar!==null?l=0:(wr=null,Rr=0,l=hr)}if(l!==0){if(l===2&&(_=In(o),_!==0&&(g=_,l=Jy(o,_))),l===1)throw d=Ac,Es(o,0),So(o,g),_n(o,Pt()),d;if(l===6)So(o,g);else{if(_=o.current.alternate,(g&30)===0&&!fV(_)&&(l=Rh(o,g),l===2&&(T=In(o),T!==0&&(g=T,l=Jy(o,T))),l===1))throw d=Ac,Es(o,0),So(o,g),_n(o,Pt()),d;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ss(o,bn,Ia);break;case 3:if(So(o,g),(g&130023424)===g&&(l=Yy+500-Pt(),10<l)){if(ls(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){nn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=iy(Ss.bind(null,o,bn,Ia),l);break}Ss(o,bn,Ia);break;case 4:if(So(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var D=31-en(g);T=1<<D,D=l[D],D>_&&(_=D),g&=~T}if(g=_,g=Pt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*cV(g/1960))-g,10<g){o.timeoutHandle=iy(Ss.bind(null,o,bn,Ia),g);break}Ss(o,bn,Ia);break;case 5:Ss(o,bn,Ia);break;default:throw Error(r(329))}}}return _n(o,Pt()),o.callbackNode===d?wA.bind(null,o):null}function Jy(o,l){var d=kc;return o.current.memoizedState.isDehydrated&&(Es(o,l).flags|=256),o=Rh(o,l),o!==2&&(l=bn,bn=d,l!==null&&Zy(l)),o}function Zy(o){bn===null?bn=o:bn.push.apply(bn,o)}function fV(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!Si(T(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function So(o,l){for(l&=~Gy,l&=~kh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-en(l),g=1<<d;o[d]=-1,l&=~g}}function EA(o){if((lt&6)!==0)throw Error(r(327));Ul();var l=ls(o,0);if((l&1)===0)return _n(o,Pt()),null;var d=Rh(o,l);if(o.tag!==0&&d===2){var g=In(o);g!==0&&(l=g,d=Jy(o,g))}if(d===1)throw d=Ac,Es(o,0),So(o,l),_n(o,Pt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ss(o,bn,Ia),_n(o,Pt()),null}function ev(o,l){var d=lt;lt|=1;try{return o(l)}finally{lt=d,lt===0&&(Bl=Pt()+500,oh&&yo())}}function ws(o){wo!==null&&wo.tag===0&&(lt&6)===0&&Ul();var l=lt;lt|=1;var d=ei.transition,g=nt;try{if(ei.transition=null,nt=1,o)return o()}finally{nt=g,ei.transition=d,lt=l,(lt&6)===0&&yo()}}function tv(){jn=Vl.current,jt(Vl)}function Es(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,BF(d)),ar!==null)for(d=ar.return;d!==null;){var g=d;switch(cy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ih();break;case 3:Ll(),jt(gn),jt(Br),Ey();break;case 5:xy(g);break;case 4:Ll();break;case 13:jt(qt);break;case 19:jt(qt);break;case 10:gy(g.type._context);break;case 22:case 23:tv()}d=d.return}if(wr=o,ar=o=To(o.current,null),Rr=jn=l,hr=0,Ac=null,Gy=kh=xs=0,bn=kc=null,vs!==null){for(l=0;l<vs.length;l++)if(d=vs[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,T=d.pending;if(T!==null){var D=T.next;T.next=_,g.next=D}d.pending=g}vs=null}return o}function SA(o,l){do{var d=ar;try{if(my(),gh.current=_h,yh){for(var g=zt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}yh=!1}if(_s=0,xr=dr=zt=null,_c=!1,xc=0,Ky.current=null,d===null||d.return===null){hr=1,Ac=l,ar=null;break}e:{var T=o,D=d.return,U=d,z=l;if(l=Rr,U.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var fe=de.alternate;fe?(de.updateQueue=fe.updateQueue,de.memoizedState=fe.memoizedState,de.lanes=fe.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=YT(D);if(Ee!==null){Ee.flags&=-257,XT(Ee,D,U,T,l),Ee.mode&1&&GT(T,ee,l),l=Ee,z=ee;var Pe=l.updateQueue;if(Pe===null){var Ce=new Set;Ce.add(z),l.updateQueue=Ce}else Pe.add(z);break e}else{if((l&1)===0){GT(T,ee,l),rv();break e}z=Error(r(426))}}else if(Ft&&U.mode&1){var er=YT(D);if(er!==null){(er.flags&65536)===0&&(er.flags|=256),XT(er,D,U,T,l),hy($l(z,U));break e}}T=z=$l(z,U),hr!==4&&(hr=2),kc===null?kc=[T]:kc.push(T),T=D;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var X=HT(T,z,l);bT(T,X);break e;case 1:U=z;var H=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(xo===null||!xo.has(J)))){T.flags|=65536,l&=-l,T.lanes|=l;var ye=KT(T,U,l);bT(T,ye);break e}}T=T.return}while(T!==null)}kA(d)}catch(je){l=je,ar===d&&d!==null&&(ar=d=d.return);continue}break}while(!0)}function TA(){var o=Ah.current;return Ah.current=_h,o===null?_h:o}function rv(){(hr===0||hr===3||hr===2)&&(hr=4),wr===null||(xs&268435455)===0&&(kh&268435455)===0||So(wr,Rr)}function Rh(o,l){var d=lt;lt|=2;var g=TA();(wr!==o||Rr!==l)&&(Ia=null,Es(o,l));do try{dV();break}catch(_){SA(o,_)}while(!0);if(my(),lt=d,Ah.current=g,ar!==null)throw Error(r(261));return wr=null,Rr=0,hr}function dV(){for(;ar!==null;)AA(ar)}function hV(){for(;ar!==null&&!Od();)AA(ar)}function AA(o){var l=OA(o.alternate,o,jn);o.memoizedProps=o.pendingProps,l===null?kA(o):ar=l,Ky.current=null}function kA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=aV(d,l,jn),d!==null){ar=d;return}}else{if(d=oV(d,l),d!==null){d.flags&=32767,ar=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{hr=6,ar=null;return}}if(l=l.sibling,l!==null){ar=l;return}ar=l=o}while(l!==null);hr===0&&(hr=5)}function Ss(o,l,d){var g=nt,_=ei.transition;try{ei.transition=null,nt=1,pV(o,l,d,g)}finally{ei.transition=_,nt=g}return null}function pV(o,l,d,g){do Ul();while(wo!==null);if((lt&6)!==0)throw Error(r(327));d=o.finishedWork;var _=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(St(o,T),o===wr&&(ar=wr=null,Rr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Ih||(Ih=!0,CA(Kn,function(){return Ul(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=ei.transition,ei.transition=null;var D=nt;nt=1;var U=lt;lt|=4,Ky.current=null,lV(o,d),yA(d,o),jF(ry),co=!!ty,ry=ty=null,o.current=d,uV(d),Fg(),lt=U,nt=D,ei.transition=T}else o.current=d;if(Ih&&(Ih=!1,wo=o,Oh=_),T=o.pendingLanes,T===0&&(xo=null),Rd(d.stateNode),_n(o,Pt()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Ph)throw Ph=!1,o=Xy,Xy=null,o;return(Oh&1)!==0&&o.tag!==0&&Ul(),T=o.pendingLanes,(T&1)!==0?o===Qy?Pc++:(Pc=0,Qy=o):Pc=0,yo(),null}function Ul(){if(wo!==null){var o=lo(Oh),l=ei.transition,d=nt;try{if(ei.transition=null,nt=16>o?16:o,wo===null)var g=!1;else{if(o=wo,wo=null,Oh=0,(lt&6)!==0)throw Error(r(331));var _=lt;for(lt|=4,Te=o.current;Te!==null;){var T=Te,D=T.child;if((Te.flags&16)!==0){var U=T.deletions;if(U!==null){for(var z=0;z<U.length;z++){var ee=U[z];for(Te=ee;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:Tc(8,de,T)}var me=de.child;if(me!==null)me.return=de,Te=me;else for(;Te!==null;){de=Te;var fe=de.sibling,Ee=de.return;if(dA(de),de===ee){Te=null;break}if(fe!==null){fe.return=Ee,Te=fe;break}Te=Ee}}}var Pe=T.alternate;if(Pe!==null){var Ce=Pe.child;if(Ce!==null){Pe.child=null;do{var er=Ce.sibling;Ce.sibling=null,Ce=er}while(Ce!==null)}}Te=T}}if((T.subtreeFlags&2064)!==0&&D!==null)D.return=T,Te=D;else e:for(;Te!==null;){if(T=Te,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Tc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Te=X;break e}Te=T.return}}var H=o.current;for(Te=H;Te!==null;){D=Te;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,Te=J;else e:for(D=H;Te!==null;){if(U=Te,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Th(9,U)}}catch(je){Gt(U,U.return,je)}if(U===D){Te=null;break e}var ye=U.sibling;if(ye!==null){ye.return=U.return,Te=ye;break e}Te=U.return}}if(lt=_,yo(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(ss,o)}catch{}g=!0}return g}finally{nt=d,ei.transition=l}}return!1}function PA(o,l,d){l=$l(d,l),l=HT(o,l,1),o=bo(o,l,1),l=nn(),o!==null&&(oo(o,1,l),_n(o,l))}function Gt(o,l,d){if(o.tag===3)PA(o,o,d);else for(;l!==null;){if(l.tag===3){PA(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xo===null||!xo.has(g))){o=$l(d,o),o=KT(l,o,1),l=bo(l,o,1),o=nn(),l!==null&&(oo(l,1,o),_n(l,o));break}}l=l.return}}function mV(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=nn(),o.pingedLanes|=o.suspendedLanes&d,wr===o&&(Rr&d)===d&&(hr===4||hr===3&&(Rr&130023424)===Rr&&500>Pt()-Yy?Es(o,0):Gy|=d),_n(o,l)}function IA(o,l){l===0&&((o.mode&1)===0?l=1:(l=fl,fl<<=1,(fl&130023424)===0&&(fl=4194304)));var d=nn();o=Aa(o,l),o!==null&&(oo(o,l,d),_n(o,d))}function gV(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),IA(o,d)}function yV(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),IA(o,d)}var OA;OA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)vn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return vn=!1,iV(o,l,d);vn=(o.flags&131072)!==0}else vn=!1,Ft&&(l.flags&1048576)!==0&&uT(l,lh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Eh(o,l),o=l.pendingProps;var _=Ol(l,Br.current);Dl(l,d),_=Ay(null,l,g,o,_,d);var T=ky();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yn(g)?(T=!0,ah(l)):T=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,by(l),_.updater=xh,l.stateNode=_,_._reactInternals=l,Ry(l,g,o,d),l=Ly(null,l,g,!0,T,d)):(l.tag=0,Ft&&T&&uy(l),rn(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Eh(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=bV(g),o=Ai(g,o),_){case 0:l=Dy(null,l,g,o,d);break e;case 1:l=rA(null,l,g,o,d);break e;case 11:l=QT(null,l,g,o,d);break e;case 14:l=JT(null,l,g,Ai(g.type,o),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),Dy(o,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),rA(o,l,g,_,d);case 3:e:{if(nA(l),o===null)throw Error(r(387));g=l.pendingProps,T=l.memoizedState,_=T.element,vT(o,l),ph(l,g,null,d);var D=l.memoizedState;if(g=D.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){_=$l(Error(r(423)),l),l=iA(o,l,g,d,_);break e}else if(g!==_){_=$l(Error(r(424)),l),l=iA(o,l,g,d,_);break e}else for(Rn=po(l.stateNode.containerInfo.firstChild),Nn=l,Ft=!0,Ti=null,d=gT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Rl(),g===_){l=Pa(o,l,d);break e}rn(o,l,g,d)}l=l.child}return l;case 5:return xT(l),o===null&&dy(l),g=l.type,_=l.pendingProps,T=o!==null?o.memoizedProps:null,D=_.children,ny(g,_)?D=null:T!==null&&ny(g,T)&&(l.flags|=32),tA(o,l),rn(o,l,D,d),l.child;case 6:return o===null&&dy(l),null;case 13:return aA(o,l,d);case 4:return _y(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=jl(l,null,g,d):rn(o,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),QT(o,l,g,_,d);case 7:return rn(o,l,l.pendingProps,d),l.child;case 8:return rn(o,l,l.pendingProps.children,d),l.child;case 12:return rn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,T=l.memoizedProps,D=_.value,It(fh,g._currentValue),g._currentValue=D,T!==null)if(Si(T.value,D)){if(T.children===_.children&&!gn.current){l=Pa(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var U=T.dependencies;if(U!==null){D=T.child;for(var z=U.firstContext;z!==null;){if(z.context===g){if(T.tag===1){z=ka(-1,d&-d),z.tag=2;var ee=T.updateQueue;if(ee!==null){ee=ee.shared;var de=ee.pending;de===null?z.next=z:(z.next=de.next,de.next=z),ee.pending=z}}T.lanes|=d,z=T.alternate,z!==null&&(z.lanes|=d),yy(T.return,d,l),U.lanes|=d;break}z=z.next}}else if(T.tag===10)D=T.type===l.type?null:T.child;else if(T.tag===18){if(D=T.return,D===null)throw Error(r(341));D.lanes|=d,U=D.alternate,U!==null&&(U.lanes|=d),yy(D,d,l),D=T.sibling}else D=T.child;if(D!==null)D.return=T;else for(D=T;D!==null;){if(D===l){D=null;break}if(T=D.sibling,T!==null){T.return=D.return,D=T;break}D=D.return}T=D}rn(o,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,Dl(l,d),_=Jn(_),g=g(_),l.flags|=1,rn(o,l,g,d),l.child;case 14:return g=l.type,_=Ai(g,l.pendingProps),_=Ai(g.type,_),JT(o,l,g,_,d);case 15:return ZT(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),Eh(o,l),l.tag=1,yn(g)?(o=!0,ah(l)):o=!1,Dl(l,d),zT(l,g,_),Ry(l,g,_,d),Ly(null,l,g,!0,o,d);case 19:return sA(o,l,d);case 22:return eA(o,l,d)}throw Error(r(156,l.tag))};function CA(o,l){return Bi(o,l)}function vV(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(o,l,d,g){return new vV(o,l,d,g)}function nv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function bV(o){if(typeof o=="function")return nv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===te)return 14}return 2}function To(o,l){var d=o.alternate;return d===null?(d=ti(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function jh(o,l,d,g,_,T){var D=2;if(g=o,typeof o=="function")nv(o)&&(D=1);else if(typeof o=="string")D=5;else e:switch(o){case A:return Ts(d.children,_,T,l);case k:D=8,_|=8;break;case R:return o=ti(12,d,l,_|2),o.elementType=R,o.lanes=T,o;case M:return o=ti(13,d,l,_),o.elementType=M,o.lanes=T,o;case Z:return o=ti(19,d,l,_),o.elementType=Z,o.lanes=T,o;case ae:return Mh(d,_,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:D=10;break e;case L:D=9;break e;case V:D=11;break e;case te:D=14;break e;case ne:D=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=ti(D,d,l,_),l.elementType=o,l.type=g,l.lanes=T,l}function Ts(o,l,d,g){return o=ti(7,o,g,l),o.lanes=d,o}function Mh(o,l,d,g){return o=ti(22,o,g,l),o.elementType=ae,o.lanes=d,o.stateNode={isHidden:!1},o}function iv(o,l,d){return o=ti(6,o,null,l),o.lanes=d,o}function av(o,l,d){return l=ti(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function _V(o,l,d,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ao(0),this.expirationTimes=ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ao(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function ov(o,l,d,g,_,T,D,U,z){return o=new _V(o,l,d,U,z),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ti(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(T),o}function xV(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function NA(o){if(!o)return go;o=o._reactInternals;e:{if(hn(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(yn(d))return oT(o,d,l)}return l}function RA(o,l,d,g,_,T,D,U,z){return o=ov(d,g,!0,o,_,T,D,U,z),o.context=NA(null),d=o.current,g=nn(),_=Eo(d),T=ka(g,_),T.callback=l??null,bo(d,T,_),o.current.lanes=_,oo(o,_,g),_n(o,g),o}function Dh(o,l,d,g){var _=l.current,T=nn(),D=Eo(_);return d=NA(d),l.context===null?l.context=d:l.pendingContext=d,l=ka(T,D),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=bo(_,l,D),o!==null&&(Ii(o,_,D,T),hh(o,_,D)),D}function Lh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function jA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function sv(o,l){jA(o,l),(o=o.alternate)&&jA(o,l)}function wV(){return null}var MA=typeof reportError=="function"?reportError:function(o){console.error(o)};function lv(o){this._internalRoot=o}$h.prototype.render=lv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Dh(o,l,null,null)},$h.prototype.unmount=lv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ws(function(){Dh(null,o,null,null)}),l[wa]=null}};function $h(o){this._internalRoot=o}$h.prototype.unstable_scheduleHydration=function(o){if(o){var l=$d();o={blockedOn:null,target:o,priority:l};for(var d=0;d<qi.length&&l!==0&&l<qi[d].priority;d++);qi.splice(d,0,o),d===0&&Bd(o)}};function uv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Fh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function DA(){}function EV(o,l,d,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var ee=Lh(D);T.call(ee)}}var D=RA(l,g,o,0,null,!1,!1,"",DA);return o._reactRootContainer=D,o[wa]=D.current,dc(o.nodeType===8?o.parentNode:o),ws(),D}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var U=g;g=function(){var ee=Lh(z);U.call(ee)}}var z=ov(o,0,!1,null,null,!1,!1,"",DA);return o._reactRootContainer=z,o[wa]=z.current,dc(o.nodeType===8?o.parentNode:o),ws(function(){Dh(l,z,d,g)}),z}function Vh(o,l,d,g,_){var T=d._reactRootContainer;if(T){var D=T;if(typeof _=="function"){var U=_;_=function(){var z=Lh(D);U.call(z)}}Dh(l,D,o,_)}else D=EV(d,l,o,_,g);return Lh(D)}Dd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=io(l.pendingLanes);d!==0&&(so(l,d|1),_n(l,Pt()),(lt&6)===0&&(Bl=Pt()+500,yo()))}break;case 13:ws(function(){var g=Aa(o,1);if(g!==null){var _=nn();Ii(g,o,1,_)}}),sv(o,1)}},dl=function(o){if(o.tag===13){var l=Aa(o,134217728);if(l!==null){var d=nn();Ii(l,o,134217728,d)}sv(o,134217728)}},Ld=function(o){if(o.tag===13){var l=Eo(o),d=Aa(o,l);if(d!==null){var g=nn();Ii(d,o,l,g)}sv(o,l)}},$d=function(){return nt},Fd=function(o,l){var d=nt;try{return nt=o,l()}finally{nt=d}},Vi=function(o,l,d){switch(l){case"input":if(Ht(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=nh(g);if(!_)throw Error(r(90));le(g),Ht(g,_)}}}break;case"textarea":di(o,d);break;case"select":l=d.value,l!=null&&kt(o,!!d.multiple,l,!1)}},Vr=ev,Tn=ws;var SV={usingClientEntryPoint:!1,Events:[mc,Pl,nh,Wn,Fr,ev]},Ic={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TV={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Hn(o),o===null?null:o.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ss=Bh.inject(TV),Pn=Bh}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SV,xn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(l))throw Error(r(200));return xV(o,l,null,d)},xn.createRoot=function(o,l){if(!uv(o))throw Error(r(299));var d=!1,g="",_=MA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=ov(o,1,!1,null,null,d,!1,g,_),o[wa]=l.current,dc(o.nodeType===8?o.parentNode:o),new lv(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Hn(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return ws(o)},xn.hydrate=function(o,l,d){if(!Fh(l))throw Error(r(200));return Vh(null,o,l,!0,d)},xn.hydrateRoot=function(o,l,d){if(!uv(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,T="",D=MA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),l=RA(l,null,o,1,d??null,_,!1,T,D),o[wa]=l.current,dc(o),g)for(o=0;o<g.length;o++)d=g[o],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new $h(l)},xn.render=function(o,l,d){if(!Fh(l))throw Error(r(200));return Vh(null,o,l,!1,d)},xn.unmountComponentAtNode=function(o){if(!Fh(o))throw Error(r(40));return o._reactRootContainer?(ws(function(){Vh(null,null,o,!1,function(){o._reactRootContainer=null,o[wa]=null})}),!0):!1},xn.unstable_batchedUpdates=ev,xn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Fh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Vh(o,l,d,!1,g)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var zA;function RV(){if(zA)return dv.exports;zA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dv.exports=NV(),dv.exports}var WA;function jV(){if(WA)return qh;WA=1;var t=RV();return qh.createRoot=t.createRoot,qh.hydrateRoot=t.hydrateRoot,qh}var MV=jV();const DV=vt(MV);var HA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},LV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},b2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;c||(b=64,s||(v=64)),n.push(r[h],r[m],r[v],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(v2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new $V;const v=a<<2|u>>4;if(n.push(v),f!==64){const b=u<<4&240|f>>2;if(n.push(b),m!==64){const x=f<<6&192|m;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $V extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FV=function(t){const e=v2(t);return b2.encodeByteArray(e,!0)},wp=function(t){return FV(t).replace(/\./g,"")},_2=function(t){try{return b2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=()=>VV().__FIREBASE_DEFAULTS__,UV=()=>{if(typeof process>"u"||typeof HA>"u")return;const t=HA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_2(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return BV()||UV()||qV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x2=t=>{var e,r;return(r=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},w2=t=>{const e=x2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},E2=()=>{var t;return(t=jm())===null||t===void 0?void 0:t.config},S2=t=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wp(JSON.stringify(r)),wp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function HV(){var t;const e=(t=jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XV(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QV(){return!HV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JV(){try{return typeof indexedDB=="object"}catch{return!1}}function ZV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="FirebaseError";class fa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=e3,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?t3(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new fa(i,u,n)}}function t3(t,e){return t.replace(r3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const r3=/\{\$([^}]+)}/g;function n3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ep(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(KA(a)&&KA(s)){if(!Ep(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function KA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Uc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function i3(t,e){const r=new a3(t,e);return r.subscribe.bind(r)}class a3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");o3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function mv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ho{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new zV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u3(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:l3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l3(t){return t===Is?void 0:t}function u3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new s3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const f3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},d3=it.INFO,h3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},p3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=h3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T1{constructor(e){this.name=e,this._logLevel=d3,this._logHandler=p3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const m3=(t,e)=>e.some(r=>t instanceof r);let GA,YA;function g3(){return GA||(GA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y3(){return YA||(YA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A2=new WeakMap,Ox=new WeakMap,k2=new WeakMap,gv=new WeakMap,A1=new WeakMap;function v3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r($o(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&A2.set(r,t)}).catch(()=>{}),A1.set(e,t),e}function b3(t){if(Ox.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ox.set(t,e)}let Cx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ox.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return $o(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _3(t){Cx=t(Cx)}function x3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yv(this),e,...r);return k2.set(n,e.sort?e.sort():[e]),$o(n)}:y3().includes(t)?function(...e){return t.apply(yv(this),e),$o(A2.get(this))}:function(...e){return $o(t.apply(yv(this),e))}}function w3(t){return typeof t=="function"?x3(t):(t instanceof IDBTransaction&&b3(t),m3(t,g3())?new Proxy(t,Cx):t)}function $o(t){if(t instanceof IDBRequest)return v3(t);if(gv.has(t))return gv.get(t);const e=w3(t);return e!==t&&(gv.set(t,e),A1.set(e,t)),e}const yv=t=>A1.get(t);function E3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=$o(s);return n&&s.addEventListener("upgradeneeded",c=>{n($o(s.result),c.oldVersion,c.newVersion,$o(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const S3=["get","getKey","getAll","getAllKeys","count"],T3=["put","add","delete","clear"],vv=new Map;function XA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vv.get(e))return vv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=T3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||S3.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return vv.set(e,a),a}_3(t=>({...t,get:(e,r,n)=>XA(e,r)||t.get(e,r,n),has:(e,r)=>!!XA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(k3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function k3(t){const e=t.getComponent();return e?.type==="VERSION"}const Nx="@firebase/app",QA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new T1("@firebase/app"),P3="@firebase/app-compat",I3="@firebase/analytics-compat",O3="@firebase/analytics",C3="@firebase/app-check-compat",N3="@firebase/app-check",R3="@firebase/auth",j3="@firebase/auth-compat",M3="@firebase/database",D3="@firebase/data-connect",L3="@firebase/database-compat",$3="@firebase/functions",F3="@firebase/functions-compat",V3="@firebase/installations",B3="@firebase/installations-compat",U3="@firebase/messaging",q3="@firebase/messaging-compat",z3="@firebase/performance",W3="@firebase/performance-compat",H3="@firebase/remote-config",K3="@firebase/remote-config-compat",G3="@firebase/storage",Y3="@firebase/storage-compat",X3="@firebase/firestore",Q3="@firebase/vertexai-preview",J3="@firebase/firestore-compat",Z3="firebase",e6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="[DEFAULT]",t6={[Nx]:"fire-core",[P3]:"fire-core-compat",[O3]:"fire-analytics",[I3]:"fire-analytics-compat",[N3]:"fire-app-check",[C3]:"fire-app-check-compat",[R3]:"fire-auth",[j3]:"fire-auth-compat",[M3]:"fire-rtdb",[D3]:"fire-data-connect",[L3]:"fire-rtdb-compat",[$3]:"fire-fn",[F3]:"fire-fn-compat",[V3]:"fire-iid",[B3]:"fire-iid-compat",[U3]:"fire-fcm",[q3]:"fire-fcm-compat",[z3]:"fire-perf",[W3]:"fire-perf-compat",[H3]:"fire-rc",[K3]:"fire-rc-compat",[G3]:"fire-gcs",[Y3]:"fire-gcs-compat",[X3]:"fire-fst",[J3]:"fire-fst-compat",[Q3]:"fire-vertex","fire-js":"fire-js",[Z3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map,r6=new Map,jx=new Map;function JA(t,e){try{t.container.addComponent(e)}catch(r){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Us(t){const e=t.name;if(jx.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;jx.set(e,t);for(const r of Sp.values())JA(r,t);for(const r of r6.values())JA(r,t);return!0}function Mm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new rd("app","Firebase",n6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=e6;function P2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Rx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Fo.create("bad-app-name",{appName:String(i)});if(r||(r=E2()),!r)throw Fo.create("no-options");const a=Sp.get(i);if(a){if(Ep(r,a.options)&&Ep(n,a.config))return a;throw Fo.create("duplicate-app",{appName:i})}const s=new c3(i);for(const c of jx.values())s.addComponent(c);const u=new i6(r,n,s);return Sp.set(i,u),u}function k1(t=Rx){const e=Sp.get(t);if(!e&&t===Rx&&E2())return P2();if(!e)throw Fo.create("no-app",{appName:t});return e}function ta(t,e,r){var n;let i=(n=t6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ba.warn(u.join(" "));return}Us(new Ho(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="firebase-heartbeat-database",o6=1,ff="firebase-heartbeat-store";let bv=null;function I2(){return bv||(bv=E3(a6,o6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ff)}catch(r){console.warn(r)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),bv}async function s6(t){try{const r=(await I2()).transaction(ff),n=await r.objectStore(ff).get(O2(t));return await r.done,n}catch(e){if(e instanceof fa)Ba.warn(e.message);else{const r=Fo.create("idb-get",{originalErrorMessage:e?.message});Ba.warn(r.message)}}}async function ZA(t,e){try{const n=(await I2()).transaction(ff,"readwrite");await n.objectStore(ff).put(e,O2(t)),await n.done}catch(r){if(r instanceof fa)Ba.warn(r.message);else{const n=Fo.create("idb-set",{originalErrorMessage:r?.message});Ba.warn(n.message)}}}function O2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=1024,u6=30*24*60*60*1e3;class c6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new d6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ek();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=u6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ba.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ek(),{heartbeatsToSend:n,unsentEntries:i}=f6(this._heartbeatsCache.heartbeats),a=wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ba.warn(r),""}}}function ek(){return new Date().toISOString().substring(0,10)}function f6(t,e=l6){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),tk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class d6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JV()?ZV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await s6(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ZA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tk(t){return wp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){Us(new Ho("platform-logger",e=>new A3(e),"PRIVATE")),Us(new Ho("heartbeat",e=>new c6(e),"PRIVATE")),ta(Nx,QA,t),ta(Nx,QA,"esm2017"),ta("fire-js","")}h6("");var p6="firebase",m6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(p6,m6,"app");function P1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function C2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g6=C2,N2=new rd("auth","Firebase",C2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new T1("@firebase/auth");function y6(t,...e){Tp.logLevel<=it.WARN&&Tp.warn(`Auth (${tl}): ${t}`,...e)}function dp(t,...e){Tp.logLevel<=it.ERROR&&Tp.error(`Auth (${tl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw I1(t,...e)}function ra(t,...e){return I1(t,...e)}function R2(t,e,r){const n=Object.assign(Object.assign({},g6()),{[e]:r});return new rd("auth","Firebase",n).create(e,{appName:t.name})}function $a(t){return R2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return N2.create(t,...e)}function He(t,e,...r){if(!t)throw I1(e,...r)}function Na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dp(e),new Error(e)}function Ua(t,e){t||Na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v6(){return rk()==="http:"||rk()==="https:"}function rk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v6()||GV()||"connection"in navigator)?navigator.onLine:!0}function _6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ua(r>e,"Short delay should be less than long delay!"),this.isMobile=WV()||YV()}get(){return b6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t,e){Ua(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new id(3e4,6e4);function Qo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jo(t,e,r,n,i={}){return M2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=nd(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return KV()||(f.referrerPolicy="no-referrer"),j2.fetch()(D2(t,t.config.apiHost,r,u),f)})}async function M2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},x6),e);try{const i=new S6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw zh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw zh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw R2(t,h,f);ji(t,h)}}catch(i){if(i instanceof fa)throw i;ji(t,"network-request-failed",{message:String(i)})}}async function ad(t,e,r,n,i={}){const a=await Jo(t,e,r,n,i);return"mfaPendingCredential"in a&&ji(t,"multi-factor-auth-required",{_serverResponse:a}),a}function D2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?O1(t.config,i):`${t.config.apiScheme}://${i}`}function E6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ra(this.auth,"network-request-failed")),w6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ra(t,e,n);return i.customData._tokenResponse=r,i}function nk(t){return t!==void 0&&t.enterprise!==void 0}class T6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return E6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function A6(t,e){return Jo(t,"GET","/v2/recaptchaConfig",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Jo(t,"POST","/v1/accounts:delete",e)}async function L2(t,e){return Jo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P6(t,e=!1){const r=Lt(t),n=await r.getIdToken(e),i=C1(n);He(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:Jc(_v(i.auth_time)),issuedAtTime:Jc(_v(i.iat)),expirationTime:Jc(_v(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _v(t){return Number(t)*1e3}function C1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=_2(r);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ik(t){const e=C1(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof fa&&I6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function I6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){var e;const r=t.auth,n=await t.getIdToken(),i=await df(t,L2(r,{idToken:n}));He(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?$2(a.providerUserInfo):[],u=N6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Dx(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function C6(t){const e=Lt(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function $2(t){return t.map(e=>{var{providerId:r}=e,n=P1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e){const r=await M2(t,{},async()=>{const n=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=D2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",j2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function j6(t,e){return Jo(t,"POST","/v2/accounts:revokeToken",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ik(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){He(e.length!==0,"internal-error");const r=ik(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await R6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new tu;return n&&(He(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(He(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=P1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new O6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await df(this,this.stsTokenManager.getToken(this.auth,e));return He(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return P6(this,e)}reload(){return C6(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ap(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await df(this,k6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,x=(s=r.photoURL)!==null&&s!==void 0?s:void 0,E=(u=r.tenantId)!==null&&u!==void 0?u:void 0,w=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,C=(f=r.createdAt)!==null&&f!==void 0?f:void 0,O=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:P,emailVerified:$,isAnonymous:N,providerData:j,stsTokenManager:A}=r;He(P&&A,e,"internal-error");const k=tu.fromJSON(this.name,A);He(typeof P=="string",e,"internal-error"),ko(m,e.name),ko(v,e.name),He(typeof $=="boolean",e,"internal-error"),He(typeof N=="boolean",e,"internal-error"),ko(b,e.name),ko(x,e.name),ko(E,e.name),ko(w,e.name),ko(C,e.name),ko(O,e.name);const R=new Ra({uid:P,auth:e,email:v,emailVerified:$,displayName:m,isAnonymous:N,photoURL:x,phoneNumber:b,tenantId:E,stsTokenManager:k,createdAt:C,lastLoginAt:O});return j&&Array.isArray(j)&&(R.providerData=j.map(F=>Object.assign({},F))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new tu;i.updateFromServerResponse(r);const a=new Ra({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ap(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?$2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new tu;u.updateFromIdToken(n);const c=new Ra({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new Map;function ja(t){Ua(t instanceof Function,"Expected a class definition");let e=ak.get(t);return e?(Ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ak.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}F2.type="NONE";const ok=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e,r){return`firebase:${t}:${e}:${r}`}class ru{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,a),this.fullPersistenceKey=hp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ru(ja(ok),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ja(ok);const s=hp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const m=Ra._fromJSON(e,h);f!==a&&(u=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new ru(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new ru(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(H2(e))return"Webos";if(B2(e))return"Safari";if((e.includes("chrome/")||U2(e))&&!e.includes("edge/"))return"Chrome";if(z2(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function V2(t=Qr()){return/firefox\//i.test(t)}function B2(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U2(t=Qr()){return/crios\//i.test(t)}function q2(t=Qr()){return/iemobile/i.test(t)}function z2(t=Qr()){return/android/i.test(t)}function W2(t=Qr()){return/blackberry/i.test(t)}function H2(t=Qr()){return/webos/i.test(t)}function N1(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M6(t=Qr()){var e;return N1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D6(){return XV()&&document.documentMode===10}function K2(t=Qr()){return N1(t)||z2(t)||H2(t)||W2(t)||/windows phone/i.test(t)||q2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e=[]){let r;switch(t){case"Browser":r=sk(Qr());break;case"Worker":r=`${sk(Qr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${tl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e={}){return Jo(t,"GET","/v2/passwordPolicy",Qo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=6;class V6{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:F6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lk(this),this.idTokenSubscription=new lk(this),this.beforeStateQueue=new L6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ja(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await L2(this,{idToken:e}),n=await Ra._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ji(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject($a(this));const r=e?Lt(e):null;return r&&He(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $6(this),r=new V6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await j6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ja(e)||this._popupRedirectResolver;He(r,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[ja(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&y6(`Error while retrieving App Check token: ${r.error}`),r?.token}}function rl(t){return Lt(t)}class lk{constructor(e){this.auth=e,this.observer=null,this.addObserver=i3(r=>this.observer=r)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U6(t){Dm=t}function Y2(t){return Dm.loadJS(t)}function q6(){return Dm.recaptchaEnterpriseScript}function z6(){return Dm.gapiScript}function W6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const H6="recaptcha-enterprise",K6="NO_RECAPTCHA";class G6{constructor(e){this.type=H6,this.auth=rl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{A6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new T6(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;nk(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(K6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&nk(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=q6();c.length!==0&&(c+=u),Y2(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function uk(t,e,r,n=!1){const i=new G6(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Lx(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uk(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await uk(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e){const r=Mm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ep(a,e??{}))return i;ji(i,"already-initialized")}return r.initialize({options:e})}function X6(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ja);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Q6(t,e,r){const n=rl(t);He(n._canInitEmulator,n,"emulator-config-failed"),He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=X2(e),{host:s,port:u}=J6(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),Z6()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function J6(t){const e=X2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:ck(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:ck(s)}}}function ck(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z6(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Na("not implemented")}_getIdTokenResponse(e){return Na("not implemented")}_linkToIdToken(e,r){return Na("not implemented")}_getReauthenticationResolver(e){return Na("not implemented")}}async function eB(t,e){return Jo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tB(t,e){return ad(t,"POST","/v1/accounts:signInWithPassword",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,e))}async function nB(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends R1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new hf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new hf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lx(e,r,"signInWithPassword",tB);case"emailLink":return rB(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lx(e,n,"signUpPassword",eB);case"emailLink":return nB(e,{idToken:r,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e){return ad(t,"POST","/v1/accounts:signInWithIdp",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="http://localhost";class qs extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):ji("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=P1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new qs(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return nu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,nu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,nu(e,r)}buildRequest(){const e={requestUri:iB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=nd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oB(t){const e=Uc(qc(t)).link,r=e?Uc(qc(e)).deep_link_id:null,n=Uc(qc(t)).deep_link_id;return(n?Uc(qc(n)).link:null)||n||r||e||t}class j1{constructor(e){var r,n,i,a,s,u;const c=Uc(qc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,m=aB((i=c.mode)!==null&&i!==void 0?i:null);He(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=oB(e);try{return new j1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.providerId=Vu.PROVIDER_ID}static credential(e,r){return hf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=j1.parseLink(r);return He(n,"argument-error"),hf._fromEmailAndCode(e,n.code,n.tenantId)}}Vu.PROVIDER_ID="password";Vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Q2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends od{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oo.credential(e.oauthAccessToken)}catch{return null}}}Oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return qs._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Co.credential(r,n)}catch{return null}}}Co.GOOGLE_SIGN_IN_METHOD="google.com";Co.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends od{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends od{constructor(){super("twitter.com")}static credential(e,r){return qs._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ro.credential(r,n)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e){return ad(t,"POST","/v1/accounts:signUp",Qo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ra._fromIdTokenResponse(e,n,i),s=fk(n);return new zs({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=fk(n);return new zs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function fk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends fa{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new kp(e,r,n,i)}}function J2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?kp._fromErrorAndOperation(t,a,e,n):a})}async function lB(t,e,r=!1){const n=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return zs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uB(t,e,r=!1){const{auth:n}=t;if(Ji(n.app))return Promise.reject($a(n));const i="reauthenticate";try{const a=await df(t,J2(n,i,e,t),r);He(a.idToken,n,"internal-error");const s=C1(a.idToken);He(s,n,"internal-error");const{sub:u}=s;return He(t.uid===u,n,"user-mismatch"),zs._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&ji(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t,e,r=!1){if(Ji(t.app))return Promise.reject($a(t));const n="signIn",i=await J2(t,n,e),a=await zs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function cB(t,e){return Z2(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t){const e=rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fB(t,e,r){if(Ji(t.app))return Promise.reject($a(t));const n=rl(t),s=await Lx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&eM(t),c}),u=await zs._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function dB(t,e,r){return Ji(t.app)?Promise.reject($a(t)):cB(Lt(t),Vu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&eM(t),n})}function hB(t,e,r,n){return Lt(t).onIdTokenChanged(e,r,n)}function pB(t,e,r){return Lt(t).beforeAuthStateChanged(e,r)}function mB(t,e,r,n){return Lt(t).onAuthStateChanged(e,r,n)}function gB(t){return Lt(t).signOut()}const Pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1e3,vB=10;class rM extends tM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);D6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},yB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}rM.type="LOCAL";const bB=rM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM extends tM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}nM.type="SESSION";const iM=nM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Lm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await _B(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=M1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function wB(t){na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function EB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TB(){return aM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebaseLocalStorageDb",AB=1,Ip="firebaseLocalStorage",sM="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $m(t,e){return t.transaction([Ip],e?"readwrite":"readonly").objectStore(Ip)}function kB(){const t=indexedDB.deleteDatabase(oM);return new sd(t).toPromise()}function $x(){const t=indexedDB.open(oM,AB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ip,{keyPath:sM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ip)?e(n):(n.close(),await kB(),e(await $x()))})})}async function dk(t,e,r){const n=$m(t,!0).put({[sM]:e,value:r});return new sd(n).toPromise()}async function PB(t,e){const r=$m(t,!1).get(e),n=await new sd(r).toPromise();return n===void 0?null:n.value}function hk(t,e){const r=$m(t,!0).delete(e);return new sd(r).toPromise()}const IB=800,OB=3;class lM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $x(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>OB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lm._getInstance(TB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await EB(),!this.activeServiceWorker)return;this.sender=new xB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $x();return await dk(e,Pp,"1"),await hk(e,Pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>dk(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>PB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>hk(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$m(i,!1).getAll();return new sd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lM.type="LOCAL";const CB=lM;new id(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t,e){return e?ja(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends R1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return nu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return nu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function RB(t){return Z2(t.auth,new D1(t),t.bypassAuthState)}function jB(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),uB(r,new D1(t),t.bypassAuthState)}async function MB(t){const{auth:e,user:r}=t;return He(r,e,"internal-error"),lB(r,new D1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RB;case"linkViaPopup":case"linkViaRedirect":return MB;case"reauthViaPopup":case"reauthViaRedirect":return jB;default:ji(this.auth,"internal-error")}}resolve(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new id(2e3,1e4);class Yl extends uM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Ua(this.filter.length===1,"Popup operations only handle one event");const e=M1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DB.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="pendingRedirect",pp=new Map;class $B extends uM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=pp.get(this.auth._key());if(!e){try{const n=await FB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}pp.set(this.auth._key(),e)}return this.bypassAuthState||pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FB(t,e){const r=UB(e),n=BB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function VB(t,e){pp.set(t._key(),e)}function BB(t){return ja(t._redirectPersistence)}function UB(t){return hp(LB,t.config.apiKey,t.name)}async function qB(t,e,r=!1){if(Ji(t.app))return Promise.reject($a(t));const n=rl(t),i=NB(n,e),s=await new $B(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=10*60*1e3;class WB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!cM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ra(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zB&&this.cachedEventUids.clear(),this.cachedEventUids.has(pk(e))}saveEventToCache(e){this.cachedEventUids.add(pk(e)),this.lastProcessedEventTime=Date.now()}}function pk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(t,e={}){return Jo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YB=/^https?/;async function XB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KB(t);for(const r of e)try{if(QB(r))return}catch{}ji(t,"unauthorized-domain")}function QB(t){const e=Mx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!YB.test(r))return!1;if(GB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB=new id(3e4,6e4);function mk(){const t=na().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ZB(t){return new Promise((e,r)=>{var n,i,a;function s(){mk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mk(),r(ra(t,"network-request-failed"))},timeout:JB.get()})}if(!((i=(n=na().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=na().gapi)===null||a===void 0)&&a.load)s();else{const u=W6("iframefcb");return na()[u]=()=>{gapi.load?s():r(ra(t,"network-request-failed"))},Y2(`${z6()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw mp=null,e})}let mp=null;function eU(t){return mp=mp||ZB(t),mp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new id(5e3,15e3),rU="__/auth/iframe",nU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oU(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?O1(e,nU):`https://${t.config.authDomain}/${rU}`,n={apiKey:e.apiKey,appName:t.name,v:tl},i=aU.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${nd(n).slice(1)}`}async function sU(t){const e=await eU(t),r=na().gapi;return He(r,t,"internal-error"),e.open({where:document.body,url:oU(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ra(t,"network-request-failed"),u=na().setTimeout(()=>{a(s)},tU.get());function c(){na().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uU=500,cU=600,fU="_blank",dU="http://localhost";class gk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hU(t,e,r,n=uU,i=cU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},lU),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Qr().toLowerCase();r&&(u=U2(f)?fU:r),V2(f)&&(e=e||dU,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(M6(f)&&u!=="_self")return pU(e||"",u),new gk(null);const m=window.open(e||"",u,h);He(m,t,"popup-blocked");try{m.focus()}catch{}return new gk(m)}function pU(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="__/auth/handler",gU="emulator/auth/handler",yU=encodeURIComponent("fac");async function yk(t,e,r,n,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:tl,eventId:i};if(e instanceof Q2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",n3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof od){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${yU}=${encodeURIComponent(c)}`:"";return`${vU(t)}?${nd(u).slice(1)}${f}`}function vU({config:t}){return t.emulator?O1(t,gU):`https://${t.authDomain}/${mU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="webStorageSupport";class bU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iM,this._completeRedirectFn=qB,this._overrideRedirectResult=VB}async _openPopup(e,r,n,i){var a;Ua((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await yk(e,r,n,Mx(),i);return hU(e,s,M1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await yk(e,r,n,Mx(),i);return wB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ua(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await sU(e),n=new WB(e);return r.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(xv,{type:xv},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[xv];s!==void 0&&r(!!s),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=XB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return K2()||B2()||N1()}}const _U=bU;var vk="@firebase/auth",bk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EU(t){Us(new Ho("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;He(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G2(t)},f=new B6(n,i,a,c);return X6(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Us(new Ho("auth-internal",e=>{const r=rl(e.getProvider("auth").getImmediate());return(n=>new xU(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(vk,bk,wU(t)),ta(vk,bk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=5*60,TU=S2("authIdTokenMaxAge")||SU;let _k=null;const AU=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>TU)return;const i=r?.token;_k!==i&&(_k=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fM(t=k1()){const e=Mm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Y6(t,{popupRedirectResolver:_U,persistence:[CB,bB,iM]}),n=S2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=AU(a.toString());pB(r,s,()=>s(r.currentUser)),hB(r,u=>s(u))}}const i=x2("auth");return i&&Q6(r,`http://${i}`),r}function kU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}U6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ra("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",kU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EU("Browser");var xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,dM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function R(){}R.prototype=k.prototype,A.D=k.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(F,L,V){for(var M=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)M[Z-2]=arguments[Z];return k.prototype[L].apply(F,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,R){R||(R=0);var F=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)F[L]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(L=0;16>L;++L)F[L]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=A.g[0],R=A.g[1],L=A.g[2];var V=A.g[3],M=k+(V^R&(L^V))+F[0]+3614090360&4294967295;k=R+(M<<7&4294967295|M>>>25),M=V+(L^k&(R^L))+F[1]+3905402710&4294967295,V=k+(M<<12&4294967295|M>>>20),M=L+(R^V&(k^R))+F[2]+606105819&4294967295,L=V+(M<<17&4294967295|M>>>15),M=R+(k^L&(V^k))+F[3]+3250441966&4294967295,R=L+(M<<22&4294967295|M>>>10),M=k+(V^R&(L^V))+F[4]+4118548399&4294967295,k=R+(M<<7&4294967295|M>>>25),M=V+(L^k&(R^L))+F[5]+1200080426&4294967295,V=k+(M<<12&4294967295|M>>>20),M=L+(R^V&(k^R))+F[6]+2821735955&4294967295,L=V+(M<<17&4294967295|M>>>15),M=R+(k^L&(V^k))+F[7]+4249261313&4294967295,R=L+(M<<22&4294967295|M>>>10),M=k+(V^R&(L^V))+F[8]+1770035416&4294967295,k=R+(M<<7&4294967295|M>>>25),M=V+(L^k&(R^L))+F[9]+2336552879&4294967295,V=k+(M<<12&4294967295|M>>>20),M=L+(R^V&(k^R))+F[10]+4294925233&4294967295,L=V+(M<<17&4294967295|M>>>15),M=R+(k^L&(V^k))+F[11]+2304563134&4294967295,R=L+(M<<22&4294967295|M>>>10),M=k+(V^R&(L^V))+F[12]+1804603682&4294967295,k=R+(M<<7&4294967295|M>>>25),M=V+(L^k&(R^L))+F[13]+4254626195&4294967295,V=k+(M<<12&4294967295|M>>>20),M=L+(R^V&(k^R))+F[14]+2792965006&4294967295,L=V+(M<<17&4294967295|M>>>15),M=R+(k^L&(V^k))+F[15]+1236535329&4294967295,R=L+(M<<22&4294967295|M>>>10),M=k+(L^V&(R^L))+F[1]+4129170786&4294967295,k=R+(M<<5&4294967295|M>>>27),M=V+(R^L&(k^R))+F[6]+3225465664&4294967295,V=k+(M<<9&4294967295|M>>>23),M=L+(k^R&(V^k))+F[11]+643717713&4294967295,L=V+(M<<14&4294967295|M>>>18),M=R+(V^k&(L^V))+F[0]+3921069994&4294967295,R=L+(M<<20&4294967295|M>>>12),M=k+(L^V&(R^L))+F[5]+3593408605&4294967295,k=R+(M<<5&4294967295|M>>>27),M=V+(R^L&(k^R))+F[10]+38016083&4294967295,V=k+(M<<9&4294967295|M>>>23),M=L+(k^R&(V^k))+F[15]+3634488961&4294967295,L=V+(M<<14&4294967295|M>>>18),M=R+(V^k&(L^V))+F[4]+3889429448&4294967295,R=L+(M<<20&4294967295|M>>>12),M=k+(L^V&(R^L))+F[9]+568446438&4294967295,k=R+(M<<5&4294967295|M>>>27),M=V+(R^L&(k^R))+F[14]+3275163606&4294967295,V=k+(M<<9&4294967295|M>>>23),M=L+(k^R&(V^k))+F[3]+4107603335&4294967295,L=V+(M<<14&4294967295|M>>>18),M=R+(V^k&(L^V))+F[8]+1163531501&4294967295,R=L+(M<<20&4294967295|M>>>12),M=k+(L^V&(R^L))+F[13]+2850285829&4294967295,k=R+(M<<5&4294967295|M>>>27),M=V+(R^L&(k^R))+F[2]+4243563512&4294967295,V=k+(M<<9&4294967295|M>>>23),M=L+(k^R&(V^k))+F[7]+1735328473&4294967295,L=V+(M<<14&4294967295|M>>>18),M=R+(V^k&(L^V))+F[12]+2368359562&4294967295,R=L+(M<<20&4294967295|M>>>12),M=k+(R^L^V)+F[5]+4294588738&4294967295,k=R+(M<<4&4294967295|M>>>28),M=V+(k^R^L)+F[8]+2272392833&4294967295,V=k+(M<<11&4294967295|M>>>21),M=L+(V^k^R)+F[11]+1839030562&4294967295,L=V+(M<<16&4294967295|M>>>16),M=R+(L^V^k)+F[14]+4259657740&4294967295,R=L+(M<<23&4294967295|M>>>9),M=k+(R^L^V)+F[1]+2763975236&4294967295,k=R+(M<<4&4294967295|M>>>28),M=V+(k^R^L)+F[4]+1272893353&4294967295,V=k+(M<<11&4294967295|M>>>21),M=L+(V^k^R)+F[7]+4139469664&4294967295,L=V+(M<<16&4294967295|M>>>16),M=R+(L^V^k)+F[10]+3200236656&4294967295,R=L+(M<<23&4294967295|M>>>9),M=k+(R^L^V)+F[13]+681279174&4294967295,k=R+(M<<4&4294967295|M>>>28),M=V+(k^R^L)+F[0]+3936430074&4294967295,V=k+(M<<11&4294967295|M>>>21),M=L+(V^k^R)+F[3]+3572445317&4294967295,L=V+(M<<16&4294967295|M>>>16),M=R+(L^V^k)+F[6]+76029189&4294967295,R=L+(M<<23&4294967295|M>>>9),M=k+(R^L^V)+F[9]+3654602809&4294967295,k=R+(M<<4&4294967295|M>>>28),M=V+(k^R^L)+F[12]+3873151461&4294967295,V=k+(M<<11&4294967295|M>>>21),M=L+(V^k^R)+F[15]+530742520&4294967295,L=V+(M<<16&4294967295|M>>>16),M=R+(L^V^k)+F[2]+3299628645&4294967295,R=L+(M<<23&4294967295|M>>>9),M=k+(L^(R|~V))+F[0]+4096336452&4294967295,k=R+(M<<6&4294967295|M>>>26),M=V+(R^(k|~L))+F[7]+1126891415&4294967295,V=k+(M<<10&4294967295|M>>>22),M=L+(k^(V|~R))+F[14]+2878612391&4294967295,L=V+(M<<15&4294967295|M>>>17),M=R+(V^(L|~k))+F[5]+4237533241&4294967295,R=L+(M<<21&4294967295|M>>>11),M=k+(L^(R|~V))+F[12]+1700485571&4294967295,k=R+(M<<6&4294967295|M>>>26),M=V+(R^(k|~L))+F[3]+2399980690&4294967295,V=k+(M<<10&4294967295|M>>>22),M=L+(k^(V|~R))+F[10]+4293915773&4294967295,L=V+(M<<15&4294967295|M>>>17),M=R+(V^(L|~k))+F[1]+2240044497&4294967295,R=L+(M<<21&4294967295|M>>>11),M=k+(L^(R|~V))+F[8]+1873313359&4294967295,k=R+(M<<6&4294967295|M>>>26),M=V+(R^(k|~L))+F[15]+4264355552&4294967295,V=k+(M<<10&4294967295|M>>>22),M=L+(k^(V|~R))+F[6]+2734768916&4294967295,L=V+(M<<15&4294967295|M>>>17),M=R+(V^(L|~k))+F[13]+1309151649&4294967295,R=L+(M<<21&4294967295|M>>>11),M=k+(L^(R|~V))+F[4]+4149444226&4294967295,k=R+(M<<6&4294967295|M>>>26),M=V+(R^(k|~L))+F[11]+3174756917&4294967295,V=k+(M<<10&4294967295|M>>>22),M=L+(k^(V|~R))+F[2]+718787259&4294967295,L=V+(M<<15&4294967295|M>>>17),M=R+(V^(L|~k))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+V&4294967295}n.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var R=k-this.blockSize,F=this.B,L=this.h,V=0;V<k;){if(L==0)for(;V<=R;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<k;)if(F[L++]=A.charCodeAt(V++),L==this.blockSize){i(this,F),L=0;break}}else for(;V<k;)if(F[L++]=A[V++],L==this.blockSize){i(this,F),L=0;break}}this.h=L,this.o+=k},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var R=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=R&255,R/=256;for(this.u(A),A=Array(16),k=R=0;4>k;++k)for(var F=0;32>F;F+=8)A[R++]=this.g[k]>>>F&255;return A};function a(A,k){var R=u;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=k(A)}function s(A,k){this.h=k;for(var R=[],F=!0,L=A.length-1;0<=L;L--){var V=A[L]|0;F&&V==k||(R[L]=V,F=!1)}this.g=R}var u={};function c(A){return-128<=A&&128>A?a(A,function(k){return new s([k|0],0>k?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return w(f(-A));for(var k=[],R=1,F=0;A>=R;F++)k[F]=A/R|0,R*=4294967296;return new s(k,0)}function h(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return w(h(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(k,8)),F=m,L=0;L<A.length;L+=8){var V=Math.min(8,A.length-L),M=parseInt(A.substring(L,L+V),k);8>V?(V=f(Math.pow(k,V)),F=F.j(V).add(f(M))):(F=F.j(R),F=F.add(f(M)))}return F}var m=c(0),v=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(E(this))return-w(this).m();for(var A=0,k=1,R=0;R<this.g.length;R++){var F=this.i(R);A+=(0<=F?F:4294967296+F)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(E(this))return"-"+w(this).toString(A);for(var k=f(Math.pow(A,6)),R=this,F="";;){var L=$(R,k).g;R=C(R,L.j(k));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=L,x(R))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=C(this,A),E(A)?-1:x(A)?0:1};function w(A){for(var k=A.g.length,R=[],F=0;F<k;F++)R[F]=~A.g[F];return new s(R,~A.h).add(v)}t.abs=function(){return E(this)?w(this):this},t.add=function(A){for(var k=Math.max(this.g.length,A.g.length),R=[],F=0,L=0;L<=k;L++){var V=F+(this.i(L)&65535)+(A.i(L)&65535),M=(V>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);F=M>>>16,V&=65535,M&=65535,R[L]=M<<16|V}return new s(R,R[R.length-1]&-2147483648?-1:0)};function C(A,k){return A.add(w(k))}t.j=function(A){if(x(this)||x(A))return m;if(E(this))return E(A)?w(this).j(w(A)):w(w(this).j(A));if(E(A))return w(this.j(w(A)));if(0>this.l(b)&&0>A.l(b))return f(this.m()*A.m());for(var k=this.g.length+A.g.length,R=[],F=0;F<2*k;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<A.g.length;L++){var V=this.i(F)>>>16,M=this.i(F)&65535,Z=A.i(L)>>>16,te=A.i(L)&65535;R[2*F+2*L]+=M*te,O(R,2*F+2*L),R[2*F+2*L+1]+=V*te,O(R,2*F+2*L+1),R[2*F+2*L+1]+=M*Z,O(R,2*F+2*L+1),R[2*F+2*L+2]+=V*Z,O(R,2*F+2*L+2)}for(F=0;F<k;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=k;F<2*k;F++)R[F]=0;return new s(R,0)};function O(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function P(A,k){this.g=A,this.h=k}function $(A,k){if(x(k))throw Error("division by zero");if(x(A))return new P(m,m);if(E(A))return k=$(w(A),k),new P(w(k.g),w(k.h));if(E(k))return k=$(A,w(k)),new P(w(k.g),k.h);if(30<A.g.length){if(E(A)||E(k))throw Error("slowDivide_ only works with positive integers.");for(var R=v,F=k;0>=F.l(A);)R=N(R),F=N(F);var L=j(R,1),V=j(F,1);for(F=j(F,2),R=j(R,2);!x(F);){var M=V.add(F);0>=M.l(A)&&(L=L.add(R),V=M),F=j(F,1),R=j(R,1)}return k=C(A,L.j(k)),new P(L,k)}for(L=m;0<=A.l(k);){for(R=Math.max(1,Math.floor(A.m()/k.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(R),M=V.j(k);E(M)||0<M.l(A);)R-=F,V=f(R),M=V.j(k);x(V)&&(V=v),L=L.add(V),A=C(A,M)}return new P(L,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var k=Math.max(this.g.length,A.g.length),R=[],F=0;F<k;F++)R[F]=this.i(F)&A.i(F);return new s(R,this.h&A.h)},t.or=function(A){for(var k=Math.max(this.g.length,A.g.length),R=[],F=0;F<k;F++)R[F]=this.i(F)|A.i(F);return new s(R,this.h|A.h)},t.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),R=[],F=0;F<k;F++)R[F]=this.i(F)^A.i(F);return new s(R,this.h^A.h)};function N(A){for(var k=A.g.length+1,R=[],F=0;F<k;F++)R[F]=A.i(F)<<1|A.i(F-1)>>>31;return new s(R,A.h)}function j(A,k){var R=k>>5;k%=32;for(var F=A.g.length-R,L=[],V=0;V<F;V++)L[V]=0<k?A.i(V+R)>>>k|A.i(V+R+1)<<32-k:A.i(V+R);return new s(L,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dM=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,$s=s}).apply(typeof xk<"u"?xk:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hM,zc,pM,gp,Fx,mM,gM,yM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,I){return p==Array.prototype||p==Object.prototype||(p[S]=I.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var S=0;S<p.length;++S){var I=p[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(p,S){if(S)e:{var I=n;p=p.split(".");for(var B=0;B<p.length-1;B++){var Y=p[B];if(!(Y in I))break e;I=I[Y]}p=p[p.length-1],B=I[p],S=S(B),S!=B&&S!=null&&e(I,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var I=0,B=!1,Y={next:function(){if(!B&&I<p.length){var re=I++;return{value:S(re,p[re]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function f(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function h(p,S,I){return p.call.apply(p.bind,arguments)}function m(p,S,I){if(!p)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,B),p.apply(S,Y)}}return function(){return p.apply(S,arguments)}}function v(p,S,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,v.apply(null,arguments)}function b(p,S){var I=Array.prototype.slice.call(arguments,1);return function(){var B=I.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function x(p,S){function I(){}I.prototype=S.prototype,p.aa=S.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(B,Y,re){for(var _e=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)_e[bt-2]=arguments[bt];return S.prototype[Y].apply(B,_e)}}function E(p){const S=p.length;if(0<S){const I=Array(S);for(let B=0;B<S;B++)I[B]=p[B];return I}return[]}function w(p,S){for(let I=1;I<arguments.length;I++){const B=arguments[I];if(c(B)){const Y=p.length||0,re=B.length||0;p.length=Y+re;for(let _e=0;_e<re;_e++)p[Y+_e]=B[_e]}else p.push(B)}}class C{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function O(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var N=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(p,S,I){for(const B in p)S.call(I,p[B],B,p)}function A(p,S){for(const I in p)S.call(void 0,p[I],I,p)}function k(p){const S={};for(const I in p)S[I]=p[I];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,S){let I,B;for(let Y=1;Y<arguments.length;Y++){B=arguments[Y];for(I in B)p[I]=B[I];for(let re=0;re<R.length;re++)I=R[re],Object.prototype.hasOwnProperty.call(B,I)&&(p[I]=B[I])}}function L(p){var S=1;p=p.split(":");const I=[];for(;0<S&&p.length;)I.push(p.shift()),S--;return p.length&&I.push(p.join(":")),I}function V(p){u.setTimeout(()=>{throw p},0)}function M(){var p=ie;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,I){const B=te.get();B.set(S,I),this.h?this.h.next=B:this.g=B,this.h=B}}var te=new C(()=>new ne,p=>p.reset());class ne{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Q=!1,ie=new Z,oe=()=>{const p=u.Promise.resolve(void 0);ae=()=>{p.then(q)}};var q=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(I){V(I)}var S=te;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};u.addEventListener("test",I,S),u.removeEventListener("test",I,S)}catch{}return p}();function Re(p,S){if(ce.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(N){e:{try{$(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else I=="mouseover"?S=p.fromElement:I=="mouseout"&&(S=p.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:be[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Re.aa.h.call(this)}}x(Re,ce);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function he(p,S,I,B,Y){this.listener=p,this.proxy=null,this.src=S,this.type=I,this.capture=!!B,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function Oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function qe(p){this.src=p,this.g={},this.h=0}qe.prototype.add=function(p,S,I,B,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var _e=st(p,S,B,Y);return-1<_e?(S=p[_e],I||(S.fa=!1)):(S=new he(S,this.src,re,!!B,Y),S.fa=I,p.push(S)),S};function le(p,S){var I=S.type;if(I in p.g){var B=p.g[I],Y=Array.prototype.indexOf.call(B,S,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(B,Y,1),re&&(Oe(S),p.g[I].length==0&&(delete p.g[I],p.h--))}}function st(p,S,I,B){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==S&&re.capture==!!I&&re.ha==B)return Y}return-1}var We="closure_lm_"+(1e6*Math.random()|0),pt={};function Et(p,S,I,B,Y){if(Array.isArray(S)){for(var re=0;re<S.length;re++)Et(p,S[re],I,B,Y);return null}return I=hi(I),p&&p[Me]?p.K(S,I,f(B)?!!B.capture:!1,Y):Ht(p,S,I,!1,B,Y)}function Ht(p,S,I,B,Y,re){if(!S)throw Error("Invalid event type");var _e=f(Y)?!!Y.capture:!!Y,bt=Zr(p);if(bt||(p[We]=bt=new qe(p)),I=bt.add(S,I,B,_e,re),I.proxy)return I;if(B=cr(),I.proxy=B,B.src=p,B.listener=I,p.addEventListener)xe||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(S.toString(),B,Y);else if(p.attachEvent)p.attachEvent(kt(S.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return I}function cr(){function p(I){return S.call(p.src,p.listener,I)}const S=Ir;return p}function Jr(p,S,I,B,Y){if(Array.isArray(S))for(var re=0;re<S.length;re++)Jr(p,S[re],I,B,Y);else B=f(B)?!!B.capture:!!B,I=hi(I),p&&p[Me]?(p=p.i,S=String(S).toString(),S in p.g&&(re=p.g[S],I=st(re,I,B,Y),-1<I&&(Oe(re[I]),Array.prototype.splice.call(re,I,1),re.length==0&&(delete p.g[S],p.h--)))):p&&(p=Zr(p))&&(S=p.g[S.toString()],p=-1,S&&(p=st(S,I,B,Y)),(I=-1<p?S[p]:null)&&At(I))}function At(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[Me])le(S.i,p);else{var I=p.type,B=p.proxy;S.removeEventListener?S.removeEventListener(I,B,p.capture):S.detachEvent?S.detachEvent(kt(I),B):S.addListener&&S.removeListener&&S.removeListener(B),(I=Zr(S))?(le(I,p),I.h==0&&(I.src=null,S[We]=null)):Oe(p)}}}function kt(p){return p in pt?pt[p]:pt[p]="on"+p}function Ir(p,S){if(p.da)p=!0;else{S=new Re(S,this);var I=p.listener,B=p.ha||p.src;p.fa&&At(p),p=I.call(B,S)}return p}function Zr(p){return p=p[We],p instanceof qe?p:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(p){return typeof p=="function"?p:(p[di]||(p[di]=function(S){return p.handleEvent(S)}),p[di])}function Kt(){G.call(this),this.i=new qe(this),this.M=this,this.F=null}x(Kt,G),Kt.prototype[Me]=!0,Kt.prototype.removeEventListener=function(p,S,I,B){Jr(this,p,S,I,B)};function Jt(p,S){var I,B=p.F;if(B)for(I=[];B;B=B.F)I.push(B);if(p=p.M,B=S.type||S,typeof S=="string")S=new ce(S,p);else if(S instanceof ce)S.target=S.target||p;else{var Y=S;S=new ce(B,p),F(S,Y)}if(Y=!0,I)for(var re=I.length-1;0<=re;re--){var _e=S.g=I[re];Y=pi(_e,B,!0,S)&&Y}if(_e=S.g=p,Y=pi(_e,B,!0,S)&&Y,Y=pi(_e,B,!1,S)&&Y,I)for(re=0;re<I.length;re++)_e=S.g=I[re],Y=pi(_e,B,!1,S)&&Y}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var I=p.g[S],B=0;B<I.length;B++)Oe(I[B]);delete p.g[S],p.h--}}this.F=null},Kt.prototype.K=function(p,S,I,B){return this.i.add(String(p),S,!1,I,B)},Kt.prototype.L=function(p,S,I,B){return this.i.add(String(p),S,!0,I,B)};function pi(p,S,I,B){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,re=0;re<S.length;++re){var _e=S[re];if(_e&&!_e.da&&_e.capture==I){var bt=_e.listener,fr=_e.ha||_e.src;_e.fa&&le(p.i,_e),Y=bt.call(fr,B)!==!1&&Y}}return Y&&!B.defaultPrevented}function is(p,S,I){if(typeof p=="function")I&&(p=v(p,I));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(p,S||0)}function Fi(p){p.g=is(()=>{p.g=null,p.i&&(p.i=!1,Fi(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Un extends G{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Fi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(p){G.call(this),this.h=p,this.g={}}x(fn,G);var eo=[];function mi(p){j(p.g,function(S,I){this.g.hasOwnProperty(I)&&At(S)},p),p.g={}}fn.prototype.N=function(){fn.aa.N.call(this),mi(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=u.JSON.stringify,as=u.JSON.parse,qn=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function pa(){}pa.prototype.h=null;function to(p){return p.h||(p.h=p.i())}function Vi(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zn(){ce.call(this,"d")}x(zn,ce);function rr(){ce.call(this,"c")}x(rr,ce);var Wn={},Fr=null;function Vr(){return Fr=Fr||new Kt}Wn.La="serverreachability";function Tn(p){ce.call(this,Wn.La,p)}x(Tn,ce);function yi(p){const S=Vr();Jt(S,new Tn(S))}Wn.STAT_EVENT="statevent";function ma(p,S){ce.call(this,Wn.STAT_EVENT,p),this.stat=S}x(ma,ce);function Ut(p){const S=Vr();Jt(S,new ma(S,p))}Wn.Ma="timingevent";function ge(p,S){ce.call(this,Wn.Ma,p),this.size=S}x(ge,ce);function we(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},S)}function Ie(){this.g=!0}Ie.prototype.xa=function(){this.g=!1};function Se(p,S,I,B,Y,re){p.info(function(){if(p.g)if(re)for(var _e="",bt=re.split("&"),fr=0;fr<bt.length;fr++){var at=bt[fr].split("=");if(1<at.length){var _r=at[0];at=at[1];var ir=_r.split("_");_e=2<=ir.length&&ir[1]=="type"?_e+(_r+"="+at+"&"):_e+(_r+"=redacted&")}}else _e=null;else _e=re;return"XMLHTTP REQ ("+B+") [attempt "+Y+"]: "+S+`
`+I+`
`+_e})}function De(p,S,I,B,Y,re,_e){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Y+"]: "+S+`
`+I+`
`+re+" "+_e})}function $e(p,S,I,B){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ve(p,I)+(B?" "+B:"")})}function ht(p,S){p.info(function(){return"TIMEOUT: "+S})}Ie.prototype.info=function(){};function Ve(p,S){if(!p.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var B=I[p];if(!(2>B.length)){var Y=B[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return gi(I)}catch{return S}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},An={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hn;function ga(){}x(ga,pa),ga.prototype.g=function(){return new XMLHttpRequest},ga.prototype.i=function(){return{}},hn=new ga;function Zt(p,S,I,B){this.j=p,this.i=S,this.l=I,this.R=B||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ro}function ro(){this.i=null,this.g="",this.h=!1}var Hn={},vi={};function Bi(p,S,I){p.L=1,p.v=so(In(S)),p.m=I,p.P=!0,kn(p,null)}function kn(p,S){p.F=Date.now(),Pt(p),p.A=In(p.v);var I=p.A,B=p.R;Array.isArray(B)||(B=[String(B)]),uo(I.i,"t",B),p.C=0,I=p.j.J,p.h=new ro,p.g=Kd(p.j,I?S:null,!p.m),0<p.O&&(p.M=new Un(v(p.Y,p,p.g),p.O)),S=p.U,I=p.g,B=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(eo[0]=Y.toString()),Y=eo);for(var re=0;re<Y.length;re++){var _e=Et(I,Y[re],B||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),yi(),Se(p.i,p.u,p.A,p.l,p.R,p.m)}Zt.prototype.ca=function(p){p=p.target;const S=this.M;S&&mn(p)==3?S.j():this.Y(p)},Zt.prototype.Y=function(p){try{if(p==this.g)e:{const ir=mn(this.g);var S=this.g.Ba();const Yn=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||ir!=4||S==7||(S==8||0>=Yn?yi(3):yi(2)),os(this);var I=this.g.Z();this.X=I;t:if(Od(this)){var B=nc(this.g);p="";var Y=B.length,re=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),no(this);var _e="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,p+=this.h.i.decode(B[S],{stream:!(re&&S==Y-1)});B.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=I==200,De(this.i,this.u,this.A,this.l,this.R,ir,I),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,fr=this.g;if((bt=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(bt)){var at=bt;break t}}at=null}if(I=at)$e(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ju(this,I);else{this.o=!1,this.s=3,Ut(12),Kn(this),no(this);break e}}if(this.P){I=!0;let Cn;for(;!this.J&&this.C<_e.length;)if(Cn=Fg(this,_e),Cn==vi){ir==4&&(this.s=4,Ut(14),I=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Hn){this.s=4,Ut(15),$e(this.i,this.l,_e,"[Invalid Chunk]"),I=!1;break}else $e(this.i,this.l,Cn,null),Ju(this,Cn);if(Od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||_e.length!=0||this.h.h||(this.s=1,Ut(16),I=!1),this.o=this.o&&I,!I)$e(this.i,this.l,_e,"[Invalid Chunked Response]"),Kn(this),no(this);else if(0<_e.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),ac(_r),_r.M=!0,Ut(11))}}else $e(this.i,this.l,_e,null),Ju(this,_e);ir==4&&Kn(this),this.o&&!this.J&&(ir==4?_l(this.j,this):(this.o=!1,Pt(this)))}else ml(this.g),I==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Kn(this),no(this)}}}catch{}finally{}};function Od(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Fg(p,S){var I=p.C,B=S.indexOf(`
`,I);return B==-1?vi:(I=Number(S.substring(I,B)),isNaN(I)?Hn:(B+=1,B+I>S.length?vi:(S=S.slice(B,B+I),p.C=B+I,S)))}Zt.prototype.cancel=function(){this.J=!0,Kn(this)};function Pt(p){p.S=Date.now()+p.I,Cd(p,p.I)}function Cd(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=we(v(p.ba,p),S)}function os(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Zt.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ht(this.i,this.A),this.L!=2&&(yi(),Ut(17)),Kn(this),this.s=2,no(this)):Cd(this,this.S-p)};function no(p){p.j.G==0||p.J||_l(p.j,p)}function Kn(p){os(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,mi(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function Ju(p,S){try{var I=p.j;if(I.G!=0&&(I.g==p||en(I.h,p))){if(!p.K&&en(I.h,p)&&I.G==3){try{var B=I.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Y=B;if(Y[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)bl(I),Ei(I);else break e;vl(I),Ut(18)}}else I.za=Y[1],0<I.za-I.T&&37500>Y[2]&&I.F&&I.v==0&&!I.C&&(I.C=we(v(I.Za,I),6e3));if(1>=Rd(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else xa(I,11)}else if((p.K||I.g==p)&&bl(I),!O(S))for(Y=I.Da.g.parse(S),S=0;S<Y.length;S++){let at=Y[S];if(I.T=at[0],at=at[1],I.G==2)if(at[0]=="c"){I.K=at[1],I.ia=at[2];const _r=at[3];_r!=null&&(I.la=_r,I.j.info("VER="+I.la));const ir=at[4];ir!=null&&(I.Aa=ir,I.j.info("SVER="+I.Aa));const Yn=at[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(B=1.5*Yn,I.L=B,I.j.info("backChannelRequestTimeoutMs_="+B)),B=I;const Cn=p.g;if(Cn){const hs=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var re=B.h;re.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Zu(re,re.h),re.h=null))}if(B.D){const wl=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(B.ya=wl,St(B.I,B.D,wl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),B=I;var _e=p;if(B.qa=Hd(B,B.J?B.ia:null,B.W),_e.K){jd(B.h,_e);var bt=_e,fr=B.L;fr&&(bt.I=fr),bt.B&&(os(bt),Pt(bt)),B.g=_e}else ds(B);0<I.i.length&&Wi(I)}else at[0]!="stop"&&at[0]!="close"||xa(I,7);else I.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xa(I,7):Cr(I):at[0]!="noop"&&I.l&&I.l.ta(at),I.v=0)}}yi(4)}catch{}}var Nd=class{constructor(p,S){this.g=p,this.map=S}};function ss(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Rd(p){return p.h?1:p.g?p.g.size:0}function en(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function Zu(p,S){p.g?p.g.add(S):p.h=S}function jd(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}ss.prototype.cancel=function(){if(this.i=Md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Md(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const I of p.g.values())S=S.concat(I.D);return S}return E(p.i)}function cl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],I=p.length,B=0;B<I;B++)S.push(p[B]);return S}S=[],I=0;for(B in p)S[I++]=p[B];return S}function fl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var I=0;I<p;I++)S.push(I);return S}S=[],I=0;for(const B in p)S[I++]=B;return S}}}function io(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var I=fl(p),B=cl(p),Y=B.length,re=0;re<Y;re++)S.call(void 0,B[re],I&&I[re],p)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vg(p,S){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var B=p[I].indexOf("="),Y=null;if(0<=B){var re=p[I].substring(0,B);Y=p[I].substring(B+1)}else re=p[I];S(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ya(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof ya){this.h=p.h,us(this,p.j),this.o=p.o,this.g=p.g,ao(this,p.s),this.l=p.l;var S=p.i,I=new Ui;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),oo(this,I),this.m=p.m}else p&&(S=String(p).match(ls))?(this.h=!1,us(this,S[1]||"",!0),this.o=nt(S[2]||""),this.g=nt(S[3]||"",!0),ao(this,S[4]),this.l=nt(S[5]||"",!0),oo(this,S[6]||"",!0),this.m=nt(S[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}ya.prototype.toString=function(){var p=[],S=this.j;S&&p.push(lo(S,dl,!0),":");var I=this.g;return(I||S=="file")&&(p.push("//"),(S=this.o)&&p.push(lo(S,dl,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(lo(I,I.charAt(0)=="/"?$d:Ld,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",lo(I,ec)),p.join("")};function In(p){return new ya(p)}function us(p,S,I){p.j=I?nt(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function ao(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function oo(p,S,I){S instanceof Ui?(p.i=S,qi(p.i,p.h)):(I||(S=lo(S,Fd)),p.i=new Ui(S,p.h))}function St(p,S,I){p.i.set(S,I)}function so(p){return St(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function nt(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function lo(p,S,I){return typeof p=="string"?(p=encodeURI(p).replace(S,Dd),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Dd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var dl=/[#\/\?@]/g,Ld=/[#\?:]/g,$d=/[#\?]/g,Fd=/[#\?@]/g,ec=/#/g;function Ui(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Or(p){p.g||(p.g=new Map,p.h=0,p.i&&Vg(p.i,function(S,I){p.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=Ui.prototype,t.add=function(p,S){Or(this),this.i=null,p=Gn(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(S),this.h+=1,this};function bi(p,S){Or(p),S=Gn(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function _i(p,S){return Or(p),S=Gn(p,S),p.g.has(S)}t.forEach=function(p,S){Or(this),this.g.forEach(function(I,B){I.forEach(function(Y){p.call(S,Y,B,this)},this)},this)},t.na=function(){Or(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let B=0;B<S.length;B++){const Y=p[B];for(let re=0;re<Y.length;re++)I.push(S[B])}return I},t.V=function(p){Or(this);let S=[];if(typeof p=="string")_i(this,p)&&(S=S.concat(this.g.get(Gn(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)S=S.concat(p[I])}return S},t.set=function(p,S){return Or(this),this.i=null,p=Gn(this,p),_i(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function uo(p,S,I){bi(p,S),0<I.length&&(p.i=null,p.g.set(Gn(p,S),E(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var B=S[I];const re=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var Y=re;_e[B]!==""&&(Y+="="+encodeURIComponent(String(_e[B]))),p.push(Y)}}return this.i=p.join("&")};function Gn(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function qi(p,S){S&&!p.j&&(Or(p),p.i=null,p.g.forEach(function(I,B){var Y=B.toLowerCase();B!=Y&&(bi(this,B),uo(this,Y,I))},p)),p.j=S}function Bg(p,S){const I=new Ie;if(u.Image){const B=new Image;B.onload=b(pn,I,"TestLoadImage: loaded",!0,S,B),B.onerror=b(pn,I,"TestLoadImage: error",!1,S,B),B.onabort=b(pn,I,"TestLoadImage: abort",!1,S,B),B.ontimeout=b(pn,I,"TestLoadImage: timeout",!1,S,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else S(!1)}function Vd(p,S){const I=new Ie,B=new AbortController,Y=setTimeout(()=>{B.abort(),pn(I,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:B.signal}).then(re=>{clearTimeout(Y),re.ok?pn(I,"TestPingServer: ok",!0,S):pn(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),pn(I,"TestPingServer: error",!1,S)})}function pn(p,S,I,B,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),B(I)}catch{}}function Ug(){this.g=new qn}function Bd(p,S,I){const B=I||"";try{io(p,function(Y,re){let _e=Y;f(Y)&&(_e=gi(Y)),S.push(B+re+"="+encodeURIComponent(_e))})}catch(Y){throw S.push(B+"type="+encodeURIComponent("_badmap")),Y}}function va(p){this.l=p.Ub||null,this.j=p.eb||!1}x(va,pa),va.prototype.g=function(){return new cs(this.l,this.j)},va.prototype.i=function(p){return function(){return p}}({});function cs(p,S){Kt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(cs,Kt),t=cs.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,wi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ud(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ud(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?xi(this):wi(this),this.readyState==3&&Ud(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,xi(this))},t.Qa=function(p){this.g&&(this.response=p,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,wi(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=S.next();return p.join(`\r
`)};function wi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ba(p){let S="";return j(p,function(I,B){S+=B,S+=":",S+=I,S+=`\r
`}),S}function co(p,S,I){e:{for(B in I){var B=!1;break e}B=!0}B||(I=ba(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):St(p,S,I))}function $t(p){Kt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($t,Kt);var qg=/^https?$/i,tc=["POST","PUT"];t=$t.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,I,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hn.g(),this.v=this.o?to(this.o):to(hn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(re){fs(this,re);return}if(p=I||"",I=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Y in B)I.set(Y,B[Y]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const re of B.keys())I.set(re,B.get(re));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(I.keys()).find(re=>re.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(tc,S,void 0))||B||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of I)this.g.setRequestHeader(re,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pl(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){fs(this,re)}};function fs(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,hl(p),On(p)}function hl(p){p.A||(p.A=!0,Jt(p,"complete"),Jt(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Jt(this,"complete"),Jt(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rc(this):this.bb())},t.bb=function(){rc(this)};function rc(p){if(p.h&&typeof s<"u"&&(!p.v[1]||mn(p)!=4||p.Z()!=2)){if(p.u&&mn(p)==4)is(p.Ea,0,p);else if(Jt(p,"readystatechange"),mn(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var B;if(B=_e===0){var Y=String(p.D).match(ls)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),B=!qg.test(Y?Y.toLowerCase():"")}I=B}if(I)Jt(p,"complete"),Jt(p,"success");else{p.m=6;try{var re=2<mn(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",hl(p)}}finally{On(p)}}}}function On(p,S){if(p.g){pl(p);const I=p.g,B=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||Jt(p,"ready");try{I.onreadystatechange=B}catch{}}}function pl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function mn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),as(S)}};function nc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ml(p){const S={};p=(p.g&&2<=mn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(O(p[B]))continue;var I=L(p[B]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const re=S[Y]||[];S[Y]=re,re.push(I)}A(S,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(p,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||S}function ic(p){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,p),this.cb=zi("retryDelaySeedMs",1e4,p),this.Wa=zi("forwardChannelMaxRetries",2,p),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(p&&p.concurrentRequestLimit),this.Da=new Ug,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ic.prototype,t.la=8,t.G=1,t.connect=function(p,S,I,B){Ut(0),this.W=p,this.H=S||{},I&&B!==void 0&&(this.H.OSID=I,this.H.OAID=B),this.F=this.X,this.I=Hd(this,null,this.W),Wi(this)};function Cr(p){if(gl(p),p.G==3){var S=p.U++,I=In(p.I);if(St(I,"SID",p.K),St(I,"RID",S),St(I,"TYPE","terminate"),_a(p,I),S=new Zt(p,p.j,S),S.L=2,S.v=so(In(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=S.v,I=!0),I||(S.g=Kd(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Pt(S)}Wd(p)}function Ei(p){p.g&&(ac(p),p.g.cancel(),p.g=null)}function gl(p){Ei(p),p.u&&(u.clearTimeout(p.u),p.u=null),bl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Wi(p){if(!Pn(p.h)&&!p.s){p.s=!0;var S=p.Ga;ae||oe(),Q||(ae(),Q=!0),ie.add(S,p),p.B=0}}function zg(p,S){return Rd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=we(v(p.Ga,p,S),zd(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Zt(this,this.j,p);let re=this.o;if(this.S&&(re?(re=k(re),F(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var B=this.i[I];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=fo(this,Y,S),I=In(this.I),St(I,"RID",p),St(I,"CVER",22),this.D&&St(I,"X-HTTP-Session-Id",this.D),_a(this,I),re&&(this.O?S="headers="+encodeURIComponent(String(ba(re)))+"&"+S:this.m&&co(I,this.m,re)),Zu(this.h,Y),this.Ua&&St(I,"TYPE","init"),this.P?(St(I,"$req",S),St(I,"SID","null"),Y.T=!0,Bi(Y,I,null)):Bi(Y,I,S),this.G=2}}else this.G==3&&(p?yl(this,p):this.i.length==0||Pn(this.h)||yl(this))};function yl(p,S){var I;S?I=S.l:I=p.U++;const B=In(p.I);St(B,"SID",p.K),St(B,"RID",I),St(B,"AID",p.T),_a(p,B),p.m&&p.o&&co(B,p.m,p.o),I=new Zt(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),S&&(p.i=S.D.concat(p.i)),S=fo(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Zu(p.h,I),Bi(I,B,S)}function _a(p,S){p.H&&j(p.H,function(I,B){St(S,B,I)}),p.l&&io({},function(I,B){St(S,B,I)})}function fo(p,S,I){I=Math.min(p.i.length,I);var B=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const _e=["count="+I];re==-1?0<I?(re=Y[0].g,_e.push("ofs="+re)):re=0:_e.push("ofs="+re);let bt=!0;for(let fr=0;fr<I;fr++){let at=Y[fr].g;const _r=Y[fr].map;if(at-=re,0>at)re=Math.max(0,Y[fr].g-100),bt=!1;else try{Bd(_r,_e,"req"+at+"_")}catch{B&&B(_r)}}if(bt){B=_e.join("&");break e}}}return p=p.i.splice(0,I),S.D=p,B}function ds(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;ae||oe(),Q||(ae(),Q=!0),ie.add(S,p),p.v=0}}function vl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=we(v(p.Fa,p),zd(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=we(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Ei(this),qd(this))};function ac(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function qd(p){p.g=new Zt(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=In(p.qa);St(S,"RID","rpc"),St(S,"SID",p.K),St(S,"AID",p.T),St(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&St(S,"TO",p.ja),St(S,"TYPE","xmlhttp"),_a(p,S),p.m&&p.o&&co(S,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=so(In(S)),I.m=null,I.P=!0,kn(I,p)}t.Za=function(){this.C!=null&&(this.C=null,Ei(this),vl(this),Ut(19))};function bl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function _l(p,S){var I=null;if(p.g==S){bl(p),ac(p),p.g=null;var B=2}else if(en(p.h,S))I=S.D,jd(p.h,S),B=1;else return;if(p.G!=0){if(S.o)if(B==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var Y=p.B;B=Vr(),Jt(B,new ge(B,I)),Wi(p)}else ds(p);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(B==1&&zg(p,S)||B==2&&vl(p)))switch(I&&0<I.length&&(S=p.h,S.i=S.i.concat(I)),Y){case 1:xa(p,5);break;case 4:xa(p,10);break;case 3:xa(p,6);break;default:xa(p,2)}}}function zd(p,S){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*S}function xa(p,S){if(p.j.info("Error code "+S),S==2){var I=v(p.fb,p),B=p.Xa;const Y=!B;B=new ya(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||us(B,"https"),so(B),Y?Bg(B.toString(),I):Vd(B.toString(),I)}else Ut(2);p.G=0,p.l&&p.l.sa(S),Wd(p),gl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Wd(p){if(p.G=0,p.ka=[],p.l){const S=Md(p.h);(S.length!=0||p.i.length!=0)&&(w(p.ka,S),w(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function Hd(p,S,I){var B=I instanceof ya?In(I):new ya(I);if(B.g!="")S&&(B.g=S+"."+B.g),ao(B,B.s);else{var Y=u.location;B=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new ya(null);B&&us(re,B),S&&(re.g=S),Y&&ao(re,Y),I&&(re.l=I),B=re}return I=p.D,S=p.ya,I&&S&&St(B,I,S),St(B,"VER",p.la),_a(p,B),B}function Kd(p,S,I){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new $t(new va({eb:I})):new $t(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}t=oc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xl(){}xl.prototype.g=function(p,S){return new tn(p,S)};function tn(p,S){Kt.call(this),this.g=new ic(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!O(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!O(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Hi(this)}x(tn,Kt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Cr(this.g)},tn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=gi(p),p=I);S.i.push(new Nd(S.Ya++,p)),S.G==3&&Wi(S)},tn.prototype.N=function(){this.g.l=null,delete this.j,Cr(this.g),delete this.g,tn.aa.N.call(this)};function Gd(p){zn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const I in S){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}x(Gd,zn);function Yd(){rr.call(this),this.status=1}x(Yd,rr);function Hi(p){this.g=p}x(Hi,oc),Hi.prototype.ua=function(){Jt(this.g,"a")},Hi.prototype.ta=function(p){Jt(this.g,new Gd(p))},Hi.prototype.sa=function(p){Jt(this.g,new Yd)},Hi.prototype.ra=function(){Jt(this.g,"b")},xl.prototype.createWebChannel=xl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,yM=function(){return new xl},gM=function(){return Vr()},mM=Wn,Fx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,gp=nr,An.COMPLETE="complete",pM=An,Vi.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,zc=Vi,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,hM=$t}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const wk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new T1("@firebase/firestore");function Cc(){return Ws.logLevel}function Ne(t,...e){if(Ws.logLevel<=it.DEBUG){const r=e.map(L1);Ws.debug(`Firestore (${Bu}): ${t}`,...r)}}function qa(t,...e){if(Ws.logLevel<=it.ERROR){const r=e.map(L1);Ws.error(`Firestore (${Bu}): ${t}`,...r)}}function uu(t,...e){if(Ws.logLevel<=it.WARN){const r=e.map(L1);Ws.warn(`Firestore (${Bu}): ${t}`,...r)}}function L1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+t;throw qa(e),new Error(e)}function xt(t,e){t||Xe()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends fa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Kr.UNAUTHENTICATED))}shutdown(){}}class IU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class OU{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Vo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Vo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xt(typeof n.accessToken=="string"),new vM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Kr(e)}}class CU{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NU{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new CU(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(this.o===void 0);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt(typeof r.token=="string"),this.R=r.token,new RU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=MU(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function cu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new vr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new vr(0,0))}static max(){return new Qe(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return pf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dt extends pf{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const DU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends pf{construct(e,r,n){return new Dr(e,r,n)}static isValidIdentifier(e){return DU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(r)}static emptyPath(){return new Dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Dt.fromString(e))}static fromName(e){return new Le(Dt.fromString(e).popFirst(5))}static empty(){return new Le(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Dt(e.slice()))}}function LU(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new vr(r+1,0):new vr(r,n));return new Ko(i,Le.empty(),e)}function $U(t){return new Ko(t.readTime,t.key,-1)}class Ko{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ko(Qe.min(),Le.empty(),-1)}static max(){return new Ko(Qe.max(),Le.empty(),-1)}}function FU(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Le.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==VU)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function UU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ud(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$1.oe=-1;function Fm(t){return t==null}function Op(t){return t===0&&1/t==-1/0}function qU(t){return typeof t=="number"&&Number.isInteger(t)&&!Op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function nl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function _M(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){this.comparator=e,this.root=r||Mr.EMPTY}insert(e,r){return new Wt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Mr.RED,this.left=i??Mr.EMPTY,this.right=a??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Mr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Sk(this.data.getIterator())}getIteratorFrom(e){return new Sk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Lr(this.comparator);return r.data=e,r}}class Sk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new $n([])}unionWith(e){let r=new Lr(Dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new $n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xM("Invalid base64 string: "+a):a}}(e);return new $r(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new $r(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const zU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(t){if(xt(!!t),typeof t=="string"){let e=0;const r=zU.exec(t);if(xt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?$r.fromBase64String(t):$r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function V1(t){const e=t.mapValue.fields.__previous_value__;return F1(e)?V1(e):e}function mf(t){const e=Go(t.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class gf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new gf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={mapValue:{}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F1(t)?4:KU(t)?9007199254740991:HU(t)?10:11:Xe()}function la(t,e){if(t===e)return!0;const r=Ks(t);if(r!==Ks(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mf(t).isEqual(mf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Go(i.timestampValue),u=Go(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Hs(i.bytesValue).isEqual(Hs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return tr(i.geoPointValue.latitude)===tr(a.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return tr(i.integerValue)===tr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=tr(i.doubleValue),u=tr(a.doubleValue);return s===u?Op(s)===Op(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],la);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Ek(s)!==Ek(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!la(s[c],u[c])))return!1;return!0}(t,e);default:return Xe()}}function yf(t,e){return(t.values||[]).find(r=>la(r,e))!==void 0}function fu(t,e){if(t===e)return 0;const r=Ks(t),n=Ks(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=tr(a.integerValue||a.doubleValue),c=tr(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Tk(t.timestampValue,e.timestampValue);case 4:return Tk(mf(t),mf(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Hs(a),c=Hs(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=ct(u[f],c[f]);if(h!==0)return h}return ct(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ct(tr(a.latitude),tr(s.latitude));return u!==0?u:ct(tr(a.longitude),tr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ak(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const m=a.fields||{},v=s.fields||{},b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=(c=v.value)===null||c===void 0?void 0:c.arrayValue,E=ct(((f=b?.values)===null||f===void 0?void 0:f.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:Ak(b,x)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Kh.mapValue&&s===Kh.mapValue)return 0;if(a===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const v=ct(c[m],h[m]);if(v!==0)return v;const b=fu(u[c[m]],f[h[m]]);if(b!==0)return b}return ct(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function Tk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Go(t),n=Go(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function Ak(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=fu(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function du(t){return Vx(t)}function Vx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Go(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Hs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Vx(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Vx(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function kk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bx(t){return!!t&&"integerValue"in t}function B1(t){return!!t&&"arrayValue"in t}function Pk(t){return!!t&&"nullValue"in t}function Ik(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yp(t){return!!t&&"mapValue"in t}function HU(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return nl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Zc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function KU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!yp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zc(r)}setAll(e){let r=Dr.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=Zc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());yp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){nl(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new wn(Zc(this.value))}}function wM(t){const e=[];return nl(t.fields,(r,n)=>{const i=new Dr([r]);if(yp(n)){const a=wM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Gr(e,0,Qe.min(),Qe.min(),Qe.min(),wn.empty(),0)}static newFoundDocument(e,r,n,i){return new Gr(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new Gr(e,2,r,Qe.min(),Qe.min(),wn.empty(),0)}static newUnknownDocument(e,r){return new Gr(e,3,r,Qe.min(),Qe.min(),wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r){this.position=e,this.inclusive=r}}function Ok(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Le.comparator(Le.fromName(s.referenceValue),r.key):n=fu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Ck(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!la(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,r="asc"){this.field=e,this.dir=r}}function GU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{}class lr extends EM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new XU(e,r,n):r==="array-contains"?new ZU(e,n):r==="in"?new e5(e,n):r==="not-in"?new t5(e,n):r==="array-contains-any"?new r5(e,n):new lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new QU(e,n):new JU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(fu(r,this.value)):r!==null&&Ks(this.value)===Ks(r)&&this.matchesComparison(fu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends EM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Mi(e,r)}matches(e){return SM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SM(t){return t.op==="and"}function TM(t){return YU(t)&&SM(t)}function YU(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function Ux(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+du(t.value);if(TM(t))return t.filters.map(e=>Ux(e)).join(",");{const e=t.filters.map(r=>Ux(r)).join(",");return`${t.op}(${e})`}}function AM(t,e){return t instanceof lr?function(n,i){return i instanceof lr&&n.op===i.op&&n.field.isEqual(i.field)&&la(n.value,i.value)}(t,e):t instanceof Mi?function(n,i){return i instanceof Mi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&AM(s,i.filters[u]),!0):!1}(t,e):void Xe()}function kM(t){return t instanceof lr?function(r){return`${r.field.canonicalString()} ${r.op} ${du(r.value)}`}(t):t instanceof Mi?function(r){return r.op.toString()+" {"+r.getFilters().map(kM).join(" ,")+"}"}(t):"Filter"}class XU extends lr{constructor(e,r,n){super(e,r,n),this.key=Le.fromName(n.referenceValue)}matches(e){const r=Le.comparator(e.key,this.key);return this.matchesComparison(r)}}class QU extends lr{constructor(e,r){super(e,"in",r),this.keys=PM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class JU extends lr{constructor(e,r){super(e,"not-in",r),this.keys=PM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function PM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Le.fromName(n.referenceValue))}class ZU extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return B1(r)&&yf(r.arrayValue,this.value)}}class e5 extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&yf(this.value.arrayValue,r)}}class t5 extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!yf(this.value.arrayValue,r)}}class r5 extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!B1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>yf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function Nk(t,e=null,r=[],n=[],i=null,a=null,s=null){return new n5(t,e,r,n,i,a,s)}function U1(t){const e=Je(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Ux(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Fm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>du(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>du(n)).join(",")),e.ue=r}return e.ue}function q1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!GU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!AM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ck(t.startAt,e.startAt)&&Ck(t.endAt,e.endAt)}function qx(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i5(t,e,r,n,i,a,s,u){return new cd(t,e,r,n,i,a,s,u)}function z1(t){return new cd(t)}function Rk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IM(t){return t.collectionGroup!==null}function ef(t){const e=Je(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Lr(Dr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Np(a,n))}),r.has(Dr.keyField().canonicalString())||e.ce.push(new Np(Dr.keyField(),n))}return e.ce}function ia(t){const e=Je(t);return e.le||(e.le=a5(e,ef(t))),e.le}function a5(t,e){if(t.limitType==="F")return Nk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Np(i.field,a)});const r=t.endAt?new Cp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Cp(t.startAt.position,t.startAt.inclusive):null;return Nk(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function zx(t,e){const r=t.filters.concat([e]);return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Wx(t,e,r){return new cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Vm(t,e){return q1(ia(t),ia(e))&&t.limitType===e.limitType}function OM(t){return`${U1(ia(t))}|lt:${t.limitType}`}function Hl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>kM(i)).join(", ")}]`),Fm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>du(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>du(i)).join(",")),`Target(${n})`}(ia(t))}; limitType=${t.limitType})`}function Bm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Le.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of ef(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=Ok(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,ef(n),i)||n.endAt&&!function(s,u,c){const f=Ok(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,ef(n),i))}(t,e)}function o5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CM(t){return(e,r)=>{let n=!1;for(const i of ef(t)){const a=s5(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function s5(t,e,r){const n=t.field.isKeyField()?Le.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?fu(c,f):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nl(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return _M(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=new Wt(Le.comparator);function za(){return l5}const NM=new Wt(Le.comparator);function Wc(...t){let e=NM;for(const r of t)e=e.insert(r.key,r);return e}function RM(t){let e=NM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Rs(){return tf()}function jM(){return tf()}function tf(){return new Uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const u5=new Wt(Le.comparator),c5=new Lr(Le.comparator);function rt(...t){let e=c5;for(const r of t)e=e.add(r);return e}const f5=new Lr(ct);function d5(){return f5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function MM(t){return{integerValue:""+t}}function h5(t,e){return qU(e)?MM(e):W1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this._=void 0}}function p5(t,e,r){return t instanceof vf?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&F1(a)&&(a=V1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof bf?LM(t,e):t instanceof _f?$M(t,e):function(i,a){const s=DM(i,a),u=jk(s)+jk(i.Pe);return Bx(s)&&Bx(i.Pe)?MM(u):W1(i.serializer,u)}(t,e)}function m5(t,e,r){return t instanceof bf?LM(t,e):t instanceof _f?$M(t,e):r}function DM(t,e){return t instanceof Rp?function(n){return Bx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class vf extends Um{}class bf extends Um{constructor(e){super(),this.elements=e}}function LM(t,e){const r=FM(e);for(const n of t.elements)r.some(i=>la(i,n))||r.push(n);return{arrayValue:{values:r}}}class _f extends Um{constructor(e){super(),this.elements=e}}function $M(t,e){let r=FM(e);for(const n of t.elements)r=r.filter(i=>!la(i,n));return{arrayValue:{values:r}}}class Rp extends Um{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function jk(t){return tr(t.integerValue||t.doubleValue)}function FM(t){return B1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,r){this.field=e,this.transform=r}}function y5(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof bf&&i instanceof bf||n instanceof _f&&i instanceof _f?cu(n.elements,i.elements,la):n instanceof Rp&&i instanceof Rp?la(n.Pe,i.Pe):n instanceof vf&&i instanceof vf}(t.transform,e.transform)}class v5{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function VM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,un.none()):new fd(t.key,t.data,un.none());{const r=t.data,n=wn.empty();let i=new Lr(Dr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Zo(t.key,n,new $n(i.toArray()),un.none())}}function b5(t,e,r){t instanceof fd?function(i,a,s){const u=i.value.clone(),c=Dk(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Zo?function(i,a,s){if(!vp(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=Dk(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(BM(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function rf(t,e,r,n){return t instanceof fd?function(a,s,u,c){if(!vp(a.precondition,s))return u;const f=a.value.clone(),h=Lk(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Zo?function(a,s,u,c){if(!vp(a.precondition,s))return u;const f=Lk(a.fieldTransforms,c,s),h=s.data;return h.setAll(BM(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,u){return vp(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function _5(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=DM(n.transform,i||null);a!=null&&(r===null&&(r=wn.empty()),r.set(n.field,a))}return r||null}function Mk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&cu(n,i,(a,s)=>y5(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fd extends qm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zo extends qm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Dk(t,e,r){const n=new Map;xt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,m5(s,u,r[i]))}return n}function Lk(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,p5(a,s,e))}return n}class zm extends qm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x5 extends qm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&b5(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=rf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=jM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=VM(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(r,n)=>Mk(r,n))&&cu(this.baseMutations,e.baseMutations,(r,n)=>Mk(r,n))}}class H1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xt(e.mutations.length===n.length);let i=function(){return u5}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new H1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,ot;function T5(t){switch(t){default:return Xe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function UM(t){if(t===void 0)return qa("GRPC error has no .code"),ue.UNKNOWN;switch(t){case or.OK:return ue.OK;case or.CANCELLED:return ue.CANCELLED;case or.UNKNOWN:return ue.UNKNOWN;case or.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case or.INTERNAL:return ue.INTERNAL;case or.UNAVAILABLE:return ue.UNAVAILABLE;case or.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case or.NOT_FOUND:return ue.NOT_FOUND;case or.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case or.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case or.ABORTED:return ue.ABORTED;case or.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case or.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case or.DATA_LOSS:return ue.DATA_LOSS;default:return Xe()}}(ot=or||(or={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new $s([4294967295,4294967295],0);function $k(t){const e=A5().encode(t),r=new dM;return r.update(e),new Uint8Array(r.digest())}function Fk(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([r,n],0),new $s([i,a],0)]}class K1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Hc(`Invalid padding: ${r}`);if(n<0)throw new Hc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Hc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Hc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=$s.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply($s.fromNumber(n)));return i.compare(k5)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=$k(e),[n,i]=Fk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new K1(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=$k(e),[n,i]=Fk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Wm(Qe.min(),i,new Wt(ct),za(),rt())}}class dd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new dd(n,r,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class qM{constructor(e,r){this.targetId=e,this.me=r}}class zM{constructor(e,r,n=$r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Vk{constructor(){this.fe=0,this.ge=Uk(),this.pe=$r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),r=rt(),n=rt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new dd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Uk()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class P5{constructor(e){this.Le=e,this.Be=new Map,this.ke=za(),this.qe=Bk(),this.Qe=new Wt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(qx(a))if(n===0){const s=new Le(a.path);this.Ue(r,s,Gr.newNoDocument(s,Qe.min()))}else xt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Hs(n).toUint8Array()}catch(c){if(c instanceof xM)return uu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new K1(s,i,a)}catch(c){return uu(c instanceof Hc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&qx(u.target)){const c=new Le(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Gr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=rt();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new Wm(e,r,this.Qe,this.ke,n);return this.ke=za(),this.qe=Bk(),this.Qe=new Wt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Vk,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Lr(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ne("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vk),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Bk(){return new Wt(Le.comparator)}function Uk(){return new Wt(Le.comparator)}const I5={asc:"ASCENDING",desc:"DESCENDING"},O5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C5={and:"AND",or:"OR"};class N5{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Hx(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R5(t,e){return jp(t,e.toTimestamp())}function aa(t){return xt(!!t),Qe.fromTimestamp(function(r){const n=Go(r);return new vr(n.seconds,n.nanos)}(t))}function G1(t,e){return Kx(t,e).canonicalString()}function Kx(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function HM(t){const e=Dt.fromString(t);return xt(QM(e)),e}function Gx(t,e){return G1(t.databaseId,e.path)}function wv(t,e){const r=HM(e);if(r.get(1)!==t.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Le(GM(r))}function KM(t,e){return G1(t.databaseId,e)}function j5(t){const e=HM(t);return e.length===4?Dt.emptyPath():GM(e)}function Yx(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GM(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qk(t,e,r){return{name:Gx(t,e),fields:r.value.mapValue.fields}}function M5(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(xt(h===void 0||typeof h=="string"),$r.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),$r.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ue.UNKNOWN:UM(f.code);return new Ae(h,f.message||"")}(s);r=new zM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=wv(t,n.document.name),a=aa(n.document.updateTime),s=n.document.createTime?aa(n.document.createTime):Qe.min(),u=new wn({mapValue:{fields:n.document.fields}}),c=Gr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new bp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=wv(t,n.document),a=n.readTime?aa(n.readTime):Qe.min(),s=Gr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new bp([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=wv(t,n.document),a=n.removedTargetIds||[];r=new bp([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new S5(i,a),u=n.targetId;r=new qM(u,s)}}return r}function D5(t,e){let r;if(e instanceof fd)r={update:qk(t,e.key,e.value)};else if(e instanceof zm)r={delete:Gx(t,e.key)};else if(e instanceof Zo)r={update:qk(t,e.key,e.data),updateMask:W5(e.fieldMask)};else{if(!(e instanceof x5))return Xe();r={verify:Gx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof vf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _f)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rp)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:R5(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function L5(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?aa(i.updateTime):aa(a);return s.isEqual(Qe.min())&&(s=aa(a)),new v5(s,i.transformResults||[])}(r,e))):[]}function $5(t,e){return{documents:[KM(t,e.path)]}}function F5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=KM(t,i);const a=function(f){if(f.length!==0)return XM(Mi.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(v){return{field:Kl(v.field),direction:U5(v.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=Hx(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function V5(t){let e=j5(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(m){const v=YM(m);return v instanceof Mi&&TM(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(v=>function(x){return new Np(Gl(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(r.orderBy));let u=null;r.limit&&(u=function(m){let v;return v=typeof m=="object"?m.value:m,Fm(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(m){const v=!!m.before,b=m.values||[];return new Cp(b,v)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const v=!m.before,b=m.values||[];return new Cp(b,v)}(r.endAt)),i5(e,i,s,a,u,"F",c,f)}function B5(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function YM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gl(r.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Gl(r.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gl(r.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gl(r.unaryFilter.field);return lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return lr.create(Gl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Mi.create(r.compositeFilter.filters.map(n=>YM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function U5(t){return I5[t]}function q5(t){return O5[t]}function z5(t){return C5[t]}function Kl(t){return{fieldPath:t.canonicalString()}}function Gl(t){return Dr.fromServerFormat(t.fieldPath)}function XM(t){return t instanceof lr?function(r){if(r.op==="=="){if(Ik(r.value))return{unaryFilter:{field:Kl(r.field),op:"IS_NAN"}};if(Pk(r.value))return{unaryFilter:{field:Kl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ik(r.value))return{unaryFilter:{field:Kl(r.field),op:"IS_NOT_NAN"}};if(Pk(r.value))return{unaryFilter:{field:Kl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kl(r.field),op:q5(r.op),value:r.value}}}(t):t instanceof Mi?function(r){const n=r.getFilters().map(i=>XM(i));return n.length===1?n[0]:{compositeFilter:{op:z5(r.op),filters:n}}}(t):Xe()}function W5(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function QM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),u=$r.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.ct=e}}function K5(t){const e=V5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.un=new Y5}addToCollectionParentIndex(e,r){return this.un.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(Ko.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(Ko.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class Y5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Lr(Dt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Lr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hu(0)}static kn(){return new hu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.changes=new Uu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&rf(n.mutation,i,$n.empty(),vr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rt()){const i=Rs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Wc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Rs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=za();const s=tf(),u=function(){return tf()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Zo)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),rf(h.mutation,f,h.mutation.getFieldMask(),vr.now())):s.set(f.key,$n.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var m;return u.set(f,new Q5(h,(m=s.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=tf();let i=new Wt((s,u)=>s-u),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||$n.empty();h=u.applyToLocalView(f,h),n.set(c,h);const m=(i.get(u.batchId)||rt()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=jM();h.forEach(v=>{if(!a.has(v)){const b=VM(r.get(v),n.get(v));b!==null&&m.set(v,b),a=a.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return pe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):IM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(Rs());let u=-1,c=a;return s.next(f=>pe.forEach(f,(h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?pe.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,rt())).next(h=>({batchId:u,changes:RM(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Le(r)).next(n=>{let i=Wc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Wc();return this.indexManager.getCollectionParents(e,a).next(u=>pe.forEach(u,c=>{const f=function(m,v){return new cd(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((m,v)=>{s=s.insert(m,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Gr.newInvalidDocument(h)))});let u=Wc();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&rf(h.mutation,f,$n.empty(),vr.now()),Bm(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return pe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:aa(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:K5(i.bundledQuery),readTime:aa(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this.overlays=new Wt(Le.comparator),this.Ir=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Rs();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=Rs(),a=r.length+1,s=new Le(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Wt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Rs(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Rs(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return pe.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new E5(r,n));let a=this.Ir.get(r);a===void 0&&(a=rt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.Tr=new Lr(Tr.Er),this.dr=new Lr(Tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Tr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Tr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Le(new Dt([])),n=new Tr(r,e),i=new Tr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Le(new Dt([])),n=new Tr(r,e),i=new Tr(r,e+1);let a=rt();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Tr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Tr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Le.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||Le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Lr(Tr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new w5(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new Tr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,r){return pe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Tr(r,0),i=new Tr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Lr(ct);return r.forEach(i=>{const a=new Tr(i,0),s=new Tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),pe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Le.isDocumentKey(a)||(a=a.child(""));const s=new Tr(new Le(a),0);let u=new Lr(ct);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),pe.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return pe.forEach(r.mutations,i=>{const a=new Tr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Tr(r,0),i=this.br.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.Mr=e,this.docs=function(){return new Wt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():Gr.newInvalidDocument(r))}getEntries(e,r){let n=za();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Gr.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=za();const s=r.path,u=new Le(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||FU($U(h),n)<=0||(i.has(h.key)||Bm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new iq(this)}getSize(e){return pe.resolve(this.size)}}class iq extends X5{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.persistence=e,this.Nr=new Uu(r=>U1(r),q1),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y1,this.targetCount=0,this.kr=hu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new hu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Kn(r),pe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $1(0),this.Kr=!1,this.Kr=!0,this.$r=new tq,this.referenceDelegate=e(this),this.Ur=new aq(this),this.indexManager=new G5,this.remoteDocumentCache=function(i){return new nq(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new H5(r),this.Gr=new Z5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new eq,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new rq(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new sq(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return pe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class sq extends BU{constructor(e){super(),this.currentSequenceNumber=e}}class X1{constructor(e){this.persistence=e,this.Jr=new Y1,this.Yr=null}static Zr(e){return new X1(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,n=>{const i=Le.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return pe.or([()=>pe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=rt(),i=rt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Q1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QV()?8:UU(Qr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new lq;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Cc()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Hl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(Cc()<=it.DEBUG&&Ne("QueryEngine","Query:",Hl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Cc()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Hl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(r))):pe.resolve())}Yi(e,r){if(Rk(r))return pe.resolve(null);let n=ia(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Wx(r,null,"F"),n=ia(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=rt(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,Wx(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return Rk(r)||i.isEqual(Qe.min())?pe.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?pe.resolve(null):(Cc()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hl(r)),this.rs(e,s,r,LU(i,-1)).next(u=>u))})}ts(e,r){let n=new Lr(CM(e));return r.forEach((i,a)=>{Bm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Cc()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Hl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ko.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Wt(ct),this._s=new Uu(a=>U1(a),q1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function fq(t,e,r,n){return new cq(t,e,r,n)}async function JM(t,e){const r=Je(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=rt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function dq(t,e){const r=Je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const m=f.batch,v=m.keys();let b=pe.resolve();return v.forEach(x=>{b=b.next(()=>h.getEntry(c,x)).next(E=>{const w=f.docVersions.get(x);xt(w!==null),E.version.compareTo(w)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function ZM(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function hq(t,e){const r=Je(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,m)=>{const v=i.get(m);if(!v)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,m)));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken($r.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,n)),i=i.insert(m,b),function(E,w,C){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(v,b,h)&&u.push(r.Ur.updateTargetData(a,b))});let c=za(),f=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(pq(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Qe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return pe.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function pq(t,e,r){let n=rt(),i=rt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=za();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function mq(t,e){const r=Je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function gq(t,e){const r=Je(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Do(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Xx(t,e,r){const n=Je(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ud(s))throw s;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function zk(t,e,r){const n=Je(t);let i=Qe.min(),a=rt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const m=Je(c),v=m._s.get(h);return v!==void 0?pe.resolve(m.os.get(v)):m.Ur.getTargetData(f,h)}(n,s,ia(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:rt())).next(u=>(yq(n,o5(e),u),{documents:u,Ts:a})))}function yq(t,e,r){let n=t.us.get(e)||Qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class Wk{constructor(){this.activeTargetIds=d5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vq{constructor(){this.so=new Wk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wk,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function Ev(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="WebChannelConnection";class wq extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=Ev(),c=this.xo(r,n.toUriEncodedString());Ne("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Ne("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw uu("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=_q[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Ev();return new Promise((s,u)=>{const c=new hM;c.setWithCredentials(!0),c.listenOnce(pM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case gp.NO_ERROR:const h=c.getResponseJson();Ne(Wr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case gp.TIMEOUT:Ne(Wr,`RPC '${e}' ${a} timed out`),u(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case gp.HTTP_ERROR:const m=c.getStatus();if(Ne(Wr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v?.error;if(b&&b.status&&b.message){const x=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(C)>=0?C:ue.UNKNOWN}(b.status);u(new Ae(x,b.message))}else u(new Ae(ue.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne(Wr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ne(Wr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=Ev(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yM(),u=gM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Ne(Wr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let v=!1,b=!1;const x=new xq({Io:w=>{b?Ne(Wr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(Ne(Wr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),Ne(Wr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},To:()=>m.close()}),E=(w,C,O)=>{w.listen(C,P=>{try{O(P)}catch($){setTimeout(()=>{throw $},0)}})};return E(m,zc.EventType.OPEN,()=>{b||(Ne(Wr,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),E(m,zc.EventType.CLOSE,()=>{b||(b=!0,Ne(Wr,`RPC '${e}' stream ${i} transport closed`),x.So())}),E(m,zc.EventType.ERROR,w=>{b||(b=!0,uu(Wr,`RPC '${e}' stream ${i} transport errored:`,w),x.So(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),E(m,zc.EventType.MESSAGE,w=>{var C;if(!b){const O=w.data[0];xt(!!O);const P=O,$=P.error||((C=P[0])===null||C===void 0?void 0:C.error);if($){Ne(Wr,`RPC '${e}' stream ${i} received error:`,$);const N=$.status;let j=function(R){const F=or[R];if(F!==void 0)return UM(F)}(N),A=$.message;j===void 0&&(j=ue.INTERNAL,A="Unknown error status: "+N+" with message "+$.message),b=!0,x.So(new Ae(j,A)),m.close()}else Ne(Wr,`RPC '${e}' stream ${i} received:`,O),x.bo(O)}}),E(u,mM.STAT_EVENT,w=>{w.stat===Fx.PROXY?Ne(Wr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Fx.NOPROXY&&Ne(Wr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new N5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(qa(r.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eq extends tD{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=M5(this.serializer,e),n=function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?aa(s.readTime):Qe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Yx(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=qx(c)?{documents:$5(a,c)}:{query:F5(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=WM(a,s.resumeToken);const f=Hx(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){u.readTime=jp(a,s.snapshotVersion.toTimestamp());const f=Hx(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=B5(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Yx(this.serializer),r.removeTarget=e,this.a_(r)}}class Sq extends tD{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=L5(e.writeResults,e.commitTime),n=aa(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Yx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>D5(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,Kx(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(ue.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,Kx(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Aq{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qa(r),this.D_=!1):Ne("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{il(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Je(c);f.L_.add(4),await hd(f),f.q_.set("Unknown"),f.L_.delete(4),await Km(f)}(this))})}),this.q_=new Aq(n,i)}}async function Km(t){if(il(t))for(const e of t.B_)await e(!0)}async function hd(t){for(const e of t.B_)await e(!1)}function rD(t,e){const r=Je(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),tE(r)?eE(r):qu(r).r_()&&Z1(r,e))}function J1(t,e){const r=Je(t),n=qu(r);r.N_.delete(e),n.r_()&&nD(r,e),r.N_.size===0&&(n.r_()?n.o_():il(r)&&r.q_.set("Unknown"))}function Z1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qu(t).A_(e)}function nD(t,e){t.Q_.xe(e),qu(t).R_(e)}function eE(t){t.Q_=new P5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qu(t).start(),t.q_.v_()}function tE(t){return il(t)&&!qu(t).n_()&&t.N_.size>0}function il(t){return Je(t).L_.size===0}function iD(t){t.Q_=void 0}async function Pq(t){t.q_.set("Online")}async function Iq(t){t.N_.forEach((e,r)=>{Z1(t,e)})}async function Oq(t,e){iD(t),tE(t)?(t.q_.M_(e),eE(t)):t.q_.set("Unknown")}async function Cq(t,e,r){if(t.q_.set("Online"),e instanceof zM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Mp(t,n)}else if(e instanceof bp?t.Q_.Ke(e):e instanceof qM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qe.min()))try{const n=await ZM(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken($r.EMPTY_BYTE_STRING,h.snapshotVersion)),nD(a,c);const m=new Do(h.target,c,f,h.sequenceNumber);Z1(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ne("RemoteStore","Failed to raise snapshot:",n),await Mp(t,n)}}async function Mp(t,e,r){if(!ud(e))throw e;t.L_.add(1),await hd(t),t.q_.set("Offline"),r||(r=()=>ZM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Km(t)})}function aD(t,e){return e().catch(r=>Mp(t,r,e))}async function Gm(t){const e=Je(t),r=Yo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Nq(e);)try{const i=await mq(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,Rq(e,i)}catch(i){await Mp(e,i)}oD(e)&&sD(e)}function Nq(t){return il(t)&&t.O_.length<10}function Rq(t,e){t.O_.push(e);const r=Yo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function oD(t){return il(t)&&!Yo(t).n_()&&t.O_.length>0}function sD(t){Yo(t).start()}async function jq(t){Yo(t).p_()}async function Mq(t){const e=Yo(t);for(const r of t.O_)e.m_(r.mutations)}async function Dq(t,e,r){const n=t.O_.shift(),i=H1.from(n,e,r);await aD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gm(t)}async function Lq(t,e){e&&Yo(t).V_&&await async function(n,i){if(function(s){return T5(s)&&s!==ue.ABORTED}(i.code)){const a=n.O_.shift();Yo(n).s_(),await aD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Gm(n)}}(t,e),oD(t)&&sD(t)}async function Kk(t,e){const r=Je(t);r.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const n=il(r);r.L_.add(3),await hd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Km(r)}async function $q(t,e){const r=Je(t);e?(r.L_.delete(2),await Km(r)):e||(r.L_.add(2),await hd(r),r.q_.set("Unknown"))}function qu(t){return t.K_||(t.K_=function(r,n,i){const a=Je(r);return a.w_(),new Eq(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Pq.bind(null,t),Ro:Iq.bind(null,t),mo:Oq.bind(null,t),d_:Cq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tE(t)?eE(t):t.q_.set("Unknown")):(await t.K_.stop(),iD(t))})),t.K_}function Yo(t){return t.U_||(t.U_=function(r,n,i){const a=Je(r);return a.w_(),new Sq(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jq.bind(null,t),mo:Lq.bind(null,t),f_:Mq.bind(null,t),g_:Dq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gm(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new rE(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nE(t,e){if(qa("AsyncQueue",`${e}: ${t}`),ud(t))return new Ae(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Le.comparator(r.key,n.key):(r,n)=>Le.comparator(r.key,n.key),this.keyedMap=Wc(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new iu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new iu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.W_=new Wt(Le.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class pu{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new pu(e,r,iu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Vq{constructor(){this.queries=Yk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Je(r),a=i.queries;i.queries=Yk(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new Ae(ue.ABORTED,"Firestore shutting down"))}}function Yk(){return new Uu(t=>OM(t),Vm)}async function lD(t,e){const r=Je(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Fq,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=nE(s,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&iE(r)}async function uD(t,e){const r=Je(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Bq(t,e){const r=Je(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&iE(r)}function Uq(t,e,r){const n=Je(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function iE(t){t.Y_.forEach(e=>{e.next()})}var Qx,Xk;(Xk=Qx||(Qx={})).ea="default",Xk.Cache="cache";class cD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new pu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Qx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.key=e}}class dD{constructor(e){this.key=e}}class qq{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=CM(e),this.Ra=new iu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Gk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const v=i.get(h),b=Bm(this.query,m)?m:null,x=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;v&&b?v.data.isEqual(b.data)?x!==E&&(n.track({type:3,doc:b}),w=!0):this.ga(v,b)||(n.track({type:2,doc:b}),w=!0,(c&&this.Aa(b,c)>0||f&&this.Aa(b,f)<0)&&(u=!0)):!v&&b?(n.track({type:0,doc:b}),w=!0):v&&!b&&(n.track({type:1,doc:v}),w=!0,(c||f)&&(u=!0)),w&&(b?(s=s.add(b),a=E?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,m)=>function(b,x){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return E(b)-E(x)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new pu(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new dD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new fD(n))}),r}ba(e){this.Ta=e.Ts,this.da=rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return pu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class zq{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Wq{constructor(e){this.key=e,this.va=!1}}class Hq{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Uu(u=>OM(u),Vm),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Le.comparator),this.Na=new Map,this.La=new Y1,this.Ba={},this.ka=new Map,this.qa=hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Kq(t,e,r=!0){const n=vD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await hD(n,e,r,!0),i}async function Gq(t,e){const r=vD(t);await hD(r,e,!0,!1)}async function hD(t,e,r,n){const i=await gq(t.localStore,ia(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await Yq(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&rD(t.remoteStore,i),u}async function Yq(t,e,r,n,i){t.Ka=(m,v,b)=>async function(E,w,C,O){let P=w.view.ma(C);P.ns&&(P=await zk(E.localStore,w.query,!1).then(({documents:A})=>w.view.ma(A,P)));const $=O&&O.targetChanges.get(w.targetId),N=O&&O.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(P,E.isPrimaryClient,$,N);return Jk(E,w.targetId,j.wa),j.snapshot}(t,m,v,b);const a=await zk(t.localStore,e,!0),s=new qq(e,a.Ts),u=s.ma(a.documents),c=dd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);Jk(t,r,f.wa);const h=new zq(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function Xq(t,e,r){const n=Je(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Vm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&J1(n.remoteStore,i.targetId),Jx(n,i.targetId)}).catch(ld)):(Jx(n,i.targetId),await Xx(n.localStore,i.targetId,!0))}async function Qq(t,e){const r=Je(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),J1(r.remoteStore,n.targetId))}async function Jq(t,e,r){const n=a9(t);try{const i=await function(s,u){const c=Je(s),f=vr.now(),h=u.reduce((b,x)=>b.add(x.key),rt());let m,v;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=za(),E=rt();return c.cs.getEntries(b,h).next(w=>{x=w,x.forEach((C,O)=>{O.isValidDocument()||(E=E.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(w=>{m=w;const C=[];for(const O of u){const P=_5(O,m.get(O.key).overlayedDocument);P!=null&&C.push(new Zo(O.key,P,wM(P.value.mapValue),un.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,C,u)}).next(w=>{v=w;const C=w.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(b,w.batchId,C)})}).then(()=>({batchId:v.batchId,changes:RM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Wt(ct)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await pd(n,i.changes),await Gm(n.remoteStore)}catch(i){const a=nE(i,"Failed to persist write");r.reject(a)}}async function pD(t,e){const r=Je(t);try{const n=await hq(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xt(s.va):i.removedDocuments.size>0&&(xt(s.va),s.va=!1))}),await pd(r,n,e)}catch(n){await ld(n)}}function Qk(t,e,r){const n=Je(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Je(s);c.onlineState=u;let f=!1;c.queries.forEach((h,m)=>{for(const v of m.j_)v.Z_(u)&&(f=!0)}),f&&iE(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Zq(t,e,r){const n=Je(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Wt(Le.comparator);s=s.insert(a,Gr.newNoDocument(a,Qe.min()));const u=rt().add(a),c=new Wm(Qe.min(),new Map,new Wt(ct),s,u);await pD(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),aE(n)}else await Xx(n.localStore,e,!1).then(()=>Jx(n,e,r)).catch(ld)}async function e9(t,e){const r=Je(t),n=e.batch.batchId;try{const i=await dq(r.localStore,e);gD(r,n,null),mD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await pd(r,i)}catch(i){await ld(i)}}async function t9(t,e,r){const n=Je(t);try{const i=await function(s,u){const c=Je(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(m=>(xt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);gD(n,e,r),mD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await pd(n,i)}catch(i){await ld(i)}}function mD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function gD(t,e,r){const n=Je(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Jx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||yD(t,n)})}function yD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(J1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),aE(t))}function Jk(t,e,r){for(const n of r)n instanceof fD?(t.La.addReference(n.key,e),r9(t,n)):n instanceof dD?(Ne("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||yD(t,n.key)):Xe()}function r9(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ne("SyncEngine","New document in limbo: "+r),t.xa.add(n),aE(t))}function aE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Le(Dt.fromString(e)),n=t.qa.next();t.Na.set(n,new Wq(r)),t.Oa=t.Oa.insert(r,n),rD(t.remoteStore,new Do(ia(z1(r.path)),n,"TargetPurposeLimboResolution",$1.oe))}}async function pd(t,e,r){const n=Je(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=Q1.Wi(c.targetId,f);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Je(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>pe.forEach(f,v=>pe.forEach(v.$i,b=>h.persistence.referenceDelegate.addReference(m,v.targetId,b)).next(()=>pe.forEach(v.Ui,b=>h.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))}catch(m){if(!ud(m))throw m;Ne("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const v=m.targetId;if(!m.fromCache){const b=h.os.get(v),x=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(v,E)}}}(n.localStore,a))}async function n9(t,e){const r=Je(t);if(!r.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const n=await JM(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new Ae(ue.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await pd(r,n.hs)}}function i9(t,e){const r=Je(t),n=r.Na.get(e);if(n&&n.va)return rt().add(n.key);{let i=rt();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function vD(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zq.bind(null,e),e.Ca.d_=Bq.bind(null,e.eventManager),e.Ca.$a=Uq.bind(null,e.eventManager),e}function a9(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t9.bind(null,e),e}class Dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return fq(this.persistence,new uq,e.initialUser,this.serializer)}Ga(e){return new oq(X1.Zr,this.serializer)}Wa(e){return new vq}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dp.provider={build:()=>new Dp};class Zx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Qk(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=n9.bind(null,this.syncEngine),await $q(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vq}()}createDatastore(e){const r=Hm(e.databaseInfo.databaseId),n=function(a){return new wq(a)}(e.databaseInfo);return function(a,s,u,c){return new Tq(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new kq(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>Qk(this.syncEngine,r,0),function(){return Hk.D()?new Hk:new bq}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const m=new Hq(i,a,s,u,c,f);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Je(i);Ne("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await hd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Zx.provider={build:()=>new Zx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=bM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=nE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Tv(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await JM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await s9(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Kk(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>Kk(e.remoteStore,i)),t._onlineComponents=e}async function s9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;uu("Error using user provided cache. Falling back to memory cache: "+r),await Tv(t,new Dp)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Tv(t,new Dp);return t._offlineComponents}async function _D(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await Zk(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await Zk(t,new Zx))),t._onlineComponents}function l9(t){return _D(t).then(e=>e.syncEngine)}async function ew(t){const e=await _D(t),r=e.eventManager;return r.onListen=Kq.bind(null,e.syncEngine),r.onUnlisten=Xq.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Gq.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Qq.bind(null,e.syncEngine),r}function u9(t,e,r={}){const n=new Vo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,f){const h=new bD({next:v=>{h.Za(),s.enqueueAndForget(()=>uD(a,m)),v.fromCache&&c.source==="server"?f.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),m=new cD(u,h,{includeMetadataChanges:!0,_a:!0});return lD(a,m)}(await ew(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t,e,r){if(!r)throw new Ae(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c9(t,e,r,n){if(e===!0&&n===!0)throw new Ae(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tP(t){if(!Le.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rP(t){if(Le.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ym(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ym(t);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nP(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new PU;switch(n.type){case"firstParty":return new NU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=eP.get(r);n&&(Ne("ComponentProvider","Removing Datastore"),eP.delete(r),n.terminate())}(this),Promise.resolve()}}function f9(t,e,r,n={}){var i;const a=(t=Vn(t,Xm))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Kr.MOCK_USER;else{u=T2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ae(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kr(f)}t._authCredentials=new IU(new vM(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new al(this.firestore,e,this._query)}}class cn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Bo extends al{constructor(e,r,n){super(e,r,z1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Le(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function pr(t,e,...r){if(t=Lt(t),wD("collection","path",e),t instanceof Xm){const n=Dt.fromString(e,...r);return rP(n),new Bo(t,null,n)}{if(!(t instanceof cn||t instanceof Bo))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return rP(n),new Bo(t.firestore,null,n)}}function Vt(t,e,...r){if(t=Lt(t),arguments.length===1&&(e=bM.newId()),wD("doc","path",e),t instanceof Xm){const n=Dt.fromString(e,...r);return tP(n),new cn(t,null,new Le(n))}{if(!(t instanceof cn||t instanceof Bo))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return tP(n),new cn(t.firestore,t instanceof Bo?t.converter:null,new Le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eD(this,"async_queue_retry"),this.Vu=()=>{const n=Sv();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Sv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Sv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Vo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ud(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw qa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=rE.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function aP(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Wa extends Xm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new iP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iP(e),this._firestoreClient=void 0,await e}}}function d9(t,e){const r=typeof t=="object"?t:k1(),n=typeof t=="string"?t:"(default)",i=Mm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=w2("firestore");a&&f9(i,...a)}return i}function Qm(t){if(t._terminated)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h9(t),t._firestoreClient}function h9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new WU(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new o9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu($r.fromBase64String(e))}catch(r){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new mu($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=/^__.*__$/;class m9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms):new fd(e,this.data,r,this.fieldTransforms)}}class ED{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Zo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function SD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class lE{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SD(this.Cu)&&p9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class g9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Hm(e)}Qu(e,r,n,i=!1){return new lE({Cu:e,methodName:r,qu:n,path:Dr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(t){const e=t._freezeSettings(),r=Hm(t._databaseId);return new g9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function uE(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);fE("Data must be an object, but it was:",s,n);const u=kD(n,s);let c,f;if(a.merge)c=new $n(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const v=tw(e,m,r);if(!s.contains(v))throw new Ae(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ID(h,v)||h.push(v)}c=new $n(h),f=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=s.fieldTransforms;return new m9(new wn(u),c,f)}class Zm extends Jm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zm}}class cE extends Jm{_toFieldTransform(e){return new g5(e.path,new vf)}isEqual(e){return e instanceof cE}}function TD(t,e,r,n){const i=t.Qu(1,e,r);fE("Data must be an object, but it was:",i,n);const a=[],s=wn.empty();nl(n,(c,f)=>{const h=dE(e,c,r);f=Lt(f);const m=i.Nu(h);if(f instanceof Zm)a.push(h);else{const v=yd(f,m);v!=null&&(a.push(h),s.set(h,v))}});const u=new $n(a);return new ED(s,u,i.fieldTransforms)}function AD(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[tw(e,n,r)],c=[i];if(a.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(tw(e,a[v])),c.push(a[v+1]);const f=[],h=wn.empty();for(let v=u.length-1;v>=0;--v)if(!ID(f,u[v])){const b=u[v];let x=c[v];x=Lt(x);const E=s.Nu(b);if(x instanceof Zm)f.push(b);else{const w=yd(x,E);w!=null&&(f.push(b),h.set(b,w))}}const m=new $n(f);return new ED(h,m,s.fieldTransforms)}function y9(t,e,r,n=!1){return yd(r,t.Qu(n?4:3,e))}function yd(t,e){if(PD(t=Lt(t)))return fE("Unsupported field value:",e,t),kD(t,e);if(t instanceof Jm)return function(n,i){if(!SD(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=yd(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return h5(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=vr.fromDate(n);return{timestampValue:jp(i.serializer,a)}}if(n instanceof vr){const a=new vr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jp(i.serializer,a)}}if(n instanceof oE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mu)return{bytesValue:WM(i.serializer,n._byteString)};if(n instanceof cn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:G1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof sE)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return W1(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Ym(n)}`)}(t,e)}function kD(t,e){const r={};return _M(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nl(t,(n,i)=>{const a=yd(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function PD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vr||t instanceof oE||t instanceof mu||t instanceof cn||t instanceof Jm||t instanceof sE)}function fE(t,e,r){if(!PD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Ym(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tw(t,e,r){if((e=Lt(e))instanceof md)return e._internalPath;if(typeof e=="string")return dE(t,e);throw Lp("Field path arguments must be of type string or ",t,!1,void 0,r)}const v9=new RegExp("[~\\*/\\[\\]]");function dE(t,e,r){if(e.search(v9)>=0)throw Lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new md(...e.split("."))._internalPath}catch{throw Lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Lp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ae(ue.INVALID_ARGUMENT,u+t+c)}function ID(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(CD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class b9 extends OD{data(){return super.data()}}function CD(t,e){return typeof e=="string"?dE(t,e):e instanceof md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hE{}class _9 extends hE{}function x9(t,e,...r){let n=[];e instanceof hE&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof mE).length,u=a.filter(c=>c instanceof pE).length;if(s>1||s>0&&u>0)throw new Ae(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class pE extends _9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new pE(e,r,n)}_apply(e){const r=this._parse(e);return RD(e._query,r),new al(e.firestore,e.converter,zx(e._query,r))}_parse(e){const r=gd(e.firestore);return function(a,s,u,c,f,h,m){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){sP(m,h);const b=[];for(const x of m)b.push(oP(c,a,x));v={arrayValue:{values:b}}}else v=oP(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||sP(m,h),v=y9(u,s,m,h==="in"||h==="not-in");return lr.create(f,h,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class mE extends hE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new mE(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Mi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)RD(s,c),s=zx(s,c)}(e._query,r),new al(e.firestore,e.converter,zx(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function oP(t,e,r){if(typeof(r=Lt(r))=="string"){if(r==="")throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IM(e)&&r.indexOf("/")!==-1)throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dt.fromString(r));if(!Le.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return kk(t,new Le(n))}if(r instanceof cn)return kk(t,r._key);throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ym(r)}.`)}function sP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RD(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ae(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class w9{convertValue(e,r="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return nl(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>tr(s.doubleValue));return new sE(a)}convertGeoPoint(e){return new oE(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=V1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(mf(e));default:return null}}convertTimestamp(e){const r=Go(e);return new vr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);xt(QM(n));const i=new gf(n.get(1),n.get(3)),a=new Le(n.popFirst(5));return i.isEqual(r)||qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jD extends OD{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(CD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class _p extends jD{data(e={}){return super.data(e)}}class MD{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Kc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new _p(this._firestore,this._userDataWriter,n.key,n,new Kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new _p(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Kc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:E9(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function E9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class yE extends w9{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function S9(t){t=Vn(t,al);const e=Vn(t.firestore,Wa),r=Qm(e),n=new yE(e);return ND(t._query),u9(r,t._query).then(i=>new MD(e,n,t,i))}function T9(t,e,r){t=Vn(t,cn);const n=Vn(t.firestore,Wa),i=gE(t.converter,e,r);return vd(n,[uE(gd(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function lP(t,e,r,...n){t=Vn(t,cn);const i=Vn(t.firestore,Wa),a=gd(i);let s;return s=typeof(e=Lt(e))=="string"||e instanceof md?AD(a,"updateDoc",t._key,e,r,n):TD(a,"updateDoc",t._key,e),vd(i,[s.toMutation(t._key,un.exists(!0))])}function A9(t){return vd(Vn(t.firestore,Wa),[new zm(t._key,un.none())])}function k9(t,e){const r=Vn(t.firestore,Wa),n=Vt(t),i=gE(t.converter,e);return vd(r,[uE(gd(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then(()=>n)}function uP(t,...e){var r,n,i;t=Lt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aP(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(aP(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof cn)f=Vn(t.firestore,Wa),h=z1(t._key.path),c={next:m=>{e[s]&&e[s](P9(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Vn(t,al);f=Vn(m.firestore,Wa),h=m._query;const v=new yE(f);c={next:b=>{e[s]&&e[s](new MD(f,v,m,b))},error:e[s+1],complete:e[s+2]},ND(t._query)}return function(v,b,x,E){const w=new bD(E),C=new cD(b,w,x);return v.asyncQueue.enqueueAndForget(async()=>lD(await ew(v),C)),()=>{w.Za(),v.asyncQueue.enqueueAndForget(async()=>uD(await ew(v),C))}}(Qm(f),h,u,c)}function vd(t,e){return function(n,i){const a=new Vo;return n.asyncQueue.enqueueAndForget(async()=>Jq(await l9(n),i,a)),a.promise}(Qm(t),e)}function P9(t,e,r){const n=r.docs.get(e._key),i=new yE(t);return new jD(t,i,e._key,n,new Kc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=gd(e)}set(e,r,n){this._verifyNotCommitted();const i=Av(e,this._firestore),a=gE(i.converter,r,n),s=uE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,un.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Av(e,this._firestore);let s;return s=typeof(r=Lt(r))=="string"||r instanceof md?AD(this._dataReader,"WriteBatch.update",a._key,r,n,i):TD(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Av(e,this._firestore);return this._mutations=this._mutations.concat(new zm(r._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Av(t,e){if((t=Lt(t)).firestore!==e)throw new Ae(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Sr(){return new cE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t){return Qm(t=Vn(t,Wa)),new I9(t,e=>vd(t,e))}(function(e,r=!0){(function(i){Bu=i})(tl),Us(new Ho("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Wa(new OU(n.getProvider("auth-internal")),new jU(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gf(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ta(wk,"4.7.3",e),ta(wk,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="firebasestorage.googleapis.com",LD="storageBucket",O9=2*60*1e3,C9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends fa{constructor(e,r,n=0){super(kv(e),`Firebase Storage: ${r} (${kv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function kv(t){return"storage/"+t}function vE(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Xt.UNKNOWN,t)}function N9(t){return new Qt(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R9(t){return new Qt(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Xt.UNAUTHENTICATED,t)}function M9(){return new Qt(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D9(t){return new Qt(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function L9(){return new Qt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $9(){return new Qt(Xt.CANCELED,"User canceled the upload/download.")}function F9(t){return new Qt(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function V9(t){return new Qt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function B9(){return new Qt(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LD+"' property when initializing the app?")}function U9(){return new Qt(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function q9(){return new Qt(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function z9(t){return new Qt(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rw(t){return new Qt(Xt.INVALID_ARGUMENT,t)}function $D(){return new Qt(Xt.APP_DELETED,"The Firebase app was deleted.")}function W9(t){return new Qt(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nf(t,e){return new Qt(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nc(t){throw new Qt(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Fn.makeFromUrl(e,r)}catch{return new Fn(e,"")}if(n.path==="")return n;throw V9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${h}/b/${i}/o${v}`,"i"),x={bucket:1,path:3},E=r===DD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${w}`,"i"),P=[{regex:u,indices:c,postModify:a},{regex:b,indices:x,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<P.length;$++){const N=P[$],j=N.regex.exec(e);if(j){const A=j[N.indices.bucket];let k=j[N.indices.path];k||(k=""),n=new Fn(A,k),N.postModify(n);break}}if(n==null)throw F9(e);return n}}class H9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...w){f||(f=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,t(b,c())},w)}function v(){a&&clearTimeout(a)}function b(w,...C){if(f){v();return}if(w){v(),h.call(null,w,...C);return}if(c()||s){v(),h.call(null,w,...C);return}n<64&&(n*=2);let P;u===1?(u=2,P=0):P=(n+Math.random())*1e3,m(P)}let x=!1;function E(w){x||(x=!0,v(),!f&&(i!==null?(w||(u=2),clearTimeout(i),m(0)):w||(u=1)))}return m(0),a=setTimeout(()=>{s=!0,E(!0)},r),E}function G9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return t!==void 0}function X9(t){return typeof t=="object"&&!Array.isArray(t)}function bE(t){return typeof t=="string"||t instanceof String}function cP(t){return _E()&&t instanceof Blob}function _E(){return typeof Blob<"u"}function fP(t,e,r,n){if(n<e)throw rw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw rw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function FD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fs||(Fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,r,n,i,a,s,u,c,f,h,m,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Xh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Fs.NO_ERROR,c=a.getStatus();if(!u||Q9(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Fs.ABORT;n(!1,new Xh(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new Xh(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());Y9(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=vE();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?$D():$9();s(c)}else{const c=L9();s(c)}};this.canceled_?r(!1,new Xh(!1,null,!0)):this.backoffId_=K9(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Z9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ez(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nz(t,e,r,n,i,a,s=!0){const u=FD(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return tz(f,e),Z9(f,r),ez(f,a),rz(f,n),new J9(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function az(...t){const e=iz();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(_E())return new Blob(t);throw new Qt(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oz(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){if(typeof atob>"u")throw z9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pv{constructor(e,r){this.data=e,this.contentType=r||null}}function lz(t,e){switch(t){case Zi.RAW:return new Pv(VD(e));case Zi.BASE64:case Zi.BASE64URL:return new Pv(BD(t,e));case Zi.DATA_URL:return new Pv(cz(e),fz(e))}throw vE()}function VD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function uz(t){let e;try{e=decodeURIComponent(t)}catch{throw nf(Zi.DATA_URL,"Malformed data URL.")}return VD(e)}function BD(t,e){switch(t){case Zi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw nf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw nf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=sz(e)}catch(i){throw i.message.includes("polyfill")?i:nf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class UD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw nf(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=dz(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function cz(t){const e=new UD(t);return e.base64?BD(Zi.BASE64,e.rest):uz(e.rest)}function fz(t){return new UD(t).contentType}function dz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,r){let n=0,i="";cP(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(cP(this.data_)){const n=this.data_,i=oz(n,e,r);return i===null?null:new jo(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new jo(n,!0)}}static getBlob(...e){if(_E()){const r=e.map(n=>n instanceof jo?n.data_:n);return new jo(az.apply(null,r))}else{const r=e.map(s=>bE(s)?lz(Zi.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new jo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){let e;try{e=JSON.parse(t)}catch{return null}return X9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function zD(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){return e}class an{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||mz}}let Qh=null;function gz(t){return!bE(t)||t.length<2?t:zD(t)}function WD(){if(Qh)return Qh;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,s){return gz(s)}const r=new an("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new an("size");return i.xform=n,t.push(i),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),Qh=t,Qh}function yz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Fn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function vz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return yz(n,t),n}function HD(t,e,r){const n=qD(e);return n===null?null:vz(t,n,r)}function bz(t,e,r,n){const i=qD(e);if(i===null||!bE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,v="/b/"+s(h)+"/o/"+s(m),b=xE(v,r,n),x=FD({alt:"media",token:f});return b+x})[0]}function _z(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class KD{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(!t)throw vE()}function xz(t,e){function r(n,i){const a=HD(t,i,e);return GD(a!==null),a}return r}function wz(t,e){function r(n,i){const a=HD(t,i,e);return GD(a!==null),bz(a,i,t.host,t._protocol)}return r}function YD(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=M9():i=j9():r.getStatus()===402?i=R9(t.bucket):r.getStatus()===403?i=D9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Ez(t){const e=YD(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=N9(t.path)),a.serverResponse=i.serverResponse,a}return r}function Sz(t,e,r){const n=e.fullServerUrl(),i=xE(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new KD(i,a,wz(t,r),s);return u.errorHandler=Ez(e),u}function Tz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Az(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Tz(null,e)),n}function kz(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let $=0;$<2;$++)P=P+Math.random().toString().slice(2);return P}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=Az(e,n,i),h=_z(f,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+c+"--",b=jo.getBlob(m,n,v);if(b===null)throw U9();const x={name:f.fullPath},E=xE(a,t.host,t._protocol),w="POST",C=t.maxUploadRetryTime,O=new KD(E,w,xz(t,r),C);return O.urlParams=x,O.headers=s,O.body=b.uploadData(),O.errorHandler=YD(e),O}class Pz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Nc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Iz extends Pz{initXhr(){this.xhr_.responseType="text"}}function XD(){return new Iz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,r){this._service=e,r instanceof Fn?this._location=r:this._location=Fn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Gs(e,r)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zD(this._location.path)}get storage(){return this._service}get parent(){const e=hz(this._location.path);if(e===null)return null;const r=new Fn(this._location.bucket,e);return new Gs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw W9(e)}}function Oz(t,e,r){t._throwIfRoot("uploadBytes");const n=kz(t.storage,t._location,WD(),new jo(e,!0),r);return t.storage.makeRequestWithTokens(n,XD).then(i=>({metadata:i,ref:t}))}function Cz(t){t._throwIfRoot("getDownloadURL");const e=Sz(t.storage,t._location,WD());return t.storage.makeRequestWithTokens(e,XD).then(r=>{if(r===null)throw q9();return r})}function Nz(t,e){const r=pz(t._location.path,e),n=new Fn(t._location.bucket,r);return new Gs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rz(t){return/^[A-Za-z]+:\/\//.test(t)}function jz(t,e){return new Gs(t,e)}function QD(t,e){if(t instanceof wE){const r=t;if(r._bucket==null)throw B9();const n=new Gs(r,r._bucket);return e!=null?QD(n,e):n}else return e!==void 0?Nz(t,e):t}function Mz(t,e){if(e&&Rz(e)){if(t instanceof wE)return jz(t,e);throw rw("To use ref(service, url), the first argument must be a Storage instance.")}else return QD(t,e)}function dP(t,e){const r=e?.[LD];return r==null?null:Fn.makeFromBucketSpec(r,t)}function Dz(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:T2(i,t.app.options.projectId))}class wE{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=DD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O9,this._maxUploadRetryTime=C9,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=dP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=dP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new H9($D());{const s=nz(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const hP="@firebase/storage",pP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="storage";function Lz(t,e,r){return t=Lt(t),Oz(t,e,r)}function $z(t){return t=Lt(t),Cz(t)}function Fz(t,e){return t=Lt(t),Mz(t,e)}function Vz(t=k1(),e){t=Lt(t);const n=Mm(t,JD).getImmediate({identifier:e}),i=w2("storage");return i&&Bz(n,...i),n}function Bz(t,e,r,n={}){Dz(t,e,r,n)}function Uz(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wE(r,n,i,e,tl)}function qz(){Us(new Ho(JD,Uz,"PUBLIC").setMultipleInstances(!0)),ta(hP,pP,""),ta(hP,pP,"esm2017")}qz();function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){ZD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zz(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Wz(t,e){if(t==null)return{};var r=zz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function au(t,e){return Hz(t)||Kz(t,e)||Gz(t,e)||Yz()}function Hz(t){if(Array.isArray(t))return t}function Kz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Gz(t,e){if(t){if(typeof t=="string")return gP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xz=["src","checkForExisting"],Gc={},yP=function(e){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)return Gc[e]={loading:!1,error:null,scriptEl:r}},vP=typeof window<"u"&&typeof window.document<"u";function Qz(t){var e=t.src,r=t.checkForExisting,n=r===void 0?!1:r,i=Wz(t,Xz),a=e?Gc[e]:void 0;!a&&n&&e&&vP&&(a=yP(e));var s=K.useState(a?a.loading:!!e),u=au(s,2),c=u[0],f=u[1],h=K.useState(a?a.error:null),m=au(h,2),v=m[0],b=m[1],x=K.useState(!1),E=au(x,2),w=E[0],C=E[1];return K.useEffect(function(){if(!(!vP||!e||w||v)){a=Gc[e],!a&&n&&(a=yP(e));var O;a?O=a.scriptEl:(O=document.createElement("script"),O.src=e,Object.keys(i).forEach(function(N){O[N]===void 0?O.setAttribute(N,i[N]):O[N]=i[N]}),a=Gc[e]={loading:!0,error:null,scriptEl:O});var P=function(){a&&(a.loading=!1),f(!1),C(!0)},$=function(j){a&&(a.error=j),b(j)};return O.addEventListener("load",P),O.addEventListener("error",$),document.body.appendChild(O),function(){O.removeEventListener("load",P),O.removeEventListener("error",$),a&&a.loading&&(O.remove(),delete Gc[e])}}},[e]),[c,v]}var Jz=function(e,r,n){var i={};return delete Object.assign(i,e,ZD({},n,e[r]))[r],i},Zz=function(e,r){var n={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");n.plaid=r($p($p({},e),{},{onExit:function(f,h){n.open=!1,e.onExit&&e.onExit(f,h),n.onExitCallback&&n.onExitCallback()}}));var i=function(){n.plaid&&(n.open=!0,n.onExitCallback=null,n.plaid.open())},a=function(f){n.plaid&&n.plaid.submit(f)},s=function(f,h){if(!n.open||!n.plaid){h&&h();return}n.onExitCallback=h,n.plaid.exit(f),f&&f.force&&(n.open=!1)},u=function(){n.plaid&&(n.plaid.destroy(),n.plaid=null)};return{open:i,submit:a,exit:s,destroy:u}},e8=function(e,r){var n=Jz(e,"publicKey","key");return Zz(n,r)},t8="https://cdn.plaid.com/link/v2/stable/link-initialize.js",bP=function(){},r8=function(e){var r=Qz({src:t8,checkForExisting:!0}),n=au(r,2),i=n[0],a=n[1],s=K.useState(null),u=au(s,2),c=u[0],f=u[1],h=K.useState(!1),m=au(h,2),v=m[0],b=m[1],x=(e.product||[]).slice().sort().join(",");K.useEffect(function(){if(!i&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}c?.exit({force:!0},function(){return c.destroy()});var C=e8($p($p({},e),{},{onLoad:function(){b(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return f(C),function(){return C.exit({force:!0},function(){return C.destroy()})}}},[i,a,e.publicKey,e.token,x]);var E=c!=null&&(!i||v),w=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:E,submit:c?c.submit:bP,exit:c?c.exit:bP,open:c?c.open:w}},_P;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(_P||(_P={}));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eL=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=K.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>K.createElement("svg",{ref:c,...i8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:eL("lucide",i),...u},[...s.map(([f,h])=>K.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const r=K.forwardRef(({className:n,...i},a)=>K.createElement(a8,{ref:a,iconNode:e,className:eL(`lucide-${n8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=dt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=dt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=dt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=dt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=dt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=dt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=dt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=dt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=dt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=dt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=dt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=dt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=dt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T8=({setUserId:t})=>{const[e,r]=K.useState(!0),[n,i]=K.useState(""),[a,s]=K.useState(""),[u,c]=K.useState(""),[f,h]=K.useState(!1),m=fM(),v=async b=>{b.preventDefault(),c(""),h(!0);try{e?await dB(m,n,a):await fB(m,n,a)}catch(x){c(x.message)}finally{h(!1)}};return y.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(Uo,{className:"mx-auto h-12 w-auto text-cyan-500"}),y.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[y.jsxs("form",{className:"space-y-6",onSubmit:v,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>i(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:b=>s(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&y.jsx("div",{className:"rounded-md bg-red-50 p-4",children:y.jsx("p",{className:"text-sm text-red-700",children:u})}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",y.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Qi=({title:t,value:e,icon:r,color:n,subtext:i})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),y.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function aL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=aL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=aL(t))&&(n&&(n+=" "),n+=e);return n}var Iv,EP;function Sn(){if(EP)return Iv;EP=1;var t=Array.isArray;return Iv=t,Iv}var Ov,SP;function oL(){if(SP)return Ov;SP=1;var t=typeof Uh=="object"&&Uh&&Uh.Object===Object&&Uh;return Ov=t,Ov}var Cv,TP;function da(){if(TP)return Cv;TP=1;var t=oL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Cv=r,Cv}var Nv,AP;function _d(){if(AP)return Nv;AP=1;var t=da(),e=t.Symbol;return Nv=e,Nv}var Rv,kP;function A8(){if(kP)return Rv;kP=1;var t=_d(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Rv=a,Rv}var jv,PP;function k8(){if(PP)return jv;PP=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return jv=r,jv}var Mv,IP;function Xa(){if(IP)return Mv;IP=1;var t=_d(),e=A8(),r=k8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Mv=s,Mv}var Dv,OP;function Qa(){if(OP)return Dv;OP=1;function t(e){return e!=null&&typeof e=="object"}return Dv=t,Dv}var Lv,CP;function zu(){if(CP)return Lv;CP=1;var t=Xa(),e=Qa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Lv=n,Lv}var $v,NP;function EE(){if(NP)return $v;NP=1;var t=Sn(),e=zu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return $v=i,$v}var Fv,RP;function es(){if(RP)return Fv;RP=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Fv=t,Fv}var Vv,jP;function SE(){if(jP)return Vv;jP=1;var t=Xa(),e=es(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Vv=s,Vv}var Bv,MP;function P8(){if(MP)return Bv;MP=1;var t=da(),e=t["__core-js_shared__"];return Bv=e,Bv}var Uv,DP;function I8(){if(DP)return Uv;DP=1;var t=P8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Uv=r,Uv}var qv,LP;function sL(){if(LP)return qv;LP=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return qv=r,qv}var zv,$P;function O8(){if($P)return zv;$P=1;var t=SE(),e=I8(),r=es(),n=sL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var b=t(v)?h:a;return b.test(n(v))}return zv=m,zv}var Wv,FP;function C8(){if(FP)return Wv;FP=1;function t(e,r){return e?.[r]}return Wv=t,Wv}var Hv,VP;function ol(){if(VP)return Hv;VP=1;var t=O8(),e=C8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Hv=r,Hv}var Kv,BP;function tg(){if(BP)return Kv;BP=1;var t=ol(),e=t(Object,"create");return Kv=e,Kv}var Gv,UP;function N8(){if(UP)return Gv;UP=1;var t=tg();function e(){this.__data__=t?t(null):{},this.size=0}return Gv=e,Gv}var Yv,qP;function R8(){if(qP)return Yv;qP=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Yv=t,Yv}var Xv,zP;function j8(){if(zP)return Xv;zP=1;var t=tg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return Xv=i,Xv}var Qv,WP;function M8(){if(WP)return Qv;WP=1;var t=tg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Qv=n,Qv}var Jv,HP;function D8(){if(HP)return Jv;HP=1;var t=tg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Jv=r,Jv}var Zv,KP;function L8(){if(KP)return Zv;KP=1;var t=N8(),e=R8(),r=j8(),n=M8(),i=D8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Zv=a,Zv}var e0,GP;function $8(){if(GP)return e0;GP=1;function t(){this.__data__=[],this.size=0}return e0=t,e0}var t0,YP;function TE(){if(YP)return t0;YP=1;function t(e,r){return e===r||e!==e&&r!==r}return t0=t,t0}var r0,XP;function rg(){if(XP)return r0;XP=1;var t=TE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return r0=e,r0}var n0,QP;function F8(){if(QP)return n0;QP=1;var t=rg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return n0=n,n0}var i0,JP;function V8(){if(JP)return i0;JP=1;var t=rg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return i0=e,i0}var a0,ZP;function B8(){if(ZP)return a0;ZP=1;var t=rg();function e(r){return t(this.__data__,r)>-1}return a0=e,a0}var o0,eI;function U8(){if(eI)return o0;eI=1;var t=rg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return o0=e,o0}var s0,tI;function ng(){if(tI)return s0;tI=1;var t=$8(),e=F8(),r=V8(),n=B8(),i=U8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,s0=a,s0}var l0,rI;function AE(){if(rI)return l0;rI=1;var t=ol(),e=da(),r=t(e,"Map");return l0=r,l0}var u0,nI;function q8(){if(nI)return u0;nI=1;var t=L8(),e=ng(),r=AE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return u0=n,u0}var c0,iI;function z8(){if(iI)return c0;iI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return c0=t,c0}var f0,aI;function ig(){if(aI)return f0;aI=1;var t=z8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return f0=e,f0}var d0,oI;function W8(){if(oI)return d0;oI=1;var t=ig();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return d0=e,d0}var h0,sI;function H8(){if(sI)return h0;sI=1;var t=ig();function e(r){return t(this,r).get(r)}return h0=e,h0}var p0,lI;function K8(){if(lI)return p0;lI=1;var t=ig();function e(r){return t(this,r).has(r)}return p0=e,p0}var m0,uI;function G8(){if(uI)return m0;uI=1;var t=ig();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return m0=e,m0}var g0,cI;function kE(){if(cI)return g0;cI=1;var t=q8(),e=W8(),r=H8(),n=K8(),i=G8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,g0=a,g0}var y0,fI;function lL(){if(fI)return y0;fI=1;var t=kE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,y0=r,y0}var v0,dI;function Y8(){if(dI)return v0;dI=1;var t=lL(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return v0=r,v0}var b0,hI;function X8(){if(hI)return b0;hI=1;var t=Y8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return b0=n,b0}var _0,pI;function PE(){if(pI)return _0;pI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return _0=t,_0}var x0,mI;function Q8(){if(mI)return x0;mI=1;var t=_d(),e=PE(),r=Sn(),n=zu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return x0=s,x0}var w0,gI;function uL(){if(gI)return w0;gI=1;var t=Q8();function e(r){return r==null?"":t(r)}return w0=e,w0}var E0,yI;function cL(){if(yI)return E0;yI=1;var t=Sn(),e=EE(),r=X8(),n=uL();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return E0=i,E0}var S0,vI;function ag(){if(vI)return S0;vI=1;var t=zu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return S0=e,S0}var T0,bI;function IE(){if(bI)return T0;bI=1;var t=cL(),e=ag();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return T0=r,T0}var A0,_I;function fL(){if(_I)return A0;_I=1;var t=IE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return A0=e,A0}var J8=fL();const Bn=vt(J8);var k0,xI;function Z8(){if(xI)return k0;xI=1;function t(e){return e==null}return k0=t,k0}var e7=Z8();const tt=vt(e7);var P0,wI;function t7(){if(wI)return P0;wI=1;var t=Xa(),e=Sn(),r=Qa(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return P0=i,P0}var r7=t7();const Ys=vt(r7);var n7=SE();const Ye=vt(n7);var i7=es();const Wu=vt(i7);var I0={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function a7(){if(EI)return mt;EI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function E(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case t:switch(w=w.type,w){case r:case i:case n:case f:case h:return w;default:switch(w=w&&w.$$typeof,w){case u:case s:case c:case v:case m:case a:return w;default:return C}}case e:return C}}}return mt.ContextConsumer=s,mt.ContextProvider=a,mt.Element=t,mt.ForwardRef=c,mt.Fragment=r,mt.Lazy=v,mt.Memo=m,mt.Portal=e,mt.Profiler=i,mt.StrictMode=n,mt.Suspense=f,mt.SuspenseList=h,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(w){return E(w)===s},mt.isContextProvider=function(w){return E(w)===a},mt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},mt.isForwardRef=function(w){return E(w)===c},mt.isFragment=function(w){return E(w)===r},mt.isLazy=function(w){return E(w)===v},mt.isMemo=function(w){return E(w)===m},mt.isPortal=function(w){return E(w)===e},mt.isProfiler=function(w){return E(w)===i},mt.isStrictMode=function(w){return E(w)===n},mt.isSuspense=function(w){return E(w)===f},mt.isSuspenseList=function(w){return E(w)===h},mt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===f||w===h||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===a||w.$$typeof===s||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},mt.typeOf=E,mt}var SI;function o7(){return SI||(SI=1,I0.exports=a7()),I0.exports}var s7=o7(),O0,TI;function dL(){if(TI)return O0;TI=1;var t=Xa(),e=Qa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return O0=n,O0}var C0,AI;function l7(){if(AI)return C0;AI=1;var t=dL();function e(r){return t(r)&&r!=+r}return C0=e,C0}var u7=l7();const xd=vt(u7);var c7=dL();const f7=vt(c7);var on=function(e){return e===0?0:e>0?1:-1},js=function(e){return Ys(e)&&e.indexOf("%")===e.length-1},ve=function(e){return f7(e)&&!xd(e)},d7=function(e){return tt(e)},yr=function(e){return ve(e)||Ys(e)},h7=0,wd=function(e){var r=++h7;return"".concat(e||"").concat(r)},sn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Ys(e))return n;var a;if(js(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return xd(a)&&(a=n),i&&a>r&&(a=r),a},Mo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},p7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Po=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function iw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Bn(n,e))===r})}var m7=function(e,r){return ve(e)&&ve(r)?e-r:Ys(e)&&Ys(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ou(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}var g7=["viewBox","children"],y7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kI=["points","pathLength"],N0={svg:g7,polygon:kI,polyline:kI},OE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(K.isValidElement(e)&&(n=e.props),!Wu(n))return null;var i={};return Object.keys(n).forEach(function(a){OE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},v7=function(e,r,n){return function(i){return e(r,n,i),null}},Xs=function(e,r,n){if(!Wu(e)||aw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];OE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=v7(s,r,n))}),i},b7=["children"],_7=["children"];function PI(t,e){if(t==null)return{};var r=x7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var II={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OI=null,R0=null,CE=function t(e){if(e===OI&&Array.isArray(R0))return R0;var r=[];return K.Children.forEach(e,function(n){tt(n)||(s7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),R0=r,OI=e,r};function ui(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Fa(i)}):n=[Fa(e)],CE(t).forEach(function(i){var a=Bn(i,"type.displayName")||Bn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Dn(t,e){var r=ui(t,e);return r&&r[0]}var CI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},w7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],E7=function(e){return e&&e.type&&Ys(e.type)&&w7.indexOf(e.type)>=0},S7=function(e,r,n,i){var a,s=(a=N0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ye(e)&&(i&&s.includes(r)||y7.includes(r))||n&&OE.includes(r)},Ke=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(K.isValidElement(e)&&(i=e.props),!Wu(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;S7((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},ow=function t(e,r){if(e===r)return!0;var n=K.Children.count(e);if(n!==K.Children.count(r))return!1;if(n===0)return!0;if(n===1)return NI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!NI(a,s))return!1}return!0},NI=function(e,r){if(tt(e)&&tt(r))return!0;if(!tt(e)&&!tt(r)){var n=e.props||{},i=n.children,a=PI(n,b7),s=r.props||{},u=s.children,c=PI(s,_7);return i&&u?ou(a,c)&&ow(i,u):!i&&!u?ou(a,c):!1}return!1},RI=function(e,r){var n=[],i={};return CE(e).forEach(function(a,s){if(E7(a))n.push(a);else if(a){var u=Fa(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var m=f(a,u,s);n.push(m),i[u]=!0}}}),n},T7=function(e){var r=e&&e.type;return r&&II[r]?II[r]:null},A7=function(e,r){return CE(r).indexOf(e)},k7=["children","width","height","viewBox","className","style","title","desc"];function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function P7(t,e){if(t==null)return{};var r=I7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function I7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=P7(t,k7),h=i||{width:r,height:n,x:0,y:0},m=Ze("recharts-surface",a);return W.createElement("svg",sw({},Ke(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),W.createElement("title",null,u),W.createElement("desc",null,c),e)}var O7=["children","className"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(this,arguments)}function C7(t,e){if(t==null)return{};var r=N7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _t=W.forwardRef(function(t,e){var r=t.children,n=t.className,i=C7(t,O7),a=Ze("recharts-layer",n);return W.createElement("g",uw({className:a},Ke(i,!0),{ref:e}),r)}),Ri=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},j0,jI;function R7(){if(jI)return j0;jI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return j0=t,j0}var M0,MI;function j7(){if(MI)return M0;MI=1;var t=R7();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return M0=e,M0}var D0,DI;function hL(){if(DI)return D0;DI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return D0=c,D0}var L0,LI;function M7(){if(LI)return L0;LI=1;function t(e){return e.split("")}return L0=t,L0}var $0,$I;function D7(){if($I)return $0;$I=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",E="["+a+"]?",w="(?:"+b+"(?:"+[h,m,v].join("|")+")"+E+x+")*",C=E+x+w,O="(?:"+[h+u+"?",u,m,v,s].join("|")+")",P=RegExp(c+"(?="+c+")|"+O+C,"g");function $(N){return N.match(P)||[]}return $0=$,$0}var F0,FI;function L7(){if(FI)return F0;FI=1;var t=M7(),e=hL(),r=D7();function n(i){return e(i)?r(i):t(i)}return F0=n,F0}var V0,VI;function $7(){if(VI)return V0;VI=1;var t=j7(),e=hL(),r=L7(),n=uL();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return V0=i,V0}var B0,BI;function F7(){if(BI)return B0;BI=1;var t=$7(),e=t("toUpperCase");return B0=e,B0}var V7=F7();const og=vt(V7);function Ct(t){return function(){return t}}const pL=Math.cos,Vp=Math.sin,$i=Math.sqrt,Bp=Math.PI,sg=2*Bp,cw=Math.PI,fw=2*cw,Os=1e-6,B7=fw-Os;function mL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function U7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class q7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mL:U7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,m=u-r,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Os)if(!(Math.abs(m*c-f*h)>Os)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,x=i-u,E=c*c+f*f,w=b*b+x*x,C=Math.sqrt(E),O=Math.sqrt(v),P=a*Math.tan((cw-Math.acos((E+v-w)/(2*C*O)))/2),$=P/O,N=P/C;Math.abs($-1)>Os&&this._append`L${e+$*h},${r+$*m}`,this._append`A${a},${a},0,0,${+(m*b>h*x)},${this._x1=e+N*c},${this._y1=r+N*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,m=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Os||Math.abs(this._y1-h)>Os)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%fw+fw),v>B7?this._append`A${n},${n},0,1,${m},${e-u},${r-c}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:v>Os&&this._append`A${n},${n},0,${+(v>=cw)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new q7(e)}function RE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gL(t){this._context=t}gL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lg(t){return new gL(t)}function yL(t){return t[0]}function vL(t){return t[1]}function bL(t,e){var r=Ct(!0),n=null,i=lg,a=null,s=NE(u);t=typeof t=="function"?t:t===void 0?yL:Ct(t),e=typeof e=="function"?e:e===void 0?vL:Ct(e);function u(c){var f,h=(c=RE(c)).length,m,v=!1,b;for(n==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&r(m=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(m,f,c),+e(m,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function Jh(t,e,r){var n=null,i=Ct(!0),a=null,s=lg,u=null,c=NE(f);t=typeof t=="function"?t:t===void 0?yL:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?vL:Ct(+r);function f(m){var v,b,x,E=(m=RE(m)).length,w,C=!1,O,P=new Array(E),$=new Array(E);for(a==null&&(u=s(O=c())),v=0;v<=E;++v){if(!(v<E&&i(w=m[v],v,m))===C)if(C=!C)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=v-1;x>=b;--x)u.point(P[x],$[x]);u.lineEnd(),u.areaEnd()}C&&(P[v]=+t(w,v,m),$[v]=+e(w,v,m),u.point(n?+n(w,v,m):P[v],r?+r(w,v,m):$[v]))}if(O)return u=null,O+""||null}function h(){return bL().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ct(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ct(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ct(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ct(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ct(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ct(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ct(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class _L{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function z7(t){return new _L(t,!0)}function W7(t){return new _L(t,!1)}const jE={draw(t,e){const r=$i(e/Bp);t.moveTo(r,0),t.arc(0,0,r,0,sg)}},H7={draw(t,e){const r=$i(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},xL=$i(1/3),K7=xL*2,G7={draw(t,e){const r=$i(e/K7),n=r*xL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Y7={draw(t,e){const r=$i(e),n=-r/2;t.rect(n,n,r,r)}},X7=.8908130915292852,wL=Vp(Bp/10)/Vp(7*Bp/10),Q7=Vp(sg/10)*wL,J7=-pL(sg/10)*wL,Z7={draw(t,e){const r=$i(e*X7),n=Q7*r,i=J7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=sg*a/5,u=pL(s),c=Vp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},U0=$i(3),eW={draw(t,e){const r=-$i(e/(U0*3));t.moveTo(0,r*2),t.lineTo(-U0*r,-r),t.lineTo(U0*r,-r),t.closePath()}},ri=-.5,ni=$i(3)/2,dw=1/$i(12),tW=(dw/2+1)*3,rW={draw(t,e){const r=$i(e/tW),n=r/2,i=r*dw,a=n,s=r*dw+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(ri*n-ni*i,ni*n+ri*i),t.lineTo(ri*a-ni*s,ni*a+ri*s),t.lineTo(ri*u-ni*c,ni*u+ri*c),t.lineTo(ri*n+ni*i,ri*i-ni*n),t.lineTo(ri*a+ni*s,ri*s-ni*a),t.lineTo(ri*u+ni*c,ri*c-ni*u),t.closePath()}};function nW(t,e){let r=null,n=NE(i);t=typeof t=="function"?t:Ct(t||jE),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Up(){}function qp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function EL(t){this._context=t}EL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iW(t){return new EL(t)}function SL(t){this._context=t}SL.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aW(t){return new SL(t)}function TL(t){this._context=t}TL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oW(t){return new TL(t)}function AL(t){this._context=t}AL.prototype={areaStart:Up,areaEnd:Up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sW(t){return new AL(t)}function UI(t){return t<0?-1:1}function qI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(UI(a)+UI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function zI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function q0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function zp(t){this._context=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q0(this,this._t0,zI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,q0(this,zI(this,r=qI(this,t,e)),r);break;default:q0(this,this._t0,r=qI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function kL(t){this._context=new PL(t)}(kL.prototype=Object.create(zp.prototype)).point=function(t,e){zp.prototype.point.call(this,e,t)};function PL(t){this._context=t}PL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function lW(t){return new zp(t)}function uW(t){return new kL(t)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=WI(t),i=WI(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function cW(t){return new IL(t)}function ug(t,e){this._context=t,this._t=e}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function fW(t){return new ug(t,.5)}function dW(t){return new ug(t,0)}function hW(t){return new ug(t,1)}function gu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function hw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function pW(t,e){return t[e]}function mW(t){const e=[];return e.key=t,e}function gW(){var t=Ct([]),e=hw,r=gu,n=pW;function i(a){var s=Array.from(t.apply(this,arguments),mW),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(m,s[u].key,f,a)]).data=m;for(u=0,h=RE(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ct(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?hw:typeof a=="function"?a:Ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??gu,i):r},i}function yW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}gu(t,e)}}function vW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}gu(t,e)}}function bW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[n][1]||0,v=h[n-1][1]||0,b=(m-v)/2,x=0;x<u;++x){var E=t[e[x]],w=E[n][1]||0,C=E[n-1][1]||0;b+=w-C}c+=m,f+=b*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,gu(t,e)}}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var _W=["type","size","sizeType"];function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){xW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xW(t,e,r){return e=wW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wW(t){var e=EW(t,"string");return xf(e)=="symbol"?e:e+""}function EW(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SW(t,e){if(t==null)return{};var r=TW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var OL={symbolCircle:jE,symbolCross:H7,symbolDiamond:G7,symbolSquare:Y7,symbolStar:Z7,symbolTriangle:eW,symbolWye:rW},AW=Math.PI/180,kW=function(e){var r="symbol".concat(og(e));return OL[r]||jE},PW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*AW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IW=function(e,r){OL["symbol".concat(og(e))]=r},ME=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=SW(e,_W),f=KI(KI({},c),{},{type:n,size:a,sizeType:u}),h=function(){var w=kW(n),C=nW().type(w).size(PW(a,u,n));return C()},m=f.className,v=f.cx,b=f.cy,x=Ke(f,!0);return v===+v&&b===+b&&a===+a?W.createElement("path",pw({},x,{className:Ze("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(b,")"),d:h()})):null};ME.registerSymbol=IW;function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mw.apply(this,arguments)}function GI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(r),!0).forEach(function(n){wf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function RW(t,e,r){return e&&NW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jW(t,e,r){return e=Wp(e),MW(t,CL()?Reflect.construct(e,r||[],Wp(t).constructor):e.apply(t,r))}function MW(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DW(t)}function DW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}function LW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function wf(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=$W(t,"string");return yu(e)=="symbol"?e:e+""}function $W(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ii=32,DE=function(t){function e(){return CW(this,e),jW(this,e,arguments)}return LW(e,t),RW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ii/2,s=ii/6,u=ii/3,c=n.inactive?i:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ii,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(ii,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var f=OW({},n);return delete f.legendIcon,W.cloneElement(n.legendIcon,f)}return W.createElement(ME,{fill:c,cx:a,cy:a,size:ii,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ii,height:ii},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,x){var E=b.formatter||c,w=Ze(wf(wf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var C=Ye(b.value)?null:b.value;Ri(!Ye(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=b.inactive?f:b.color;return W.createElement("li",mw({className:w,style:m,key:"legend-item-".concat(x)},Xs(n.props,b,x)),W.createElement(lw,{width:s,height:s,viewBox:h,style:v},n.renderIcon(b)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},E?E(C,b,x):C))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(K.PureComponent);wf(DE,"displayName","Legend");wf(DE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z0,YI;function FW(){if(YI)return z0;YI=1;var t=ng();function e(){this.__data__=new t,this.size=0}return z0=e,z0}var W0,XI;function VW(){if(XI)return W0;XI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return W0=t,W0}var H0,QI;function BW(){if(QI)return H0;QI=1;function t(e){return this.__data__.get(e)}return H0=t,H0}var K0,JI;function UW(){if(JI)return K0;JI=1;function t(e){return this.__data__.has(e)}return K0=t,K0}var G0,ZI;function qW(){if(ZI)return G0;ZI=1;var t=ng(),e=AE(),r=kE(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return G0=i,G0}var Y0,eO;function RL(){if(eO)return Y0;eO=1;var t=ng(),e=FW(),r=VW(),n=BW(),i=UW(),a=qW();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,Y0=s,Y0}var X0,tO;function zW(){if(tO)return X0;tO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return X0=e,X0}var Q0,rO;function WW(){if(rO)return Q0;rO=1;function t(e){return this.__data__.has(e)}return Q0=t,Q0}var J0,nO;function jL(){if(nO)return J0;nO=1;var t=kE(),e=zW(),r=WW();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,J0=n,J0}var Z0,iO;function ML(){if(iO)return Z0;iO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Z0=t,Z0}var eb,aO;function DL(){if(aO)return eb;aO=1;function t(e,r){return e.has(r)}return eb=t,eb}var tb,oO;function LL(){if(oO)return tb;oO=1;var t=jL(),e=ML(),r=DL(),n=1,i=2;function a(s,u,c,f,h,m){var v=c&n,b=s.length,x=u.length;if(b!=x&&!(v&&x>b))return!1;var E=m.get(s),w=m.get(u);if(E&&w)return E==u&&w==s;var C=-1,O=!0,P=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++C<b;){var $=s[C],N=u[C];if(f)var j=v?f(N,$,C,u,s,m):f($,N,C,s,u,m);if(j!==void 0){if(j)continue;O=!1;break}if(P){if(!e(u,function(A,k){if(!r(P,k)&&($===A||h($,A,c,f,m)))return P.push(k)})){O=!1;break}}else if(!($===N||h($,N,c,f,m))){O=!1;break}}return m.delete(s),m.delete(u),O}return tb=a,tb}var rb,sO;function HW(){if(sO)return rb;sO=1;var t=da(),e=t.Uint8Array;return rb=e,rb}var nb,lO;function KW(){if(lO)return nb;lO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return nb=t,nb}var ib,uO;function LE(){if(uO)return ib;uO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ib=t,ib}var ab,cO;function GW(){if(cO)return ab;cO=1;var t=_d(),e=HW(),r=TE(),n=LL(),i=KW(),a=LE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",E="[object String]",w="[object Symbol]",C="[object ArrayBuffer]",O="[object DataView]",P=t?t.prototype:void 0,$=P?P.valueOf:void 0;function N(j,A,k,R,F,L,V){switch(k){case O:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case C:return!(j.byteLength!=A.byteLength||!L(new e(j),new e(A)));case c:case f:case v:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case b:case E:return j==A+"";case m:var M=i;case x:var Z=R&s;if(M||(M=a),j.size!=A.size&&!Z)return!1;var te=V.get(j);if(te)return te==A;R|=u,V.set(j,A);var ne=n(M(j),M(A),R,F,L,V);return V.delete(j),ne;case w:if($)return $.call(j)==$.call(A)}return!1}return ab=N,ab}var ob,fO;function $L(){if(fO)return ob;fO=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return ob=t,ob}var sb,dO;function YW(){if(dO)return sb;dO=1;var t=$L(),e=Sn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return sb=r,sb}var lb,hO;function XW(){if(hO)return lb;hO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return lb=t,lb}var ub,pO;function QW(){if(pO)return ub;pO=1;function t(){return[]}return ub=t,ub}var cb,mO;function JW(){if(mO)return cb;mO=1;var t=XW(),e=QW(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return cb=a,cb}var fb,gO;function ZW(){if(gO)return fb;gO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return fb=t,fb}var db,yO;function eH(){if(yO)return db;yO=1;var t=Xa(),e=Qa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return db=n,db}var hb,vO;function $E(){if(vO)return hb;vO=1;var t=eH(),e=Qa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return hb=a,hb}var Yc={exports:{}},pb,bO;function tH(){if(bO)return pb;bO=1;function t(){return!1}return pb=t,pb}Yc.exports;var _O;function FL(){return _O||(_O=1,function(t,e){var r=da(),n=tH(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(Yc,Yc.exports)),Yc.exports}var mb,xO;function FE(){if(xO)return mb;xO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return mb=r,mb}var gb,wO;function VE(){if(wO)return gb;wO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return gb=e,gb}var yb,EO;function rH(){if(EO)return yb;EO=1;var t=Xa(),e=VE(),r=Qa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",E="[object WeakMap]",w="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",$="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",L={};L[O]=L[P]=L[$]=L[N]=L[j]=L[A]=L[k]=L[R]=L[F]=!0,L[n]=L[i]=L[w]=L[a]=L[C]=L[s]=L[u]=L[c]=L[f]=L[h]=L[m]=L[v]=L[b]=L[x]=L[E]=!1;function V(M){return r(M)&&e(M.length)&&!!L[t(M)]}return yb=V,yb}var vb,SO;function VL(){if(SO)return vb;SO=1;function t(e){return function(r){return e(r)}}return vb=t,vb}var Xc={exports:{}};Xc.exports;var TO;function nH(){return TO||(TO=1,function(t,e){var r=oL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(Xc,Xc.exports)),Xc.exports}var bb,AO;function BL(){if(AO)return bb;AO=1;var t=rH(),e=VL(),r=nH(),n=r&&r.isTypedArray,i=n?e(n):t;return bb=i,bb}var _b,kO;function iH(){if(kO)return _b;kO=1;var t=ZW(),e=$E(),r=Sn(),n=FL(),i=FE(),a=BL(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=r(f),v=!m&&e(f),b=!m&&!v&&n(f),x=!m&&!v&&!b&&a(f),E=m||v||b||x,w=E?t(f.length,String):[],C=w.length;for(var O in f)(h||u.call(f,O))&&!(E&&(O=="length"||b&&(O=="offset"||O=="parent")||x&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,C)))&&w.push(O);return w}return _b=c,_b}var xb,PO;function aH(){if(PO)return xb;PO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return xb=e,xb}var wb,IO;function UL(){if(IO)return wb;IO=1;function t(e,r){return function(n){return e(r(n))}}return wb=t,wb}var Eb,OO;function oH(){if(OO)return Eb;OO=1;var t=UL(),e=t(Object.keys,Object);return Eb=e,Eb}var Sb,CO;function sH(){if(CO)return Sb;CO=1;var t=aH(),e=oH(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return Sb=i,Sb}var Tb,NO;function Ed(){if(NO)return Tb;NO=1;var t=SE(),e=VE();function r(n){return n!=null&&e(n.length)&&!t(n)}return Tb=r,Tb}var Ab,RO;function cg(){if(RO)return Ab;RO=1;var t=iH(),e=sH(),r=Ed();function n(i){return r(i)?t(i):e(i)}return Ab=n,Ab}var kb,jO;function lH(){if(jO)return kb;jO=1;var t=YW(),e=JW(),r=cg();function n(i){return t(i,r,e)}return kb=n,kb}var Pb,MO;function uH(){if(MO)return Pb;MO=1;var t=lH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var m=u&e,v=t(a),b=v.length,x=t(s),E=x.length;if(b!=E&&!m)return!1;for(var w=b;w--;){var C=v[w];if(!(m?C in s:n.call(s,C)))return!1}var O=h.get(a),P=h.get(s);if(O&&P)return O==s&&P==a;var $=!0;h.set(a,s),h.set(s,a);for(var N=m;++w<b;){C=v[w];var j=a[C],A=s[C];if(c)var k=m?c(A,j,C,s,a,h):c(j,A,C,a,s,h);if(!(k===void 0?j===A||f(j,A,u,c,h):k)){$=!1;break}N||(N=C=="constructor")}if($&&!N){var R=a.constructor,F=s.constructor;R!=F&&"constructor"in a&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&($=!1)}return h.delete(a),h.delete(s),$}return Pb=i,Pb}var Ib,DO;function cH(){if(DO)return Ib;DO=1;var t=ol(),e=da(),r=t(e,"DataView");return Ib=r,Ib}var Ob,LO;function fH(){if(LO)return Ob;LO=1;var t=ol(),e=da(),r=t(e,"Promise");return Ob=r,Ob}var Cb,$O;function qL(){if($O)return Cb;$O=1;var t=ol(),e=da(),r=t(e,"Set");return Cb=r,Cb}var Nb,FO;function dH(){if(FO)return Nb;FO=1;var t=ol(),e=da(),r=t(e,"WeakMap");return Nb=r,Nb}var Rb,VO;function hH(){if(VO)return Rb;VO=1;var t=cH(),e=AE(),r=fH(),n=qL(),i=dH(),a=Xa(),s=sL(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",v="[object DataView]",b=s(t),x=s(e),E=s(r),w=s(n),C=s(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=v||e&&O(new e)!=u||r&&O(r.resolve())!=f||n&&O(new n)!=h||i&&O(new i)!=m)&&(O=function(P){var $=a(P),N=$==c?P.constructor:void 0,j=N?s(N):"";if(j)switch(j){case b:return v;case x:return u;case E:return f;case w:return h;case C:return m}return $}),Rb=O,Rb}var jb,BO;function pH(){if(BO)return jb;BO=1;var t=RL(),e=LL(),r=GW(),n=uH(),i=hH(),a=Sn(),s=FL(),u=BL(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(E,w,C,O,P,$){var N=a(E),j=a(w),A=N?h:i(E),k=j?h:i(w);A=A==f?m:A,k=k==f?m:k;var R=A==m,F=k==m,L=A==k;if(L&&s(E)){if(!s(w))return!1;N=!0,R=!1}if(L&&!R)return $||($=new t),N||u(E)?e(E,w,C,O,P,$):r(E,w,A,C,O,P,$);if(!(C&c)){var V=R&&b.call(E,"__wrapped__"),M=F&&b.call(w,"__wrapped__");if(V||M){var Z=V?E.value():E,te=M?w.value():w;return $||($=new t),P(Z,te,C,O,$)}}return L?($||($=new t),n(E,w,C,O,P,$)):!1}return jb=x,jb}var Mb,UO;function BE(){if(UO)return Mb;UO=1;var t=pH(),e=Qa();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return Mb=r,Mb}var Db,qO;function mH(){if(qO)return Db;qO=1;var t=RL(),e=BE(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var v=u[f];if(m&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<h;){v=u[f];var b=v[0],x=a[b],E=v[1];if(m&&v[2]){if(x===void 0&&!(b in a))return!1}else{var w=new t;if(c)var C=c(x,E,b,a,s,w);if(!(C===void 0?e(E,x,r|n,c,w):C))return!1}}return!0}return Db=i,Db}var Lb,zO;function zL(){if(zO)return Lb;zO=1;var t=es();function e(r){return r===r&&!t(r)}return Lb=e,Lb}var $b,WO;function gH(){if(WO)return $b;WO=1;var t=zL(),e=cg();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return $b=r,$b}var Fb,HO;function WL(){if(HO)return Fb;HO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Fb=t,Fb}var Vb,KO;function yH(){if(KO)return Vb;KO=1;var t=mH(),e=gH(),r=WL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Vb=n,Vb}var Bb,GO;function vH(){if(GO)return Bb;GO=1;function t(e,r){return e!=null&&r in Object(e)}return Bb=t,Bb}var Ub,YO;function bH(){if(YO)return Ub;YO=1;var t=cL(),e=$E(),r=Sn(),n=FE(),i=VE(),a=ag();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,v=!1;++h<m;){var b=a(c[h]);if(!(v=u!=null&&f(u,b)))break;u=u[b]}return v||++h!=m?v:(m=u==null?0:u.length,!!m&&i(m)&&n(b,m)&&(r(u)||e(u)))}return Ub=s,Ub}var qb,XO;function _H(){if(XO)return qb;XO=1;var t=vH(),e=bH();function r(n,i){return n!=null&&e(n,i,t)}return qb=r,qb}var zb,QO;function xH(){if(QO)return zb;QO=1;var t=BE(),e=fL(),r=_H(),n=EE(),i=zL(),a=WL(),s=ag(),u=1,c=2;function f(h,m){return n(h)&&i(m)?a(s(h),m):function(v){var b=e(v,h);return b===void 0&&b===m?r(v,h):t(m,b,u|c)}}return zb=f,zb}var Wb,JO;function Hu(){if(JO)return Wb;JO=1;function t(e){return e}return Wb=t,Wb}var Hb,ZO;function wH(){if(ZO)return Hb;ZO=1;function t(e){return function(r){return r?.[e]}}return Hb=t,Hb}var Kb,eC;function EH(){if(eC)return Kb;eC=1;var t=IE();function e(r){return function(n){return t(n,r)}}return Kb=e,Kb}var Gb,tC;function SH(){if(tC)return Gb;tC=1;var t=wH(),e=EH(),r=EE(),n=ag();function i(a){return r(a)?t(n(a)):e(a)}return Gb=i,Gb}var Yb,rC;function ha(){if(rC)return Yb;rC=1;var t=yH(),e=xH(),r=Hu(),n=Sn(),i=SH();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Yb=a,Yb}var Xb,nC;function HL(){if(nC)return Xb;nC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Xb=t,Xb}var Qb,iC;function TH(){if(iC)return Qb;iC=1;function t(e){return e!==e}return Qb=t,Qb}var Jb,aC;function AH(){if(aC)return Jb;aC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Jb=t,Jb}var Zb,oC;function kH(){if(oC)return Zb;oC=1;var t=HL(),e=TH(),r=AH();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Zb=n,Zb}var e_,sC;function PH(){if(sC)return e_;sC=1;var t=kH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return e_=e,e_}var t_,lC;function IH(){if(lC)return t_;lC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return t_=t,t_}var r_,uC;function OH(){if(uC)return r_;uC=1;function t(){}return r_=t,r_}var n_,cC;function CH(){if(cC)return n_;cC=1;var t=qL(),e=OH(),r=LE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return n_=i,n_}var i_,fC;function NH(){if(fC)return i_;fC=1;var t=jL(),e=PH(),r=IH(),n=DL(),i=CH(),a=LE(),s=200;function u(c,f,h){var m=-1,v=e,b=c.length,x=!0,E=[],w=E;if(h)x=!1,v=r;else if(b>=s){var C=f?null:i(c);if(C)return a(C);x=!1,v=n,w=new t}else w=f?[]:E;e:for(;++m<b;){var O=c[m],P=f?f(O):O;if(O=h||O!==0?O:0,x&&P===P){for(var $=w.length;$--;)if(w[$]===P)continue e;f&&w.push(P),E.push(O)}else v(w,P,h)||(w!==E&&w.push(P),E.push(O))}return E}return i_=u,i_}var a_,dC;function RH(){if(dC)return a_;dC=1;var t=ha(),e=NH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return a_=r,a_}var jH=RH();const hC=vt(jH);function KL(t,e,r){return e===!0?hC(t,r):Ye(e)?hC(t,e):t}function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}var MH=["ref"];function pC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(r),!0).forEach(function(n){fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YL(n.key),n)}}function LH(t,e,r){return e&&mC(t.prototype,e),r&&mC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $H(t,e,r){return e=Hp(e),FH(t,GL()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function FH(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VH(t)}function VH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function BH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function fg(t,e,r){return e=YL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YL(t){var e=UH(t,"string");return vu(e)=="symbol"?e:e+""}function UH(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qH(t,e){if(t==null)return{};var r=zH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WH(t){return t.value}function HH(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=qH(e,MH);return W.createElement(DE,r)}var gC=1,qo=function(t){function e(){var r;DH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$H(this,e,[].concat(i)),fg(r,"lastBoundingBox",{width:-1,height:-1}),r}return BH(e,t),LH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gC||Math.abs(i.height-this.lastBoundingBox.height)>gC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Oa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();v={top:((h||0)-x.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Oa(Oa({},m),v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Oa(Oa({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},HH(a,Oa(Oa({},this.props),{},{payload:KL(h,f,WH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Oa(Oa({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(K.PureComponent);fg(qo,"displayName","Legend");fg(qo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var o_,yC;function KH(){if(yC)return o_;yC=1;var t=_d(),e=$E(),r=Sn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return o_=i,o_}var s_,vC;function XL(){if(vC)return s_;vC=1;var t=$L(),e=KH();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return s_=r,s_}var l_,bC;function GH(){if(bC)return l_;bC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return l_=t,l_}var u_,_C;function YH(){if(_C)return u_;_C=1;var t=GH(),e=t();return u_=e,u_}var c_,xC;function QL(){if(xC)return c_;xC=1;var t=YH(),e=cg();function r(n,i){return n&&t(n,i,e)}return c_=r,c_}var f_,wC;function XH(){if(wC)return f_;wC=1;var t=Ed();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return f_=e,f_}var d_,EC;function UE(){if(EC)return d_;EC=1;var t=QL(),e=XH(),r=e(t);return d_=r,d_}var h_,SC;function JL(){if(SC)return h_;SC=1;var t=UE(),e=Ed();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return h_=r,h_}var p_,TC;function QH(){if(TC)return p_;TC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return p_=t,p_}var m_,AC;function JH(){if(AC)return m_;AC=1;var t=zu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!m&&r<n||m&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return m_=e,m_}var g_,kC;function ZH(){if(kC)return g_;kC=1;var t=JH();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return g_=e,g_}var y_,PC;function eK(){if(PC)return y_;PC=1;var t=PE(),e=IE(),r=ha(),n=JL(),i=QH(),a=VL(),s=ZH(),u=Hu(),c=Sn();function f(h,m,v){m.length?m=t(m,function(E){return c(E)?function(w){return e(w,E.length===1?E[0]:E)}:E}):m=[u];var b=-1;m=t(m,a(r));var x=n(h,function(E,w,C){var O=t(m,function(P){return P(E)});return{criteria:O,index:++b,value:E}});return i(x,function(E,w){return s(E,w,v)})}return y_=f,y_}var v_,IC;function tK(){if(IC)return v_;IC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return v_=t,v_}var b_,OC;function rK(){if(OC)return b_;OC=1;var t=tK(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return b_=r,b_}var __,CC;function nK(){if(CC)return __;CC=1;function t(e){return function(){return e}}return __=t,__}var x_,NC;function ZL(){if(NC)return x_;NC=1;var t=ol(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return x_=e,x_}var w_,RC;function iK(){if(RC)return w_;RC=1;var t=nK(),e=ZL(),r=Hu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return w_=n,w_}var E_,jC;function aK(){if(jC)return E_;jC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return E_=n,E_}var S_,MC;function oK(){if(MC)return S_;MC=1;var t=iK(),e=aK(),r=e(t);return S_=r,S_}var T_,DC;function sK(){if(DC)return T_;DC=1;var t=Hu(),e=rK(),r=oK();function n(i,a){return r(e(i,a,t),i+"")}return T_=n,T_}var A_,LC;function dg(){if(LC)return A_;LC=1;var t=TE(),e=Ed(),r=FE(),n=es();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return A_=i,A_}var k_,$C;function lK(){if($C)return k_;$C=1;var t=XL(),e=eK(),r=sK(),n=dg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return k_=i,k_}var uK=lK();const qE=vt(uK);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function cK(t,e){return pK(t)||hK(t,e)||dK(t,e)||fK()}function fK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function pK(t){if(Array.isArray(t))return t}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){mK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mK(t,e,r){return e=gK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gK(t){var e=yK(t,"string");return Ef(e)=="symbol"?e:e+""}function yK(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vK(t){return Array.isArray(t)&&yr(t[0])&&yr(t[1])?t.join(" ~ "):t}var bK=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,v=e.itemSorter,b=e.wrapperClassName,x=e.labelClassName,E=e.label,w=e.labelFormatter,C=e.accessibilityLayer,O=C===void 0?!1:C,P=function(){if(h&&h.length){var V={padding:0,margin:0},M=(v?qE(h,v):h).map(function(Z,te){if(Z.type==="none")return null;var ne=P_({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),ae=Z.formatter||m||vK,Q=Z.value,ie=Z.name,oe=Q,q=ie;if(ae&&oe!=null&&q!=null){var G=ae(Q,ie,Z,te,h);if(Array.isArray(G)){var ce=cK(G,2);oe=ce[0],q=ce[1]}else oe=G}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:ne},yr(q)?W.createElement("span",{className:"recharts-tooltip-item-name"},q):null,yr(q)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},oe),W.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:V},M)}return null},$=P_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=P_({margin:0},f),j=!tt(E),A=j?E:"",k=Ze("recharts-default-tooltip",b),R=Ze("recharts-tooltip-label",x);j&&w&&h!==void 0&&h!==null&&(A=w(E,h));var F=O?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",vw({className:k,style:$},F),W.createElement("p",{className:R,style:N},W.isValidElement(A)?A:"".concat(A)),P())};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Zh(t,e,r){return e=_K(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _K(t){var e=xK(t,"string");return Sf(e)=="symbol"?e:e+""}function xK(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rc="recharts-tooltip-wrapper",wK={visibility:"hidden"};function EK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ze(Rc,Zh(Zh(Zh(Zh({},"".concat(Rc,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Rc,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Rc,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Rc,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function BC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var h=r[n]-u-i,m=r[n]+i;if(e[n])return s[n]?h:m;if(s[n]){var v=h,b=c[n];return v<b?Math.max(m,c[n]):Math.max(h,c[n])}var x=m+u,E=c[n]+f;return x>E?Math.max(h,c[n]):Math.max(m,c[n])}function SK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function TK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=BC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=BC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=SK({translateX:h,translateY:m,useTranslate3d:u})):f=wK,{cssProperties:f,cssClasses:EK({translateX:h,translateY:m,coordinate:r})}}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function UC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(n){_w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function PK(t,e,r){return e&&kK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IK(t,e,r){return e=Kp(e),OK(t,e$()?Reflect.construct(e,r||[],Kp(t).constructor):e.apply(t,r))}function OK(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CK(t)}function CK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(t)}function NK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bw(t,e)}function _w(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=RK(t,"string");return bu(e)=="symbol"?e:e+""}function RK(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zC=1,jK=function(t){function e(){var r;AK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IK(this,e,[].concat(i)),_w(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_w(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return NK(e,t),PK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>zC||Math.abs(n.height-this.state.lastBoundingBox.height)>zC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,b=i.offset,x=i.position,E=i.reverseDirection,w=i.useTranslate3d,C=i.viewBox,O=i.wrapperStyle,P=TK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:x,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:C}),$=P.cssClasses,N=P.cssProperties,j=qC(qC({transition:v&&a?"transform ".concat(u,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},O);return W.createElement("div",{tabIndex:-1,className:$,style:j,ref:function(k){n.wrapperNode=k}},f)}}])}(K.PureComponent),MK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ku={isSsr:MK()};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){zE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n$(n.key),n)}}function $K(t,e,r){return e&&LK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FK(t,e,r){return e=Gp(e),VK(t,r$()?Reflect.construct(e,r||[],Gp(t).constructor):e.apply(t,r))}function VK(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BK(t)}function BK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(t)}function UK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function zE(t,e,r){return e=n$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t){var e=qK(t,"string");return _u(e)=="symbol"?e:e+""}function qK(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zK(t){return t.dataKey}function WK(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(bK,e)}var oi=function(t){function e(){return DK(this,e),FK(this,e,arguments)}return UK(e,t),$K(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,v=i.isAnimationActive,b=i.offset,x=i.payload,E=i.payloadUniqBy,w=i.position,C=i.reverseDirection,O=i.useTranslate3d,P=i.viewBox,$=i.wrapperStyle,N=x??[];m&&N.length&&(N=KL(x.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),E,zK));var j=N.length>0;return W.createElement(jK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:a,coordinate:h,hasPayload:j,offset:b,position:w,reverseDirection:C,useTranslate3d:O,viewBox:P,wrapperStyle:$},WK(f,HC(HC({},this.props),{},{payload:N})))}}])}(K.PureComponent);zE(oi,"displayName","Tooltip");zE(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ku.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var I_,KC;function HK(){if(KC)return I_;KC=1;var t=da(),e=function(){return t.Date.now()};return I_=e,I_}var O_,GC;function KK(){if(GC)return O_;GC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return O_=e,O_}var C_,YC;function GK(){if(YC)return C_;YC=1;var t=KK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return C_=r,C_}var N_,XC;function i$(){if(XC)return N_;XC=1;var t=GK(),e=es(),r=zu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return N_=c,N_}var R_,QC;function YK(){if(QC)return R_;QC=1;var t=es(),e=HK(),r=i$(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,m,v,b,x,E,w=0,C=!1,O=!1,P=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(C=!!f.leading,O="maxWait"in f,v=O?i(r(f.maxWait)||0,c):v,P="trailing"in f?!!f.trailing:P);function $(M){var Z=h,te=m;return h=m=void 0,w=M,b=u.apply(te,Z),b}function N(M){return w=M,x=setTimeout(k,c),C?$(M):b}function j(M){var Z=M-E,te=M-w,ne=c-Z;return O?a(ne,v-te):ne}function A(M){var Z=M-E,te=M-w;return E===void 0||Z>=c||Z<0||O&&te>=v}function k(){var M=e();if(A(M))return R(M);x=setTimeout(k,j(M))}function R(M){return x=void 0,P&&h?$(M):(h=m=void 0,b)}function F(){x!==void 0&&clearTimeout(x),w=0,h=E=m=x=void 0}function L(){return x===void 0?b:R(e())}function V(){var M=e(),Z=A(M);if(h=arguments,m=this,E=M,Z){if(x===void 0)return N(E);if(O)return clearTimeout(x),x=setTimeout(k,c),$(E)}return x===void 0&&(x=setTimeout(k,c)),b}return V.cancel=F,V.flush=L,V}return R_=s,R_}var j_,JC;function XK(){if(JC)return j_;JC=1;var t=YK(),e=es(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return j_=n,j_}var QK=XK();const a$=vt(QK);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){JK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JK(t,e,r){return e=ZK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZK(t){var e=eG(t,"string");return Tf(e)=="symbol"?e:e+""}function eG(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tG(t,e){return aG(t)||iG(t,e)||nG(t,e)||rG()}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nG(t,e){if(t){if(typeof t=="string")return eN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(t,e)}}function eN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function aG(t){if(Array.isArray(t))return t}var WE=K.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,v=t.maxHeight,b=t.children,x=t.debounce,E=x===void 0?0:x,w=t.id,C=t.className,O=t.onResize,P=t.style,$=P===void 0?{}:P,N=K.useRef(null),j=K.useRef();j.current=O,K.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=K.useState({containerWidth:i.width,containerHeight:i.height}),k=tG(A,2),R=k[0],F=k[1],L=K.useCallback(function(M,Z){F(function(te){var ne=Math.round(M),ae=Math.round(Z);return te.containerWidth===ne&&te.containerHeight===ae?te:{containerWidth:ne,containerHeight:ae}})},[]);K.useEffect(function(){var M=function(ie){var oe,q=ie[0].contentRect,G=q.width,ce=q.height;L(G,ce),(oe=j.current)===null||oe===void 0||oe.call(j,G,ce)};E>0&&(M=a$(M,E,{trailing:!0,leading:!1}));var Z=new ResizeObserver(M),te=N.current.getBoundingClientRect(),ne=te.width,ae=te.height;return L(ne,ae),Z.observe(N.current),function(){Z.disconnect()}},[L,E]);var V=K.useMemo(function(){var M=R.containerWidth,Z=R.containerHeight;if(M<0||Z<0)return null;Ri(js(s)||js(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Ri(!r||r>0,"The aspect(%s) must be greater than zero.",r);var te=js(s)?M:s,ne=js(c)?Z:c;r&&r>0&&(te?ne=te/r:ne&&(te=ne*r),v&&ne>v&&(ne=v)),Ri(te>0||ne>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,ne,s,c,h,m,r);var ae=!Array.isArray(b)&&Fa(b.type).endsWith("Chart");return W.Children.map(b,function(Q){return W.isValidElement(Q)?K.cloneElement(Q,ep({width:te,height:ne},ae?{style:ep({height:"100%",width:"100%",maxHeight:ne,maxWidth:te},Q.props.style)}:{})):Q})},[r,b,c,v,m,h,R,s]);return W.createElement("div",{id:w?"".concat(w):void 0,className:Ze("recharts-responsive-container",C),style:ep(ep({},$),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:v}),ref:N},V)}),hg=function(e){return null};hg.displayName="Cell";function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){oG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oG(t,e,r){return e=sG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sG(t){var e=lG(t,"string");return Af(e)=="symbol"?e:e+""}function lG(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ql={widthCache:{},cacheCount:0},uG=2e3,cG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function fG(t){var e=ww({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var af=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ku.isSsr)return{width:0,height:0};var n=fG(r),i=JSON.stringify({text:e,copyStyle:n});if(ql.widthCache[i])return ql.widthCache[i];try{var a=document.getElementById(rN);a||(a=document.createElement("span"),a.setAttribute("id",rN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=ww(ww({},cG),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return ql.widthCache[i]=c,++ql.cacheCount>uG&&(ql.cacheCount=0,ql.widthCache={}),c}catch{return{width:0,height:0}}},dG=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function Yp(t,e){return gG(t)||mG(t,e)||pG(t,e)||hG()}function hG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pG(t,e){if(t){if(typeof t=="string")return nN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(t,e)}}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function gG(t){if(Array.isArray(t))return t}function yG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bG(n.key),n)}}function vG(t,e,r){return e&&iN(t.prototype,e),r&&iN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bG(t){var e=_G(t,"string");return kf(e)=="symbol"?e:e+""}function _G(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},EG=Object.keys(o$),Xl="NaN";function SG(t,e){return t*o$[e]}var tp=function(){function t(e,r){yG(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!xG.test(r)&&(this.num=NaN,this.unit=""),EG.includes(r)&&(this.num=SG(e,r),this.unit="px")}return vG(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=wG.exec(r))!==null&&n!==void 0?n:[],a=Yp(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function s$(t){if(t.includes(Xl))return Xl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=aN.exec(e))!==null&&r!==void 0?r:[],i=Yp(n,4),a=i[1],s=i[2],u=i[3],c=tp.parse(a??""),f=tp.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Xl;e=e.replace(aN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=oN.exec(e))!==null&&m!==void 0?m:[],b=Yp(v,4),x=b[1],E=b[2],w=b[3],C=tp.parse(x??""),O=tp.parse(w??""),P=E==="+"?C.add(O):C.subtract(O);if(P.isNaN())return Xl;e=e.replace(oN,P.toString())}return e}var sN=/\(([^()]*)\)/;function TG(t){for(var e=t;e.includes("(");){var r=sN.exec(e),n=Yp(r,2),i=n[1];e=e.replace(sN,s$(i))}return e}function AG(t){var e=t.replace(/\s+/g,"");return e=TG(e),e=s$(e),e}function kG(t){try{return AG(t)}catch{return Xl}}function M_(t){var e=kG(t.slice(5,-1));return e===Xl?"":e}var PG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IG=["dx","dy","angle","className","breakAll"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ew.apply(this,arguments)}function lN(t,e){if(t==null)return{};var r=OG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uN(t,e){return jG(t)||RG(t,e)||NG(t,e)||CG()}function CG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NG(t,e){if(t){if(typeof t=="string")return cN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function jG(t){if(Array.isArray(t))return t}var l$=/[ \f\n\r\t\v\u2028\u2029]+/,u$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];tt(r)||(n?a=r.toString().split(""):a=r.toString().split(l$));var s=a.map(function(c){return{word:c,width:af(c,i).width}}),u=n?0:af("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},MG=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=ve(s),m=u,v=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(ne,ae){var Q=ae.word,ie=ae.width,oe=ne[ne.length-1];if(oe&&(i==null||a||oe.width+ie+n<Number(i)))oe.words.push(Q),oe.width+=ie+n;else{var q={words:[Q],width:ie};ne.push(q)}return ne},[])},b=v(r),x=function(te){return te.reduce(function(ne,ae){return ne.width>ae.width?ne:ae})};if(!h)return b;for(var E="",w=function(te){var ne=m.slice(0,te),ae=u$({breakAll:f,style:c,children:ne+E}).wordsWithComputedWidth,Q=v(ae),ie=Q.length>s||x(Q).width>Number(i);return[ie,Q]},C=0,O=m.length-1,P=0,$;C<=O&&P<=m.length-1;){var N=Math.floor((C+O)/2),j=N-1,A=w(j),k=uN(A,2),R=k[0],F=k[1],L=w(N),V=uN(L,1),M=V[0];if(!R&&!M&&(C=N+1),R&&M&&(O=N-1),!R&&M){$=F;break}P++}return $||b},fN=function(e){var r=tt(e)?[]:e.toString().split(l$);return[{words:r}]},DG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!Ku.isSsr){var c,f,h=u$({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,v=h.spaceWidth;c=m,f=v}else return fN(i);return MG({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return fN(i)},dN="#808080",Qs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,v=e.textAnchor,b=v===void 0?"start":v,x=e.verticalAnchor,E=x===void 0?"end":x,w=e.fill,C=w===void 0?dN:w,O=lN(e,PG),P=K.useMemo(function(){return DG({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:m,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,m,O.style,O.width]),$=O.dx,N=O.dy,j=O.angle,A=O.className,k=O.breakAll,R=lN(O,IG);if(!yr(n)||!yr(a))return null;var F=n+(ve($)?$:0),L=a+(ve(N)?N:0),V;switch(E){case"start":V=M_("calc(".concat(f,")"));break;case"middle":V=M_("calc(".concat((P.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=M_("calc(".concat(P.length-1," * -").concat(u,")"));break}var M=[];if(m){var Z=P[0].width,te=O.width;M.push("scale(".concat((ve(te)?te/Z:1)/Z,")"))}return j&&M.push("rotate(".concat(j,", ").concat(F,", ").concat(L,")")),M.length&&(R.transform=M.join(" ")),W.createElement("text",Ew({},Ke(R,!0),{x:F,y:L,className:Ze("recharts-text",A),textAnchor:b,fill:C.includes("url")?dN:C}),P.map(function(ne,ae){var Q=ne.words.join(k?"":" ");return W.createElement("tspan",{x:F,dy:ae===0?V:u,key:"".concat(Q,"-").concat(ae)},Q)}))};function zo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HE(t){let e,r,n;t.length!==2?(e=zo,r=(u,c)=>zo(t(u),c),n=(u,c)=>t(u)-c):(e=t===zo||t===LG?t:$G,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&n(u[m-1],c)>-n(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function $G(){return 0}function c$(t){return t===null?NaN:+t}function*FG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const VG=HE(zo),Sd=VG.right;HE(c$).center;class hN extends Map{constructor(e,r=qG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(pN(this,e))}has(e){return super.has(pN(this,e))}set(e,r){return super.set(BG(this,e),r)}delete(e){return super.delete(UG(this,e))}}function pN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function BG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function UG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function qG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zG(t=zo){if(t===zo)return f$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function f$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WG=Math.sqrt(50),HG=Math.sqrt(10),KG=Math.sqrt(2);function Xp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=WG?10:a>=HG?5:a>=KG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?Xp(t,e,r*2):[u,c,f]}function Sw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Xp(e,t,r):Xp(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Tw(t,e,r){return e=+e,t=+t,r=+r,Xp(t,e,r)[2]}function Aw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Tw(e,t,r):Tw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function mN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function d$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?f$:zG(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),b=Math.max(r,Math.floor(e-f*m/c+v)),x=Math.min(n,Math.floor(e+(c-f)*m/c+v));d$(t,e,b,x,i)}const a=t[e];let s=r,u=n;for(jc(t,r,e),i(t[n],a)>0&&jc(t,r,n);s<u;){for(jc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?jc(t,r,u):(++u,jc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function jc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function GG(t,e,r){if(t=Float64Array.from(FG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return gN(t);if(e>=1)return mN(t);var n,i=(n-1)*e,a=Math.floor(i),s=mN(d$(t,a).subarray(0,a+1)),u=gN(t.subarray(a+1));return s+(u-s)*(i-a)}}function YG(t,e,r=c$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function XG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ja(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const kw=Symbol("implicit");function KE(){var t=new hN,e=[],r=[],n=kw;function i(a){let s=t.get(a);if(s===void 0){if(n!==kw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new hN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return KE(e,r).unknown(n)},fi.apply(i,arguments),i}function Pf(){var t=KE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var v=e().length,b=i<n,x=b?i:n,E=b?n:i;a=(E-x)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),x+=(E-x-a*(v-c))*h,s=a*(1-c),u&&(x=Math.round(x),s=Math.round(s));var w=XG(v).map(function(C){return x+a*C});return r(b?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return Pf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},fi.apply(m(),arguments)}function h$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return h$(e())},t}function of(){return h$(Pf.apply(null,arguments).paddingInner(1))}function GE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function p$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Td(){}var If=.7,Qp=1/If,su="\\s*([+-]?\\d+)\\s*",Of="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QG=/^#([0-9a-f]{3,8})$/,JG=new RegExp(`^rgb\\(${su},${su},${su}\\)$`),ZG=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),eY=new RegExp(`^rgba\\(${su},${su},${su},${Of}\\)$`),tY=new RegExp(`^rgba\\(${oa},${oa},${oa},${Of}\\)$`),rY=new RegExp(`^hsl\\(${Of},${oa},${oa}\\)$`),nY=new RegExp(`^hsla\\(${Of},${oa},${oa},${Of}\\)$`),yN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GE(Td,Cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vN,formatHex:vN,formatHex8:iY,formatHsl:aY,formatRgb:bN,toString:bN});function vN(){return this.rgb().formatHex()}function iY(){return this.rgb().formatHex8()}function aY(){return m$(this).formatHsl()}function bN(){return this.rgb().formatRgb()}function Cf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=QG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_N(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?rp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?rp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JG.exec(t))?new En(e[1],e[2],e[3],1):(e=ZG.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eY.exec(t))?rp(e[1],e[2],e[3],e[4]):(e=tY.exec(t))?rp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rY.exec(t))?EN(e[1],e[2]/100,e[3]/100,1):(e=nY.exec(t))?EN(e[1],e[2]/100,e[3]/100,e[4]):yN.hasOwnProperty(t)?_N(yN[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function _N(t){return new En(t>>16&255,t>>8&255,t&255,1)}function rp(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function oY(t){return t instanceof Td||(t=Cf(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function Pw(t,e,r,n){return arguments.length===1?oY(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}GE(En,Pw,p$(Td,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?If:Math.pow(If,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(Vs(this.r),Vs(this.g),Vs(this.b),Jp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xN,formatHex:xN,formatHex8:sY,formatRgb:wN,toString:wN}));function xN(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function sY(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function wN(){const t=Jp(this.opacity);return`${t===1?"rgb(":"rgba("}${Vs(this.r)}, ${Vs(this.g)}, ${Vs(this.b)}${t===1?")":`, ${t})`}`}function Jp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ms(t){return t=Vs(t),(t<16?"0":"")+t.toString(16)}function EN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,r,n)}function m$(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Td||(t=Cf(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Ni(s,u,c,t.opacity)}function lY(t,e,r,n){return arguments.length===1?m$(t):new Ni(t,e,r,n??1)}function Ni(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}GE(Ni,lY,p$(Td,{brighter(t){return t=t==null?Qp:Math.pow(Qp,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?If:Math.pow(If,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(D_(t>=240?t-240:t+120,i,n),D_(t,i,n),D_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ni(SN(this.h),np(this.s),np(this.l),Jp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jp(this.opacity);return`${t===1?"hsl(":"hsla("}${SN(this.h)}, ${np(this.s)*100}%, ${np(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SN(t){return t=(t||0)%360,t<0?t+360:t}function np(t){return Math.max(0,Math.min(1,t||0))}function D_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const YE=t=>()=>t;function uY(t,e){return function(r){return t+r*e}}function cY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fY(t){return(t=+t)==1?g$:function(e,r){return r-e?cY(e,r,t):YE(isNaN(e)?r:e)}}function g$(t,e){var r=e-t;return r?uY(t,r):YE(isNaN(t)?e:t)}const TN=function t(e){var r=fY(e);function n(i,a){var s=r((i=Pw(i)).r,(a=Pw(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=g$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function dY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function hY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Gu(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function mY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Zp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function gY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Gu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L_=new RegExp(Iw.source,"g");function yY(t){return function(){return t}}function vY(t){return function(e){return t(e)+""}}function bY(t,e){var r=Iw.lastIndex=L_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Iw.exec(t))&&(i=L_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Zp(n,i)})),r=L_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?vY(c[0].x):yY(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function Gu(t,e){var r=typeof e,n;return e==null||r==="boolean"?YE(e):(r==="number"?Zp:r==="string"?(n=Cf(e))?(e=n,TN):bY:e instanceof Cf?TN:e instanceof Date?mY:hY(e)?dY:Array.isArray(e)?pY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gY:Zp)(t,e)}function XE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function _Y(t,e){e===void 0&&(e=t,t=Gu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function xY(t){return function(){return t}}function em(t){return+t}var AN=[0,1];function ln(t){return t}function Ow(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:xY(isNaN(e)?NaN:.5)}function wY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function EY(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Ow(i,n),a=r(s,a)):(n=Ow(n,i),a=r(a,s)),function(u){return a(n(u))}}function SY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Ow(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=Sd(t,u,1,n)-1;return a[c](i[c](u))}}function Ad(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pg(){var t=AN,e=AN,r=Gu,n,i,a,s=ln,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==ln&&(s=wY(t[0],t[v-1])),u=v>2?SY:EY,c=f=null,m}function m(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(n),e,r)))(n(s(v)))}return m.invert=function(v){return s(i((f||(f=u(e,t.map(n),Zp)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,em),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=XE,h()},m.clamp=function(v){return arguments.length?(s=v?!0:ln,h()):s!==ln},m.interpolate=function(v){return arguments.length?(r=v,h()):r},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,b){return n=v,i=b,h()}}function QE(){return pg()(ln,ln)}function TY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xu(t){return t=tm(Math.abs(t)),t?t[1]:NaN}function AY(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function kY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var PY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nf(t){if(!(e=PY.exec(t)))throw new Error("invalid format: "+t);var e;return new JE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nf.prototype=JE.prototype;function JE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}JE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var y$;function OY(t,e){var r=tm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(y$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+tm(t,Math.max(0,e+a-1))[0]}function kN(t,e){var r=tm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const PN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kN(t*100,e),r:kN,s:OY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IN(t){return t}var ON=Array.prototype.map,CN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CY(t){var e=t.grouping===void 0||t.thousands===void 0?IN:AY(ON.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?IN:kY(ON.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Nf(m);var v=m.fill,b=m.align,x=m.sign,E=m.symbol,w=m.zero,C=m.width,O=m.comma,P=m.precision,$=m.trim,N=m.type;N==="n"?(O=!0,N="g"):PN[N]||(P===void 0&&(P=12),$=!0,N="g"),(w||v==="0"&&b==="=")&&(w=!0,v="0",b="=");var j=E==="$"?r:E==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=E==="$"?n:/[%p]/.test(N)?s:"",k=PN[N],R=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function F(L){var V=j,M=A,Z,te,ne;if(N==="c")M=k(L)+M,L="";else{L=+L;var ae=L<0||1/L<0;if(L=isNaN(L)?c:k(Math.abs(L),P),$&&(L=IY(L)),ae&&+L==0&&x!=="+"&&(ae=!1),V=(ae?x==="("?x:u:x==="-"||x==="("?"":x)+V,M=(N==="s"?CN[8+y$/3]:"")+M+(ae&&x==="("?")":""),R){for(Z=-1,te=L.length;++Z<te;)if(ne=L.charCodeAt(Z),48>ne||ne>57){M=(ne===46?i+L.slice(Z+1):L.slice(Z))+M,L=L.slice(0,Z);break}}}O&&!w&&(L=e(L,1/0));var Q=V.length+L.length+M.length,ie=Q<C?new Array(C-Q+1).join(v):"";switch(O&&w&&(L=e(ie+L,ie.length?C-M.length:1/0),ie=""),b){case"<":L=V+L+M+ie;break;case"=":L=V+ie+L+M;break;case"^":L=ie.slice(0,Q=ie.length>>1)+V+L+M+ie.slice(Q);break;default:L=ie+V+L+M;break}return a(L)}return F.toString=function(){return m+""},F}function h(m,v){var b=f((m=Nf(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(xu(v)/3)))*3,E=Math.pow(10,-x),w=CN[8+x/3];return function(C){return b(E*C)+w}}return{format:f,formatPrefix:h}}var ip,ZE,v$;NY({thousands:",",grouping:[3],currency:["$",""]});function NY(t){return ip=CY(t),ZE=ip.format,v$=ip.formatPrefix,ip}function RY(t){return Math.max(0,-xu(Math.abs(t)))}function jY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xu(e)/3)))*3-xu(Math.abs(t)))}function MY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xu(e)-xu(t))+1}function b$(t,e,r,n){var i=Aw(t,e,r),a;switch(n=Nf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=jY(i,s))&&(n.precision=a),v$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=MY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=RY(i))&&(n.precision=a-(n.type==="%")*2);break}}return ZE(n)}function ts(t){var e=t.domain;return t.ticks=function(r){var n=e();return Sw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return b$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Tw(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function rm(){var t=QE();return t.copy=function(){return Ad(t,rm())},fi.apply(t,arguments),ts(t)}function _$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,em),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _$(t).unknown(e)},t=arguments.length?Array.from(t,em):[0,1],ts(r)}function x$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function NN(t){return Math.log(t)}function RN(t){return Math.exp(t)}function DY(t){return-Math.log(-t)}function LY(t){return-Math.exp(-t)}function $Y(t){return isFinite(t)?+("1e"+t):t<0?0:t}function FY(t){return t===10?$Y:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jN(t){return(e,r)=>-t(-e,r)}function eS(t){const e=t(NN,RN),r=e.domain;let n=10,i,a;function s(){return i=VY(n),a=FY(n),r()[0]<0?(i=jN(i),a=jN(a),t(DY,LY)):t(NN,RN),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let v=i(f),b=i(h),x,E;const w=u==null?10:+u;let C=[];if(!(n%1)&&b-v<w){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(x=1;x<n;++x)if(E=v<0?x/a(-v):x*a(v),!(E<f)){if(E>h)break;C.push(E)}}else for(;v<=b;++v)for(x=n-1;x>=1;--x)if(E=v>0?x/a(-v):x*a(v),!(E<f)){if(E>h)break;C.push(E)}C.length*2<w&&(C=Sw(f,h,w))}else C=Sw(v,b,Math.min(b-v,w)).map(a);return m?C.reverse():C},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Nf(c)).precision==null&&(c.trim=!0),c=ZE(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?c(h):""}},e.nice=()=>r(x$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function w$(){const t=eS(pg()).domain([1,10]);return t.copy=()=>Ad(t,w$()).base(t.base()),fi.apply(t,arguments),t}function MN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tS(t){var e=1,r=t(MN(e),DN(e));return r.constant=function(n){return arguments.length?t(MN(e=+n),DN(e)):e},ts(r)}function E$(){var t=tS(pg());return t.copy=function(){return Ad(t,E$()).constant(t.constant())},fi.apply(t,arguments)}function LN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function BY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UY(t){return t<0?-t*t:t*t}function rS(t){var e=t(ln,ln),r=1;function n(){return r===1?t(ln,ln):r===.5?t(BY,UY):t(LN(r),LN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ts(e)}function nS(){var t=rS(pg());return t.copy=function(){return Ad(t,nS()).exponent(t.exponent())},fi.apply(t,arguments),t}function qY(){return nS.apply(null,arguments).exponent(.5)}function $N(t){return Math.sign(t)*t*t}function zY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S$(){var t=QE(),e=[0,1],r=!1,n;function i(a){var s=zY(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert($N(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,em)).map($N)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fi.apply(i,arguments),ts(i)}function T$(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=YG(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Sd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(zo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return T$().domain(t).range(e).unknown(n)},fi.apply(a,arguments)}function A$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Sd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return A$().domain([t,e]).range(i).unknown(a)},fi.apply(ts(s),arguments)}function k$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return k$().domain(t).range(e).unknown(r)},fi.apply(i,arguments)}const $_=new Date,F_=new Date;function br(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>br(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>($_.setTime(+a),F_.setTime(+s),t($_),t(F_),Math.floor(r($_,F_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const nm=br(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?br(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):nm);nm.range;const Ma=1e3,li=Ma*60,Da=li*60,Ha=Da*24,iS=Ha*7,FN=Ha*30,V_=Ha*365,Ds=br(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ma)},(t,e)=>(e-t)/Ma,t=>t.getUTCSeconds());Ds.range;const aS=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getMinutes());aS.range;const oS=br(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*li)},(t,e)=>(e-t)/li,t=>t.getUTCMinutes());oS.range;const sS=br(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma-t.getMinutes()*li)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getHours());sS.range;const lS=br(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCHours());lS.range;const kd=br(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*li)/Ha,t=>t.getDate()-1);kd.range;const mg=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ha,t=>t.getUTCDate()-1);mg.range;const P$=br(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ha,t=>Math.floor(t/Ha));P$.range;function sl(t){return br(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*li)/iS)}const gg=sl(0),im=sl(1),WY=sl(2),HY=sl(3),wu=sl(4),KY=sl(5),GY=sl(6);gg.range;im.range;WY.range;HY.range;wu.range;KY.range;GY.range;function ll(t){return br(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/iS)}const yg=ll(0),am=ll(1),YY=ll(2),XY=ll(3),Eu=ll(4),QY=ll(5),JY=ll(6);yg.range;am.range;YY.range;XY.range;Eu.range;QY.range;JY.range;const uS=br(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uS.range;const cS=br(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cS.range;const Ka=br(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ka.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ka.range;const Ga=br(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:br(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ga.range;function I$(t,e,r,n,i,a){const s=[[Ds,1,Ma],[Ds,5,5*Ma],[Ds,15,15*Ma],[Ds,30,30*Ma],[a,1,li],[a,5,5*li],[a,15,15*li],[a,30,30*li],[i,1,Da],[i,3,3*Da],[i,6,6*Da],[i,12,12*Da],[n,1,Ha],[n,2,2*Ha],[r,1,iS],[e,1,FN],[e,3,3*FN],[t,1,V_]];function u(f,h,m){const v=h<f;v&&([f,h]=[h,f]);const b=m&&typeof m.range=="function"?m:c(f,h,m),x=b?b.range(f,+h+1):[];return v?x.reverse():x}function c(f,h,m){const v=Math.abs(h-f)/m,b=HE(([,,w])=>w).right(s,v);if(b===s.length)return t.every(Aw(f/V_,h/V_,m));if(b===0)return nm.every(Math.max(Aw(f,h,m),1));const[x,E]=s[v/s[b-1][2]<s[b][2]/v?b-1:b];return x.every(E)}return[u,c]}const[ZY,eX]=I$(Ga,cS,yg,P$,lS,oS),[tX,rX]=I$(Ka,uS,gg,kd,sS,aS);function B_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function nX(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Dc(i),h=Lc(i),m=Dc(a),v=Lc(a),b=Dc(s),x=Lc(s),E=Dc(u),w=Lc(u),C=Dc(c),O=Lc(c),P={a:ae,A:Q,b:ie,B:oe,c:null,d:WN,e:WN,f:AX,g:DX,G:$X,H:EX,I:SX,j:TX,L:O$,m:kX,M:PX,p:q,q:G,Q:GN,s:YN,S:IX,u:OX,U:CX,V:NX,w:RX,W:jX,x:null,X:null,y:MX,Y:LX,Z:FX,"%":KN},$={a:ce,A:xe,b:Re,B:be,c:null,d:HN,e:HN,f:qX,g:ZX,G:tQ,H:VX,I:BX,j:UX,L:N$,m:zX,M:WX,p:Me,q:Fe,Q:GN,s:YN,S:HX,u:KX,U:GX,V:YX,w:XX,W:QX,x:null,X:null,y:JX,Y:eQ,Z:rQ,"%":KN},N={a:F,A:L,b:V,B:M,c:Z,d:qN,e:qN,f:bX,g:UN,G:BN,H:zN,I:zN,j:mX,L:vX,m:pX,M:gX,p:R,q:hX,Q:xX,s:wX,S:yX,u:lX,U:uX,V:cX,w:sX,W:fX,x:te,X:ne,y:UN,Y:BN,Z:dX,"%":_X};P.x=j(r,P),P.X=j(n,P),P.c=j(e,P),$.x=j(r,$),$.X=j(n,$),$.c=j(e,$);function j(he,Oe){return function(qe){var le=[],st=-1,We=0,pt=he.length,Et,Ht,cr;for(qe instanceof Date||(qe=new Date(+qe));++st<pt;)he.charCodeAt(st)===37&&(le.push(he.slice(We,st)),(Ht=VN[Et=he.charAt(++st)])!=null?Et=he.charAt(++st):Ht=Et==="e"?" ":"0",(cr=Oe[Et])&&(Et=cr(qe,Ht)),le.push(Et),We=st+1);return le.push(he.slice(We,st)),le.join("")}}function A(he,Oe){return function(qe){var le=Mc(1900,void 0,1),st=k(le,he,qe+="",0),We,pt;if(st!=qe.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Oe&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(We=U_(Mc(le.y,0,1)),pt=We.getUTCDay(),We=pt>4||pt===0?am.ceil(We):am(We),We=mg.offset(We,(le.V-1)*7),le.y=We.getUTCFullYear(),le.m=We.getUTCMonth(),le.d=We.getUTCDate()+(le.w+6)%7):(We=B_(Mc(le.y,0,1)),pt=We.getDay(),We=pt>4||pt===0?im.ceil(We):im(We),We=kd.offset(We,(le.V-1)*7),le.y=We.getFullYear(),le.m=We.getMonth(),le.d=We.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),pt="Z"in le?U_(Mc(le.y,0,1)).getUTCDay():B_(Mc(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(pt+5)%7:le.w+le.U*7-(pt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,U_(le)):B_(le)}}function k(he,Oe,qe,le){for(var st=0,We=Oe.length,pt=qe.length,Et,Ht;st<We;){if(le>=pt)return-1;if(Et=Oe.charCodeAt(st++),Et===37){if(Et=Oe.charAt(st++),Ht=N[Et in VN?Oe.charAt(st++):Et],!Ht||(le=Ht(he,qe,le))<0)return-1}else if(Et!=qe.charCodeAt(le++))return-1}return le}function R(he,Oe,qe){var le=f.exec(Oe.slice(qe));return le?(he.p=h.get(le[0].toLowerCase()),qe+le[0].length):-1}function F(he,Oe,qe){var le=b.exec(Oe.slice(qe));return le?(he.w=x.get(le[0].toLowerCase()),qe+le[0].length):-1}function L(he,Oe,qe){var le=m.exec(Oe.slice(qe));return le?(he.w=v.get(le[0].toLowerCase()),qe+le[0].length):-1}function V(he,Oe,qe){var le=C.exec(Oe.slice(qe));return le?(he.m=O.get(le[0].toLowerCase()),qe+le[0].length):-1}function M(he,Oe,qe){var le=E.exec(Oe.slice(qe));return le?(he.m=w.get(le[0].toLowerCase()),qe+le[0].length):-1}function Z(he,Oe,qe){return k(he,e,Oe,qe)}function te(he,Oe,qe){return k(he,r,Oe,qe)}function ne(he,Oe,qe){return k(he,n,Oe,qe)}function ae(he){return s[he.getDay()]}function Q(he){return a[he.getDay()]}function ie(he){return c[he.getMonth()]}function oe(he){return u[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ce(he){return s[he.getUTCDay()]}function xe(he){return a[he.getUTCDay()]}function Re(he){return c[he.getUTCMonth()]}function be(he){return u[he.getUTCMonth()]}function Me(he){return i[+(he.getUTCHours()>=12)]}function Fe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Oe=j(he+="",P);return Oe.toString=function(){return he},Oe},parse:function(he){var Oe=A(he+="",!1);return Oe.toString=function(){return he},Oe},utcFormat:function(he){var Oe=j(he+="",$);return Oe.toString=function(){return he},Oe},utcParse:function(he){var Oe=A(he+="",!0);return Oe.toString=function(){return he},Oe}}}var VN={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,iX=/^%/,aX=/[\\^$*+?|[\]().{}]/g;function ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function oX(t){return t.replace(aX,"\\$&")}function Dc(t){return new RegExp("^(?:"+t.map(oX).join("|")+")","i")}function Lc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function sX(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function lX(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function uX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function cX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function BN(t,e,r){var n=Pr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function UN(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function dX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hX(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function pX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qN(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function mX(t,e,r){var n=Pr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function zN(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function gX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function yX(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function vX(t,e,r){var n=Pr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function bX(t,e,r){var n=Pr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _X(t,e,r){var n=iX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function xX(t,e,r){var n=Pr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function wX(t,e,r){var n=Pr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WN(t,e){return ft(t.getDate(),e,2)}function EX(t,e){return ft(t.getHours(),e,2)}function SX(t,e){return ft(t.getHours()%12||12,e,2)}function TX(t,e){return ft(1+kd.count(Ka(t),t),e,3)}function O$(t,e){return ft(t.getMilliseconds(),e,3)}function AX(t,e){return O$(t,e)+"000"}function kX(t,e){return ft(t.getMonth()+1,e,2)}function PX(t,e){return ft(t.getMinutes(),e,2)}function IX(t,e){return ft(t.getSeconds(),e,2)}function OX(t){var e=t.getDay();return e===0?7:e}function CX(t,e){return ft(gg.count(Ka(t)-1,t),e,2)}function C$(t){var e=t.getDay();return e>=4||e===0?wu(t):wu.ceil(t)}function NX(t,e){return t=C$(t),ft(wu.count(Ka(t),t)+(Ka(t).getDay()===4),e,2)}function RX(t){return t.getDay()}function jX(t,e){return ft(im.count(Ka(t)-1,t),e,2)}function MX(t,e){return ft(t.getFullYear()%100,e,2)}function DX(t,e){return t=C$(t),ft(t.getFullYear()%100,e,2)}function LX(t,e){return ft(t.getFullYear()%1e4,e,4)}function $X(t,e){var r=t.getDay();return t=r>=4||r===0?wu(t):wu.ceil(t),ft(t.getFullYear()%1e4,e,4)}function FX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function HN(t,e){return ft(t.getUTCDate(),e,2)}function VX(t,e){return ft(t.getUTCHours(),e,2)}function BX(t,e){return ft(t.getUTCHours()%12||12,e,2)}function UX(t,e){return ft(1+mg.count(Ga(t),t),e,3)}function N$(t,e){return ft(t.getUTCMilliseconds(),e,3)}function qX(t,e){return N$(t,e)+"000"}function zX(t,e){return ft(t.getUTCMonth()+1,e,2)}function WX(t,e){return ft(t.getUTCMinutes(),e,2)}function HX(t,e){return ft(t.getUTCSeconds(),e,2)}function KX(t){var e=t.getUTCDay();return e===0?7:e}function GX(t,e){return ft(yg.count(Ga(t)-1,t),e,2)}function R$(t){var e=t.getUTCDay();return e>=4||e===0?Eu(t):Eu.ceil(t)}function YX(t,e){return t=R$(t),ft(Eu.count(Ga(t),t)+(Ga(t).getUTCDay()===4),e,2)}function XX(t){return t.getUTCDay()}function QX(t,e){return ft(am.count(Ga(t)-1,t),e,2)}function JX(t,e){return ft(t.getUTCFullYear()%100,e,2)}function ZX(t,e){return t=R$(t),ft(t.getUTCFullYear()%100,e,2)}function eQ(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function tQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Eu(t):Eu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function rQ(){return"+0000"}function KN(){return"%"}function GN(t){return+t}function YN(t){return Math.floor(+t/1e3)}var zl,j$,M$;nQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nQ(t){return zl=nX(t),j$=zl.format,zl.parse,M$=zl.utcFormat,zl.utcParse,zl}function iQ(t){return new Date(t)}function aQ(t){return t instanceof Date?+t:+new Date(+t)}function fS(t,e,r,n,i,a,s,u,c,f){var h=QE(),m=h.invert,v=h.domain,b=f(".%L"),x=f(":%S"),E=f("%I:%M"),w=f("%I %p"),C=f("%a %d"),O=f("%b %d"),P=f("%B"),$=f("%Y");function N(j){return(c(j)<j?b:u(j)<j?x:s(j)<j?E:a(j)<j?w:n(j)<j?i(j)<j?C:O:r(j)<j?P:$)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?v(Array.from(j,aQ)):v().map(iQ)},h.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?N:f(A)},h.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(x$(A,j)):h},h.copy=function(){return Ad(h,fS(t,e,r,n,i,a,s,u,c,f))},h}function oQ(){return fi.apply(fS(tX,rX,Ka,uS,gg,kd,sS,aS,Ds,j$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sQ(){return fi.apply(fS(ZY,eX,Ga,cS,yg,mg,lS,oS,Ds,M$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var t=0,e=1,r,n,i,a,s=ln,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(v){var b,x;return arguments.length?([b,x]=v,s=m(b,x),f):[s(0),s(1)]}}return f.range=h(Gu),f.rangeRound=h(XE),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function rs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D$(){var t=ts(vg()(ln));return t.copy=function(){return rs(t,D$())},Ja.apply(t,arguments)}function L$(){var t=eS(vg()).domain([1,10]);return t.copy=function(){return rs(t,L$()).base(t.base())},Ja.apply(t,arguments)}function $$(){var t=tS(vg());return t.copy=function(){return rs(t,$$()).constant(t.constant())},Ja.apply(t,arguments)}function dS(){var t=rS(vg());return t.copy=function(){return rs(t,dS()).exponent(t.exponent())},Ja.apply(t,arguments)}function lQ(){return dS.apply(null,arguments).exponent(.5)}function F$(){var t=[],e=ln;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(zo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>GG(t,a/n))},r.copy=function(){return F$(e).domain(t)},Ja.apply(r,arguments)}function bg(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=ln,h,m=!1,v;function b(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-a)*(n*E<n*a?u:c),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function x(E){return function(w){var C,O,P;return arguments.length?([C,O,P]=w,f=_Y(E,[C,O,P]),b):[f(0),f(.5),f(1)]}}return b.range=x(Gu),b.rangeRound=x(XE),b.unknown=function(E){return arguments.length?(v=E,b):v},function(E){return h=E,i=E(t),a=E(e),s=E(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function V$(){var t=ts(bg()(ln));return t.copy=function(){return rs(t,V$())},Ja.apply(t,arguments)}function B$(){var t=eS(bg()).domain([.1,1,10]);return t.copy=function(){return rs(t,B$()).base(t.base())},Ja.apply(t,arguments)}function U$(){var t=tS(bg());return t.copy=function(){return rs(t,U$()).constant(t.constant())},Ja.apply(t,arguments)}function hS(){var t=rS(bg());return t.copy=function(){return rs(t,hS()).exponent(t.exponent())},Ja.apply(t,arguments)}function uQ(){return hS.apply(null,arguments).exponent(.5)}const XN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Pf,scaleDiverging:V$,scaleDivergingLog:B$,scaleDivergingPow:hS,scaleDivergingSqrt:uQ,scaleDivergingSymlog:U$,scaleIdentity:_$,scaleImplicit:kw,scaleLinear:rm,scaleLog:w$,scaleOrdinal:KE,scalePoint:of,scalePow:nS,scaleQuantile:T$,scaleQuantize:A$,scaleRadial:S$,scaleSequential:D$,scaleSequentialLog:L$,scaleSequentialPow:dS,scaleSequentialQuantile:F$,scaleSequentialSqrt:lQ,scaleSequentialSymlog:$$,scaleSqrt:qY,scaleSymlog:E$,scaleThreshold:k$,scaleTime:oQ,scaleUtc:sQ,tickFormat:b$},Symbol.toStringTag,{value:"Module"}));var q_,QN;function _g(){if(QN)return q_;QN=1;var t=zu();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return q_=e,q_}var z_,JN;function q$(){if(JN)return z_;JN=1;function t(e,r){return e>r}return z_=t,z_}var W_,ZN;function cQ(){if(ZN)return W_;ZN=1;var t=_g(),e=q$(),r=Hu();function n(i){return i&&i.length?t(i,r,e):void 0}return W_=n,W_}var fQ=cQ();const xg=vt(fQ);var H_,eR;function z$(){if(eR)return H_;eR=1;function t(e,r){return e<r}return H_=t,H_}var K_,tR;function dQ(){if(tR)return K_;tR=1;var t=_g(),e=z$(),r=Hu();function n(i){return i&&i.length?t(i,r,e):void 0}return K_=n,K_}var hQ=dQ();const wg=vt(hQ);var G_,rR;function pQ(){if(rR)return G_;rR=1;var t=PE(),e=ha(),r=JL(),n=Sn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return G_=i,G_}var Y_,nR;function mQ(){if(nR)return Y_;nR=1;var t=XL(),e=pQ();function r(n,i){return t(e(n,i),1)}return Y_=r,Y_}var gQ=mQ();const yQ=vt(gQ);var X_,iR;function vQ(){if(iR)return X_;iR=1;var t=BE();function e(r,n){return t(r,n)}return X_=e,X_}var bQ=vQ();const Eg=vt(bQ);var Yu=1e9,_Q={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mS,Bt=!0,ci="[DecimalError] ",Bs=ci+"Invalid argument: ",pS=ci+"Exponent out of range: ",Xu=Math.floor,Cs=Math.pow,xQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ln,Ar=1e7,Mt=7,W$=9007199254740991,om=Xu(W$/Mt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(t){return Va(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,r=e.constructor;return Tt(Va(e,new r(t),0,1),r.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return ur(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ln))throw Error(ci+"NaN");if(r.s<1)throw Error(ci+(r.s?"NaN":"-Infinity"));return r.eq(Ln)?new n(0):(Bt=!1,e=Va(Rf(r,a),Rf(t,a),a),Bt=!0,Tt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G$(e,t):H$(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ci+"NaN");return r.s?(Bt=!1,e=Va(r,t,0,1).times(t),Bt=!0,r.minus(e)):Tt(new n(r),i)};ke.naturalExponential=ke.exp=function(){return K$(this)};ke.naturalLogarithm=ke.ln=function(){return Rf(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?H$(e,t):G$(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bs+t);if(e=ur(i)+1,n=i.d.length-1,r=n*Mt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ke.squareRoot=ke.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ci+"NaN")}for(t=ur(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ea(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Va(u,a,s+2)).times(.5),ea(a.d).slice(0,s)===(e=ea(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Tt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Bt=!0,Tt(n,r)};ke.times=ke.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,m=h.constructor,v=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=b.length,c<f&&(a=v,v=b,b=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+b[n]*v[i-n-1]+e,a[i--]=u%Ar|0,e=u/Ar|0;a[i]=(a[i]+e)%Ar|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Bt?Tt(t,m.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ua(t,0,Yu),e===void 0?e=n.rounding:ua(e,0,8),Tt(r,t+ur(r)+1,e))};ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Js(n,!0):(ua(t,0,Yu),e===void 0?e=i.rounding:ua(e,0,8),n=Tt(new i(n),t+1,e),r=Js(n,!0,t+1)),r};ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Js(i):(ua(t,0,Yu),e===void 0?e=a.rounding:ua(e,0,8),n=Tt(new a(i),t+ur(i)+1,e),r=Js(n.abs(),!1,t+ur(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),ur(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Ln);if(u=new c(u),!u.s){if(t.s<1)throw Error(ci+"Infinity");return u}if(u.eq(Ln))return u;if(n=c.precision,t.eq(Ln))return Tt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=W$){for(i=new c(Ln),e=Math.ceil(n/Mt+4),Bt=!1;r%2&&(i=i.times(u),oR(i.d,e)),r=Xu(r/2),r!==0;)u=u.times(u),oR(u.d,e);return Bt=!0,t.s<0?new c(Ln).div(i):Tt(i,n)}}else if(a<0)throw Error(ci+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Bt=!1,i=t.times(Rf(u,n+f)),Bt=!0,i=K$(i),i.s=a,i};ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ur(i),n=Js(i,r<=a.toExpNeg||r>=a.toExpPos)):(ua(t,1,Yu),e===void 0?e=a.rounding:ua(e,0,8),i=Tt(new a(i),t,e),r=ur(i),n=Js(i,t<=r||r<=a.toExpNeg,t)),n};ke.toSignificantDigits=ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ua(t,1,Yu),e===void 0?e=n.rounding:ua(e,0,8)),Tt(new n(r),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ur(t),r=t.constructor;return Js(t,e<=r.toExpNeg||e>=r.toExpPos)};function H$(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?Tt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(m/Mt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/Ar|0,c[a]%=Ar;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?Tt(e,m):e}function ua(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Bs+t)}function ea(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Mt-n.length,r&&(a+=Io(r)),a+=n;s=t[e],n=s+"",r=Mt-n.length,r&&(a+=Io(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Va=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%Ar|0,s=a/Ar|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ar+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,m,v,b,x,E,w,C,O,P,$,N,j,A,k,R=n.constructor,F=n.s==i.s?1:-1,L=n.d,V=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(ci+"Division by zero");for(c=n.e-i.e,A=V.length,N=L.length,b=new R(F),x=b.d=[],f=0;V[f]==(L[f]||0);)++f;if(V[f]>(L[f]||0)&&--c,a==null?O=a=R.precision:s?O=a+(ur(n)-ur(i))+1:O=a,O<0)return new R(0);if(O=O/Mt+2|0,f=0,A==1)for(h=0,V=V[0],O++;(f<N||h)&&O--;f++)P=h*Ar+(L[f]||0),x[f]=P/V|0,h=P%V|0;else{for(h=Ar/(V[0]+1)|0,h>1&&(V=t(V,h),L=t(L,h),A=V.length,N=L.length),$=A,E=L.slice(0,A),w=E.length;w<A;)E[w++]=0;k=V.slice(),k.unshift(0),j=V[0],V[1]>=Ar/2&&++j;do h=0,u=e(V,E,A,w),u<0?(C=E[0],A!=w&&(C=C*Ar+(E[1]||0)),h=C/j|0,h>1?(h>=Ar&&(h=Ar-1),m=t(V,h),v=m.length,w=E.length,u=e(m,E,v,w),u==1&&(h--,r(m,A<v?k:V,v))):(h==0&&(u=h=1),m=V.slice()),v=m.length,v<w&&m.unshift(0),r(E,m,w),u==-1&&(w=E.length,u=e(V,E,A,w),u<1&&(h++,r(E,A<w?k:V,w))),w=E.length):u===0&&(h++,E=[0]),x[f++]=h,u&&E[0]?E[w++]=L[$]||0:(E=[L[$]],w=1);while(($++<N||E[0]!==void 0)&&O--)}return x[0]||x.shift(),b.e=c,Tt(b,s?a+ur(b)+1:a)}}();function K$(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(ur(t)>16)throw Error(pS+ur(t));if(!t.s)return new h(Ln);for(Bt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Cs(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Ln),h.precision=u;;){if(i=Tt(i.times(t),u),r=r.times(++c),s=a.plus(Va(i,r,u)),ea(s.d).slice(0,u)===ea(a.d).slice(0,u)){for(;f--;)a=Tt(a.times(a),u);return h.precision=m,e==null?(Bt=!0,Tt(a,m)):a}a=s}}function ur(t){for(var e=t.e*Mt,r=t.d[0];r>=10;r/=10)e++;return e}function Q_(t,e,r){if(e>t.LN10.sd())throw Bt=!0,r&&(t.precision=r),Error(ci+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Io(t){for(var e="";t--;)e+="0";return e}function Rf(t,e){var r,n,i,a,s,u,c,f,h,m=1,v=10,b=t,x=b.d,E=b.constructor,w=E.precision;if(b.s<1)throw Error(ci+(b.s?"NaN":"-Infinity"));if(b.eq(Ln))return new E(0);if(e==null?(Bt=!1,f=w):f=e,b.eq(10))return e==null&&(Bt=!0),Q_(E,f);if(f+=v,E.precision=f,r=ea(x),n=r.charAt(0),a=ur(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=ea(b.d),n=r.charAt(0),m++;a=ur(b),n>1?(b=new E("0."+r),a++):b=new E(n+"."+r.slice(1))}else return c=Q_(E,f+2,w).times(a+""),b=Rf(new E(n+"."+r.slice(1)),f-v).plus(c),E.precision=w,e==null?(Bt=!0,Tt(b,w)):b;for(u=s=b=Va(b.minus(Ln),b.plus(Ln),f),h=Tt(b.times(b),f),i=3;;){if(s=Tt(s.times(h),f),c=u.plus(Va(s,new E(i),f)),ea(c.d).slice(0,f)===ea(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Q_(E,f+2,w).times(a+""))),u=Va(u,new E(m),f),E.precision=w,e==null?(Bt=!0,Tt(u,w)):u;u=c,i+=2}}function aR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Xu(r/Mt),t.d=[],n=(r+1)%Mt,r<0&&(n+=Mt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Mt;n<i;)t.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Bt&&(t.e>om||t.e<-om))throw Error(pS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,r){var n,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Mt,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/Mt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;n%=Mt,i=n-Mt+s}if(r!==void 0&&(a=Cs(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/Cs(10,s-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=ur(t),m.length=1,e=e-a-1,m[0]=Cs(10,(Mt-e%Mt)%Mt),t.e=Xu(-e/Mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=Cs(10,Mt-n),m[h]=i>0?(f/Cs(10,s-i)%Cs(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Ar&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Ar)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Bt&&(t.e>om||t.e<-om))throw Error(pS+ur(t));return t}function G$(t,e){var r,n,i,a,s,u,c,f,h,m,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Bt?Tt(e,b):e;if(c=t.d,m=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=m.length):(r=m,n=f,u=c.length),i=Math.max(Math.ceil(b/Mt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ar-1;--c[a],c[i]+=Ar}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Bt?Tt(e,b):e):new v(0)}function Js(t,e,r){var n,i=ur(t),a=ea(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Io(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Io(-i-1)+a,r&&(n=r-s)>0&&(a+=Io(n))):i>=s?(a+=Io(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Io(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Io(n))),t.s<0?"-"+a:a}function oR(t,e){if(t.length>e)return t.length=e,!0}function Y$(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aR(s,a.toString())}else if(typeof a!="string")throw Error(Bs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,xQ.test(a))aR(s,a);else throw Error(Bs+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y$,i.config=i.set=wQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function wQ(t){if(!t||typeof t!="object")throw Error(ci+"Object expected");var e,r,n,i=["precision",1,Yu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Xu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Bs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bs+r+": "+n);return this}var mS=Y$(_Q);Ln=new mS(1);const wt=mS;function EQ(t){return kQ(t)||AQ(t)||TQ(t)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return Cw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(t,e)}}function AQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function kQ(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var PQ=function(e){return e},X$={},Q$=function(e){return e===X$},sR=function(e){return function r(){return arguments.length===0||arguments.length===1&&Q$(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},IQ=function t(e,r){return e===1?r:sR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==X$}).length;return s>=e?r.apply(void 0,i):t(e-s,sR(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(m){return Q$(m)?c.shift():m});return r.apply(void 0,EQ(h).concat(c))}))})},Sg=function(e){return IQ(e.length,e)},Nw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},OQ=Sg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),CQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return PQ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},Rw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},J$=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function NQ(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function RQ(t,e,r){for(var n=new wt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var jQ=Sg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),MQ=Sg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),DQ=Sg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Tg={rangeStep:RQ,getDigitCount:NQ,interpolateNumber:jQ,uninterpolateNumber:MQ,uninterpolateTruncation:DQ};function jw(t){return FQ(t)||$Q(t)||Z$(t)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Q(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function FQ(t){if(Array.isArray(t))return Mw(t)}function jf(t,e){return UQ(t)||BQ(t,e)||Z$(t,e)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$(t,e){if(t){if(typeof t=="string")return Mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(t,e)}}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function UQ(t){if(Array.isArray(t))return t}function e4(t){var e=jf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function t4(t,e,r){if(t.lte(0))return new wt(0);var n=Tg.getDigitCount(t.toNumber()),i=new wt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new wt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new wt(Math.ceil(c))}function qQ(t,e,r){var n=1,i=new wt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new wt(10).pow(Tg.getDigitCount(t)-1),i=new wt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):r||(i=new wt(Math.floor(t)));var s=Math.floor((e-1)/2),u=CQ(OQ(function(c){return i.add(new wt(c-s).mul(n)).toNumber()}),Nw);return u(0,e)}function r4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=t4(new wt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new wt(0):(s=new wt(t).add(e).div(2),s=s.sub(new wt(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new wt(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?r4(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new wt(u).mul(a)),tickMax:s.add(new wt(c).mul(a))})}function zQ(t){var e=jf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=e4([r,n]),c=jf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(jw(Nw(0,i-1).map(function(){return 1/0}))):[].concat(jw(Nw(0,i-1).map(function(){return-1/0})),[h]);return r>n?Rw(m):m}if(f===h)return qQ(f,i,a);var v=r4(f,h,s,a),b=v.step,x=v.tickMin,E=v.tickMax,w=Tg.rangeStep(x,E.add(new wt(.1).mul(b)),b);return r>n?Rw(w):w}function WQ(t,e){var r=jf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=e4([n,i]),u=jf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),m=t4(new wt(f).sub(c).div(h-1),a,0),v=[].concat(jw(Tg.rangeStep(new wt(c),new wt(f).sub(new wt(.99).mul(m)),m)),[f]);return n>i?Rw(v):v}var HQ=J$(zQ),KQ=J$(WQ),GQ="Invariant failed";function Zs(t,e){throw new Error(GQ)}var YQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}function XQ(t,e){return eJ(t)||ZQ(t,e)||JQ(t,e)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(t,e){if(t){if(typeof t=="string")return lR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lR(t,e)}}function lR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function eJ(t){if(Array.isArray(t))return t}function tJ(t,e){if(t==null)return{};var r=rJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a4(n.key),n)}}function aJ(t,e,r){return e&&iJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oJ(t,e,r){return e=lm(e),sJ(t,n4()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function sJ(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lJ(t)}function lJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n4=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function uJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(t,e)}function i4(t,e,r){return e=a4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a4(t){var e=cJ(t,"string");return Su(e)=="symbol"?e:e+""}function cJ(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ag=function(t){function e(){return nJ(this,e),oJ(this,e,arguments)}return uJ(e,t),aJ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,v=tJ(n,YQ),b=Ke(v,!1);this.props.direction==="x"&&h.type!=="number"&&Zs();var x=c.map(function(E){var w=f(E,u),C=w.x,O=w.y,P=w.value,$=w.errorVal;if(!$)return null;var N=[],j,A;if(Array.isArray($)){var k=XQ($,2);j=k[0],A=k[1]}else j=A=$;if(a==="vertical"){var R=h.scale,F=O+i,L=F+s,V=F-s,M=R(P-j),Z=R(P+A);N.push({x1:Z,y1:L,x2:Z,y2:V}),N.push({x1:M,y1:F,x2:Z,y2:F}),N.push({x1:M,y1:L,x2:M,y2:V})}else if(a==="horizontal"){var te=m.scale,ne=C+i,ae=ne-s,Q=ne+s,ie=te(P-j),oe=te(P+A);N.push({x1:ae,y1:oe,x2:Q,y2:oe}),N.push({x1:ne,y1:ie,x2:ne,y2:oe}),N.push({x1:ae,y1:ie,x2:Q,y2:ie})}return W.createElement(_t,sm({className:"recharts-errorBar",key:"bar-".concat(N.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),N.map(function(q){return W.createElement("line",sm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return W.createElement(_t,{className:"recharts-errorBars"},x)}}])}(W.Component);i4(Ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});i4(Ag,"displayName","ErrorBar");function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function uR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function As(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(r),!0).forEach(function(n){fJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fJ(t,e,r){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dJ(t){var e=hJ(t,"string");return Mf(e)=="symbol"?e:e+""}function hJ(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Dn(r,qo);if(!s)return null;var u=qo.defaultProps,c=u!==void 0?As(As({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,m){var v=m.item,b=m.props,x=b.sectors||b.data||[];return h.concat(x.map(function(E){return{type:s.props.iconType||v.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(n||[]).map(function(h){var m=h.item,v=m.type.defaultProps,b=v!==void 0?As(As({},v),m.props):{},x=b.dataKey,E=b.name,w=b.legendType,C=b.hide;return{inactive:C,dataKey:x,type:c.iconType||w||"square",color:gS(m),value:E||x,payload:b}}),As(As(As({},c),qo.getWithHeight(s,i)),{},{payload:f,item:s})};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function cR(t){return yJ(t)||gJ(t)||mJ(t)||pJ()}function pJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mJ(t,e){if(t){if(typeof t=="string")return Lw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lw(t,e)}}function gJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yJ(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){lu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lu(t,e,r){return e=vJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vJ(t){var e=bJ(t,"string");return Df(e)=="symbol"?e:e+""}function bJ(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xr(t,e,r){return tt(t)||tt(e)?r:yr(e)?Bn(t,e,r):Ye(e)?e(t):r}function sf(t,e,r,n){var i=yQ(t,function(u){return Xr(u,e)});if(r==="number"){var a=i.filter(function(u){return ve(u)||parseFloat(u)});return a.length?[wg(a),xg(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!tt(u)}):i;return s.map(function(u){return yr(u)||u instanceof Date?u:""})}var _J=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(on(m-h)!==on(v-m)){var x=[];if(on(v-m)===on(c[1]-c[0])){b=v;var E=m+c[1]-c[0];x[0]=Math.min(E,(E+h)/2),x[1]=Math.max(E,(E+h)/2)}else{b=h;var w=v+c[1]-c[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var C=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>C[0]&&e<=C[1]||e>=x[0]&&e<=x[1]){s=i[f].index;break}}else{var O=Math.min(h,v),P=Math.max(h,v);if(e>(O+m)/2&&e<=(P+m)/2){s=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},gS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},xJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,m=Object.keys(h),v=0,b=m.length;v<b;v++){var x=h[m[v]],E=x.items,w=x.cateAxisId,C=E.filter(function(A){return Fa(A.type).indexOf("Bar")>=0});if(C&&C.length){var O=C[0].type.defaultProps,P=O!==void 0?Yt(Yt({},O),C[0].props):C[0].props,$=P.barSize,N=P[w];s[N]||(s[N]=[]);var j=tt($)?r:$;s[N].push({item:C[0],stackList:C.slice(1),barSize:tt(j)?void 0:sn(j,n,0)})}}return s},wJ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=sn(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,b=i/c,x=s.reduce(function($,N){return $+N.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&b>0&&(v=!0,b*=.9,x=c*b);var E=(i-x)/2>>0,w={offset:E-f,size:0};h=s.reduce(function($,N){var j={item:N.item,position:{offset:w.offset+w.size+f,size:v?b:N.barSize}},A=[].concat(cR($),[j]);return w=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){A.push({item:k,position:w})}),A},m)}else{var C=sn(n,i,0,!0);i-2*C-(c-1)*f<=0&&(f=0);var O=(i-2*C-(c-1)*f)/c;O>1&&(O>>=0);var P=u===+u?Math.min(O,u):O;h=s.reduce(function($,N,j){var A=[].concat(cR($),[{item:N.item,position:{offset:C+(O+f)*j+(O-P)/2,size:P}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},m)}return h},EJ=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=o4({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,v=h.height,b=f.align,x=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&x==="middle")&&b!=="center"&&ve(e[b]))return Yt(Yt({},e),{},lu({},b,e[b]+(m||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&x!=="middle"&&ve(e[x]))return Yt(Yt({},e),{},lu({},x,e[x]+(v||0)))}return e},SJ=function(e,r,n){return tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},s4=function(e,r,n,i,a){var s=r.props.children,u=ui(s,Ag).filter(function(f){return SJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Xr(h,n);if(tt(m))return f;var v=Array.isArray(m)?[wg(m),xg(m)]:[m,m],b=c.reduce(function(x,E){var w=Xr(h,E,0),C=v[0]-Math.abs(Array.isArray(w)?w[0]:w),O=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(C,x[0]),Math.max(O,x[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},TJ=function(e,r,n,i,a){var s=r.map(function(u){return s4(e,u,n,a,i)}).filter(function(u){return!tt(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},l4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&s4(e,c,f,i)||sf(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},u4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},c4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},La=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?on(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var v=a?a.indexOf(m):m;return{coordinate:i(v)+f,value:m,offset:f}});return h.filter(function(m){return!xd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+f,value:m,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,v){return{coordinate:i(m)+f,value:a?a[m]:m,index:v,offset:f}})},J_=new WeakMap,ap=function(e,r){if(typeof r!="function")return e;J_.has(e)||J_.set(e,new WeakMap);var n=J_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},f4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Pf(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:rm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:of(),realScaleType:"point"}:a==="category"?{scale:Pf(),realScaleType:"band"}:{scale:rm(),realScaleType:"linear"};if(Ys(i)){var c="scale".concat(og(i));return{scale:(XN[c]||of)(),realScaleType:XN[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:of(),realScaleType:"point"}},dR=1e-4,d4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-dR,s=Math.max(i[0],i[1])+dR,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},AJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},kJ=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},PJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=xd(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},IJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=xd(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},OJ={sign:PJ,expand:yW,none:gu,silhouette:vW,wiggle:bW,positive:IJ},CJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=OJ[n],s=gW().keys(i).value(function(u,c){return+Xr(u,c,0)}).order(hw).offset(a);return s(e)},NJ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(m,v){var b,x=(b=v.type)!==null&&b!==void 0&&b.defaultProps?Yt(Yt({},v.type.defaultProps),v.props):v.props,E=x.stackId,w=x.hide;if(w)return m;var C=x[n],O=m[C]||{hasStack:!1,stackGroups:{}};if(yr(E)){var P=O.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(v),O.hasStack=!0,O.stackGroups[E]=P}else O.stackGroups[wd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Yt(Yt({},m),{},lu({},C,O))},c),h={};return Object.keys(f).reduce(function(m,v){var b=f[v];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,w){var C=b.stackGroups[w];return Yt(Yt({},E),{},lu({},w,{numericAxisId:n,cateAxisId:i,items:C.items,stackedData:CJ(e,C.items,a)}))},x)}return Yt(Yt({},m),{},lu({},v,b))},h)},h4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=HQ(f,a,u);return e.domain([wg(h),xg(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),v=KQ(m,a,u);return{niceTicks:v}}return null},hR=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Xr(s,r.dataKey,r.domain[u]);return tt(c)?null:r.scale(c)-a/2+i},RJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},jJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(yr(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},MJ=function(e){return e.reduce(function(r,n){return[wg(n.concat([r[0]]).filter(ve)),xg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},p4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var m=MJ(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},pR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$w=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(pR.test(e[0])){var a=+pR.exec(e[0])[1];i[0]=r[0]-a}else Ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(mR.test(e[1])){var s=+mR.exec(e[1])[1];i[1]=r[1]+s}else Ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},um=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=qE(r,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},gR=function(e,r,n){return!e||!e.length||Eg(e,Bn(n,"type.defaultProps.domain"))?r:e},m4=function(e,r){var n=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Yt(Yt({},Ke(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:gS(e),value:Xr(r,i),type:c,payload:r,chartType:f,hide:h})};function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){g4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g4(t,e,r){return e=DJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DJ(t){var e=LJ(t,"string");return Lf(e)=="symbol"?e:e+""}function LJ(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $J(t,e){return UJ(t)||BJ(t,e)||VJ(t,e)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function UJ(t){if(Array.isArray(t))return t}var cm=Math.PI/180,qJ=function(e){return e*180/Math.PI},Nt=function(e,r,n,i){return{x:e+Math.cos(-cm*i)*n,y:r+Math.sin(-cm*i)*n}},y4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zJ=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=sn(e.cx,s,s/2),m=sn(e.cy,u,u/2),v=y4(s,u,n),b=sn(e.innerRadius,v,0),x=sn(e.outerRadius,v,v*.8),E=Object.keys(r);return E.reduce(function(w,C){var O=r[C],P=O.domain,$=O.reversed,N;if(tt(O.range))i==="angleAxis"?N=[c,f]:i==="radiusAxis"&&(N=[b,x]),$&&(N=[N[1],N[0]]);else{N=O.range;var j=N,A=$J(j,2);c=A[0],f=A[1]}var k=f4(O,a),R=k.realScaleType,F=k.scale;F.domain(P).range(N),d4(F);var L=h4(F,Ca(Ca({},O),{},{realScaleType:R})),V=Ca(Ca(Ca({},O),L),{},{range:N,radius:x,realScaleType:R,scale:F,cx:h,cy:m,innerRadius:b,outerRadius:x,startAngle:c,endAngle:f});return Ca(Ca({},w),{},g4({},C,V))},{})},WJ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},HJ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=WJ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:qJ(f),angleInRadian:f}},KJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},GJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},bR=function(e,r){var n=e.x,i=e.y,a=HJ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=KJ(r),m=h.startAngle,v=h.endAngle,b=u,x;if(m<=v){for(;b>v;)b-=360;for(;b<m;)b+=360;x=b>=m&&b<=v}else{for(;b>m;)b-=360;for(;b<v;)b+=360;x=b>=v&&b<=m}return x?Ca(Ca({},r),{},{radius:s,angle:GJ(b,r)}):null},v4=function(e){return!K.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}var YJ=["offset"];function XJ(t){return eZ(t)||ZJ(t)||JJ(t)||QJ()}function QJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t,e){if(t){if(typeof t=="string")return Fw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fw(t,e)}}function ZJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eZ(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tZ(t,e){if(t==null)return{};var r=rZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){nZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nZ(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=aZ(t,"string");return $f(e)=="symbol"?e:e+""}function aZ(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}var oZ=function(e){var r=e.value,n=e.formatter,i=tt(e.children)?r:e.children;return Ye(n)?n(i):i},sZ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),360);return n*i},lZ=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,v=c.outerRadius,b=c.startAngle,x=c.endAngle,E=c.clockWise,w=(m+v)/2,C=sZ(b,x),O=C>=0?1:-1,P,$;i==="insideStart"?(P=b+O*s,$=E):i==="insideEnd"?(P=x-O*s,$=!E):i==="end"&&(P=x+O*s,$=E),$=C<=0?$:!$;var N=Nt(f,h,w,P),j=Nt(f,h,w,P+($?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat($?0:1,`,
    `).concat(j.x,",").concat(j.y),k=tt(e.id)?wd("recharts-radial-line-"):e.id;return W.createElement("text",Ff({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",u)}),W.createElement("defs",null,W.createElement("path",{id:k,d:A})),W.createElement("textPath",{xlinkHref:"#".concat(k)},r))},uZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,v=(h+m)/2;if(i==="outside"){var b=Nt(s,u,f+n,v),x=b.x,E=b.y;return{x,y:E,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,C=Nt(s,u,w,v),O=C.x,P=C.y;return{x:O,y:P,textAnchor:"middle",verticalAnchor:"middle"}},cZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,v=m*i,b=m>0?"end":"start",x=m>0?"start":"end",E=f>=0?1:-1,w=E*i,C=E>0?"end":"start",O=E>0?"start":"end";if(a==="top"){var P={x:u+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:b};return gr(gr({},P),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var $={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:x};return gr(gr({},$),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var N={x:u-w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return gr(gr({},N),n?{width:Math.max(N.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+f+w,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return gr(gr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?gr({x:u+w,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},A):a==="insideRight"?gr({x:u+f-w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideTop"?gr({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:x},A):a==="insideBottom"?gr({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?gr({x:u+w,y:c+v,textAnchor:O,verticalAnchor:x},A):a==="insideTopRight"?gr({x:u+f-w,y:c+v,textAnchor:C,verticalAnchor:x},A):a==="insideBottomLeft"?gr({x:u+w,y:c+h-v,textAnchor:O,verticalAnchor:b},A):a==="insideBottomRight"?gr({x:u+f-w,y:c+h-v,textAnchor:C,verticalAnchor:b},A):Wu(a)&&(ve(a.x)||js(a.x))&&(ve(a.y)||js(a.y))?gr({x:u+sn(a.x,f),y:c+sn(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):gr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},fZ=function(e){return"cx"in e&&ve(e.cx)};function kr(t){var e=t.offset,r=e===void 0?5:e,n=tZ(t,YJ),i=gr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,v=i.textBreakAll;if(!a||tt(u)&&tt(c)&&!K.isValidElement(f)&&!Ye(f))return null;if(K.isValidElement(f))return K.cloneElement(f,i);var b;if(Ye(f)){if(b=K.createElement(f,i),K.isValidElement(b))return b}else b=oZ(i);var x=fZ(a),E=Ke(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return lZ(i,b,E);var w=x?uZ(i):cZ(i);return W.createElement(Qs,Ff({className:Ze("recharts-label",m)},E,w,{breakAll:v}),b)}kr.displayName="Label";var b4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,v=e.y,b=e.top,x=e.left,E=e.width,w=e.height,C=e.clockWise,O=e.labelViewBox;if(O)return O;if(ve(E)&&ve(w)){if(ve(m)&&ve(v))return{x:m,y:v,width:E,height:w};if(ve(b)&&ve(x))return{x:b,y:x,width:E,height:w}}return ve(m)&&ve(v)?{x:m,y:v,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:C}:e.viewBox?e.viewBox:{}},dZ=function(e,r){return e?e===!0?W.createElement(kr,{key:"label-implicit",viewBox:r}):yr(e)?W.createElement(kr,{key:"label-implicit",viewBox:r,value:e}):K.isValidElement(e)?e.type===kr?K.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?W.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Wu(e)?W.createElement(kr,Ff({viewBox:r},e,{key:"label-implicit"})):null:null},hZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=b4(e),s=ui(i,kr).map(function(c,f){return K.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=dZ(e.label,r||a);return[u].concat(XJ(s))};kr.parseViewBox=b4;kr.renderCallByParent=hZ;var Z_,xR;function pZ(){if(xR)return Z_;xR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Z_=t,Z_}var mZ=pZ();const gZ=vt(mZ);function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}var yZ=["valueAccessor"],vZ=["data","dataKey","clockWise","id","textBreakAll"];function bZ(t){return EZ(t)||wZ(t)||xZ(t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xZ(t,e){if(t){if(typeof t=="string")return Vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(t,e)}}function wZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EZ(t){if(Array.isArray(t))return Vw(t)}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fm.apply(this,arguments)}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){SZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SZ(t,e,r){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TZ(t){var e=AZ(t,"string");return Vf(e)=="symbol"?e:e+""}function AZ(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SR(t,e){if(t==null)return{};var r=kZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var PZ=function(e){return Array.isArray(e.value)?gZ(e.value):e.value};function Wo(t){var e=t.valueAccessor,r=e===void 0?PZ:e,n=SR(t,yZ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=SR(n,vZ);return!i||!i.length?null:W.createElement(_t,{className:"recharts-label-list"},i.map(function(h,m){var v=tt(a)?r(h,m):Xr(h&&h.payload,a),b=tt(u)?{}:{id:"".concat(u,"-").concat(m)};return W.createElement(kr,fm({},Ke(h,!0),f,b,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:kr.parseViewBox(tt(s)?h:ER(ER({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Wo.displayName="LabelList";function IZ(t,e){return t?t===!0?W.createElement(Wo,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Ye(t)?W.createElement(Wo,{key:"labelList-implicit",data:e,content:t}):Wu(t)?W.createElement(Wo,fm({data:e},t,{key:"labelList-implicit"})):null:null}function OZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ui(n,Wo).map(function(s,u){return K.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=IZ(t.label,e);return[a].concat(bZ(i))}Wo.renderCallByParent=OZ;function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bw.apply(this,arguments)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){CZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CZ(t,e,r){return e=NZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=RZ(t,"string");return Bf(e)=="symbol"?e:e+""}function RZ(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jZ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},op=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,m=Math.asin(c/h)/cm,v=f?a:a+s*m,b=Nt(r,n,h,v),x=Nt(r,n,i,v),E=f?a-s*m:a,w=Nt(r,n,h*Math.cos(m*cm),E);return{center:b,circleTangency:x,lineTangency:w,theta:m}},_4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=jZ(s,u),f=s+c,h=Nt(r,n,a,s),m=Nt(r,n,a,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=Nt(r,n,i,s),x=Nt(r,n,i,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},MZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=on(h-f),v=op({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,E=v.theta,w=op({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),C=w.circleTangency,O=w.lineTangency,P=w.theta,$=c?Math.abs(f-h):Math.abs(f-h)-E-P;if($<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var j=op({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,k=j.lineTangency,R=j.theta,F=op({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),L=F.circleTangency,V=F.lineTangency,M=F.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-R-M;if(Z<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},DZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yS=function(e){var r=AR(AR({},DZ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,v=r.className;if(s<a||h===m)return null;var b=Ze("recharts-sector",v),x=s-a,E=sn(u,x,0,!0),w;return E>0&&Math.abs(h-m)<360?w=MZ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):w=_4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),W.createElement("path",Bw({},Ke(r,!0),{className:b,d:w,role:"img"}))};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uw.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){LZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LZ(t,e,r){return e=$Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Z(t){var e=FZ(t,"string");return Uf(e)=="symbol"?e:e+""}function FZ(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IR={curveBasisClosed:aW,curveBasisOpen:oW,curveBasis:iW,curveBumpX:z7,curveBumpY:W7,curveLinearClosed:sW,curveLinear:lg,curveMonotoneX:lW,curveMonotoneY:uW,curveNatural:cW,curveStep:fW,curveStepAfter:hW,curveStepBefore:dW},sp=function(e){return e.x===+e.x&&e.y===+e.y},$c=function(e){return e.x},Fc=function(e){return e.y},VZ=function(e,r){if(Ye(e))return e;var n="curve".concat(og(e));return(n==="curveMonotone"||n==="curveBump")&&r?IR["".concat(n).concat(r==="vertical"?"Y":"X")]:IR[n]||lg},BZ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=VZ(n,u),m=f?a.filter(function(E){return sp(E)}):a,v;if(Array.isArray(s)){var b=f?s.filter(function(E){return sp(E)}):s,x=m.map(function(E,w){return PR(PR({},E),{},{base:b[w]})});return u==="vertical"?v=Jh().y(Fc).x1($c).x0(function(E){return E.base.x}):v=Jh().x($c).y1(Fc).y0(function(E){return E.base.y}),v.defined(sp).curve(h),v(x)}return u==="vertical"&&ve(s)?v=Jh().y(Fc).x1($c).x0(s):ve(s)?v=Jh().x($c).y1(Fc).y0(s):v=bL().x($c).y(Fc),v.defined(sp).curve(h),v(m)},qw=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?BZ(e):i;return K.createElement("path",Uw({},Ke(e,!1),Fp(e),{className:Ze("recharts-curve",r),d:s,ref:a}))},ex={exports:{}},tx,OR;function UZ(){if(OR)return tx;OR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tx=t,tx}var rx,CR;function qZ(){if(CR)return rx;CR=1;var t=UZ();function e(){}function r(){}return r.resetWarningCache=e,rx=function(){function n(s,u,c,f,h,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},rx}var NR;function zZ(){return NR||(NR=1,ex.exports=qZ()()),ex.exports}var WZ=zZ();const gt=vt(WZ);var HZ=Object.getOwnPropertyNames,KZ=Object.getOwnPropertySymbols,GZ=Object.prototype.hasOwnProperty;function RR(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function lp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function jR(t){return HZ(t).concat(KZ(t))}var YZ=Object.hasOwn||function(t,e){return GZ.call(t,e)};function ul(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var XZ="__v",QZ="__o",JZ="_owner",MR=Object.getOwnPropertyDescriptor,DR=Object.keys;function ZZ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function eee(t,e){return ul(t.getTime(),e.getTime())}function tee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ree(t,e){return t===e}function LR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var v=s.value,b=u.value;if(r.equals(v[0],b[0],c,m,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var nee=ul;function iee(t,e,r){var n=DR(t),i=n.length;if(DR(e).length!==i)return!1;for(;i-- >0;)if(!x4(t,e,r,n[i]))return!1;return!0}function Vc(t,e,r){var n=jR(t),i=n.length;if(jR(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!x4(t,e,r,a)||(s=MR(t,a),u=MR(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function aee(t,e){return ul(t.valueOf(),e.valueOf())}function oee(t,e){return t.source===e.source&&t.flags===e.flags}function $R(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function see(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function lee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function x4(t,e,r,n){return(n===JZ||n===QZ||n===XZ)&&(t.$$typeof||e.$$typeof)?!0:YZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var uee="[object Arguments]",cee="[object Boolean]",fee="[object Date]",dee="[object Error]",hee="[object Map]",pee="[object Number]",mee="[object Object]",gee="[object RegExp]",yee="[object Set]",vee="[object String]",bee="[object URL]",_ee=Array.isArray,FR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VR=Object.assign,xee=Object.prototype.toString.call.bind(Object.prototype.toString);function wee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(x,E,w){if(x===E)return!0;if(x==null||E==null)return!1;var C=typeof x;if(C!==typeof E)return!1;if(C!=="object")return C==="number"?s(x,E,w):C==="function"?i(x,E,w):!1;var O=x.constructor;if(O!==E.constructor)return!1;if(O===Object)return u(x,E,w);if(_ee(x))return e(x,E,w);if(FR!=null&&FR(x))return m(x,E,w);if(O===Date)return r(x,E,w);if(O===RegExp)return f(x,E,w);if(O===Map)return a(x,E,w);if(O===Set)return h(x,E,w);var P=xee(x);return P===fee?r(x,E,w):P===gee?f(x,E,w):P===hee?a(x,E,w):P===yee?h(x,E,w):P===mee?typeof x.then!="function"&&typeof E.then!="function"&&u(x,E,w):P===bee?v(x,E,w):P===dee?n(x,E,w):P===uee?u(x,E,w):P===cee||P===pee||P===vee?c(x,E,w):!1}}function Eee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Vc:ZZ,areDatesEqual:eee,areErrorsEqual:tee,areFunctionsEqual:ree,areMapsEqual:n?RR(LR,Vc):LR,areNumbersEqual:nee,areObjectsEqual:n?Vc:iee,arePrimitiveWrappersEqual:aee,areRegExpsEqual:oee,areSetsEqual:n?RR($R,Vc):$R,areTypedArraysEqual:n?Vc:see,areUrlsEqual:lee};if(r&&(i=VR({},i,r(i))),e){var a=lp(i.areArraysEqual),s=lp(i.areMapsEqual),u=lp(i.areObjectsEqual),c=lp(i.areSetsEqual);i=VR({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function See(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function Tee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),m=h.cache,v=m===void 0?e?new WeakMap:void 0:m,b=h.meta;return r(c,f,{cache:v,equals:i,meta:b,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var Aee=ns();ns({strict:!0});ns({circular:!0});ns({circular:!0,strict:!0});ns({createInternalComparator:function(){return ul}});ns({strict:!0,createInternalComparator:function(){return ul}});ns({circular:!0,createInternalComparator:function(){return ul}});ns({circular:!0,createInternalComparator:function(){return ul},strict:!0});function ns(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=Eee(t),c=wee(u),f=n?n(c):See(c);return Tee({circular:r,comparator:c,createState:i,equals:f,strict:s})}function kee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):kee(i)};requestAnimationFrame(n)}function zw(t){"@babel/helpers - typeof";return zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(t)}function Pee(t){return Nee(t)||Cee(t)||Oee(t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return UR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UR(t,e)}}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nee(t){if(Array.isArray(t))return t}function Ree(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=Pee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){BR(i.bind(null,f),c);return}i(c),BR(i.bind(null,f));return}zw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){w4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w4(t,e,r){return e=jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jee(t){var e=Mee(t,"string");return qf(e)==="symbol"?e:String(e)}function Mee(t,e){if(qf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Lee=function(e){return e},$ee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lf=function(e,r){return Object.keys(r).reduce(function(n,i){return zR(zR({},n),{},w4({},i,e(i,r[i])))},{})},WR=function(e,r,n){return e.map(function(i){return"".concat($ee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Fee(t,e){return Uee(t)||Bee(t,e)||E4(t,e)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Uee(t){if(Array.isArray(t))return t}function qee(t){return Hee(t)||Wee(t)||E4(t)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E4(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function Wee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hee(t){if(Array.isArray(t))return Ww(t)}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dm=1e-4,S4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},T4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},HR=function(e,r){return function(n){var i=S4(e,r);return T4(i,n)}},Kee=function(e,r){return function(n){var i=S4(e,r),a=[].concat(qee(i.map(function(s,u){return s*u}).slice(1)),[0]);return T4(a,n)}},KR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=Fee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var m=HR(i,s),v=HR(a,u),b=Kee(i,s),x=function(C){return C>1?1:C<0?0:C},E=function(C){for(var O=C>1?1:C,P=O,$=0;$<8;++$){var N=m(P)-O,j=b(P);if(Math.abs(N-O)<dm||j<dm)return v(P);P=x(P-N/j)}return v(P)};return E.isStepper=!1,E},Gee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,m,v){var b=-(h-m)*n,x=v*a,E=v+(b-x)*u/1e3,w=v*u/1e3+h;return Math.abs(w-m)<dm&&Math.abs(E)<dm?[m,0]:[w,E]};return c.isStepper=!0,c.dt=u,c},Yee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KR(i);case"spring":return Gee();default:if(i.split("(")[0]==="cubic-bezier")return KR(i)}return typeof i=="function"?i:null};function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function GR(t){return Jee(t)||Qee(t)||A4(t)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jee(t){if(Array.isArray(t))return Kw(t)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){Hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hw(t,e,r){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zee(t){var e=ete(t,"string");return zf(e)==="symbol"?e:String(e)}function ete(t,e){if(zf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tte(t,e){return ite(t)||nte(t,e)||A4(t,e)||rte()}function rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A4(t,e){if(t){if(typeof t=="string")return Kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(t,e)}}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ite(t){if(Array.isArray(t))return t}var hm=function(e,r,n){return e+(r-e)*n},Gw=function(e){var r=e.from,n=e.to;return r!==n},ate=function t(e,r,n){var i=lf(function(a,s){if(Gw(s)){var u=e(s.from,s.to,s.velocity),c=tte(u,2),f=c[0],h=c[1];return jr(jr({},s),{},{from:f,velocity:h})}return s},r);return n<1?lf(function(a,s){return Gw(s)?jr(jr({},s),{},{velocity:hm(s.velocity,i[a].velocity,n),from:hm(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const ote=function(t,e,r,n,i){var a=Dee(t,e),s=a.reduce(function(w,C){return jr(jr({},w),{},Hw({},C,[t[C],e[C]]))},{}),u=a.reduce(function(w,C){return jr(jr({},w),{},Hw({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,f,h,m=function(){return null},v=function(){return lf(function(C,O){return O.from},u)},b=function(){return!Object.values(u).filter(Gw).length},x=function(C){f||(f=C);var O=C-f,P=O/r.dt;u=ate(r,u,P),i(jr(jr(jr({},t),e),v())),f=C,b()||(c=requestAnimationFrame(m))},E=function(C){h||(h=C);var O=(C-h)/n,P=lf(function(N,j){return hm.apply(void 0,GR(j).concat([r(O)]))},s);if(i(jr(jr(jr({},t),e),P)),O<1)c=requestAnimationFrame(m);else{var $=lf(function(N,j){return hm.apply(void 0,GR(j).concat([r(1)]))},s);i(jr(jr(jr({},t),e),$))}};return m=r.isStepper?x:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var ste=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lte(t,e){if(t==null)return{};var r=ute(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ute(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nx(t){return hte(t)||dte(t)||fte(t)||cte()}function cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t,e){if(t){if(typeof t=="string")return Yw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(t,e)}}function dte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hte(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(r),!0).forEach(function(n){Qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qc(t,e,r){return e=k4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k4(n.key),n)}}function gte(t,e,r){return e&&mte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k4(t){var e=yte(t,"string");return Tu(e)==="symbol"?e:String(e)}function yte(t,e){if(Tu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(t,e)}function bte(t){var e=_te();return function(){var n=pm(t),i;if(e){var a=pm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Qw(this,i)}}function Qw(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jw(t)}function Jw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}var Ya=function(t){vte(r,t);var e=bte(r);function r(n,i){var a;pte(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,v=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Jw(a)),a.changeStyle=a.changeStyle.bind(Jw(a)),!u||b<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:h}),Qw(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof v=="function")return a.state={style:f},Qw(a);a.state={style:c?Qc({},c,f):f}}else a.state={style:{}};return a}return gte(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,v=this.state.style;if(u){if(!s){var b={style:c?Qc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(b);return}if(!(Aee(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=x||f?m:i.to;if(this.state&&v){var w={style:c?Qc({},c,E):E};(c&&v[c]!==E||!c&&v!==E)&&this.setState(w)}this.runAnimation(Oi(Oi({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,b=ote(s,u,Yee(f),c,this.changeStyle),x=function(){a.stopJSAnimation=b()};this.manager.start([v,h,x,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,v=m===void 0?0:m,b=function(E,w,C){if(C===0)return E;var O=w.duration,P=w.easing,$=P===void 0?"ease":P,N=w.style,j=w.properties,A=w.onAnimationEnd,k=C>0?s[C-1]:w,R=j||Object.keys(N);if(typeof $=="function"||$==="spring")return[].concat(nx(E),[a.runJSAnimation.bind(a,{from:k.style,to:N,duration:O,easing:$}),O]);var F=WR(R,O,$),L=Oi(Oi(Oi({},k.style),N),{},{transition:F});return[].concat(nx(E),[L,O,A]).filter(Lee)};return this.manager.start([c].concat(nx(s.reduce(b,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ree());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,b=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var E=u?Qc({},u,c):c,w=WR(Object.keys(E),s,f);x.start([h,a,Oi(Oi({},E),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=lte(i,ste),f=K.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var m=function(b){var x=b.props,E=x.style,w=E===void 0?{}:E,C=x.className,O=K.cloneElement(b,Oi(Oi({},c),{},{style:Oi(Oi({},w),h),className:C}));return O};return f===1?m(K.Children.only(a)):W.createElement("div",null,K.Children.map(a,function(v){return m(v)}))}}]),r}(K.PureComponent);Ya.displayName="Animate";Ya.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ya.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function xte(t,e){return Tte(t)||Ste(t,e)||Ete(t,e)||wte()}function wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ete(t,e){if(t){if(typeof t=="string")return QR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ste(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Tte(t){if(Array.isArray(t))return t}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=Pte(t,"string");return Wf(e)=="symbol"?e:e+""}function Pte(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ej=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],v=0,b=4;v<b;v++)m[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),h+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),h+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(r+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*x,`
            L `).concat(e+n,",").concat(r+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n-c*x,",").concat(r+i,`
            L `).concat(e+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*x," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Ite=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),m=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=h&&i>=m&&i<=v}return!1},Ote={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vS=function(e){var r=ZR(ZR({},Ote),e),n=K.useRef(),i=K.useState(-1),a=xte(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var c=r.x,f=r.y,h=r.width,m=r.height,v=r.radius,b=r.className,x=r.animationEasing,E=r.animationDuration,w=r.animationBegin,C=r.isAnimationActive,O=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var P=Ze("recharts-rectangle",b);return O?W.createElement(Ya,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:x,isActive:O},function($){var N=$.width,j=$.height,A=$.x,k=$.y;return W.createElement(Ya,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,isActive:C,easing:x},W.createElement("path",mm({},Ke(r,!0),{className:P,d:ej(A,k,N,j,v),ref:n})))}):W.createElement("path",mm({},Ke(r,!0),{className:P,d:ej(c,f,h,m,v)}))},Cte=["points","className","baseLinePoints","connectNulls"];function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(this,arguments)}function Nte(t,e){if(t==null)return{};var r=Rte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tj(t){return Lte(t)||Dte(t)||Mte(t)||jte()}function jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mte(t,e){if(t){if(typeof t=="string")return Zw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(t,e)}}function Dte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lte(t){if(Array.isArray(t))return Zw(t)}function Zw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rj=function(e){return e&&e.x===+e.x&&e.y===+e.y},$te=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){rj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),rj(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uf=function(e,r){var n=$te(e);r&&(n=[n.reduce(function(a,s){return[].concat(tj(a),tj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Fte=function(e,r,n){var i=uf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uf(r.reverse(),n).slice(1))},Vte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Nte(e,Cte);if(!r||!r.length)return null;var u=Ze("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=Fte(r,i,a);return W.createElement("g",{className:u},W.createElement("path",Ql({},Ke(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?W.createElement("path",Ql({},Ke(s,!0),{fill:"none",d:uf(r,a)})):null,c?W.createElement("path",Ql({},Ke(s,!0),{fill:"none",d:uf(i,a)})):null)}var h=uf(r,a);return W.createElement("path",Ql({},Ke(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}var bS=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Ze("recharts-dot",a);return r===+r&&n===+n&&i===+i?K.createElement("circle",e1({},Ke(e,!1),Fp(e),{className:s,cx:r,cy:n,r:i})):null};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var Bte=["x","y","top","left","width","height","className"];function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function nj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ute(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(r),!0).forEach(function(n){qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e,r){return e=zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zte(t){var e=Wte(t,"string");return Hf(e)=="symbol"?e:e+""}function Wte(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t,e){if(t==null)return{};var r=Kte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gte=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Yte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,v=e.height,b=v===void 0?0:v,x=e.className,E=Hte(e,Bte),w=Ute({x:n,y:a,top:u,left:f,width:m,height:b},E);return!ve(n)||!ve(a)||!ve(m)||!ve(b)||!ve(u)||!ve(f)?null:W.createElement("path",t1({},Ke(w,!0),{className:Ze("recharts-cross",x),d:Gte(n,a,m,b,u,f)}))},ix,ij;function Xte(){if(ij)return ix;ij=1;var t=_g(),e=q$(),r=ha();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return ix=n,ix}var Qte=Xte();const Jte=vt(Qte);var ax,aj;function Zte(){if(aj)return ax;aj=1;var t=_g(),e=ha(),r=z$();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return ax=n,ax}var ere=Zte();const tre=vt(ere);var rre=["cx","cy","angle","ticks","axisLine"],nre=["ticks","tick","angle","tickFormatter","stroke"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(this,arguments)}function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sj(t,e){if(t==null)return{};var r=ire(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ire(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I4(n.key),n)}}function ore(t,e,r){return e&&lj(t.prototype,e),r&&lj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sre(t,e,r){return e=gm(e),lre(t,P4()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function lre(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ure(t)}function ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P4=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r1(t,e)}function kg(t,e,r){return e=I4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I4(t){var e=fre(t,"string");return Au(e)=="symbol"?e:e+""}function fre(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pg=function(t){function e(){return are(this,e),sre(this,e,arguments)}return cre(e,t),ore(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Nt(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=Jte(u,function(h){return h.coordinate||0}),f=tre(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=sj(n,rre),h=u.reduce(function(x,E){return[Math.min(x[0],E.coordinate),Math.max(x[1],E.coordinate)]},[1/0,-1/0]),m=Nt(i,a,h[0],s),v=Nt(i,a,h[1],s),b=ks(ks(ks({},Ke(f,!1)),{},{fill:"none"},Ke(c,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return W.createElement("line",cf({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=sj(i,nre),m=this.getTickTextAnchor(),v=Ke(h,!1),b=Ke(s,!1),x=a.map(function(E,w){var C=n.getTickValueCoord(E),O=ks(ks(ks(ks({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},v),{},{stroke:"none",fill:f},b),{},{index:w},C),{},{payload:E});return W.createElement(_t,cf({className:Ze("recharts-polar-radius-axis-tick",v4(s)),key:"tick-".concat(E.coordinate)},Xs(n.props,E,w)),e.renderTickItem(s,O,c?c(E.value,w):E.value))});return W.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:W.createElement(_t,{className:Ze("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ye(n)?s=n(i):s=W.createElement(Qs,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(K.PureComponent);kg(Pg,"displayName","PolarRadiusAxis");kg(Pg,"axisType","radiusAxis");kg(Pg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ns.apply(this,arguments)}function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){Ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C4(n.key),n)}}function hre(t,e,r){return e&&cj(t.prototype,e),r&&cj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pre(t,e,r){return e=ym(e),mre(t,O4()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function mre(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gre(t)}function gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function yre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function Ig(t,e,r){return e=C4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4(t){var e=vre(t,"string");return ku(e)=="symbol"?e:e+""}function vre(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bre=Math.PI/180,fj=1e-5,Og=function(t){function e(){return dre(this,e),pre(this,e,arguments)}return yre(e,t),hre(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=Nt(a,s,u,n.coordinate),v=Nt(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*bre),s;return a>fj?s=i==="outer"?"start":"end":a<-fj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=Ps(Ps({},Ke(this.props,!1)),{},{fill:"none"},Ke(u,!1));if(c==="circle")return W.createElement(bS,Ns({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(v){return Nt(i,a,s,v.coordinate)});return W.createElement(Vte,Ns({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ke(this.props,!1),m=Ke(s,!1),v=Ps(Ps({},h),{},{fill:"none"},Ke(u,!1)),b=a.map(function(x,E){var w=n.getTickLineCoord(x),C=n.getTickTextAnchor(x),O=Ps(Ps(Ps({textAnchor:C},h),{},{stroke:"none",fill:f},m),{},{index:E,payload:x,x:w.x2,y:w.y2});return W.createElement(_t,Ns({className:Ze("recharts-polar-angle-axis-tick",v4(s)),key:"tick-".concat(x.coordinate)},Xs(n.props,x,E)),u&&W.createElement("line",Ns({className:"recharts-polar-angle-axis-tick-line"},v,w)),s&&e.renderTickItem(s,O,c?c(x.value,E):x.value))});return W.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:W.createElement(_t,{className:Ze("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return W.isValidElement(n)?s=W.cloneElement(n,i):Ye(n)?s=n(i):s=W.createElement(Qs,Ns({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(K.PureComponent);Ig(Og,"displayName","PolarAngleAxis");Ig(Og,"axisType","angleAxis");Ig(Og,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ox,dj;function _re(){if(dj)return ox;dj=1;var t=UL(),e=t(Object.getPrototypeOf,Object);return ox=e,ox}var sx,hj;function xre(){if(hj)return sx;hj=1;var t=Xa(),e=_re(),r=Qa(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var v=u.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return sx=f,sx}var wre=xre();const Ere=vt(wre);var lx,pj;function Sre(){if(pj)return lx;pj=1;var t=Xa(),e=Qa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return lx=n,lx}var Tre=Sre();const Are=vt(Tre);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(this,arguments)}function kre(t,e){return Cre(t)||Ore(t,e)||Ire(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return mj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mj(t,e)}}function mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Cre(t){if(Array.isArray(t))return t}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){Nre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nre(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=jre(t,"string");return Kf(e)=="symbol"?e:e+""}function jre(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vj=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},Mre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dre=function(e){var r=yj(yj({},Mre),e),n=K.useRef(),i=K.useState(-1),a=kre(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,v=r.height,b=r.className,x=r.animationEasing,E=r.animationDuration,w=r.animationBegin,C=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||v!==+v||h===0&&m===0||v===0)return null;var O=Ze("recharts-trapezoid",b);return C?W.createElement(Ya,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:v,x:c,y:f},duration:E,animationEasing:x,isActive:C},function(P){var $=P.upperWidth,N=P.lowerWidth,j=P.height,A=P.x,k=P.y;return W.createElement(Ya,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,easing:x},W.createElement("path",vm({},Ke(r,!0),{className:O,d:vj(A,k,$,N,j),ref:n})))}):W.createElement("g",null,W.createElement("path",vm({},Ke(r,!0),{className:O,d:vj(c,f,h,m,v)})))},Lre=["option","shapeType","propTransformer","activeClassName","isActive"];function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function $re(t,e){if(t==null)return{};var r=Fre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(r),!0).forEach(function(n){Vre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vre(t,e,r){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bre(t){var e=Ure(t,"string");return Gf(e)=="symbol"?e:e+""}function Ure(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t,e){return bm(bm({},e),t)}function zre(t,e){return t==="symbols"}function _j(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(vS,r);case"trapezoid":return W.createElement(Dre,r);case"sector":return W.createElement(yS,r);case"symbols":if(zre(e))return W.createElement(ME,r);break;default:return null}}function Wre(t){return K.isValidElement(t)?t.props:t}function N4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?qre:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=$re(t,Lre),f;if(K.isValidElement(e))f=K.cloneElement(e,bm(bm({},c),Wre(e)));else if(Ye(e))f=e(c);else if(Ere(e)&&!Are(e)){var h=i(e,c);f=W.createElement(_j,{shapeType:r,elementProps:h})}else{var m=c;f=W.createElement(_j,{shapeType:r,elementProps:m})}return u?W.createElement(_t,{className:s},f):f}function Cg(t,e){return e!=null&&"trapezoids"in t.props}function Ng(t,e){return e!=null&&"sectors"in t.props}function Yf(t,e){return e!=null&&"points"in t.props}function Hre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Kre(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Gre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Yre(t,e){var r;return Cg(t,e)?r=Hre:Ng(t,e)?r=Kre:Yf(t,e)&&(r=Gre),r}function Xre(t,e){var r;return Cg(t,e)?r="trapezoids":Ng(t,e)?r="sectors":Yf(t,e)&&(r="points"),r}function Qre(t,e){if(Cg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ng(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yf(t,e)?e.payload:{}}function Jre(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Xre(r,e),a=Qre(r,e),s=n.filter(function(c,f){var h=Eg(a,c),m=r.props[i].filter(function(x){var E=Yre(r,e);return E(x,e)}),v=r.props[i].indexOf(m[m.length-1]),b=f===v;return h&&b}),u=n.indexOf(s[s.length-1]);return u}var xp;function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j4(n.key),n)}}function ene(t,e,r){return e&&wj(t.prototype,e),r&&wj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tne(t,e,r){return e=_m(e),rne(t,R4()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function rne(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(t)}function nne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i1(t,e)}function si(t,e,r){return e=j4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4(t){var e=ane(t,"string");return Pu(e)=="symbol"?e:e+""}function ane(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Za=function(t){function e(r){var n;return Zre(this,e),n=tne(this,e,[r]),si(n,"pieRef",null),si(n,"sectorRefs",[]),si(n,"id",wd("recharts-pie-")),si(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(i)&&i()}),si(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ine(e,t),ene(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ke(this.props,!1),m=Ke(s,!1),v=Ke(u,!1),b=s&&s.offsetRadius||20,x=n.map(function(E,w){var C=(E.startAngle+E.endAngle)/2,O=Nt(E.cx,E.cy,E.outerRadius+b,C),P=Ot(Ot(Ot(Ot({},h),E),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(O.x,E.cx)},O),$=Ot(Ot(Ot(Ot({},h),E),{},{fill:"none",stroke:E.fill},v),{},{index:w,points:[Nt(E.cx,E.cy,E.outerRadius,C),O]}),N=c;return tt(c)&&tt(f)?N="value":tt(c)&&(N=f),W.createElement(_t,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,$,"line"),e.renderLabelItem(s,P,Xr(E,N)))});return W.createElement(_t,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,b=m?s:v,x=Ot(Ot({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return W.createElement(_t,Jl({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Xs(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),W.createElement(N4,Jl({option:b,isActive:m,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,v=m.prevSectors,b=m.prevIsAnimationActive;return W.createElement(Ya,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var E=x.t,w=[],C=a&&a[0],O=C.startAngle;return a.forEach(function(P,$){var N=v&&v[$],j=$>0?Bn(P,"paddingAngle",0):0;if(N){var A=Po(N.endAngle-N.startAngle,P.endAngle-P.startAngle),k=Ot(Ot({},P),{},{startAngle:O+j,endAngle:O+A(E)+j});w.push(k),O=k.endAngle}else{var R=P.endAngle,F=P.startAngle,L=Po(0,R-F),V=L(E),M=Ot(Ot({},P),{},{startAngle:O+j,endAngle:O+V+j});w.push(M),O=M.endAngle}}),W.createElement(_t,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,v=i.outerRadius,b=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!ve(f)||!ve(h)||!ve(m)||!ve(v))return null;var E=Ze("recharts-pie",u);return W.createElement(_t,{tabIndex:this.props.rootTabIndex,className:E,ref:function(C){n.pieRef=C}},this.renderSectors(),c&&this.renderLabels(s),kr.renderCallByParent(this.props,null,!1),(!b||x)&&Wo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);if(Ye(n))return n(i);var s=Ze("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(qw,Jl({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(W.isValidElement(n))return W.cloneElement(n,i);var s=a;if(Ye(n)&&(s=n(i),W.isValidElement(s)))return s;var u=Ze("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return W.createElement(Qs,Jl({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(K.PureComponent);xp=Za;si(Za,"displayName","Pie");si(Za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ku.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});si(Za,"parseDeltaAngle",function(t,e){var r=on(e-t),n=Math.min(Math.abs(e-t),360);return r*n});si(Za,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ke(t,!1),i=ui(r,hg);return e&&e.length?e.map(function(a,s){return Ot(Ot(Ot({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ot(Ot({},n),a.props)}):[]});si(Za,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=y4(i,a),u=n+sn(t.cx,i,i/2),c=r+sn(t.cy,a,a/2),f=sn(t.innerRadius,s,0),h=sn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});si(Za,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=xp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,m=n.valueKey,v=n.tooltipType,b=Math.abs(n.minAngle),x=xp.parseCoordinateOfPie(n,r),E=xp.parseDeltaAngle(s,u),w=Math.abs(E),C=f;tt(f)&&tt(m)?(Ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):tt(f)&&(Ri(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=m);var O=i.filter(function(k){return Xr(k,C,0)!==0}).length,P=(w>=360?O:O-1)*c,$=w-O*b-P,N=i.reduce(function(k,R){var F=Xr(R,C,0);return k+(ve(F)?F:0)},0),j;if(N>0){var A;j=i.map(function(k,R){var F=Xr(k,C,0),L=Xr(k,h,R),V=(ve(F)?F:0)/N,M;R?M=A.endAngle+on(E)*c*(F!==0?1:0):M=s;var Z=M+on(E)*((F!==0?b:0)+V*$),te=(M+Z)/2,ne=(x.innerRadius+x.outerRadius)/2,ae=[{name:L,value:F,payload:k,dataKey:C,type:v}],Q=Nt(x.cx,x.cy,ne,te);return A=Ot(Ot(Ot({percent:V,cornerRadius:a,name:L,tooltipPayload:ae,midAngle:te,middleRadius:ne,tooltipPosition:Q},k),x),{},{value:Xr(k,C),startAngle:M,endAngle:Z,payload:k,paddingAngle:on(E)*c}),A})}return Ot(Ot({},x),{},{sectors:j,data:i})});var ux,Ej;function one(){if(Ej)return ux;Ej=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return ux=r,ux}var cx,Sj;function M4(){if(Sj)return cx;Sj=1;var t=i$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return cx=n,cx}var fx,Tj;function sne(){if(Tj)return fx;Tj=1;var t=one(),e=dg(),r=M4();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return fx=n,fx}var dx,Aj;function lne(){if(Aj)return dx;Aj=1;var t=sne(),e=t();return dx=e,dx}var une=lne();const xm=vt(une);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){D4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D4(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=fne(t,"string");return Xf(e)=="symbol"?e:e+""}function fne(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dne=["Webkit","Moz","O","ms"],hne=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=dne.reduce(function(a,s){return Pj(Pj({},a),{},D4({},s+n,r))},{});return i[e]=r,i};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wm.apply(this,arguments)}function Ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$4(n.key),n)}}function mne(t,e,r){return e&&Oj(t.prototype,e),r&&Oj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gne(t,e,r){return e=Em(e),yne(t,L4()?Reflect.construct(e,r||[],Em(t).constructor):e.apply(t,r))}function yne(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vne(t)}function vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function Mn(t,e,r){return e=$4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $4(t){var e=_ne(t,"string");return Iu(e)=="symbol"?e:e+""}function _ne(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xne=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=of().domain(xm(0,c)).range([a,a+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},Cj=function(e){return e.changedTouches&&!!e.changedTouches.length},Ou=function(t){function e(r){var n;return pne(this,e),n=gne(this,e,[r]),Mn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mn(n,"handleSlideDragStart",function(i){var a=Cj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return bne(e,t),mne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(i,a),v=Math.max(i,a),b=e.getIndexInRange(s,m),x=e.getIndexInRange(s,v);return{startIndex:b-b%c,endIndex:x===h?h:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=Xr(a[n],u,n);return Ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,v=c.startIndex,b=c.endIndex,x=c.onChange,E=n.pageX-a;E>0?E=Math.min(E,f+h-m-u,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-u));var w=this.getIndex({startX:s+E,endX:u+E});(w.startIndex!==v||w.endIndex!==b)&&x&&x(w),this.setState({startX:s+E,endX:u+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Cj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,v=h.width,b=h.travellerWidth,x=h.onChange,E=h.gap,w=h.data,C={startX:this.state.startX,endX:this.state.endX},O=n.pageX-a;O>0?O=Math.min(O,m+v-b-f):O<0&&(O=Math.max(O,m-f)),C[s]=f+O;var P=this.getIndex(C),$=P.startIndex,N=P.endIndex,j=function(){var k=w.length-1;return s==="startX"&&(u>c?$%E===0:N%E===0)||u<c&&N===k||s==="endX"&&(u>c?N%E===0:$%E===0)||u>c&&N===k};this.setState(Mn(Mn({},s,f+O),"brushMoveStartX",n.pageX),function(){x&&j()&&x(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var v=m+n;if(!(v===-1||v>=u.length)){var b=u[v];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Mn({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return W.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,m=K.Children.only(f);return m?W.cloneElement(m,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,v=c.traveller,b=c.ariaLabel,x=c.data,E=c.startIndex,w=c.endIndex,C=Math.max(n,this.props.x),O=hx(hx({},Ke(this.props,!1)),{},{x:C,y:f,width:h,height:m}),P=b||"Min value: ".concat((a=x[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[w])===null||s===void 0?void 0:s.name);return W.createElement(_t,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,O))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,v=h.endX,b=5,x={pointerEvents:"none",fill:f};return W.createElement(_t,{className:"recharts-brush-texts"},W.createElement(Qs,wm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-b,y:s+u/2},x),this.getTextOfTick(i)),W.createElement(Qs,wm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+b,y:s+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,m=n.alwaysShowText,v=this.state,b=v.startX,x=v.endX,E=v.isTextActive,w=v.isSlideMoving,C=v.isTravellerMoving,O=v.isTravellerFocused;if(!i||!i.length||!ve(u)||!ve(c)||!ve(f)||!ve(h)||f<=0||h<=0)return null;var P=Ze("recharts-brush",a),$=W.Children.count(s)===1,N=hne("userSelect","none");return W.createElement(_t,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(E||w||C||O||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),W.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return W.isValidElement(n)?a=W.cloneElement(n,i):Ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return hx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?xne({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(K.PureComponent);Mn(Ou,"displayName","Brush");Mn(Ou,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var px,Nj;function wne(){if(Nj)return px;Nj=1;var t=UE();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return px=e,px}var mx,Rj;function Ene(){if(Rj)return mx;Rj=1;var t=ML(),e=ha(),r=wne(),n=Sn(),i=dg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return mx=a,mx}var Sne=Ene();const Tne=vt(Sne);var sa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},gx,jj;function Ane(){if(jj)return gx;jj=1;var t=ZL();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return gx=e,gx}var yx,Mj;function kne(){if(Mj)return yx;Mj=1;var t=Ane(),e=QL(),r=ha();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return yx=n,yx}var Pne=kne();const Ine=vt(Pne);var vx,Dj;function One(){if(Dj)return vx;Dj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return vx=t,vx}var bx,Lj;function Cne(){if(Lj)return bx;Lj=1;var t=UE();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return bx=e,bx}var _x,$j;function Nne(){if($j)return _x;$j=1;var t=One(),e=Cne(),r=ha(),n=Sn(),i=dg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return _x=a,_x}var Rne=Nne();const F4=vt(Rne);var jne=["x","y"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){Mne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mne(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dne(t){var e=Lne(t,"string");return Qf(e)=="symbol"?e:e+""}function Lne(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ne(t,e){if(t==null)return{};var r=Fne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vne(t,e){var r=t.x,n=t.y,i=$ne(t,jne),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),v=parseInt(m,10);return Bc(Bc(Bc(Bc(Bc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Vj(t){return W.createElement(N4,o1({shapeType:"rectangle",propTransformer:Vne,activeClassName:"recharts-active-bar"},t))}var Bne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ve(n)||d7(n);return a?e(n,i):(a||Zs(),r)}},Une=["value","background"],V4;function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function qne(t,e){if(t==null)return{};var r=zne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){Lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U4(n.key),n)}}function Hne(t,e,r){return e&&Uj(t.prototype,e),r&&Uj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kne(t,e,r){return e=Tm(e),Gne(t,B4()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function Gne(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yne(t)}function Yne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function Xne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s1(t,e)}function Lo(t,e,r){return e=U4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U4(t){var e=Qne(t,"string");return Cu(e)=="symbol"?e:e+""}function Qne(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ca=function(t){function e(){var r;Wne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Kne(this,e,[].concat(i)),Lo(r,"state",{isAnimationFinished:!1}),Lo(r,"id",wd("recharts-bar-")),Lo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Lo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Xne(e,t),Hne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ke(this.props,!1);return n&&n.map(function(m,v){var b=v===c,x=b?f:s,E=sr(sr(sr({},h),m),{},{isActive:b,option:x,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return W.createElement(_t,Sm({className:"recharts-bar-rectangle"},Xs(i.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),W.createElement(Vj,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,v=this.state.prevData;return W.createElement(Ya,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,E=a.map(function(w,C){var O=v&&v[C];if(O){var P=Po(O.x,w.x),$=Po(O.y,w.y),N=Po(O.width,w.width),j=Po(O.height,w.height);return sr(sr({},w),{},{x:P(x),y:$(x),width:N(x),height:j(x)})}if(s==="horizontal"){var A=Po(0,w.height),k=A(x);return sr(sr({},w),{},{y:w.y+w.height-k,height:k})}var R=Po(0,w.width),F=R(x);return sr(sr({},w),{},{width:F})});return W.createElement(_t,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Eg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Ke(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,v=qne(f,Une);if(!m)return null;var b=sr(sr(sr(sr(sr({},v),{},{fill:"#eee"},m),c),Xs(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return W.createElement(Vj,Sm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=ui(h,Ag);if(!m)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,b=function(w,C){var O=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:O,errorVal:Xr(w,C)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return W.createElement(_t,x,m.map(function(E){return W.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,m=n.width,v=n.height,b=n.isAnimationActive,x=n.background,E=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,C=Ze("recharts-bar",s),O=u&&u.allowDataOverflow,P=c&&c.allowDataOverflow,$=O||P,N=tt(E)?this.id:E;return W.createElement(_t,{className:C},O||P?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(N)},W.createElement("rect",{x:O?f:f-m/2,y:P?h:h-v/2,width:O?m:m*2,height:P?v:v*2}))):null,W.createElement(_t,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,N),(!b||w)&&Wo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(K.PureComponent);V4=ca;Lo(ca,"displayName","Bar");Lo(ca,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ku.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Lo(ca,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,v=t.offset,b=AJ(n,r);if(!b)return null;var x=e.layout,E=r.type.defaultProps,w=E!==void 0?sr(sr({},E),r.props):r.props,C=w.dataKey,O=w.children,P=w.minPointSize,$=x==="horizontal"?s:a,N=f?$.scale.domain():null,j=RJ({numericAxis:$}),A=ui(O,hg),k=m.map(function(R,F){var L,V,M,Z,te,ne;f?L=kJ(f[h+F],N):(L=Xr(R,C),Array.isArray(L)||(L=[j,L]));var ae=Bne(P,V4.defaultProps.minPointSize)(L[1],F);if(x==="horizontal"){var Q,ie=[s.scale(L[0]),s.scale(L[1])],oe=ie[0],q=ie[1];V=hR({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:R,index:F}),M=(Q=q??oe)!==null&&Q!==void 0?Q:void 0,Z=b.size;var G=oe-q;if(te=Number.isNaN(G)?0:G,ne={x:V,y:s.y,width:Z,height:s.height},Math.abs(ae)>0&&Math.abs(te)<Math.abs(ae)){var ce=on(te||ae)*(Math.abs(ae)-Math.abs(te));M-=ce,te+=ce}}else{var xe=[a.scale(L[0]),a.scale(L[1])],Re=xe[0],be=xe[1];if(V=Re,M=hR({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:R,index:F}),Z=be-Re,te=b.size,ne={x:a.x,y:M,width:a.width,height:te},Math.abs(ae)>0&&Math.abs(Z)<Math.abs(ae)){var Me=on(Z||ae)*(Math.abs(ae)-Math.abs(Z));Z+=Me}}return sr(sr(sr({},R),{},{x:V,y:M,width:Z,height:te,value:f?L:L[1],payload:R,background:ne},A&&A[F]&&A[F].props),{},{tooltipPayload:[m4(r,R)],tooltipPosition:{x:V+Z/2,y:M+te/2}})});return sr({data:k,layout:x},v)});function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q4(n.key),n)}}function Zne(t,e,r){return e&&qj(t.prototype,e),r&&qj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){Rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rg(t,e,r){return e=q4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q4(t){var e=eie(t,"string");return Jf(e)=="symbol"?e:e+""}function eie(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tie=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!Dn(f,ca);return h.reduce(function(b,x){var E=r[x],w=E.orientation,C=E.domain,O=E.padding,P=O===void 0?{}:O,$=E.mirror,N=E.reversed,j="".concat(w).concat($?"Mirror":""),A,k,R,F,L;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=C[1]-C[0],M=1/0,Z=E.categoricalDomain.sort(m7);if(Z.forEach(function(xe,Re){Re>0&&(M=Math.min((xe||0)-(Z[Re-1]||0),M))}),Number.isFinite(M)){var te=M/V,ne=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(A=te*ne/2),E.padding==="no-gap"){var ae=sn(e.barCategoryGap,te*ne),Q=te*ne/2;A=Q-ae-(Q-ae)/ne*ae}}}i==="xAxis"?k=[n.left+(P.left||0)+(A||0),n.left+n.width-(P.right||0)-(A||0)]:i==="yAxis"?k=c==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(A||0),n.top+n.height-(P.bottom||0)-(A||0)]:k=E.range,N&&(k=[k[1],k[0]]);var ie=f4(E,a,v),oe=ie.scale,q=ie.realScaleType;oe.domain(C).range(k),d4(oe);var G=h4(oe,Ci(Ci({},E),{},{realScaleType:q}));i==="xAxis"?(L=w==="top"&&!$||w==="bottom"&&$,R=n.left,F=m[j]-L*E.height):i==="yAxis"&&(L=w==="left"&&!$||w==="right"&&$,R=m[j]-L*E.width,F=n.top);var ce=Ci(Ci(Ci({},E),G),{},{realScaleType:q,x:R,y:F,scale:oe,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return ce.bandSize=um(ce,G),!E.hide&&i==="xAxis"?m[j]+=(L?-1:1)*ce.height:E.hide||(m[j]+=(L?-1:1)*ce.width),Ci(Ci({},b),{},Rg({},x,ce))},{})},z4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},rie=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return z4({x:r,y:n},{x:i,y:a})},W4=function(){function t(e){Jne(this,t),this.scale=e}return Zne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Rg(W4,"EPS",1e-4);var _S=function(e){var r=Object.keys(e).reduce(function(n,i){return Ci(Ci({},n),{},Rg({},i,W4.create(e[i])))},{});return Ci(Ci({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return Ine(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return F4(i,function(a,s){return r[s].isInRange(a)})}})};function nie(t){return(t%180+180)%180}var iie=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=nie(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},xx,Wj;function aie(){if(Wj)return xx;Wj=1;var t=ha(),e=Ed(),r=cg();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return xx=n,xx}var wx,Hj;function oie(){if(Hj)return wx;Hj=1;var t=M4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return wx=e,wx}var Ex,Kj;function sie(){if(Kj)return Ex;Kj=1;var t=HL(),e=ha(),r=oie(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return Ex=i,Ex}var Sx,Gj;function lie(){if(Gj)return Sx;Gj=1;var t=aie(),e=sie(),r=t(e);return Sx=r,Sx}var uie=lie();const cie=vt(uie);var fie=lL();const die=vt(fie);var hie=die(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),xS=K.createContext(void 0),wS=K.createContext(void 0),H4=K.createContext(void 0),K4=K.createContext({}),G4=K.createContext(void 0),Y4=K.createContext(0),X4=K.createContext(0),Yj=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=hie(a);return W.createElement(xS.Provider,{value:n},W.createElement(wS.Provider,{value:i},W.createElement(K4.Provider,{value:a},W.createElement(H4.Provider,{value:h},W.createElement(G4.Provider,{value:s},W.createElement(Y4.Provider,{value:f},W.createElement(X4.Provider,{value:c},u)))))))},pie=function(){return K.useContext(G4)},Q4=function(e){var r=K.useContext(xS);r==null&&Zs();var n=r[e];return n==null&&Zs(),n},mie=function(){var e=K.useContext(xS);return Mo(e)},gie=function(){var e=K.useContext(wS),r=cie(e,function(n){return F4(n.domain,Number.isFinite)});return r||Mo(e)},J4=function(e){var r=K.useContext(wS);r==null&&Zs();var n=r[e];return n==null&&Zs(),n},yie=function(){var e=K.useContext(H4);return e},vie=function(){return K.useContext(K4)},ES=function(){return K.useContext(X4)},SS=function(){return K.useContext(Y4)};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eF(n.key),n)}}function xie(t,e,r){return e&&_ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wie(t,e,r){return e=Am(e),Eie(t,Z4()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Eie(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sie(t)}function Sie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l1(t,e)}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){TS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TS(t,e,r){return e=eF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eF(t){var e=Aie(t,"string");return Nu(e)=="symbol"?e:e+""}function Aie(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kie(t,e){return Cie(t)||Oie(t,e)||Iie(t,e)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return Jj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(t,e)}}function Jj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Cie(t){if(Array.isArray(t))return t}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}var Nie=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Ye(e)?n=e(r):n=W.createElement("line",u1({},r,{className:"recharts-reference-line-line"})),n},Rie=function(e,r,n,i,a,s,u,c,f){var h=a.x,m=a.y,v=a.width,b=a.height;if(n){var x=f.y,E=e.y.apply(x,{position:s});if(sa(f,"discard")&&!e.y.isInRange(E))return null;var w=[{x:h+v,y:E},{x:h,y:E}];return c==="left"?w.reverse():w}if(r){var C=f.x,O=e.x.apply(C,{position:s});if(sa(f,"discard")&&!e.x.isInRange(O))return null;var P=[{x:O,y:m+b},{x:O,y:m}];return u==="top"?P.reverse():P}if(i){var $=f.segment,N=$.map(function(j){return e.apply(j,{position:s})});return sa(f,"discard")&&Tne(N,function(j){return!e.isInRange(j)})?null:N}return null};function jie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=pie(),h=Q4(i),m=J4(a),v=yie();if(!f||!v)return null;Ri(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=_S({x:h.scale,y:m.scale}),x=yr(e),E=yr(r),w=n&&n.length===2,C=Rie(b,x,E,w,v,t.position,h.orientation,m.orientation,t);if(!C)return null;var O=kie(C,2),P=O[0],$=P.x,N=P.y,j=O[1],A=j.x,k=j.y,R=sa(t,"hidden")?"url(#".concat(f,")"):void 0,F=Qj(Qj({clipPath:R},Ke(t,!0)),{},{x1:$,y1:N,x2:A,y2:k});return W.createElement(_t,{className:Ze("recharts-reference-line",u)},Nie(s,F),kr.renderCallByParent(t,rie({x1:$,y1:N,x2:A,y2:k})))}var AS=function(t){function e(){return bie(this,e),wie(this,e,arguments)}return Tie(e,t),xie(e,[{key:"render",value:function(){return W.createElement(jie,this.props)}}])}(W.Component);TS(AS,"displayName","ReferenceLine");TS(AS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function Zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(r),!0).forEach(function(n){jg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Die(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rF(n.key),n)}}function Lie(t,e,r){return e&&Die(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ie(t,e,r){return e=km(e),Fie(t,tF()?Reflect.construct(e,r||[],km(t).constructor):e.apply(t,r))}function Fie(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vie(t)}function Vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(t)}function Bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function jg(t,e,r){return e=rF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rF(t){var e=Uie(t,"string");return Ru(e)=="symbol"?e:e+""}function Uie(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=_S({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return sa(e,"discard")&&!s.isInRange(u)?null:u},Mg=function(t){function e(){return Mie(this,e),$ie(this,e,arguments)}return Bie(e,t),Lie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=yr(i),h=yr(a);if(Ri(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=qie(this.props);if(!m)return null;var v=m.x,b=m.y,x=this.props,E=x.shape,w=x.className,C=sa(this.props,"hidden")?"url(#".concat(c,")"):void 0,O=e2(e2({clipPath:C},Ke(this.props,!0)),{},{cx:v,cy:b});return W.createElement(_t,{className:Ze("recharts-reference-dot",w)},e.renderDot(E,O),kr.renderCallByParent(this.props,{x:v-s,y:b-s,width:2*s,height:2*s}))}}])}(W.Component);jg(Mg,"displayName","ReferenceDot");jg(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jg(Mg,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ye(t)?r=t(e):r=W.createElement(bS,c1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function t2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(r),!0).forEach(function(n){Dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iF(n.key),n)}}function Hie(t,e,r){return e&&Wie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,r){return e=Pm(e),Gie(t,nF()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function Gie(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yie(t)}function Yie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function Dg(t,e,r){return e=iF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iF(t){var e=Qie(t,"string");return ju(e)=="symbol"?e:e+""}function Qie(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jie=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var v=_S({x:h.scale,y:m.scale}),b={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},x={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return sa(a,"discard")&&(!v.isInRange(b)||!v.isInRange(x))?null:z4(b,x)},Lg=function(t){function e(){return zie(this,e),Kie(this,e,arguments)}return Xie(e,t),Hie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Ri(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=yr(i),v=yr(a),b=yr(s),x=yr(u),E=this.props.shape;if(!m&&!v&&!b&&!x&&!E)return null;var w=Jie(m,v,b,x,this.props);if(!w&&!E)return null;var C=sa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return W.createElement(_t,{className:Ze("recharts-reference-area",c)},e.renderRect(E,r2(r2({clipPath:C},Ke(this.props,!0)),w)),kr.renderCallByParent(this.props,w))}}])}(W.Component);Dg(Lg,"displayName","ReferenceArea");Dg(Lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dg(Lg,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Ye(t)?r=t(e):r=W.createElement(vS,d1({},e,{className:"recharts-reference-area-rect"})),r});function aF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Zie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return iie(n,r)}function eae(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function Im(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function tae(t,e){return aF(t,e+1)}function rae(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,m=function(){var x=n?.[c];if(x===void 0)return{v:aF(n,f)};var E=c,w,C=function(){return w===void 0&&(w=r(x,E)),w},O=x.coordinate,P=c===0||Im(t,O,C,h,u);P||(c=0,h=s,f+=1),P&&(h=O+t*(C()/2+i),c+=f)},v;f<=a.length;)if(v=m(),v)return v.v;return[]}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){nae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nae(t,e,r){return e=iae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=aae(t,"string");return Zf(e)=="symbol"?e:e+""}function aae(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oae(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(v){var b=a[v],x,E=function(){return x===void 0&&(x=r(b,v)),x};if(v===s-1){var w=t*(b.coordinate+t*E()/2-c);a[v]=b=Hr(Hr({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[v]=b=Hr(Hr({},b),{},{tickCoord:b.coordinate});var C=Im(t,b.tickCoord,E,u,c);C&&(c=b.tickCoord-t*(E()/2+i),a[v]=Hr(Hr({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function sae(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],m=r(h,u-1),v=t*(h.coordinate+t*m/2-f);s[u-1]=h=Hr(Hr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var b=Im(t,h.tickCoord,function(){return m},c,f);b&&(f=h.tickCoord-t*(m/2+i),s[u-1]=Hr(Hr({},h),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(O){var P=s[O],$,N=function(){return $===void 0&&($=r(P,O)),$};if(O===0){var j=t*(P.coordinate-t*N()/2-c);s[O]=P=Hr(Hr({},P),{},{tickCoord:j<0?P.coordinate-j*t:P.coordinate})}else s[O]=P=Hr(Hr({},P),{},{tickCoord:P.coordinate});var A=Im(t,P.tickCoord,N,c,f);A&&(c=P.tickCoord+t*(N()/2+i),s[O]=Hr(Hr({},P),{},{isShow:!0}))},w=0;w<x;w++)E(w);return s}function kS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||Ku.isSsr)return tae(i,typeof c=="number"&&ve(c)?c:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",x=h&&b==="width"?af(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(P,$){var N=Ye(f)?f(P.value,$):P.value;return b==="width"?Zie(af(N,{fontSize:e,letterSpacing:r}),x,m):af(N,{fontSize:e,letterSpacing:r})[b]},w=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,C=eae(a,w,b);return c==="equidistantPreserveStart"?rae(w,C,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=sae(w,C,E,i,s,c==="preserveStartEnd"):v=oae(w,C,E,i,s),v.filter(function(O){return O.isShow}))}var lae=["viewBox"],uae=["viewBox"],cae=["ticks"];function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(this,arguments)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){PS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tx(t,e){if(t==null)return{};var r=fae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sF(n.key),n)}}function hae(t,e,r){return e&&a2(t.prototype,e),r&&a2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pae(t,e,r){return e=Om(e),mae(t,oF()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function mae(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(t)}function gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function PS(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=vae(t,"string");return Mu(e)=="symbol"?e:e+""}function vae(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qu=function(t){function e(r){var n;return dae(this,e),n=pae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return yae(e,t),hae(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Tx(n,lae),u=this.props,c=u.viewBox,f=Tx(u,uae);return!ou(a,c)||!ou(s,f)||!ou(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,v=i.tickMargin,b,x,E,w,C,O,P=m?-1:1,$=n.tickSize||h,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=x=n.coordinate,w=s+ +!m*c,E=w-P*$,O=E-P*v,C=N;break;case"left":E=w=n.coordinate,x=a+ +!m*u,b=x-P*$,C=b-P*v,O=N;break;case"right":E=w=n.coordinate,x=a+ +m*u,b=x+P*$,C=b+P*v,O=N;break;default:b=x=n.coordinate,w=s+ +m*c,E=w+P*$,O=E+P*v,C=N;break}return{line:{x1:b,y1:E,x2:x,y2:w},tick:{x:C,y:O}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,m=mr(mr(mr({},Ke(this.props,!1)),Ke(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);m=mr(mr({},m),{},{x1:i,y1:a+v*u,x2:i+s,y2:a+v*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);m=mr(mr({},m),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return W.createElement("line",Zl({},m,{className:Ze("recharts-cartesian-axis-line",Bn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,v=u.unit,b=kS(mr(mr({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),w=Ke(this.props,!1),C=Ke(h,!1),O=mr(mr({},w),{},{fill:"none"},Ke(c,!1)),P=b.map(function($,N){var j=s.getTickLineCoord($),A=j.line,k=j.tick,R=mr(mr(mr(mr({textAnchor:x,verticalAnchor:E},w),{},{stroke:"none",fill:f},C),k),{},{index:N,payload:$,visibleTicksCount:b.length,tickFormatter:m});return W.createElement(_t,Zl({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Xs(s.props,$,N)),c&&W.createElement("line",Zl({},O,A,{className:Ze("recharts-cartesian-axis-tick-line",Bn(c,"className"))})),h&&e.renderTickItem(h,R,"".concat(Ye(m)?m($.value,N):$.value).concat(v||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,v=m.ticks,b=Tx(m,cae),x=v;return Ye(c)&&(x=v&&v.length>0?c(this.props):c(b)),s<=0||u<=0||!x||!x.length?null:W.createElement(_t,{className:Ze("recharts-cartesian-axis",f),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=Ze(i.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?s=W.cloneElement(n,mr(mr({},i),{},{className:u})):Ye(n)?s=n(mr(mr({},i),{},{className:u})):s=W.createElement(Qs,Zl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(K.Component);PS(Qu,"displayName","CartesianAxis");PS(Qu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bae=["x1","y1","x2","y2","key"],_ae=["offset"];function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){xae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xae(t,e,r){return e=wae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wae(t){var e=Eae(t,"string");return el(e)=="symbol"?e:e+""}function Eae(t,e){if(el(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ls.apply(this,arguments)}function s2(t,e){if(t==null)return{};var r=Sae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return W.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lF(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=s2(e,bae),f=Ke(c,!1);f.offset;var h=s2(f,_ae);r=W.createElement("line",Ls({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function Aae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Yr(Yr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return lF(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function kae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Yr(Yr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return lF(i,f)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Pae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,b){return v-b});i!==h[0]&&h.unshift(0);var m=h.map(function(v,b){var x=!h[b+1],E=x?i+s-v:h[b+1]-v;if(E<=0)return null;var w=b%e.length;return W.createElement("rect",{key:"react-".concat(b),y:v,x:n,height:E,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Iae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,b){return v-b});a!==h[0]&&h.unshift(0);var m=h.map(function(v,b){var x=!h[b+1],E=x?a+u-v:h[b+1]-v;if(E<=0)return null;var w=b%n.length;return W.createElement("rect",{key:"react-".concat(b),x:v,y:s,width:E,height:c,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Oae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return c4(kS(Yr(Yr(Yr({},Qu.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Cae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return c4(kS(Yr(Yr(Yr({},Qu.defaultProps),n),{},{ticks:La(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Wl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function IS(t){var e,r,n,i,a,s,u=ES(),c=SS(),f=vie(),h=Yr(Yr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Wl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Wl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Wl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Wl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Wl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Wl.verticalFill,x:ve(t.x)?t.x:f.left,y:ve(t.y)?t.y:f.top,width:ve(t.width)?t.width:f.width,height:ve(t.height)?t.height:f.height}),m=h.x,v=h.y,b=h.width,x=h.height,E=h.syncWithTicks,w=h.horizontalValues,C=h.verticalValues,O=mie(),P=gie();if(!ve(b)||b<=0||!ve(x)||x<=0||!ve(m)||m!==+m||!ve(v)||v!==+v)return null;var $=h.verticalCoordinatesGenerator||Oae,N=h.horizontalCoordinatesGenerator||Cae,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ye(N)){var k=w&&w.length,R=N({yAxis:P?Yr(Yr({},P),{},{ticks:k?w:P.ticks}):void 0,width:u,height:c,offset:f},k?!0:E);Ri(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(el(R),"]")),Array.isArray(R)&&(j=R)}if((!A||!A.length)&&Ye($)){var F=C&&C.length,L=$({xAxis:O?Yr(Yr({},O),{},{ticks:F?C:O.ticks}):void 0,width:u,height:c,offset:f},F?!0:E);Ri(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(el(L),"]")),Array.isArray(L)&&(A=L)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(Tae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),W.createElement(Aae,Ls({},h,{offset:f,horizontalPoints:j,xAxis:O,yAxis:P})),W.createElement(kae,Ls({},h,{offset:f,verticalPoints:A,xAxis:O,yAxis:P})),W.createElement(Pae,Ls({},h,{horizontalPoints:j})),W.createElement(Iae,Ls({},h,{verticalPoints:A})))}IS.displayName="CartesianGrid";function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Nae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fF(n.key),n)}}function jae(t,e,r){return e&&Rae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,r){return e=Cm(e),Dae(t,uF()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function Dae(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lae(t)}function Lae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function $ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(t,e)}function cF(t,e,r){return e=fF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fF(t){var e=Fae(t,"string");return Du(e)=="symbol"?e:e+""}function Fae(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function Vae(t){var e=t.xAxisId,r=ES(),n=SS(),i=Q4(e);return i==null?null:K.createElement(Qu,g1({},i,{className:Ze("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return La(s,!0)}}))}var Pd=function(t){function e(){return Nae(this,e),Mae(this,e,arguments)}return $ae(e,t),jae(e,[{key:"render",value:function(){return K.createElement(Vae,this.props)}}])}(K.Component);cF(Pd,"displayName","XAxis");cF(Pd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pF(n.key),n)}}function qae(t,e,r){return e&&Uae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zae(t,e,r){return e=Nm(e),Wae(t,dF()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function Wae(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hae(t)}function Hae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function Kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function hF(t,e,r){return e=pF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pF(t){var e=Gae(t,"string");return Lu(e)=="symbol"?e:e+""}function Gae(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}var Yae=function(e){var r=e.yAxisId,n=ES(),i=SS(),a=J4(r);return a==null?null:K.createElement(Qu,v1({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return La(u,!0)}}))},Id=function(t){function e(){return Bae(this,e),zae(this,e,arguments)}return Kae(e,t),qae(e,[{key:"render",value:function(){return K.createElement(Yae,this.props)}}])}(K.Component);hF(Id,"displayName","YAxis");hF(Id,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function l2(t){return Zae(t)||Jae(t)||Qae(t)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return b1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(t,e)}}function Jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zae(t){if(Array.isArray(t))return b1(t)}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _1=function(e,r,n,i,a){var s=ui(e,AS),u=ui(e,Mg),c=[].concat(l2(s),l2(u)),f=ui(e,Lg),h="".concat(i,"Id"),m=i[0],v=r;if(c.length&&(v=c.reduce(function(E,w){if(w.props[h]===n&&sa(w.props,"extendDomain")&&ve(w.props[m])){var C=w.props[m];return[Math.min(E[0],C),Math.max(E[1],C)]}return E},v)),f.length){var b="".concat(m,"1"),x="".concat(m,"2");v=f.reduce(function(E,w){if(w.props[h]===n&&sa(w.props,"extendDomain")&&ve(w.props[b])&&ve(w.props[x])){var C=w.props[b],O=w.props[x];return[Math.min(E[0],C,O),Math.max(E[1],C,O)]}return E},v)}return a&&a.length&&(v=a.reduce(function(E,w){return ve(w)?[Math.min(E[0],w),Math.max(E[1],w)]:E},v)),v},Ax={exports:{}},u2;function eoe(){return u2||(u2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,v),x=r?r+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,x=new Array(b);v<b;v++)x[v]=m[v].fn;return x},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,v,b,x){var E=r?r+f:f;if(!this._events[E])return!1;var w=this._events[E],C=arguments.length,O,P;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,v),!0;case 5:return w.fn.call(w.context,h,m,v,b),!0;case 6:return w.fn.call(w.context,h,m,v,b,x),!0}for(P=1,O=new Array(C-1);P<C;P++)O[P-1]=arguments[P];w.fn.apply(w.context,O)}else{var $=w.length,N;for(P=0;P<$;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),C){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,h);break;case 3:w[P].fn.call(w[P].context,h,m);break;case 4:w[P].fn.call(w[P].context,h,m,v);break;default:if(!O)for(N=1,O=new Array(C-1);N<C;N++)O[N-1]=arguments[N];w[P].fn.apply(w[P].context,O)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,v){var b=r?r+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!v||x.once)&&(!m||x.context===m)&&s(this,b);else{for(var E=0,w=[],C=x.length;E<C;E++)(x[E].fn!==h||v&&!x[E].once||m&&x[E].context!==m)&&w.push(x[E]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Ax)),Ax.exports}var toe=eoe();const roe=vt(toe);var kx=new roe,Px="recharts.syncMouseEvents";function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ioe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mF(n.key),n)}}function aoe(t,e,r){return e&&ioe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ix(t,e,r){return e=mF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mF(t){var e=ooe(t,"string");return ed(e)=="symbol"?e:e+""}function ooe(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var soe=function(){function t(){noe(this,t),Ix(this,"activeIndex",0),Ix(this,"coordinateList",[]),Ix(this,"layout","horizontal")}return aoe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])}();function loe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function uoe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function gF(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Nt(e,r,n,i),u=Nt(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function coe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,v=Nt(u,c,f,m),b=Nt(u,c,h,m);n=v.x,i=v.y,a=b.x,s=b.y}else return gF(e);return[{x:n,y:i},{x:a,y:s}]}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function c2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(r),!0).forEach(function(n){foe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function foe(t,e,r){return e=doe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function doe(t){var e=hoe(t,"string");return td(e)=="symbol"?e:e+""}function hoe(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var x,E=qw;if(v==="ScatterChart")x=s,E=Yte;else if(v==="BarChart")x=uoe(m,s,c,h),E=vS;else if(m==="radial"){var w=gF(s),C=w.cx,O=w.cy,P=w.radius,$=w.startAngle,N=w.endAngle;x={cx:C,cy:O,startAngle:$,endAngle:N,innerRadius:P,outerRadius:P},E=yS}else x={points:coe(m,s,c)},E=qw;var j=up(up(up(up({stroke:"#ccc",pointerEvents:"none"},c),x),Ke(b,!1)),{},{payload:u,payloadIndex:f,className:Ze("recharts-tooltip-cursor",b.className)});return K.isValidElement(b)?K.cloneElement(b,j):K.createElement(E,j)}var moe=["item"],goe=["children","className","width","height","style","compact","title","desc"];function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}function f2(t,e){return boe(t)||voe(t,e)||vF(t,e)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function voe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function boe(t){if(Array.isArray(t))return t}function d2(t,e){if(t==null)return{};var r=_oe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _oe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function woe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bF(n.key),n)}}function Eoe(t,e,r){return e&&woe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,r){return e=Rm(e),Toe(t,yF()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function Toe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aoe(t)}function Aoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x1(t,e)}function x1(t,e){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x1(t,e)}function Fu(t){return Ooe(t)||Ioe(t)||vF(t)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vF(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function Ioe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ooe(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){ze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ze(t,e,r){return e=bF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bF(t){var e=Coe(t,"string");return $u(e)=="symbol"?e:e+""}function Coe(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Noe={xAxis:["bottom","top"],yAxis:["left","right"]},Roe={width:"100%",height:"100%"},_F={x:0,y:0};function cp(t){return t}var joe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Moe=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return se(se(se({},i),Nt(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return se(se(se({},i),Nt(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return _F},$g=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Fu(u),Fu(f)):u},[]);return s.length>0?s:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function xF(t){return t==="number"?[0,"auto"]:void 0}var E1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=$g(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?u:m;v=iw(b,s.dataKey,i)}else v=m&&m[n]||u[n];return v?[].concat(Fu(c),[m4(f,v)]):c},[])},p2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=joe(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=_J(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,v=E1(e,r,h,m),b=Moe(n,u,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:v,activeCoordinate:b}}return null},Doe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,v=e.stackOffset,b=u4(h,a);return n.reduce(function(x,E){var w,C=E.type.defaultProps!==void 0?se(se({},E.type.defaultProps),E.props):E.props,O=C.type,P=C.dataKey,$=C.allowDataOverflow,N=C.allowDuplicatedCategory,j=C.scale,A=C.ticks,k=C.includeHidden,R=C[s];if(x[R])return x;var F=$g(e.data,{graphicalItems:i.filter(function(G){var ce,xe=s in G.props?G.props[s]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[s];return xe===R}),dataStartIndex:c,dataEndIndex:f}),L=F.length,V,M,Z;loe(C.domain,$,O)&&(V=$w(C.domain,null,$),b&&(O==="number"||j!=="auto")&&(Z=sf(F,P,"category")));var te=xF(O);if(!V||V.length===0){var ne,ae=(ne=C.domain)!==null&&ne!==void 0?ne:te;if(P){if(V=sf(F,P,O),O==="category"&&b){var Q=p7(V);N&&Q?(M=V,V=xm(0,L)):N||(V=gR(ae,V,E).reduce(function(G,ce){return G.indexOf(ce)>=0?G:[].concat(Fu(G),[ce])},[]))}else if(O==="category")N?V=V.filter(function(G){return G!==""&&!tt(G)}):V=gR(ae,V,E).reduce(function(G,ce){return G.indexOf(ce)>=0||ce===""||tt(ce)?G:[].concat(Fu(G),[ce])},[]);else if(O==="number"){var ie=TJ(F,i.filter(function(G){var ce,xe,Re=s in G.props?G.props[s]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[s],be="hide"in G.props?G.props.hide:(xe=G.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Re===R&&(k||!be)}),P,a,h);ie&&(V=ie)}b&&(O==="number"||j!=="auto")&&(Z=sf(F,P,"category"))}else b?V=xm(0,L):u&&u[R]&&u[R].hasStack&&O==="number"?V=v==="expand"?[0,1]:p4(u[R].stackGroups,c,f):V=l4(F,i.filter(function(G){var ce=s in G.props?G.props[s]:G.type.defaultProps[s],xe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ce===R&&(k||!xe)}),O,h,!0);if(O==="number")V=_1(m,V,R,a,A),ae&&(V=$w(ae,V,$));else if(O==="category"&&ae){var oe=ae,q=V.every(function(G){return oe.indexOf(G)>=0});q&&(V=oe)}}return se(se({},x),{},ze({},R,se(se({},C),{},{axisType:a,domain:V,categoricalDomain:Z,duplicateDomain:M,originalDomain:(w=C.domain)!==null&&w!==void 0?w:te,isCategorical:b,layout:h})))},{})},Loe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,v=$g(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),b=v.length,x=u4(h,a),E=-1;return n.reduce(function(w,C){var O=C.type.defaultProps!==void 0?se(se({},C.type.defaultProps),C.props):C.props,P=O[s],$=xF("number");if(!w[P]){E++;var N;return x?N=xm(0,b):u&&u[P]&&u[P].hasStack?(N=p4(u[P].stackGroups,c,f),N=_1(m,N,P,a)):(N=$w($,l4(v,n.filter(function(j){var A,k,R=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],F="hide"in j.props?j.props.hide:(k=j.type.defaultProps)===null||k===void 0?void 0:k.hide;return R===P&&!F}),"number",h),i.defaultProps.allowDataOverflow),N=_1(m,N,P,a)),se(se({},w),{},ze({},P,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:Bn(Noe,"".concat(a,".").concat(E%2),null),domain:N,originalDomain:$,isCategorical:x,layout:h})))}return w},{})},$oe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),v=ui(h,a),b={};return v&&v.length?b=Doe(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=Loe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},Foe=function(e){var r=Mo(e),n=La(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:qE(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:um(r,n)}},m2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Dn(r,Ou),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Voe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Fa(r&&r.type);return n&&n.indexOf("Bar")>=0})},g2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Boe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,m=n.children,v=n.margin||{},b=Dn(m,Ou),x=Dn(m,qo),E=Object.keys(c).reduce(function(N,j){var A=c[j],k=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},ze({},k,N[k]+A.width)):N},{left:v.left||0,right:v.right||0}),w=Object.keys(s).reduce(function(N,j){var A=s[j],k=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},ze({},k,Bn(N,"".concat(k))+A.height)):N},{top:v.top||0,bottom:v.bottom||0}),C=se(se({},w),E),O=C.bottom;b&&(C.bottom+=b.props.height||Ou.defaultProps.height),x&&r&&(C=EJ(C,i,n,r));var P=f-C.left-C.right,$=h-C.top-C.bottom;return se(se({brushBottom:O},C),{},{width:Math.max(P,0),height:Math.max($,0)})},Uoe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},wF=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,v=function(C,O){var P=O.graphicalItems,$=O.stackGroups,N=O.offset,j=O.updateId,A=O.dataStartIndex,k=O.dataEndIndex,R=C.barSize,F=C.layout,L=C.barGap,V=C.barCategoryGap,M=C.maxBarSize,Z=g2(F),te=Z.numericAxisName,ne=Z.cateAxisName,ae=Voe(P),Q=[];return P.forEach(function(ie,oe){var q=$g(C.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:k}),G=ie.type.defaultProps!==void 0?se(se({},ie.type.defaultProps),ie.props):ie.props,ce=G.dataKey,xe=G.maxBarSize,Re=G["".concat(te,"Id")],be=G["".concat(ne,"Id")],Me={},Fe=c.reduce(function(kt,Ir){var Zr=O["".concat(Ir.axisType,"Map")],di=G["".concat(Ir.axisType,"Id")];Zr&&Zr[di]||Ir.axisType==="zAxis"||Zs();var hi=Zr[di];return se(se({},kt),{},ze(ze({},Ir.axisType,hi),"".concat(Ir.axisType,"Ticks"),La(hi)))},Me),he=Fe[ne],Oe=Fe["".concat(ne,"Ticks")],qe=$&&$[Re]&&$[Re].hasStack&&jJ(ie,$[Re].stackGroups),le=Fa(ie.type).indexOf("Bar")>=0,st=um(he,Oe),We=[],pt=ae&&xJ({barSize:R,stackGroups:$,totalSize:Uoe(Fe,ne)});if(le){var Et,Ht,cr=tt(xe)?M:xe,Jr=(Et=(Ht=um(he,Oe,!0))!==null&&Ht!==void 0?Ht:cr)!==null&&Et!==void 0?Et:0;We=wJ({barGap:L,barCategoryGap:V,bandSize:Jr!==st?Jr:st,sizeList:pt[be],maxBarSize:cr}),Jr!==st&&(We=We.map(function(kt){return se(se({},kt),{},{position:se(se({},kt.position),{},{offset:kt.position.offset-Jr/2})})}))}var At=ie&&ie.type&&ie.type.getComposedData;At&&Q.push({props:se(se({},At(se(se({},Fe),{},{displayedData:q,props:C,dataKey:ce,item:ie,bandSize:st,barPosition:We,offset:N,stackedData:qe,layout:F,dataStartIndex:A,dataEndIndex:k}))),{},ze(ze(ze({key:ie.key||"item-".concat(oe)},te,Fe[te]),ne,Fe[ne]),"animationId",j)),childIndex:A7(ie,C.children),item:ie})}),Q},b=function(C,O){var P=C.props,$=C.dataStartIndex,N=C.dataEndIndex,j=C.updateId;if(!CI({props:P}))return null;var A=P.children,k=P.layout,R=P.stackOffset,F=P.data,L=P.reverseStackOrder,V=g2(k),M=V.numericAxisName,Z=V.cateAxisName,te=ui(A,n),ne=NJ(F,te,"".concat(M,"Id"),"".concat(Z,"Id"),R,L),ae=c.reduce(function(G,ce){var xe="".concat(ce.axisType,"Map");return se(se({},G),{},ze({},xe,$oe(P,se(se({},ce),{},{graphicalItems:te,stackGroups:ce.axisType===M&&ne,dataStartIndex:$,dataEndIndex:N}))))},{}),Q=Boe(se(se({},ae),{},{props:P,graphicalItems:te}),O?.legendBBox);Object.keys(ae).forEach(function(G){ae[G]=h(P,ae[G],Q,G.replace("Map",""),r)});var ie=ae["".concat(Z,"Map")],oe=Foe(ie),q=v(P,se(se({},ae),{},{dataStartIndex:$,dataEndIndex:N,updateId:j,graphicalItems:te,stackGroups:ne,offset:Q}));return se(se({formattedGraphicalItems:q,graphicalItems:te,offset:Q,stackGroups:ne},oe),ae)},x=function(w){function C(O){var P,$,N;return xoe(this,C),N=Soe(this,C,[O]),ze(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ze(N,"accessibilityManager",new soe),ze(N,"handleLegendBBoxUpdate",function(j){if(j){var A=N.state,k=A.dataStartIndex,R=A.dataEndIndex,F=A.updateId;N.setState(se({legendBBox:j},b({props:N.props,dataStartIndex:k,dataEndIndex:R,updateId:F},se(se({},N.state),{},{legendBBox:j}))))}}),ze(N,"handleReceiveSyncEvent",function(j,A,k){if(N.props.syncId===j){if(k===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),ze(N,"handleBrushChange",function(j){var A=j.startIndex,k=j.endIndex;if(A!==N.state.dataStartIndex||k!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return se({dataStartIndex:A,dataEndIndex:k},b({props:N.props,dataStartIndex:A,dataEndIndex:k,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),ze(N,"handleMouseEnter",function(j){var A=N.getMouseInfo(j);if(A){var k=se(se({},A),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var R=N.props.onMouseEnter;Ye(R)&&R(k,j)}}),ze(N,"triggeredAfterMouseMove",function(j){var A=N.getMouseInfo(j),k=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(k),N.triggerSyncEvent(k);var R=N.props.onMouseMove;Ye(R)&&R(k,j)}),ze(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ze(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),ze(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),ze(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var k=N.props.onMouseLeave;Ye(k)&&k(A,j)}),ze(N,"handleOuterEvent",function(j){var A=T7(j),k=Bn(N.props,"".concat(A));if(A&&Ye(k)){var R,F;/.*touch.*/i.test(A)?F=N.getMouseInfo(j.changedTouches[0]):F=N.getMouseInfo(j),k((R=F)!==null&&R!==void 0?R:{},j)}}),ze(N,"handleClick",function(j){var A=N.getMouseInfo(j);if(A){var k=se(se({},A),{},{isTooltipActive:!0});N.setState(k),N.triggerSyncEvent(k);var R=N.props.onClick;Ye(R)&&R(k,j)}}),ze(N,"handleMouseDown",function(j){var A=N.props.onMouseDown;if(Ye(A)){var k=N.getMouseInfo(j);A(k,j)}}),ze(N,"handleMouseUp",function(j){var A=N.props.onMouseUp;if(Ye(A)){var k=N.getMouseInfo(j);A(k,j)}}),ze(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ze(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),ze(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),ze(N,"handleDoubleClick",function(j){var A=N.props.onDoubleClick;if(Ye(A)){var k=N.getMouseInfo(j);A(k,j)}}),ze(N,"handleContextMenu",function(j){var A=N.props.onContextMenu;if(Ye(A)){var k=N.getMouseInfo(j);A(k,j)}}),ze(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&kx.emit(Px,N.props.syncId,j,N.eventEmitterSymbol)}),ze(N,"applySyncEvent",function(j){var A=N.props,k=A.layout,R=A.syncMethod,F=N.state.updateId,L=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(se({dataStartIndex:L,dataEndIndex:V},b({props:N.props,dataStartIndex:L,dataEndIndex:V,updateId:F},N.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,Z=j.chartY,te=j.activeTooltipIndex,ne=N.state,ae=ne.offset,Q=ne.tooltipTicks;if(!ae)return;if(typeof R=="function")te=R(Q,j);else if(R==="value"){te=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===j.activeLabel){te=ie;break}}var oe=se(se({},ae),{},{x:ae.left,y:ae.top}),q=Math.min(M,oe.x+oe.width),G=Math.min(Z,oe.y+oe.height),ce=Q[te]&&Q[te].value,xe=E1(N.state,N.props.data,te),Re=Q[te]?{x:k==="horizontal"?Q[te].coordinate:q,y:k==="horizontal"?G:Q[te].coordinate}:_F;N.setState(se(se({},j),{},{activeLabel:ce,activeCoordinate:Re,activePayload:xe,activeTooltipIndex:te}))}else N.setState(j)}),ze(N,"renderCursor",function(j){var A,k=N.state,R=k.isTooltipActive,F=k.activeCoordinate,L=k.activePayload,V=k.offset,M=k.activeTooltipIndex,Z=k.tooltipAxisBandSize,te=N.getTooltipEventType(),ne=(A=j.props.active)!==null&&A!==void 0?A:R,ae=N.props.layout,Q=j.key||"_recharts-cursor";return W.createElement(poe,{key:Q,activeCoordinate:F,activePayload:L,activeTooltipIndex:M,chartName:r,element:j,isActive:ne,layout:ae,offset:V,tooltipAxisBandSize:Z,tooltipEventType:te})}),ze(N,"renderPolarAxis",function(j,A,k){var R=Bn(j,"type.axisType"),F=Bn(N.state,"".concat(R,"Map")),L=j.type.defaultProps,V=L!==void 0?se(se({},L),j.props):j.props,M=F&&F[V["".concat(R,"Id")]];return K.cloneElement(j,se(se({},M),{},{className:Ze(R,M.className),key:j.key||"".concat(A,"-").concat(k),ticks:La(M,!0)}))}),ze(N,"renderPolarGrid",function(j){var A=j.props,k=A.radialLines,R=A.polarAngles,F=A.polarRadius,L=N.state,V=L.radiusAxisMap,M=L.angleAxisMap,Z=Mo(V),te=Mo(M),ne=te.cx,ae=te.cy,Q=te.innerRadius,ie=te.outerRadius;return K.cloneElement(j,{polarAngles:Array.isArray(R)?R:La(te,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(F)?F:La(Z,!0).map(function(oe){return oe.coordinate}),cx:ne,cy:ae,innerRadius:Q,outerRadius:ie,key:j.key||"polar-grid",radialLines:k})}),ze(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,A=N.props,k=A.children,R=A.width,F=A.height,L=N.props.margin||{},V=R-(L.left||0)-(L.right||0),M=o4({children:k,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!M)return null;var Z=M.item,te=d2(M,moe);return K.cloneElement(Z,se(se({},te),{},{chartWidth:R,chartHeight:F,margin:L,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),ze(N,"renderTooltip",function(){var j,A=N.props,k=A.children,R=A.accessibilityLayer,F=Dn(k,oi);if(!F)return null;var L=N.state,V=L.isTooltipActive,M=L.activeCoordinate,Z=L.activePayload,te=L.activeLabel,ne=L.offset,ae=(j=F.props.active)!==null&&j!==void 0?j:V;return K.cloneElement(F,{viewBox:se(se({},ne),{},{x:ne.left,y:ne.top}),active:ae,label:te,payload:ae?Z:[],coordinate:M,accessibilityLayer:R})}),ze(N,"renderBrush",function(j){var A=N.props,k=A.margin,R=A.data,F=N.state,L=F.offset,V=F.dataStartIndex,M=F.dataEndIndex,Z=F.updateId;return K.cloneElement(j,{key:j.key||"_recharts-brush",onChange:ap(N.handleBrushChange,j.props.onChange),data:R,x:ve(j.props.x)?j.props.x:L.left,y:ve(j.props.y)?j.props.y:L.top+L.height+L.brushBottom-(k.bottom||0),width:ve(j.props.width)?j.props.width:L.width,startIndex:V,endIndex:M,updateId:"brush-".concat(Z)})}),ze(N,"renderReferenceElement",function(j,A,k){if(!j)return null;var R=N,F=R.clipPathId,L=N.state,V=L.xAxisMap,M=L.yAxisMap,Z=L.offset,te=j.type.defaultProps||{},ne=j.props,ae=ne.xAxisId,Q=ae===void 0?te.xAxisId:ae,ie=ne.yAxisId,oe=ie===void 0?te.yAxisId:ie;return K.cloneElement(j,{key:j.key||"".concat(A,"-").concat(k),xAxis:V[Q],yAxis:M[oe],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:F})}),ze(N,"renderActivePoints",function(j){var A=j.item,k=j.activePoint,R=j.basePoint,F=j.childIndex,L=j.isRange,V=[],M=A.props.key,Z=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,te=Z.activeDot,ne=Z.dataKey,ae=se(se({index:F,dataKey:ne,cx:k.x,cy:k.y,r:4,fill:gS(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ke(te,!1)),Fp(te));return V.push(C.renderActiveDot(te,ae,"".concat(M,"-activePoint-").concat(F))),R?V.push(C.renderActiveDot(te,se(se({},ae),{},{cx:R.x,cy:R.y}),"".concat(M,"-basePoint-").concat(F))):L&&V.push(null),V}),ze(N,"renderGraphicChild",function(j,A,k){var R=N.filterFormatItem(j,A,k);if(!R)return null;var F=N.getTooltipEventType(),L=N.state,V=L.isTooltipActive,M=L.tooltipAxis,Z=L.activeTooltipIndex,te=L.activeLabel,ne=N.props.children,ae=Dn(ne,oi),Q=R.props,ie=Q.points,oe=Q.isRange,q=Q.baseLine,G=R.item.type.defaultProps!==void 0?se(se({},R.item.type.defaultProps),R.item.props):R.item.props,ce=G.activeDot,xe=G.hide,Re=G.activeBar,be=G.activeShape,Me=!!(!xe&&V&&ae&&(ce||Re||be)),Fe={};F!=="axis"&&ae&&ae.props.trigger==="click"?Fe={onClick:ap(N.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(Fe={onMouseLeave:ap(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:ap(N.handleItemMouseEnter,j.props.onMouseEnter)});var he=K.cloneElement(j,se(se({},R.props),Fe));function Oe(Ir){return typeof M.dataKey=="function"?M.dataKey(Ir.payload):null}if(Me)if(Z>=0){var qe,le;if(M.dataKey&&!M.allowDuplicatedCategory){var st=typeof M.dataKey=="function"?Oe:"payload.".concat(M.dataKey.toString());qe=iw(ie,st,te),le=oe&&q&&iw(q,st,te)}else qe=ie?.[Z],le=oe&&q&&q[Z];if(be||Re){var We=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[K.cloneElement(j,se(se(se({},R.props),Fe),{},{activeIndex:We})),null,null]}if(!tt(qe))return[he].concat(Fu(N.renderActivePoints({item:R,activePoint:qe,basePoint:le,childIndex:Z,isRange:oe})))}else{var pt,Et=(pt=N.getItemByXY(N.state.activeCoordinate))!==null&&pt!==void 0?pt:{graphicalItem:he},Ht=Et.graphicalItem,cr=Ht.item,Jr=cr===void 0?j:cr,At=Ht.childIndex,kt=se(se(se({},R.props),Fe),{},{activeIndex:At});return[K.cloneElement(Jr,kt),null,null]}return oe?[he,null,null]:[he,null]}),ze(N,"renderCustomized",function(j,A,k){return K.cloneElement(j,se(se({key:"recharts-customized-".concat(k)},N.props),N.state))}),ze(N,"renderMap",{CartesianGrid:{handler:cp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:cp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:cp},YAxis:{handler:cp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((P=O.id)!==null&&P!==void 0?P:wd("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=a$(N.triggeredAfterMouseMove,($=O.throttleDelay)!==null&&$!==void 0?$:1e3/60),N.state={},N}return koe(C,w),Eoe(C,[{key:"componentDidMount",value:function(){var P,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,$=P.children,N=P.data,j=P.height,A=P.layout,k=Dn($,oi);if(k){var R=k.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,L=E1(this.state,N,R,F),V=this.state.tooltipTicks[R].coordinate,M=(this.state.offset.top+j)/2,Z=A==="horizontal",te=Z?{x:V,y:M}:{y:V,x:M},ne=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});ne&&(te=se(se({},te),ne.props.points[R].tooltipPosition),L=ne.props.points[R].tooltipPayload);var ae={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:L,activeCoordinate:te};this.setState(ae),this.renderCursor(k),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(P){ow([Dn(P.children,oi)],[Dn(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Dn(this.props.children,oi);if(P&&typeof P.props.shared=="boolean"){var $=P.props.shared?"axis":"item";return u.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var $=this.container,N=$.getBoundingClientRect(),j=dG(N),A={chartX:Math.round(P.pageX-j.left),chartY:Math.round(P.pageY-j.top)},k=N.width/$.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,k);if(!R)return null;var F=this.state,L=F.xAxisMap,V=F.yAxisMap,M=this.getTooltipEventType(),Z=p2(this.state,this.props.data,this.props.layout,R);if(M!=="axis"&&L&&V){var te=Mo(L).scale,ne=Mo(V).scale,ae=te&&te.invert?te.invert(A.chartX):null,Q=ne&&ne.invert?ne.invert(A.chartY):null;return se(se({},A),{},{xValue:ae,yValue:Q},Z)}return Z?se(se({},A),Z):null}},{key:"inRange",value:function(P,$){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=P/N,k=$/N;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,F=A>=R.left&&A<=R.left+R.width&&k>=R.top&&k<=R.top+R.height;return F?{x:A,y:k}:null}var L=this.state,V=L.angleAxisMap,M=L.radiusAxisMap;if(V&&M){var Z=Mo(V);return bR({x:A,y:k},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,$=this.getTooltipEventType(),N=Dn(P,oi),j={};N&&$==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Fp(this.props,this.handleOuterEvent);return se(se({},A),j)}},{key:"addListener",value:function(){kx.on(Px,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kx.removeListener(Px,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,$,N){for(var j=this.state.formattedGraphicalItems,A=0,k=j.length;A<k;A++){var R=j[A];if(R.item===P||R.props.key===P.key||$===Fa(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,$=this.state.offset,N=$.left,j=$.top,A=$.height,k=$.width;return W.createElement("defs",null,W.createElement("clipPath",{id:P},W.createElement("rect",{x:N,y:j,height:A,width:k})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function($,N){var j=f2(N,2),A=j[0],k=j[1];return se(se({},$),{},ze({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function($,N){var j=f2(N,2),A=j[0],k=j[1];return se(se({},$),{},ze({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[P])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(P){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[P])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(P){var $=this.state,N=$.formattedGraphicalItems,j=$.activeItem;if(N&&N.length)for(var A=0,k=N.length;A<k;A++){var R=N[A],F=R.props,L=R.item,V=L.type.defaultProps!==void 0?se(se({},L.type.defaultProps),L.props):L.props,M=Fa(L.type);if(M==="Bar"){var Z=(F.data||[]).find(function(Q){return Ite(P,Q)});if(Z)return{graphicalItem:R,payload:Z}}else if(M==="RadialBar"){var te=(F.data||[]).find(function(Q){return bR(P,Q)});if(te)return{graphicalItem:R,payload:te}}else if(Cg(R,j)||Ng(R,j)||Yf(R,j)){var ne=Jre({graphicalItem:R,activeTooltipItem:j,itemData:V.data}),ae=V.activeIndex===void 0?ne:V.activeIndex;return{graphicalItem:se(se({},R),{},{childIndex:ae}),payload:Yf(R,j)?V.data[ne]:R.props.data[ne]}}}return null}},{key:"render",value:function(){var P=this;if(!CI(this))return null;var $=this.props,N=$.children,j=$.className,A=$.width,k=$.height,R=$.style,F=$.compact,L=$.title,V=$.desc,M=d2($,goe),Z=Ke(M,!1);if(F)return W.createElement(Yj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(lw,eu({},Z,{width:A,height:k,title:L,desc:V}),this.renderClipPath(),RI(N,this.renderMap)));if(this.props.accessibilityLayer){var te,ne;Z.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,Z.role=(ne=this.props.role)!==null&&ne!==void 0?ne:"application",Z.onKeyDown=function(Q){P.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){P.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return W.createElement(Yj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",eu({className:Ze("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:A,height:k},R)},ae,{ref:function(ie){P.container=ie}}),W.createElement(lw,eu({},Z,{width:A,height:k,title:L,desc:V,style:Roe}),this.renderClipPath(),RI(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(K.Component);ze(x,"displayName",r),ze(x,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),ze(x,"getDerivedStateFromProps",function(w,C){var O=w.dataKey,P=w.data,$=w.children,N=w.width,j=w.height,A=w.layout,k=w.stackOffset,R=w.margin,F=C.dataStartIndex,L=C.dataEndIndex;if(C.updateId===void 0){var V=m2(w);return se(se(se({},V),{},{updateId:0},b(se(se({props:w},V),{},{updateId:0}),C)),{},{prevDataKey:O,prevData:P,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:k,prevMargin:R,prevChildren:$})}if(O!==C.prevDataKey||P!==C.prevData||N!==C.prevWidth||j!==C.prevHeight||A!==C.prevLayout||k!==C.prevStackOffset||!ou(R,C.prevMargin)){var M=m2(w),Z={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},te=se(se({},p2(C,P,A)),{},{updateId:C.updateId+1}),ne=se(se(se({},M),Z),te);return se(se(se({},ne),b(se({props:w},ne),C)),{},{prevDataKey:O,prevData:P,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:k,prevMargin:R,prevChildren:$})}if(!ow($,C.prevChildren)){var ae,Q,ie,oe,q=Dn($,Ou),G=q&&(ae=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ae!==void 0?ae:F,ce=q&&(ie=(oe=q.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&ie!==void 0?ie:L,xe=G!==F||ce!==L,Re=!tt(P),be=Re&&!xe?C.updateId:C.updateId+1;return se(se({updateId:be},b(se(se({props:w},C),{},{updateId:be,dataStartIndex:G,dataEndIndex:ce}),C)),{},{prevChildren:$,dataStartIndex:G,dataEndIndex:ce})}return null}),ze(x,"renderActiveDot",function(w,C,O){var P;return K.isValidElement(w)?P=K.cloneElement(w,C):Ye(w)?P=w(C):P=W.createElement(bS,C),W.createElement(_t,{className:"recharts-active-dot",key:O},P)});var E=K.forwardRef(function(C,O){return W.createElement(x,eu({},C,{ref:O}))});return E.displayName=x.displayName,E},EF=wF({chartName:"BarChart",GraphicalChild:ca,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pd},{axisType:"yAxis",AxisComp:Id}],formatAxisMap:tie}),qoe=wF({chartName:"PieChart",GraphicalChild:Za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Og},{axisType:"radiusAxis",AxisComp:Pg}],formatAxisMap:zJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zoe={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Woe=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[s,u]=K.useState(20),[c,f]=K.useState("single-member-llc"),[h,m]=K.useState("quarterly"),[v,b]=K.useState(!1);K.useEffect(()=>{u(zoe[c])},[c]);const x=K.useMemo(()=>{const P=new Date;let $,N;switch(h){case"weekly":$=new Date(P.setDate(P.getDate()-P.getDay())),N=new Date(P.setDate(P.getDate()-P.getDay()+6));break;case"monthly":$=new Date(P.getFullYear(),P.getMonth(),1),N=new Date(P.getFullYear(),P.getMonth()+1,0);break;case"quarterly":const j=Math.floor(P.getMonth()/3);$=new Date(P.getFullYear(),j*3,1),N=new Date(P.getFullYear(),j*3+3,0);break;case"yearly":$=new Date(P.getFullYear(),0,1),N=new Date(P.getFullYear(),11,31);break;default:$=new Date,N=new Date}return{start:$,end:N}},[h]),E=K.useMemo(()=>{const P=t.filter(V=>{if(!V.date)return!1;const M=new Date(V.date);return M>=x.start&&M<=x.end}),$=e.reduce((V,M)=>V+M.amount,0)+r.reduce((V,M)=>V+M.amount,0)*4.33,N=(x.end-x.start)/(1e3*60*60*24*30.44),j=$*N,A=P.reduce((V,M)=>V+(M.revenue||0),0),k=P.reduce((V,M)=>V+(M.materialCost||0)+(M.laborCost||0),0),R=A-k,F=R-j,L=F>0?F*(s/100):0;return{netProfit:F,estimatedTax:L,grossProfit:R,periodOperatingExpenses:j}},[t,e,r,s,x]),w=K.useMemo(()=>n.filter(P=>{const $=new Date(P.date);return $>=x.start&&$<=x.end}).reduce((P,$)=>P+($.amount||0),0),[n,x]),C=E.estimatedTax-w,O=[{name:"Tax Liability","Estimated Tax":E.estimatedTax,"Taxes Paid":w}];return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),y.jsxs("select",{id:"filingStatus",value:c,onChange:P=>f(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),y.jsx("option",{value:"s-corp",children:"S-Corporation"}),y.jsx("option",{value:"c-corp",children:"C-Corporation"}),y.jsx("option",{value:"partnership",children:"Partnership"})]}),(c==="llc"||c==="single-member-llc")&&y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),y.jsx("input",{id:"taxRate",type:"number",value:s,onChange:P=>u(parseFloat(P.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),y.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[y.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${h==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),y.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${h==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),y.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${h==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),y.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${h==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[y.jsx(Qi,{title:`Estimated ${h} Net Profit`,value:`$${E.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Uo,{}),color:"blue"}),y.jsx(Qi,{title:"Estimated Tax Liability",value:`$${E.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Uo,{}),color:"orange",subtext:E.netProfit<=0?"No tax on negative profit":""}),y.jsx(Qi,{title:"Overpayment / (Underpayment)",value:`${C<0?"-":""}$${Math.abs(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Uo,{}),color:C<0?"green":"red",subtext:C<0?"You have overpaid":"Remaining balance due"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",y.jsx(tL,{className:`transition-transform ${v?"rotate-180":""}`,size:16})]}),v&&y.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Gross Profit (from Jobs):"})," ",y.jsxs("span",{className:"font-mono",children:["$",E.grossProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"- Est. Operating Expenses:"})," ",y.jsxs("span",{className:"font-mono",children:["$",E.periodOperatingExpenses.toFixed(2)]})]}),y.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),y.jsxs("div",{className:"flex justify-between font-bold",children:[y.jsx("span",{children:"= Estimated Net Profit:"})," ",y.jsxs("span",{className:"font-mono",children:["$",E.netProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{children:["x Tax Rate (",s,"%):"]})," ",y.jsxs("span",{className:"font-mono",children:["$",E.estimatedTax.toFixed(2)]})]})]})]}),E.netProfit<=0&&y.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[y.jsx(h8,{size:20}),y.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),y.jsx(WE,{width:"100%",height:200,children:y.jsxs(EF,{data:O,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[y.jsx(IS,{strokeDasharray:"3 3"}),y.jsx(Pd,{type:"number"}),y.jsx(Id,{type:"category",dataKey:"name",hide:!0}),y.jsx(oi,{formatter:P=>`$${P.toLocaleString()}`}),y.jsx(qo,{}),y.jsx(ca,{dataKey:"Estimated Tax",fill:"#f97316"}),y.jsx(ca,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),y.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Record Payment"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Date"}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3 text-right",children:"Amount"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:n.map(P=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:P.date}),y.jsx("td",{className:"p-3",children:P.notes}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(P.amount||0).toFixed(2)]}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>i("taxPayment",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>a("taxPayment",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},P.id))})]})})]})]})},Hoe=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=K.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),f=u.getDay(),h=c.getDate(),m=[];for(let E=0;E<f;E++)m.push(null);for(let E=1;E<=h;E++)m.push(new Date(n.getFullYear(),n.getMonth(),E));const v=K.useMemo(()=>{const E={};return t.forEach(w=>{const C=new Date(w.date).toISOString().split("T")[0];E[C]||(E[C]=[]),E[C].push({...w,type:"job"})}),e.forEach(w=>{const C=new Date(w.date).toISOString().split("T")[0];E[C]||(E[C]=[]),E[C].push({...w,type:"task"})}),E},[t,e]),b=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},x=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(c8,{})}),y.jsxs("h2",{className:"text-xl font-bold",children:[s[n.getMonth()]," ",n.getFullYear()]}),y.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(f8,{})})]}),y.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[y.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add Task"]}),y.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add Job"]})]}),y.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(E=>y.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:E},E)),m.map((E,w)=>y.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${E?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>E&&r("task",{date:E.toISOString().split("T")[0]}),children:[E&&y.jsx("span",{className:"text-xs font-semibold",children:E.getDate()}),E&&v[E.toISOString().split("T")[0]]?.map(C=>y.jsx("div",{onClick:O=>{O.stopPropagation(),r(C.type,C)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${C.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:C.name||C.title},C.id))]},w))]})]})},Koe=({children:t,onClose:e})=>y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border dark:border-slate-700",children:[y.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors",children:y.jsx(iL,{size:24})}),y.jsx("div",{className:"p-6",children:t})]})}),Goe=["Software","Fuel","Vehicle","Insurance","Marketing","Supplies","Overhead","Payroll","Taxes","Utilities","General"],Yoe=({item:t,type:e,onSave:r,onClose:n,debts:i,clients:a,vehicles:s})=>{const[u,c]=K.useState({}),[f,h]=K.useState(null),[m,v]=K.useState(!1);K.useEffect(()=>{const C={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{billTo:"",customer:"",jobNo:"",completedOn:"",invNum:"",terms:"",net:0,dueDate:"",status:"",grandTotal:0},taxPayment:{date:new Date().toISOString().split("T")[0],amount:0,notes:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:t?.vehicleId||""}};c(t||C[e])},[t,e]);const b=C=>{const{name:O,value:P,type:$,checked:N}=C.target;c(j=>({...j,[O]:$==="checkbox"?N:$==="number"?parseFloat(P)||0:P}))},x=C=>{C.target.files[0]&&h(C.target.files[0])},E=async C=>{C.preventDefault(),v(!0),await r(u,f),v(!1)},w=()=>{const C=a.filter(O=>!O.parentId);switch(e){case"bill":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Due Day"}),y.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:u.dueDay||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Category"}),y.jsx("input",{list:"bill-categories",type:"text",name:"category",value:u.category||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"}),y.jsx("datalist",{id:"bill-categories",children:Goe.map(O=>y.jsx("option",{value:O},O))})]})," ",u.category==="Vehicle"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Assign to Vehicle"}),y.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- Select Vehicle --"}),s.map(O=>y.jsx("option",{value:O.id,children:O.name},O.id))]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"2",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),y.jsx("input",{type:"file",onChange:x,className:"w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Enabled for Autopay"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]})," "]});case"invoice":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill To"}),y.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Customer"}),y.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Grand Total"}),y.jsx("input",{type:"number",name:"grandTotal",value:u.grandTotal||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),y.jsx("input",{type:"text",name:"status",value:u.status||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})]});case"taxPayment":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Payment Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount Paid"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes (e.g., Q2 Federal)"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"debt":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Debt Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Total Amount"}),y.jsx("input",{type:"number",name:"totalAmount",value:u.totalAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Paid Amount"}),y.jsx("input",{type:"number",name:"paidAmount",value:u.paidAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Interest Rate (%)"}),y.jsx("input",{type:"number",name:"interestRate",value:u.interestRate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"income":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Income Source"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]});case"weekly":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Weekly Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"job":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Name/Client"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Link to Client Location"}),y.jsx("select",{name:"clientId",value:u.clientId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:C.map(O=>y.jsx("optgroup",{label:O.name,children:a.filter(P=>P.parentId===O.id||P.id===O.id).map(P=>y.jsx("option",{value:P.id,children:P.name},P.id))},O.id))})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Revenue"}),y.jsx("input",{type:"number",name:"revenue",value:u.revenue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Material Cost"}),y.jsx("input",{type:"number",name:"materialCost",value:u.materialCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Labor Cost"}),y.jsx("input",{type:"number",name:"laborCost",value:u.laborCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"task":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Task Title"}),y.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isComplete",name:"isComplete",checked:u.isComplete||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isComplete",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Complete?"})]})]});case"goal":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Type"}),y.jsxs("select",{name:"type",value:u.type||"revenue",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"revenue",children:"Revenue"}),y.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Deadline"}),y.jsx("input",{type:"date",name:"deadline",value:u.deadline||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",u.type==="revenue"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Target Revenue ($)"}),y.jsx("input",{type:"number",name:"targetValue",value:u.targetValue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",u.type==="debt"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Select Debt to Pay Off"}),y.jsxs("select",{name:"targetId",value:u.targetId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(O=>y.jsx("option",{value:O.id,children:O.name},O.id))]})]})," "]});case"client":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Client/Location Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Parent Account (Optional)"}),y.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),C.map(O=>y.jsx("option",{value:O.id,children:O.name},O.id))]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Address"}),y.jsx("input",{type:"text",name:"address",value:u.address||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"inventory":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Item Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Quantity"}),y.jsx("input",{type:"number",name:"quantity",value:u.quantity||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost per Item"}),y.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"vehicle":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Vehicle Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Year"}),y.jsx("input",{type:"text",name:"year",value:u.year||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Model"}),y.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"VIN #"}),y.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"License Plate"}),y.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"maintenanceLog":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mileage"}),y.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost"}),y.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Work Performed"}),y.jsx("textarea",{name:"workPerformed",value:u.workPerformed||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," "]});default:return y.jsx("p",{children:"This form is not yet implemented."})}};return y.jsx(Koe,{onClose:n,children:y.jsxs("form",{onSubmit:E,children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),w(),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-md bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-white",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500 text-white",children:m?"Saving...":y.jsxs(y.Fragment,{children:[y.jsx(_8,{size:16})," Save"]})})]})]})})},Xoe=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleToggleInvoicePaid:h})=>{const m=[{key:"status",header:"Status",render:x=>y.jsx("button",{onClick:()=>h(x.id,x.status),children:x.status==="Paid"?y.jsx(rL,{className:"text-green-500"}):y.jsx(nL,{className:"text-slate-400 dark:text-slate-600"})})},{key:"billTo",header:"Bill To",render:x=>y.jsx("span",{className:`font-medium ${x.status==="Paid"?"line-through":""}`,children:x.billTo})},{key:"customer",header:"Customer",render:x=>y.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.customer})},{key:"grandTotal",header:"Amount",className:"text-right",render:x=>y.jsxs("span",{className:`font-mono ${x.status==="Paid"?"line-through":""}`,children:["$",(x.grandTotal||0).toFixed(2)]})},{key:"dueDate",header:"Due Date",className:"text-center",render:x=>y.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.dueDate})}],v=K.useMemo(()=>t.filter(x=>(x.customer||"").toLowerCase().includes(i.toLowerCase())||(x.billTo||"").toLowerCase().includes(i.toLowerCase())),[t,i]),b=x=>{x.target.checked?u(v.map(E=>E.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Invoices...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Li,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:x=>c(x.target.files[0],"invoice")}),y.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(eg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"invoices"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:b})}),m.map(x=>y.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:v.map(x=>y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${x.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(x.id),onChange:()=>{u(E=>E.includes(x.id)?E.filter(w=>w!==x.id):[...E,x.id])}})}),m.map(E=>y.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(x)},E.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("invoice",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>r("invoice",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},x.id))})]})})]})},Qoe=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Name",render:b=>y.jsx("span",{className:"font-medium",children:b.name})},{key:"address",header:"Address",render:b=>y.jsx("span",{children:b.address})},{key:"phone",header:"Phone",render:b=>y.jsx("span",{children:b.phone})},{key:"email",header:"Email",render:b=>y.jsx("span",{children:b.email})}],m=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())||(b.address||"").toLowerCase().includes(i.toLowerCase())),[t,i]),v=b=>{b.target.checked?u(m.map(x=>x.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Clients...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Li,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"client")}),y.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(eg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:v})}),h.map(b=>y.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:m.map(b=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(E=>E!==b.id):[...x,b.id])}})}),h.map(x=>y.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("client",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>r("client",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},b.id))})]})})]})},Joe=({vehicles:t,maintenanceLogs:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a})=>{const[s,u]=K.useState(null),c=h=>{u(m=>m===h?null:h)},f=K.useMemo(()=>t.filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())||(h.model||"").toLowerCase().includes(i.toLowerCase())),[t,i]);return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Vehicles...",value:i,onChange:h=>a(h.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),y.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New Vehicle"]})]})]}),y.jsx("div",{className:"space-y-2",children:f.map(h=>y.jsxs("div",{children:[y.jsxs("div",{onClick:()=>c(h.id),className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(u8,{size:24,className:"text-cyan-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:h.name}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.year," ",h.make," ",h.model]})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",e.filter(m=>m.vehicleId===h.id).reduce((m,v)=>m+v.cost,0).toFixed(2)]}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Expenses"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:m=>{m.stopPropagation(),r("vehicle",h)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:m=>{m.stopPropagation(),n("vehicle",h.id)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]}),s===h.id?y.jsx(d8,{}):y.jsx(tL,{})]})]}),s===h.id&&y.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-b-lg border-t-2 border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),y.jsxs("button",{onClick:()=>r("maintenanceLog",{vehicleId:h.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[y.jsx(Di,{size:14})," Add Log Entry"]})]}),y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Date"}),y.jsx("th",{className:"p-2",children:"Mileage"}),y.jsx("th",{className:"p-2",children:"Work Performed"}),y.jsx("th",{className:"p-2 text-right",children:"Cost"}),y.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:e.filter(m=>m.vehicleId===h.id).sort((m,v)=>new Date(v.date)-new Date(m.date)).map(m=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-2",children:m.date}),y.jsx("td",{className:"p-2",children:m.mileage?.toLocaleString()||"N/A"}),y.jsx("td",{className:"p-2",children:m.workPerformed}),y.jsxs("td",{className:"p-2 text-right font-mono",children:["$",m.cost.toFixed(2)]}),y.jsxs("td",{className:"p-2 text-center",children:[y.jsx("button",{onClick:()=>r("maintenanceLog",m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:14})}),y.jsx("button",{onClick:()=>n("maintenanceLog",m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:14})})]})]},m.id))})]})]})]},h.id))})]})},Zoe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Item Name",render:b=>y.jsx("span",{className:"font-medium",children:b.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:b=>y.jsx("span",{children:b.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:b=>y.jsxs("span",{className:"font-mono",children:["$",(b.cost||0).toFixed(2)]})}],m=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),v=b=>{b.target.checked?u(m.map(x=>x.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("inventory",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Li,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"inventory")}),y.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(eg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:v})}),h.map(b=>y.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:m.map(b=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(E=>E!==b.id):[...x,b.id])}})}),h.map(x=>y.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("inventory",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>r("inventory",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},b.id))})]})})]})},ese=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=K.useMemo(()=>t.map(u=>{const c=e.filter(m=>m.clientId===u.id),f=c.reduce((m,v)=>m+(v.revenue||0),0),h=c.reduce((m,v)=>m+(v.materialCost||0)+(v.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=K.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const m=h.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=K.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),y.jsx(WE,{width:"100%",height:300,children:y.jsxs(EF,{data:a,children:[y.jsx(IS,{strokeDasharray:"3 3"}),y.jsx(Pd,{dataKey:"month",stroke:"#64748b"}),y.jsx(Id,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),y.jsx(oi,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),y.jsx(qo,{}),y.jsx(ca,{dataKey:"Revenue",fill:"#22c55e"}),y.jsx(ca,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Client"}),y.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),y.jsx("tbody",{children:i.map(u=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Item"}),y.jsx("th",{className:"p-3 text-center",children:"Quantity"}),y.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),y.jsx("tbody",{children:s.map(u=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},tse=({bills:t,paidStatus:e,onClose:r})=>{const n=K.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:y.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(l8,{size:20,className:"mr-3"}),y.jsxs("div",{children:[y.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),y.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>y.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),y.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:y.jsx(iL,{size:18})})]})},rse=({data:t,onSliceClick:e})=>{const[r,n]=K.useState(0),i=K.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,fill:b,payload:x}=s;return y.jsxs("g",{className:"cursor-pointer",onClick:()=>e(x.name),children:[y.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:b,className:"font-bold text-lg",children:x.name}),y.jsx(yS,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:v,fill:b})]})};return y.jsx(WE,{width:"100%",height:300,children:y.jsxs(qoe,{children:[y.jsx(oi,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),y.jsx(Za,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>y.jsx(hg,{fill:s.color},`cell-${u}`))})]})})},nse=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=t.filter(v=>v.status==="Unpaid"),s=a.reduce((v,b)=>v+(b.grandTotal||0),0),u=e.reduce((v,b)=>v+(b.amount||0),0),c=r.reduce((v,b)=>v+(b.amount||0),0)*4.33,f=u+c,h=n+s-f,m=()=>{const v=prompt("Enter current bank balance:",n);v&&!isNaN(v)&&i(parseFloat(v))};return y.jsx("div",{className:"space-y-6",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),y.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",n.toLocaleString()]})]}),y.jsx(Uo,{className:"text-blue-600 dark:text-blue-400",size:24})]}),y.jsx("button",{onClick:m,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Update Balance"})]}),y.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),y.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",s.toLocaleString()]})]}),y.jsx(nw,{className:"text-green-600 dark:text-green-400",size:24})]}),y.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[a.length," unpaid invoices"]})]}),y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),y.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",f.toLocaleString()]})]}),y.jsx(E8,{className:"text-red-600 dark:text-red-400",size:24})]}),y.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),y.jsxs("div",{className:`${h>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:`text-sm font-medium ${h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),y.jsxs("p",{className:`text-2xl font-bold ${h>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",h.toLocaleString()]})]}),h>=0?y.jsx(nw,{className:"text-green-600 dark:text-green-400",size:24}):y.jsx(xP,{className:"text-red-600 dark:text-red-400",size:24})]}),y.jsx("p",{className:`text-xs mt-1 ${h>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),y.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:a.length>0?a.map((v,b)=>y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:v.billTo||v.customer||"Unknown Client"}),y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",v.dueDate||"No date"]})]}),y.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",(v.grandTotal||0).toLocaleString()]})]},b)):y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[y.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),y.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",u.toLocaleString()]})]}),y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[y.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),y.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",c.toLocaleString()]})]}),y.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[y.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),y.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",f.toLocaleString()]})]})]})]})]}),h<0&&y.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(xP,{className:"text-red-600 dark:text-red-400",size:20}),y.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),y.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]})]})})},ise=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=K.useMemo(()=>{const u=t.filter(O=>{if(!O.date)return!1;const P=new Date(O.date);return P>=i.start&&P<=i.end}),c=u.reduce((O,P)=>O+(P.revenue||0),0),f=u.reduce((O,P)=>O+(P.materialCost||0)+(P.laborCost||0),0),h=c-f,m=(i.end-i.start)/(1e3*60*60*24*30.44),v=e.reduce((O,P)=>{const $=P.category||"Uncategorized";return O[$]=(O[$]||0)+P.amount,O},{}),b=r.reduce((O,P)=>O+P.amount,0)*m;b>0&&(v["Weekly & Misc"]=(v["Weekly & Misc"]||0)+b);const x=Object.values(v).reduce((O,P)=>O+P,0),E=h-x,w=c>0?h/c*100:0,C=c>0?E/c*100:0;return{revenue:c,cogs:f,grossProfit:h,operatingExpenses:x,expensesByCategory:v,netProfit:E,grossProfitMargin:w,netProfitMargin:C}},[t,e,r,i]),s=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const c={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",c)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:s()}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[y.jsx("span",{children:"Total Revenue"}),y.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),y.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),y.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),y.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[y.jsx("span",{children:"Gross Profit"}),y.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[y.jsx("span",{children:"Gross Profit Margin"}),y.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),y.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),y.jsx("div",{className:"p-3 font-semibold",children:y.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,c])=>y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),y.jsxs("span",{className:"font-mono",children:["($",c.toFixed(2),")"]})]},u)),y.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[y.jsx("span",{children:"Total Operating Expenses"}),y.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),y.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),y.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[y.jsx("span",{children:"Net Profit"}),y.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[y.jsx("span",{children:"Net Profit Margin"}),y.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},fp=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:c,handleDelete:f,debtPayoffStrategies:h})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),y.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[y.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>a(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>s(m.target.files[0],n)}),y.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(eg,{size:16})," Import CSV"]})]}),y.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>c(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New"]})]})]}),n==="debt"&&h&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.avalanche.map(m=>y.jsxs("li",{children:[m.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.snowball.map(m=>y.jsxs("li",{children:[m.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[r.map(m=>y.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:e.map(m=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(v=>y.jsx("td",{className:`p-3 ${v.className||""}`,children:v.render(m)},v.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>c(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>f(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},m.id))})]})})]}),ase=({goalsWithProgress:t,openModal:e})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),y.jsxs("button",{onClick:()=>e("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Di,{size:16})," Add New Goal"]})]}),y.jsx("div",{className:"space-y-6",children:t.map(r=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-end mb-1",children:[y.jsx("span",{className:"font-semibold",children:r.name}),y.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r.progress.toFixed(1),"%"]})]}),y.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:y.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${r.progress}%`}})}),y.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500 dark:text-slate-500",children:[y.jsxs("span",{children:["Target: ",r.type==="debt"?"Pay Off":`$${r.targetValue.toLocaleString()}`]}),y.jsxs("span",{children:["Deadline: ",r.deadline]})]})]},r.id))})]}),ose=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],sse=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],lse=()=>{const[t,e]=K.useState(ose),[r,n]=K.useState(0),[i,a]=K.useState(sse),[s,u]=K.useState(0),[c,f]=K.useState(0),h=(x,E,w)=>{const C=[...t];C[x][E]=parseFloat(w)||0,e(C)},m=(x,E,w)=>{const C=[...i];C[x][E]=parseFloat(w)||0,a(C)},v=K.useMemo(()=>{const x=t.find(E=>r>=E.min&&r<=E.max);return x?r*(x.rate/100):0},[r,t]),b=K.useMemo(()=>{const x=i.find(E=>s>=E.min&&s<=E.max);return!x||!c?0:c*x.bonus},[s,c,i]);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Sales Bracket"}),y.jsx("th",{className:"p-2",children:"% Scale"})]})}),y.jsx("tbody",{children:t.map((x,E)=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[y.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",x.min.toLocaleString(),x.max===1/0?"+":` - $${x.max.toLocaleString()}`]}),y.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[y.jsx("input",{type:"number",value:x.rate,onChange:w=>h(E,"rate",w.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},E))})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),y.jsxs("div",{className:"relative",children:[y.jsx(Uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"number",value:r,onChange:x=>n(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),y.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),y.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",v.toFixed(2)]})]})]})]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Sales Bracket"}),y.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),y.jsx("tbody",{children:i.map((x,E)=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[y.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",x.min.toLocaleString(),x.max===1/0?"+":` - $${x.max.toLocaleString()}`]}),y.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",y.jsx("input",{type:"number",value:x.bonus,onChange:w=>m(E,"bonus",w.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},E))})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),y.jsxs("div",{className:"relative",children:[y.jsx(Uo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"number",value:s,onChange:x=>u(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),y.jsx("input",{type:"number",value:c,onChange:x=>f(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),y.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),y.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",b.toFixed(2)]})]})]})]})]})]})]})},use={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},ai="hvac-finance-dashboard",OS=P2(use),y2=fM(OS),yt=d9(OS),cse=Vz(OS),fse=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],dse=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],hse=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],pse=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],mse=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],gse=[{title:"Follow up with Johnson about quote",date:new Date().toISOString().split("T")[0],notes:"Sent quote last week",isComplete:!1},{title:"Order filters for Downtown Restaurant",date:new Date().toISOString().split("T")[0],notes:"Need 10x 20x25x1 filters",isComplete:!0}],yse=[{billTo:"Badawi",customer:"Southern Algeria #00547",jobNo:"1548875887",completedOn:"6/14/2024",invNum:"",terms:"Net 45",net:1291,dueDate:"6/14/2024",status:"Unpaid",grandTotal:1291}],vse=[{date:new Date().toISOString().split("T")[0],amount:500,notes:"Q2 Estimated Payment"}],bse=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],_se=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],xse=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],wse=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],Ese=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],Sse=[{key:"name",label:"Job Name",sortable:!0},{key:"revenue",label:"Revenue",sortable:!0,type:"currency"},{key:"materialCost",label:"Material Cost",sortable:!0,type:"currency"},{key:"laborCost",label:"Labor Cost",sortable:!0,type:"currency"},{key:"date",label:"Date",sortable:!0,type:"date"},{key:"notes",label:"Notes",sortable:!1}],Tse=[{key:"name",label:"Debt Name",sortable:!0},{key:"totalAmount",label:"Total Amount",sortable:!0,type:"currency"},{key:"paidAmount",label:"Paid Amount",sortable:!0,type:"currency"},{key:"interestRate",label:"Interest Rate",sortable:!0,type:"percentage"},{key:"notes",label:"Notes",sortable:!1}],Ase=[{key:"name",label:"Income Source",sortable:!0},{key:"amount",label:"Amount",sortable:!0,type:"currency"},{key:"type",label:"Type",sortable:!0},{key:"isRecurring",label:"Recurring",sortable:!0,type:"boolean"},{key:"notes",label:"Notes",sortable:!1}],kse=[{key:"name",label:"Cost Name",sortable:!0},{key:"amount",label:"Weekly Amount",sortable:!0,type:"currency"},{key:"notes",label:"Notes",sortable:!1}],Pse=()=>{const[t,e]=K.useState(null),[r,n]=K.useState(!0),[i,a]=K.useState(!1),[s,u]=K.useState([]),[c,f]=K.useState([]),[h,m]=K.useState([]),[v,b]=K.useState([]),[x,E]=K.useState([]),[w,C]=K.useState([]),[O,P]=K.useState([]),[$,N]=K.useState([]),[j,A]=K.useState([]),[k,R]=K.useState([]),[F,L]=K.useState([]),[V,M]=K.useState([]),[Z,te]=K.useState([]),[ne,ae]=K.useState({}),[Q,ie]=K.useState(!1),[oe,q]=K.useState(null),[G,ce]=K.useState("bill"),[xe,Re]=K.useState({key:"dueDay",direction:"ascending"}),[be,Me]=K.useState("dashboard"),[Fe,he]=K.useState(null),[Oe,qe]=K.useState(25e3),[le,st]=K.useState({start:new Date,end:new Date}),[We,pt]=K.useState("monthly"),[Et,Ht]=K.useState(!0),[cr,Jr]=K.useState("dark"),[At,kt]=K.useState(""),[Ir,Zr]=K.useState([]),[di,hi]=K.useState(null),Kt=K.useCallback(async()=>{try{const ge=await fetch("https://144.202.20.114:8000/api/create_link_token",{method:"POST",headers:{"Content-Type":"application/json"}});if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const we=await ge.json();hi(we.link_token)}catch(ge){console.error("Error generating link token:",ge),console.log("Bank linking temporarily unavailable. Please try again later."),hi(null)}},[]),Jt=K.useCallback((ge,we)=>{fetch("https://144.202.20.114:8000/api/exchange_public_token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:ge})}).then(Ie=>{if(!Ie.ok)throw new Error(`HTTP error! status: ${Ie.status}`);return Ie.json()}).then(Ie=>{console.log("Successfully linked bank account:",Ie),alert("Bank account linked successfully!")}).catch(Ie=>{console.error("Error exchanging public token:",Ie),alert("Failed to link bank account. Please try again.")})},[]),{open:pi,ready:is}=r8({token:di,onSuccess:Jt});K.useEffect(()=>{t&&Kt()},[t,Kt]),K.useEffect(()=>{cr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[cr]);const Fi=()=>{Jr(cr==="light"?"dark":"light")};K.useEffect(()=>{const ge=new Date;let we,Ie;if(We==="monthly")we=new Date(ge.getFullYear(),ge.getMonth(),1),Ie=new Date(ge.getFullYear(),ge.getMonth()+1,0);else if(We==="quarterly"){const Se=Math.floor(ge.getMonth()/3);we=new Date(ge.getFullYear(),Se*3,1),Ie=new Date(ge.getFullYear(),Se*3+3,0)}else we=new Date(ge.getFullYear(),0,1),Ie=new Date(ge.getFullYear(),11,31);st({start:we,end:Ie})},[We]);const Un=K.useMemo(()=>le.start.getFullYear()+"-"+String(le.start.getMonth()+1).padStart(2,"0"),[le]);K.useEffect(()=>{const ge=mB(y2,async we=>{if(we){e(we.uid);const Ie=pr(yt,"artifacts",ai,"users",we.uid,"bills");if((await S9(Ie)).empty){a(!0),console.log("No data found. Seeding initial data...");const De=Yh(yt),$e=["artifacts",ai,"users",we.uid];fse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"bills")),{...Ve,createdAt:Sr()})),dse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"debts")),{...Ve,createdAt:Sr()})),hse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"incomes")),{...Ve,createdAt:Sr()})),pse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"weeklyCosts")),{...Ve,createdAt:Sr()})),mse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"jobs")),{...Ve,createdAt:Sr()})),gse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"tasks")),{...Ve,createdAt:Sr()})),yse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"invoices")),{...Ve,createdAt:Sr()})),vse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"taxPayments")),{...Ve,createdAt:Sr()})),bse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"goals")),{...Ve,createdAt:Sr()})),_se.forEach(Ve=>De.set(Vt(pr(yt,...$e,"clients")),{...Ve,createdAt:Sr()})),xse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"inventory")),{...Ve,createdAt:Sr()})),wse.forEach(Ve=>De.set(Vt(pr(yt,...$e,"vehicles")),{...Ve,createdAt:Sr()})),Ese.forEach(Ve=>De.set(Vt(pr(yt,...$e,"maintenanceLogs")),{...Ve,createdAt:Sr()}));const ht=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");De.set(Vt(yt,...$e,"paidStatus",ht),{status:{}}),await De.commit(),a(!1)}}else e(null);n(!1)});return()=>ge()},[]),K.useEffect(()=>{if(!t)return;const we=Object.entries({bills:u,debts:f,incomes:m,weeklyCosts:b,jobs:E,tasks:C,invoices:P,taxPayments:N,goals:A,clients:R,inventory:L,vehicles:M,maintenanceLogs:te}).map(([Se,De])=>uP(x9(pr(yt,"artifacts",ai,"users",t,Se)),$e=>{De($e.docs.map(ht=>({id:ht.id,...ht.data()})))},$e=>console.error(`Error fetching ${Se}:`,$e))),Ie=uP(Vt(yt,"artifacts",ai,"users",t,"paidStatus",Un),Se=>{ae(Se.exists()?Se.data().status:{})},Se=>console.error("Error fetching paid status:",Se));return()=>{we.forEach(Se=>Se()),Ie()}},[t,Un]);const fn=K.useMemo(()=>x.filter(ge=>{if(!ge.date)return!1;const we=new Date(ge.date);return we>=le.start&&we<=le.end}),[x,le]),eo=K.useMemo(()=>s.filter(ge=>!Fe||ge.category===Fe),[s,Fe]),mi=K.useMemo(()=>{const ge=h.reduce((Ve,nr)=>Ve+(nr.amount||0),0),we=s.reduce((Ve,nr)=>Ve+(nr.amount||0),0),Ie=v.reduce((Ve,nr)=>Ve+(nr.amount||0),0)*4.33,Se=we+Ie,De=ge-Se,$e=c.reduce((Ve,nr)=>Ve+((nr.totalAmount||0)-(nr.paidAmount||0)),0),ht=s.filter(Ve=>ne[Ve.id]).reduce((Ve,nr)=>Ve+nr.amount,0);return{totalIncome:ge,totalOutflow:Se,netCashFlow:De,paidThisMonth:ht,totalDebt:$e,totalMonthlyBills:we,projectedMonthlyWeekly:Ie}},[s,c,h,v,ne]),gi=K.useMemo(()=>{const ge=fn.reduce((Se,De)=>Se+(De.revenue||0),0),we=fn.reduce((Se,De)=>Se+(De.materialCost||0)+(De.laborCost||0),0),Ie=ge-we;return{revenue:ge,cogs:we,grossProfit:Ie}},[fn]),as=K.useMemo(()=>{const ge=s.reduce((Ie,Se)=>{const De=Se.category||"Uncategorized";return Ie[De]=(Ie[De]||0)+Se.amount,Ie},{}),we=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(ge).map(([Ie,Se],De)=>({name:Ie,value:Se,color:we[De%we.length]})).sort((Ie,Se)=>Se.value-Ie.value)},[s]),qn=K.useMemo(()=>{let we={bills:eo,debts:c,incomes:h,weeklyCosts:v,jobs:x,goals:j,clients:k,inventory:F,vehicles:V,invoices:O}[be]||[];return At&&(we=we.filter(Ie=>Object.values(Ie).some(Se=>Se&&String(Se).toLowerCase().includes(At.toLowerCase())))),[...we].sort((Ie,Se)=>xe.key?Ie[xe.key]<Se[xe.key]?xe.direction==="ascending"?-1:1:Ie[xe.key]>Se[xe.key]?xe.direction==="ascending"?1:-1:0:0)},[eo,c,h,v,x,j,k,F,V,O,xe,be,At]),pa=K.useMemo(()=>{const ge=c.map(Se=>({...Se,remaining:Se.totalAmount-Se.paidAmount})).filter(Se=>Se.remaining>0),we=[...ge].sort((Se,De)=>De.interestRate-Se.interestRate),Ie=[...ge].sort((Se,De)=>Se.remaining-De.remaining);return{avalanche:we,snowball:Ie}},[c]),to=K.useMemo(()=>j.map(ge=>{let we=0;if(ge.type==="debt"){const Ie=c.find(Se=>Se.id===ge.targetId);Ie&&(we=Ie.paidAmount/Ie.totalAmount*100)}else ge.type==="revenue"&&(we=x.reduce((Se,De)=>Se+(De.revenue||0),0)/ge.targetValue*100);return{...ge,progress:Math.min(we,100)}}),[j,c,x]),Vi=ge=>Re(we=>({key:ge,direction:we.key===ge&&we.direction==="ascending"?"descending":"ascending"})),dn=async ge=>{t&&await T9(Vt(yt,"artifacts",ai,"users",t,"paidStatus",Un),{status:{...ne,[ge]:!ne[ge]}},{merge:!0})},zn=async(ge,we)=>{if(!t)return;const Ie=we==="Paid"?"Unpaid":"Paid";await lP(Vt(yt,"artifacts",ai,"users",t,"invoices",ge),{status:Ie})},rr=(ge,we=null)=>{ce(ge),q(we),ie(!0)},Wn=async(ge,we)=>{if(!t)return;const Se={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[G],De=["artifacts",ai,"users",t,Se],$e={...ge,modifiedAt:Sr()};if(we){console.log("Uploading file:",we.name);const ht=Fz(cse,`receipts/${t}/${Date.now()}-${we.name}`);try{await Lz(ht,we),$e.attachmentURL=await $z(ht)}catch(Ve){console.error("File upload failed:",Ve),alert("File upload failed. Please try again.");return}}oe?.id?await lP(Vt(yt,...De,oe.id),$e):await k9(pr(yt,...De),{...$e,createdAt:Sr()}),ie(!1),q(null)},Fr=async(ge,we)=>{if(!t||!window.confirm("Delete this item?"))return;const Se={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[ge];await A9(Vt(yt,"artifacts",ai,"users",t,Se,we))},Vr=(ge,we)=>{if(!ge.length)return;const Ie=Object.keys(ge[0]),Se=ge.map(Ve=>Ie.map(nr=>{const An=Ve[nr];return typeof An=="string"&&An.includes(",")?`"${An}"`:An}).join(",")),De="data:text/csv;charset=utf-8,"+[Ie.join(","),...Se].join(`
`),$e=encodeURI(De),ht=document.createElement("a");ht.setAttribute("href",$e),ht.setAttribute("download",`hvac_${we}_${Un}.csv`),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},Tn=(ge,we)=>{if(!ge||!t)return;const Ie=new FileReader;Ie.onload=async Se=>{const $e=Se.target.result.split(`
`).filter(Zt=>Zt),ht=$e[0].split(",").map(Zt=>Zt.trim()),Ve=$e.slice(1).map(Zt=>{const ro=Zt.split(",").map(Hn=>Hn.trim());return ht.reduce((Hn,vi,Bi)=>{const kn=ro[Bi];return Hn[vi]=isNaN(kn)||kn===""?kn:parseFloat(kn),Hn},{})}),An={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[we];if(!An){alert("Invalid import type.");return}const hn=Yh(yt),ga=pr(yt,"artifacts",ai,"users",t,An);Ve.forEach(Zt=>{const ro=Vt(ga),Hn=Object.entries(Zt).reduce((vi,[Bi,kn])=>(vi[Bi]=kn===void 0?null:kn,vi),{});hn.set(ro,{...Hn,createdAt:Sr()})});try{await hn.commit(),alert(`Successfully imported ${Ve.length} ${An}!`)}catch(Zt){console.error("Error importing CSV:",Zt),alert("Failed to import CSV. Please check the console for errors.")}},Ie.readAsText(ge)},yi=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const ge=new Date(le.start);ge.setMonth(ge.getMonth()+1);const we=ge.getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),Ie=s.filter($e=>$e.isRecurring),Se=h.filter($e=>$e.isRecurring),De=Yh(yt);Ie.forEach($e=>{const ht={...$e,createdAt:Sr(),notes:`Generated for ${we}`};delete ht.id;const Ve=Vt(pr(yt,"artifacts",ai,"users",t,"bills"));De.set(Ve,ht)}),Se.forEach($e=>{const ht={...$e,createdAt:Sr(),notes:`Generated for ${we}`};delete ht.id;const Ve=Vt(pr(yt,"artifacts",ai,"users",t,"incomes"));De.set(Ve,ht)});try{await De.commit(),alert(`Generated ${Ie.length} bills and ${Se.length} incomes for next month.`)}catch($e){console.error("Error generating recurring transactions:",$e),alert("Failed to generate recurring transactions.")}},ma=async(ge,we)=>{if(!t||!we.length||!window.confirm(`Delete ${we.length} selected items?`))return;const Se={inventory:"inventory",invoice:"invoices",client:"clients"}[ge];if(!Se){alert("Invalid bulk delete type.");return}const De=Yh(yt);we.forEach($e=>{const ht=Vt(yt,"artifacts",ai,"users",t,Se,$e);De.delete(ht)}),await De.commit(),Zr([])};if(r)return y.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return y.jsx(T8,{setUserId:e});const Ut=()=>y.jsxs(y.Fragment,{children:[Et&&y.jsx(tse,{bills:s,paidStatus:ne,onClose:()=>Ht(!1)}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[y.jsx(Qi,{title:"Total Monthly Income",value:`$${mi.totalIncome.toLocaleString()}`,icon:y.jsx(s8,{size:24}),color:"green"}),y.jsx(Qi,{title:"Total Monthly Outflow",value:`$${mi.totalOutflow.toLocaleString()}`,icon:y.jsx(o8,{size:24}),color:"red"}),y.jsx(Qi,{title:"Projected Net",value:`$${mi.netCashFlow.toLocaleString()}`,icon:y.jsx(Uo,{size:24}),color:mi.netCashFlow>=0?"cyan":"amber"}),y.jsx(Qi,{title:"Outstanding Debt",value:`$${mi.totalDebt.toLocaleString()}`,icon:y.jsx(S8,{size:24}),color:"orange"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[y.jsx(Qi,{title:"Gross Profit Margin",value:`${gi.revenue>0?(gi.grossProfit/gi.revenue*100).toFixed(1):"0.0"}%`,icon:y.jsx(v8,{size:24}),color:"teal",subtext:"For selected period"}),y.jsx(Qi,{title:"Avg. Job Revenue",value:`$${(gi.revenue/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(nw,{size:24}),color:"indigo",subtext:`${fn.length} jobs`}),y.jsx(Qi,{title:"Avg. Job Profit",value:`$${(gi.grossProfit/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(w8,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),Fe&&y.jsxs("button",{onClick:()=>he(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",Fe]}),y.jsxs("button",{onClick:()=>Vr(qn,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(bd,{size:16})," Export to CSV"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Status"}),y.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>Vi("name"),children:"Name"}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3",children:"Receipt"}),y.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>Vi("amount"),children:"Amount"}),y.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>Vi("dueDay"),children:"Due Day"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:qn.map(ge=>y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${ne[ge.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>dn(ge.id),children:ne[ge.id]?y.jsx(rL,{className:"text-green-500"}):y.jsx(nL,{className:"text-slate-400 dark:text-slate-600"})})}),y.jsx("td",{className:`p-3 font-medium ${ne[ge.id]?"line-through":""}`,children:ge.name}),y.jsxs("td",{className:"p-3 text-center",children:[" ",ge.notes&&y.jsxs("div",{className:"group relative flex justify-center",children:[y.jsx(g8,{size:16,className:"text-slate-500"}),y.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:ge.notes})]})," "]}),y.jsxs("td",{className:"p-3 text-center",children:[" ",ge.attachmentURL?y.jsx("a",{href:ge.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:y.jsx(wP,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):y.jsx(wP,{size:16,className:"text-slate-400 dark:text-slate-600"})," "]}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(ge.amount||0).toFixed(2)]}),y.jsx("td",{className:"p-3 text-center",children:ge.dueDay}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>rr("bill",ge),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Xo,{size:16})}),y.jsx("button",{onClick:()=>Fr("bill",ge.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Li,{size:16})})]})]},ge.id))})]})}),y.jsxs("button",{onClick:()=>rr("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[y.jsx(Di,{size:18})," Add New Bill"]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),y.jsx(rse,{data:as,onSliceClick:he})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Automations"}),y.jsxs("button",{onClick:yi,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(b8,{size:16})," Generate Next Month's Bills"]})]})]})]})]});return y.jsxs("div",{className:`${cr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[y.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[y.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"HVAC Financial Dashboard"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Monthly Money Management"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:Fi,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:cr==="light"?y.jsx(y8,{size:20}):y.jsx(x8,{size:20})}),y.jsxs("button",{onClick:()=>pi(),disabled:!is,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors disabled:opacity-50",children:[y.jsx(p8,{size:16})," Link Bank Account"]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-2 rounded-lg",children:[y.jsx("span",{className:"text-sm font-semibold",children:"Reporting Period:"}),y.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[y.jsx("button",{onClick:()=>pt("monthly"),className:`px-2 py-1 text-xs rounded ${We==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),y.jsx("button",{onClick:()=>pt("quarterly"),className:`px-2 py-1 text-xs rounded ${We==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),y.jsx("button",{onClick:()=>pt("yearly"),className:`px-2 py-1 text-xs rounded ${We==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),y.jsxs("button",{onClick:()=>gB(y2),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(m8,{size:16})," Logout"]})]})]}),y.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[y.jsx("button",{onClick:()=>Me("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),y.jsx("button",{onClick:()=>Me("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="reports"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Reports"}),y.jsx("button",{onClick:()=>Me("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="calendar"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Calendar"}),y.jsx("button",{onClick:()=>Me("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="invoices"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Invoices"}),y.jsx("button",{onClick:()=>Me("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="tax"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Tax Management"}),y.jsx("button",{onClick:()=>Me("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),y.jsx("button",{onClick:()=>Me("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="forecast"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Forecast"}),y.jsx("button",{onClick:()=>Me("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="goals"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Goals"}),y.jsx("button",{onClick:()=>Me("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="incentives"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Incentives"}),y.jsx("button",{onClick:()=>Me("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="clients"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Clients"}),y.jsx("button",{onClick:()=>Me("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="jobs"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Jobs"}),y.jsx("button",{onClick:()=>Me("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="vehicles"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),y.jsx("button",{onClick:()=>Me("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="inventory"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Inventory"}),y.jsx("button",{onClick:()=>Me("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="debts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),y.jsx("button",{onClick:()=>Me("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="incomes"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),y.jsx("button",{onClick:()=>Me("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="weeklyCosts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),y.jsxs("main",{children:[be==="dashboard"&&Ut(),be==="reports"&&y.jsx(ese,{clients:k,jobs:x,bills:s,inventory:F}),be==="calendar"&&y.jsx(Hoe,{jobs:x,tasks:w,openModal:rr}),be==="invoices"&&y.jsx(Xoe,{invoices:O,openModal:rr,handleDelete:Fr,handleBulkDelete:ma,selectedIds:Ir,setSelectedIds:Zr,searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr,handleToggleInvoicePaid:zn}),be==="tax"&&y.jsx(Woe,{jobs:x,bills:s,weeklyCosts:v,taxPayments:$,openModal:rr,handleDelete:Fr}),be==="pnl"&&y.jsx(ise,{jobs:x,bills:s,weeklyCosts:v,reportingPeriod:We,dateRange:le}),be==="forecast"&&y.jsx(nse,{invoices:O,bills:s,weeklyCosts:v,currentBankBalance:Oe,setCurrentBankBalance:qe}),be==="goals"&&y.jsx(ase,{goalsWithProgress:to,openModal:rr}),be==="incentives"&&y.jsx(lse,{}),be==="clients"&&y.jsx(Qoe,{clients:k,openModal:rr,handleDelete:Fr,handleBulkDelete:ma,selectedIds:Ir,setSelectedIds:Zr,searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr}),be==="jobs"&&y.jsx(fp,{title:"Job Profitability",data:qn,columns:Sse,type:"job",searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr,openModal:rr,handleDelete:Fr}),be==="vehicles"&&y.jsx(Joe,{vehicles:V,maintenanceLogs:Z,openModal:rr,handleDelete:Fr,searchTerm:At,setSearchTerm:kt}),be==="inventory"&&y.jsx(Zoe,{inventory:F,openModal:rr,handleDelete:Fr,handleBulkDelete:ma,selectedIds:Ir,setSelectedIds:Zr,searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr}),be==="debts"&&y.jsx(fp,{title:"Debt Management",data:qn,columns:Tse,type:"debt",searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr,openModal:rr,handleDelete:Fr,debtPayoffStrategies:pa}),be==="incomes"&&y.jsx(fp,{title:"Income Sources",data:qn,columns:Ase,type:"income",searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr,openModal:rr,handleDelete:Fr}),be==="weeklyCosts"&&y.jsx(fp,{title:"Recurring Weekly Costs",data:qn,columns:kse,type:"weekly",searchTerm:At,setSearchTerm:kt,handleImportCSV:Tn,handleExportCSV:Vr,openModal:rr,handleDelete:Fr})]}),y.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",y.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),Q&&y.jsx(Yoe,{item:oe,type:G,onSave:Wn,onClose:()=>ie(!1),debts:c,clients:k,vehicles:V})]})};DV.createRoot(document.getElementById("root")).render(y.jsx(W.StrictMode,{children:y.jsx(Pse,{})}));
