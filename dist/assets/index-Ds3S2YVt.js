(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dy={exports:{}},Gu={},My={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function s5(){if(yE)return nt;yE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function b(W,Q,J){this.props=W,this.context=Q,this.refs=w,this.updater=J||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=b.prototype;function j(W,Q,J){this.props=W,this.context=Q,this.refs=w,this.updater=J||x}var A=j.prototype=new S;A.constructor=j,_(A,b.prototype),A.isPureReactComponent=!0;var I=Array.isArray,N=Object.prototype.hasOwnProperty,C={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(W,Q,J){var le,ge={},he=null,de=null;if(Q!=null)for(le in Q.ref!==void 0&&(de=Q.ref),Q.key!==void 0&&(he=""+Q.key),Q)N.call(Q,le)&&!P.hasOwnProperty(le)&&(ge[le]=Q[le]);var be=arguments.length-2;if(be===1)ge.children=J;else if(1<be){for(var z=Array(be),me=0;me<be;me++)z[me]=arguments[me+2];ge.children=z}if(W&&W.defaultProps)for(le in be=W.defaultProps,be)ge[le]===void 0&&(ge[le]=be[le]);return{$$typeof:t,type:W,key:he,ref:de,props:ge,_owner:C.current}}function L(W,Q){return{$$typeof:t,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function R(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function D(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(J){return Q[J]})}var F=/\/+/g;function $(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?D(""+W.key):Q.toString(36)}function re(W,Q,J,le,ge){var he=typeof W;(he==="undefined"||he==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(he){case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case t:case e:de=!0}}if(de)return de=W,ge=ge(de),W=le===""?"."+$(de,0):le,I(ge)?(J="",W!=null&&(J=W.replace(F,"$&/")+"/"),re(ge,Q,J,"",function(me){return me})):ge!=null&&(R(ge)&&(ge=L(ge,J+(!ge.key||de&&de.key===ge.key?"":(""+ge.key).replace(F,"$&/")+"/")+W)),Q.push(ge)),1;if(de=0,le=le===""?".":le+":",I(W))for(var be=0;be<W.length;be++){he=W[be];var z=le+$(he,be);de+=re(he,Q,J,z,ge)}else if(z=v(W),typeof z=="function")for(W=z.call(W),be=0;!(he=W.next()).done;)he=he.value,z=le+$(he,be++),de+=re(he,Q,J,z,ge);else if(he==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return de}function ae(W,Q,J){if(W==null)return W;var le=[],ge=0;return re(W,le,"","",function(he){return Q.call(J,he,ge++)}),le}function Z(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(J){(W._status===0||W._status===-1)&&(W._status=1,W._result=J)},function(J){(W._status===0||W._status===-1)&&(W._status=2,W._result=J)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var te={current:null},X={transition:null},K={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:X,ReactCurrentOwner:C};function ne(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:ae,forEach:function(W,Q,J){ae(W,function(){Q.apply(this,arguments)},J)},count:function(W){var Q=0;return ae(W,function(){Q++}),Q},toArray:function(W){return ae(W,function(Q){return Q})||[]},only:function(W){if(!R(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},nt.Component=b,nt.Fragment=r,nt.Profiler=a,nt.PureComponent=j,nt.StrictMode=n,nt.Suspense=d,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,nt.act=ne,nt.cloneElement=function(W,Q,J){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=_({},W.props),ge=W.key,he=W.ref,de=W._owner;if(Q!=null){if(Q.ref!==void 0&&(he=Q.ref,de=C.current),Q.key!==void 0&&(ge=""+Q.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(z in Q)N.call(Q,z)&&!P.hasOwnProperty(z)&&(le[z]=Q[z]===void 0&&be!==void 0?be[z]:Q[z])}var z=arguments.length-2;if(z===1)le.children=J;else if(1<z){be=Array(z);for(var me=0;me<z;me++)be[me]=arguments[me+2];le.children=be}return{$$typeof:t,type:W.type,key:ge,ref:he,props:le,_owner:de}},nt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},nt.createElement=O,nt.createFactory=function(W){var Q=O.bind(null,W);return Q.type=W,Q},nt.createRef=function(){return{current:null}},nt.forwardRef=function(W){return{$$typeof:c,render:W}},nt.isValidElement=R,nt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:Z}},nt.memo=function(W,Q){return{$$typeof:h,type:W,compare:Q===void 0?null:Q}},nt.startTransition=function(W){var Q=X.transition;X.transition={};try{W()}finally{X.transition=Q}},nt.unstable_act=ne,nt.useCallback=function(W,Q){return te.current.useCallback(W,Q)},nt.useContext=function(W){return te.current.useContext(W)},nt.useDebugValue=function(){},nt.useDeferredValue=function(W){return te.current.useDeferredValue(W)},nt.useEffect=function(W,Q){return te.current.useEffect(W,Q)},nt.useId=function(){return te.current.useId()},nt.useImperativeHandle=function(W,Q,J){return te.current.useImperativeHandle(W,Q,J)},nt.useInsertionEffect=function(W,Q){return te.current.useInsertionEffect(W,Q)},nt.useLayoutEffect=function(W,Q){return te.current.useLayoutEffect(W,Q)},nt.useMemo=function(W,Q){return te.current.useMemo(W,Q)},nt.useReducer=function(W,Q,J){return te.current.useReducer(W,Q,J)},nt.useRef=function(W){return te.current.useRef(W)},nt.useState=function(W){return te.current.useState(W)},nt.useSyncExternalStore=function(W,Q,J){return te.current.useSyncExternalStore(W,Q,J)},nt.useTransition=function(){return te.current.useTransition()},nt.version="18.3.1",nt}var vE;function X1(){return vE||(vE=1,My.exports=s5()),My.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function o5(){if(xE)return Gu;xE=1;var t=X1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,m={},v=null,x=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:v,ref:x,props:m,_owner:a.current}}return Gu.Fragment=r,Gu.jsx=l,Gu.jsxs=l,Gu}var bE;function l5(){return bE||(bE=1,Dy.exports=o5()),Dy.exports}var i=l5(),B=X1();const G=xt(B);var cp={},Ly={exports:{}},Tn={},$y={exports:{}},Fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function c5(){return wE||(wE=1,function(t){function e(X,K){var ne=X.length;X.push(K);e:for(;0<ne;){var W=ne-1>>>1,Q=X[W];if(0<a(Q,K))X[W]=K,X[ne]=Q,ne=W;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var K=X[0],ne=X.pop();if(ne!==K){X[0]=ne;e:for(var W=0,Q=X.length,J=Q>>>1;W<J;){var le=2*(W+1)-1,ge=X[le],he=le+1,de=X[he];if(0>a(ge,ne))he<Q&&0>a(de,ge)?(X[W]=de,X[he]=ne,W=he):(X[W]=ge,X[le]=ne,W=le);else if(he<Q&&0>a(de,ne))X[W]=de,X[he]=ne,W=he;else break e}}return K}function a(X,K){var ne=X.sortIndex-K.sortIndex;return ne!==0?ne:X.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,v=3,x=!1,_=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=X)n(h),K.sortIndex=K.expirationTime,e(d,K);else break;K=r(h)}}function I(X){if(w=!1,A(X),!_)if(r(d)!==null)_=!0,Z(N);else{var K=r(h);K!==null&&te(I,K.startTime-X)}}function N(X,K){_=!1,w&&(w=!1,S(O),O=-1),x=!0;var ne=v;try{for(A(K),m=r(d);m!==null&&(!(m.expirationTime>K)||X&&!D());){var W=m.callback;if(typeof W=="function"){m.callback=null,v=m.priorityLevel;var Q=W(m.expirationTime<=K);K=t.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(d)&&n(d),A(K)}else n(d);m=r(d)}if(m!==null)var J=!0;else{var le=r(h);le!==null&&te(I,le.startTime-K),J=!1}return J}finally{m=null,v=ne,x=!1}}var C=!1,P=null,O=-1,L=5,R=-1;function D(){return!(t.unstable_now()-R<L)}function F(){if(P!==null){var X=t.unstable_now();R=X;var K=!0;try{K=P(!0,X)}finally{K?$():(C=!1,P=null)}}else C=!1}var $;if(typeof j=="function")$=function(){j(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=F,$=function(){ae.postMessage(null)}}else $=function(){b(F,0)};function Z(X){P=X,C||(C=!0,$())}function te(X,K){O=b(function(){X(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,Z(N))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ne=v;v=K;try{return X()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ne=v;v=X;try{return K()}finally{v=ne}},t.unstable_scheduleCallback=function(X,K,ne){var W=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?W+ne:W):ne=W,X){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,X={id:p++,callback:K,priorityLevel:X,startTime:ne,expirationTime:Q,sortIndex:-1},ne>W?(X.sortIndex=ne,e(h,X),r(d)===null&&X===r(h)&&(w?(S(O),O=-1):w=!0,te(I,ne-W))):(X.sortIndex=Q,e(d,X),_||x||(_=!0,Z(N))),X},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(X){var K=v;return function(){var ne=v;v=K;try{return X.apply(this,arguments)}finally{v=ne}}}}(Fy)),Fy}var _E;function u5(){return _E||(_E=1,$y.exports=c5()),$y.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function d5(){if(kE)return Tn;kE=1;var t=X1(),e=u5();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function x(o,u,f,y){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,u,f,y){if(u===null||typeof u>"u"||x(o,u,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,f,y,k,T,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=f,this.propertyName=o,this.type=u,this.sanitizeURL=T,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(S,j);b[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(S,j);b[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(S,j);b[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,u,f,y){var k=b.hasOwnProperty(u)?b[u]:null;(k!==null?k.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,f,k,y)&&(f=null),y||k===null?v(u)&&(f===null?o.removeAttribute(u):o.setAttribute(u,""+f)):k.mustUseProperty?o[k.propertyName]=f===null?k.type===3?!1:"":f:(u=k.attributeName,y=k.attributeNamespace,f===null?o.removeAttribute(u):(k=k.type,f=k===3||k===4&&f===!0?"":""+f,y?o.setAttributeNS(y,u,f):o.setAttribute(u,f))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),X=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,W;function Q(o){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+o}var J=!1;function le(o,u){if(!o||J)return"";J=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var y=ce}Reflect.construct(o,[],u)}else{try{u.call()}catch(ce){y=ce}o.call(u.prototype)}else{try{throw Error()}catch(ce){y=ce}o()}}catch(ce){if(ce&&y&&typeof ce.stack=="string"){for(var k=ce.stack.split(`
`),T=y.stack.split(`
`),V=k.length-1,H=T.length-1;1<=V&&0<=H&&k[V]!==T[H];)H--;for(;1<=V&&0<=H;V--,H--)if(k[V]!==T[H]){if(V!==1||H!==1)do if(V--,H--,0>H||k[V]!==T[H]){var Y=`
`+k[V].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=V&&0<=H);break}}}finally{J=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?Q(o):""}function ge(o){switch(o.tag){case 5:return Q(o.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case C:return"Portal";case L:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case R:return(o._context.displayName||"Context")+".Provider";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ae:return u=o.displayName||null,u!==null?u:he(o.type)||"Memo";case Z:u=o._payload,o=o._init;try{return he(o(u))}catch{}}return null}function de(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(u);case 8:return u===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function me(o){var u=z(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),y=""+o[u];if(!o.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var k=f.get,T=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return k.call(this)},set:function(V){y=""+V,T.call(this,V)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(V){y=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function xe(o){o._valueTracker||(o._valueTracker=me(o))}function q(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),y="";return o&&(y=z(o)?o.checked?"true":"false":o.value),o=y,o!==f?(u.setValue(o),!0):!1}function ue(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _e(o,u){var f=u.checked;return ne({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Ie(o,u){var f=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;f=be(u.value!=null?u.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(o,u){u=u.checked,u!=null&&A(o,"checked",u,!1)}function Zt(o,u){Ue(o,u);var f=be(u.value),y=u.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?sn(o,u.type,f):u.hasOwnProperty("defaultValue")&&sn(o,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function mr(o,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,f||u===o.value||(o.value=u),o.defaultValue=u}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function sn(o,u,f){(u!=="number"||ue(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Rt=Array.isArray;function Dt(o,u,f,y){if(o=o.options,u){u={};for(var k=0;k<f.length;k++)u["$"+f[k]]=!0;for(f=0;f<o.length;f++)k=u.hasOwnProperty("$"+o[f].value),o[f].selected!==k&&(o[f].selected=k),k&&y&&(o[f].defaultSelected=!0)}else{for(f=""+be(f),u=null,k=0;k<o.length;k++){if(o[k].value===f){o[k].selected=!0,y&&(o[k].defaultSelected=!0);return}u!==null||o[k].disabled||(u=o[k])}u!==null&&(u.selected=!0)}}function Or(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function on(o,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(Rt(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}o._wrapperState={initialValue:be(f)}}function lr(o,u){var f=be(u.value),y=be(u.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),u.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Rn(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Ht(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Ht(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Dn,gt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,y,k){MSApp.execUnsafeLocalFunction(function(){return o(u,f,y,k)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(Dn=Dn||document.createElement("div"),Dn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Dn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function qa(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(o){bi.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),xi[u]=xi[o]})});function xn(o,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||xi.hasOwnProperty(o)&&xi[o]?(""+u).trim():u+"px"}function uo(o,u){o=o.style;for(var f in u)if(u.hasOwnProperty(f)){var y=f.indexOf("--")===0,k=xn(f,u[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,k):o[f]=k}}var ho=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wi(o,u){if(u){if(ho[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Xn(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function Jn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zn=null,bn=null,ea=null;function ls(o){if(o=Iu(o)){if(typeof Zn!="function")throw Error(r(280));var u=o.stateNode;u&&(u=kf(u),Zn(o.stateNode,o.type,u))}}function ta(o){bn?ea?ea.push(o):ea=[o]:bn=o}function fo(){if(bn){var o=bn,u=ea;if(ea=bn=null,ls(o),u)for(o=0;o<u.length;o++)ls(u[o])}}function _i(o,u){return o(u)}function po(){}var Bt=!1;function mo(o,u,f){if(Bt)return o(u,f);Bt=!0;try{return _i(o,u,f)}finally{Bt=!1,(bn!==null||ea!==null)&&(po(),fo())}}function Kt(o,u){var f=o.stateNode;if(f===null)return null;var y=kf(f);if(y===null)return null;f=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var gr=!1;if(c)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){gr=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{gr=!1}function ki(o,u,f,y,k,T,V,H,Y){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(f,ce)}catch(je){this.onError(je)}}var ji=!1,fe=null,ve=!1,Ve=null,Ce={onError:function(o){ji=!0,fe=o}};function He(o,u,f,y,k,T,V,H,Y){ji=!1,fe=null,ki.apply(Ce,arguments)}function St(o,u,f,y,k,T,V,H,Y){if(He.apply(this,arguments),ji){if(ji){var ce=fe;ji=!1,fe=null}else throw Error(r(198));ve||(ve=!0,Ve=ce)}}function it(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function dt(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ut(o){if(it(o)!==o)throw Error(r(188))}function rt(o){var u=o.alternate;if(!u){if(u=it(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,y=u;;){var k=f.return;if(k===null)break;var T=k.alternate;if(T===null){if(y=k.return,y!==null){f=y;continue}break}if(k.child===T.child){for(T=k.child;T;){if(T===f)return Ut(k),o;if(T===y)return Ut(k),u;T=T.sibling}throw Error(r(188))}if(f.return!==y.return)f=k,y=T;else{for(var V=!1,H=k.child;H;){if(H===f){V=!0,f=k,y=T;break}if(H===y){V=!0,y=k,f=T;break}H=H.sibling}if(!V){for(H=T.child;H;){if(H===f){V=!0,f=T,y=k;break}if(H===y){V=!0,y=T,f=k;break}H=H.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function Et(o){return o=rt(o),o!==null?Tt(o):null}function Tt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Tt(o);if(u!==null)return u;o=o.sibling}return null}var er=e.unstable_scheduleCallback,Mn=e.unstable_cancelCallback,ra=e.unstable_shouldYield,Yt=e.unstable_requestPaint,At=e.unstable_now,Qh=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,cs=e.unstable_UserBlockingPriority,na=e.unstable_NormalPriority,mu=e.unstable_LowPriority,Xh=e.unstable_IdlePriority,yo=null,Ln=null;function Jh(o){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(yo,o,void 0,(o.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:ef,gu=Math.log,Zh=Math.LN2;function ef(o){return o>>>=0,o===0?32:31-(gu(o)/Zh|0)|0}var jl=64,Nl=4194304;function us(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function vo(o,u){var f=o.pendingLanes;if(f===0)return 0;var y=0,k=o.suspendedLanes,T=o.pingedLanes,V=f&268435455;if(V!==0){var H=V&~k;H!==0?y=us(H):(T&=V,T!==0&&(y=us(T)))}else V=f&~k,V!==0?y=us(V):T!==0&&(y=us(T));if(y===0)return 0;if(u!==0&&u!==y&&(u&k)===0&&(k=y&-y,T=u&-u,k>=T||k===16&&(T&4194240)!==0))return u;if((y&4)!==0&&(y|=f&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=y;0<u;)f=31-cn(u),k=1<<f,y|=o[f],u&=~k;return y}function dg(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(o,u){for(var f=o.suspendedLanes,y=o.pingedLanes,k=o.expirationTimes,T=o.pendingLanes;0<T;){var V=31-cn(T),H=1<<V,Y=k[V];Y===-1?((H&f)===0||(H&y)!==0)&&(k[V]=dg(H,u)):Y<=u&&(o.expiredLanes|=H),T&=~H}}function $n(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function xo(){var o=jl;return jl<<=1,(jl&4194240)===0&&(jl=64),o}function ds(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function hs(o,u,f){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-cn(u),o[u]=f}function jt(o,u){var f=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var k=31-cn(f),T=1<<k;u[k]=0,y[k]=-1,o[k]=-1,f&=~T}}function fs(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var y=31-cn(f),k=1<<y;k&u|o[y]&u&&(o[y]|=u),f&=~k}}var ot=0;function ps(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var tf,Sl,rf,nf,af,yu=!1,Wa=[],Rr=null,ka=null,ja=null,ms=new Map,aa=new Map,Ha=[],hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sf(o,u){switch(o){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":ms.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(u.pointerId)}}function wn(o,u,f,y,k,T){return o===null||o.nativeEvent!==T?(o={blockedOn:u,domEventName:f,eventSystemFlags:y,nativeEvent:T,targetContainers:[k]},u!==null&&(u=Iu(u),u!==null&&Sl(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),o)}function fg(o,u,f,y,k){switch(u){case"focusin":return Rr=wn(Rr,o,u,f,y,k),!0;case"dragenter":return ka=wn(ka,o,u,f,y,k),!0;case"mouseover":return ja=wn(ja,o,u,f,y,k),!0;case"pointerover":var T=k.pointerId;return ms.set(T,wn(ms.get(T)||null,o,u,f,y,k)),!0;case"gotpointercapture":return T=k.pointerId,aa.set(T,wn(aa.get(T)||null,o,u,f,y,k)),!0}return!1}function of(o){var u=jo(o.target);if(u!==null){var f=it(u);if(f!==null){if(u=f.tag,u===13){if(u=dt(f),u!==null){o.blockedOn=u,af(o.priority,function(){rf(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Si(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=El(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);za=y,f.target.dispatchEvent(y),za=null}else return u=Iu(f),u!==null&&Sl(u),o.blockedOn=f,!1;u.shift()}return!0}function bo(o,u,f){Si(o)&&f.delete(u)}function lf(){yu=!1,Rr!==null&&Si(Rr)&&(Rr=null),ka!==null&&Si(ka)&&(ka=null),ja!==null&&Si(ja)&&(ja=null),ms.forEach(bo),aa.forEach(bo)}function Na(o,u){o.blockedOn===u&&(o.blockedOn=null,yu||(yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lf)))}function Sa(o){function u(k){return Na(k,o)}if(0<Wa.length){Na(Wa[0],o);for(var f=1;f<Wa.length;f++){var y=Wa[f];y.blockedOn===o&&(y.blockedOn=null)}}for(Rr!==null&&Na(Rr,o),ka!==null&&Na(ka,o),ja!==null&&Na(ja,o),ms.forEach(u),aa.forEach(u),f=0;f<Ha.length;f++)y=Ha[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Ha.length&&(f=Ha[0],f.blockedOn===null);)of(f),f.blockedOn===null&&Ha.shift()}var Ei=I.ReactCurrentBatchConfig,gs=!0;function qt(o,u,f,y){var k=ot,T=Ei.transition;Ei.transition=null;try{ot=1,vu(o,u,f,y)}finally{ot=k,Ei.transition=T}}function pg(o,u,f,y){var k=ot,T=Ei.transition;Ei.transition=null;try{ot=4,vu(o,u,f,y)}finally{ot=k,Ei.transition=T}}function vu(o,u,f,y){if(gs){var k=El(o,u,f,y);if(k===null)Ng(o,u,y,wo,f),sf(o,y);else if(fg(k,o,u,f,y))y.stopPropagation();else if(sf(o,y),u&4&&-1<hg.indexOf(o)){for(;k!==null;){var T=Iu(k);if(T!==null&&tf(T),T=El(o,u,f,y),T===null&&Ng(o,u,y,wo,f),T===k)break;k=T}k!==null&&y.stopPropagation()}else Ng(o,u,y,null,f)}}var wo=null;function El(o,u,f,y){if(wo=null,o=Jn(y),o=jo(o),o!==null)if(u=it(o),u===null)o=null;else if(f=u.tag,f===13){if(o=dt(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return wo=o,null}function xu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qh()){case go:return 1;case cs:return 4;case na:case mu:return 16;case Xh:return 536870912;default:return 16}default:return 16}}var Fn=null,Tl=null,_n=null;function bu(){if(_n)return _n;var o,u=Tl,f=u.length,y,k="value"in Fn?Fn.value:Fn.textContent,T=k.length;for(o=0;o<f&&u[o]===k[o];o++);var V=f-o;for(y=1;y<=V&&u[f-y]===k[T-y];y++);return _n=k.slice(o,1<y?1-y:void 0)}function Al(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ga(){return!0}function wu(){return!1}function Dr(o){function u(f,y,k,T,V){this._reactName=f,this._targetInst=k,this.type=y,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(T):T[H]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ga:wu,this.isPropagationStopped=wu,this}return ne(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),u}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Dr(Ea),Ka=ne({},Ea,{view:0,detail:0}),mg=Dr(Ka),Pl,Ti,ys,_o=ne({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ys&&(ys&&o.type==="mousemove"?(Pl=o.screenX-ys.screenX,Ti=o.screenY-ys.screenY):Ti=Pl=0,ys=o),Pl)},movementY:function(o){return"movementY"in o?o.movementY:Ti}}),Il=Dr(_o),_u=ne({},_o,{dataTransfer:0}),cf=Dr(_u),Ol=ne({},Ka,{relatedTarget:0}),Rl=Dr(Ol),uf=ne({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=Dr(uf),df=ne({},Ea,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),hf=Dr(df),ff=ne({},Ea,{data:0}),ku=Dr(ff),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=pf[o])?!!u[o]:!1}function Ya(){return mf}var g=ne({},Ka,{key:function(o){if(o.key){var u=Dl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Al(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?un[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(o){return o.type==="keypress"?Al(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Al(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=Dr(g),M=ne({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Dr(M),ie=ne({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),pe=Dr(ie),Ae=ne({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Dr(Ae),yr=ne({},_o,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=Dr(yr),Nr=[9,13,27,32],cr=c&&"CompositionEvent"in window,ia=null;c&&"documentMode"in document&&(ia=document.documentMode);var Vn=c&&"TextEvent"in window&&!ia,ko=c&&(!cr||ia&&8<ia&&11>=ia),Ml=" ",dN=!1;function hN(o,u){switch(o){case"keyup":return Nr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fN(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ll=!1;function n$(o,u){switch(o){case"compositionend":return fN(u);case"keypress":return u.which!==32?null:(dN=!0,Ml);case"textInput":return o=u.data,o===Ml&&dN?null:o;default:return null}}function a$(o,u){if(Ll)return o==="compositionend"||!cr&&hN(o,u)?(o=bu(),_n=Tl=Fn=null,Ll=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ko&&u.locale!=="ko"?null:u.data;default:return null}}var i$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pN(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!i$[o.type]:u==="textarea"}function mN(o,u,f,y){ta(y),u=bf(u,"onChange"),0<u.length&&(f=new Cl("onChange","change",null,f,y),o.push({event:f,listeners:u}))}var ju=null,Nu=null;function s$(o){ON(o,0)}function gf(o){var u=Ul(o);if(q(u))return o}function o$(o,u){if(o==="change")return u}var gN=!1;if(c){var gg;if(c){var yg="oninput"in document;if(!yg){var yN=document.createElement("div");yN.setAttribute("oninput","return;"),yg=typeof yN.oninput=="function"}gg=yg}else gg=!1;gN=gg&&(!document.documentMode||9<document.documentMode)}function vN(){ju&&(ju.detachEvent("onpropertychange",xN),Nu=ju=null)}function xN(o){if(o.propertyName==="value"&&gf(Nu)){var u=[];mN(u,Nu,o,Jn(o)),mo(s$,u)}}function l$(o,u,f){o==="focusin"?(vN(),ju=u,Nu=f,ju.attachEvent("onpropertychange",xN)):o==="focusout"&&vN()}function c$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return gf(Nu)}function u$(o,u){if(o==="click")return gf(u)}function d$(o,u){if(o==="input"||o==="change")return gf(u)}function h$(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ta=typeof Object.is=="function"?Object.is:h$;function Su(o,u){if(Ta(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var k=f[y];if(!d.call(u,k)||!Ta(o[k],u[k]))return!1}return!0}function bN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function wN(o,u){var f=bN(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=u&&y>=u)return{node:f,offset:u-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=bN(f)}}function _N(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?_N(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function kN(){for(var o=window,u=ue();u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=ue(o.document)}return u}function vg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function f$(o){var u=kN(),f=o.focusedElem,y=o.selectionRange;if(u!==f&&f&&f.ownerDocument&&_N(f.ownerDocument.documentElement,f)){if(y!==null&&vg(f)){if(u=y.start,o=y.end,o===void 0&&(o=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(o,f.value.length);else if(o=(u=f.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var k=f.textContent.length,T=Math.min(y.start,k);y=y.end===void 0?T:Math.min(y.end,k),!o.extend&&T>y&&(k=y,y=T,T=k),k=wN(f,T);var V=wN(f,y);k&&V&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),o.removeAllRanges(),T>y?(o.addRange(u),o.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),o.addRange(u)))}}for(u=[],o=f;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)o=u[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var p$=c&&"documentMode"in document&&11>=document.documentMode,$l=null,xg=null,Eu=null,bg=!1;function jN(o,u,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;bg||$l==null||$l!==ue(y)||(y=$l,"selectionStart"in y&&vg(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Eu&&Su(Eu,y)||(Eu=y,y=bf(xg,"onSelect"),0<y.length&&(u=new Cl("onSelect","select",null,u,f),o.push({event:u,listeners:y}),u.target=$l)))}function yf(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var Fl={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},wg={},NN={};c&&(NN=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function vf(o){if(wg[o])return wg[o];if(!Fl[o])return o;var u=Fl[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in NN)return wg[o]=u[f];return o}var SN=vf("animationend"),EN=vf("animationiteration"),TN=vf("animationstart"),AN=vf("transitionend"),CN=new Map,PN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(o,u){CN.set(o,u),s(u,[o])}for(var _g=0;_g<PN.length;_g++){var kg=PN[_g],m$=kg.toLowerCase(),g$=kg[0].toUpperCase()+kg.slice(1);vs(m$,"on"+g$)}vs(SN,"onAnimationEnd"),vs(EN,"onAnimationIteration"),vs(TN,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(AN,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function IN(o,u,f){var y=o.type||"unknown-event";o.currentTarget=f,St(y,u,void 0,o),o.currentTarget=null}function ON(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],k=y.event;y=y.listeners;e:{var T=void 0;if(u)for(var V=y.length-1;0<=V;V--){var H=y[V],Y=H.instance,ce=H.currentTarget;if(H=H.listener,Y!==T&&k.isPropagationStopped())break e;IN(k,H,ce),T=Y}else for(V=0;V<y.length;V++){if(H=y[V],Y=H.instance,ce=H.currentTarget,H=H.listener,Y!==T&&k.isPropagationStopped())break e;IN(k,H,ce),T=Y}}}if(ve)throw o=Ve,ve=!1,Ve=null,o}function Mt(o,u){var f=u[Pg];f===void 0&&(f=u[Pg]=new Set);var y=o+"__bubble";f.has(y)||(RN(u,o,2,!1),f.add(y))}function jg(o,u,f){var y=0;u&&(y|=4),RN(f,o,y,u)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Au(o){if(!o[xf]){o[xf]=!0,n.forEach(function(f){f!=="selectionchange"&&(y$.has(f)||jg(f,!1,o),jg(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[xf]||(u[xf]=!0,jg("selectionchange",!1,u))}}function RN(o,u,f,y){switch(xu(u)){case 1:var k=qt;break;case 4:k=pg;break;default:k=vu}f=k.bind(null,u,f,o),k=void 0,!gr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),y?k!==void 0?o.addEventListener(u,f,{capture:!0,passive:k}):o.addEventListener(u,f,!0):k!==void 0?o.addEventListener(u,f,{passive:k}):o.addEventListener(u,f,!1)}function Ng(o,u,f,y,k){var T=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var H=y.stateNode.containerInfo;if(H===k||H.nodeType===8&&H.parentNode===k)break;if(V===4)for(V=y.return;V!==null;){var Y=V.tag;if((Y===3||Y===4)&&(Y=V.stateNode.containerInfo,Y===k||Y.nodeType===8&&Y.parentNode===k))return;V=V.return}for(;H!==null;){if(V=jo(H),V===null)return;if(Y=V.tag,Y===5||Y===6){y=T=V;continue e}H=H.parentNode}}y=y.return}mo(function(){var ce=T,je=Jn(f),Se=[];e:{var ke=CN.get(o);if(ke!==void 0){var Pe=Cl,Le=o;switch(o){case"keypress":if(Al(f)===0)break e;case"keydown":case"keyup":Pe=E;break;case"focusin":Le="focus",Pe=Rl;break;case"focusout":Le="blur",Pe=Rl;break;case"beforeblur":case"afterblur":Pe=Rl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=pe;break;case SN:case EN:case TN:Pe=Ai;break;case AN:Pe=bt;break;case"scroll":Pe=mg;break;case"wheel":Pe=ct;break;case"copy":case"cut":case"paste":Pe=hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=U}var $e=(u&4)!==0,sr=!$e&&o==="scroll",se=$e?ke!==null?ke+"Capture":null:ke;$e=[];for(var ee=ce,oe;ee!==null;){oe=ee;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,se!==null&&(Ee=Kt(ee,se),Ee!=null&&$e.push(Cu(ee,Ee,oe)))),sr)break;ee=ee.return}0<$e.length&&(ke=new Pe(ke,Le,null,f,je),Se.push({event:ke,listeners:$e}))}}if((u&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",ke&&f!==za&&(Le=f.relatedTarget||f.fromElement)&&(jo(Le)||Le[Ci]))break e;if((Pe||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,Pe?(Le=f.relatedTarget||f.toElement,Pe=ce,Le=Le?jo(Le):null,Le!==null&&(sr=it(Le),Le!==sr||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Pe=null,Le=ce),Pe!==Le)){if($e=Il,Ee="onMouseLeave",se="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&($e=U,Ee="onPointerLeave",se="onPointerEnter",ee="pointer"),sr=Pe==null?ke:Ul(Pe),oe=Le==null?ke:Ul(Le),ke=new $e(Ee,ee+"leave",Pe,f,je),ke.target=sr,ke.relatedTarget=oe,Ee=null,jo(je)===ce&&($e=new $e(se,ee+"enter",Le,f,je),$e.target=oe,$e.relatedTarget=sr,Ee=$e),sr=Ee,Pe&&Le)t:{for($e=Pe,se=Le,ee=0,oe=$e;oe;oe=Vl(oe))ee++;for(oe=0,Ee=se;Ee;Ee=Vl(Ee))oe++;for(;0<ee-oe;)$e=Vl($e),ee--;for(;0<oe-ee;)se=Vl(se),oe--;for(;ee--;){if($e===se||se!==null&&$e===se.alternate)break t;$e=Vl($e),se=Vl(se)}$e=null}else $e=null;Pe!==null&&DN(Se,ke,Pe,$e,!1),Le!==null&&sr!==null&&DN(Se,sr,Le,$e,!0)}}e:{if(ke=ce?Ul(ce):window,Pe=ke.nodeName&&ke.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ke.type==="file")var Be=o$;else if(pN(ke))if(gN)Be=d$;else{Be=c$;var ze=l$}else(Pe=ke.nodeName)&&Pe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Be=u$);if(Be&&(Be=Be(o,ce))){mN(Se,Be,f,je);break e}ze&&ze(o,ke,ce),o==="focusout"&&(ze=ke._wrapperState)&&ze.controlled&&ke.type==="number"&&sn(ke,"number",ke.value)}switch(ze=ce?Ul(ce):window,o){case"focusin":(pN(ze)||ze.contentEditable==="true")&&($l=ze,xg=ce,Eu=null);break;case"focusout":Eu=xg=$l=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,jN(Se,f,je);break;case"selectionchange":if(p$)break;case"keydown":case"keyup":jN(Se,f,je)}var We;if(cr)e:{switch(o){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ll?hN(o,f)&&(Qe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Qe="onCompositionStart");Qe&&(ko&&f.locale!=="ko"&&(Ll||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ll&&(We=bu()):(Fn=je,Tl="value"in Fn?Fn.value:Fn.textContent,Ll=!0)),ze=bf(ce,Qe),0<ze.length&&(Qe=new ku(Qe,o,null,f,je),Se.push({event:Qe,listeners:ze}),We?Qe.data=We:(We=fN(f),We!==null&&(Qe.data=We)))),(We=Vn?n$(o,f):a$(o,f))&&(ce=bf(ce,"onBeforeInput"),0<ce.length&&(je=new ku("onBeforeInput","beforeinput",null,f,je),Se.push({event:je,listeners:ce}),je.data=We))}ON(Se,u)})}function Cu(o,u,f){return{instance:o,listener:u,currentTarget:f}}function bf(o,u){for(var f=u+"Capture",y=[];o!==null;){var k=o,T=k.stateNode;k.tag===5&&T!==null&&(k=T,T=Kt(o,f),T!=null&&y.unshift(Cu(o,T,k)),T=Kt(o,u),T!=null&&y.push(Cu(o,T,k))),o=o.return}return y}function Vl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function DN(o,u,f,y,k){for(var T=u._reactName,V=[];f!==null&&f!==y;){var H=f,Y=H.alternate,ce=H.stateNode;if(Y!==null&&Y===y)break;H.tag===5&&ce!==null&&(H=ce,k?(Y=Kt(f,T),Y!=null&&V.unshift(Cu(f,Y,H))):k||(Y=Kt(f,T),Y!=null&&V.push(Cu(f,Y,H)))),f=f.return}V.length!==0&&o.push({event:u,listeners:V})}var v$=/\r\n?/g,x$=/\u0000|\uFFFD/g;function MN(o){return(typeof o=="string"?o:""+o).replace(v$,`
`).replace(x$,"")}function wf(o,u,f){if(u=MN(u),MN(o)!==u&&f)throw Error(r(425))}function _f(){}var Sg=null,Eg=null;function Tg(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,b$=typeof clearTimeout=="function"?clearTimeout:void 0,LN=typeof Promise=="function"?Promise:void 0,w$=typeof queueMicrotask=="function"?queueMicrotask:typeof LN<"u"?function(o){return LN.resolve(null).then(o).catch(_$)}:Ag;function _$(o){setTimeout(function(){throw o})}function Cg(o,u){var f=u,y=0;do{var k=f.nextSibling;if(o.removeChild(f),k&&k.nodeType===8)if(f=k.data,f==="/$"){if(y===0){o.removeChild(k),Sa(u);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=k}while(f);Sa(u)}function xs(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function $N(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return o;u--}else f==="/$"&&u++}o=o.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Qa="__reactFiber$"+Bl,Pu="__reactProps$"+Bl,Ci="__reactContainer$"+Bl,Pg="__reactEvents$"+Bl,k$="__reactListeners$"+Bl,j$="__reactHandles$"+Bl;function jo(o){var u=o[Qa];if(u)return u;for(var f=o.parentNode;f;){if(u=f[Ci]||f[Qa]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=$N(o);o!==null;){if(f=o[Qa])return f;o=$N(o)}return u}o=f,f=o.parentNode}return null}function Iu(o){return o=o[Qa]||o[Ci],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ul(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function kf(o){return o[Pu]||null}var Ig=[],ql=-1;function bs(o){return{current:o}}function Lt(o){0>ql||(o.current=Ig[ql],Ig[ql]=null,ql--)}function Ct(o,u){ql++,Ig[ql]=o.current,o.current=u}var ws={},Hr=bs(ws),kn=bs(!1),No=ws;function zl(o,u){var f=o.type.contextTypes;if(!f)return ws;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var k={},T;for(T in f)k[T]=u[T];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=k),k}function jn(o){return o=o.childContextTypes,o!=null}function jf(){Lt(kn),Lt(Hr)}function FN(o,u,f){if(Hr.current!==ws)throw Error(r(168));Ct(Hr,u),Ct(kn,f)}function VN(o,u,f){var y=o.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var k in y)if(!(k in u))throw Error(r(108,de(o)||"Unknown",k));return ne({},f,y)}function Nf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ws,No=Hr.current,Ct(Hr,o),Ct(kn,kn.current),!0}function BN(o,u,f){var y=o.stateNode;if(!y)throw Error(r(169));f?(o=VN(o,u,No),y.__reactInternalMemoizedMergedChildContext=o,Lt(kn),Lt(Hr),Ct(Hr,o)):Lt(kn),Ct(kn,f)}var Pi=null,Sf=!1,Og=!1;function UN(o){Pi===null?Pi=[o]:Pi.push(o)}function N$(o){Sf=!0,UN(o)}function _s(){if(!Og&&Pi!==null){Og=!0;var o=0,u=ot;try{var f=Pi;for(ot=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}Pi=null,Sf=!1}catch(k){throw Pi!==null&&(Pi=Pi.slice(o+1)),er(go,_s),k}finally{ot=u,Og=!1}}return null}var Wl=[],Hl=0,Ef=null,Tf=0,sa=[],oa=0,So=null,Ii=1,Oi="";function Eo(o,u){Wl[Hl++]=Tf,Wl[Hl++]=Ef,Ef=o,Tf=u}function qN(o,u,f){sa[oa++]=Ii,sa[oa++]=Oi,sa[oa++]=So,So=o;var y=Ii;o=Oi;var k=32-cn(y)-1;y&=~(1<<k),f+=1;var T=32-cn(u)+k;if(30<T){var V=k-k%5;T=(y&(1<<V)-1).toString(32),y>>=V,k-=V,Ii=1<<32-cn(u)+k|f<<k|y,Oi=T+o}else Ii=1<<T|f<<k|y,Oi=o}function Rg(o){o.return!==null&&(Eo(o,1),qN(o,1,0))}function Dg(o){for(;o===Ef;)Ef=Wl[--Hl],Wl[Hl]=null,Tf=Wl[--Hl],Wl[Hl]=null;for(;o===So;)So=sa[--oa],sa[oa]=null,Oi=sa[--oa],sa[oa]=null,Ii=sa[--oa],sa[oa]=null}var Bn=null,Un=null,zt=!1,Aa=null;function zN(o,u){var f=da(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=o,u=o.deletions,u===null?(o.deletions=[f],o.flags|=16):u.push(f)}function WN(o,u){switch(o.tag){case 5:var f=o.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,Bn=o,Un=xs(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,Bn=o,Un=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=So!==null?{id:Ii,overflow:Oi}:null,o.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=da(18,null,null,0),f.stateNode=u,f.return=o,o.child=f,Bn=o,Un=null,!0):!1;default:return!1}}function Mg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Lg(o){if(zt){var u=Un;if(u){var f=u;if(!WN(o,u)){if(Mg(o))throw Error(r(418));u=xs(f.nextSibling);var y=Bn;u&&WN(o,u)?zN(y,f):(o.flags=o.flags&-4097|2,zt=!1,Bn=o)}}else{if(Mg(o))throw Error(r(418));o.flags=o.flags&-4097|2,zt=!1,Bn=o}}}function HN(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Bn=o}function Af(o){if(o!==Bn)return!1;if(!zt)return HN(o),zt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Tg(o.type,o.memoizedProps)),u&&(u=Un)){if(Mg(o))throw GN(),Error(r(418));for(;u;)zN(o,u),u=xs(u.nextSibling)}if(HN(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(u===0){Un=xs(o.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}o=o.nextSibling}Un=null}}else Un=Bn?xs(o.stateNode.nextSibling):null;return!0}function GN(){for(var o=Un;o;)o=xs(o.nextSibling)}function Gl(){Un=Bn=null,zt=!1}function $g(o){Aa===null?Aa=[o]:Aa.push(o)}var S$=I.ReactCurrentBatchConfig;function Ou(o,u,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,o));var k=y,T=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(V){var H=k.refs;V===null?delete H[T]:H[T]=V},u._stringRef=T,u)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Cf(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function KN(o){var u=o._init;return u(o._payload)}function YN(o){function u(se,ee){if(o){var oe=se.deletions;oe===null?(se.deletions=[ee],se.flags|=16):oe.push(ee)}}function f(se,ee){if(!o)return null;for(;ee!==null;)u(se,ee),ee=ee.sibling;return null}function y(se,ee){for(se=new Map;ee!==null;)ee.key!==null?se.set(ee.key,ee):se.set(ee.index,ee),ee=ee.sibling;return se}function k(se,ee){return se=Cs(se,ee),se.index=0,se.sibling=null,se}function T(se,ee,oe){return se.index=oe,o?(oe=se.alternate,oe!==null?(oe=oe.index,oe<ee?(se.flags|=2,ee):oe):(se.flags|=2,ee)):(se.flags|=1048576,ee)}function V(se){return o&&se.alternate===null&&(se.flags|=2),se}function H(se,ee,oe,Ee){return ee===null||ee.tag!==6?(ee=Ay(oe,se.mode,Ee),ee.return=se,ee):(ee=k(ee,oe),ee.return=se,ee)}function Y(se,ee,oe,Ee){var Be=oe.type;return Be===P?je(se,ee,oe.props.children,Ee,oe.key):ee!==null&&(ee.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Z&&KN(Be)===ee.type)?(Ee=k(ee,oe.props),Ee.ref=Ou(se,ee,oe),Ee.return=se,Ee):(Ee=ep(oe.type,oe.key,oe.props,null,se.mode,Ee),Ee.ref=Ou(se,ee,oe),Ee.return=se,Ee)}function ce(se,ee,oe,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=Cy(oe,se.mode,Ee),ee.return=se,ee):(ee=k(ee,oe.children||[]),ee.return=se,ee)}function je(se,ee,oe,Ee,Be){return ee===null||ee.tag!==7?(ee=Do(oe,se.mode,Ee,Be),ee.return=se,ee):(ee=k(ee,oe),ee.return=se,ee)}function Se(se,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Ay(""+ee,se.mode,oe),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return oe=ep(ee.type,ee.key,ee.props,null,se.mode,oe),oe.ref=Ou(se,null,ee),oe.return=se,oe;case C:return ee=Cy(ee,se.mode,oe),ee.return=se,ee;case Z:var Ee=ee._init;return Se(se,Ee(ee._payload),oe)}if(Rt(ee)||K(ee))return ee=Do(ee,se.mode,oe,null),ee.return=se,ee;Cf(se,ee)}return null}function ke(se,ee,oe,Ee){var Be=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Be!==null?null:H(se,ee,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return oe.key===Be?Y(se,ee,oe,Ee):null;case C:return oe.key===Be?ce(se,ee,oe,Ee):null;case Z:return Be=oe._init,ke(se,ee,Be(oe._payload),Ee)}if(Rt(oe)||K(oe))return Be!==null?null:je(se,ee,oe,Ee,null);Cf(se,oe)}return null}function Pe(se,ee,oe,Ee,Be){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return se=se.get(oe)||null,H(ee,se,""+Ee,Be);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case N:return se=se.get(Ee.key===null?oe:Ee.key)||null,Y(ee,se,Ee,Be);case C:return se=se.get(Ee.key===null?oe:Ee.key)||null,ce(ee,se,Ee,Be);case Z:var ze=Ee._init;return Pe(se,ee,oe,ze(Ee._payload),Be)}if(Rt(Ee)||K(Ee))return se=se.get(oe)||null,je(ee,se,Ee,Be,null);Cf(ee,Ee)}return null}function Le(se,ee,oe,Ee){for(var Be=null,ze=null,We=ee,Qe=ee=0,Tr=null;We!==null&&Qe<oe.length;Qe++){We.index>Qe?(Tr=We,We=null):Tr=We.sibling;var ft=ke(se,We,oe[Qe],Ee);if(ft===null){We===null&&(We=Tr);break}o&&We&&ft.alternate===null&&u(se,We),ee=T(ft,ee,Qe),ze===null?Be=ft:ze.sibling=ft,ze=ft,We=Tr}if(Qe===oe.length)return f(se,We),zt&&Eo(se,Qe),Be;if(We===null){for(;Qe<oe.length;Qe++)We=Se(se,oe[Qe],Ee),We!==null&&(ee=T(We,ee,Qe),ze===null?Be=We:ze.sibling=We,ze=We);return zt&&Eo(se,Qe),Be}for(We=y(se,We);Qe<oe.length;Qe++)Tr=Pe(We,se,Qe,oe[Qe],Ee),Tr!==null&&(o&&Tr.alternate!==null&&We.delete(Tr.key===null?Qe:Tr.key),ee=T(Tr,ee,Qe),ze===null?Be=Tr:ze.sibling=Tr,ze=Tr);return o&&We.forEach(function(Ps){return u(se,Ps)}),zt&&Eo(se,Qe),Be}function $e(se,ee,oe,Ee){var Be=K(oe);if(typeof Be!="function")throw Error(r(150));if(oe=Be.call(oe),oe==null)throw Error(r(151));for(var ze=Be=null,We=ee,Qe=ee=0,Tr=null,ft=oe.next();We!==null&&!ft.done;Qe++,ft=oe.next()){We.index>Qe?(Tr=We,We=null):Tr=We.sibling;var Ps=ke(se,We,ft.value,Ee);if(Ps===null){We===null&&(We=Tr);break}o&&We&&Ps.alternate===null&&u(se,We),ee=T(Ps,ee,Qe),ze===null?Be=Ps:ze.sibling=Ps,ze=Ps,We=Tr}if(ft.done)return f(se,We),zt&&Eo(se,Qe),Be;if(We===null){for(;!ft.done;Qe++,ft=oe.next())ft=Se(se,ft.value,Ee),ft!==null&&(ee=T(ft,ee,Qe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return zt&&Eo(se,Qe),Be}for(We=y(se,We);!ft.done;Qe++,ft=oe.next())ft=Pe(We,se,Qe,ft.value,Ee),ft!==null&&(o&&ft.alternate!==null&&We.delete(ft.key===null?Qe:ft.key),ee=T(ft,ee,Qe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return o&&We.forEach(function(i5){return u(se,i5)}),zt&&Eo(se,Qe),Be}function sr(se,ee,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===P&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:e:{for(var Be=oe.key,ze=ee;ze!==null;){if(ze.key===Be){if(Be=oe.type,Be===P){if(ze.tag===7){f(se,ze.sibling),ee=k(ze,oe.props.children),ee.return=se,se=ee;break e}}else if(ze.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===Z&&KN(Be)===ze.type){f(se,ze.sibling),ee=k(ze,oe.props),ee.ref=Ou(se,ze,oe),ee.return=se,se=ee;break e}f(se,ze);break}else u(se,ze);ze=ze.sibling}oe.type===P?(ee=Do(oe.props.children,se.mode,Ee,oe.key),ee.return=se,se=ee):(Ee=ep(oe.type,oe.key,oe.props,null,se.mode,Ee),Ee.ref=Ou(se,ee,oe),Ee.return=se,se=Ee)}return V(se);case C:e:{for(ze=oe.key;ee!==null;){if(ee.key===ze)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){f(se,ee.sibling),ee=k(ee,oe.children||[]),ee.return=se,se=ee;break e}else{f(se,ee);break}else u(se,ee);ee=ee.sibling}ee=Cy(oe,se.mode,Ee),ee.return=se,se=ee}return V(se);case Z:return ze=oe._init,sr(se,ee,ze(oe._payload),Ee)}if(Rt(oe))return Le(se,ee,oe,Ee);if(K(oe))return $e(se,ee,oe,Ee);Cf(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(f(se,ee.sibling),ee=k(ee,oe),ee.return=se,se=ee):(f(se,ee),ee=Ay(oe,se.mode,Ee),ee.return=se,se=ee),V(se)):f(se,ee)}return sr}var Kl=YN(!0),QN=YN(!1),Pf=bs(null),If=null,Yl=null,Fg=null;function Vg(){Fg=Yl=If=null}function Bg(o){var u=Pf.current;Lt(Pf),o._currentValue=u}function Ug(o,u,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===f)break;o=o.return}}function Ql(o,u){If=o,Fg=Yl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Nn=!0),o.firstContext=null)}function la(o){var u=o._currentValue;if(Fg!==o)if(o={context:o,memoizedValue:u,next:null},Yl===null){if(If===null)throw Error(r(308));Yl=o,If.dependencies={lanes:0,firstContext:o}}else Yl=Yl.next=o;return u}var To=null;function qg(o){To===null?To=[o]:To.push(o)}function XN(o,u,f,y){var k=u.interleaved;return k===null?(f.next=f,qg(u)):(f.next=k.next,k.next=f),u.interleaved=f,Ri(o,y)}function Ri(o,u){o.lanes|=u;var f=o.alternate;for(f!==null&&(f.lanes|=u),f=o,o=o.return;o!==null;)o.childLanes|=u,f=o.alternate,f!==null&&(f.childLanes|=u),f=o,o=o.return;return f.tag===3?f.stateNode:null}var ks=!1;function zg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JN(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Di(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function js(o,u,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(ht&2)!==0){var k=y.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),y.pending=u,Ri(o,f)}return k=y.interleaved,k===null?(u.next=u,qg(y)):(u.next=k.next,k.next=u),y.interleaved=u,Ri(o,f)}function Of(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,fs(o,f)}}function ZN(o,u){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var k=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?k=T=V:T=T.next=V,f=f.next}while(f!==null);T===null?k=T=u:T=T.next=u}else k=T=u;f={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:T,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}function Rf(o,u,f,y){var k=o.updateQueue;ks=!1;var T=k.firstBaseUpdate,V=k.lastBaseUpdate,H=k.shared.pending;if(H!==null){k.shared.pending=null;var Y=H,ce=Y.next;Y.next=null,V===null?T=ce:V.next=ce,V=Y;var je=o.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==V&&(H===null?je.firstBaseUpdate=ce:H.next=ce,je.lastBaseUpdate=Y))}if(T!==null){var Se=k.baseState;V=0,je=ce=Y=null,H=T;do{var ke=H.lane,Pe=H.eventTime;if((y&ke)===ke){je!==null&&(je=je.next={eventTime:Pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Le=o,$e=H;switch(ke=u,Pe=f,$e.tag){case 1:if(Le=$e.payload,typeof Le=="function"){Se=Le.call(Pe,Se,ke);break e}Se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=$e.payload,ke=typeof Le=="function"?Le.call(Pe,Se,ke):Le,ke==null)break e;Se=ne({},Se,ke);break e;case 2:ks=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,ke=k.effects,ke===null?k.effects=[H]:ke.push(H))}else Pe={eventTime:Pe,lane:ke,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ce=je=Pe,Y=Se):je=je.next=Pe,V|=ke;if(H=H.next,H===null){if(H=k.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,k.lastBaseUpdate=ke,k.shared.pending=null}}while(!0);if(je===null&&(Y=Se),k.baseState=Y,k.firstBaseUpdate=ce,k.lastBaseUpdate=je,u=k.shared.interleaved,u!==null){k=u;do V|=k.lane,k=k.next;while(k!==u)}else T===null&&(k.shared.lanes=0);Po|=V,o.lanes=V,o.memoizedState=Se}}function eS(o,u,f){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var y=o[u],k=y.callback;if(k!==null){if(y.callback=null,y=f,typeof k!="function")throw Error(r(191,k));k.call(y)}}}var Ru={},Xa=bs(Ru),Du=bs(Ru),Mu=bs(Ru);function Ao(o){if(o===Ru)throw Error(r(174));return o}function Wg(o,u){switch(Ct(Mu,u),Ct(Du,o),Ct(Xa,Ru),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Gt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=Gt(u,o)}Lt(Xa),Ct(Xa,u)}function Xl(){Lt(Xa),Lt(Du),Lt(Mu)}function tS(o){Ao(Mu.current);var u=Ao(Xa.current),f=Gt(u,o.type);u!==f&&(Ct(Du,o),Ct(Xa,f))}function Hg(o){Du.current===o&&(Lt(Xa),Lt(Du))}var Qt=bs(0);function Df(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Gg=[];function Kg(){for(var o=0;o<Gg.length;o++)Gg[o]._workInProgressVersionPrimary=null;Gg.length=0}var Mf=I.ReactCurrentDispatcher,Yg=I.ReactCurrentBatchConfig,Co=0,Xt=null,vr=null,Sr=null,Lf=!1,Lu=!1,$u=0,E$=0;function Gr(){throw Error(r(321))}function Qg(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Ta(o[f],u[f]))return!1;return!0}function Xg(o,u,f,y,k,T){if(Co=T,Xt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Mf.current=o===null||o.memoizedState===null?P$:I$,o=f(y,k),Lu){T=0;do{if(Lu=!1,$u=0,25<=T)throw Error(r(301));T+=1,Sr=vr=null,u.updateQueue=null,Mf.current=O$,o=f(y,k)}while(Lu)}if(Mf.current=Vf,u=vr!==null&&vr.next!==null,Co=0,Sr=vr=Xt=null,Lf=!1,u)throw Error(r(300));return o}function Jg(){var o=$u!==0;return $u=0,o}function Ja(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Xt.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function ca(){if(vr===null){var o=Xt.alternate;o=o!==null?o.memoizedState:null}else o=vr.next;var u=Sr===null?Xt.memoizedState:Sr.next;if(u!==null)Sr=u,vr=o;else{if(o===null)throw Error(r(310));vr=o,o={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Sr===null?Xt.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Fu(o,u){return typeof u=="function"?u(o):u}function Zg(o){var u=ca(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=vr,k=y.baseQueue,T=f.pending;if(T!==null){if(k!==null){var V=k.next;k.next=T.next,T.next=V}y.baseQueue=k=T,f.pending=null}if(k!==null){T=k.next,y=y.baseState;var H=V=null,Y=null,ce=T;do{var je=ce.lane;if((Co&je)===je)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),y=ce.hasEagerState?ce.eagerState:o(y,ce.action);else{var Se={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(H=Y=Se,V=y):Y=Y.next=Se,Xt.lanes|=je,Po|=je}ce=ce.next}while(ce!==null&&ce!==T);Y===null?V=y:Y.next=H,Ta(y,u.memoizedState)||(Nn=!0),u.memoizedState=y,u.baseState=V,u.baseQueue=Y,f.lastRenderedState=y}if(o=f.interleaved,o!==null){k=o;do T=k.lane,Xt.lanes|=T,Po|=T,k=k.next;while(k!==o)}else k===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function ey(o){var u=ca(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var y=f.dispatch,k=f.pending,T=u.memoizedState;if(k!==null){f.pending=null;var V=k=k.next;do T=o(T,V.action),V=V.next;while(V!==k);Ta(T,u.memoizedState)||(Nn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),f.lastRenderedState=T}return[T,y]}function rS(){}function nS(o,u){var f=Xt,y=ca(),k=u(),T=!Ta(y.memoizedState,k);if(T&&(y.memoizedState=k,Nn=!0),y=y.queue,ty(sS.bind(null,f,y,o),[o]),y.getSnapshot!==u||T||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,Vu(9,iS.bind(null,f,y,k,u),void 0,null),Er===null)throw Error(r(349));(Co&30)!==0||aS(f,u,k)}return k}function aS(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=Xt.updateQueue,u===null?(u={lastEffect:null,stores:null},Xt.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function iS(o,u,f,y){u.value=f,u.getSnapshot=y,oS(u)&&lS(o)}function sS(o,u,f){return f(function(){oS(u)&&lS(o)})}function oS(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Ta(o,f)}catch{return!0}}function lS(o){var u=Ri(o,1);u!==null&&Oa(u,o,1,-1)}function cS(o){var u=Ja();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:o},u.queue=o,o=o.dispatch=C$.bind(null,Xt,o),[u.memoizedState,o]}function Vu(o,u,f,y){return o={tag:o,create:u,destroy:f,deps:y,next:null},u=Xt.updateQueue,u===null?(u={lastEffect:null,stores:null},Xt.updateQueue=u,u.lastEffect=o.next=o):(f=u.lastEffect,f===null?u.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,u.lastEffect=o)),o}function uS(){return ca().memoizedState}function $f(o,u,f,y){var k=Ja();Xt.flags|=o,k.memoizedState=Vu(1|u,f,void 0,y===void 0?null:y)}function Ff(o,u,f,y){var k=ca();y=y===void 0?null:y;var T=void 0;if(vr!==null){var V=vr.memoizedState;if(T=V.destroy,y!==null&&Qg(y,V.deps)){k.memoizedState=Vu(u,f,T,y);return}}Xt.flags|=o,k.memoizedState=Vu(1|u,f,T,y)}function dS(o,u){return $f(8390656,8,o,u)}function ty(o,u){return Ff(2048,8,o,u)}function hS(o,u){return Ff(4,2,o,u)}function fS(o,u){return Ff(4,4,o,u)}function pS(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function mS(o,u,f){return f=f!=null?f.concat([o]):null,Ff(4,4,pS.bind(null,u,o),f)}function ry(){}function gS(o,u){var f=ca();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Qg(u,y[1])?y[0]:(f.memoizedState=[o,u],o)}function yS(o,u){var f=ca();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Qg(u,y[1])?y[0]:(o=o(),f.memoizedState=[o,u],o)}function vS(o,u,f){return(Co&21)===0?(o.baseState&&(o.baseState=!1,Nn=!0),o.memoizedState=f):(Ta(f,u)||(f=xo(),Xt.lanes|=f,Po|=f,o.baseState=!0),u)}function T$(o,u){var f=ot;ot=f!==0&&4>f?f:4,o(!0);var y=Yg.transition;Yg.transition={};try{o(!1),u()}finally{ot=f,Yg.transition=y}}function xS(){return ca().memoizedState}function A$(o,u,f){var y=Ts(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},bS(o))wS(u,f);else if(f=XN(o,u,f,y),f!==null){var k=hn();Oa(f,o,y,k),_S(f,u,y)}}function C$(o,u,f){var y=Ts(o),k={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(bS(o))wS(u,k);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var V=u.lastRenderedState,H=T(V,f);if(k.hasEagerState=!0,k.eagerState=H,Ta(H,V)){var Y=u.interleaved;Y===null?(k.next=k,qg(u)):(k.next=Y.next,Y.next=k),u.interleaved=k;return}}catch{}finally{}f=XN(o,u,k,y),f!==null&&(k=hn(),Oa(f,o,y,k),_S(f,u,y))}}function bS(o){var u=o.alternate;return o===Xt||u!==null&&u===Xt}function wS(o,u){Lu=Lf=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function _S(o,u,f){if((f&4194240)!==0){var y=u.lanes;y&=o.pendingLanes,f|=y,u.lanes=f,fs(o,f)}}var Vf={readContext:la,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},P$={readContext:la,useCallback:function(o,u){return Ja().memoizedState=[o,u===void 0?null:u],o},useContext:la,useEffect:dS,useImperativeHandle:function(o,u,f){return f=f!=null?f.concat([o]):null,$f(4194308,4,pS.bind(null,u,o),f)},useLayoutEffect:function(o,u){return $f(4194308,4,o,u)},useInsertionEffect:function(o,u){return $f(4,2,o,u)},useMemo:function(o,u){var f=Ja();return u=u===void 0?null:u,o=o(),f.memoizedState=[o,u],o},useReducer:function(o,u,f){var y=Ja();return u=f!==void 0?f(u):u,y.memoizedState=y.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},y.queue=o,o=o.dispatch=A$.bind(null,Xt,o),[y.memoizedState,o]},useRef:function(o){var u=Ja();return o={current:o},u.memoizedState=o},useState:cS,useDebugValue:ry,useDeferredValue:function(o){return Ja().memoizedState=o},useTransition:function(){var o=cS(!1),u=o[0];return o=T$.bind(null,o[1]),Ja().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,f){var y=Xt,k=Ja();if(zt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Er===null)throw Error(r(349));(Co&30)!==0||aS(y,u,f)}k.memoizedState=f;var T={value:f,getSnapshot:u};return k.queue=T,dS(sS.bind(null,y,T,o),[o]),y.flags|=2048,Vu(9,iS.bind(null,y,T,f,u),void 0,null),f},useId:function(){var o=Ja(),u=Er.identifierPrefix;if(zt){var f=Oi,y=Ii;f=(y&~(1<<32-cn(y)-1)).toString(32)+f,u=":"+u+"R"+f,f=$u++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=E$++,u=":"+u+"r"+f.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},I$={readContext:la,useCallback:gS,useContext:la,useEffect:ty,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:Zg,useRef:uS,useState:function(){return Zg(Fu)},useDebugValue:ry,useDeferredValue:function(o){var u=ca();return vS(u,vr.memoizedState,o)},useTransition:function(){var o=Zg(Fu)[0],u=ca().memoizedState;return[o,u]},useMutableSource:rS,useSyncExternalStore:nS,useId:xS,unstable_isNewReconciler:!1},O$={readContext:la,useCallback:gS,useContext:la,useEffect:ty,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:yS,useReducer:ey,useRef:uS,useState:function(){return ey(Fu)},useDebugValue:ry,useDeferredValue:function(o){var u=ca();return vr===null?u.memoizedState=o:vS(u,vr.memoizedState,o)},useTransition:function(){var o=ey(Fu)[0],u=ca().memoizedState;return[o,u]},useMutableSource:rS,useSyncExternalStore:nS,useId:xS,unstable_isNewReconciler:!1};function Ca(o,u){if(o&&o.defaultProps){u=ne({},u),o=o.defaultProps;for(var f in o)u[f]===void 0&&(u[f]=o[f]);return u}return u}function ny(o,u,f,y){u=o.memoizedState,f=f(y,u),f=f==null?u:ne({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Bf={isMounted:function(o){return(o=o._reactInternals)?it(o)===o:!1},enqueueSetState:function(o,u,f){o=o._reactInternals;var y=hn(),k=Ts(o),T=Di(y,k);T.payload=u,f!=null&&(T.callback=f),u=js(o,T,k),u!==null&&(Oa(u,o,k,y),Of(u,o,k))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var y=hn(),k=Ts(o),T=Di(y,k);T.tag=1,T.payload=u,f!=null&&(T.callback=f),u=js(o,T,k),u!==null&&(Oa(u,o,k,y),Of(u,o,k))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=hn(),y=Ts(o),k=Di(f,y);k.tag=2,u!=null&&(k.callback=u),u=js(o,k,y),u!==null&&(Oa(u,o,y,f),Of(u,o,y))}};function kS(o,u,f,y,k,T,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,V):u.prototype&&u.prototype.isPureReactComponent?!Su(f,y)||!Su(k,T):!0}function jS(o,u,f){var y=!1,k=ws,T=u.contextType;return typeof T=="object"&&T!==null?T=la(T):(k=jn(u)?No:Hr.current,y=u.contextTypes,T=(y=y!=null)?zl(o,k):ws),u=new u(f,T),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bf,o.stateNode=u,u._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=T),u}function NS(o,u,f,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==o&&Bf.enqueueReplaceState(u,u.state,null)}function ay(o,u,f,y){var k=o.stateNode;k.props=f,k.state=o.memoizedState,k.refs={},zg(o);var T=u.contextType;typeof T=="object"&&T!==null?k.context=la(T):(T=jn(u)?No:Hr.current,k.context=zl(o,T)),k.state=o.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ny(o,u,T,f),k.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Bf.enqueueReplaceState(k,k.state,null),Rf(o,f,k,y),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function Jl(o,u){try{var f="",y=u;do f+=ge(y),y=y.return;while(y);var k=f}catch(T){k=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:u,stack:k,digest:null}}function iy(o,u,f){return{value:o,source:null,stack:f??null,digest:u??null}}function sy(o,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var R$=typeof WeakMap=="function"?WeakMap:Map;function SS(o,u,f){f=Di(-1,f),f.tag=3,f.payload={element:null};var y=u.value;return f.callback=function(){Kf||(Kf=!0,wy=y),sy(o,u)},f}function ES(o,u,f){f=Di(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var k=u.value;f.payload=function(){return y(k)},f.callback=function(){sy(o,u)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){sy(o,u),typeof y!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),f}function TS(o,u,f){var y=o.pingCache;if(y===null){y=o.pingCache=new R$;var k=new Set;y.set(u,k)}else k=y.get(u),k===void 0&&(k=new Set,y.set(u,k));k.has(f)||(k.add(f),o=K$.bind(null,o,u,f),u.then(o,o))}function AS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function CS(o,u,f,y,k){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Di(-1,1),u.tag=2,js(f,u,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var D$=I.ReactCurrentOwner,Nn=!1;function dn(o,u,f,y){u.child=o===null?QN(u,null,f,y):Kl(u,o.child,f,y)}function PS(o,u,f,y,k){f=f.render;var T=u.ref;return Ql(u,k),y=Xg(o,u,f,y,T,k),f=Jg(),o!==null&&!Nn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~k,Mi(o,u,k)):(zt&&f&&Rg(u),u.flags|=1,dn(o,u,y,k),u.child)}function IS(o,u,f,y,k){if(o===null){var T=f.type;return typeof T=="function"&&!Ty(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=T,OS(o,u,T,y,k)):(o=ep(f.type,null,y,u,u.mode,k),o.ref=u.ref,o.return=u,u.child=o)}if(T=o.child,(o.lanes&k)===0){var V=T.memoizedProps;if(f=f.compare,f=f!==null?f:Su,f(V,y)&&o.ref===u.ref)return Mi(o,u,k)}return u.flags|=1,o=Cs(T,y),o.ref=u.ref,o.return=u,u.child=o}function OS(o,u,f,y,k){if(o!==null){var T=o.memoizedProps;if(Su(T,y)&&o.ref===u.ref)if(Nn=!1,u.pendingProps=y=T,(o.lanes&k)!==0)(o.flags&131072)!==0&&(Nn=!0);else return u.lanes=o.lanes,Mi(o,u,k)}return oy(o,u,f,y,k)}function RS(o,u,f){var y=u.pendingProps,k=y.children,T=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(ec,qn),qn|=f;else{if((f&1073741824)===0)return o=T!==null?T.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,Ct(ec,qn),qn|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=T!==null?T.baseLanes:f,Ct(ec,qn),qn|=y}else T!==null?(y=T.baseLanes|f,u.memoizedState=null):y=f,Ct(ec,qn),qn|=y;return dn(o,u,k,f),u.child}function DS(o,u){var f=u.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function oy(o,u,f,y,k){var T=jn(f)?No:Hr.current;return T=zl(u,T),Ql(u,k),f=Xg(o,u,f,y,T,k),y=Jg(),o!==null&&!Nn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~k,Mi(o,u,k)):(zt&&y&&Rg(u),u.flags|=1,dn(o,u,f,k),u.child)}function MS(o,u,f,y,k){if(jn(f)){var T=!0;Nf(u)}else T=!1;if(Ql(u,k),u.stateNode===null)qf(o,u),jS(u,f,y),ay(u,f,y,k),y=!0;else if(o===null){var V=u.stateNode,H=u.memoizedProps;V.props=H;var Y=V.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=la(ce):(ce=jn(f)?No:Hr.current,ce=zl(u,ce));var je=f.getDerivedStateFromProps,Se=typeof je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Se||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==y||Y!==ce)&&NS(u,V,y,ce),ks=!1;var ke=u.memoizedState;V.state=ke,Rf(u,y,V,k),Y=u.memoizedState,H!==y||ke!==Y||kn.current||ks?(typeof je=="function"&&(ny(u,f,je,y),Y=u.memoizedState),(H=ks||kS(u,f,H,y,ke,Y,ce))?(Se||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Y),V.props=y,V.state=Y,V.context=ce,y=H):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{V=u.stateNode,JN(o,u),H=u.memoizedProps,ce=u.type===u.elementType?H:Ca(u.type,H),V.props=ce,Se=u.pendingProps,ke=V.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=la(Y):(Y=jn(f)?No:Hr.current,Y=zl(u,Y));var Pe=f.getDerivedStateFromProps;(je=typeof Pe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==Se||ke!==Y)&&NS(u,V,y,Y),ks=!1,ke=u.memoizedState,V.state=ke,Rf(u,y,V,k);var Le=u.memoizedState;H!==Se||ke!==Le||kn.current||ks?(typeof Pe=="function"&&(ny(u,f,Pe,y),Le=u.memoizedState),(ce=ks||kS(u,f,ce,y,ke,Le,Y)||!1)?(je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(y,Le,Y),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(y,Le,Y)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Le),V.props=y,V.state=Le,V.context=Y,y=ce):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),y=!1)}return ly(o,u,f,y,T,k)}function ly(o,u,f,y,k,T){DS(o,u);var V=(u.flags&128)!==0;if(!y&&!V)return k&&BN(u,f,!1),Mi(o,u,T);y=u.stateNode,D$.current=u;var H=V&&typeof f.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,o!==null&&V?(u.child=Kl(u,o.child,null,T),u.child=Kl(u,null,H,T)):dn(o,u,H,T),u.memoizedState=y.state,k&&BN(u,f,!0),u.child}function LS(o){var u=o.stateNode;u.pendingContext?FN(o,u.pendingContext,u.pendingContext!==u.context):u.context&&FN(o,u.context,!1),Wg(o,u.containerInfo)}function $S(o,u,f,y,k){return Gl(),$g(k),u.flags|=256,dn(o,u,f,y),u.child}var cy={dehydrated:null,treeContext:null,retryLane:0};function uy(o){return{baseLanes:o,cachePool:null,transitions:null}}function FS(o,u,f){var y=u.pendingProps,k=Qt.current,T=!1,V=(u.flags&128)!==0,H;if((H=V)||(H=o!==null&&o.memoizedState===null?!1:(k&2)!==0),H?(T=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),Ct(Qt,k&1),o===null)return Lg(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=y.children,o=y.fallback,T?(y=u.mode,T=u.child,V={mode:"hidden",children:V},(y&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=V):T=tp(V,y,0,null),o=Do(o,y,f,null),T.return=u,o.return=u,T.sibling=o,u.child=T,u.child.memoizedState=uy(f),u.memoizedState=cy,o):dy(u,V));if(k=o.memoizedState,k!==null&&(H=k.dehydrated,H!==null))return M$(o,u,V,y,H,k,f);if(T){T=y.fallback,V=u.mode,k=o.child,H=k.sibling;var Y={mode:"hidden",children:y.children};return(V&1)===0&&u.child!==k?(y=u.child,y.childLanes=0,y.pendingProps=Y,u.deletions=null):(y=Cs(k,Y),y.subtreeFlags=k.subtreeFlags&14680064),H!==null?T=Cs(H,T):(T=Do(T,V,f,null),T.flags|=2),T.return=u,y.return=u,y.sibling=T,u.child=y,y=T,T=u.child,V=o.child.memoizedState,V=V===null?uy(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},T.memoizedState=V,T.childLanes=o.childLanes&~f,u.memoizedState=cy,y}return T=o.child,o=T.sibling,y=Cs(T,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=f),y.return=u,y.sibling=null,o!==null&&(f=u.deletions,f===null?(u.deletions=[o],u.flags|=16):f.push(o)),u.child=y,u.memoizedState=null,y}function dy(o,u){return u=tp({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function Uf(o,u,f,y){return y!==null&&$g(y),Kl(u,o.child,null,f),o=dy(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function M$(o,u,f,y,k,T,V){if(f)return u.flags&256?(u.flags&=-257,y=iy(Error(r(422))),Uf(o,u,V,y)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(T=y.fallback,k=u.mode,y=tp({mode:"visible",children:y.children},k,0,null),T=Do(T,k,V,null),T.flags|=2,y.return=u,T.return=u,y.sibling=T,u.child=y,(u.mode&1)!==0&&Kl(u,o.child,null,V),u.child.memoizedState=uy(V),u.memoizedState=cy,T);if((u.mode&1)===0)return Uf(o,u,V,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var H=y.dgst;return y=H,T=Error(r(419)),y=iy(T,y,void 0),Uf(o,u,V,y)}if(H=(V&o.childLanes)!==0,Nn||H){if(y=Er,y!==null){switch(V&-V){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|V))!==0?0:k,k!==0&&k!==T.retryLane&&(T.retryLane=k,Ri(o,k),Oa(y,o,k,-1))}return Ey(),y=iy(Error(r(421))),Uf(o,u,V,y)}return k.data==="$?"?(u.flags|=128,u.child=o.child,u=Y$.bind(null,o),k._reactRetry=u,null):(o=T.treeContext,Un=xs(k.nextSibling),Bn=u,zt=!0,Aa=null,o!==null&&(sa[oa++]=Ii,sa[oa++]=Oi,sa[oa++]=So,Ii=o.id,Oi=o.overflow,So=u),u=dy(u,y.children),u.flags|=4096,u)}function VS(o,u,f){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),Ug(o.return,u,f)}function hy(o,u,f,y,k){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:k}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=f,T.tailMode=k)}function BS(o,u,f){var y=u.pendingProps,k=y.revealOrder,T=y.tail;if(dn(o,u,y.children,f),y=Qt.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&VS(o,f,u);else if(o.tag===19)VS(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Ct(Qt,y),(u.mode&1)===0)u.memoizedState=null;else switch(k){case"forwards":for(f=u.child,k=null;f!==null;)o=f.alternate,o!==null&&Df(o)===null&&(k=f),f=f.sibling;f=k,f===null?(k=u.child,u.child=null):(k=f.sibling,f.sibling=null),hy(u,!1,k,f,T);break;case"backwards":for(f=null,k=u.child,u.child=null;k!==null;){if(o=k.alternate,o!==null&&Df(o)===null){u.child=k;break}o=k.sibling,k.sibling=f,f=k,k=o}hy(u,!0,f,null,T);break;case"together":hy(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function qf(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function Mi(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Po|=u.lanes,(f&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Cs(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Cs(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function L$(o,u,f){switch(u.tag){case 3:LS(u),Gl();break;case 5:tS(u);break;case 1:jn(u.type)&&Nf(u);break;case 4:Wg(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,k=u.memoizedProps.value;Ct(Pf,y._currentValue),y._currentValue=k;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(Ct(Qt,Qt.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?FS(o,u,f):(Ct(Qt,Qt.current&1),o=Mi(o,u,f),o!==null?o.sibling:null);Ct(Qt,Qt.current&1);break;case 19:if(y=(f&u.childLanes)!==0,(o.flags&128)!==0){if(y)return BS(o,u,f);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Ct(Qt,Qt.current),y)break;return null;case 22:case 23:return u.lanes=0,RS(o,u,f)}return Mi(o,u,f)}var US,fy,qS,zS;US=function(o,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},fy=function(){},qS=function(o,u,f,y){var k=o.memoizedProps;if(k!==y){o=u.stateNode,Ao(Xa.current);var T=null;switch(f){case"input":k=_e(o,k),y=_e(o,y),T=[];break;case"select":k=ne({},k,{value:void 0}),y=ne({},y,{value:void 0}),T=[];break;case"textarea":k=Or(o,k),y=Or(o,y),T=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=_f)}wi(f,y);var V;f=null;for(ce in k)if(!y.hasOwnProperty(ce)&&k.hasOwnProperty(ce)&&k[ce]!=null)if(ce==="style"){var H=k[ce];for(V in H)H.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?T||(T=[]):(T=T||[]).push(ce,null));for(ce in y){var Y=y[ce];if(H=k?.[ce],y.hasOwnProperty(ce)&&Y!==H&&(Y!=null||H!=null))if(ce==="style")if(H){for(V in H)!H.hasOwnProperty(V)||Y&&Y.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in Y)Y.hasOwnProperty(V)&&H[V]!==Y[V]&&(f||(f={}),f[V]=Y[V])}else f||(T||(T=[]),T.push(ce,f)),f=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(T=T||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Mt("scroll",o),T||H===Y||(T=[])):(T=T||[]).push(ce,Y))}f&&(T=T||[]).push("style",f);var ce=T;(u.updateQueue=ce)&&(u.flags|=4)}},zS=function(o,u,f,y){f!==y&&(u.flags|=4)};function Bu(o,u){if(!zt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Kr(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(u)for(var k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)f|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=y,o.childLanes=f,u}function $$(o,u,f){var y=u.pendingProps;switch(Dg(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(u),null;case 1:return jn(u.type)&&jf(),Kr(u),null;case 3:return y=u.stateNode,Xl(),Lt(kn),Lt(Hr),Kg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Af(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Aa!==null&&(jy(Aa),Aa=null))),fy(o,u),Kr(u),null;case 5:Hg(u);var k=Ao(Mu.current);if(f=u.type,o!==null&&u.stateNode!=null)qS(o,u,f,y,k),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Kr(u),null}if(o=Ao(Xa.current),Af(u)){y=u.stateNode,f=u.type;var T=u.memoizedProps;switch(y[Qa]=u,y[Pu]=T,o=(u.mode&1)!==0,f){case"dialog":Mt("cancel",y),Mt("close",y);break;case"iframe":case"object":case"embed":Mt("load",y);break;case"video":case"audio":for(k=0;k<Tu.length;k++)Mt(Tu[k],y);break;case"source":Mt("error",y);break;case"img":case"image":case"link":Mt("error",y),Mt("load",y);break;case"details":Mt("toggle",y);break;case"input":Ie(y,T),Mt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!T.multiple},Mt("invalid",y);break;case"textarea":on(y,T),Mt("invalid",y)}wi(f,T),k=null;for(var V in T)if(T.hasOwnProperty(V)){var H=T[V];V==="children"?typeof H=="string"?y.textContent!==H&&(T.suppressHydrationWarning!==!0&&wf(y.textContent,H,o),k=["children",H]):typeof H=="number"&&y.textContent!==""+H&&(T.suppressHydrationWarning!==!0&&wf(y.textContent,H,o),k=["children",""+H]):a.hasOwnProperty(V)&&H!=null&&V==="onScroll"&&Mt("scroll",y)}switch(f){case"input":xe(y),mr(y,T,!0);break;case"textarea":xe(y),Rn(y);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(y.onclick=_f)}y=k,u.updateQueue=y,y!==null&&(u.flags|=4)}else{V=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ht(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=V.createElement(f,{is:y.is}):(o=V.createElement(f),f==="select"&&(V=o,y.multiple?V.multiple=!0:y.size&&(V.size=y.size))):o=V.createElementNS(o,f),o[Qa]=u,o[Pu]=y,US(o,u,!1,!1),u.stateNode=o;e:{switch(V=Xn(f,y),f){case"dialog":Mt("cancel",o),Mt("close",o),k=y;break;case"iframe":case"object":case"embed":Mt("load",o),k=y;break;case"video":case"audio":for(k=0;k<Tu.length;k++)Mt(Tu[k],o);k=y;break;case"source":Mt("error",o),k=y;break;case"img":case"image":case"link":Mt("error",o),Mt("load",o),k=y;break;case"details":Mt("toggle",o),k=y;break;case"input":Ie(o,y),k=_e(o,y),Mt("invalid",o);break;case"option":k=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},k=ne({},y,{value:void 0}),Mt("invalid",o);break;case"textarea":on(o,y),k=Or(o,y),Mt("invalid",o);break;default:k=y}wi(f,k),H=k;for(T in H)if(H.hasOwnProperty(T)){var Y=H[T];T==="style"?uo(o,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&gt(o,Y)):T==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&qa(o,Y):typeof Y=="number"&&qa(o,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&Mt("scroll",o):Y!=null&&A(o,T,Y,V))}switch(f){case"input":xe(o),mr(o,y,!1);break;case"textarea":xe(o),Rn(o);break;case"option":y.value!=null&&o.setAttribute("value",""+be(y.value));break;case"select":o.multiple=!!y.multiple,T=y.value,T!=null?Dt(o,!!y.multiple,T,!1):y.defaultValue!=null&&Dt(o,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=_f)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Kr(u),null;case 6:if(o&&u.stateNode!=null)zS(o,u,o.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(f=Ao(Mu.current),Ao(Xa.current),Af(u)){if(y=u.stateNode,f=u.memoizedProps,y[Qa]=u,(T=y.nodeValue!==f)&&(o=Bn,o!==null))switch(o.tag){case 3:wf(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&wf(y.nodeValue,f,(o.mode&1)!==0)}T&&(u.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[Qa]=u,u.stateNode=y}return Kr(u),null;case 13:if(Lt(Qt),y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(zt&&Un!==null&&(u.mode&1)!==0&&(u.flags&128)===0)GN(),Gl(),u.flags|=98560,T=!1;else if(T=Af(u),y!==null&&y.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Qa]=u}else Gl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Kr(u),T=!1}else Aa!==null&&(jy(Aa),Aa=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Qt.current&1)!==0?xr===0&&(xr=3):Ey())),u.updateQueue!==null&&(u.flags|=4),Kr(u),null);case 4:return Xl(),fy(o,u),o===null&&Au(u.stateNode.containerInfo),Kr(u),null;case 10:return Bg(u.type._context),Kr(u),null;case 17:return jn(u.type)&&jf(),Kr(u),null;case 19:if(Lt(Qt),T=u.memoizedState,T===null)return Kr(u),null;if(y=(u.flags&128)!==0,V=T.rendering,V===null)if(y)Bu(T,!1);else{if(xr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(V=Df(o),V!==null){for(u.flags|=128,Bu(T,!1),y=V.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=f,f=u.child;f!==null;)T=f,o=y,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,o=V.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Ct(Qt,Qt.current&1|2),u.child}o=o.sibling}T.tail!==null&&At()>tc&&(u.flags|=128,y=!0,Bu(T,!1),u.lanes=4194304)}else{if(!y)if(o=Df(V),o!==null){if(u.flags|=128,y=!0,f=o.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),Bu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!V.alternate&&!zt)return Kr(u),null}else 2*At()-T.renderingStartTime>tc&&f!==1073741824&&(u.flags|=128,y=!0,Bu(T,!1),u.lanes=4194304);T.isBackwards?(V.sibling=u.child,u.child=V):(f=T.last,f!==null?f.sibling=V:u.child=V,T.last=V)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=At(),u.sibling=null,f=Qt.current,Ct(Qt,y?f&1|2:f&1),u):(Kr(u),null);case 22:case 23:return Sy(),y=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(qn&1073741824)!==0&&(Kr(u),u.subtreeFlags&6&&(u.flags|=8192)):Kr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function F$(o,u){switch(Dg(u),u.tag){case 1:return jn(u.type)&&jf(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Xl(),Lt(kn),Lt(Hr),Kg(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Hg(u),null;case 13:if(Lt(Qt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Gl()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Lt(Qt),null;case 4:return Xl(),null;case 10:return Bg(u.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var zf=!1,Yr=!1,V$=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Zl(o,u){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){tr(o,u,y)}else f.current=null}function py(o,u,f){try{f()}catch(y){tr(o,u,y)}}var WS=!1;function B$(o,u){if(Sg=gs,o=kN(),vg(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var k=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var V=0,H=-1,Y=-1,ce=0,je=0,Se=o,ke=null;t:for(;;){for(var Pe;Se!==f||k!==0&&Se.nodeType!==3||(H=V+k),Se!==T||y!==0&&Se.nodeType!==3||(Y=V+y),Se.nodeType===3&&(V+=Se.nodeValue.length),(Pe=Se.firstChild)!==null;)ke=Se,Se=Pe;for(;;){if(Se===o)break t;if(ke===f&&++ce===k&&(H=V),ke===T&&++je===y&&(Y=V),(Pe=Se.nextSibling)!==null)break;Se=ke,ke=Se.parentNode}Se=Pe}f=H===-1||Y===-1?null:{start:H,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(Eg={focusedElem:o,selectionRange:f},gs=!1,Oe=u;Oe!==null;)if(u=Oe,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Oe=o;else for(;Oe!==null;){u=Oe;try{var Le=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var $e=Le.memoizedProps,sr=Le.memoizedState,se=u.stateNode,ee=se.getSnapshotBeforeUpdate(u.elementType===u.type?$e:Ca(u.type,$e),sr);se.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){tr(u,u.return,Ee)}if(o=u.sibling,o!==null){o.return=u.return,Oe=o;break}Oe=u.return}return Le=WS,WS=!1,Le}function Uu(o,u,f){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&o)===o){var T=k.destroy;k.destroy=void 0,T!==void 0&&py(u,f,T)}k=k.next}while(k!==y)}}function Wf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==u)}}function my(o){var u=o.ref;if(u!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof u=="function"?u(o):u.current=o}}function HS(o){var u=o.alternate;u!==null&&(o.alternate=null,HS(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Qa],delete u[Pu],delete u[Pg],delete u[k$],delete u[j$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function GS(o){return o.tag===5||o.tag===3||o.tag===4}function KS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||GS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function gy(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(o,u):f.insertBefore(o,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(o,f)):(u=f,u.appendChild(o)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=_f));else if(y!==4&&(o=o.child,o!==null))for(gy(o,u,f),o=o.sibling;o!==null;)gy(o,u,f),o=o.sibling}function yy(o,u,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(yy(o,u,f),o=o.sibling;o!==null;)yy(o,u,f),o=o.sibling}var Mr=null,Pa=!1;function Ns(o,u,f){for(f=f.child;f!==null;)YS(o,u,f),f=f.sibling}function YS(o,u,f){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(yo,f)}catch{}switch(f.tag){case 5:Yr||Zl(f,u);case 6:var y=Mr,k=Pa;Mr=null,Ns(o,u,f),Mr=y,Pa=k,Mr!==null&&(Pa?(o=Mr,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Mr.removeChild(f.stateNode));break;case 18:Mr!==null&&(Pa?(o=Mr,f=f.stateNode,o.nodeType===8?Cg(o.parentNode,f):o.nodeType===1&&Cg(o,f),Sa(o)):Cg(Mr,f.stateNode));break;case 4:y=Mr,k=Pa,Mr=f.stateNode.containerInfo,Pa=!0,Ns(o,u,f),Mr=y,Pa=k;break;case 0:case 11:case 14:case 15:if(!Yr&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var T=k,V=T.destroy;T=T.tag,V!==void 0&&((T&2)!==0||(T&4)!==0)&&py(f,u,V),k=k.next}while(k!==y)}Ns(o,u,f);break;case 1:if(!Yr&&(Zl(f,u),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(H){tr(f,u,H)}Ns(o,u,f);break;case 21:Ns(o,u,f);break;case 22:f.mode&1?(Yr=(y=Yr)||f.memoizedState!==null,Ns(o,u,f),Yr=y):Ns(o,u,f);break;default:Ns(o,u,f)}}function QS(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new V$),u.forEach(function(y){var k=Q$.bind(null,o,y);f.has(y)||(f.add(y),y.then(k,k))})}}function Ia(o,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var k=f[y];try{var T=o,V=u,H=V;e:for(;H!==null;){switch(H.tag){case 5:Mr=H.stateNode,Pa=!1;break e;case 3:Mr=H.stateNode.containerInfo,Pa=!0;break e;case 4:Mr=H.stateNode.containerInfo,Pa=!0;break e}H=H.return}if(Mr===null)throw Error(r(160));YS(T,V,k),Mr=null,Pa=!1;var Y=k.alternate;Y!==null&&(Y.return=null),k.return=null}catch(ce){tr(k,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)XS(u,o),u=u.sibling}function XS(o,u){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ia(u,o),Za(o),y&4){try{Uu(3,o,o.return),Wf(3,o)}catch($e){tr(o,o.return,$e)}try{Uu(5,o,o.return)}catch($e){tr(o,o.return,$e)}}break;case 1:Ia(u,o),Za(o),y&512&&f!==null&&Zl(f,f.return);break;case 5:if(Ia(u,o),Za(o),y&512&&f!==null&&Zl(f,f.return),o.flags&32){var k=o.stateNode;try{qa(k,"")}catch($e){tr(o,o.return,$e)}}if(y&4&&(k=o.stateNode,k!=null)){var T=o.memoizedProps,V=f!==null?f.memoizedProps:T,H=o.type,Y=o.updateQueue;if(o.updateQueue=null,Y!==null)try{H==="input"&&T.type==="radio"&&T.name!=null&&Ue(k,T),Xn(H,V);var ce=Xn(H,T);for(V=0;V<Y.length;V+=2){var je=Y[V],Se=Y[V+1];je==="style"?uo(k,Se):je==="dangerouslySetInnerHTML"?gt(k,Se):je==="children"?qa(k,Se):A(k,je,Se,ce)}switch(H){case"input":Zt(k,T);break;case"textarea":lr(k,T);break;case"select":var ke=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!T.multiple;var Pe=T.value;Pe!=null?Dt(k,!!T.multiple,Pe,!1):ke!==!!T.multiple&&(T.defaultValue!=null?Dt(k,!!T.multiple,T.defaultValue,!0):Dt(k,!!T.multiple,T.multiple?[]:"",!1))}k[Pu]=T}catch($e){tr(o,o.return,$e)}}break;case 6:if(Ia(u,o),Za(o),y&4){if(o.stateNode===null)throw Error(r(162));k=o.stateNode,T=o.memoizedProps;try{k.nodeValue=T}catch($e){tr(o,o.return,$e)}}break;case 3:if(Ia(u,o),Za(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{Sa(u.containerInfo)}catch($e){tr(o,o.return,$e)}break;case 4:Ia(u,o),Za(o);break;case 13:Ia(u,o),Za(o),k=o.child,k.flags&8192&&(T=k.memoizedState!==null,k.stateNode.isHidden=T,!T||k.alternate!==null&&k.alternate.memoizedState!==null||(by=At())),y&4&&QS(o);break;case 22:if(je=f!==null&&f.memoizedState!==null,o.mode&1?(Yr=(ce=Yr)||je,Ia(u,o),Yr=ce):Ia(u,o),Za(o),y&8192){if(ce=o.memoizedState!==null,(o.stateNode.isHidden=ce)&&!je&&(o.mode&1)!==0)for(Oe=o,je=o.child;je!==null;){for(Se=Oe=je;Oe!==null;){switch(ke=Oe,Pe=ke.child,ke.tag){case 0:case 11:case 14:case 15:Uu(4,ke,ke.return);break;case 1:Zl(ke,ke.return);var Le=ke.stateNode;if(typeof Le.componentWillUnmount=="function"){y=ke,f=ke.return;try{u=y,Le.props=u.memoizedProps,Le.state=u.memoizedState,Le.componentWillUnmount()}catch($e){tr(y,f,$e)}}break;case 5:Zl(ke,ke.return);break;case 22:if(ke.memoizedState!==null){eE(Se);continue}}Pe!==null?(Pe.return=ke,Oe=Pe):eE(Se)}je=je.sibling}e:for(je=null,Se=o;;){if(Se.tag===5){if(je===null){je=Se;try{k=Se.stateNode,ce?(T=k.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(H=Se.stateNode,Y=Se.memoizedProps.style,V=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=xn("display",V))}catch($e){tr(o,o.return,$e)}}}else if(Se.tag===6){if(je===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch($e){tr(o,o.return,$e)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===o)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===o)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===o)break e;je===Se&&(je=null),Se=Se.return}je===Se&&(je=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Ia(u,o),Za(o),y&4&&QS(o);break;case 21:break;default:Ia(u,o),Za(o)}}function Za(o){var u=o.flags;if(u&2){try{e:{for(var f=o.return;f!==null;){if(GS(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(qa(k,""),y.flags&=-33);var T=KS(o);yy(o,T,k);break;case 3:case 4:var V=y.stateNode.containerInfo,H=KS(o);gy(o,H,V);break;default:throw Error(r(161))}}catch(Y){tr(o,o.return,Y)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function U$(o,u,f){Oe=o,JS(o)}function JS(o,u,f){for(var y=(o.mode&1)!==0;Oe!==null;){var k=Oe,T=k.child;if(k.tag===22&&y){var V=k.memoizedState!==null||zf;if(!V){var H=k.alternate,Y=H!==null&&H.memoizedState!==null||Yr;H=zf;var ce=Yr;if(zf=V,(Yr=Y)&&!ce)for(Oe=k;Oe!==null;)V=Oe,Y=V.child,V.tag===22&&V.memoizedState!==null?tE(k):Y!==null?(Y.return=V,Oe=Y):tE(k);for(;T!==null;)Oe=T,JS(T),T=T.sibling;Oe=k,zf=H,Yr=ce}ZS(o)}else(k.subtreeFlags&8772)!==0&&T!==null?(T.return=k,Oe=T):ZS(o)}}function ZS(o){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Yr||Wf(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!Yr)if(f===null)y.componentDidMount();else{var k=u.elementType===u.type?f.memoizedProps:Ca(u.type,f.memoizedProps);y.componentDidUpdate(k,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&eS(u,T,y);break;case 3:var V=u.updateQueue;if(V!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}eS(u,V,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Se=je.dehydrated;Se!==null&&Sa(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yr||u.flags&512&&my(u)}catch(ke){tr(u,u.return,ke)}}if(u===o){Oe=null;break}if(f=u.sibling,f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function eE(o){for(;Oe!==null;){var u=Oe;if(u===o){Oe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function tE(o){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Wf(4,u)}catch(Y){tr(u,f,Y)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var k=u.return;try{y.componentDidMount()}catch(Y){tr(u,k,Y)}}var T=u.return;try{my(u)}catch(Y){tr(u,T,Y)}break;case 5:var V=u.return;try{my(u)}catch(Y){tr(u,V,Y)}}}catch(Y){tr(u,u.return,Y)}if(u===o){Oe=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Oe=H;break}Oe=u.return}}var q$=Math.ceil,Hf=I.ReactCurrentDispatcher,vy=I.ReactCurrentOwner,ua=I.ReactCurrentBatchConfig,ht=0,Er=null,ur=null,Lr=0,qn=0,ec=bs(0),xr=0,qu=null,Po=0,Gf=0,xy=0,zu=null,Sn=null,by=0,tc=1/0,Li=null,Kf=!1,wy=null,Ss=null,Yf=!1,Es=null,Qf=0,Wu=0,_y=null,Xf=-1,Jf=0;function hn(){return(ht&6)!==0?At():Xf!==-1?Xf:Xf=At()}function Ts(o){return(o.mode&1)===0?1:(ht&2)!==0&&Lr!==0?Lr&-Lr:S$.transition!==null?(Jf===0&&(Jf=xo()),Jf):(o=ot,o!==0||(o=window.event,o=o===void 0?16:xu(o.type)),o)}function Oa(o,u,f,y){if(50<Wu)throw Wu=0,_y=null,Error(r(185));hs(o,f,y),((ht&2)===0||o!==Er)&&(o===Er&&((ht&2)===0&&(Gf|=f),xr===4&&As(o,Lr)),En(o,y),f===1&&ht===0&&(u.mode&1)===0&&(tc=At()+500,Sf&&_s()))}function En(o,u){var f=o.callbackNode;Ni(o,u);var y=vo(o,o===Er?Lr:0);if(y===0)f!==null&&Mn(f),o.callbackNode=null,o.callbackPriority=0;else if(u=y&-y,o.callbackPriority!==u){if(f!=null&&Mn(f),u===1)o.tag===0?N$(nE.bind(null,o)):UN(nE.bind(null,o)),w$(function(){(ht&6)===0&&_s()}),f=null;else{switch(ps(y)){case 1:f=go;break;case 4:f=cs;break;case 16:f=na;break;case 536870912:f=Xh;break;default:f=na}f=dE(f,rE.bind(null,o))}o.callbackPriority=u,o.callbackNode=f}}function rE(o,u){if(Xf=-1,Jf=0,(ht&6)!==0)throw Error(r(327));var f=o.callbackNode;if(rc()&&o.callbackNode!==f)return null;var y=vo(o,o===Er?Lr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||u)u=Zf(o,y);else{u=y;var k=ht;ht|=2;var T=iE();(Er!==o||Lr!==u)&&(Li=null,tc=At()+500,Oo(o,u));do try{H$();break}catch(H){aE(o,H)}while(!0);Vg(),Hf.current=T,ht=k,ur!==null?u=0:(Er=null,Lr=0,u=xr)}if(u!==0){if(u===2&&(k=$n(o),k!==0&&(y=k,u=ky(o,k))),u===1)throw f=qu,Oo(o,0),As(o,y),En(o,At()),f;if(u===6)As(o,y);else{if(k=o.current.alternate,(y&30)===0&&!z$(k)&&(u=Zf(o,y),u===2&&(T=$n(o),T!==0&&(y=T,u=ky(o,T))),u===1))throw f=qu,Oo(o,0),As(o,y),En(o,At()),f;switch(o.finishedWork=k,o.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Ro(o,Sn,Li);break;case 3:if(As(o,y),(y&130023424)===y&&(u=by+500-At(),10<u)){if(vo(o,0)!==0)break;if(k=o.suspendedLanes,(k&y)!==y){hn(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=Ag(Ro.bind(null,o,Sn,Li),u);break}Ro(o,Sn,Li);break;case 4:if(As(o,y),(y&4194240)===y)break;for(u=o.eventTimes,k=-1;0<y;){var V=31-cn(y);T=1<<V,V=u[V],V>k&&(k=V),y&=~T}if(y=k,y=At()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*q$(y/1960))-y,10<y){o.timeoutHandle=Ag(Ro.bind(null,o,Sn,Li),y);break}Ro(o,Sn,Li);break;case 5:Ro(o,Sn,Li);break;default:throw Error(r(329))}}}return En(o,At()),o.callbackNode===f?rE.bind(null,o):null}function ky(o,u){var f=zu;return o.current.memoizedState.isDehydrated&&(Oo(o,u).flags|=256),o=Zf(o,u),o!==2&&(u=Sn,Sn=f,u!==null&&jy(u)),o}function jy(o){Sn===null?Sn=o:Sn.push.apply(Sn,o)}function z$(o){for(var u=o;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var k=f[y],T=k.getSnapshot;k=k.value;try{if(!Ta(T(),k))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function As(o,u){for(u&=~xy,u&=~Gf,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var f=31-cn(u),y=1<<f;o[f]=-1,u&=~y}}function nE(o){if((ht&6)!==0)throw Error(r(327));rc();var u=vo(o,0);if((u&1)===0)return En(o,At()),null;var f=Zf(o,u);if(o.tag!==0&&f===2){var y=$n(o);y!==0&&(u=y,f=ky(o,y))}if(f===1)throw f=qu,Oo(o,0),As(o,u),En(o,At()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Ro(o,Sn,Li),En(o,At()),null}function Ny(o,u){var f=ht;ht|=1;try{return o(u)}finally{ht=f,ht===0&&(tc=At()+500,Sf&&_s())}}function Io(o){Es!==null&&Es.tag===0&&(ht&6)===0&&rc();var u=ht;ht|=1;var f=ua.transition,y=ot;try{if(ua.transition=null,ot=1,o)return o()}finally{ot=y,ua.transition=f,ht=u,(ht&6)===0&&_s()}}function Sy(){qn=ec.current,Lt(ec)}function Oo(o,u){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,b$(f)),ur!==null)for(f=ur.return;f!==null;){var y=f;switch(Dg(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&jf();break;case 3:Xl(),Lt(kn),Lt(Hr),Kg();break;case 5:Hg(y);break;case 4:Xl();break;case 13:Lt(Qt);break;case 19:Lt(Qt);break;case 10:Bg(y.type._context);break;case 22:case 23:Sy()}f=f.return}if(Er=o,ur=o=Cs(o.current,null),Lr=qn=u,xr=0,qu=null,xy=Gf=Po=0,Sn=zu=null,To!==null){for(u=0;u<To.length;u++)if(f=To[u],y=f.interleaved,y!==null){f.interleaved=null;var k=y.next,T=f.pending;if(T!==null){var V=T.next;T.next=k,y.next=V}f.pending=y}To=null}return o}function aE(o,u){do{var f=ur;try{if(Vg(),Mf.current=Vf,Lf){for(var y=Xt.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}Lf=!1}if(Co=0,Sr=vr=Xt=null,Lu=!1,$u=0,vy.current=null,f===null||f.return===null){xr=1,qu=u,ur=null;break}e:{var T=o,V=f.return,H=f,Y=u;if(u=Lr,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,je=H,Se=je.tag;if((je.mode&1)===0&&(Se===0||Se===11||Se===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var Pe=AS(V);if(Pe!==null){Pe.flags&=-257,CS(Pe,V,H,T,u),Pe.mode&1&&TS(T,ce,u),u=Pe,Y=ce;var Le=u.updateQueue;if(Le===null){var $e=new Set;$e.add(Y),u.updateQueue=$e}else Le.add(Y);break e}else{if((u&1)===0){TS(T,ce,u),Ey();break e}Y=Error(r(426))}}else if(zt&&H.mode&1){var sr=AS(V);if(sr!==null){(sr.flags&65536)===0&&(sr.flags|=256),CS(sr,V,H,T,u),$g(Jl(Y,H));break e}}T=Y=Jl(Y,H),xr!==4&&(xr=2),zu===null?zu=[T]:zu.push(T),T=V;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var se=SS(T,Y,u);ZN(T,se);break e;case 1:H=Y;var ee=T.type,oe=T.stateNode;if((T.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Ss===null||!Ss.has(oe)))){T.flags|=65536,u&=-u,T.lanes|=u;var Ee=ES(T,H,u);ZN(T,Ee);break e}}T=T.return}while(T!==null)}oE(f)}catch(Be){u=Be,ur===f&&f!==null&&(ur=f=f.return);continue}break}while(!0)}function iE(){var o=Hf.current;return Hf.current=Vf,o===null?Vf:o}function Ey(){(xr===0||xr===3||xr===2)&&(xr=4),Er===null||(Po&268435455)===0&&(Gf&268435455)===0||As(Er,Lr)}function Zf(o,u){var f=ht;ht|=2;var y=iE();(Er!==o||Lr!==u)&&(Li=null,Oo(o,u));do try{W$();break}catch(k){aE(o,k)}while(!0);if(Vg(),ht=f,Hf.current=y,ur!==null)throw Error(r(261));return Er=null,Lr=0,xr}function W$(){for(;ur!==null;)sE(ur)}function H$(){for(;ur!==null&&!ra();)sE(ur)}function sE(o){var u=uE(o.alternate,o,qn);o.memoizedProps=o.pendingProps,u===null?oE(o):ur=u,vy.current=null}function oE(o){var u=o;do{var f=u.alternate;if(o=u.return,(u.flags&32768)===0){if(f=$$(f,u,qn),f!==null){ur=f;return}}else{if(f=F$(f,u),f!==null){f.flags&=32767,ur=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{xr=6,ur=null;return}}if(u=u.sibling,u!==null){ur=u;return}ur=u=o}while(u!==null);xr===0&&(xr=5)}function Ro(o,u,f){var y=ot,k=ua.transition;try{ua.transition=null,ot=1,G$(o,u,f,y)}finally{ua.transition=k,ot=y}return null}function G$(o,u,f,y){do rc();while(Es!==null);if((ht&6)!==0)throw Error(r(327));f=o.finishedWork;var k=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=f.lanes|f.childLanes;if(jt(o,T),o===Er&&(ur=Er=null,Lr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Yf||(Yf=!0,dE(na,function(){return rc(),null})),T=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||T){T=ua.transition,ua.transition=null;var V=ot;ot=1;var H=ht;ht|=4,vy.current=null,B$(o,f),XS(f,o),f$(Eg),gs=!!Sg,Eg=Sg=null,o.current=f,U$(f),Yt(),ht=H,ot=V,ua.transition=T}else o.current=f;if(Yf&&(Yf=!1,Es=o,Qf=k),T=o.pendingLanes,T===0&&(Ss=null),Jh(f.stateNode),En(o,At()),u!==null)for(y=o.onRecoverableError,f=0;f<u.length;f++)k=u[f],y(k.value,{componentStack:k.stack,digest:k.digest});if(Kf)throw Kf=!1,o=wy,wy=null,o;return(Qf&1)!==0&&o.tag!==0&&rc(),T=o.pendingLanes,(T&1)!==0?o===_y?Wu++:(Wu=0,_y=o):Wu=0,_s(),null}function rc(){if(Es!==null){var o=ps(Qf),u=ua.transition,f=ot;try{if(ua.transition=null,ot=16>o?16:o,Es===null)var y=!1;else{if(o=Es,Es=null,Qf=0,(ht&6)!==0)throw Error(r(331));var k=ht;for(ht|=4,Oe=o.current;Oe!==null;){var T=Oe,V=T.child;if((Oe.flags&16)!==0){var H=T.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var ce=H[Y];for(Oe=ce;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:Uu(8,je,T)}var Se=je.child;if(Se!==null)Se.return=je,Oe=Se;else for(;Oe!==null;){je=Oe;var ke=je.sibling,Pe=je.return;if(HS(je),je===ce){Oe=null;break}if(ke!==null){ke.return=Pe,Oe=ke;break}Oe=Pe}}}var Le=T.alternate;if(Le!==null){var $e=Le.child;if($e!==null){Le.child=null;do{var sr=$e.sibling;$e.sibling=null,$e=sr}while($e!==null)}}Oe=T}}if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,Oe=V;else e:for(;Oe!==null;){if(T=Oe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Uu(9,T,T.return)}var se=T.sibling;if(se!==null){se.return=T.return,Oe=se;break e}Oe=T.return}}var ee=o.current;for(Oe=ee;Oe!==null;){V=Oe;var oe=V.child;if((V.subtreeFlags&2064)!==0&&oe!==null)oe.return=V,Oe=oe;else e:for(V=ee;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Wf(9,H)}}catch(Be){tr(H,H.return,Be)}if(H===V){Oe=null;break e}var Ee=H.sibling;if(Ee!==null){Ee.return=H.return,Oe=Ee;break e}Oe=H.return}}if(ht=k,_s(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(yo,o)}catch{}y=!0}return y}finally{ot=f,ua.transition=u}}return!1}function lE(o,u,f){u=Jl(f,u),u=SS(o,u,1),o=js(o,u,1),u=hn(),o!==null&&(hs(o,1,u),En(o,u))}function tr(o,u,f){if(o.tag===3)lE(o,o,f);else for(;u!==null;){if(u.tag===3){lE(u,o,f);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ss===null||!Ss.has(y))){o=Jl(f,o),o=ES(u,o,1),u=js(u,o,1),o=hn(),u!==null&&(hs(u,1,o),En(u,o));break}}u=u.return}}function K$(o,u,f){var y=o.pingCache;y!==null&&y.delete(u),u=hn(),o.pingedLanes|=o.suspendedLanes&f,Er===o&&(Lr&f)===f&&(xr===4||xr===3&&(Lr&130023424)===Lr&&500>At()-by?Oo(o,0):xy|=f),En(o,u)}function cE(o,u){u===0&&((o.mode&1)===0?u=1:(u=Nl,Nl<<=1,(Nl&130023424)===0&&(Nl=4194304)));var f=hn();o=Ri(o,u),o!==null&&(hs(o,u,f),En(o,f))}function Y$(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),cE(o,f)}function Q$(o,u){var f=0;switch(o.tag){case 13:var y=o.stateNode,k=o.memoizedState;k!==null&&(f=k.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),cE(o,f)}var uE;uE=function(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps||kn.current)Nn=!0;else{if((o.lanes&f)===0&&(u.flags&128)===0)return Nn=!1,L$(o,u,f);Nn=(o.flags&131072)!==0}else Nn=!1,zt&&(u.flags&1048576)!==0&&qN(u,Tf,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;qf(o,u),o=u.pendingProps;var k=zl(u,Hr.current);Ql(u,f),k=Xg(null,u,y,o,k,f);var T=Jg();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,jn(y)?(T=!0,Nf(u)):T=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,zg(u),k.updater=Bf,u.stateNode=k,k._reactInternals=u,ay(u,y,o,f),u=ly(null,u,y,!0,T,f)):(u.tag=0,zt&&T&&Rg(u),dn(null,u,k,f),u=u.child),u;case 16:y=u.elementType;e:{switch(qf(o,u),o=u.pendingProps,k=y._init,y=k(y._payload),u.type=y,k=u.tag=J$(y),o=Ca(y,o),k){case 0:u=oy(null,u,y,o,f);break e;case 1:u=MS(null,u,y,o,f);break e;case 11:u=PS(null,u,y,o,f);break e;case 14:u=IS(null,u,y,Ca(y.type,o),f);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:Ca(y,k),oy(o,u,y,k,f);case 1:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:Ca(y,k),MS(o,u,y,k,f);case 3:e:{if(LS(u),o===null)throw Error(r(387));y=u.pendingProps,T=u.memoizedState,k=T.element,JN(o,u),Rf(u,y,null,f);var V=u.memoizedState;if(y=V.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){k=Jl(Error(r(423)),u),u=$S(o,u,y,f,k);break e}else if(y!==k){k=Jl(Error(r(424)),u),u=$S(o,u,y,f,k);break e}else for(Un=xs(u.stateNode.containerInfo.firstChild),Bn=u,zt=!0,Aa=null,f=QN(u,null,y,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Gl(),y===k){u=Mi(o,u,f);break e}dn(o,u,y,f)}u=u.child}return u;case 5:return tS(u),o===null&&Lg(u),y=u.type,k=u.pendingProps,T=o!==null?o.memoizedProps:null,V=k.children,Tg(y,k)?V=null:T!==null&&Tg(y,T)&&(u.flags|=32),DS(o,u),dn(o,u,V,f),u.child;case 6:return o===null&&Lg(u),null;case 13:return FS(o,u,f);case 4:return Wg(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=Kl(u,null,y,f):dn(o,u,y,f),u.child;case 11:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:Ca(y,k),PS(o,u,y,k,f);case 7:return dn(o,u,u.pendingProps,f),u.child;case 8:return dn(o,u,u.pendingProps.children,f),u.child;case 12:return dn(o,u,u.pendingProps.children,f),u.child;case 10:e:{if(y=u.type._context,k=u.pendingProps,T=u.memoizedProps,V=k.value,Ct(Pf,y._currentValue),y._currentValue=V,T!==null)if(Ta(T.value,V)){if(T.children===k.children&&!kn.current){u=Mi(o,u,f);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var H=T.dependencies;if(H!==null){V=T.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===y){if(T.tag===1){Y=Di(-1,f&-f),Y.tag=2;var ce=T.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?Y.next=Y:(Y.next=je.next,je.next=Y),ce.pending=Y}}T.lanes|=f,Y=T.alternate,Y!==null&&(Y.lanes|=f),Ug(T.return,f,u),H.lanes|=f;break}Y=Y.next}}else if(T.tag===10)V=T.type===u.type?null:T.child;else if(T.tag===18){if(V=T.return,V===null)throw Error(r(341));V.lanes|=f,H=V.alternate,H!==null&&(H.lanes|=f),Ug(V,f,u),V=T.sibling}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===u){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}dn(o,u,k.children,f),u=u.child}return u;case 9:return k=u.type,y=u.pendingProps.children,Ql(u,f),k=la(k),y=y(k),u.flags|=1,dn(o,u,y,f),u.child;case 14:return y=u.type,k=Ca(y,u.pendingProps),k=Ca(y.type,k),IS(o,u,y,k,f);case 15:return OS(o,u,u.type,u.pendingProps,f);case 17:return y=u.type,k=u.pendingProps,k=u.elementType===y?k:Ca(y,k),qf(o,u),u.tag=1,jn(y)?(o=!0,Nf(u)):o=!1,Ql(u,f),jS(u,y,k),ay(u,y,k,f),ly(null,u,y,!0,o,f);case 19:return BS(o,u,f);case 22:return RS(o,u,f)}throw Error(r(156,u.tag))};function dE(o,u){return er(o,u)}function X$(o,u,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(o,u,f,y){return new X$(o,u,f,y)}function Ty(o){return o=o.prototype,!(!o||!o.isReactComponent)}function J$(o){if(typeof o=="function")return Ty(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===ae)return 14}return 2}function Cs(o,u){var f=o.alternate;return f===null?(f=da(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function ep(o,u,f,y,k,T){var V=2;if(y=o,typeof o=="function")Ty(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case P:return Do(f.children,k,T,u);case O:V=8,k|=8;break;case L:return o=da(12,f,u,k|2),o.elementType=L,o.lanes=T,o;case $:return o=da(13,f,u,k),o.elementType=$,o.lanes=T,o;case re:return o=da(19,f,u,k),o.elementType=re,o.lanes=T,o;case te:return tp(f,k,T,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:V=10;break e;case D:V=9;break e;case F:V=11;break e;case ae:V=14;break e;case Z:V=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=da(V,f,u,k),u.elementType=o,u.type=y,u.lanes=T,u}function Do(o,u,f,y){return o=da(7,o,y,u),o.lanes=f,o}function tp(o,u,f,y){return o=da(22,o,y,u),o.elementType=te,o.lanes=f,o.stateNode={isHidden:!1},o}function Ay(o,u,f){return o=da(6,o,null,u),o.lanes=f,o}function Cy(o,u,f){return u=da(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function Z$(o,u,f,y,k){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ds(0),this.expirationTimes=ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Py(o,u,f,y,k,T,V,H,Y){return o=new Z$(o,u,f,H,Y),u===1?(u=1,T===!0&&(u|=8)):u=0,T=da(3,null,null,u),o.current=T,T.stateNode=o,T.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},zg(T),o}function e5(o,u,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:y==null?null:""+y,children:o,containerInfo:u,implementation:f}}function hE(o){if(!o)return ws;o=o._reactInternals;e:{if(it(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(jn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(jn(f))return VN(o,f,u)}return u}function fE(o,u,f,y,k,T,V,H,Y){return o=Py(f,y,!0,o,k,T,V,H,Y),o.context=hE(null),f=o.current,y=hn(),k=Ts(f),T=Di(y,k),T.callback=u??null,js(f,T,k),o.current.lanes=k,hs(o,k,y),En(o,y),o}function rp(o,u,f,y){var k=u.current,T=hn(),V=Ts(k);return f=hE(f),u.context===null?u.context=f:u.pendingContext=f,u=Di(T,V),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=js(k,u,V),o!==null&&(Oa(o,k,V,T),Of(o,k,V)),V}function np(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function pE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Iy(o,u){pE(o,u),(o=o.alternate)&&pE(o,u)}function t5(){return null}var mE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Oy(o){this._internalRoot=o}ap.prototype.render=Oy.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));rp(o,u,null,null)},ap.prototype.unmount=Oy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Io(function(){rp(null,o,null,null)}),u[Ci]=null}};function ap(o){this._internalRoot=o}ap.prototype.unstable_scheduleHydration=function(o){if(o){var u=nf();o={blockedOn:null,target:o,priority:u};for(var f=0;f<Ha.length&&u!==0&&u<Ha[f].priority;f++);Ha.splice(f,0,o),f===0&&of(o)}};function Ry(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ip(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function gE(){}function r5(o,u,f,y,k){if(k){if(typeof y=="function"){var T=y;y=function(){var ce=np(V);T.call(ce)}}var V=fE(u,y,o,0,null,!1,!1,"",gE);return o._reactRootContainer=V,o[Ci]=V.current,Au(o.nodeType===8?o.parentNode:o),Io(),V}for(;k=o.lastChild;)o.removeChild(k);if(typeof y=="function"){var H=y;y=function(){var ce=np(Y);H.call(ce)}}var Y=Py(o,0,!1,null,null,!1,!1,"",gE);return o._reactRootContainer=Y,o[Ci]=Y.current,Au(o.nodeType===8?o.parentNode:o),Io(function(){rp(u,Y,f,y)}),Y}function sp(o,u,f,y,k){var T=f._reactRootContainer;if(T){var V=T;if(typeof k=="function"){var H=k;k=function(){var Y=np(V);H.call(Y)}}rp(u,V,o,k)}else V=r5(f,u,o,k,y);return np(V)}tf=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var f=us(u.pendingLanes);f!==0&&(fs(u,f|1),En(u,At()),(ht&6)===0&&(tc=At()+500,_s()))}break;case 13:Io(function(){var y=Ri(o,1);if(y!==null){var k=hn();Oa(y,o,1,k)}}),Iy(o,1)}},Sl=function(o){if(o.tag===13){var u=Ri(o,134217728);if(u!==null){var f=hn();Oa(u,o,134217728,f)}Iy(o,134217728)}},rf=function(o){if(o.tag===13){var u=Ts(o),f=Ri(o,u);if(f!==null){var y=hn();Oa(f,o,u,y)}Iy(o,u)}},nf=function(){return ot},af=function(o,u){var f=ot;try{return ot=o,u()}finally{ot=f}},Zn=function(o,u,f){switch(u){case"input":if(Zt(o,f),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var y=f[u];if(y!==o&&y.form===o.form){var k=kf(y);if(!k)throw Error(r(90));q(y),Zt(y,k)}}}break;case"textarea":lr(o,f);break;case"select":u=f.value,u!=null&&Dt(o,!!f.multiple,u,!1)}},_i=Ny,po=Io;var n5={usingClientEntryPoint:!1,Events:[Iu,Ul,kf,ta,fo,Ny]},Hu={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a5={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Et(o),o===null?null:o.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||t5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{yo=op.inject(a5),Ln=op}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5,Tn.createPortal=function(o,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(u))throw Error(r(200));return e5(o,u,null,f)},Tn.createRoot=function(o,u){if(!Ry(o))throw Error(r(299));var f=!1,y="",k=mE;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=Py(o,1,!1,null,null,f,!1,y,k),o[Ci]=u.current,Au(o.nodeType===8?o.parentNode:o),new Oy(u)},Tn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Et(u),o=o===null?null:o.stateNode,o},Tn.flushSync=function(o){return Io(o)},Tn.hydrate=function(o,u,f){if(!ip(u))throw Error(r(200));return sp(null,o,u,!0,f)},Tn.hydrateRoot=function(o,u,f){if(!Ry(o))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,k=!1,T="",V=mE;if(f!=null&&(f.unstable_strictMode===!0&&(k=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),u=fE(u,null,o,1,f??null,k,!1,T,V),o[Ci]=u.current,Au(o),y)for(o=0;o<y.length;o++)f=y[o],k=f._getVersion,k=k(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,k]:u.mutableSourceEagerHydrationData.push(f,k);return new ap(u)},Tn.render=function(o,u,f){if(!ip(u))throw Error(r(200));return sp(null,o,u,!1,f)},Tn.unmountComponentAtNode=function(o){if(!ip(o))throw Error(r(40));return o._reactRootContainer?(Io(function(){sp(null,null,o,!1,function(){o._reactRootContainer=null,o[Ci]=null})}),!0):!1},Tn.unstable_batchedUpdates=Ny,Tn.unstable_renderSubtreeIntoContainer=function(o,u,f,y){if(!ip(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return sp(o,u,f,!1,y)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var jE;function h5(){if(jE)return Ly.exports;jE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ly.exports=d5(),Ly.exports}var NE;function f5(){if(NE)return cp;NE=1;var t=h5();return cp.createRoot=t.createRoot,cp.hydrateRoot=t.hydrateRoot,cp}var p5=f5();const m5=xt(p5);var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},g5=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[r++];e[n++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[r++],l=t[r++],c=t[r++],d=((a&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],l=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(s&63)<<6|l&63)}}return e.join("")},GR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const s=t[a],l=a+1<t.length,c=l?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|h>>6,x=h&63;d||(x=64,l||(v=64)),n.push(r[p],r[m],r[v],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const s=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const m=a<t.length?r[t.charAt(a)]:64;if(++a,s==null||c==null||h==null||m==null)throw new y5;const v=s<<2|c>>4;if(n.push(v),h!==64){const x=c<<4&240|h>>2;if(n.push(x),m!==64){const _=h<<6&192|m;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v5=function(t){const e=HR(t);return GR.encodeByteArray(e,!0)},qp=function(t){return v5(t).replace(/\./g,"")},KR=function(t){try{return GR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=()=>x5().__FIREBASE_DEFAULTS__,w5=()=>{if(typeof process>"u"||typeof SE>"u")return;const t=SE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KR(t[1]);return e&&JSON.parse(e)},a0=()=>{try{return b5()||w5()||_5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YR=t=>{var e,r;return(r=(e=a0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},QR=t=>{const e=YR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},XR=()=>{var t;return(t=a0())===null||t===void 0?void 0:t.config},JR=t=>{var e;return(e=a0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qp(JSON.stringify(r)),qp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function N5(){var t;const e=(t=a0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A5(){const t=nn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C5(){return!N5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P5(){try{return typeof indexedDB=="object"}catch{return!1}}function I5(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var s;e(((s=a.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="FirebaseError";class mi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=O5,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,s=this.errors[e],l=s?R5(s,n):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new mi(a,c,n)}}function R5(t,e){return t.replace(D5,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const D5=/\{\$([^}]+)}/g;function M5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const s=t[a],l=e[a];if(EE(s)&&EE(l)){if(!zp(s,l))return!1}else if(s!==l)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function id(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,s]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function sd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function L5(t,e){const r=new $5(t,e);return r.subscribe.bind(r)}class $5{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");F5(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=Vy),a.error===void 0&&(a.error=Vy),a.complete===void 0&&(a.complete=Vy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F5(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class Js{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new k5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),a=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U5(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:a});n.resolve(s)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&l.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:B5(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B5(t){return t===Fo?void 0:t}function U5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new V5(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const z5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},W5=lt.INFO,H5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},G5=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=H5[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J1{constructor(e){this.name=e,this._logLevel=W5,this._logHandler=G5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const K5=(t,e)=>e.some(r=>t instanceof r);let TE,AE;function Y5(){return TE||(TE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q5(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eD=new WeakMap,n_=new WeakMap,tD=new WeakMap,By=new WeakMap,Z1=new WeakMap;function X5(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{r(Ws(t.result)),a()},l=()=>{n(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&eD.set(r,t)}).catch(()=>{}),Z1.set(e,t),e}function J5(t){if(n_.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{r(),a()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});n_.set(t,e)}let a_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return n_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ws(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z5(t){a_=t(a_)}function eF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Uy(this),e,...r);return tD.set(n,e.sort?e.sort():[e]),Ws(n)}:Q5().includes(t)?function(...e){return t.apply(Uy(this),e),Ws(eD.get(this))}:function(...e){return Ws(t.apply(Uy(this),e))}}function tF(t){return typeof t=="function"?eF(t):(t instanceof IDBTransaction&&J5(t),K5(t,Y5())?new Proxy(t,a_):t)}function Ws(t){if(t instanceof IDBRequest)return X5(t);if(By.has(t))return By.get(t);const e=tF(t);return e!==t&&(By.set(t,e),Z1.set(e,t)),e}const Uy=t=>Z1.get(t);function rF(t,e,{blocked:r,upgrade:n,blocking:a,terminated:s}={}){const l=indexedDB.open(t,e),c=Ws(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ws(l.result),d.oldVersion,d.newVersion,Ws(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const nF=["get","getKey","getAll","getAllKeys","count"],aF=["put","add","delete","clear"],qy=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=aF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||nF.includes(r)))return;const s=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&d.done]))[0]};return qy.set(e,s),s}Z5(t=>({...t,get:(e,r,n)=>CE(e,r)||t.get(e,r,n),has:(e,r)=>!!CE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function sF(t){const e=t.getComponent();return e?.type==="VERSION"}const i_="@firebase/app",PE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new J1("@firebase/app"),oF="@firebase/app-compat",lF="@firebase/analytics-compat",cF="@firebase/analytics",uF="@firebase/app-check-compat",dF="@firebase/app-check",hF="@firebase/auth",fF="@firebase/auth-compat",pF="@firebase/database",mF="@firebase/data-connect",gF="@firebase/database-compat",yF="@firebase/functions",vF="@firebase/functions-compat",xF="@firebase/installations",bF="@firebase/installations-compat",wF="@firebase/messaging",_F="@firebase/messaging-compat",kF="@firebase/performance",jF="@firebase/performance-compat",NF="@firebase/remote-config",SF="@firebase/remote-config-compat",EF="@firebase/storage",TF="@firebase/storage-compat",AF="@firebase/firestore",CF="@firebase/vertexai-preview",PF="@firebase/firestore-compat",IF="firebase",OF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="[DEFAULT]",RF={[i_]:"fire-core",[oF]:"fire-core-compat",[cF]:"fire-analytics",[lF]:"fire-analytics-compat",[dF]:"fire-app-check",[uF]:"fire-app-check-compat",[hF]:"fire-auth",[fF]:"fire-auth-compat",[pF]:"fire-rtdb",[mF]:"fire-data-connect",[gF]:"fire-rtdb-compat",[yF]:"fire-fn",[vF]:"fire-fn-compat",[xF]:"fire-iid",[bF]:"fire-iid-compat",[wF]:"fire-fcm",[_F]:"fire-fcm-compat",[kF]:"fire-perf",[jF]:"fire-perf-compat",[NF]:"fire-rc",[SF]:"fire-rc-compat",[EF]:"fire-gcs",[TF]:"fire-gcs-compat",[AF]:"fire-fst",[PF]:"fire-fst-compat",[CF]:"fire-vertex","fire-js":"fire-js",[IF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map,DF=new Map,o_=new Map;function IE(t,e){try{t.container.addComponent(e)}catch(r){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function tl(t){const e=t.name;if(o_.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;o_.set(e,t);for(const r of Wp.values())IE(r,t);for(const r of DF.values())IE(r,t);return!0}function i0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new _h("app","Firebase",MF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=OF;function rD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:s_,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Hs.create("bad-app-name",{appName:String(a)});if(r||(r=XR()),!r)throw Hs.create("no-options");const s=Wp.get(a);if(s){if(zp(r,s.options)&&zp(n,s.config))return s;throw Hs.create("duplicate-app",{appName:a})}const l=new q5(a);for(const d of o_.values())l.addComponent(d);const c=new LF(r,n,l);return Wp.set(a,c),c}function ek(t=s_){const e=Wp.get(t);if(!e&&t===s_&&XR())return rD();if(!e)throw Hs.create("no-app",{appName:t});return e}function ai(t,e,r){var n;let a=(n=RF[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(c.join(" "));return}tl(new Js(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebase-heartbeat-database",FF=1,Ed="firebase-heartbeat-store";let zy=null;function nD(){return zy||(zy=rF($F,FF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),zy}async function VF(t){try{const r=(await nD()).transaction(Ed),n=await r.objectStore(Ed).get(aD(t));return await r.done,n}catch(e){if(e instanceof mi)Yi.warn(e.message);else{const r=Hs.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(r.message)}}}async function OE(t,e){try{const n=(await nD()).transaction(Ed,"readwrite");await n.objectStore(Ed).put(e,aD(t)),await n.done}catch(r){if(r instanceof mi)Yi.warn(r.message);else{const n=Hs.create("idb-set",{originalErrorMessage:r?.message});Yi.warn(n.message)}}}function aD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=1024,UF=30*24*60*60*1e3;class qF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new WF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=UF}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Yi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=RE(),{heartbeatsToSend:n,unsentEntries:a}=zF(this._heartbeatsCache.heartbeats),s=qp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Yi.warn(r),""}}}function RE(){return new Date().toISOString().substring(0,10)}function zF(t,e=BF){const r=[];let n=t.slice();for(const a of t){const s=r.find(l=>l.agent===a.agent);if(s){if(s.dates.push(a.date),DE(r)>e){s.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),DE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class WF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P5()?I5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await VF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function DE(t){return qp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){tl(new Js("platform-logger",e=>new iF(e),"PRIVATE")),tl(new Js("heartbeat",e=>new qF(e),"PRIVATE")),ai(i_,PE,t),ai(i_,PE,"esm2017"),ai("fire-js","")}HF("");var GF="firebase",KF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(GF,KF,"app");function tk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function iD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YF=iD,sD=new _h("auth","Firebase",iD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new J1("@firebase/auth");function QF(t,...e){Hp.logLevel<=lt.WARN&&Hp.warn(`Auth (${pl}): ${t}`,...e)}function Pp(t,...e){Hp.logLevel<=lt.ERROR&&Hp.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,...e){throw rk(t,...e)}function ii(t,...e){return rk(t,...e)}function oD(t,e,r){const n=Object.assign(Object.assign({},YF()),{[e]:r});return new _h("auth","Firebase",n).create(e,{appName:t.name})}function Hi(t){return oD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return sD.create(t,...e)}function Ke(t,e,...r){if(!t)throw rk(e,...r)}function Vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function Qi(t,e){t||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function XF(){return ME()==="http:"||ME()==="https:"}function ME(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XF()||E5()||"connection"in navigator)?navigator.onLine:!0}function ZF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qi(r>e,"Short delay should be less than long delay!"),this.isMobile=j5()||T5()}get(){return JF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e){Qi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new jh(3e4,6e4);function ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function no(t,e,r,n,a={}){return cD(t,a,async()=>{let s={},l={};n&&(e==="GET"?l=n:s={body:JSON.stringify(n)});const c=kh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},s);return S5()||(h.referrerPolicy="no-referrer"),lD.fetch()(uD(t,t.config.apiHost,r,c),h)})}async function cD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},eV),e);try{const a=new nV(t),s=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw up(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw up(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw up(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw up(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw oD(t,p,h);Va(t,p)}}catch(a){if(a instanceof mi)throw a;Va(t,"network-request-failed",{message:String(a)})}}async function Nh(t,e,r,n,a={}){const s=await no(t,e,r,n,a);return"mfaPendingCredential"in s&&Va(t,"multi-factor-auth-required",{_serverResponse:s}),s}function uD(t,e,r,n){const a=`${e}${r}?${n}`;return t.config.emulator?nk(t.config,a):`${t.config.apiScheme}://${a}`}function rV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ii(this.auth,"network-request-failed")),tV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function up(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=ii(t,e,n);return a.customData._tokenResponse=r,a}function LE(t){return t!==void 0&&t.enterprise!==void 0}class aV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return rV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function iV(t,e){return no(t,"GET","/v2/recaptchaConfig",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return no(t,"POST","/v1/accounts:delete",e)}async function dD(t,e){return no(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oV(t,e=!1){const r=Vt(t),n=await r.getIdToken(e),a=ak(n);Ke(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,l=s?.sign_in_provider;return{claims:a,token:n,authTime:md(Wy(a.auth_time)),issuedAtTime:md(Wy(a.iat)),expirationTime:md(Wy(a.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Wy(t){return Number(t)*1e3}function ak(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const a=KR(r);return a?JSON.parse(a):(Pp("Failed to decode base64 JWT payload"),null)}catch(a){return Pp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function $E(t){const e=ak(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof mi&&lV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function lV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=md(this.lastLoginAt),this.creationTime=md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t){var e;const r=t.auth,n=await t.getIdToken(),a=await Td(t,dD(r,{idToken:n}));Ke(a?.users.length,r,"internal-error");const s=a.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hD(s.providerUserInfo):[],c=dV(t.providerData,l),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!c?.length,p=d?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new c_(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function uV(t){const e=Vt(t);await Gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dV(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function hD(t){return t.map(e=>{var{providerId:r}=e,n=tk(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){const r=await cD(t,{},async()=>{const n=kh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,l=uD(t,a,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lD.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function fV(t,e){return no(t,"POST","/v2/accounts:revokeToken",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=$E(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:s}=await hV(e,r);this.updateTokensAndExpiration(n,a,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:s}=r,l=new gc;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),a&&(Ke(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),s&&(Ke(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,s=tk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Td(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return oV(this,e)}reload(){return uV(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Gp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Td(this,sV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,s,l,c,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(a=r.email)!==null&&a!==void 0?a:void 0,x=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(c=r.tenantId)!==null&&c!==void 0?c:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,S=(h=r.createdAt)!==null&&h!==void 0?h:void 0,j=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:I,isAnonymous:N,providerData:C,stsTokenManager:P}=r;Ke(A&&P,e,"internal-error");const O=gc.fromJSON(this.name,P);Ke(typeof A=="string",e,"internal-error"),Is(m,e.name),Is(v,e.name),Ke(typeof I=="boolean",e,"internal-error"),Ke(typeof N=="boolean",e,"internal-error"),Is(x,e.name),Is(_,e.name),Is(w,e.name),Is(b,e.name),Is(S,e.name),Is(j,e.name);const L=new Bi({uid:A,auth:e,email:v,emailVerified:I,displayName:m,isAnonymous:N,photoURL:_,phoneNumber:x,tenantId:w,stsTokenManager:O,createdAt:S,lastLoginAt:j});return C&&Array.isArray(C)&&(L.providerData=C.map(R=>Object.assign({},R))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const a=new gc;a.updateFromServerResponse(r);const s=new Bi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Gp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Ke(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?hD(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!s?.length,c=new gc;c.updateFromIdToken(n);const d=new Bi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new c_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;function Ui(t){Qi(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(Qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}fD.type="NONE";const VE=fD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e,r){return`firebase:${t}:${e}:${r}`}class yc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:s}=this.auth;this.fullUserKey=Ip(this.userKey,a.apiKey,s),this.fullPersistenceKey=Ip("persistence",a.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new yc(Ui(VE),e,n);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=a[0]||Ui(VE);const l=Ip(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(l);if(p){const m=Bi._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new yc(s,e,n):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new yc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xD(e))return"Blackberry";if(bD(e))return"Webos";if(mD(e))return"Safari";if((e.includes("chrome/")||gD(e))&&!e.includes("edge/"))return"Chrome";if(vD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function pD(t=nn()){return/firefox\//i.test(t)}function mD(t=nn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gD(t=nn()){return/crios\//i.test(t)}function yD(t=nn()){return/iemobile/i.test(t)}function vD(t=nn()){return/android/i.test(t)}function xD(t=nn()){return/blackberry/i.test(t)}function bD(t=nn()){return/webos/i.test(t)}function ik(t=nn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pV(t=nn()){var e;return ik(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mV(){return A5()&&document.documentMode===10}function wD(t=nn()){return ik(t)||vD(t)||bD(t)||xD(t)||/windows phone/i.test(t)||yD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e=[]){let r;switch(t){case"Browser":r=BE(nn());break;case"Worker":r=`${BE(nn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${pl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e={}){return no(t,"GET","/v2/passwordPolicy",ro(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=6;class xV{constructor(e){var r,n,a,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:vV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,s,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new gV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ui(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await yc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dD(this,{idToken:e}),n=await Bi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(a=d.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Gp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Hi(this));const r=e?Vt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yV(this),r=new xV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await fV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ui(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[Ui(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,a);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_D(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&QF(`Error while retrieving App Check token: ${r.error}`),r?.token}}function ml(t){return Vt(t)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=L5(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wV(t){s0=t}function kD(t){return s0.loadJS(t)}function _V(){return s0.recaptchaEnterpriseScript}function kV(){return s0.gapiScript}function jV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NV="recaptcha-enterprise",SV="NO_RECAPTCHA";class EV{constructor(e){this.type=NV,this.auth=ml(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{iV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new aV(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function a(s,l,c){const d=window.grecaptcha;LE(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(SV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,l)=>{n(this.auth).then(c=>{if(!r&&LE(window.grecaptcha))a(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=_V();d.length!==0&&(d+=c),kD(d).then(()=>{a(c,s,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function qE(t,e,r,n=!1){const a=new EV(t);let s;try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function u_(t,e,r,n){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qE(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await qE(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){const r=i0(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),s=r.getOptions();if(zp(s,e??{}))return a;Va(a,"already-initialized")}return r.initialize({options:e})}function AV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function CV(t,e,r){const n=ml(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,s=jD(e),{host:l,port:c}=PV(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})}),IV()}function jD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PV(t){const e=jD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const s=a[1];return{host:s,port:zE(n.substr(s.length+1))}}else{const[s,l]=n.split(":");return{host:s,port:zE(l)}}}function zE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,r){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function OV(t,e){return no(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return Nh(t,"POST","/v1/accounts:signInWithPassword",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return Nh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}async function MV(t,e){return Nh(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends sk{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Ad(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Ad(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,r,"signInWithPassword",RV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:Va(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,n,"signUpPassword",OV);case"emailLink":return MV(e,{idToken:r,email:this._email,oobCode:this._password});default:Va(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t,e){return Nh(t,"POST","/v1/accounts:signInWithIdp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="http://localhost";class rl extends sk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Va("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,s=tk(r,["providerId","signInMethod"]);if(!n||!a)return null;const l=new rl(n,a);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return vc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,vc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,vc(e,r)}buildRequest(){const e={requestUri:LV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=kh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FV(t){const e=id(sd(t)).link,r=e?id(sd(e)).deep_link_id:null,n=id(sd(t)).deep_link_id;return(n?id(sd(n)).link:null)||n||r||e||t}class ok{constructor(e){var r,n,a,s,l,c;const d=id(sd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=$V((a=d.mode)!==null&&a!==void 0?a:null);Ke(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=FV(e);try{return new ok(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.providerId=nu.PROVIDER_ID}static credential(e,r){return Ad._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=ok.parseLink(r);return Ke(n,"argument-error"),Ad._fromEmailAndCode(e,n.code,n.tenantId)}}nu.PROVIDER_ID="password";nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ND{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Sh{constructor(){super("facebook.com")}static credential(e){return rl._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return rl._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ls.credential(r,n)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Sh{constructor(){super("github.com")}static credential(e){return rl._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Sh{constructor(){super("twitter.com")}static credential(e,r){return rl._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Fs.credential(r,n)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return Nh(t,"POST","/v1/accounts:signUp",ro(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const s=await Bi._fromIdTokenResponse(e,n,a),l=WE(n);return new nl({user:s,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=WE(n);return new nl({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function WE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends mi{constructor(e,r,n,a){var s;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new Kp(e,r,n,a)}}function SD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(t,s,e,n):s})}async function BV(t,e,r=!1){const n=await Td(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return nl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e,r=!1){const{auth:n}=t;if(ti(n.app))return Promise.reject(Hi(n));const a="reauthenticate";try{const s=await Td(t,SD(n,a,e,t),r);Ke(s.idToken,n,"internal-error");const l=ak(s.idToken);Ke(l,n,"internal-error");const{sub:c}=l;return Ke(t.uid===c,n,"user-mismatch"),nl._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&Va(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e,r=!1){if(ti(t.app))return Promise.reject(Hi(t));const n="signIn",a=await SD(t,n,e),s=await nl._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(s.user),s}async function qV(t,e){return ED(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zV(t,e,r){if(ti(t.app))return Promise.reject(Hi(t));const n=ml(t),l=await u_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&TD(t),d}),c=await nl._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function WV(t,e,r){return ti(t.app)?Promise.reject(Hi(t)):qV(Vt(t),nu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&TD(t),n})}function HV(t,e,r,n){return Vt(t).onIdTokenChanged(e,r,n)}function GV(t,e,r){return Vt(t).beforeAuthStateChanged(e,r)}function KV(t,e,r,n){return Vt(t).onAuthStateChanged(e,r,n)}function YV(t){return Vt(t).signOut()}const Yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yp,"1"),this.storage.removeItem(Yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=1e3,XV=10;class CD extends AD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},s=this.storage.getItem(n);mV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,XV):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},QV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}CD.type="LOCAL";const JV=CD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD extends AD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}PD.type="SESSION";const ID=PD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new o0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:s}=r.data,l=this.handlersMap[a];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(l).map(async h=>h(r.origin,s)),d=await ZV(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}o0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const h=lk("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:a,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function t9(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function r9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a9(){return OD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="firebaseLocalStorageDb",i9=1,Qp="firebaseLocalStorage",DD="fbase_key";class Eh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function l0(t,e){return t.transaction([Qp],e?"readwrite":"readonly").objectStore(Qp)}function s9(){const t=indexedDB.deleteDatabase(RD);return new Eh(t).toPromise()}function d_(){const t=indexedDB.open(RD,i9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Qp,{keyPath:DD})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Qp)?e(n):(n.close(),await s9(),e(await d_()))})})}async function HE(t,e,r){const n=l0(t,!0).put({[DD]:e,value:r});return new Eh(n).toPromise()}async function o9(t,e){const r=l0(t,!1).get(e),n=await new Eh(r).toPromise();return n===void 0?null:n.value}function GE(t,e){const r=l0(t,!0).delete(e);return new Eh(r).toPromise()}const l9=800,c9=3;class MD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await d_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>c9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=o0._getInstance(a9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await r9(),!this.activeServiceWorker)return;this.sender=new e9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await d_();return await HE(e,Yp,"1"),await GE(e,Yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>HE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>o9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>GE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=l0(a,!1).getAll();return new Eh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MD.type="LOCAL";const u9=MD;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e){return e?Ui(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends sk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return vc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function h9(t){return ED(t.auth,new ck(t),t.bypassAuthState)}function f9(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),UV(r,new ck(t),t.bypassAuthState)}async function p9(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),BV(r,new ck(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,r,n,a,s=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h9;case"linkViaPopup":case"linkViaRedirect":return p9;case"reauthViaPopup":case"reauthViaRedirect":return f9;default:Va(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new jh(2e3,1e4);class cc extends LD{constructor(e,r,n,a,s){super(e,r,a,s),this.provider=n,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=lk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m9.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="pendingRedirect",Op=new Map;class y9 extends LD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const n=await v9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v9(t,e){const r=w9(e),n=b9(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function x9(t,e){Op.set(t._key(),e)}function b9(t){return Ui(t._redirectPersistence)}function w9(t){return Ip(g9,t.config.apiKey,t.name)}async function _9(t,e,r=!1){if(ti(t.app))return Promise.reject(Hi(t));const n=ml(t),a=d9(n,e),l=await new y9(n,a,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=10*60*1e3;class j9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!$D(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ii(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k9&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $D({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function N9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $D(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return no(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const r of e)try{if(C9(r))return}catch{}Va(t,"unauthorized-domain")}function C9(t){const e=l_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!T9.test(r))return!1;if(E9.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new jh(3e4,6e4);function YE(){const t=si().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function I9(t){return new Promise((e,r)=>{var n,a,s;function l(){YE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YE(),r(ii(t,"network-request-failed"))},timeout:P9.get()})}if(!((a=(n=si().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((s=si().gapi)===null||s===void 0)&&s.load)l();else{const c=jV("iframefcb");return si()[c]=()=>{gapi.load?l():r(ii(t,"network-request-failed"))},kD(`${kV()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Rp=null,e})}let Rp=null;function O9(t){return Rp=Rp||I9(t),Rp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new jh(5e3,15e3),D9="__/auth/iframe",M9="emulator/auth/iframe",L9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F9(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?nk(e,M9):`https://${t.config.authDomain}/${D9}`,n={apiKey:e.apiKey,appName:t.name,v:pl},a=$9.get(t.config.apiHost);a&&(n.eid=a);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${kh(n).slice(1)}`}async function V9(t){const e=await O9(t),r=si().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:F9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L9,dontclear:!0},n=>new Promise(async(a,s)=>{await n.restyle({setHideOnLeave:!1});const l=ii(t,"network-request-failed"),c=si().setTimeout(()=>{s(l)},R9.get());function d(){si().clearTimeout(c),a(n)}n.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U9=500,q9=600,z9="_blank",W9="http://localhost";class QE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H9(t,e,r,n=U9,a=q9){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},B9),{width:n.toString(),height:a.toString(),top:s,left:l}),h=nn().toLowerCase();r&&(c=gD(h)?z9:r),pD(h)&&(e=e||W9,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[x,_])=>`${v}${x}=${_},`,"");if(pV(h)&&c!=="_self")return G9(e||"",c),new QE(null);const m=window.open(e||"",c,p);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new QE(m)}function G9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="__/auth/handler",Y9="emulator/auth/handler",Q9=encodeURIComponent("fac");async function XE(t,e,r,n,a,s){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:pl,eventId:a};if(e instanceof ND){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",M5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Sh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${Q9}=${encodeURIComponent(d)}`:"";return`${X9(t)}?${kh(c).slice(1)}${h}`}function X9({config:t}){return t.emulator?nk(t,Y9):`https://${t.authDomain}/${K9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="webStorageSupport";class J9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ID,this._completeRedirectFn=_9,this._overrideRedirectResult=x9}async _openPopup(e,r,n,a){var s;Qi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await XE(e,r,n,l_(),a);return H9(e,l,lk())}async _openRedirect(e,r,n,a){await this._originValidation(e);const s=await XE(e,r,n,l_(),a);return t9(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:s}=this.eventManagers[r];return a?Promise.resolve(a):(Qi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await V9(e),n=new j9(e);return r.register("authEvent",a=>(Ke(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Hy,{type:Hy},a=>{var s;const l=(s=a?.[0])===null||s===void 0?void 0:s[Hy];l!==void 0&&r(!!l),Va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=A9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return wD()||mD()||ik()}}const Z9=J9;var JE="@firebase/auth",ZE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){tl(new Js("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_D(t)},h=new bV(n,a,s,d);return AV(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),tl(new Js("auth-internal",e=>{const r=ml(e.getProvider("auth").getImmediate());return(n=>new eB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ai(JE,ZE,tB(t)),ai(JE,ZE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=5*60,aB=JR("authIdTokenMaxAge")||nB;let eT=null;const iB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>aB)return;const a=r?.token;eT!==a&&(eT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FD(t=ek()){const e=i0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=TV(t,{popupRedirectResolver:Z9,persistence:[u9,JV,ID]}),n=JR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const l=iB(s.toString());GV(r,l,()=>l(r.currentUser)),HV(r,c=>l(c))}}const a=YR("auth");return a&&CV(r,`http://${a}`),r}function sB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const s=ii("internal-error");s.customData=a,r(s)},n.type="text/javascript",n.charset="UTF-8",sB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");var tT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qo,VD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function L(){}L.prototype=O.prototype,P.D=O.prototype,P.prototype=new L,P.prototype.constructor=P,P.C=function(R,D,F){for(var $=Array(arguments.length-2),re=2;re<arguments.length;re++)$[re-2]=arguments[re];return O.prototype[D].apply(R,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,O,L){L||(L=0);var R=Array(16);if(typeof O=="string")for(var D=0;16>D;++D)R[D]=O.charCodeAt(L++)|O.charCodeAt(L++)<<8|O.charCodeAt(L++)<<16|O.charCodeAt(L++)<<24;else for(D=0;16>D;++D)R[D]=O[L++]|O[L++]<<8|O[L++]<<16|O[L++]<<24;O=P.g[0],L=P.g[1],D=P.g[2];var F=P.g[3],$=O+(F^L&(D^F))+R[0]+3614090360&4294967295;O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+R[1]+3905402710&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+R[2]+606105819&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+R[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+R[4]+4118548399&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+R[5]+1200080426&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+R[6]+2821735955&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+R[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+R[8]+1770035416&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+R[9]+2336552879&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+R[10]+4294925233&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+R[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+R[12]+1804603682&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+R[13]+4254626195&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+R[14]+2792965006&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+R[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(D^F&(L^D))+R[1]+4129170786&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+R[6]+3225465664&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+R[11]+643717713&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+R[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+R[5]+3593408605&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+R[10]+38016083&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+R[15]+3634488961&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+R[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+R[9]+568446438&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+R[14]+3275163606&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+R[3]+4107603335&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+R[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+R[13]+2850285829&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+R[2]+4243563512&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+R[7]+1735328473&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+R[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(L^D^F)+R[5]+4294588738&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+R[8]+2272392833&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+R[11]+1839030562&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+R[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+R[1]+2763975236&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+R[4]+1272893353&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+R[7]+4139469664&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+R[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+R[13]+681279174&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+R[0]+3936430074&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+R[3]+3572445317&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+R[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+R[9]+3654602809&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+R[12]+3873151461&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+R[15]+530742520&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+R[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(D^(L|~F))+R[0]+4096336452&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+R[7]+1126891415&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+R[14]+2878612391&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+R[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+R[12]+1700485571&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+R[3]+2399980690&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+R[10]+4293915773&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+R[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+R[8]+1873313359&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+R[15]+4264355552&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+R[6]+2734768916&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+R[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+R[4]+4149444226&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+R[11]+3174756917&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+R[2]+718787259&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+F&4294967295}n.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var L=O-this.blockSize,R=this.B,D=this.h,F=0;F<O;){if(D==0)for(;F<=L;)a(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<O;)if(R[D++]=P.charCodeAt(F++),D==this.blockSize){a(this,R),D=0;break}}else for(;F<O;)if(R[D++]=P[F++],D==this.blockSize){a(this,R),D=0;break}}this.h=D,this.o+=O},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var L=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=L&255,L/=256;for(this.u(P),P=Array(16),O=L=0;4>O;++O)for(var R=0;32>R;R+=8)P[L++]=this.g[O]>>>R&255;return P};function s(P,O){var L=c;return Object.prototype.hasOwnProperty.call(L,P)?L[P]:L[P]=O(P)}function l(P,O){this.h=O;for(var L=[],R=!0,D=P.length-1;0<=D;D--){var F=P[D]|0;R&&F==O||(L[D]=F,R=!1)}this.g=L}var c={};function d(P){return-128<=P&&128>P?s(P,function(O){return new l([O|0],0>O?-1:0)}):new l([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return b(h(-P));for(var O=[],L=1,R=0;P>=L;R++)O[R]=P/L|0,L*=4294967296;return new l(O,0)}function p(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return b(p(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(O,8)),R=m,D=0;D<P.length;D+=8){var F=Math.min(8,P.length-D),$=parseInt(P.substring(D,D+F),O);8>F?(F=h(Math.pow(O,F)),R=R.j(F).add(h($))):(R=R.j(L),R=R.add(h($)))}return R}var m=d(0),v=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-b(this).m();for(var P=0,O=1,L=0;L<this.g.length;L++){var R=this.i(L);P+=(0<=R?R:4294967296+R)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(_(this))return"0";if(w(this))return"-"+b(this).toString(P);for(var O=h(Math.pow(P,6)),L=this,R="";;){var D=I(L,O).g;L=S(L,D.j(O));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(P);if(L=D,_(L))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function _(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function w(P){return P.h==-1}t.l=function(P){return P=S(this,P),w(P)?-1:_(P)?0:1};function b(P){for(var O=P.g.length,L=[],R=0;R<O;R++)L[R]=~P.g[R];return new l(L,~P.h).add(v)}t.abs=function(){return w(this)?b(this):this},t.add=function(P){for(var O=Math.max(this.g.length,P.g.length),L=[],R=0,D=0;D<=O;D++){var F=R+(this.i(D)&65535)+(P.i(D)&65535),$=(F>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);R=$>>>16,F&=65535,$&=65535,L[D]=$<<16|F}return new l(L,L[L.length-1]&-2147483648?-1:0)};function S(P,O){return P.add(b(O))}t.j=function(P){if(_(this)||_(P))return m;if(w(this))return w(P)?b(this).j(b(P)):b(b(this).j(P));if(w(P))return b(this.j(b(P)));if(0>this.l(x)&&0>P.l(x))return h(this.m()*P.m());for(var O=this.g.length+P.g.length,L=[],R=0;R<2*O;R++)L[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<P.g.length;D++){var F=this.i(R)>>>16,$=this.i(R)&65535,re=P.i(D)>>>16,ae=P.i(D)&65535;L[2*R+2*D]+=$*ae,j(L,2*R+2*D),L[2*R+2*D+1]+=F*ae,j(L,2*R+2*D+1),L[2*R+2*D+1]+=$*re,j(L,2*R+2*D+1),L[2*R+2*D+2]+=F*re,j(L,2*R+2*D+2)}for(R=0;R<O;R++)L[R]=L[2*R+1]<<16|L[2*R];for(R=O;R<2*O;R++)L[R]=0;return new l(L,0)};function j(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function A(P,O){this.g=P,this.h=O}function I(P,O){if(_(O))throw Error("division by zero");if(_(P))return new A(m,m);if(w(P))return O=I(b(P),O),new A(b(O.g),b(O.h));if(w(O))return O=I(P,b(O)),new A(b(O.g),O.h);if(30<P.g.length){if(w(P)||w(O))throw Error("slowDivide_ only works with positive integers.");for(var L=v,R=O;0>=R.l(P);)L=N(L),R=N(R);var D=C(L,1),F=C(R,1);for(R=C(R,2),L=C(L,2);!_(R);){var $=F.add(R);0>=$.l(P)&&(D=D.add(L),F=$),R=C(R,1),L=C(L,1)}return O=S(P,D.j(O)),new A(D,O)}for(D=m;0<=P.l(O);){for(L=Math.max(1,Math.floor(P.m()/O.m())),R=Math.ceil(Math.log(L)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=h(L),$=F.j(O);w($)||0<$.l(P);)L-=R,F=h(L),$=F.j(O);_(F)&&(F=v),D=D.add(F),P=S(P,$)}return new A(D,P)}t.A=function(P){return I(this,P).h},t.and=function(P){for(var O=Math.max(this.g.length,P.g.length),L=[],R=0;R<O;R++)L[R]=this.i(R)&P.i(R);return new l(L,this.h&P.h)},t.or=function(P){for(var O=Math.max(this.g.length,P.g.length),L=[],R=0;R<O;R++)L[R]=this.i(R)|P.i(R);return new l(L,this.h|P.h)},t.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),L=[],R=0;R<O;R++)L[R]=this.i(R)^P.i(R);return new l(L,this.h^P.h)};function N(P){for(var O=P.g.length+1,L=[],R=0;R<O;R++)L[R]=P.i(R)<<1|P.i(R-1)>>>31;return new l(L,P.h)}function C(P,O){var L=O>>5;O%=32;for(var R=P.g.length-L,D=[],F=0;F<R;F++)D[F]=0<O?P.i(F+L)>>>O|P.i(F+L+1)<<32-O:P.i(F+L);return new l(D,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,VD=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Qo=l}).apply(typeof tT<"u"?tT:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BD,od,UD,Dp,h_,qD,zD,WD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,E,M){return g==Array.prototype||g==Object.prototype||(g[E]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var E=0;E<g.length;++E){var M=g[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function a(g,E){if(E)e:{var M=n;g=g.split(".");for(var U=0;U<g.length-1;U++){var ie=g[U];if(!(ie in M))break e;M=M[ie]}g=g[g.length-1],U=M[g],E=E(U),E!=U&&E!=null&&e(M,g,{configurable:!0,writable:!0,value:E})}}function s(g,E){g instanceof String&&(g+="");var M=0,U=!1,ie={next:function(){if(!U&&M<g.length){var pe=M++;return{value:E(pe,g[pe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}a("Array.prototype.values",function(g){return g||function(){return s(this,function(E,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var E=typeof g;return E=E!="object"?E:g?Array.isArray(g)?"array":E:"null",E=="array"||E=="object"&&typeof g.length=="number"}function h(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function p(g,E,M){return g.call.apply(g.bind,arguments)}function m(g,E,M){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,U),g.apply(E,ie)}}return function(){return g.apply(E,arguments)}}function v(g,E,M){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,v.apply(null,arguments)}function x(g,E){var M=Array.prototype.slice.call(arguments,1);return function(){var U=M.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function _(g,E){function M(){}M.prototype=E.prototype,g.aa=E.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(U,ie,pe){for(var Ae=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Ae[bt-2]=arguments[bt];return E.prototype[ie].apply(U,Ae)}}function w(g){const E=g.length;if(0<E){const M=Array(E);for(let U=0;U<E;U++)M[U]=g[U];return M}return[]}function b(g,E){for(let M=1;M<arguments.length;M++){const U=arguments[M];if(d(U)){const ie=g.length||0,pe=U.length||0;g.length=ie+pe;for(let Ae=0;Ae<pe;Ae++)g[ie+Ae]=U[Ae]}else g.push(U)}}class S{constructor(E,M){this.i=E,this.j=M,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(g){return/^[\s\xa0]*$/.test(g)}function A(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function I(g){return I[" "](g),g}I[" "]=function(){};var N=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function C(g,E,M){for(const U in g)E.call(M,g[U],U,g)}function P(g,E){for(const M in g)E.call(void 0,g[M],M,g)}function O(g){const E={};for(const M in g)E[M]=g[M];return E}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(g,E){let M,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(M in U)g[M]=U[M];for(let pe=0;pe<L.length;pe++)M=L[pe],Object.prototype.hasOwnProperty.call(U,M)&&(g[M]=U[M])}}function D(g){var E=1;g=g.split(":");const M=[];for(;0<E&&g.length;)M.push(g.shift()),E--;return g.length&&M.push(g.join(":")),M}function F(g){c.setTimeout(()=>{throw g},0)}function $(){var g=K;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class re{constructor(){this.h=this.g=null}add(E,M){const U=ae.get();U.set(E,M),this.h?this.h.next=U:this.g=U,this.h=U}}var ae=new S(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(E,M){this.h=E,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let te,X=!1,K=new re,ne=()=>{const g=c.Promise.resolve(void 0);te=()=>{g.then(W)}};var W=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(M){F(M)}var E=ae;E.j(g),100>E.h&&(E.h++,g.next=E.g,E.g=g)}X=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};c.addEventListener("test",M,E),c.removeEventListener("test",M,E)}catch{}return g}();function ge(g,E){if(J.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget){if(N){e:{try{I(E.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(E=null)}}else M=="mouseover"?E=g.fromElement:M=="mouseout"&&(E=g.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:he[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ge.aa.h.call(this)}}_(ge,J);var he={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),be=0;function z(g,E,M,U,ie){this.listener=g,this.proxy=null,this.src=E,this.type=M,this.capture=!!U,this.ha=ie,this.key=++be,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,E,M,U,ie){var pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);var Ae=ue(g,E,U,ie);return-1<Ae?(E=g[Ae],M||(E.fa=!1)):(E=new z(E,this.src,pe,!!U,ie),E.fa=M,g.push(E)),E};function q(g,E){var M=E.type;if(M in g.g){var U=g.g[M],ie=Array.prototype.indexOf.call(U,E,void 0),pe;(pe=0<=ie)&&Array.prototype.splice.call(U,ie,1),pe&&(me(E),g.g[M].length==0&&(delete g.g[M],g.h--))}}function ue(g,E,M,U){for(var ie=0;ie<g.length;++ie){var pe=g[ie];if(!pe.da&&pe.listener==E&&pe.capture==!!M&&pe.ha==U)return ie}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ue(g,E,M,U,ie){if(Array.isArray(E)){for(var pe=0;pe<E.length;pe++)Ue(g,E[pe],M,U,ie);return null}return M=Rn(M),g&&g[de]?g.K(E,M,h(U)?!!U.capture:!1,ie):Zt(g,E,M,!1,U,ie)}function Zt(g,E,M,U,ie,pe){if(!E)throw Error("Invalid event type");var Ae=h(ie)?!!ie.capture:!!ie,bt=on(g);if(bt||(g[_e]=bt=new xe(g)),M=bt.add(E,M,U,Ae,pe),M.proxy)return M;if(U=mr(),M.proxy=U,U.src=g,U.listener=M,g.addEventListener)le||(ie=Ae),ie===void 0&&(ie=!1),g.addEventListener(E.toString(),U,ie);else if(g.attachEvent)g.attachEvent(Dt(E.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return M}function mr(){function g(M){return E.call(g.src,g.listener,M)}const E=Or;return g}function sn(g,E,M,U,ie){if(Array.isArray(E))for(var pe=0;pe<E.length;pe++)sn(g,E[pe],M,U,ie);else U=h(U)?!!U.capture:!!U,M=Rn(M),g&&g[de]?(g=g.i,E=String(E).toString(),E in g.g&&(pe=g.g[E],M=ue(pe,M,U,ie),-1<M&&(me(pe[M]),Array.prototype.splice.call(pe,M,1),pe.length==0&&(delete g.g[E],g.h--)))):g&&(g=on(g))&&(E=g.g[E.toString()],g=-1,E&&(g=ue(E,M,U,ie)),(M=-1<g?E[g]:null)&&Rt(M))}function Rt(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[de])q(E.i,g);else{var M=g.type,U=g.proxy;E.removeEventListener?E.removeEventListener(M,U,g.capture):E.detachEvent?E.detachEvent(Dt(M),U):E.addListener&&E.removeListener&&E.removeListener(U),(M=on(E))?(q(M,g),M.h==0&&(M.src=null,E[_e]=null)):me(g)}}}function Dt(g){return g in Ie?Ie[g]:Ie[g]="on"+g}function Or(g,E){if(g.da)g=!0;else{E=new ge(E,this);var M=g.listener,U=g.ha||g.src;g.fa&&Rt(g),g=M.call(U,E)}return g}function on(g){return g=g[_e],g instanceof xe?g:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rn(g){return typeof g=="function"?g:(g[lr]||(g[lr]=function(E){return g.handleEvent(E)}),g[lr])}function Ht(){Q.call(this),this.i=new xe(this),this.M=this,this.F=null}_(Ht,Q),Ht.prototype[de]=!0,Ht.prototype.removeEventListener=function(g,E,M,U){sn(this,g,E,M,U)};function Gt(g,E){var M,U=g.F;if(U)for(M=[];U;U=U.F)M.push(U);if(g=g.M,U=E.type||E,typeof E=="string")E=new J(E,g);else if(E instanceof J)E.target=E.target||g;else{var ie=E;E=new J(U,g),R(E,ie)}if(ie=!0,M)for(var pe=M.length-1;0<=pe;pe--){var Ae=E.g=M[pe];ie=Dn(Ae,U,!0,E)&&ie}if(Ae=E.g=g,ie=Dn(Ae,U,!0,E)&&ie,ie=Dn(Ae,U,!1,E)&&ie,M)for(pe=0;pe<M.length;pe++)Ae=E.g=M[pe],ie=Dn(Ae,U,!1,E)&&ie}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var g=this.i,E;for(E in g.g){for(var M=g.g[E],U=0;U<M.length;U++)me(M[U]);delete g.g[E],g.h--}}this.F=null},Ht.prototype.K=function(g,E,M,U){return this.i.add(String(g),E,!1,M,U)},Ht.prototype.L=function(g,E,M,U){return this.i.add(String(g),E,!0,M,U)};function Dn(g,E,M,U){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();for(var ie=!0,pe=0;pe<E.length;++pe){var Ae=E[pe];if(Ae&&!Ae.da&&Ae.capture==M){var bt=Ae.listener,yr=Ae.ha||Ae.src;Ae.fa&&q(g.i,Ae),ie=bt.call(yr,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function gt(g,E,M){if(typeof g=="function")M&&(g=v(g,M));else if(g&&typeof g.handleEvent=="function")g=v(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(g,E||0)}function qa(g){g.g=gt(()=>{g.g=null,g.i&&(g.i=!1,qa(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class xi extends Q{constructor(E,M){super(),this.m=E,this.l=M,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(g){Q.call(this),this.h=g,this.g={}}_(bi,Q);var xn=[];function uo(g){C(g.g,function(E,M){this.g.hasOwnProperty(M)&&Rt(E)},g),g.g={}}bi.prototype.N=function(){bi.aa.N.call(this),uo(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ho=c.JSON.stringify,wi=c.JSON.parse,Xn=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function za(){}za.prototype.h=null;function Jn(g){return g.h||(g.h=g.i())}function Zn(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ea(){J.call(this,"d")}_(ea,J);function ls(){J.call(this,"c")}_(ls,J);var ta={},fo=null;function _i(){return fo=fo||new Ht}ta.La="serverreachability";function po(g){J.call(this,ta.La,g)}_(po,J);function Bt(g){const E=_i();Gt(E,new po(E))}ta.STAT_EVENT="statevent";function mo(g,E){J.call(this,ta.STAT_EVENT,g),this.stat=E}_(mo,J);function Kt(g){const E=_i();Gt(E,new mo(E,g))}ta.Ma="timingevent";function gr(g,E){J.call(this,ta.Ma,g),this.size=E}_(gr,J);function ln(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},E)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function ji(g,E,M,U,ie,pe){g.info(function(){if(g.g)if(pe)for(var Ae="",bt=pe.split("&"),yr=0;yr<bt.length;yr++){var ct=bt[yr].split("=");if(1<ct.length){var Nr=ct[0];ct=ct[1];var cr=Nr.split("_");Ae=2<=cr.length&&cr[1]=="type"?Ae+(Nr+"="+ct+"&"):Ae+(Nr+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+E+`
`+M+`
`+Ae})}function fe(g,E,M,U,ie,pe,Ae){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+E+`
`+M+`
`+pe+" "+Ae})}function ve(g,E,M,U){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ce(g,M)+(U?" "+U:"")})}function Ve(g,E){g.info(function(){return"TIMEOUT: "+E})}ki.prototype.info=function(){};function Ce(g,E){if(!g.g)return E;if(!E)return null;try{var M=JSON.parse(E);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var U=M[g];if(!(2>U.length)){var ie=U[1];if(Array.isArray(ie)&&!(1>ie.length)){var pe=ie[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<ie.length;Ae++)ie[Ae]=""}}}}return ho(M)}catch{return E}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},St={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function dt(){}_(dt,za),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},it=new dt;function Ut(g,E,M,U){this.j=g,this.i=E,this.l=M,this.R=U||1,this.U=new bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Et={},Tt={};function er(g,E,M){g.L=1,g.v=fs($n(E)),g.m=M,g.P=!0,Mn(g,null)}function Mn(g,E){g.F=Date.now(),At(g),g.A=$n(g.v);var M=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),ms(M.i,"t",U),g.C=0,M=g.j.J,g.h=new rt,g.g=ff(g.j,M?E:null,!g.m),0<g.O&&(g.M=new xi(v(g.Y,g,g.g),g.O)),E=g.U,M=g.g,U=g.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(xn[0]=ie.toString()),ie=xn);for(var pe=0;pe<ie.length;pe++){var Ae=Ue(M,ie[pe],U||E.handleEvent,!1,E.h||E);if(!Ae)break;E.g[Ae.key]=Ae}E=g.H?O(g.H):{},g.m?(g.u||(g.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,E)):(g.u="GET",g.g.ea(g.A,g.u,null,E)),Bt(),ji(g.i,g.u,g.A,g.l,g.R,g.m)}Ut.prototype.ca=function(g){g=g.target;const E=this.M;E&&_n(g)==3?E.j():this.Y(g)},Ut.prototype.Y=function(g){try{if(g==this.g)e:{const cr=_n(this.g);var E=this.g.Ba();const ia=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||cr!=4||E==7||(E==8||0>=ia?Bt(3):Bt(2)),go(this);var M=this.g.Z();this.X=M;t:if(ra(this)){var U=bu(this.g);g="";var ie=U.length,pe=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),cs(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(E=0;E<ie;E++)this.h.h=!0,g+=this.h.i.decode(U[E],{stream:!(pe&&E==ie-1)});U.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=M==200,fe(this.i,this.u,this.A,this.l,this.R,cr,M),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,yr=this.g;if((bt=yr.g?yr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(bt)){var ct=bt;break t}}ct=null}if(M=ct)ve(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mu(this,M);else{this.o=!1,this.s=3,Kt(12),na(this),cs(this);break e}}if(this.P){M=!0;let Vn;for(;!this.J&&this.C<Ae.length;)if(Vn=Yt(this,Ae),Vn==Tt){cr==4&&(this.s=4,Kt(14),M=!1),ve(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Et){this.s=4,Kt(15),ve(this.i,this.l,Ae,"[Invalid Chunk]"),M=!1;break}else ve(this.i,this.l,Vn,null),mu(this,Vn);if(ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||Ae.length!=0||this.h.h||(this.s=1,Kt(16),M=!1),this.o=this.o&&M,!M)ve(this.i,this.l,Ae,"[Invalid Chunked Response]"),na(this),cs(this);else if(0<Ae.length&&!this.W){this.W=!0;var Nr=this.j;Nr.g==this&&Nr.ba&&!Nr.M&&(Nr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),_u(Nr),Nr.M=!0,Kt(11))}}else ve(this.i,this.l,Ae,null),mu(this,Ae);cr==4&&na(this),this.o&&!this.J&&(cr==4?Rl(this.j,this):(this.o=!1,At(this)))}else Al(this.g),M==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Kt(12)):(this.s=0,Kt(13)),na(this),cs(this)}}}catch{}finally{}};function ra(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Yt(g,E){var M=g.C,U=E.indexOf(`
`,M);return U==-1?Tt:(M=Number(E.substring(M,U)),isNaN(M)?Et:(U+=1,U+M>E.length?Tt:(E=E.slice(U,U+M),g.C=U+M,E)))}Ut.prototype.cancel=function(){this.J=!0,na(this)};function At(g){g.S=Date.now()+g.I,Qh(g,g.I)}function Qh(g,E){if(g.B!=null)throw Error("WatchDog timer not null");g.B=ln(v(g.ba,g),E)}function go(g){g.B&&(c.clearTimeout(g.B),g.B=null)}Ut.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ve(this.i,this.A),this.L!=2&&(Bt(),Kt(17)),na(this),this.s=2,cs(this)):Qh(this,this.S-g)};function cs(g){g.j.G==0||g.J||Rl(g.j,g)}function na(g){go(g);var E=g.M;E&&typeof E.ma=="function"&&E.ma(),g.M=null,uo(g.U),g.g&&(E=g.g,g.g=null,E.abort(),E.ma())}function mu(g,E){try{var M=g.j;if(M.G!=0&&(M.g==g||cn(M.h,g))){if(!g.K&&cn(M.h,g)&&M.G==3){try{var U=M.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)Ol(M),Ea(M);else break e;Il(M),Kt(18)}}else M.za=ie[1],0<M.za-M.T&&37500>ie[2]&&M.F&&M.v==0&&!M.C&&(M.C=ln(v(M.Za,M),6e3));if(1>=Jh(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ai(M,11)}else if((g.K||M.g==g)&&Ol(M),!j(E))for(ie=M.Da.g.parse(E),E=0;E<ie.length;E++){let ct=ie[E];if(M.T=ct[0],ct=ct[1],M.G==2)if(ct[0]=="c"){M.K=ct[1],M.ia=ct[2];const Nr=ct[3];Nr!=null&&(M.la=Nr,M.j.info("VER="+M.la));const cr=ct[4];cr!=null&&(M.Aa=cr,M.j.info("SVER="+M.Aa));const ia=ct[5];ia!=null&&typeof ia=="number"&&0<ia&&(U=1.5*ia,M.L=U,M.j.info("backChannelRequestTimeoutMs_="+U)),U=M;const Vn=g.g;if(Vn){const ko=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var pe=U.h;pe.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(gu(pe,pe.h),pe.h=null))}if(U.D){const Ml=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(U.ya=Ml,jt(U.I,U.D,Ml))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),U=M;var Ae=g;if(U.qa=hf(U,U.J?U.ia:null,U.W),Ae.K){Zh(U.h,Ae);var bt=Ae,yr=U.L;yr&&(bt.I=yr),bt.B&&(go(bt),At(bt)),U.g=Ae}else _o(U);0<M.i.length&&Ka(M)}else ct[0]!="stop"&&ct[0]!="close"||Ai(M,7);else M.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ai(M,7):Dr(M):ct[0]!="noop"&&M.l&&M.l.ta(ct),M.v=0)}}Bt(4)}catch{}}var Xh=class{constructor(g,E){this.g=g,this.map=E}};function yo(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Jh(g){return g.h?1:g.g?g.g.size:0}function cn(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function gu(g,E){g.g?g.g.add(E):g.h=E}function Zh(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}yo.prototype.cancel=function(){if(this.i=ef(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ef(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const M of g.g.values())E=E.concat(M.D);return E}return w(g.i)}function jl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var E=[],M=g.length,U=0;U<M;U++)E.push(g[U]);return E}E=[],M=0;for(U in g)E[M++]=g[U];return E}function Nl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var E=[];g=g.length;for(var M=0;M<g;M++)E.push(M);return E}E=[],M=0;for(const U in g)E[M++]=U;return E}}}function us(g,E){if(g.forEach&&typeof g.forEach=="function")g.forEach(E,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,E,void 0);else for(var M=Nl(g),U=jl(g),ie=U.length,pe=0;pe<ie;pe++)E.call(void 0,U[pe],M&&M[pe],g)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dg(g,E){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var U=g[M].indexOf("="),ie=null;if(0<=U){var pe=g[M].substring(0,U);ie=g[M].substring(U+1)}else pe=g[M];E(pe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ni(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ni){this.h=g.h,xo(this,g.j),this.o=g.o,this.g=g.g,ds(this,g.s),this.l=g.l;var E=g.i,M=new Wa;M.i=E.i,E.g&&(M.g=new Map(E.g),M.h=E.h),hs(this,M),this.m=g.m}else g&&(E=String(g).match(vo))?(this.h=!1,xo(this,E[1]||"",!0),this.o=ot(E[2]||""),this.g=ot(E[3]||"",!0),ds(this,E[4]),this.l=ot(E[5]||"",!0),hs(this,E[6]||"",!0),this.m=ot(E[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}Ni.prototype.toString=function(){var g=[],E=this.j;E&&g.push(ps(E,Sl,!0),":");var M=this.g;return(M||E=="file")&&(g.push("//"),(E=this.o)&&g.push(ps(E,Sl,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(ps(M,M.charAt(0)=="/"?nf:rf,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",ps(M,yu)),g.join("")};function $n(g){return new Ni(g)}function xo(g,E,M){g.j=M?ot(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function ds(g,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);g.s=E}else g.s=null}function hs(g,E,M){E instanceof Wa?(g.i=E,Ha(g.i,g.h)):(M||(E=ps(E,af)),g.i=new Wa(E,g.h))}function jt(g,E,M){g.i.set(E,M)}function fs(g){return jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ot(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function ps(g,E,M){return typeof g=="string"?(g=encodeURI(g).replace(E,tf),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function tf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Sl=/[#\/\?@]/g,rf=/[#\?:]/g,nf=/[#\?]/g,af=/[#\?@]/g,yu=/#/g;function Wa(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function Rr(g){g.g||(g.g=new Map,g.h=0,g.i&&dg(g.i,function(E,M){g.add(decodeURIComponent(E.replace(/\+/g," ")),M)}))}t=Wa.prototype,t.add=function(g,E){Rr(this),this.i=null,g=aa(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(E),this.h+=1,this};function ka(g,E){Rr(g),E=aa(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function ja(g,E){return Rr(g),E=aa(g,E),g.g.has(E)}t.forEach=function(g,E){Rr(this),this.g.forEach(function(M,U){M.forEach(function(ie){g.call(E,ie,U,this)},this)},this)},t.na=function(){Rr(this);const g=Array.from(this.g.values()),E=Array.from(this.g.keys()),M=[];for(let U=0;U<E.length;U++){const ie=g[U];for(let pe=0;pe<ie.length;pe++)M.push(E[U])}return M},t.V=function(g){Rr(this);let E=[];if(typeof g=="string")ja(this,g)&&(E=E.concat(this.g.get(aa(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)E=E.concat(g[M])}return E},t.set=function(g,E){return Rr(this),this.i=null,g=aa(this,g),ja(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=this.V(g),0<g.length?String(g[0]):E):E};function ms(g,E,M){ka(g,E),0<M.length&&(g.i=null,g.g.set(aa(g,E),w(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(var M=0;M<E.length;M++){var U=E[M];const pe=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var ie=pe;Ae[U]!==""&&(ie+="="+encodeURIComponent(String(Ae[U]))),g.push(ie)}}return this.i=g.join("&")};function aa(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Ha(g,E){E&&!g.j&&(Rr(g),g.i=null,g.g.forEach(function(M,U){var ie=U.toLowerCase();U!=ie&&(ka(this,U),ms(this,ie,M))},g)),g.j=E}function hg(g,E){const M=new ki;if(c.Image){const U=new Image;U.onload=x(wn,M,"TestLoadImage: loaded",!0,E,U),U.onerror=x(wn,M,"TestLoadImage: error",!1,E,U),U.onabort=x(wn,M,"TestLoadImage: abort",!1,E,U),U.ontimeout=x(wn,M,"TestLoadImage: timeout",!1,E,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else E(!1)}function sf(g,E){const M=new ki,U=new AbortController,ie=setTimeout(()=>{U.abort(),wn(M,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:U.signal}).then(pe=>{clearTimeout(ie),pe.ok?wn(M,"TestPingServer: ok",!0,E):wn(M,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ie),wn(M,"TestPingServer: error",!1,E)})}function wn(g,E,M,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(M)}catch{}}function fg(){this.g=new Xn}function of(g,E,M){const U=M||"";try{us(g,function(ie,pe){let Ae=ie;h(ie)&&(Ae=ho(ie)),E.push(U+pe+"="+encodeURIComponent(Ae))})}catch(ie){throw E.push(U+"type="+encodeURIComponent("_badmap")),ie}}function Si(g){this.l=g.Ub||null,this.j=g.eb||!1}_(Si,za),Si.prototype.g=function(){return new bo(this.l,this.j)},Si.prototype.i=function(g){return function(){return g}}({});function bo(g,E){Ht.call(this),this.D=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(bo,Ht),t=bo.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=E,this.readyState=1,Sa(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(E.body=g),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function lf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Na(this):Sa(this),this.readyState==3&&lf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Na(this))},t.Qa=function(g){this.g&&(this.response=g,Na(this))},t.ga=function(){this.g&&Na(this)};function Na(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Sa(g)}t.setRequestHeader=function(g,E){this.u.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var M=E.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=E.next();return g.join(`\r
`)};function Sa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ei(g){let E="";return C(g,function(M,U){E+=U,E+=":",E+=M,E+=`\r
`}),E}function gs(g,E,M){e:{for(U in M){var U=!1;break e}U=!0}U||(M=Ei(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):jt(g,E,M))}function qt(g){Ht.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(qt,Ht);var pg=/^https?$/i,vu=["POST","PUT"];t=qt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,E,M,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?Jn(this.o):Jn(it),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(pe){wo(this,pe);return}if(g=M||"",M=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)M.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const pe of U.keys())M.set(pe,U.get(pe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(M.keys()).find(pe=>pe.toLowerCase()=="content-type"),ie=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(vu,E,void 0))||U||ie||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of M)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tl(this),this.u=!0,this.g.send(g),this.u=!1}catch(pe){wo(this,pe)}};function wo(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.m=5,El(g),Fn(g)}function El(g){g.A||(g.A=!0,Gt(g,"complete"),Gt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Gt(this,"complete"),Gt(this,"abort"),Fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xu(this):this.bb())},t.bb=function(){xu(this)};function xu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||_n(g)!=4||g.Z()!=2)){if(g.u&&_n(g)==4)gt(g.Ea,0,g);else if(Gt(g,"readystatechange"),_n(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var M;if(!(M=E)){var U;if(U=Ae===0){var ie=String(g.D).match(vo)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),U=!pg.test(ie?ie.toLowerCase():"")}M=U}if(M)Gt(g,"complete"),Gt(g,"success");else{g.m=6;try{var pe=2<_n(g)?g.g.statusText:""}catch{pe=""}g.l=pe+" ["+g.Z()+"]",El(g)}}finally{Fn(g)}}}}function Fn(g,E){if(g.g){Tl(g);const M=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,E||Gt(g,"ready");try{M.onreadystatechange=U}catch{}}}function Tl(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function _n(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),wi(E)}};function bu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Al(g){const E={};g=(g.g&&2<=_n(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(j(g[U]))continue;var M=D(g[U]);const ie=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const pe=E[ie]||[];E[ie]=pe,pe.push(M)}P(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(g,E,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||E}function wu(g){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,g),this.cb=Ga("retryDelaySeedMs",1e4,g),this.Wa=Ga("forwardChannelMaxRetries",2,g),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(g&&g.concurrentRequestLimit),this.Da=new fg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wu.prototype,t.la=8,t.G=1,t.connect=function(g,E,M,U){Kt(0),this.W=g,this.H=E||{},M&&U!==void 0&&(this.H.OSID=M,this.H.OAID=U),this.F=this.X,this.I=hf(this,null,this.W),Ka(this)};function Dr(g){if(Cl(g),g.G==3){var E=g.U++,M=$n(g.I);if(jt(M,"SID",g.K),jt(M,"RID",E),jt(M,"TYPE","terminate"),Ti(g,M),E=new Ut(g,g.j,E),E.L=2,E.v=fs($n(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=E.v,M=!0),M||(E.g=ff(E.j,null),E.g.ea(E.v)),E.F=Date.now(),At(E)}df(g)}function Ea(g){g.g&&(_u(g),g.g.cancel(),g.g=null)}function Cl(g){Ea(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ol(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Ka(g){if(!Ln(g.h)&&!g.s){g.s=!0;var E=g.Ga;te||ne(),X||(te(),X=!0),K.add(E,g),g.B=0}}function mg(g,E){return Jh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=E.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=ln(v(g.Ga,g,E),uf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ie=new Ut(this,this.j,g);let pe=this.o;if(this.S&&(pe?(pe=O(pe),R(pe,this.S)):pe=this.S),this.m!==null||this.O||(ie.H=pe,pe=null),this.P)e:{for(var E=0,M=0;M<this.i.length;M++){t:{var U=this.i[M];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=M;break e}if(E===4096||M===this.i.length-1){E=M+1;break e}}E=1e3}else E=1e3;E=ys(this,ie,E),M=$n(this.I),jt(M,"RID",g),jt(M,"CVER",22),this.D&&jt(M,"X-HTTP-Session-Id",this.D),Ti(this,M),pe&&(this.O?E="headers="+encodeURIComponent(String(Ei(pe)))+"&"+E:this.m&&gs(M,this.m,pe)),gu(this.h,ie),this.Ua&&jt(M,"TYPE","init"),this.P?(jt(M,"$req",E),jt(M,"SID","null"),ie.T=!0,er(ie,M,null)):er(ie,M,E),this.G=2}}else this.G==3&&(g?Pl(this,g):this.i.length==0||Ln(this.h)||Pl(this))};function Pl(g,E){var M;E?M=E.l:M=g.U++;const U=$n(g.I);jt(U,"SID",g.K),jt(U,"RID",M),jt(U,"AID",g.T),Ti(g,U),g.m&&g.o&&gs(U,g.m,g.o),M=new Ut(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),E&&(g.i=E.D.concat(g.i)),E=ys(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),gu(g.h,M),er(M,U,E)}function Ti(g,E){g.H&&C(g.H,function(M,U){jt(E,U,M)}),g.l&&us({},function(M,U){jt(E,U,M)})}function ys(g,E,M){M=Math.min(g.i.length,M);var U=g.l?v(g.l.Na,g.l,g):null;e:{var ie=g.i;let pe=-1;for(;;){const Ae=["count="+M];pe==-1?0<M?(pe=ie[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let bt=!0;for(let yr=0;yr<M;yr++){let ct=ie[yr].g;const Nr=ie[yr].map;if(ct-=pe,0>ct)pe=Math.max(0,ie[yr].g-100),bt=!1;else try{of(Nr,Ae,"req"+ct+"_")}catch{U&&U(Nr)}}if(bt){U=Ae.join("&");break e}}}return g=g.i.splice(0,M),E.D=g,U}function _o(g){if(!g.g&&!g.u){g.Y=1;var E=g.Fa;te||ne(),X||(te(),X=!0),K.add(E,g),g.v=0}}function Il(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=ln(v(g.Fa,g),uf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,cf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=ln(v(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kt(10),Ea(this),cf(this))};function _u(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function cf(g){g.g=new Ut(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var E=$n(g.qa);jt(E,"RID","rpc"),jt(E,"SID",g.K),jt(E,"AID",g.T),jt(E,"CI",g.F?"0":"1"),!g.F&&g.ja&&jt(E,"TO",g.ja),jt(E,"TYPE","xmlhttp"),Ti(g,E),g.m&&g.o&&gs(E,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=fs($n(E)),M.m=null,M.P=!0,Mn(M,g)}t.Za=function(){this.C!=null&&(this.C=null,Ea(this),Il(this),Kt(19))};function Ol(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Rl(g,E){var M=null;if(g.g==E){Ol(g),_u(g),g.g=null;var U=2}else if(cn(g.h,E))M=E.D,Zh(g.h,E),U=1;else return;if(g.G!=0){if(E.o)if(U==1){M=E.m?E.m.length:0,E=Date.now()-E.F;var ie=g.B;U=_i(),Gt(U,new gr(U,M)),Ka(g)}else _o(g);else if(ie=E.s,ie==3||ie==0&&0<E.X||!(U==1&&mg(g,E)||U==2&&Il(g)))switch(M&&0<M.length&&(E=g.h,E.i=E.i.concat(M)),ie){case 1:Ai(g,5);break;case 4:Ai(g,10);break;case 3:Ai(g,6);break;default:Ai(g,2)}}}function uf(g,E){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*E}function Ai(g,E){if(g.j.info("Error code "+E),E==2){var M=v(g.fb,g),U=g.Xa;const ie=!U;U=new Ni(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xo(U,"https"),fs(U),ie?hg(U.toString(),M):sf(U.toString(),M)}else Kt(2);g.G=0,g.l&&g.l.sa(E),df(g),Cl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function df(g){if(g.G=0,g.ka=[],g.l){const E=ef(g.h);(E.length!=0||g.i.length!=0)&&(b(g.ka,E),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function hf(g,E,M){var U=M instanceof Ni?$n(M):new Ni(M);if(U.g!="")E&&(U.g=E+"."+U.g),ds(U,U.s);else{var ie=c.location;U=ie.protocol,E=E?E+"."+ie.hostname:ie.hostname,ie=+ie.port;var pe=new Ni(null);U&&xo(pe,U),E&&(pe.g=E),ie&&ds(pe,ie),M&&(pe.l=M),U=pe}return M=g.D,E=g.ya,M&&E&&jt(U,M,E),jt(U,"VER",g.la),Ti(g,U),U}function ff(g,E,M){if(E&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Ca&&!g.pa?new qt(new Si({eb:M})):new qt(g.pa),E.Ha(g.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}t=ku.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dl(){}Dl.prototype.g=function(g,E){return new un(g,E)};function un(g,E){Ht.call(this),this.g=new wu(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(g?g["X-WebChannel-Client-Profile"]=E.va:g={"X-WebChannel-Client-Profile":E.va}),this.g.S=g,(g=E&&E.Sb)&&!j(g)&&(this.g.m=g),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.D=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Ya(this)}_(un,Ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Dr(this.g)},un.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=ho(g),g=M);E.i.push(new Xh(E.Ya++,g)),E.G==3&&Ka(E)},un.prototype.N=function(){this.g.l=null,delete this.j,Dr(this.g),delete this.g,un.aa.N.call(this)};function pf(g){ea.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const M in E){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}_(pf,ea);function mf(){ls.call(this),this.status=1}_(mf,ls);function Ya(g){this.g=g}_(Ya,ku),Ya.prototype.ua=function(){Gt(this.g,"a")},Ya.prototype.ta=function(g){Gt(this.g,new pf(g))},Ya.prototype.sa=function(g){Gt(this.g,new mf)},Ya.prototype.ra=function(){Gt(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,WD=function(){return new Dl},zD=function(){return _i()},qD=ta,h_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,Dp=He,St.COMPLETE="complete",UD=St,Zn.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,od=Zn,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,BD=qt}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});const rT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new J1("@firebase/firestore");function Ku(){return al.logLevel}function Fe(t,...e){if(al.logLevel<=lt.DEBUG){const r=e.map(uk);al.debug(`Firestore (${au}): ${t}`,...r)}}function Xi(t,...e){if(al.logLevel<=lt.ERROR){const r=e.map(uk);al.error(`Firestore (${au}): ${t}`,...r)}}function jc(t,...e){if(al.logLevel<=lt.WARN){const r=e.map(uk);al.warn(`Firestore (${au}): ${t}`,...r)}}function uk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+t;throw Xi(e),new Error(e)}function _t(t,e){t||Je()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends mi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Jr.UNAUTHENTICATED))}shutdown(){}}class lB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class cB{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){_t(this.o===void 0);let n=this.i;const a=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},c=d=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(_t(typeof n.accessToken=="string"),new HD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new Jr(e)}}class uB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new uB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){_t(this.o===void 0);const n=s=>{s.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const a=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?a(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(_t(typeof r.token=="string"),this.R=r.token,new hB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=pB(40);for(let s=0;s<a.length;++s)n.length<20&&a[s]<r&&(n+=e.charAt(a[s]%e.length))}return n}}function pt(t,e){return t<e?-1:t>e?1:0}function Nc(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new kr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new kr(0,0))}static max(){return new Ze(new kr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Je(),n===void 0?n=e.length-r:n>e.length-r&&Je(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Cd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Cd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const s=e.get(a),l=r.get(a);if(s<l)return-1;if(s>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ft extends Cd{construct(e,r,n){return new Ft(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Ft(r)}static emptyPath(){return new Ft([])}}const mB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Cd{construct(e,r,n){return new Br(e,r,n)}static isValidIdentifier(e){return mB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const r=[];let n="",a=0;const s=()=>{if(n.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Re(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(n+=c,a++):(s(),a++)}if(s(),l)throw new Re(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(r)}static emptyPath(){return new Br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Ft.fromString(e))}static fromName(e){return new qe(Ft.fromString(e).popFirst(5))}static empty(){return new qe(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ft.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Ft(e.slice()))}}function gB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(n===1e9?new kr(r+1,0):new kr(r,n));return new Zs(a,qe.empty(),e)}function yB(t){return new Zs(t.readTime,t.key,-1)}class Zs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Zs(Ze.min(),qe.empty(),-1)}static max(){return new Zs(Ze.max(),qe.empty(),-1)}}function vB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qe.comparator(t.documentKey,e.documentKey),r!==0?r:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==xB)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ne((n,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,a)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.reject(r)}static resolve(e){return new Ne((r,n)=>{r(e)})}static reject(e){return new Ne((r,n)=>{n(e)})}static waitFor(e){return new Ne((r,n)=>{let a=0,s=0,l=!1;e.forEach(c=>{++a,c.next(()=>{++s,l&&s===a&&r()},d=>n(d))}),l=!0,s===a&&r()})}static or(e){let r=Ne.resolve(!1);for(const n of e)r=r.next(a=>a?Ne.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,s)=>{n.push(r.call(this,a,s))}),this.waitFor(n)}static mapArray(e,r){return new Ne((n,a)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;r(e[h]).next(p=>{l[h]=p,++c,c===s&&n(l)},p=>a(p))}})}static doWhile(e,r){return new Ne((n,a)=>{const s=()=>{e()===!0?r().next(()=>{s()},a):n()};s()})}}function wB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ah(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dk.oe=-1;function c0(t){return t==null}function Xp(t){return t===0&&1/t==-1/0}function _B(t){return typeof t=="number"&&Number.isInteger(t)&&!Xp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function KD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,r){this.comparator=e,this.root=r||Vr.EMPTY}insert(e,r){return new Jt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,r,n,a,s){this.key=e,this.value=r,this.color=n??Vr.RED,this.left=a??Vr.EMPTY,this.right=s??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,s){return new Vr(e??this.key,r??this.value,n??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const s=n(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,r,n),null):s===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Vr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1;Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,r,n,a,s){return this}insert(e,r,n){return new Vr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ur(this.comparator);return r.data=e,r}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new Gn([])}unionWith(e){let r=new Ur(Br.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Gn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YD("Invalid base64 string: "+s):s}}(e);return new Wr(r)}static fromUint8Array(e){const r=function(a){let s="";for(let l=0;l<a.length;++l)s+=String.fromCharCode(a[l]);return s}(e);return new Wr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wr.EMPTY_BYTE_STRING=new Wr("");const kB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eo(t){if(_t(!!t),typeof t=="string"){let e=0;const r=kB.exec(t);if(_t(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:or(t.seconds),nanos:or(t.nanos)}}function or(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function il(t){return typeof t=="string"?Wr.fromBase64String(t):Wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function fk(t){const e=t.mapValue.fields.__previous_value__;return hk(e)?fk(e):e}function Pd(t){const e=eo(t.mapValue.fields.__local_write_time__.timestampValue);return new kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,r,n,a,s,l,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Id{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp={mapValue:{}};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hk(t)?4:SB(t)?9007199254740991:NB(t)?10:11:Je()}function di(t,e){if(t===e)return!0;const r=sl(t);if(r!==sl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pd(t).isEqual(Pd(e));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const l=eo(a.timestampValue),c=eo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,s){return il(a.bytesValue).isEqual(il(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,s){return or(a.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(a.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(t,e);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return or(a.integerValue)===or(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const l=or(a.doubleValue),c=or(s.doubleValue);return l===c?Xp(l)===Xp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Nc(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(a,s){const l=a.mapValue.fields||{},c=s.mapValue.fields||{};if(nT(l)!==nT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!di(l[d],c[d])))return!1;return!0}(t,e);default:return Je()}}function Od(t,e){return(t.values||[]).find(r=>di(r,e))!==void 0}function Sc(t,e){if(t===e)return 0;const r=sl(t),n=sl(e);if(r!==n)return pt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(s,l){const c=or(s.integerValue||s.doubleValue),d=or(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return iT(t.timestampValue,e.timestampValue);case 4:return iT(Pd(t),Pd(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(s,l){const c=il(s),d=il(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=pt(c[h],d[h]);if(p!==0)return p}return pt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const c=pt(or(s.latitude),or(l.latitude));return c!==0?c:pt(or(s.longitude),or(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sT(t.arrayValue,e.arrayValue);case 10:return function(s,l){var c,d,h,p;const m=s.fields||{},v=l.fields||{},x=(c=m.value)===null||c===void 0?void 0:c.arrayValue,_=(d=v.value)===null||d===void 0?void 0:d.arrayValue,w=pt(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((p=_?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:sT(x,_)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===fp.mapValue&&l===fp.mapValue)return 0;if(s===fp.mapValue)return 1;if(l===fp.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const v=pt(d[m],p[m]);if(v!==0)return v;const x=Sc(c[d[m]],h[p[m]]);if(x!==0)return x}return pt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Je()}}function iT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const r=eo(t),n=eo(e),a=pt(r.seconds,n.seconds);return a!==0?a:pt(r.nanos,n.nanos)}function sT(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const s=Sc(r[a],n[a]);if(s)return s}return pt(r.length,n.length)}function Ec(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=eo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return il(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return qe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const s of r.values||[])a?a=!1:n+=",",n+=f_(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",s=!0;for(const l of n)s?s=!1:a+=",",a+=`${l}:${f_(r.fields[l])}`;return a+"}"}(t.mapValue):Je()}function oT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p_(t){return!!t&&"integerValue"in t}function pk(t){return!!t&&"arrayValue"in t}function lT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mp(t){return!!t&&"mapValue"in t}function NB(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=gd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=gd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function SB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Mp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(r)}setAll(e){let r=Br.emptyPath(),n={},a=[];e.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,a),n={},a=[],r=c.popLast()}l?n[c.lastSegment()]=gd(l):a.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,a)}delete(e){const r=this.field(e.popLast());Mp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Mp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){gl(r,(a,s)=>e[a]=s);for(const a of n)delete e[a]}clone(){return new Pn(gd(this.value))}}function QD(t){const e=[];return gl(t.fields,(r,n)=>{const a=new Br([r]);if(Mp(n)){const s=QD(n.mapValue).fields;if(s.length===0)e.push(a);else for(const l of s)e.push(a.child(l))}else e.push(a)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,r,n,a,s,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Zr(e,0,Ze.min(),Ze.min(),Ze.min(),Pn.empty(),0)}static newFoundDocument(e,r,n,a){return new Zr(e,1,r,Ze.min(),n,a,0)}static newNoDocument(e,r){return new Zr(e,2,r,Ze.min(),Ze.min(),Pn.empty(),0)}static newUnknownDocument(e,r){return new Zr(e,3,r,Ze.min(),Ze.min(),Pn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,r){this.position=e,this.inclusive=r}}function uT(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const s=e[a],l=t.position[a];if(s.field.isKeyField()?n=qe.comparator(qe.fromName(l.referenceValue),r.key):n=Sc(l,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function dT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!di(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,r="asc"){this.field=e,this.dir=r}}function EB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XD=class{};class fr extends XD{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new AB(e,r,n):r==="array-contains"?new IB(e,n):r==="in"?new OB(e,n):r==="not-in"?new RB(e,n):r==="array-contains-any"?new DB(e,n):new fr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new CB(e,n):new PB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Sc(r,this.value)):r!==null&&sl(this.value)===sl(r)&&this.matchesComparison(Sc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ba extends XD{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Ba(e,r)}matches(e){return JD(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function JD(t){return t.op==="and"}function ZD(t){return TB(t)&&JD(t)}function TB(t){for(const e of t.filters)if(e instanceof Ba)return!1;return!0}function m_(t){if(t instanceof fr)return t.field.canonicalString()+t.op.toString()+Ec(t.value);if(ZD(t))return t.filters.map(e=>m_(e)).join(",");{const e=t.filters.map(r=>m_(r)).join(",");return`${t.op}(${e})`}}function eM(t,e){return t instanceof fr?function(n,a){return a instanceof fr&&n.op===a.op&&n.field.isEqual(a.field)&&di(n.value,a.value)}(t,e):t instanceof Ba?function(n,a){return a instanceof Ba&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((s,l,c)=>s&&eM(l,a.filters[c]),!0):!1}(t,e):void Je()}function tM(t){return t instanceof fr?function(r){return`${r.field.canonicalString()} ${r.op} ${Ec(r.value)}`}(t):t instanceof Ba?function(r){return r.op.toString()+" {"+r.getFilters().map(tM).join(" ,")+"}"}(t):"Filter"}class AB extends fr{constructor(e,r,n){super(e,r,n),this.key=qe.fromName(n.referenceValue)}matches(e){const r=qe.comparator(e.key,this.key);return this.matchesComparison(r)}}class CB extends fr{constructor(e,r){super(e,"in",r),this.keys=rM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class PB extends fr{constructor(e,r){super(e,"not-in",r),this.keys=rM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function rM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>qe.fromName(n.referenceValue))}class IB extends fr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return pk(r)&&Od(r.arrayValue,this.value)}}class OB extends fr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Od(this.value.arrayValue,r)}}class RB extends fr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Od(this.value.arrayValue,r)}}class DB extends fr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!pk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Od(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,r=null,n=[],a=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=s,this.startAt=l,this.endAt=c,this.ue=null}}function hT(t,e=null,r=[],n=[],a=null,s=null,l=null){return new MB(t,e,r,n,a,s,l)}function mk(t){const e=et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>m_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),c0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ec(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ec(n)).join(",")),e.ue=r}return e.ue}function gk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!EB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!eM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dT(t.startAt,e.startAt)&&dT(t.endAt,e.endAt)}function g_(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,r=null,n=[],a=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LB(t,e,r,n,a,s,l,c){return new Ch(t,e,r,n,a,s,l,c)}function yk(t){return new Ch(t)}function fT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nM(t){return t.collectionGroup!==null}function yd(t){const e=et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ur(Br.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zp(s,n))}),r.has(Br.keyField().canonicalString())||e.ce.push(new Zp(Br.keyField(),n))}return e.ce}function oi(t){const e=et(t);return e.le||(e.le=$B(e,yd(t))),e.le}function $B(t,e){if(t.limitType==="F")return hT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Zp(a.field,s)});const r=t.endAt?new Jp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Jp(t.startAt.position,t.startAt.inclusive):null;return hT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function y_(t,e){const r=t.filters.concat([e]);return new Ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function v_(t,e,r){return new Ch(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function u0(t,e){return gk(oi(t),oi(e))&&t.limitType===e.limitType}function aM(t){return`${mk(oi(t))}|lt:${t.limitType}`}function sc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>tM(a)).join(", ")}]`),c0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Ec(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Ec(a)).join(",")),`Target(${n})`}(oi(t))}; limitType=${t.limitType})`}function d0(t,e){return e.isFoundDocument()&&function(n,a){const s=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):qe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,a){for(const s of yd(n))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const s of n.filters)if(!s.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(l,c,d){const h=uT(l,c,d);return l.inclusive?h<=0:h<0}(n.startAt,yd(n),a)||n.endAt&&!function(l,c,d){const h=uT(l,c,d);return l.inclusive?h>=0:h>0}(n.endAt,yd(n),a))}(t,e)}function FB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iM(t){return(e,r)=>{let n=!1;for(const a of yd(t)){const s=VB(a,e,r);if(s!==0)return s;n=n||a.field.isKeyField()}return 0}}function VB(t,e,r){const n=t.field.isKeyField()?qe.comparator(e.key,r.key):function(s,l,c){const d=l.data.field(s),h=c.data.field(s);return d!==null&&h!==null?Sc(d,h):Je()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,s]of n)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,(r,n)=>{for(const[a,s]of n)e(a,s)})}isEmpty(){return KD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new Jt(qe.comparator);function Ji(){return BB}const sM=new Jt(qe.comparator);function ld(...t){let e=sM;for(const r of t)e=e.insert(r.key,r);return e}function oM(t){let e=sM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function qo(){return vd()}function lM(){return vd()}function vd(){return new iu(t=>t.toString(),(t,e)=>t.isEqual(e))}const UB=new Jt(qe.comparator),qB=new Ur(qe.comparator);function st(...t){let e=qB;for(const r of t)e=e.add(r);return e}const zB=new Ur(pt);function WB(){return zB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function cM(t){return{integerValue:""+t}}function HB(t,e){return _B(e)?cM(e):vk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this._=void 0}}function GB(t,e,r){return t instanceof Rd?function(a,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&hk(s)&&(s=fk(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(r,e):t instanceof Dd?dM(t,e):t instanceof Md?hM(t,e):function(a,s){const l=uM(a,s),c=pT(l)+pT(a.Pe);return p_(l)&&p_(a.Pe)?cM(c):vk(a.serializer,c)}(t,e)}function KB(t,e,r){return t instanceof Dd?dM(t,e):t instanceof Md?hM(t,e):r}function uM(t,e){return t instanceof em?function(n){return p_(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Rd extends h0{}class Dd extends h0{constructor(e){super(),this.elements=e}}function dM(t,e){const r=fM(e);for(const n of t.elements)r.some(a=>di(a,n))||r.push(n);return{arrayValue:{values:r}}}class Md extends h0{constructor(e){super(),this.elements=e}}function hM(t,e){let r=fM(e);for(const n of t.elements)r=r.filter(a=>!di(a,n));return{arrayValue:{values:r}}}class em extends h0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function pT(t){return or(t.integerValue||t.doubleValue)}function fM(t){return pk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,r){this.field=e,this.transform=r}}function QB(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Dd&&a instanceof Dd||n instanceof Md&&a instanceof Md?Nc(n.elements,a.elements,di):n instanceof em&&a instanceof em?di(n.Pe,a.Pe):n instanceof Rd&&a instanceof Rd}(t.transform,e.transform)}class XB{constructor(e,r){this.version=e,this.transformResults=r}}class yn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class f0{}function pM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new p0(t.key,yn.none()):new Ph(t.key,t.data,yn.none());{const r=t.data,n=Pn.empty();let a=new Ur(Br.comparator);for(let s of e.fields)if(!a.has(s)){let l=r.field(s);l===null&&s.length>1&&(s=s.popLast(),l=r.field(s)),l===null?n.delete(s):n.set(s,l),a=a.add(s)}return new ao(t.key,n,new Gn(a.toArray()),yn.none())}}function JB(t,e,r){t instanceof Ph?function(a,s,l){const c=a.value.clone(),d=gT(a.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,r):t instanceof ao?function(a,s,l){if(!Lp(a.precondition,s))return void s.convertToUnknownDocument(l.version);const c=gT(a.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(mM(a)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,r):function(a,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function xd(t,e,r,n){return t instanceof Ph?function(s,l,c,d){if(!Lp(s.precondition,l))return c;const h=s.value.clone(),p=yT(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof ao?function(s,l,c,d){if(!Lp(s.precondition,l))return c;const h=yT(s.fieldTransforms,d,l),p=l.data;return p.setAll(mM(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(s,l,c){return Lp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,r)}function ZB(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),s=uM(n.transform,a||null);s!=null&&(r===null&&(r=Pn.empty()),r.set(n.field,s))}return r||null}function mT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Nc(n,a,(s,l)=>QB(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ph extends f0{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ao extends f0{constructor(e,r,n,a,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function gT(t,e,r){const n=new Map;_t(t.length===r.length);for(let a=0;a<r.length;a++){const s=t[a],l=s.transform,c=e.data.field(s.field);n.set(s.field,KB(l,c,r[a]))}return n}function yT(t,e,r){const n=new Map;for(const a of t){const s=a.transform,l=r.data.field(a.field);n.set(a.field,GB(s,l,e))}return n}class p0 extends f0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eU extends f0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&JB(s,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=xd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=xd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=lM();return this.mutations.forEach(a=>{const s=e.get(a.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=r.has(a.key)?null:c;const d=pM(l,c);d!==null&&n.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),st())}isEqual(e){return this.batchId===e.batchId&&Nc(this.mutations,e.mutations,(r,n)=>mT(r,n))&&Nc(this.baseMutations,e.baseMutations,(r,n)=>mT(r,n))}}class xk{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){_t(e.mutations.length===n.length);let a=function(){return UB}();const s=e.mutations;for(let l=0;l<s.length;l++)a=a.insert(s[l].key,n[l].version);return new xk(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr,ut;function aU(t){switch(t){default:return Je();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function gM(t){if(t===void 0)return Xi("GRPC error has no .code"),we.UNKNOWN;switch(t){case dr.OK:return we.OK;case dr.CANCELLED:return we.CANCELLED;case dr.UNKNOWN:return we.UNKNOWN;case dr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case dr.INTERNAL:return we.INTERNAL;case dr.UNAVAILABLE:return we.UNAVAILABLE;case dr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case dr.NOT_FOUND:return we.NOT_FOUND;case dr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case dr.ABORTED:return we.ABORTED;case dr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case dr.DATA_LOSS:return we.DATA_LOSS;default:return Je()}}(ut=dr||(dr={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Qo([4294967295,4294967295],0);function vT(t){const e=iU().encode(t),r=new VD;return r.update(e),new Uint8Array(r.digest())}function xT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qo([r,n],0),new Qo([a,s],0)]}class bk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new cd(`Invalid padding: ${r}`);if(n<0)throw new cd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new cd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new cd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Qo.fromNumber(this.Ie)}Ee(e,r,n){let a=e.add(r.multiply(Qo.fromNumber(n)));return a.compare(sU)===1&&(a=new Qo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=vT(e),[n,a]=xT(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,a,s);if(!this.de(l))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new bk(s,a,r);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ie===0)return;const r=vT(e),[n,a]=xT(r);for(let s=0;s<this.hashCount;s++){const l=this.Ee(n,a,s);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,r,n,a,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Ih.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new m0(Ze.min(),a,new Jt(pt),Ji(),st())}}class Ih{constructor(e,r,n,a,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ih(n,r,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,r,n,a){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=a}}class yM{constructor(e,r){this.targetId=e,this.me=r}}class vM{constructor(e,r,n=Wr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class bT{constructor(){this.fe=0,this.ge=_T(),this.pe=Wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),r=st(),n=st();return this.ge.forEach((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Je()}}),new Ih(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=_T()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ji(),this.qe=wT(),this.Qe=new Jt(pt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,a)=>{this.ze(a)&&r(a)})}He(e){const r=e.targetId,n=e.me.count,a=this.Je(r);if(a){const s=a.target;if(g_(s))if(n===0){const l=new qe(s.path);this.Ue(r,l,Zr.newNoDocument(l,Ze.min()))}else _t(n===1);else{const l=this.Ye(r);if(l!==n){const c=this.Ze(e),d=c?this.Xe(c,e,l):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:s=0}=r;let l,c;try{l=il(n).toUint8Array()}catch(d){if(d instanceof YD)return jc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new bk(l,a,s)}catch(d){return jc(d instanceof cd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let a=0;return n.forEach(s=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,s,null),a++)}),a}rt(e){const r=new Map;this.Be.forEach((s,l)=>{const c=this.Je(l);if(c){if(s.current&&g_(c.target)){const d=new qe(c.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,Zr.newNoDocument(d,e))}s.be&&(r.set(l,s.ve()),s.Ce())}});let n=st();this.qe.forEach((s,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,l)=>l.setReadTime(e));const a=new m0(e,r,this.Qe,this.ke,n);return this.ke=Ji(),this.qe=wT(),this.Qe=new Jt(pt),a}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new bT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ur(pt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new bT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function wT(){return new Jt(qe.comparator)}function _T(){return new Jt(qe.comparator)}const lU={asc:"ASCENDING",desc:"DESCENDING"},cU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uU={and:"AND",or:"OR"};class dU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function x_(t,e){return t.useProto3Json||c0(e)?e:{value:e}}function tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hU(t,e){return tm(t,e.toTimestamp())}function li(t){return _t(!!t),Ze.fromTimestamp(function(r){const n=eo(r);return new kr(n.seconds,n.nanos)}(t))}function wk(t,e){return b_(t,e).canonicalString()}function b_(t,e){const r=function(a){return new Ft(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function bM(t){const e=Ft.fromString(t);return _t(NM(e)),e}function w_(t,e){return wk(t.databaseId,e.path)}function Gy(t,e){const r=bM(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qe(_M(r))}function wM(t,e){return wk(t.databaseId,e)}function fU(t){const e=bM(t);return e.length===4?Ft.emptyPath():_M(e)}function __(t){return new Ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _M(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kT(t,e,r){return{name:w_(t,e),fields:r.value.mapValue.fields}}function pU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string"),Wr.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Wr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?we.UNKNOWN:gM(h.code);return new Re(p,h.message||"")}(l);r=new vM(n,a,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Gy(t,n.document.name),s=li(n.document.updateTime),l=n.document.createTime?li(n.document.createTime):Ze.min(),c=new Pn({mapValue:{fields:n.document.fields}}),d=Zr.newFoundDocument(a,s,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new $p(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Gy(t,n.document),s=n.readTime?li(n.readTime):Ze.min(),l=Zr.newNoDocument(a,s),c=n.removedTargetIds||[];r=new $p([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Gy(t,n.document),s=n.removedTargetIds||[];r=new $p([],s,a,null)}else{if(!("filter"in e))return Je();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:s}=n,l=new nU(a,s),c=n.targetId;r=new yM(c,l)}}return r}function mU(t,e){let r;if(e instanceof Ph)r={update:kT(t,e.key,e.value)};else if(e instanceof p0)r={delete:w_(t,e.key)};else if(e instanceof ao)r={update:kT(t,e.key,e.data),updateMask:jU(e.fieldMask)};else{if(!(e instanceof eU))return Je();r={verify:w_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,l){const c=l.transform;if(c instanceof Rd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Dd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Md)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof em)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Je()}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:hU(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Je()}(t,e.precondition)),r}function gU(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(r=>function(a,s){let l=a.updateTime?li(a.updateTime):li(s);return l.isEqual(Ze.min())&&(l=li(s)),new XB(l,a.transformResults||[])}(r,e))):[]}function yU(t,e){return{documents:[wM(t,e.path)]}}function vU(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=wM(t,a);const s=function(h){if(h.length!==0)return jM(Ba.create(h,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(p=>function(v){return{field:oc(v.field),direction:wU(v.dir)}}(p))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=x_(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:a}}function xU(t){let e=fU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){_t(n===1);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=function(m){const v=kM(m);return v instanceof Ba&&ZD(v)?v.getFilters():[v]}(r.where));let l=[];r.orderBy&&(l=function(m){return m.map(v=>function(_){return new Zp(lc(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(v))}(r.orderBy));let c=null;r.limit&&(c=function(m){let v;return v=typeof m=="object"?m.value:m,c0(v)?null:v}(r.limit));let d=null;r.startAt&&(d=function(m){const v=!!m.before,x=m.values||[];return new Jp(x,v)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const v=!m.before,x=m.values||[];return new Jp(x,v)}(r.endAt)),LB(e,a,l,s,c,"F",d,h)}function bU(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function kM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=lc(r.unaryFilter.field);return fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=lc(r.unaryFilter.field);return fr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lc(r.unaryFilter.field);return fr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=lc(r.unaryFilter.field);return fr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(r){return fr.create(lc(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Ba.create(r.compositeFilter.filters.map(n=>kM(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Je()}}(r.compositeFilter.op))}(t):Je()}function wU(t){return lU[t]}function _U(t){return cU[t]}function kU(t){return uU[t]}function oc(t){return{fieldPath:t.canonicalString()}}function lc(t){return Br.fromServerFormat(t.fieldPath)}function jM(t){return t instanceof fr?function(r){if(r.op==="=="){if(cT(r.value))return{unaryFilter:{field:oc(r.field),op:"IS_NAN"}};if(lT(r.value))return{unaryFilter:{field:oc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(cT(r.value))return{unaryFilter:{field:oc(r.field),op:"IS_NOT_NAN"}};if(lT(r.value))return{unaryFilter:{field:oc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(r.field),op:_U(r.op),value:r.value}}}(t):t instanceof Ba?function(r){const n=r.getFilters().map(a=>jM(a));return n.length===1?n[0]:{compositeFilter:{op:kU(r.op),filters:n}}}(t):Je()}function jU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function NM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,r,n,a,s=Ze.min(),l=Ze.min(),c=Wr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.ct=e}}function SU(t){const e=xU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.un=new TU}addToCollectionParentIndex(e,r){return this.un.add(r),Ne.resolve()}getCollectionParents(e,r){return Ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ne.resolve()}deleteFieldIndex(e,r){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,r){return Ne.resolve()}getDocumentsMatchingTarget(e,r){return Ne.resolve(null)}getIndexType(e,r){return Ne.resolve(0)}getFieldIndexes(e,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,r){return Ne.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,r){return Ne.resolve(Zs.min())}updateCollectionGroup(e,r,n){return Ne.resolve()}updateIndexEntries(e,r){return Ne.resolve()}}class TU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ur(Ft.comparator),s=!a.has(n);return this.index[r]=a.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ur(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Tc(0)}static kn(){return new Tc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.changes=new iu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Zr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&xd(n.mutation,a,Gn.empty(),kr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,r,n=st()){const a=qo();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(s=>{let l=ld();return s.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=qo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,st()))}populateOverlays(e,r,n){const a=[];return n.forEach(s=>{r.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(e,a).next(s=>{s.forEach((l,c)=>{r.set(l,c)})})}computeViews(e,r,n,a){let s=Ji();const l=vd(),c=function(){return vd()}();return r.forEach((d,h)=>{const p=n.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof ao)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),xd(p.mutation,h,p.mutation.getFieldMask(),kr.now())):l.set(h.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,p)=>l.set(h,p)),r.forEach((h,p)=>{var m;return c.set(h,new CU(p,(m=l.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const n=vd();let a=new Jt((l,c)=>l-c),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Gn.empty();p=c.applyToLocalView(h,p),n.set(d,p);const m=(a.get(c.batchId)||st()).add(d);a=a.insert(c.batchId,m)})}).next(()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,m=lM();p.forEach(v=>{if(!s.has(v)){const x=pM(r.get(v),n.get(v));x!==null&&m.set(v,x),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):nM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(s=>{const l=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-s.size):Ne.resolve(qo());let c=-1,d=s;return l.next(h=>Ne.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?Ne.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,st())).next(p=>({batchId:c,changes:oM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qe(r)).next(n=>{let a=ld();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const s=r.collectionGroup;let l=ld();return this.indexManager.getCollectionParents(e,s).next(c=>Ne.forEach(c,d=>{const h=function(m,v){return new Ch(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,a).next(p=>{p.forEach((m,v)=>{l=l.insert(m,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,n,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,a))).next(l=>{s.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Zr.newInvalidDocument(p)))});let c=ld();return l.forEach((d,h)=>{const p=s.get(d);p!==void 0&&xd(p.mutation,h,Gn.empty(),kr.now()),d0(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:li(a.createTime)}}(r)),Ne.resolve()}getNamedQuery(e,r){return Ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(a){return{name:a.name,query:SU(a.bundledQuery),readTime:li(a.readTime)}}(r)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this.overlays=new Jt(qe.comparator),this.Ir=new Map}getOverlay(e,r){return Ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=qo();return Ne.forEach(r,a=>this.getOverlay(e,a).next(s=>{s!==null&&n.set(a,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,s)=>{this.ht(e,r,s)}),Ne.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),Ne.resolve()}getOverlaysForCollection(e,r,n){const a=qo(),s=r.length+1,l=new qe(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>n&&a.set(d.getKey(),d)}return Ne.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let s=new Jt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=s.get(h.largestBatchId);p===null&&(p=qo(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=qo(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=a)););return Ne.resolve(c)}ht(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const l=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new rU(r,n));let s=this.Ir.get(r);s===void 0&&(s=st(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.sessionToken=Wr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Tr=new Ur(Ar.Er),this.dr=new Ur(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new qe(new Ft([])),n=new Ar(r,e),a=new Ar(r,e+1),s=[];return this.dr.forEachInRange([n,a],l=>{this.Vr(l),s.push(l.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new qe(new Ft([])),n=new Ar(r,e),a=new Ar(r,e+1);let s=st();return this.dr.forEachInRange([n,a],l=>{s=s.add(l.key)}),s}containsKey(e){const r=new Ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return qe.comparator(e.key,r.key)||pt(e.wr,r.wr)}static Ar(e,r){return pt(e.wr,r.wr)||qe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ur(Ar.Er)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new tU(s,r,n,a);this.mutationQueue.push(l);for(const c of a)this.br=this.br.add(new Ar(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ne.resolve(l)}lookupMutationBatch(e,r){return Ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.vr(n),s=a<0?0:a;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ar(r,0),a=new Ar(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,a],l=>{const c=this.Dr(l.wr);s.push(c)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ur(pt);return r.forEach(a=>{const s=new Ar(a,0),l=new Ar(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,l],c=>{n=n.add(c.wr)})}),Ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let s=n;qe.isDocumentKey(s)||(s=s.child(""));const l=new Ar(new qe(s),0);let c=new Ur(pt);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===a&&(c=c.add(d.wr)),!0)},l),Ne.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const a=this.Dr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){_t(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ne.forEach(r.mutations,a=>{const s=new Ar(a.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ar(r,0),a=this.br.firstAfterOrEqual(n);return Ne.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.Mr=e,this.docs=function(){return new Jt(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),s=a?a.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ne.resolve(n?n.document.mutableCopy():Zr.newInvalidDocument(r))}getEntries(e,r){let n=Ji();return r.forEach(a=>{const s=this.docs.get(a);n=n.insert(a,s?s.document.mutableCopy():Zr.newInvalidDocument(a))}),Ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let s=Ji();const l=r.path,c=new qe(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||vB(yB(p),n)<=0||(a.has(p.key)||d0(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,r,n,a){Je()}Or(e,r){return Ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new LU(this)}getSize(e){return Ne.resolve(this.size)}}class LU extends AU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)}),Ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.persistence=e,this.Nr=new iu(r=>mk(r),gk),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _k,this.targetCount=0,this.kr=Tc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,a)=>r(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Tc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ne.resolve()}updateTargetData(e,r){return this.Kn(r),Ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,r,n){let a=0;const s=[];return this.Nr.forEach((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),Ne.waitFor(s).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const a=this.persistence.referenceDelegate,s=[];return a&&r.forEach(l=>{s.push(a.markPotentiallyOrphaned(e,l))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ne.resolve(n)}containsKey(e,r){return Ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new dk(0),this.Kr=!1,this.Kr=!0,this.$r=new RU,this.referenceDelegate=e(this),this.Ur=new $U(this),this.indexManager=new EU,this.remoteDocumentCache=function(a){return new MU(a)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new NU(r),this.Gr=new IU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new OU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new DU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Fe("MemoryPersistence","Starting transaction:",e);const a=new VU(this.Qr.next());return this.referenceDelegate.zr(),n(a).next(s=>this.referenceDelegate.jr(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Hr(e,r){return Ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class VU extends bB{constructor(e){super(),this.currentSequenceNumber=e}}class kk{constructor(e){this.persistence=e,this.Jr=new _k,this.Yr=null}static Zr(e){return new kk(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(a=>this.Xr.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Xr,n=>{const a=qe.fromPath(n);return this.ei(e,a).next(s=>{s||r.removeEntry(a,Ze.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ne.or([()=>Ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(e,r){let n=st(),a=st();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new jk(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return C5()?8:wB(nn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,a){const s={result:null};return this.Yi(e,r).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.Zi(e,r,a,n).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new BU;return this.Xi(e,r,l).next(c=>{if(s.result=c,this.zi)return this.es(e,r,l,c.size)})}).next(()=>s.result)}es(e,r,n,a){return n.documentReadCount<this.ji?(Ku()<=lt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",sc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ne.resolve()):(Ku()<=lt.DEBUG&&Fe("QueryEngine","Query:",sc(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Ku()<=lt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",sc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(r))):Ne.resolve())}Yi(e,r){if(fT(r))return Ne.resolve(null);let n=oi(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=v_(r,null,"F"),n=oi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const l=st(...s);return this.Ji.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,l,d.readTime)?this.Yi(e,v_(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,a){return fT(r)||a.isEqual(Ze.min())?Ne.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const l=this.ts(r,s);return this.ns(r,l,n,a)?Ne.resolve(null):(Ku()<=lt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sc(r)),this.rs(e,l,r,gB(a,-1)).next(c=>c))})}ts(e,r){let n=new Ur(iM(e));return r.forEach((a,s)=>{d0(e,s)&&(n=n.add(s))}),n}ns(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Xi(e,r,n){return Ku()<=lt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",sc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Zs.min(),n)}rs(e,r,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next(s=>(r.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,r,n,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new Jt(pt),this._s=new iu(s=>mk(s),gk),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function zU(t,e,r,n){return new qU(t,e,r,n)}async function SM(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(s=>(a=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const l=[],c=[];let d=st();for(const h of a){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:c}))})})}function WU(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const m=h.batch,v=m.keys();let x=Ne.resolve();return v.forEach(_=>{x=x.next(()=>p.getEntry(d,_)).next(w=>{const b=h.docVersions.get(_);_t(b!==null),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=st();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function EM(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function HU(t,e){const r=et(t),n=e.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const c=[];e.targetChanges.forEach((p,m)=>{const v=a.get(m);if(!v)return;c.push(r.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(s,p.addedDocuments,m)));let x=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Wr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),a=a.insert(m,x),function(w,b,S){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(v,x,p)&&c.push(r.Ur.updateTargetData(s,x))});let d=Ji(),h=st();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(GU(s,l,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(Ze.min())){const p=r.Ur.getLastRemoteSnapshotVersion(s).next(m=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return Ne.waitFor(c).next(()=>l.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(r.os=a,s))}function GU(t,e,r){let n=st(),a=st();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let l=Ji();return r.forEach((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),d.isNoDocument()&&d.version.isEqual(Ze.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:l,Is:a}})}function KU(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function YU(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Ur.getTargetData(n,e).next(s=>s?(a=s,Ne.resolve(a)):r.Ur.allocateTargetId(n).next(l=>(a=new qs(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function k_(t,e,r){const n=et(t),a=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,l=>n.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Ah(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function jT(t,e,r){const n=et(t);let a=Ze.min(),s=st();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const m=et(d),v=m._s.get(p);return v!==void 0?Ne.resolve(m.os.get(v)):m.Ur.getTargetData(h,p)}(n,l,oi(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,c.targetId).next(d=>{s=d})}).next(()=>n.ss.getDocumentsMatchingQuery(l,e,r?a:Ze.min(),r?s:st())).next(c=>(QU(n,FB(e),c),{documents:c,Ts:s})))}function QU(t,e,r){let n=t.us.get(e)||Ze.min();r.forEach((a,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class NT{constructor(){this.activeTargetIds=WB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XU{constructor(){this.so=new NT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new NT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function Ky(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="WebChannelConnection";class t7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${s}`}get Fo(){return!1}Mo(r,n,a,s,l){const c=Ky(),d=this.xo(r,n.toUriEncodedString());Fe("RestConnection",`Sending RPC '${r}' ${c}:`,d,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,l),this.No(r,d,h,a).then(p=>(Fe("RestConnection",`Received RPC '${r}' ${c}: `,p),p),p=>{throw jc("RestConnection",`RPC '${r}' ${c} failed with error: `,p,"url: ",d,"request:",a),p})}Lo(r,n,a,s,l,c){return this.Mo(r,n,a,s,l)}Oo(r,n,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+au}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,l)=>r[l]=s),a&&a.headers.forEach((s,l)=>r[l]=s)}xo(r,n){const a=ZU[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,a){const s=Ky();return new Promise((l,c)=>{const d=new BD;d.setWithCredentials(!0),d.listenOnce(UD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Dp.NO_ERROR:const p=d.getResponseJson();Fe(Qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Dp.TIMEOUT:Fe(Qr,`RPC '${e}' ${s} timed out`),c(new Re(we.DEADLINE_EXCEEDED,"Request time out"));break;case Dp.HTTP_ERROR:const m=d.getStatus();if(Fe(Qr,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v?.error;if(x&&x.status&&x.message){const _=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(S)>=0?S:we.UNKNOWN}(x.status);c(new Re(_,x.message))}else c(new Re(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(we.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Fe(Qr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(a);Fe(Qr,`RPC '${e}' ${s} sending request:`,a),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const a=Ky(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=WD(),c=zD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=s.join("");Fe(Qr,`Creating RPC '${e}' stream ${a}: ${p}`,d);const m=l.createWebChannel(p,d);let v=!1,x=!1;const _=new e7({Io:b=>{x?Fe(Qr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(v||(Fe(Qr,`Opening RPC '${e}' stream ${a} transport.`),m.open(),v=!0),Fe(Qr,`RPC '${e}' stream ${a} sending:`,b),m.send(b))},To:()=>m.close()}),w=(b,S,j)=>{b.listen(S,A=>{try{j(A)}catch(I){setTimeout(()=>{throw I},0)}})};return w(m,od.EventType.OPEN,()=>{x||(Fe(Qr,`RPC '${e}' stream ${a} transport opened.`),_.yo())}),w(m,od.EventType.CLOSE,()=>{x||(x=!0,Fe(Qr,`RPC '${e}' stream ${a} transport closed`),_.So())}),w(m,od.EventType.ERROR,b=>{x||(x=!0,jc(Qr,`RPC '${e}' stream ${a} transport errored:`,b),_.So(new Re(we.UNAVAILABLE,"The operation could not be completed")))}),w(m,od.EventType.MESSAGE,b=>{var S;if(!x){const j=b.data[0];_t(!!j);const A=j,I=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(I){Fe(Qr,`RPC '${e}' stream ${a} received error:`,I);const N=I.status;let C=function(L){const R=dr[L];if(R!==void 0)return gM(R)}(N),P=I.message;C===void 0&&(C=we.INTERNAL,P="Unknown error status: "+N+" with message "+I.message),x=!0,_.So(new Re(C,P)),m.close()}else Fe(Qr,`RPC '${e}' stream ${a} received:`,j),_.bo(j)}}),w(c,qD.STAT_EVENT,b=>{b.stat===h_.PROXY?Fe(Qr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===h_.NOPROXY&&Fe(Qr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Yy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return new dU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,r,n=1e3,a=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=a,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,r,n,a,s,l,c,d){this.ui=e,this.Ho=n,this.Jo=a,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(Xi(r.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.Yo===r&&this.P_(n,a)},n=>{e(()=>{const a=new Re(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{n(()=>this.I_(a))}),this.stream.onMessage(a=>{n(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r7 extends AM{constructor(e,r,n,a,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,l),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=pU(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ze.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?li(l.readTime):Ze.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=__(this.serializer),r.addTarget=function(s,l){let c;const d=l.target;if(c=g_(d)?{documents:yU(s,d)}:{query:vU(s,d)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=xM(s,l.resumeToken);const h=x_(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){c.readTime=tm(s,l.snapshotVersion.toTimestamp());const h=x_(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=bU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=__(this.serializer),r.removeTarget=e,this.a_(r)}}class n7 extends AM{constructor(e,r,n,a,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,l),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=gU(e.writeResults,e.commitTime),n=li(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=__(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>mU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7 extends class{}{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Mo(e,b_(r,n),a,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(we.UNKNOWN,s.toString())})}Lo(e,r,n,a,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Lo(e,b_(r,n),a,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(we.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class i7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xi(r),this.D_=!1):Fe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,r,n,a,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(l=>{n.enqueueAndForget(async()=>{yl(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=et(d);h.L_.add(4),await Oh(h),h.q_.set("Unknown"),h.L_.delete(4),await y0(h)}(this))})}),this.q_=new i7(n,a)}}async function y0(t){if(yl(t))for(const e of t.B_)await e(!0)}async function Oh(t){for(const e of t.B_)await e(!1)}function CM(t,e){const r=et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Tk(r)?Ek(r):su(r).r_()&&Sk(r,e))}function Nk(t,e){const r=et(t),n=su(r);r.N_.delete(e),n.r_()&&PM(r,e),r.N_.size===0&&(n.r_()?n.o_():yl(r)&&r.q_.set("Unknown"))}function Sk(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}su(t).A_(e)}function PM(t,e){t.Q_.xe(e),su(t).R_(e)}function Ek(t){t.Q_=new oU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.q_.v_()}function Tk(t){return yl(t)&&!su(t).n_()&&t.N_.size>0}function yl(t){return et(t).L_.size===0}function IM(t){t.Q_=void 0}async function o7(t){t.q_.set("Online")}async function l7(t){t.N_.forEach((e,r)=>{Sk(t,e)})}async function c7(t,e){IM(t),Tk(t)?(t.q_.M_(e),Ek(t)):t.q_.set("Unknown")}async function u7(t,e,r){if(t.q_.set("Online"),e instanceof vM&&e.state===2&&e.cause)try{await async function(a,s){const l=s.cause;for(const c of s.targetIds)a.N_.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.N_.delete(c),a.Q_.removeTarget(c))}(t,e)}catch(n){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await rm(t,n)}else if(e instanceof $p?t.Q_.Ke(e):e instanceof yM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ze.min()))try{const n=await EM(t.localStore);r.compareTo(n)>=0&&await function(s,l){const c=s.Q_.rt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=s.N_.get(d);if(!p)return;s.N_.set(d,p.withResumeToken(Wr.EMPTY_BYTE_STRING,p.snapshotVersion)),PM(s,d);const m=new qs(p.target,d,h,p.sequenceNumber);Sk(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Fe("RemoteStore","Failed to raise snapshot:",n),await rm(t,n)}}async function rm(t,e,r){if(!Ah(e))throw e;t.L_.add(1),await Oh(t),t.q_.set("Offline"),r||(r=()=>EM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await y0(t)})}function OM(t,e){return e().catch(r=>rm(t,r,e))}async function v0(t){const e=et(t),r=to(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d7(e);)try{const a=await KU(e.localStore,n);if(a===null){e.O_.length===0&&r.o_();break}n=a.batchId,h7(e,a)}catch(a){await rm(e,a)}RM(e)&&DM(e)}function d7(t){return yl(t)&&t.O_.length<10}function h7(t,e){t.O_.push(e);const r=to(t);r.r_()&&r.V_&&r.m_(e.mutations)}function RM(t){return yl(t)&&!to(t).n_()&&t.O_.length>0}function DM(t){to(t).start()}async function f7(t){to(t).p_()}async function p7(t){const e=to(t);for(const r of t.O_)e.m_(r.mutations)}async function m7(t,e,r){const n=t.O_.shift(),a=xk.from(n,e,r);await OM(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await v0(t)}async function g7(t,e){e&&to(t).V_&&await async function(n,a){if(function(l){return aU(l)&&l!==we.ABORTED}(a.code)){const s=n.O_.shift();to(n).s_(),await OM(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,a)),await v0(n)}}(t,e),RM(t)&&DM(t)}async function ET(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const n=yl(r);r.L_.add(3),await Oh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await y0(r)}async function y7(t,e){const r=et(t);e?(r.L_.delete(2),await y0(r)):e||(r.L_.add(2),await Oh(r),r.q_.set("Unknown"))}function su(t){return t.K_||(t.K_=function(r,n,a){const s=et(r);return s.w_(),new r7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Eo:o7.bind(null,t),Ro:l7.bind(null,t),mo:c7.bind(null,t),d_:u7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Tk(t)?Ek(t):t.q_.set("Unknown")):(await t.K_.stop(),IM(t))})),t.K_}function to(t){return t.U_||(t.U_=function(r,n,a){const s=et(r);return s.w_(),new n7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:f7.bind(null,t),mo:g7.bind(null,t),f_:p7.bind(null,t),g_:m7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await v0(t)):(await t.U_.stop(),t.O_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,r,n,a,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,s){const l=Date.now()+n,c=new Ak(e,r,l,a,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ck(t,e){if(Xi("AsyncQueue",`${e}: ${t}`),Ah(t))return new Re(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||qe.comparator(r.key,n.key):(r,n)=>qe.comparator(r.key,n.key),this.keyedMap=ld(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new xc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,s=n.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new xc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.W_=new Jt(qe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ac{constructor(e,r,n,a,s,l,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,a,s){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Ac(e,r,xc.emptySet(r),l,n,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class x7{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const a=et(r),s=a.queries;a.queries=AT(),s.forEach((l,c)=>{for(const d of c.j_)d.onError(n)})})(this,new Re(we.ABORTED,"Firestore shutting down"))}}function AT(){return new iu(t=>aM(t),u0)}async function MM(t,e){const r=et(t);let n=3;const a=e.query;let s=r.queries.get(a);s?!s.H_()&&e.J_()&&(n=2):(s=new v7,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(a,!0);break;case 1:s.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(l){const c=Ck(l,`Initialization of query '${sc(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Pk(r)}async function LM(t,e){const r=et(t),n=e.query;let a=3;const s=r.queries.get(n);if(s){const l=s.j_.indexOf(e);l>=0&&(s.j_.splice(l,1),s.j_.length===0?a=e.J_()?0:1:!s.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function b7(t,e){const r=et(t);let n=!1;for(const a of e){const s=a.query,l=r.queries.get(s);if(l){for(const c of l.j_)c.X_(a)&&(n=!0);l.z_=a}}n&&Pk(r)}function w7(t,e,r){const n=et(t),a=n.queries.get(e);if(a)for(const s of a.j_)s.onError(r);n.queries.delete(e)}function Pk(t){t.Y_.forEach(e=>{e.next()})}var j_,CT;(CT=j_||(j_={})).ea="default",CT.Cache="cache";class $M{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Ac(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==j_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.key=e}}class VM{constructor(e){this.key=e}}class _7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=iM(e),this.Ra=new xc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new TT,a=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,l=a,c=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,m)=>{const v=a.get(p),x=d0(this.query,m)?m:null,_=!!v&&this.mutatedKeys.has(v.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;v&&x?v.data.isEqual(x.data)?_!==w&&(n.track({type:3,doc:x}),b=!0):this.ga(v,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||h&&this.Aa(x,h)<0)&&(c=!0)):!v&&x?(n.track({type:0,doc:x}),b=!0):v&&!x&&(n.track({type:1,doc:v}),b=!0,(d||h)&&(c=!0)),b&&(x?(l=l.add(x),s=w?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:c,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((p,m)=>function(x,_){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return w(x)-w(_)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),a=a!=null&&a;const c=r&&!a?this.ya():[],d=this.da.size===0&&this.current&&!a?1:0,h=d!==this.Ea;return this.Ea=d,l.length!==0||h?{snapshot:new Ac(this.query,e.Ra,s,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=st(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new VM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new FM(n))}),r}ba(e){this.Ta=e.Ts,this.da=st();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ac.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class k7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class j7{constructor(e){this.key=e,this.va=!1}}class N7{constructor(e,r,n,a,s,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new iu(c=>aM(c),u0),this.Ma=new Map,this.xa=new Set,this.Oa=new Jt(qe.comparator),this.Na=new Map,this.La=new _k,this.Ba={},this.ka=new Map,this.qa=Tc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S7(t,e,r=!0){const n=HM(t);let a;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.Da()):a=await BM(n,e,r,!0),a}async function E7(t,e){const r=HM(t);await BM(r,e,!0,!1)}async function BM(t,e,r,n){const a=await YU(t.localStore,oi(e)),s=a.targetId,l=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await T7(t,e,s,l==="current",a.resumeToken)),t.isPrimaryClient&&r&&CM(t.remoteStore,a),c}async function T7(t,e,r,n,a){t.Ka=(m,v,x)=>async function(w,b,S,j){let A=b.view.ma(S);A.ns&&(A=await jT(w.localStore,b.query,!1).then(({documents:P})=>b.view.ma(P,A)));const I=j&&j.targetChanges.get(b.targetId),N=j&&j.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(A,w.isPrimaryClient,I,N);return IT(w,b.targetId,C.wa),C.snapshot}(t,m,v,x);const s=await jT(t.localStore,e,!0),l=new _7(e,s.Ts),c=l.ma(s.documents),d=Ih.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),h=l.applyChanges(c,t.isPrimaryClient,d);IT(t,r,h.wa);const p=new k7(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function A7(t,e,r){const n=et(t),a=n.Fa.get(e),s=n.Ma.get(a.targetId);if(s.length>1)return n.Ma.set(a.targetId,s.filter(l=>!u0(l,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await k_(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Nk(n.remoteStore,a.targetId),N_(n,a.targetId)}).catch(Th)):(N_(n,a.targetId),await k_(n.localStore,a.targetId,!0))}async function C7(t,e){const r=et(t),n=r.Fa.get(e),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Nk(r.remoteStore,n.targetId))}async function P7(t,e,r){const n=$7(t);try{const a=await function(l,c){const d=et(l),h=kr.now(),p=c.reduce((x,_)=>x.add(_.key),st());let m,v;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let _=Ji(),w=st();return d.cs.getEntries(x,p).next(b=>{_=b,_.forEach((S,j)=>{j.isValidDocument()||(w=w.add(S))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,_)).next(b=>{m=b;const S=[];for(const j of c){const A=ZB(j,m.get(j.key).overlayedDocument);A!=null&&S.push(new ao(j.key,A,QD(A.value.mapValue),yn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,S,c)}).next(b=>{v=b;const S=b.applyToLocalDocumentSet(m,w);return d.documentOverlayCache.saveOverlays(x,b.batchId,S)})}).then(()=>({batchId:v.batchId,changes:oM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(l,c,d){let h=l.Ba[l.currentUser.toKey()];h||(h=new Jt(pt)),h=h.insert(c,d),l.Ba[l.currentUser.toKey()]=h}(n,a.batchId,r),await Rh(n,a.changes),await v0(n.remoteStore)}catch(a){const s=Ck(a,"Failed to persist write");r.reject(s)}}async function UM(t,e){const r=et(t);try{const n=await HU(r.localStore,e);e.targetChanges.forEach((a,s)=>{const l=r.Na.get(s);l&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.va=!0:a.modifiedDocuments.size>0?_t(l.va):a.removedDocuments.size>0&&(_t(l.va),l.va=!1))}),await Rh(r,n,e)}catch(n){await Th(n)}}function PT(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Fa.forEach((s,l)=>{const c=l.view.Z_(e);c.snapshot&&a.push(c.snapshot)}),function(l,c){const d=et(l);d.onlineState=c;let h=!1;d.queries.forEach((p,m)=>{for(const v of m.j_)v.Z_(c)&&(h=!0)}),h&&Pk(d)}(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function I7(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Na.get(e),s=a&&a.key;if(s){let l=new Jt(qe.comparator);l=l.insert(s,Zr.newNoDocument(s,Ze.min()));const c=st().add(s),d=new m0(Ze.min(),new Map,new Jt(pt),l,c);await UM(n,d),n.Oa=n.Oa.remove(s),n.Na.delete(e),Ik(n)}else await k_(n.localStore,e,!1).then(()=>N_(n,e,r)).catch(Th)}async function O7(t,e){const r=et(t),n=e.batch.batchId;try{const a=await WU(r.localStore,e);zM(r,n,null),qM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Rh(r,a)}catch(a){await Th(a)}}async function R7(t,e,r){const n=et(t);try{const a=await function(l,c){const d=et(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(m=>(_t(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);zM(n,e,r),qM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Rh(n,a)}catch(a){await Th(a)}}function qM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function zM(t,e,r){const n=et(t);let a=n.Ba[n.currentUser.toKey()];if(a){const s=a.get(e);s&&(r?s.reject(r):s.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function N_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||WM(t,n)})}function WM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Nk(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Ik(t))}function IT(t,e,r){for(const n of r)n instanceof FM?(t.La.addReference(n.key,e),D7(t,n)):n instanceof VM?(Fe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||WM(t,n.key)):Je()}function D7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Fe("SyncEngine","New document in limbo: "+r),t.xa.add(n),Ik(t))}function Ik(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new qe(Ft.fromString(e)),n=t.qa.next();t.Na.set(n,new j7(r)),t.Oa=t.Oa.insert(r,n),CM(t.remoteStore,new qs(oi(yk(r.path)),n,"TargetPurposeLimboResolution",dk.oe))}}async function Rh(t,e,r){const n=et(t),a=[],s=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{l.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){a.push(h);const m=jk.Wi(d.targetId,h);s.push(m)}}))}),await Promise.all(l),n.Ca.d_(a),await async function(d,h){const p=et(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(h,v=>Ne.forEach(v.$i,x=>p.persistence.referenceDelegate.addReference(m,v.targetId,x)).next(()=>Ne.forEach(v.Ui,x=>p.persistence.referenceDelegate.removeReference(m,v.targetId,x)))))}catch(m){if(!Ah(m))throw m;Fe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const x=p.os.get(v),_=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(_);p.os=p.os.insert(v,w)}}}(n.localStore,s))}async function M7(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const n=await SM(r.localStore,e);r.currentUser=e,function(s,l){s.ka.forEach(c=>{c.forEach(d=>{d.reject(new Re(we.CANCELLED,l))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rh(r,n.hs)}}function L7(t,e){const r=et(t),n=r.Na.get(e);if(n&&n.va)return st().add(n.key);{let a=st();const s=r.Ma.get(e);if(!s)return a;for(const l of s){const c=r.Fa.get(l);a=a.unionWith(c.view.Va)}return a}}function HM(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I7.bind(null,e),e.Ca.d_=b7.bind(null,e.eventManager),e.Ca.$a=w7.bind(null,e.eventManager),e}function $7(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R7.bind(null,e),e}class nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=g0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return zU(this.persistence,new UU,e.initialUser,this.serializer)}Ga(e){return new FU(kk.Zr,this.serializer)}Wa(e){return new XU}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nm.provider={build:()=>new nm};class S_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>PT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=M7.bind(null,this.syncEngine),await y7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x7}()}createDatastore(e){const r=g0(e.databaseInfo.databaseId),n=function(s){return new t7(s)}(e.databaseInfo);return function(s,l,c,d){return new a7(s,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,s,l,c){return new s7(n,a,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,r=>PT(this.syncEngine,r,0),function(){return ST.D()?new ST:new JU}())}createSyncEngine(e,r){return function(a,s,l,c,d,h,p){const m=new N7(a,s,l,c,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const s=et(a);Fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Oh(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}S_.provider={build:()=>new S_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e,r,n,a,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Jr.UNAUTHENTICATED,this.clientId=GD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async l=>{Fe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Ck(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Qy(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await SM(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await V7(t);Fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>ET(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>ET(e.remoteStore,a)),t._onlineComponents=e}async function V7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;jc("Error using user provided cache. Falling back to memory cache: "+r),await Qy(t,new nm)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await Qy(t,new nm);return t._offlineComponents}async function KM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await OT(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await OT(t,new S_))),t._onlineComponents}function B7(t){return KM(t).then(e=>e.syncEngine)}async function E_(t){const e=await KM(t),r=e.eventManager;return r.onListen=S7.bind(null,e.syncEngine),r.onUnlisten=A7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=E7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=C7.bind(null,e.syncEngine),r}function U7(t,e,r={}){const n=new Gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,l,c,d,h){const p=new GM({next:v=>{p.Za(),l.enqueueAndForget(()=>LM(s,m)),v.fromCache&&d.source==="server"?h.reject(new Re(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new $M(c,p,{includeMetadataChanges:!0,_a:!0});return MM(s,m)}(await E_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e,r){if(!r)throw new Re(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q7(t,e,r,n){if(e===!0&&n===!0)throw new Re(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function DT(t){if(!qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MT(t){if(qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function x0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function Yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=x0(t);throw new Re(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new oB;switch(n.type){case"firstParty":return new dB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=RT.get(r);n&&(Fe("ComponentProvider","Removing Datastore"),RT.delete(r),n.terminate())}(this),Promise.resolve()}}function z7(t,e,r,n={}){var a;const s=(t=Yn(t,b0))._getSettings(),l=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Jr.MOCK_USER;else{c=ZR(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Jr(h)}t._authCredentials=new lB(new HD(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class vn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ks extends vl{constructor(e,r,n){super(e,r,yk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new qe(e))}withConverter(e){return new Ks(this.firestore,e,this._path)}}function uc(t,e,...r){if(t=Vt(t),QM("collection","path",e),t instanceof b0){const n=Ft.fromString(e,...r);return MT(n),new Ks(t,null,n)}{if(!(t instanceof vn||t instanceof Ks))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ft.fromString(e,...r));return MT(n),new Ks(t.firestore,null,n)}}function Cn(t,e,...r){if(t=Vt(t),arguments.length===1&&(e=GD.newId()),QM("doc","path",e),t instanceof b0){const n=Ft.fromString(e,...r);return DT(n),new vn(t,null,new qe(n))}{if(!(t instanceof vn||t instanceof Ks))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ft.fromString(e,...r));return DT(n),new vn(t.firestore,t instanceof Ks?t.converter:null,new qe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TM(this,"async_queue_retry"),this.Vu=()=>{const n=Yy();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Yy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Yy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Gs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ah(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const a=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw Xi("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const a=Ak.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(a),a}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function FT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const s of n)if(s in a&&typeof a[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Zi extends b0{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new $T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $T(e),this._firestoreClient=void 0,await e}}}function W7(t,e){const r=typeof t=="object"?t:ek(),n=typeof t=="string"?t:"(default)",a=i0(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const s=QR("firestore");s&&z7(a,...s)}return a}function w0(t){if(t._terminated)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H7(t),t._firestoreClient}function H7(t){var e,r,n;const a=t._freezeSettings(),s=function(c,d,h,p){return new jB(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,YM(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new F7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cc(Wr.fromBase64String(e))}catch(r){throw new Re(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Cc(Wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==a[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=/^__.*__$/;class K7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ph(e,this.data,r,this.fieldTransforms)}}class XM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ao(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function JM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Dk{constructor(e,r,n,a,s,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Dk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return am(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JM(this.Cu)&&G7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Y7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||g0(e)}Qu(e,r,n,a=!1){return new Dk({Cu:e,methodName:r,qu:n,path:Br.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(t){const e=t._freezeSettings(),r=g0(t._databaseId);return new Y7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Mk(t,e,r,n,a,s={}){const l=t.Qu(s.merge||s.mergeFields?2:0,e,r,a);$k("Data must be an object, but it was:",l,n);const c=t4(n,l);let d,h;if(s.merge)d=new Gn(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=T_(e,m,r);if(!l.contains(v))throw new Re(we.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);n4(p,v)||p.push(v)}d=new Gn(p),h=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=l.fieldTransforms;return new K7(new Pn(c),d,h)}class k0 extends _0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof k0}}class Lk extends _0{_toFieldTransform(e){return new YB(e.path,new Rd)}isEqual(e){return e instanceof Lk}}function ZM(t,e,r,n){const a=t.Qu(1,e,r);$k("Data must be an object, but it was:",a,n);const s=[],l=Pn.empty();gl(n,(d,h)=>{const p=Fk(e,d,r);h=Vt(h);const m=a.Nu(p);if(h instanceof k0)s.push(p);else{const v=Lh(h,m);v!=null&&(s.push(p),l.set(p,v))}});const c=new Gn(s);return new XM(l,c,a.fieldTransforms)}function e4(t,e,r,n,a,s){const l=t.Qu(1,e,r),c=[T_(e,n,r)],d=[a];if(s.length%2!=0)throw new Re(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(T_(e,s[v])),d.push(s[v+1]);const h=[],p=Pn.empty();for(let v=c.length-1;v>=0;--v)if(!n4(h,c[v])){const x=c[v];let _=d[v];_=Vt(_);const w=l.Nu(x);if(_ instanceof k0)h.push(x);else{const b=Lh(_,w);b!=null&&(h.push(x),p.set(x,b))}}const m=new Gn(h);return new XM(p,m,l.fieldTransforms)}function Q7(t,e,r,n=!1){return Lh(r,t.Qu(n?4:3,e))}function Lh(t,e){if(r4(t=Vt(t)))return $k("Unsupported field value:",e,t),t4(t,e);if(t instanceof _0)return function(n,a){if(!JM(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,a){const s=[];let l=0;for(const c of n){let d=Lh(c,a.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(t,e)}return function(n,a){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HB(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=kr.fromDate(n);return{timestampValue:tm(a.serializer,s)}}if(n instanceof kr){const s=new kr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tm(a.serializer,s)}}if(n instanceof Ok)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Cc)return{bytesValue:xM(a.serializer,n._byteString)};if(n instanceof vn){const s=a.databaseId,l=n.firestore._databaseId;if(!l.isEqual(s))throw a.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Rk)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return vk(c.serializer,d)})}}}}}}(n,a);throw a.Bu(`Unsupported field value: ${x0(n)}`)}(t,e)}function t4(t,e){const r={};return KD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gl(t,(n,a)=>{const s=Lh(a,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function r4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kr||t instanceof Ok||t instanceof Cc||t instanceof vn||t instanceof _0||t instanceof Rk)}function $k(t,e,r){if(!r4(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=x0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function T_(t,e,r){if((e=Vt(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return Fk(t,e);throw am("Field path arguments must be of type string or ",t,!1,void 0,r)}const X7=new RegExp("[~\\*/\\[\\]]");function Fk(t,e,r){if(e.search(X7)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Dh(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function am(t,e,r,n,a){const s=n&&!n.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${n}`),l&&(d+=` in document ${a}`),d+=")"),new Re(we.INVALID_ARGUMENT,c+t+d)}function n4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,r,n,a,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(i4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class J7 extends a4{data(){return super.data()}}function i4(t,e){return typeof e=="string"?Fk(t,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vk{}class Z7 extends Vk{}function e8(t,e,...r){let n=[];e instanceof Vk&&n.push(e),n=n.concat(r),function(s){const l=s.filter(d=>d instanceof Uk).length,c=s.filter(d=>d instanceof Bk).length;if(l>1||l>0&&c>0)throw new Re(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Bk extends Z7{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Bk(e,r,n)}_apply(e){const r=this._parse(e);return o4(e._query,r),new vl(e.firestore,e.converter,y_(e._query,r))}_parse(e){const r=Mh(e.firestore);return function(s,l,c,d,h,p,m){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){BT(m,p);const x=[];for(const _ of m)x.push(VT(d,s,_));v={arrayValue:{values:x}}}else v=VT(d,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||BT(m,p),v=Q7(c,l,m,p==="in"||p==="not-in");return fr.create(h,p,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Uk extends Vk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Uk(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Ba.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,s){let l=a;const c=s.getFlattenedFilters();for(const d of c)o4(l,d),l=y_(l,d)}(e._query,r),new vl(e.firestore,e.converter,y_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VT(t,e,r){if(typeof(r=Vt(r))=="string"){if(r==="")throw new Re(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nM(e)&&r.indexOf("/")!==-1)throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ft.fromString(r));if(!qe.isDocumentKey(n))throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return oT(t,new qe(n))}if(r instanceof vn)return oT(t,r._key);throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x0(r)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o4(t,e){const r=function(a,s){for(const l of a)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class t8{convertValue(e,r="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gl(e,(a,s)=>{n[a]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,a;const s=(a=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(l=>or(l.doubleValue));return new Rk(s)}convertGeoPoint(e){return new Ok(or(e.latitude),or(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=fk(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pd(e));default:return null}}convertTimestamp(e){const r=eo(e);return new kr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ft.fromString(e);_t(NM(n));const a=new Id(n.get(1),n.get(3)),s=new qe(n.popFirst(5));return a.isEqual(r)||Xi(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l4 extends a4{constructor(e,r,n,a,s,l){super(e,r,n,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(i4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Fp extends l4{data(e={}){return super.data(e)}}class c4{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new ud(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Fp(this._firestore,this._userDataWriter,n.key,n,new ud(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(c=>{const d=new Fp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new ud(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const d=new Fp(a._firestore,a._userDataWriter,c.doc.key,c.doc,new ud(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:r8(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function r8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}class zk extends t8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,r)}}function n8(t){t=Yn(t,vl);const e=Yn(t.firestore,Zi),r=w0(e),n=new zk(e);return s4(t._query),U7(r,t._query).then(a=>new c4(e,n,t,a))}function UT(t,e,r){t=Yn(t,vn);const n=Yn(t.firestore,Zi),a=qk(t.converter,e,r);return $h(n,[Mk(Mh(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,yn.none())])}function im(t,e,r,...n){t=Yn(t,vn);const a=Yn(t.firestore,Zi),s=Mh(a);let l;return l=typeof(e=Vt(e))=="string"||e instanceof Dh?e4(s,"updateDoc",t._key,e,r,n):ZM(s,"updateDoc",t._key,e),$h(a,[l.toMutation(t._key,yn.exists(!0))])}function u4(t){return $h(Yn(t.firestore,Zi),[new p0(t._key,yn.none())])}function d4(t,e){const r=Yn(t.firestore,Zi),n=Cn(t),a=qk(t.converter,e);return $h(r,[Mk(Mh(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,yn.exists(!1))]).then(()=>n)}function Vp(t,...e){var r,n,a;t=Vt(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||FT(e[l])||(s=e[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(FT(e[l])){const m=e[l];e[l]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(a=m.complete)===null||a===void 0?void 0:a.bind(m)}let d,h,p;if(t instanceof vn)h=Yn(t.firestore,Zi),p=yk(t._key.path),d={next:m=>{e[l]&&e[l](a8(h,t,m))},error:e[l+1],complete:e[l+2]};else{const m=Yn(t,vl);h=Yn(m.firestore,Zi),p=m._query;const v=new zk(h);d={next:x=>{e[l]&&e[l](new c4(h,v,m,x))},error:e[l+1],complete:e[l+2]},s4(t._query)}return function(v,x,_,w){const b=new GM(w),S=new $M(x,b,_);return v.asyncQueue.enqueueAndForget(async()=>MM(await E_(v),S)),()=>{b.Za(),v.asyncQueue.enqueueAndForget(async()=>LM(await E_(v),S))}}(w0(h),p,c,d)}function $h(t,e){return function(n,a){const s=new Gs;return n.asyncQueue.enqueueAndForget(async()=>P7(await B7(n),a,s)),s.promise}(w0(t),e)}function a8(t,e,r){const n=r.docs.get(e._key),a=new zk(t);return new l4(t,a,e._key,n,new ud(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Mh(e)}set(e,r,n){this._verifyNotCommitted();const a=Xy(e,this._firestore),s=qk(a.converter,r,n),l=Mk(this._dataReader,"WriteBatch.set",a._key,s,a.converter!==null,n);return this._mutations.push(l.toMutation(a._key,yn.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const s=Xy(e,this._firestore);let l;return l=typeof(r=Vt(r))=="string"||r instanceof Dh?e4(this._dataReader,"WriteBatch.update",s._key,r,n,a):ZM(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(l.toMutation(s._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Xy(e,this._firestore);return this._mutations=this._mutations.concat(new p0(r._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xy(t,e){if((t=Vt(t)).firestore!==e)throw new Re(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Vs(){return new Lk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){return w0(t=Yn(t,Zi)),new i8(t,e=>$h(t,e))}(function(e,r=!0){(function(a){au=a})(pl),tl(new Js("firestore",(n,{instanceIdentifier:a,options:s})=>{const l=n.getProvider("app").getImmediate(),c=new Zi(new cB(n.getProvider("auth-internal")),new fB(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(h.options.projectId,p)}(l,a),l);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ai(rT,"4.7.3",e),ai(rT,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebasestorage.googleapis.com",f4="storageBucket",s8=2*60*1e3,o8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends mi{constructor(e,r,n=0){super(Zy(e),`Firebase Storage: ${r} (${Zy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ar;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ar||(ar={}));function Zy(t){return"storage/"+t}function Wk(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(ar.UNKNOWN,t)}function l8(t){return new ir(ar.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function c8(t){return new ir(ar.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ir(ar.UNAUTHENTICATED,t)}function d8(){return new ir(ar.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function h8(t){return new ir(ar.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f8(){return new ir(ar.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p8(){return new ir(ar.CANCELED,"User canceled the upload/download.")}function m8(t){return new ir(ar.INVALID_URL,"Invalid URL '"+t+"'.")}function g8(t){return new ir(ar.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y8(){return new ir(ar.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+f4+"' property when initializing the app?")}function v8(){return new ir(ar.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x8(){return new ir(ar.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b8(t){return new ir(ar.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function A_(t){return new ir(ar.INVALID_ARGUMENT,t)}function p4(){return new ir(ar.APP_DELETED,"The Firebase app was deleted.")}function w8(t){return new ir(ar.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bd(t,e){return new ir(ar.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yu(t){throw new ir(ar.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Kn.makeFromUrl(e,r)}catch{return new Kn(e,"")}if(n.path==="")return n;throw g8(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+a+l,"i"),d={bucket:1,path:3};function h(I){I.path_=decodeURIComponent(I.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${a}/o${v}`,"i"),_={bucket:1,path:3},w=r===h4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",S=new RegExp(`^https?://${w}/${a}/${b}`,"i"),A=[{regex:c,indices:d,postModify:s},{regex:x,indices:_,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let I=0;I<A.length;I++){const N=A[I],C=N.regex.exec(e);if(C){const P=C[N.indices.bucket];let O=C[N.indices.path];O||(O=""),n=new Kn(P,O),N.postModify(n);break}}if(n==null)throw m8(e);return n}}class _8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t,e,r){let n=1,a=null,s=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){a=setTimeout(()=>{a=null,t(x,d())},b)}function v(){s&&clearTimeout(s)}function x(b,...S){if(h){v();return}if(b){v(),p.call(null,b,...S);return}if(d()||l){v(),p.call(null,b,...S);return}n<64&&(n*=2);let A;c===1?(c=2,A=0):A=(n+Math.random())*1e3,m(A)}let _=!1;function w(b){_||(_=!0,v(),!h&&(a!==null?(b||(c=2),clearTimeout(a),m(0)):b||(c=1)))}return m(0),s=setTimeout(()=>{l=!0,w(!0)},r),w}function j8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){return t!==void 0}function S8(t){return typeof t=="object"&&!Array.isArray(t)}function Hk(t){return typeof t=="string"||t instanceof String}function qT(t){return Gk()&&t instanceof Blob}function Gk(){return typeof Blob<"u"}function zT(t,e,r,n){if(n<e)throw A_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw A_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function m4(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,r,n,a,s,l,c,d,h,p,m,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,_)=>{this.resolve_=x,this.reject_=_,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new mp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const c=s.getErrorCode()===Xo.NO_ERROR,d=s.getStatus();if(!c||E8(d,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Xo.ABORT;n(!1,new mp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new mp(h,s))})},r=(n,a)=>{const s=this.resolve_,l=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());N8(d)?s(d):s()}catch(d){l(d)}else if(c!==null){const d=Wk();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(a.canceled){const d=this.appDelete_?p4():p8();l(d)}else{const d=f8();l(d)}};this.canceled_?r(!1,new mp(!1,null,!0)):this.backoffId_=k8(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&j8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function A8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function O8(t,e,r,n,a,s,l=!0){const c=m4(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return P8(h,e),A8(h,r),C8(h,s),I8(h,n),new T8(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D8(...t){const e=R8();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Gk())return new Blob(t);throw new ir(ar.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function M8(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){if(typeof atob>"u")throw b8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ev{constructor(e,r){this.data=e,this.contentType=r||null}}function $8(t,e){switch(t){case ri.RAW:return new ev(g4(e));case ri.BASE64:case ri.BASE64URL:return new ev(y4(t,e));case ri.DATA_URL:return new ev(V8(e),B8(e))}throw Wk()}function g4(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,l=t.charCodeAt(++r);n=65536|(s&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function F8(t){let e;try{e=decodeURIComponent(t)}catch{throw bd(ri.DATA_URL,"Malformed data URL.")}return g4(e)}function y4(t,e){switch(t){case ri.BASE64:{const a=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(a||s)throw bd(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ri.BASE64URL:{const a=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(a||s)throw bd(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=L8(e)}catch(a){throw a.message.includes("polyfill")?a:bd(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class v4{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw bd(ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=U8(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function V8(t){const e=new v4(t);return e.base64?y4(ri.BASE64,e.rest):F8(e.rest)}function B8(t){return new v4(t).contentType}function U8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,r){let n=0,a="";qT(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(qT(this.data_)){const n=this.data_,a=M8(n,e,r);return a===null?null:new Bs(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Bs(n,!0)}}static getBlob(...e){if(Gk()){const r=e.map(n=>n instanceof Bs?n.data_:n);return new Bs(D8.apply(null,r))}else{const r=e.map(l=>Hk(l)?$8(ri.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const a=new Uint8Array(n);let s=0;return r.forEach(l=>{for(let c=0;c<l.length;c++)a[s++]=l[c]}),new Bs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){let e;try{e=JSON.parse(t)}catch{return null}return S8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z8(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function b4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t,e){return e}class fn{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||W8}}let gp=null;function H8(t){return!Hk(t)||t.length<2?t:b4(t)}function w4(){if(gp)return gp;const t=[];t.push(new fn("bucket")),t.push(new fn("generation")),t.push(new fn("metageneration")),t.push(new fn("name","fullPath",!0));function e(s,l){return H8(l)}const r=new fn("name");r.xform=e,t.push(r);function n(s,l){return l!==void 0?Number(l):l}const a=new fn("size");return a.xform=n,t.push(a),t.push(new fn("timeCreated")),t.push(new fn("updated")),t.push(new fn("md5Hash",null,!0)),t.push(new fn("cacheControl",null,!0)),t.push(new fn("contentDisposition",null,!0)),t.push(new fn("contentEncoding",null,!0)),t.push(new fn("contentLanguage",null,!0)),t.push(new fn("contentType",null,!0)),t.push(new fn("metadata","customMetadata",!0)),gp=t,gp}function G8(t,e){function r(){const n=t.bucket,a=t.fullPath,s=new Kn(n,a);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function K8(t,e,r){const n={};n.type="file";const a=r.length;for(let s=0;s<a;s++){const l=r[s];n[l.local]=l.xform(n,e[l.server])}return G8(n,t),n}function _4(t,e,r){const n=x4(e);return n===null?null:K8(t,n,r)}function Y8(t,e,r,n){const a=x4(e);if(a===null||!Hk(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const l=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,m=t.fullPath,v="/b/"+l(p)+"/o/"+l(m),x=Kk(v,r,n),_=m4({alt:"media",token:h});return x+_})[0]}function Q8(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const s=e[a];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class k4{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){if(!t)throw Wk()}function X8(t,e){function r(n,a){const s=_4(t,a,e);return j4(s!==null),s}return r}function J8(t,e){function r(n,a){const s=_4(t,a,e);return j4(s!==null),Y8(s,a,t.host,t._protocol)}return r}function N4(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=d8():a=u8():r.getStatus()===402?a=c8(t.bucket):r.getStatus()===403?a=h8(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function Z8(t){const e=N4(t);function r(n,a){let s=e(n,a);return n.getStatus()===404&&(s=l8(t.path)),s.serverResponse=a.serverResponse,s}return r}function eq(t,e,r){const n=e.fullServerUrl(),a=Kk(n,t.host,t._protocol),s="GET",l=t.maxOperationRetryTime,c=new k4(a,s,J8(t,r),l);return c.errorHandler=Z8(e),c}function tq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=tq(null,e)),n}function nq(t,e,r,n,a){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let I=0;I<2;I++)A=A+Math.random().toString().slice(2);return A}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=rq(e,n,a),p=Q8(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,v=`\r
--`+d+"--",x=Bs.getBlob(m,n,v);if(x===null)throw v8();const _={name:h.fullPath},w=Kk(s,t.host,t._protocol),b="POST",S=t.maxUploadRetryTime,j=new k4(w,b,X8(t,r),S);return j.urlParams=_,j.headers=l,j.body=x.uploadData(),j.errorHandler=N4(e),j}class aq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a){if(this.sent_)throw Yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iq extends aq{initXhr(){this.xhr_.responseType="text"}}function S4(){return new iq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,r){this._service=e,r instanceof Kn?this._location=r:this._location=Kn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ol(e,r)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b4(this._location.path)}get storage(){return this._service}get parent(){const e=q8(this._location.path);if(e===null)return null;const r=new Kn(this._location.bucket,e);return new ol(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw w8(e)}}function sq(t,e,r){t._throwIfRoot("uploadBytes");const n=nq(t.storage,t._location,w4(),new Bs(e,!0),r);return t.storage.makeRequestWithTokens(n,S4).then(a=>({metadata:a,ref:t}))}function oq(t){t._throwIfRoot("getDownloadURL");const e=eq(t.storage,t._location,w4());return t.storage.makeRequestWithTokens(e,S4).then(r=>{if(r===null)throw x8();return r})}function lq(t,e){const r=z8(t._location.path,e),n=new Kn(t._location.bucket,r);return new ol(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){return/^[A-Za-z]+:\/\//.test(t)}function uq(t,e){return new ol(t,e)}function E4(t,e){if(t instanceof Yk){const r=t;if(r._bucket==null)throw y8();const n=new ol(r,r._bucket);return e!=null?E4(n,e):n}else return e!==void 0?lq(t,e):t}function dq(t,e){if(e&&cq(e)){if(t instanceof Yk)return uq(t,e);throw A_("To use ref(service, url), the first argument must be a Storage instance.")}else return E4(t,e)}function WT(t,e){const r=e?.[f4];return r==null?null:Kn.makeFromBucketSpec(r,t)}function hq(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:ZR(a,t.app.options.projectId))}class Yk{constructor(e,r,n,a,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=s,this._bucket=null,this._host=h4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s8,this._maxUploadRetryTime=o8,this._requests=new Set,a!=null?this._bucket=Kn.makeFromBucketSpec(a,this._host):this._bucket=WT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=WT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ol(this,e)}_makeRequest(e,r,n,a,s=!0){if(this._deleted)return new _8(p4());{const l=O8(e,this._appId,n,a,r,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const HT="@firebase/storage",GT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="storage";function fq(t,e,r){return t=Vt(t),sq(t,e,r)}function pq(t){return t=Vt(t),oq(t)}function mq(t,e){return t=Vt(t),dq(t,e)}function gq(t=ek(),e){t=Vt(t);const n=i0(t,T4).getImmediate({identifier:e}),a=QR("storage");return a&&yq(n,...a),n}function yq(t,e,r,n={}){hq(t,e,r,n)}function vq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Yk(r,n,a,e,pl)}function xq(){tl(new Js(T4,vq,"PUBLIC").setMultipleInstances(!0)),ai(HT,GT,""),ai(HT,GT,"esm2017")}xq();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A4=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...c},d)=>B.createElement("svg",{ref:d,...wq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:A4("lucide",a),...c},[...l.map(([h,p])=>B.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=B.forwardRef(({className:n,...a},s)=>B.createElement(_q,{ref:s,iconNode:e,className:A4(`lucide-${bq(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Me("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Me("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Me("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Me("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Me("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Me("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Me("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),qq=({setUserId:t})=>{const[e,r]=B.useState(!0),[n,a]=B.useState(""),[s,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState(!1),m=FD(),v=async x=>{x.preventDefault(),d(""),p(!0);try{e?await WV(m,n,s):await zV(m,n,s)}catch(_){d(_.message)}finally{p(!1)}};return i.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx(qr,{className:"mx-auto h-12 w-auto text-cyan-500"}),i.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[i.jsxs("form",{className:"space-y-6",onSubmit:v,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>a(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:x=>l(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsx("p",{className:"text-sm text-red-700",children:c})}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",i.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},ei=({title:t,value:e,icon:r,color:n,subtext:a})=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),i.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),a&&i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:a})]})]});function L4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=L4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=L4(t))&&(n&&(n+=" "),n+=e);return n}var rv,XT;function On(){if(XT)return rv;XT=1;var t=Array.isArray;return rv=t,rv}var nv,JT;function $4(){if(JT)return nv;JT=1;var t=typeof lp=="object"&&lp&&lp.Object===Object&&lp;return nv=t,nv}var av,ZT;function yi(){if(ZT)return av;ZT=1;var t=$4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return av=r,av}var iv,eA;function Vh(){if(eA)return iv;eA=1;var t=yi(),e=t.Symbol;return iv=e,iv}var sv,tA;function zq(){if(tA)return sv;tA=1;var t=Vh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(l){var c=r.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var p=n.call(l);return h&&(c?l[a]=d:delete l[a]),p}return sv=s,sv}var ov,rA;function Wq(){if(rA)return ov;rA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ov=r,ov}var lv,nA;function as(){if(nA)return lv;nA=1;var t=Vh(),e=zq(),r=Wq(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?a:n:s&&s in Object(c)?e(c):r(c)}return lv=l,lv}var cv,aA;function is(){if(aA)return cv;aA=1;function t(e){return e!=null&&typeof e=="object"}return cv=t,cv}var uv,iA;function ou(){if(iA)return uv;iA=1;var t=as(),e=is(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return uv=n,uv}var dv,sA;function Zk(){if(sA)return dv;sA=1;var t=On(),e=ou(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||l!=null&&s in Object(l)}return dv=a,dv}var hv,oA;function so(){if(oA)return hv;oA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return hv=t,hv}var fv,lA;function ej(){if(lA)return fv;lA=1;var t=as(),e=so(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==n||d==a||d==r||d==s}return fv=l,fv}var pv,cA;function Hq(){if(cA)return pv;cA=1;var t=yi(),e=t["__core-js_shared__"];return pv=e,pv}var mv,uA;function Gq(){if(uA)return mv;uA=1;var t=Hq(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return mv=r,mv}var gv,dA;function F4(){if(dA)return gv;dA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return gv=r,gv}var yv,hA;function Kq(){if(hA)return yv;hA=1;var t=ej(),e=Gq(),r=so(),n=F4(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,h=c.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var x=t(v)?p:s;return x.test(n(v))}return yv=m,yv}var vv,fA;function Yq(){if(fA)return vv;fA=1;function t(e,r){return e?.[r]}return vv=t,vv}var xv,pA;function bl(){if(pA)return xv;pA=1;var t=Kq(),e=Yq();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return xv=r,xv}var bv,mA;function E0(){if(mA)return bv;mA=1;var t=bl(),e=t(Object,"create");return bv=e,bv}var wv,gA;function Qq(){if(gA)return wv;gA=1;var t=E0();function e(){this.__data__=t?t(null):{},this.size=0}return wv=e,wv}var _v,yA;function Xq(){if(yA)return _v;yA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return _v=t,_v}var kv,vA;function Jq(){if(vA)return kv;vA=1;var t=E0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return n.call(l,s)?l[s]:void 0}return kv=a,kv}var jv,xA;function Zq(){if(xA)return jv;xA=1;var t=E0(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return jv=n,jv}var Nv,bA;function ez(){if(bA)return Nv;bA=1;var t=E0(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return Nv=r,Nv}var Sv,wA;function tz(){if(wA)return Sv;wA=1;var t=Qq(),e=Xq(),r=Jq(),n=Zq(),a=ez();function s(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Sv=s,Sv}var Ev,_A;function rz(){if(_A)return Ev;_A=1;function t(){this.__data__=[],this.size=0}return Ev=t,Ev}var Tv,kA;function tj(){if(kA)return Tv;kA=1;function t(e,r){return e===r||e!==e&&r!==r}return Tv=t,Tv}var Av,jA;function T0(){if(jA)return Av;jA=1;var t=tj();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Av=e,Av}var Cv,NA;function nz(){if(NA)return Cv;NA=1;var t=T0(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,l=t(s,a);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():r.call(s,l,1),--this.size,!0}return Cv=n,Cv}var Pv,SA;function az(){if(SA)return Pv;SA=1;var t=T0();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Pv=e,Pv}var Iv,EA;function iz(){if(EA)return Iv;EA=1;var t=T0();function e(r){return t(this.__data__,r)>-1}return Iv=e,Iv}var Ov,TA;function sz(){if(TA)return Ov;TA=1;var t=T0();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Ov=e,Ov}var Rv,AA;function A0(){if(AA)return Rv;AA=1;var t=rz(),e=nz(),r=az(),n=iz(),a=sz();function s(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Rv=s,Rv}var Dv,CA;function rj(){if(CA)return Dv;CA=1;var t=bl(),e=yi(),r=t(e,"Map");return Dv=r,Dv}var Mv,PA;function oz(){if(PA)return Mv;PA=1;var t=tz(),e=A0(),r=rj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Mv=n,Mv}var Lv,IA;function lz(){if(IA)return Lv;IA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Lv=t,Lv}var $v,OA;function C0(){if(OA)return $v;OA=1;var t=lz();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return $v=e,$v}var Fv,RA;function cz(){if(RA)return Fv;RA=1;var t=C0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Fv=e,Fv}var Vv,DA;function uz(){if(DA)return Vv;DA=1;var t=C0();function e(r){return t(this,r).get(r)}return Vv=e,Vv}var Bv,MA;function dz(){if(MA)return Bv;MA=1;var t=C0();function e(r){return t(this,r).has(r)}return Bv=e,Bv}var Uv,LA;function hz(){if(LA)return Uv;LA=1;var t=C0();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return Uv=e,Uv}var qv,$A;function nj(){if($A)return qv;$A=1;var t=oz(),e=cz(),r=uz(),n=dz(),a=hz();function s(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,qv=s,qv}var zv,FA;function V4(){if(FA)return zv;FA=1;var t=nj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var l=arguments,c=a?a.apply(this,l):l[0],d=s.cache;if(d.has(c))return d.get(c);var h=n.apply(this,l);return s.cache=d.set(c,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,zv=r,zv}var Wv,VA;function fz(){if(VA)return Wv;VA=1;var t=V4(),e=500;function r(n){var a=t(n,function(l){return s.size===e&&s.clear(),l}),s=a.cache;return a}return Wv=r,Wv}var Hv,BA;function pz(){if(BA)return Hv;BA=1;var t=fz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(l,c,d,h){s.push(d?h.replace(r,"$1"):c||l)}),s});return Hv=n,Hv}var Gv,UA;function aj(){if(UA)return Gv;UA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return Gv=t,Gv}var Kv,qA;function mz(){if(qA)return Kv;qA=1;var t=Vh(),e=aj(),r=On(),n=ou(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return e(c,l)+"";if(n(c))return s?s.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Kv=l,Kv}var Yv,zA;function B4(){if(zA)return Yv;zA=1;var t=mz();function e(r){return r==null?"":t(r)}return Yv=e,Yv}var Qv,WA;function U4(){if(WA)return Qv;WA=1;var t=On(),e=Zk(),r=pz(),n=B4();function a(s,l){return t(s)?s:e(s,l)?[s]:r(n(s))}return Qv=a,Qv}var Xv,HA;function P0(){if(HA)return Xv;HA=1;var t=ou();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Xv=e,Xv}var Jv,GA;function ij(){if(GA)return Jv;GA=1;var t=U4(),e=P0();function r(n,a){a=t(a,n);for(var s=0,l=a.length;n!=null&&s<l;)n=n[e(a[s++])];return s&&s==l?n:void 0}return Jv=r,Jv}var Zv,KA;function q4(){if(KA)return Zv;KA=1;var t=ij();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return Zv=e,Zv}var gz=q4();const Qn=xt(gz);var ex,YA;function yz(){if(YA)return ex;YA=1;function t(e){return e==null}return ex=t,ex}var vz=yz();const at=xt(vz);var tx,QA;function xz(){if(QA)return tx;QA=1;var t=as(),e=On(),r=is(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return tx=a,tx}var bz=xz();const ll=xt(bz);var wz=ej();const Xe=xt(wz);var _z=so();const lu=xt(_z);var rx={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function kz(){if(XA)return yt;XA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var S=b.$$typeof;switch(S){case t:switch(b=b.type,b){case r:case a:case n:case h:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case l:case d:case v:case m:case s:return b;default:return S}}case e:return S}}}return yt.ContextConsumer=l,yt.ContextProvider=s,yt.Element=t,yt.ForwardRef=d,yt.Fragment=r,yt.Lazy=v,yt.Memo=m,yt.Portal=e,yt.Profiler=a,yt.StrictMode=n,yt.Suspense=h,yt.SuspenseList=p,yt.isAsyncMode=function(){return!1},yt.isConcurrentMode=function(){return!1},yt.isContextConsumer=function(b){return w(b)===l},yt.isContextProvider=function(b){return w(b)===s},yt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yt.isForwardRef=function(b){return w(b)===d},yt.isFragment=function(b){return w(b)===r},yt.isLazy=function(b){return w(b)===v},yt.isMemo=function(b){return w(b)===m},yt.isPortal=function(b){return w(b)===e},yt.isProfiler=function(b){return w(b)===a},yt.isStrictMode=function(b){return w(b)===n},yt.isSuspense=function(b){return w(b)===h},yt.isSuspenseList=function(b){return w(b)===p},yt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===h||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===s||b.$$typeof===l||b.$$typeof===d||b.$$typeof===_||b.getModuleId!==void 0)},yt.typeOf=w,yt}var JA;function jz(){return JA||(JA=1,rx.exports=kz()),rx.exports}var Nz=jz(),nx,ZA;function z4(){if(ZA)return nx;ZA=1;var t=as(),e=is(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return nx=n,nx}var ax,e2;function Sz(){if(e2)return ax;e2=1;var t=z4();function e(r){return t(r)&&r!=+r}return ax=e,ax}var Ez=Sz();const Bh=xt(Ez);var Tz=z4();const Az=xt(Tz);var pn=function(e){return e===0?0:e>0?1:-1},Ho=function(e){return ll(e)&&e.indexOf("%")===e.length-1},Te=function(e){return Az(e)&&!Bh(e)},Cz=function(e){return at(e)},_r=function(e){return Te(e)||ll(e)},Pz=0,Uh=function(e){var r=++Pz;return"".concat(e||"").concat(r)},mn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!ll(e))return n;var s;if(Ho(e)){var l=e.indexOf("%");s=r*parseFloat(e.slice(0,l))/100}else s=+e;return Bh(s)&&(s=n),a&&s>r&&(s=r),s},Us=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Iz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Rs=function(e,r){return Te(e)&&Te(r)?function(n){return e+n*(r-e)}:function(){return r}};function P_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Qn(n,e))===r})}var Oz=function(e,r){return Te(e)&&Te(r)?e-r:ll(e)&&ll(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function wc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function I_(t){"@babel/helpers - typeof";return I_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I_(t)}var Rz=["viewBox","children"],Dz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t2=["points","pathLength"],ix={svg:Rz,polygon:t2,polyline:t2},sj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!lu(n))return null;var a={};return Object.keys(n).forEach(function(s){sj.includes(s)&&(a[s]=r||function(l){return n[s](n,l)})}),a},Mz=function(e,r,n){return function(a){return e(r,n,a),null}},cl=function(e,r,n){if(!lu(e)||I_(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var l=e[s];sj.includes(s)&&typeof l=="function"&&(a||(a={}),a[s]=Mz(l,r,n))}),a},Lz=["children"],$z=["children"];function r2(t,e){if(t==null)return{};var r=Fz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var n2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},a2=null,sx=null,oj=function t(e){if(e===a2&&Array.isArray(sx))return sx;var r=[];return B.Children.forEach(e,function(n){at(n)||(Nz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),sx=r,a2=e,r};function xa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Gi(a)}):n=[Gi(e)],oj(t).forEach(function(a){var s=Qn(a,"type.displayName")||Qn(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Wn(t,e){var r=xa(t,e);return r&&r[0]}var i2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Te(n)||n<=0||!Te(a)||a<=0)},Vz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bz=function(e){return e&&e.type&&ll(e.type)&&Vz.indexOf(e.type)>=0},Uz=function(e,r,n,a){var s,l=(s=ix?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Xe(e)&&(a&&l.includes(r)||Dz.includes(r))||n&&sj.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(B.isValidElement(e)&&(a=e.props),!lu(a))return null;var s={};return Object.keys(a).forEach(function(l){var c;Uz((c=a)===null||c===void 0?void 0:c[l],l,r,n)&&(s[l]=a[l])}),s},O_=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return s2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],l=r[a];if(Array.isArray(s)||Array.isArray(l)){if(!t(s,l))return!1}else if(!s2(s,l))return!1}return!0},s2=function(e,r){if(at(e)&&at(r))return!0;if(!at(e)&&!at(r)){var n=e.props||{},a=n.children,s=r2(n,Lz),l=r.props||{},c=l.children,d=r2(l,$z);return a&&c?wc(s,d)&&O_(a,c):!a&&!c?wc(s,d):!1}return!1},o2=function(e,r){var n=[],a={};return oj(e).forEach(function(s,l){if(Bz(s))n.push(s);else if(s){var c=Gi(s.type),d=r[c]||{},h=d.handler,p=d.once;if(h&&(!p||!a[c])){var m=h(s,c,l);n.push(m),a[c]=!0}}}),n},qz=function(e){var r=e&&e.type;return r&&n2[r]?n2[r]:null},zz=function(e,r){return oj(r).indexOf(e)},Wz=["children","width","height","viewBox","className","style","title","desc"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function Hz(t,e){if(t==null)return{};var r=Gz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D_(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,l=t.style,c=t.title,d=t.desc,h=Hz(t,Wz),p=a||{width:r,height:n,x:0,y:0},m=tt("recharts-surface",s);return G.createElement("svg",R_({},Ye(h,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,d),e)}var Kz=["children","className"];function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M_.apply(this,arguments)}function Yz(t,e){if(t==null)return{};var r=Qz(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wt=G.forwardRef(function(t,e){var r=t.children,n=t.className,a=Yz(t,Kz),s=tt("recharts-layer",n);return G.createElement("g",M_({className:s},Ye(a,!0),{ref:e}),r)}),Fa=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},ox,l2;function Xz(){if(l2)return ox;l2=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(s);++a<s;)l[a]=e[a+r];return l}return ox=t,ox}var lx,c2;function Jz(){if(c2)return lx;c2=1;var t=Xz();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return lx=e,lx}var cx,u2;function W4(){if(u2)return cx;u2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+a+s+"]");function d(h){return c.test(h)}return cx=d,cx}var ux,d2;function Zz(){if(d2)return ux;d2=1;function t(e){return e.split("")}return ux=t,ux}var dx,h2;function eW(){if(h2)return dx;h2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",_=h+"?",w="["+s+"]?",b="(?:"+x+"(?:"+[p,m,v].join("|")+")"+w+_+")*",S=w+_+b,j="(?:"+[p+c+"?",c,m,v,l].join("|")+")",A=RegExp(d+"(?="+d+")|"+j+S,"g");function I(N){return N.match(A)||[]}return dx=I,dx}var hx,f2;function tW(){if(f2)return hx;f2=1;var t=Zz(),e=W4(),r=eW();function n(a){return e(a)?r(a):t(a)}return hx=n,hx}var fx,p2;function rW(){if(p2)return fx;p2=1;var t=Jz(),e=W4(),r=tW(),n=B4();function a(s){return function(l){l=n(l);var c=e(l)?r(l):void 0,d=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return d[s]()+h}}return fx=a,fx}var px,m2;function nW(){if(m2)return px;m2=1;var t=rW(),e=t("toUpperCase");return px=e,px}var aW=nW();const I0=xt(aW);function It(t){return function(){return t}}const H4=Math.cos,um=Math.sin,Ua=Math.sqrt,dm=Math.PI,O0=2*dm,L_=Math.PI,$_=2*L_,Vo=1e-6,iW=$_-Vo;function G4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function sW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return G4;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class oW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?G4:sW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=n-e,h=a-r,p=l-e,m=c-r,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Vo)if(!(Math.abs(m*d-h*p)>Vo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,_=a-c,w=d*d+h*h,b=x*x+_*_,S=Math.sqrt(w),j=Math.sqrt(v),A=s*Math.tan((L_-Math.acos((w+v-b)/(2*S*j)))/2),I=A/j,N=A/S;Math.abs(I-1)>Vo&&this._append`L${e+I*p},${r+I*m}`,this._append`A${s},${s},0,0,${+(m*x>p*_)},${this._x1=e+N*d},${this._y1=r+N*h}`}}arc(e,r,n,a,s,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),h=e+c,p=r+d,m=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Vo||Math.abs(this._y1-p)>Vo)&&this._append`L${h},${p}`,n&&(v<0&&(v=v%$_+$_),v>iW?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:v>Vo&&this._append`A${n},${n},0,${+(v>=L_)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function lj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new oW(e)}function cj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K4(t){this._context=t}K4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function R0(t){return new K4(t)}function Y4(t){return t[0]}function Q4(t){return t[1]}function X4(t,e){var r=It(!0),n=null,a=R0,s=null,l=lj(c);t=typeof t=="function"?t:t===void 0?Y4:It(t),e=typeof e=="function"?e:e===void 0?Q4:It(e);function c(d){var h,p=(d=cj(d)).length,m,v=!1,x;for(n==null&&(s=a(x=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,d),+e(m,h,d));if(x)return s=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:It(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:It(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:It(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),c):n},c}function vp(t,e,r){var n=null,a=It(!0),s=null,l=R0,c=null,d=lj(h);t=typeof t=="function"?t:t===void 0?Y4:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Q4:It(+r);function h(m){var v,x,_,w=(m=cj(m)).length,b,S=!1,j,A=new Array(w),I=new Array(w);for(s==null&&(c=l(j=d())),v=0;v<=w;++v){if(!(v<w&&a(b=m[v],v,m))===S)if(S=!S)x=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),_=v-1;_>=x;--_)c.point(A[_],I[_]);c.lineEnd(),c.areaEnd()}S&&(A[v]=+t(b,v,m),I[v]=+e(b,v,m),c.point(n?+n(b,v,m):A[v],r?+r(b,v,m):I[v]))}if(j)return c=null,j+""||null}function p(){return X4().defined(a).curve(l).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:It(!!m),h):a},h.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),h):s},h}class J4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function lW(t){return new J4(t,!0)}function cW(t){return new J4(t,!1)}const uj={draw(t,e){const r=Ua(e/dm);t.moveTo(r,0),t.arc(0,0,r,0,O0)}},uW={draw(t,e){const r=Ua(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Z4=Ua(1/3),dW=Z4*2,hW={draw(t,e){const r=Ua(e/dW),n=r*Z4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fW={draw(t,e){const r=Ua(e),n=-r/2;t.rect(n,n,r,r)}},pW=.8908130915292852,e3=um(dm/10)/um(7*dm/10),mW=um(O0/10)*e3,gW=-H4(O0/10)*e3,yW={draw(t,e){const r=Ua(e*pW),n=mW*r,a=gW*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const l=O0*s/5,c=H4(l),d=um(l);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*a,d*n+c*a)}t.closePath()}},mx=Ua(3),vW={draw(t,e){const r=-Ua(e/(mx*3));t.moveTo(0,r*2),t.lineTo(-mx*r,-r),t.lineTo(mx*r,-r),t.closePath()}},ha=-.5,fa=Ua(3)/2,F_=1/Ua(12),xW=(F_/2+1)*3,bW={draw(t,e){const r=Ua(e/xW),n=r/2,a=r*F_,s=n,l=r*F_+r,c=-s,d=l;t.moveTo(n,a),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(ha*n-fa*a,fa*n+ha*a),t.lineTo(ha*s-fa*l,fa*s+ha*l),t.lineTo(ha*c-fa*d,fa*c+ha*d),t.lineTo(ha*n+fa*a,ha*a-fa*n),t.lineTo(ha*s+fa*l,ha*l-fa*s),t.lineTo(ha*c+fa*d,ha*d-fa*c),t.closePath()}};function wW(t,e){let r=null,n=lj(a);t=typeof t=="function"?t:It(t||uj),e=typeof e=="function"?e:It(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:It(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:It(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function hm(){}function fm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function t3(t){this._context=t}t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _W(t){return new t3(t)}function r3(t){this._context=t}r3.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kW(t){return new r3(t)}function n3(t){this._context=t}n3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:fm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jW(t){return new n3(t)}function a3(t){this._context=t}a3.prototype={areaStart:hm,areaEnd:hm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NW(t){return new a3(t)}function g2(t){return t<0?-1:1}function y2(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),c=(s*a+l*n)/(n+a);return(g2(s)+g2(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function v2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function gx(t,e,r){var n=t._x0,a=t._y0,s=t._x1,l=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,a+c*e,s-c,l-c*r,s,l)}function pm(t){this._context=t}pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gx(this,this._t0,v2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gx(this,v2(this,r=y2(this,t,e)),r);break;default:gx(this,this._t0,r=y2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function i3(t){this._context=new s3(t)}(i3.prototype=Object.create(pm.prototype)).point=function(t,e){pm.prototype.point.call(this,e,t)};function s3(t){this._context=t}s3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function SW(t){return new pm(t)}function EW(t){return new i3(t)}function o3(t){this._context=t}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=x2(t),a=x2(e),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function x2(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function TW(t){return new o3(t)}function D0(t,e){this._context=t,this._t=e}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function AW(t){return new D0(t,.5)}function CW(t){return new D0(t,0)}function PW(t){return new D0(t,1)}function Oc(t,e){if((l=t.length)>1)for(var r=1,n,a,s=t[e[0]],l,c=s.length;r<l;++r)for(a=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function V_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function IW(t,e){return t[e]}function OW(t){const e=[];return e.key=t,e}function RW(){var t=It([]),e=V_,r=Oc,n=IW;function a(s){var l=Array.from(t.apply(this,arguments),OW),c,d=l.length,h=-1,p;for(const m of s)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(m,l[c].key,h,s)]).data=m;for(c=0,p=cj(e(l));c<d;++c)l[p[c]].index=c;return r(l,p),l}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:It(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:It(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?V_:typeof s=="function"?s:It(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Oc,a):r},a}function DW(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}Oc(t,e)}}function MW(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var l=0,c=0;l<a;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Oc(t,e)}}function LW(t,e){if(!(!((l=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var c=0,d=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[n][1]||0,v=p[n-1][1]||0,x=(m-v)/2,_=0;_<c;++_){var w=t[e[_]],b=w[n][1]||0,S=w[n-1][1]||0;x+=b-S}d+=m,h+=x*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Oc(t,e)}}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}var $W=["type","size","sizeType"];function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B_.apply(this,arguments)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){FW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FW(t,e,r){return e=VW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VW(t){var e=BW(t,"string");return Vd(e)=="symbol"?e:e+""}function BW(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UW(t,e){if(t==null)return{};var r=qW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var l3={symbolCircle:uj,symbolCross:uW,symbolDiamond:hW,symbolSquare:fW,symbolStar:yW,symbolTriangle:vW,symbolWye:bW},zW=Math.PI/180,WW=function(e){var r="symbol".concat(I0(e));return l3[r]||uj},HW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*zW;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GW=function(e,r){l3["symbol".concat(I0(e))]=r},dj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,l=e.sizeType,c=l===void 0?"area":l,d=UW(e,$W),h=w2(w2({},d),{},{type:n,size:s,sizeType:c}),p=function(){var b=WW(n),S=wW().type(b).size(HW(s,c,n));return S()},m=h.className,v=h.cx,x=h.cy,_=Ye(h,!0);return v===+v&&x===+x&&s===+s?G.createElement("path",B_({},_,{className:tt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(x,")"),d:p()})):null};dj.registerSymbol=GW;function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U_.apply(this,arguments)}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){Bd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u3(n.key),n)}}function XW(t,e,r){return e&&QW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JW(t,e,r){return e=mm(e),ZW(t,c3()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function ZW(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eH(t)}function eH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c3=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function tH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q_(t,e)}function Bd(t,e,r){return e=u3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u3(t){var e=rH(t,"string");return Rc(e)=="symbol"?e:e+""}function rH(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=32,hj=function(t){function e(){return YW(this,e),JW(this,e,arguments)}return tH(e,t),XW(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=pa/2,l=pa/6,c=pa/3,d=n.inactive?a:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:pa,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(pa,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(pa/8,"h").concat(pa,"v").concat(pa*3/4,"h").concat(-pa,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var h=KW({},n);return delete h.legendIcon,G.cloneElement(n.legendIcon,h)}return G.createElement(dj,{fill:d,cx:s,cy:s,size:pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,l=a.iconSize,c=a.layout,d=a.formatter,h=a.inactiveColor,p={x:0,y:0,width:pa,height:pa},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,_){var w=x.formatter||d,b=tt(Bd(Bd({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",x.inactive));if(x.type==="none")return null;var S=Xe(x.value)?null:x.value;Fa(!Xe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=x.inactive?h:x.color;return G.createElement("li",U_({className:b,style:m,key:"legend-item-".concat(_)},cl(n.props,x,_)),G.createElement(D_,{width:l,height:l,viewBox:p,style:v},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w?w(S,x,_):S))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,l=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(B.PureComponent);Bd(hj,"displayName","Legend");Bd(hj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yx,k2;function nH(){if(k2)return yx;k2=1;var t=A0();function e(){this.__data__=new t,this.size=0}return yx=e,yx}var vx,j2;function aH(){if(j2)return vx;j2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return vx=t,vx}var xx,N2;function iH(){if(N2)return xx;N2=1;function t(e){return this.__data__.get(e)}return xx=t,xx}var bx,S2;function sH(){if(S2)return bx;S2=1;function t(e){return this.__data__.has(e)}return bx=t,bx}var wx,E2;function oH(){if(E2)return wx;E2=1;var t=A0(),e=rj(),r=nj(),n=200;function a(s,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([s,l]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(s,l),this.size=c.size,this}return wx=a,wx}var _x,T2;function d3(){if(T2)return _x;T2=1;var t=A0(),e=nH(),r=aH(),n=iH(),a=sH(),s=oH();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=s,_x=l,_x}var kx,A2;function lH(){if(A2)return kx;A2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return kx=e,kx}var jx,C2;function cH(){if(C2)return jx;C2=1;function t(e){return this.__data__.has(e)}return jx=t,jx}var Nx,P2;function h3(){if(P2)return Nx;P2=1;var t=nj(),e=lH(),r=cH();function n(a){var s=-1,l=a==null?0:a.length;for(this.__data__=new t;++s<l;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Nx=n,Nx}var Sx,I2;function f3(){if(I2)return Sx;I2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Sx=t,Sx}var Ex,O2;function p3(){if(O2)return Ex;O2=1;function t(e,r){return e.has(r)}return Ex=t,Ex}var Tx,R2;function m3(){if(R2)return Tx;R2=1;var t=h3(),e=f3(),r=p3(),n=1,a=2;function s(l,c,d,h,p,m){var v=d&n,x=l.length,_=c.length;if(x!=_&&!(v&&_>x))return!1;var w=m.get(l),b=m.get(c);if(w&&b)return w==c&&b==l;var S=-1,j=!0,A=d&a?new t:void 0;for(m.set(l,c),m.set(c,l);++S<x;){var I=l[S],N=c[S];if(h)var C=v?h(N,I,S,c,l,m):h(I,N,S,l,c,m);if(C!==void 0){if(C)continue;j=!1;break}if(A){if(!e(c,function(P,O){if(!r(A,O)&&(I===P||p(I,P,d,h,m)))return A.push(O)})){j=!1;break}}else if(!(I===N||p(I,N,d,h,m))){j=!1;break}}return m.delete(l),m.delete(c),j}return Tx=s,Tx}var Ax,D2;function uH(){if(D2)return Ax;D2=1;var t=yi(),e=t.Uint8Array;return Ax=e,Ax}var Cx,M2;function dH(){if(M2)return Cx;M2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return Cx=t,Cx}var Px,L2;function fj(){if(L2)return Px;L2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Px=t,Px}var Ix,$2;function hH(){if($2)return Ix;$2=1;var t=Vh(),e=uH(),r=tj(),n=m3(),a=dH(),s=fj(),l=1,c=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",x="[object RegExp]",_="[object Set]",w="[object String]",b="[object Symbol]",S="[object ArrayBuffer]",j="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function N(C,P,O,L,R,D,F){switch(O){case j:if(C.byteLength!=P.byteLength||C.byteOffset!=P.byteOffset)return!1;C=C.buffer,P=P.buffer;case S:return!(C.byteLength!=P.byteLength||!D(new e(C),new e(P)));case d:case h:case v:return r(+C,+P);case p:return C.name==P.name&&C.message==P.message;case x:case w:return C==P+"";case m:var $=a;case _:var re=L&l;if($||($=s),C.size!=P.size&&!re)return!1;var ae=F.get(C);if(ae)return ae==P;L|=c,F.set(C,P);var Z=n($(C),$(P),L,R,D,F);return F.delete(C),Z;case b:if(I)return I.call(C)==I.call(P)}return!1}return Ix=N,Ix}var Ox,F2;function g3(){if(F2)return Ox;F2=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return Ox=t,Ox}var Rx,V2;function fH(){if(V2)return Rx;V2=1;var t=g3(),e=On();function r(n,a,s){var l=a(n);return e(n)?l:t(l,s(n))}return Rx=r,Rx}var Dx,B2;function pH(){if(B2)return Dx;B2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,l=[];++n<a;){var c=e[n];r(c,n,e)&&(l[s++]=c)}return l}return Dx=t,Dx}var Mx,U2;function mH(){if(U2)return Mx;U2=1;function t(){return[]}return Mx=t,Mx}var Lx,q2;function gH(){if(q2)return Lx;q2=1;var t=pH(),e=mH(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(c){return n.call(l,c)}))}:e;return Lx=s,Lx}var $x,z2;function yH(){if(z2)return $x;z2=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return $x=t,$x}var Fx,W2;function vH(){if(W2)return Fx;W2=1;var t=as(),e=is(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Fx=n,Fx}var Vx,H2;function pj(){if(H2)return Vx;H2=1;var t=vH(),e=is(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return Vx=s,Vx}var dd={exports:{}},Bx,G2;function xH(){if(G2)return Bx;G2=1;function t(){return!1}return Bx=t,Bx}dd.exports;var K2;function y3(){return K2||(K2=1,function(t,e){var r=yi(),n=xH(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===a,c=l?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(dd,dd.exports)),dd.exports}var Ux,Y2;function mj(){if(Y2)return Ux;Y2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return Ux=r,Ux}var qx,Q2;function gj(){if(Q2)return qx;Q2=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return qx=e,qx}var zx,X2;function bH(){if(X2)return zx;X2=1;var t=as(),e=gj(),r=is(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",x="[object Set]",_="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",S="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",N="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",L="[object Uint16Array]",R="[object Uint32Array]",D={};D[j]=D[A]=D[I]=D[N]=D[C]=D[P]=D[O]=D[L]=D[R]=!0,D[n]=D[a]=D[b]=D[s]=D[S]=D[l]=D[c]=D[d]=D[h]=D[p]=D[m]=D[v]=D[x]=D[_]=D[w]=!1;function F($){return r($)&&e($.length)&&!!D[t($)]}return zx=F,zx}var Wx,J2;function v3(){if(J2)return Wx;J2=1;function t(e){return function(r){return e(r)}}return Wx=t,Wx}var hd={exports:{}};hd.exports;var Z2;function wH(){return Z2||(Z2=1,function(t,e){var r=$4(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,l=s&&r.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(hd,hd.exports)),hd.exports}var Hx,eC;function x3(){if(eC)return Hx;eC=1;var t=bH(),e=v3(),r=wH(),n=r&&r.isTypedArray,a=n?e(n):t;return Hx=a,Hx}var Gx,tC;function _H(){if(tC)return Gx;tC=1;var t=yH(),e=pj(),r=On(),n=y3(),a=mj(),s=x3(),l=Object.prototype,c=l.hasOwnProperty;function d(h,p){var m=r(h),v=!m&&e(h),x=!m&&!v&&n(h),_=!m&&!v&&!x&&s(h),w=m||v||x||_,b=w?t(h.length,String):[],S=b.length;for(var j in h)(p||c.call(h,j))&&!(w&&(j=="length"||x&&(j=="offset"||j=="parent")||_&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,S)))&&b.push(j);return b}return Gx=d,Gx}var Kx,rC;function kH(){if(rC)return Kx;rC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Kx=e,Kx}var Yx,nC;function b3(){if(nC)return Yx;nC=1;function t(e,r){return function(n){return e(r(n))}}return Yx=t,Yx}var Qx,aC;function jH(){if(aC)return Qx;aC=1;var t=b3(),e=t(Object.keys,Object);return Qx=e,Qx}var Xx,iC;function NH(){if(iC)return Xx;iC=1;var t=kH(),e=jH(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&l.push(c);return l}return Xx=a,Xx}var Jx,sC;function qh(){if(sC)return Jx;sC=1;var t=ej(),e=gj();function r(n){return n!=null&&e(n.length)&&!t(n)}return Jx=r,Jx}var Zx,oC;function M0(){if(oC)return Zx;oC=1;var t=_H(),e=NH(),r=qh();function n(a){return r(a)?t(a):e(a)}return Zx=n,Zx}var eb,lC;function SH(){if(lC)return eb;lC=1;var t=fH(),e=gH(),r=M0();function n(a){return t(a,r,e)}return eb=n,eb}var tb,cC;function EH(){if(cC)return tb;cC=1;var t=SH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,l,c,d,h,p){var m=c&e,v=t(s),x=v.length,_=t(l),w=_.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var S=v[b];if(!(m?S in l:n.call(l,S)))return!1}var j=p.get(s),A=p.get(l);if(j&&A)return j==l&&A==s;var I=!0;p.set(s,l),p.set(l,s);for(var N=m;++b<x;){S=v[b];var C=s[S],P=l[S];if(d)var O=m?d(P,C,S,l,s,p):d(C,P,S,s,l,p);if(!(O===void 0?C===P||h(C,P,c,d,p):O)){I=!1;break}N||(N=S=="constructor")}if(I&&!N){var L=s.constructor,R=l.constructor;L!=R&&"constructor"in s&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof R=="function"&&R instanceof R)&&(I=!1)}return p.delete(s),p.delete(l),I}return tb=a,tb}var rb,uC;function TH(){if(uC)return rb;uC=1;var t=bl(),e=yi(),r=t(e,"DataView");return rb=r,rb}var nb,dC;function AH(){if(dC)return nb;dC=1;var t=bl(),e=yi(),r=t(e,"Promise");return nb=r,nb}var ab,hC;function w3(){if(hC)return ab;hC=1;var t=bl(),e=yi(),r=t(e,"Set");return ab=r,ab}var ib,fC;function CH(){if(fC)return ib;fC=1;var t=bl(),e=yi(),r=t(e,"WeakMap");return ib=r,ib}var sb,pC;function PH(){if(pC)return sb;pC=1;var t=TH(),e=rj(),r=AH(),n=w3(),a=CH(),s=as(),l=F4(),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",x=l(t),_=l(e),w=l(r),b=l(n),S=l(a),j=s;return(t&&j(new t(new ArrayBuffer(1)))!=v||e&&j(new e)!=c||r&&j(r.resolve())!=h||n&&j(new n)!=p||a&&j(new a)!=m)&&(j=function(A){var I=s(A),N=I==d?A.constructor:void 0,C=N?l(N):"";if(C)switch(C){case x:return v;case _:return c;case w:return h;case b:return p;case S:return m}return I}),sb=j,sb}var ob,mC;function IH(){if(mC)return ob;mC=1;var t=d3(),e=m3(),r=hH(),n=EH(),a=PH(),s=On(),l=y3(),c=x3(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,x=v.hasOwnProperty;function _(w,b,S,j,A,I){var N=s(w),C=s(b),P=N?p:a(w),O=C?p:a(b);P=P==h?m:P,O=O==h?m:O;var L=P==m,R=O==m,D=P==O;if(D&&l(w)){if(!l(b))return!1;N=!0,L=!1}if(D&&!L)return I||(I=new t),N||c(w)?e(w,b,S,j,A,I):r(w,b,P,S,j,A,I);if(!(S&d)){var F=L&&x.call(w,"__wrapped__"),$=R&&x.call(b,"__wrapped__");if(F||$){var re=F?w.value():w,ae=$?b.value():b;return I||(I=new t),A(re,ae,S,j,I)}}return D?(I||(I=new t),n(w,b,S,j,A,I)):!1}return ob=_,ob}var lb,gC;function yj(){if(gC)return lb;gC=1;var t=IH(),e=is();function r(n,a,s,l,c){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,l,r,c)}return lb=r,lb}var cb,yC;function OH(){if(yC)return cb;yC=1;var t=d3(),e=yj(),r=1,n=2;function a(s,l,c,d){var h=c.length,p=h,m=!d;if(s==null)return!p;for(s=Object(s);h--;){var v=c[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=c[h];var x=v[0],_=s[x],w=v[1];if(m&&v[2]){if(_===void 0&&!(x in s))return!1}else{var b=new t;if(d)var S=d(_,w,x,s,l,b);if(!(S===void 0?e(w,_,r|n,d,b):S))return!1}}return!0}return cb=a,cb}var ub,vC;function _3(){if(vC)return ub;vC=1;var t=so();function e(r){return r===r&&!t(r)}return ub=e,ub}var db,xC;function RH(){if(xC)return db;xC=1;var t=_3(),e=M0();function r(n){for(var a=e(n),s=a.length;s--;){var l=a[s],c=n[l];a[s]=[l,c,t(c)]}return a}return db=r,db}var hb,bC;function k3(){if(bC)return hb;bC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return hb=t,hb}var fb,wC;function DH(){if(wC)return fb;wC=1;var t=OH(),e=RH(),r=k3();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(l){return l===a||t(l,a,s)}}return fb=n,fb}var pb,_C;function MH(){if(_C)return pb;_C=1;function t(e,r){return e!=null&&r in Object(e)}return pb=t,pb}var mb,kC;function LH(){if(kC)return mb;kC=1;var t=U4(),e=pj(),r=On(),n=mj(),a=gj(),s=P0();function l(c,d,h){d=t(d,c);for(var p=-1,m=d.length,v=!1;++p<m;){var x=s(d[p]);if(!(v=c!=null&&h(c,x)))break;c=c[x]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&a(m)&&n(x,m)&&(r(c)||e(c)))}return mb=l,mb}var gb,jC;function $H(){if(jC)return gb;jC=1;var t=MH(),e=LH();function r(n,a){return n!=null&&e(n,a,t)}return gb=r,gb}var yb,NC;function FH(){if(NC)return yb;NC=1;var t=yj(),e=q4(),r=$H(),n=Zk(),a=_3(),s=k3(),l=P0(),c=1,d=2;function h(p,m){return n(p)&&a(m)?s(l(p),m):function(v){var x=e(v,p);return x===void 0&&x===m?r(v,p):t(m,x,c|d)}}return yb=h,yb}var vb,SC;function cu(){if(SC)return vb;SC=1;function t(e){return e}return vb=t,vb}var xb,EC;function VH(){if(EC)return xb;EC=1;function t(e){return function(r){return r?.[e]}}return xb=t,xb}var bb,TC;function BH(){if(TC)return bb;TC=1;var t=ij();function e(r){return function(n){return t(n,r)}}return bb=e,bb}var wb,AC;function UH(){if(AC)return wb;AC=1;var t=VH(),e=BH(),r=Zk(),n=P0();function a(s){return r(s)?t(n(s)):e(s)}return wb=a,wb}var _b,CC;function vi(){if(CC)return _b;CC=1;var t=DH(),e=FH(),r=cu(),n=On(),a=UH();function s(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):a(l)}return _b=s,_b}var kb,PC;function j3(){if(PC)return kb;PC=1;function t(e,r,n,a){for(var s=e.length,l=n+(a?1:-1);a?l--:++l<s;)if(r(e[l],l,e))return l;return-1}return kb=t,kb}var jb,IC;function qH(){if(IC)return jb;IC=1;function t(e){return e!==e}return jb=t,jb}var Nb,OC;function zH(){if(OC)return Nb;OC=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return Nb=t,Nb}var Sb,RC;function WH(){if(RC)return Sb;RC=1;var t=j3(),e=qH(),r=zH();function n(a,s,l){return s===s?r(a,s,l):t(a,e,l)}return Sb=n,Sb}var Eb,DC;function HH(){if(DC)return Eb;DC=1;var t=WH();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Eb=e,Eb}var Tb,MC;function GH(){if(MC)return Tb;MC=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return Tb=t,Tb}var Ab,LC;function KH(){if(LC)return Ab;LC=1;function t(){}return Ab=t,Ab}var Cb,$C;function YH(){if($C)return Cb;$C=1;var t=w3(),e=KH(),r=fj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return Cb=a,Cb}var Pb,FC;function QH(){if(FC)return Pb;FC=1;var t=h3(),e=HH(),r=GH(),n=p3(),a=YH(),s=fj(),l=200;function c(d,h,p){var m=-1,v=e,x=d.length,_=!0,w=[],b=w;if(p)_=!1,v=r;else if(x>=l){var S=h?null:a(d);if(S)return s(S);_=!1,v=n,b=new t}else b=h?[]:w;e:for(;++m<x;){var j=d[m],A=h?h(j):j;if(j=p||j!==0?j:0,_&&A===A){for(var I=b.length;I--;)if(b[I]===A)continue e;h&&b.push(A),w.push(j)}else v(b,A,p)||(b!==w&&b.push(A),w.push(j))}return w}return Pb=c,Pb}var Ib,VC;function XH(){if(VC)return Ib;VC=1;var t=vi(),e=QH();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Ib=r,Ib}var JH=XH();const BC=xt(JH);function N3(t,e,r){return e===!0?BC(t,r):Xe(e)?BC(t,e):t}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}var ZH=["ref"];function UC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(n){L0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E3(n.key),n)}}function tG(t,e,r){return e&&qC(t.prototype,e),r&&qC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rG(t,e,r){return e=gm(e),nG(t,S3()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function nG(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aG(t)}function aG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function iG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z_(t,e)}function L0(t,e,r){return e=E3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3(t){var e=sG(t,"string");return Dc(e)=="symbol"?e:e+""}function sG(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oG(t,e){if(t==null)return{};var r=lG(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cG(t){return t.value}function uG(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=oG(e,ZH);return G.createElement(hj,r)}var zC=1,Ys=function(t){function e(){var r;eG(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=rG(this,e,[].concat(a)),L0(r,"lastBoundingBox",{width:-1,height:-1}),r}return iG(e,t),tG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>zC||Math.abs(a.height-this.lastBoundingBox.height)>zC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,l=a.align,c=a.verticalAlign,d=a.margin,h=a.chartWidth,p=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();m={left:((h||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var _=this.getBBoxSnapshot();v={top:((p||0)-_.height)/2}}else v=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return $i($i({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,l=a.width,c=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,p=a.payload,m=$i($i({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},uG(s,$i($i({},this.props),{},{payload:N3(p,h,cG)})))}}],[{key:"getWithHeight",value:function(n,a){var s=$i($i({},this.defaultProps),n.props),l=s.layout;return l==="vertical"&&Te(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);L0(Ys,"displayName","Legend");L0(Ys,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ob,WC;function dG(){if(WC)return Ob;WC=1;var t=Vh(),e=pj(),r=On(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return Ob=a,Ob}var Rb,HC;function T3(){if(HC)return Rb;HC=1;var t=g3(),e=dG();function r(n,a,s,l,c){var d=-1,h=n.length;for(s||(s=e),c||(c=[]);++d<h;){var p=n[d];a>0&&s(p)?a>1?r(p,a-1,s,l,c):t(c,p):l||(c[c.length]=p)}return c}return Rb=r,Rb}var Db,GC;function hG(){if(GC)return Db;GC=1;function t(e){return function(r,n,a){for(var s=-1,l=Object(r),c=a(r),d=c.length;d--;){var h=c[e?d:++s];if(n(l[h],h,l)===!1)break}return r}}return Db=t,Db}var Mb,KC;function fG(){if(KC)return Mb;KC=1;var t=hG(),e=t();return Mb=e,Mb}var Lb,YC;function A3(){if(YC)return Lb;YC=1;var t=fG(),e=M0();function r(n,a){return n&&t(n,a,e)}return Lb=r,Lb}var $b,QC;function pG(){if(QC)return $b;QC=1;var t=qh();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var l=a.length,c=n?l:-1,d=Object(a);(n?c--:++c<l)&&s(d[c],c,d)!==!1;);return a}}return $b=e,$b}var Fb,XC;function vj(){if(XC)return Fb;XC=1;var t=A3(),e=pG(),r=e(t);return Fb=r,Fb}var Vb,JC;function C3(){if(JC)return Vb;JC=1;var t=vj(),e=qh();function r(n,a){var s=-1,l=e(n)?Array(n.length):[];return t(n,function(c,d,h){l[++s]=a(c,d,h)}),l}return Vb=r,Vb}var Bb,ZC;function mG(){if(ZC)return Bb;ZC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Bb=t,Bb}var Ub,eP;function gG(){if(eP)return Ub;eP=1;var t=ou();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,l=r===r,c=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!c&&r>n||c&&d&&p&&!h&&!m||s&&d&&p||!a&&p||!l)return 1;if(!s&&!c&&!m&&r<n||m&&a&&l&&!s&&!c||h&&a&&l||!d&&l||!p)return-1}return 0}return Ub=e,Ub}var qb,tP;function yG(){if(tP)return qb;tP=1;var t=gG();function e(r,n,a){for(var s=-1,l=r.criteria,c=n.criteria,d=l.length,h=a.length;++s<d;){var p=t(l[s],c[s]);if(p){if(s>=h)return p;var m=a[s];return p*(m=="desc"?-1:1)}}return r.index-n.index}return qb=e,qb}var zb,rP;function vG(){if(rP)return zb;rP=1;var t=aj(),e=ij(),r=vi(),n=C3(),a=mG(),s=v3(),l=yG(),c=cu(),d=On();function h(p,m,v){m.length?m=t(m,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[c];var x=-1;m=t(m,s(r));var _=n(p,function(w,b,S){var j=t(m,function(A){return A(w)});return{criteria:j,index:++x,value:w}});return a(_,function(w,b){return l(w,b,v)})}return zb=h,zb}var Wb,nP;function xG(){if(nP)return Wb;nP=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Wb=t,Wb}var Hb,aP;function bG(){if(aP)return Hb;aP=1;var t=xG(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var l=arguments,c=-1,d=e(l.length-a,0),h=Array(d);++c<d;)h[c]=l[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=l[c];return p[a]=s(h),t(n,this,p)}}return Hb=r,Hb}var Gb,iP;function wG(){if(iP)return Gb;iP=1;function t(e){return function(){return e}}return Gb=t,Gb}var Kb,sP;function P3(){if(sP)return Kb;sP=1;var t=bl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Kb=e,Kb}var Yb,oP;function _G(){if(oP)return Yb;oP=1;var t=wG(),e=P3(),r=cu(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Yb=n,Yb}var Qb,lP;function kG(){if(lP)return Qb;lP=1;var t=800,e=16,r=Date.now;function n(a){var s=0,l=0;return function(){var c=r(),d=e-(c-l);if(l=c,d>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Qb=n,Qb}var Xb,cP;function jG(){if(cP)return Xb;cP=1;var t=_G(),e=kG(),r=e(t);return Xb=r,Xb}var Jb,uP;function NG(){if(uP)return Jb;uP=1;var t=cu(),e=bG(),r=jG();function n(a,s){return r(e(a,s,t),a+"")}return Jb=n,Jb}var Zb,dP;function $0(){if(dP)return Zb;dP=1;var t=tj(),e=qh(),r=mj(),n=so();function a(s,l,c){if(!n(c))return!1;var d=typeof l;return(d=="number"?e(c)&&r(l,c.length):d=="string"&&l in c)?t(c[l],s):!1}return Zb=a,Zb}var ew,hP;function SG(){if(hP)return ew;hP=1;var t=T3(),e=vG(),r=NG(),n=$0(),a=r(function(s,l){if(s==null)return[];var c=l.length;return c>1&&n(s,l[0],l[1])?l=[]:c>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return ew=a,ew}var EG=SG();const xj=xt(EG);function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}function TG(t,e){return IG(t)||PG(t,e)||CG(t,e)||AG()}function AG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CG(t,e){if(t){if(typeof t=="string")return fP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fP(t,e)}}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function IG(t){if(Array.isArray(t))return t}function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){OG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OG(t,e,r){return e=RG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RG(t){var e=DG(t,"string");return Ud(e)=="symbol"?e:e+""}function DG(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MG(t){return Array.isArray(t)&&_r(t[0])&&_r(t[1])?t.join(" ~ "):t}var LG=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,l=e.itemStyle,c=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,v=e.itemSorter,x=e.wrapperClassName,_=e.labelClassName,w=e.label,b=e.labelFormatter,S=e.accessibilityLayer,j=S===void 0?!1:S,A=function(){if(p&&p.length){var F={padding:0,margin:0},$=(v?xj(p,v):p).map(function(re,ae){if(re.type==="none")return null;var Z=tw({display:"block",paddingTop:4,paddingBottom:4,color:re.color||"#000"},c),te=re.formatter||m||MG,X=re.value,K=re.name,ne=X,W=K;if(te&&ne!=null&&W!=null){var Q=te(X,K,re,ae,p);if(Array.isArray(Q)){var J=TG(Q,2);ne=J[0],W=J[1]}else ne=Q}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ae),style:Z},_r(W)?G.createElement("span",{className:"recharts-tooltip-item-name"},W):null,_r(W)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ne),G.createElement("span",{className:"recharts-tooltip-item-unit"},re.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},I=tw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=tw({margin:0},h),C=!at(w),P=C?w:"",O=tt("recharts-default-tooltip",x),L=tt("recharts-tooltip-label",_);C&&b&&p!==void 0&&p!==null&&(P=b(w,p));var R=j?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",W_({className:O,style:I},R),G.createElement("p",{className:L,style:N},G.isValidElement(P)?P:"".concat(P)),A())};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function xp(t,e,r){return e=$G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $G(t){var e=FG(t,"string");return qd(e)=="symbol"?e:e+""}function FG(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",VG={visibility:"hidden"};function BG(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tt(Qu,xp(xp(xp(xp({},"".concat(Qu,"-right"),Te(r)&&e&&Te(e.x)&&r>=e.x),"".concat(Qu,"-left"),Te(r)&&e&&Te(e.x)&&r<e.x),"".concat(Qu,"-bottom"),Te(n)&&e&&Te(e.y)&&n>=e.y),"".concat(Qu,"-top"),Te(n)&&e&&Te(e.y)&&n<e.y))}function mP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,l=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&Te(s[n]))return s[n];var p=r[n]-c-a,m=r[n]+a;if(e[n])return l[n]?p:m;if(l[n]){var v=p,x=d[n];return v<x?Math.max(m,d[n]):Math.max(p,d[n])}var _=m+c,w=d[n]+h;return _>w?Math.max(p,d[n]):Math.max(m,d[n])}function UG(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function qG(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=mP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=mP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=UG({translateX:p,translateY:m,useTranslate3d:c})):h=VG,{cssProperties:h,cssClasses:BG({translateX:p,translateY:m,coordinate:r})}}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){G_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O3(n.key),n)}}function HG(t,e,r){return e&&WG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GG(t,e,r){return e=ym(e),KG(t,I3()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function KG(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YG(t)}function YG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function QG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H_(t,e)}function G_(t,e,r){return e=O3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3(t){var e=XG(t,"string");return Mc(e)=="symbol"?e:e+""}function XG(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vP=1,JG=function(t){function e(){var r;zG(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=GG(this,e,[].concat(a)),G_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),G_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return QG(e,t),HG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>vP||Math.abs(n.height-this.state.lastBoundingBox.height)>vP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.children,p=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,x=a.offset,_=a.position,w=a.reverseDirection,b=a.useTranslate3d,S=a.viewBox,j=a.wrapperStyle,A=qG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:x,position:_,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:S}),I=A.cssClasses,N=A.cssProperties,C=yP(yP({transition:v&&s?"transform ".concat(c,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return G.createElement("div",{tabIndex:-1,className:I,style:C,ref:function(O){n.wrapperNode=O}},h)}}])}(B.PureComponent),ZG=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uu={isSsr:ZG()};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){bj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D3(n.key),n)}}function rK(t,e,r){return e&&tK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nK(t,e,r){return e=vm(e),aK(t,R3()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function aK(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iK(t)}function iK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function sK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K_(t,e)}function bj(t,e,r){return e=D3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D3(t){var e=oK(t,"string");return Lc(e)=="symbol"?e:e+""}function oK(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lK(t){return t.dataKey}function cK(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(LG,e)}var ga=function(t){function e(){return eK(this,e),nK(this,e,arguments)}return sK(e,t),rK(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.content,p=a.coordinate,m=a.filterNull,v=a.isAnimationActive,x=a.offset,_=a.payload,w=a.payloadUniqBy,b=a.position,S=a.reverseDirection,j=a.useTranslate3d,A=a.viewBox,I=a.wrapperStyle,N=_??[];m&&N.length&&(N=N3(_.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,lK));var C=N.length>0;return G.createElement(JG,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:v,active:s,coordinate:p,hasPayload:C,offset:x,position:b,reverseDirection:S,useTranslate3d:j,viewBox:A,wrapperStyle:I},cK(h,bP(bP({},this.props),{},{payload:N})))}}])}(B.PureComponent);bj(ga,"displayName","Tooltip");bj(ga,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rw,wP;function uK(){if(wP)return rw;wP=1;var t=yi(),e=function(){return t.Date.now()};return rw=e,rw}var nw,_P;function dK(){if(_P)return nw;_P=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return nw=e,nw}var aw,kP;function hK(){if(kP)return aw;kP=1;var t=dK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return aw=r,aw}var iw,jP;function M3(){if(jP)return iw;jP=1;var t=hK(),e=so(),r=ou(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):a.test(h)?n:+h}return iw=d,iw}var sw,NP;function fK(){if(NP)return sw;NP=1;var t=so(),e=uK(),r=M3(),n="Expected a function",a=Math.max,s=Math.min;function l(c,d,h){var p,m,v,x,_,w,b=0,S=!1,j=!1,A=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(S=!!h.leading,j="maxWait"in h,v=j?a(r(h.maxWait)||0,d):v,A="trailing"in h?!!h.trailing:A);function I($){var re=p,ae=m;return p=m=void 0,b=$,x=c.apply(ae,re),x}function N($){return b=$,_=setTimeout(O,d),S?I($):x}function C($){var re=$-w,ae=$-b,Z=d-re;return j?s(Z,v-ae):Z}function P($){var re=$-w,ae=$-b;return w===void 0||re>=d||re<0||j&&ae>=v}function O(){var $=e();if(P($))return L($);_=setTimeout(O,C($))}function L($){return _=void 0,A&&p?I($):(p=m=void 0,x)}function R(){_!==void 0&&clearTimeout(_),b=0,p=w=m=_=void 0}function D(){return _===void 0?x:L(e())}function F(){var $=e(),re=P($);if(p=arguments,m=this,w=$,re){if(_===void 0)return N(w);if(j)return clearTimeout(_),_=setTimeout(O,d),I(w)}return _===void 0&&(_=setTimeout(O,d)),x}return F.cancel=R,F.flush=D,F}return sw=l,sw}var ow,SP;function pK(){if(SP)return ow;SP=1;var t=fK(),e=so(),r="Expected a function";function n(a,s,l){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(a,s,{leading:c,maxWait:s,trailing:d})}return ow=n,ow}var mK=pK();const L3=xt(mK);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){gK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gK(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=vK(t,"string");return zd(e)=="symbol"?e:e+""}function vK(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t,e){return kK(t)||_K(t,e)||wK(t,e)||bK()}function bK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(t,e){if(t){if(typeof t=="string")return TP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TP(t,e)}}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _K(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function kK(t){if(Array.isArray(t))return t}var wj=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,l=s===void 0?"100%":s,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,x=t.children,_=t.debounce,w=_===void 0?0:_,b=t.id,S=t.className,j=t.onResize,A=t.style,I=A===void 0?{}:A,N=B.useRef(null),C=B.useRef();C.current=j,B.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=B.useState({containerWidth:a.width,containerHeight:a.height}),O=xK(P,2),L=O[0],R=O[1],D=B.useCallback(function($,re){R(function(ae){var Z=Math.round($),te=Math.round(re);return ae.containerWidth===Z&&ae.containerHeight===te?ae:{containerWidth:Z,containerHeight:te}})},[]);B.useEffect(function(){var $=function(K){var ne,W=K[0].contentRect,Q=W.width,J=W.height;D(Q,J),(ne=C.current)===null||ne===void 0||ne.call(C,Q,J)};w>0&&($=L3($,w,{trailing:!0,leading:!1}));var re=new ResizeObserver($),ae=N.current.getBoundingClientRect(),Z=ae.width,te=ae.height;return D(Z,te),re.observe(N.current),function(){re.disconnect()}},[D,w]);var F=B.useMemo(function(){var $=L.containerWidth,re=L.containerHeight;if($<0||re<0)return null;Fa(Ho(l)||Ho(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Fa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ae=Ho(l)?$:l,Z=Ho(d)?re:d;r&&r>0&&(ae?Z=ae/r:Z&&(ae=Z*r),v&&Z>v&&(Z=v)),Fa(ae>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ae,Z,l,d,p,m,r);var te=!Array.isArray(x)&&Gi(x.type).endsWith("Chart");return G.Children.map(x,function(X){return G.isValidElement(X)?B.cloneElement(X,bp({width:ae,height:Z},te?{style:bp({height:"100%",width:"100%",maxHeight:Z,maxWidth:ae},X.props.style)}:{})):X})},[r,x,d,v,m,p,L,l]);return G.createElement("div",{id:b?"".concat(b):void 0,className:tt("recharts-responsive-container",S),style:bp(bp({},I),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:v}),ref:N},F)}),F0=function(e){return null};F0.displayName="Cell";function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function AP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(r),!0).forEach(function(n){jK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jK(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=SK(t,"string");return Wd(e)=="symbol"?e:e+""}function SK(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nc={widthCache:{},cacheCount:0},EK=2e3,TK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CP="recharts_measurement_span";function AK(t){var e=Y_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var wd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uu.isSsr)return{width:0,height:0};var n=AK(r),a=JSON.stringify({text:e,copyStyle:n});if(nc.widthCache[a])return nc.widthCache[a];try{var s=document.getElementById(CP);s||(s=document.createElement("span"),s.setAttribute("id",CP),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=Y_(Y_({},TK),n);Object.assign(s.style,l),s.textContent="".concat(e);var c=s.getBoundingClientRect(),d={width:c.width,height:c.height};return nc.widthCache[a]=d,++nc.cacheCount>EK&&(nc.cacheCount=0,nc.widthCache={}),d}catch{return{width:0,height:0}}},CK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function xm(t,e){return RK(t)||OK(t,e)||IK(t,e)||PK()}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return PP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PP(t,e)}}function PP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function RK(t){if(Array.isArray(t))return t}function DK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LK(n.key),n)}}function MK(t,e,r){return e&&IP(t.prototype,e),r&&IP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LK(t){var e=$K(t,"string");return Hd(e)=="symbol"?e:e+""}function $K(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BK=Object.keys($3),dc="NaN";function UK(t,e){return t*$3[e]}var wp=function(){function t(e,r){DK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!FK.test(r)&&(this.num=NaN,this.unit=""),BK.includes(r)&&(this.num=UK(e,r),this.unit="px")}return MK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=VK.exec(r))!==null&&n!==void 0?n:[],s=xm(a,3),l=s[1],c=s[2];return new t(parseFloat(l),c??"")}}])}();function F3(t){if(t.includes(dc))return dc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=OP.exec(e))!==null&&r!==void 0?r:[],a=xm(n,4),s=a[1],l=a[2],c=a[3],d=wp.parse(s??""),h=wp.parse(c??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return dc;e=e.replace(OP,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=RP.exec(e))!==null&&m!==void 0?m:[],x=xm(v,4),_=x[1],w=x[2],b=x[3],S=wp.parse(_??""),j=wp.parse(b??""),A=w==="+"?S.add(j):S.subtract(j);if(A.isNaN())return dc;e=e.replace(RP,A.toString())}return e}var DP=/\(([^()]*)\)/;function qK(t){for(var e=t;e.includes("(");){var r=DP.exec(e),n=xm(r,2),a=n[1];e=e.replace(DP,F3(a))}return e}function zK(t){var e=t.replace(/\s+/g,"");return e=qK(e),e=F3(e),e}function WK(t){try{return zK(t)}catch{return dc}}function lw(t){var e=WK(t.slice(5,-1));return e===dc?"":e}var HK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GK=["dx","dy","angle","className","breakAll"];function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q_.apply(this,arguments)}function MP(t,e){if(t==null)return{};var r=KK(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LP(t,e){return JK(t)||XK(t,e)||QK(t,e)||YK()}function YK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(t,e){if(t){if(typeof t=="string")return $P(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(t,e)}}function $P(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function JK(t){if(Array.isArray(t))return t}var V3=/[ \f\n\r\t\v\u2028\u2029]+/,B3=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];at(r)||(n?s=r.toString().split(""):s=r.toString().split(V3));var l=s.map(function(d){return{word:d,width:wd(d,a).width}}),c=n?0:wd(" ",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},ZK=function(e,r,n,a,s){var l=e.maxLines,c=e.children,d=e.style,h=e.breakAll,p=Te(l),m=c,v=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ae.reduce(function(Z,te){var X=te.word,K=te.width,ne=Z[Z.length-1];if(ne&&(a==null||s||ne.width+K+n<Number(a)))ne.words.push(X),ne.width+=K+n;else{var W={words:[X],width:K};Z.push(W)}return Z},[])},x=v(r),_=function(ae){return ae.reduce(function(Z,te){return Z.width>te.width?Z:te})};if(!p)return x;for(var w="…",b=function(ae){var Z=m.slice(0,ae),te=B3({breakAll:h,style:d,children:Z+w}).wordsWithComputedWidth,X=v(te),K=X.length>l||_(X).width>Number(a);return[K,X]},S=0,j=m.length-1,A=0,I;S<=j&&A<=m.length-1;){var N=Math.floor((S+j)/2),C=N-1,P=b(C),O=LP(P,2),L=O[0],R=O[1],D=b(N),F=LP(D,1),$=F[0];if(!L&&!$&&(S=N+1),L&&$&&(j=N-1),!L&&$){I=R;break}A++}return I||x},FP=function(e){var r=at(e)?[]:e.toString().split(V3);return[{words:r}]},eY=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,l=e.breakAll,c=e.maxLines;if((r||n)&&!uu.isSsr){var d,h,p=B3({breakAll:l,children:a,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;d=m,h=v}else return FP(a);return ZK({breakAll:l,children:a,maxLines:c,style:s},d,h,r,n)}return FP(a)},VP="#808080",ul=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,l=e.lineHeight,c=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,x=v===void 0?"start":v,_=e.verticalAnchor,w=_===void 0?"end":_,b=e.fill,S=b===void 0?VP:b,j=MP(e,HK),A=B.useMemo(function(){return eY({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),I=j.dx,N=j.dy,C=j.angle,P=j.className,O=j.breakAll,L=MP(j,GK);if(!_r(n)||!_r(s))return null;var R=n+(Te(I)?I:0),D=s+(Te(N)?N:0),F;switch(w){case"start":F=lw("calc(".concat(h,")"));break;case"middle":F=lw("calc(".concat((A.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:F=lw("calc(".concat(A.length-1," * -").concat(c,")"));break}var $=[];if(m){var re=A[0].width,ae=j.width;$.push("scale(".concat((Te(ae)?ae/re:1)/re,")"))}return C&&$.push("rotate(".concat(C,", ").concat(R,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),G.createElement("text",Q_({},Ye(L,!0),{x:R,y:D,className:tt("recharts-text",P),textAnchor:x,fill:S.includes("url")?VP:S}),A.map(function(Z,te){var X=Z.words.join(O?"":" ");return G.createElement("tspan",{x:R,dy:te===0?F:c,key:"".concat(X,"-").concat(te)},X)}))};function Qs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _j(t){let e,r,n;t.length!==2?(e=Qs,r=(c,d)=>Qs(t(c),d),n=(c,d)=>t(c)-d):(e=t===Qs||t===tY?t:rY,r=t,n=t);function a(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,d,h=0,p=c.length){const m=a(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:s}}function rY(){return 0}function U3(t){return t===null?NaN:+t}function*nY(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const aY=_j(Qs),zh=aY.right;_j(U3).center;class BP extends Map{constructor(e,r=oY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(UP(this,e))}has(e){return super.has(UP(this,e))}set(e,r){return super.set(iY(this,e),r)}delete(e){return super.delete(sY(this,e))}}function UP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function iY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function sY({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function oY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lY(t=Qs){if(t===Qs)return q3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function q3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cY=Math.sqrt(50),uY=Math.sqrt(10),dY=Math.sqrt(2);function bm(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=cY?10:s>=uY?5:s>=dY?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?bm(t,e,r*2):[c,d,h]}function X_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,l]=n?bm(e,t,r):bm(t,e,r);if(!(s>=a))return[];const c=s-a+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(s-h)/-l;else for(let h=0;h<c;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function J_(t,e,r){return e=+e,t=+t,r=+r,bm(t,e,r)[2]}function Z_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?J_(e,t,r):J_(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function qP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function zP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function z3(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?q3:lY(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(e-h*m/d+v)),_=Math.min(n,Math.floor(e+(d-h)*m/d+v));z3(t,e,x,_,a)}const s=t[e];let l=r,c=n;for(Xu(t,r,e),a(t[n],s)>0&&Xu(t,r,n);l<c;){for(Xu(t,l,c),++l,--c;a(t[l],s)<0;)++l;for(;a(t[c],s)>0;)--c}a(t[r],s)===0?Xu(t,r,c):(++c,Xu(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Xu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function hY(t,e,r){if(t=Float64Array.from(nY(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return zP(t);if(e>=1)return qP(t);var n,a=(n-1)*e,s=Math.floor(a),l=qP(z3(t,s).subarray(0,s+1)),c=zP(t.subarray(s+1));return l+(c-l)*(a-s)}}function fY(t,e,r=U3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),l=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return l+(c-l)*(a-s)}}function pY(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function _a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const e1=Symbol("implicit");function kj(){var t=new BP,e=[],r=[],n=e1;function a(s){let l=t.get(s);if(l===void 0){if(n!==e1)return n;t.set(s,l=e.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new BP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return kj(e,r).unknown(n)},_a.apply(a,arguments),a}function Gd(){var t=kj().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,l,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,x=a<n,_=x?a:n,w=x?n:a;s=(w-_)/Math.max(1,v-d+h*2),c&&(s=Math.floor(s)),_+=(w-_-s*(v-d))*p,l=s*(1-d),c&&(_=Math.round(_),l=Math.round(l));var b=pY(v).map(function(S){return _+s*S});return r(x?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),m()):d},t.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),m()):d},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Gd(e(),[n,a]).round(c).paddingInner(d).paddingOuter(h).align(p)},_a.apply(m(),arguments)}function W3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return W3(e())},t}function _d(){return W3(Gd.apply(null,arguments).paddingInner(1))}function jj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function H3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Wh(){}var Kd=.7,wm=1/Kd,_c="\\s*([+-]?\\d+)\\s*",Yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mY=/^#([0-9a-f]{3,8})$/,gY=new RegExp(`^rgb\\(${_c},${_c},${_c}\\)$`),yY=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),vY=new RegExp(`^rgba\\(${_c},${_c},${_c},${Yd}\\)$`),xY=new RegExp(`^rgba\\(${ci},${ci},${ci},${Yd}\\)$`),bY=new RegExp(`^hsl\\(${Yd},${ci},${ci}\\)$`),wY=new RegExp(`^hsla\\(${Yd},${ci},${ci},${Yd}\\)$`),WP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jj(Wh,Qd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HP,formatHex:HP,formatHex8:_Y,formatHsl:kY,formatRgb:GP,toString:GP});function HP(){return this.rgb().formatHex()}function _Y(){return this.rgb().formatHex8()}function kY(){return G3(this).formatHsl()}function GP(){return this.rgb().formatRgb()}function Qd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=mY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KP(e):r===3?new In(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?_p(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?_p(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gY.exec(t))?new In(e[1],e[2],e[3],1):(e=yY.exec(t))?new In(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vY.exec(t))?_p(e[1],e[2],e[3],e[4]):(e=xY.exec(t))?_p(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bY.exec(t))?XP(e[1],e[2]/100,e[3]/100,1):(e=wY.exec(t))?XP(e[1],e[2]/100,e[3]/100,e[4]):WP.hasOwnProperty(t)?KP(WP[t]):t==="transparent"?new In(NaN,NaN,NaN,0):null}function KP(t){return new In(t>>16&255,t>>8&255,t&255,1)}function _p(t,e,r,n){return n<=0&&(t=e=r=NaN),new In(t,e,r,n)}function jY(t){return t instanceof Wh||(t=Qd(t)),t?(t=t.rgb(),new In(t.r,t.g,t.b,t.opacity)):new In}function t1(t,e,r,n){return arguments.length===1?jY(t):new In(t,e,r,n??1)}function In(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jj(In,t1,H3(Wh,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kd:Math.pow(Kd,t),new In(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new In(Zo(this.r),Zo(this.g),Zo(this.b),_m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YP,formatHex:YP,formatHex8:NY,formatRgb:QP,toString:QP}));function YP(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function NY(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function QP(){const t=_m(this.opacity);return`${t===1?"rgb(":"rgba("}${Zo(this.r)}, ${Zo(this.g)}, ${Zo(this.b)}${t===1?")":`, ${t})`}`}function _m(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Go(t){return t=Zo(t),(t<16?"0":"")+t.toString(16)}function XP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ma(t,e,r,n)}function G3(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);if(t instanceof Wh||(t=Qd(t)),!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),l=NaN,c=s-a,d=(s+a)/2;return c?(e===s?l=(r-n)/c+(r<n)*6:r===s?l=(n-e)/c+2:l=(e-r)/c+4,c/=d<.5?s+a:2-s-a,l*=60):c=d>0&&d<1?0:l,new Ma(l,c,d,t.opacity)}function SY(t,e,r,n){return arguments.length===1?G3(t):new Ma(t,e,r,n??1)}function Ma(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jj(Ma,SY,H3(Wh,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kd:Math.pow(Kd,t),new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new In(cw(t>=240?t-240:t+120,a,n),cw(t,a,n),cw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ma(JP(this.h),kp(this.s),kp(this.l),_m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_m(this.opacity);return`${t===1?"hsl(":"hsla("}${JP(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JP(t){return t=(t||0)%360,t<0?t+360:t}function kp(t){return Math.max(0,Math.min(1,t||0))}function cw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Nj=t=>()=>t;function EY(t,e){return function(r){return t+r*e}}function TY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function AY(t){return(t=+t)==1?K3:function(e,r){return r-e?TY(e,r,t):Nj(isNaN(e)?r:e)}}function K3(t,e){var r=e-t;return r?EY(t,r):Nj(isNaN(t)?e:t)}const ZP=function t(e){var r=AY(e);function n(a,s){var l=r((a=t1(a)).r,(s=t1(s)).r),c=r(a.g,s.g),d=r(a.b,s.b),h=K3(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=t,n}(1);function CY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function PY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function IY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=du(t[l],e[l]);for(;l<r;++l)s[l]=e[l];return function(c){for(l=0;l<n;++l)s[l]=a[l](c);return s}}function OY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function km(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function RY(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=du(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var r1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uw=new RegExp(r1.source,"g");function DY(t){return function(){return t}}function MY(t){return function(e){return t(e)+""}}function LY(t,e){var r=r1.lastIndex=uw.lastIndex=0,n,a,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(n=r1.exec(t))&&(a=uw.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:km(n,a)})),r=uw.lastIndex;return r<e.length&&(s=e.slice(r),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?MY(d[0].x):DY(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function du(t,e){var r=typeof e,n;return e==null||r==="boolean"?Nj(e):(r==="number"?km:r==="string"?(n=Qd(e))?(e=n,ZP):LY:e instanceof Qd?ZP:e instanceof Date?OY:PY(e)?CY:Array.isArray(e)?IY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?RY:km)(t,e)}function Sj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function $Y(t,e){e===void 0&&(e=t,t=du);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[c](l-c)}}function FY(t){return function(){return t}}function jm(t){return+t}var eI=[0,1];function gn(t){return t}function n1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:FY(isNaN(e)?NaN:.5)}function VY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function BY(t,e,r){var n=t[0],a=t[1],s=e[0],l=e[1];return a<n?(n=n1(a,n),s=r(l,s)):(n=n1(n,a),s=r(s,l)),function(c){return s(n(c))}}function UY(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=n1(t[l],t[l+1]),s[l]=r(e[l],e[l+1]);return function(c){var d=zh(t,c,1,n)-1;return s[d](a[d](c))}}function Hh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function V0(){var t=eI,e=eI,r=du,n,a,s,l=gn,c,d,h;function p(){var v=Math.min(t.length,e.length);return l!==gn&&(l=VY(t[0],t[v-1])),c=v>2?UY:BY,d=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(d||(d=c(t.map(n),e,r)))(n(l(v)))}return m.invert=function(v){return l(a((h||(h=c(e,t.map(n),km)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,jm),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=Sj,p()},m.clamp=function(v){return arguments.length?(l=v?!0:gn,p()):l!==gn},m.interpolate=function(v){return arguments.length?(r=v,p()):r},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,x){return n=v,a=x,p()}}function Ej(){return V0()(gn,gn)}function qY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Nm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function $c(t){return t=Nm(Math.abs(t)),t?t[1]:NaN}function zY(t,e){return function(r,n){for(var a=r.length,s=[],l=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function WY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var HY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xd(t){if(!(e=HY.exec(t)))throw new Error("invalid format: "+t);var e;return new Tj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xd.prototype=Tj.prototype;function Tj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Tj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GY(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Y3;function KY(t,e){var r=Nm(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(Y3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Nm(t,Math.max(0,e+s-1))[0]}function tI(t,e){var r=Nm(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const rI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tI(t*100,e),r:tI,s:KY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nI(t){return t}var aI=Array.prototype.map,iI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YY(t){var e=t.grouping===void 0||t.thousands===void 0?nI:zY(aI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nI:WY(aI.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Xd(m);var v=m.fill,x=m.align,_=m.sign,w=m.symbol,b=m.zero,S=m.width,j=m.comma,A=m.precision,I=m.trim,N=m.type;N==="n"?(j=!0,N="g"):rI[N]||(A===void 0&&(A=12),I=!0,N="g"),(b||v==="0"&&x==="=")&&(b=!0,v="0",x="=");var C=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=w==="$"?n:/[%p]/.test(N)?l:"",O=rI[N],L=/[defgprs%]/.test(N);A=A===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(D){var F=C,$=P,re,ae,Z;if(N==="c")$=O(D)+$,D="";else{D=+D;var te=D<0||1/D<0;if(D=isNaN(D)?d:O(Math.abs(D),A),I&&(D=GY(D)),te&&+D==0&&_!=="+"&&(te=!1),F=(te?_==="("?_:c:_==="-"||_==="("?"":_)+F,$=(N==="s"?iI[8+Y3/3]:"")+$+(te&&_==="("?")":""),L){for(re=-1,ae=D.length;++re<ae;)if(Z=D.charCodeAt(re),48>Z||Z>57){$=(Z===46?a+D.slice(re+1):D.slice(re))+$,D=D.slice(0,re);break}}}j&&!b&&(D=e(D,1/0));var X=F.length+D.length+$.length,K=X<S?new Array(S-X+1).join(v):"";switch(j&&b&&(D=e(K+D,K.length?S-$.length:1/0),K=""),x){case"<":D=F+D+$+K;break;case"=":D=F+K+D+$;break;case"^":D=K.slice(0,X=K.length>>1)+F+D+$+K.slice(X);break;default:D=K+F+D+$;break}return s(D)}return R.toString=function(){return m+""},R}function p(m,v){var x=h((m=Xd(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor($c(v)/3)))*3,w=Math.pow(10,-_),b=iI[8+_/3];return function(S){return x(w*S)+b}}return{format:h,formatPrefix:p}}var jp,Aj,Q3;QY({thousands:",",grouping:[3],currency:["$",""]});function QY(t){return jp=YY(t),Aj=jp.format,Q3=jp.formatPrefix,jp}function XY(t){return Math.max(0,-$c(Math.abs(t)))}function JY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($c(e)/3)))*3-$c(Math.abs(t)))}function ZY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$c(e)-$c(t))+1}function X3(t,e,r,n){var a=Z_(t,e,r),s;switch(n=Xd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=JY(a,l))&&(n.precision=s),Q3(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ZY(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=XY(a))&&(n.precision=s-(n.type==="%")*2);break}}return Aj(n)}function oo(t){var e=t.domain;return t.ticks=function(r){var n=e();return X_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return X3(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,l=n[a],c=n[s],d,h,p=10;for(c<l&&(h=l,l=c,c=h,h=a,a=s,s=h);p-- >0;){if(h=J_(l,c,r),h===d)return n[a]=l,n[s]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function Sm(){var t=Ej();return t.copy=function(){return Hh(t,Sm())},_a.apply(t,arguments),oo(t)}function J3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,jm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return J3(t).unknown(e)},t=arguments.length?Array.from(t,jm):[0,1],oo(r)}function Z3(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),t[r]=e.floor(a),t[n]=e.ceil(s),t}function sI(t){return Math.log(t)}function oI(t){return Math.exp(t)}function eQ(t){return-Math.log(-t)}function tQ(t){return-Math.exp(-t)}function rQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nQ(t){return t===10?rQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lI(t){return(e,r)=>-t(-e,r)}function Cj(t){const e=t(sI,oI),r=e.domain;let n=10,a,s;function l(){return a=aQ(n),s=nQ(n),r()[0]<0?(a=lI(a),s=lI(s),t(eQ,tQ)):t(sI,oI),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=a(h),x=a(p),_,w;const b=c==null?10:+c;let S=[];if(!(n%1)&&x-v<b){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(_=1;_<n;++_)if(w=v<0?_/s(-v):_*s(v),!(w<h)){if(w>p)break;S.push(w)}}else for(;v<=x;++v)for(_=n-1;_>=1;--_)if(w=v>0?_/s(-v):_*s(v),!(w<h)){if(w>p)break;S.push(w)}S.length*2<b&&(S=X_(h,p,b))}else S=X_(v,x,Math.min(x-v,b)).map(s);return m?S.reverse():S},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Xd(d)).precision==null&&(d.trim=!0),d=Aj(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/s(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(Z3(r(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),e}function e6(){const t=Cj(V0()).domain([1,10]);return t.copy=()=>Hh(t,e6()).base(t.base()),_a.apply(t,arguments),t}function cI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Pj(t){var e=1,r=t(cI(e),uI(e));return r.constant=function(n){return arguments.length?t(cI(e=+n),uI(e)):e},oo(r)}function t6(){var t=Pj(V0());return t.copy=function(){return Hh(t,t6()).constant(t.constant())},_a.apply(t,arguments)}function dI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function iQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sQ(t){return t<0?-t*t:t*t}function Ij(t){var e=t(gn,gn),r=1;function n(){return r===1?t(gn,gn):r===.5?t(iQ,sQ):t(dI(r),dI(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},oo(e)}function Oj(){var t=Ij(V0());return t.copy=function(){return Hh(t,Oj()).exponent(t.exponent())},_a.apply(t,arguments),t}function oQ(){return Oj.apply(null,arguments).exponent(.5)}function hI(t){return Math.sign(t)*t*t}function lQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function r6(){var t=Ej(),e=[0,1],r=!1,n;function a(s){var l=lQ(t(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return t.invert(hI(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,jm)).map(hI)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return r6(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},_a.apply(a,arguments),oo(a)}function n6(){var t=[],e=[],r=[],n;function a(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=fY(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?n:e[zh(r,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Qs),a()},s.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return n6().domain(t).range(e).unknown(n)},_a.apply(s,arguments)}function a6(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[zh(n,d,0,r)]:s}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return a6().domain([t,e]).range(a).unknown(s)},_a.apply(oo(l),arguments)}function i6(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[zh(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return i6().domain(t).range(e).unknown(r)},_a.apply(a,arguments)}const dw=new Date,hw=new Date;function jr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const l=a(s),c=a.ceil(s);return s-l<c-s?l:c},a.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,c)=>{const d=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return d},a.filter=s=>jr(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),r&&(a.count=(s,l)=>(dw.setTime(+s),hw.setTime(+l),t(dw),t(hw),Math.floor(r(dw,hw))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Em=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Em.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Em);Em.range;const qi=1e3,va=qi*60,zi=va*60,es=zi*24,Rj=es*7,fI=es*30,fw=es*365,Ko=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qi)},(t,e)=>(e-t)/qi,t=>t.getUTCSeconds());Ko.range;const Dj=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qi)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getMinutes());Dj.range;const Mj=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCMinutes());Mj.range;const Lj=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qi-t.getMinutes()*va)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getHours());Lj.range;const $j=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zi)},(t,e)=>(e-t)/zi,t=>t.getUTCHours());$j.range;const Gh=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*va)/es,t=>t.getDate()-1);Gh.range;const B0=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/es,t=>t.getUTCDate()-1);B0.range;const s6=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/es,t=>Math.floor(t/es));s6.range;function wl(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*va)/Rj)}const U0=wl(0),Tm=wl(1),cQ=wl(2),uQ=wl(3),Fc=wl(4),dQ=wl(5),hQ=wl(6);U0.range;Tm.range;cQ.range;uQ.range;Fc.range;dQ.range;hQ.range;function _l(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Rj)}const q0=_l(0),Am=_l(1),fQ=_l(2),pQ=_l(3),Vc=_l(4),mQ=_l(5),gQ=_l(6);q0.range;Am.range;fQ.range;pQ.range;Vc.range;mQ.range;gQ.range;const Fj=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fj.range;const Vj=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vj.range;const ts=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ts.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ts.range;const rs=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});rs.range;function o6(t,e,r,n,a,s){const l=[[Ko,1,qi],[Ko,5,5*qi],[Ko,15,15*qi],[Ko,30,30*qi],[s,1,va],[s,5,5*va],[s,15,15*va],[s,30,30*va],[a,1,zi],[a,3,3*zi],[a,6,6*zi],[a,12,12*zi],[n,1,es],[n,2,2*es],[r,1,Rj],[e,1,fI],[e,3,3*fI],[t,1,fw]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),_=x?x.range(h,+p+1):[];return v?_.reverse():_}function d(h,p,m){const v=Math.abs(p-h)/m,x=_j(([,,b])=>b).right(l,v);if(x===l.length)return t.every(Z_(h/fw,p/fw,m));if(x===0)return Em.every(Math.max(Z_(h,p,m),1));const[_,w]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return _.every(w)}return[c,d]}const[yQ,vQ]=o6(rs,Vj,q0,s6,$j,Mj),[xQ,bQ]=o6(ts,Fj,U0,Gh,Lj,Dj);function pw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ju(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function wQ(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=Zu(a),p=ed(a),m=Zu(s),v=ed(s),x=Zu(l),_=ed(l),w=Zu(c),b=ed(c),S=Zu(d),j=ed(d),A={a:te,A:X,b:K,B:ne,c:null,d:xI,e:xI,f:zQ,g:eX,G:rX,H:BQ,I:UQ,j:qQ,L:l6,m:WQ,M:HQ,p:W,q:Q,Q:_I,s:kI,S:GQ,u:KQ,U:YQ,V:QQ,w:XQ,W:JQ,x:null,X:null,y:ZQ,Y:tX,Z:nX,"%":wI},I={a:J,A:le,b:ge,B:he,c:null,d:bI,e:bI,f:oX,g:yX,G:xX,H:aX,I:iX,j:sX,L:u6,m:lX,M:cX,p:de,q:be,Q:_I,s:kI,S:uX,u:dX,U:hX,V:fX,w:pX,W:mX,x:null,X:null,y:gX,Y:vX,Z:bX,"%":wI},N={a:R,A:D,b:F,B:$,c:re,d:yI,e:yI,f:LQ,g:gI,G:mI,H:vI,I:vI,j:OQ,L:MQ,m:IQ,M:RQ,p:L,q:PQ,Q:FQ,s:VQ,S:DQ,u:SQ,U:EQ,V:TQ,w:NQ,W:AQ,x:ae,X:Z,y:gI,Y:mI,Z:CQ,"%":$Q};A.x=C(r,A),A.X=C(n,A),A.c=C(e,A),I.x=C(r,I),I.X=C(n,I),I.c=C(e,I);function C(z,me){return function(xe){var q=[],ue=-1,_e=0,Ie=z.length,Ue,Zt,mr;for(xe instanceof Date||(xe=new Date(+xe));++ue<Ie;)z.charCodeAt(ue)===37&&(q.push(z.slice(_e,ue)),(Zt=pI[Ue=z.charAt(++ue)])!=null?Ue=z.charAt(++ue):Zt=Ue==="e"?" ":"0",(mr=me[Ue])&&(Ue=mr(xe,Zt)),q.push(Ue),_e=ue+1);return q.push(z.slice(_e,ue)),q.join("")}}function P(z,me){return function(xe){var q=Ju(1900,void 0,1),ue=O(q,z,xe+="",0),_e,Ie;if(ue!=xe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(_e=mw(Ju(q.y,0,1)),Ie=_e.getUTCDay(),_e=Ie>4||Ie===0?Am.ceil(_e):Am(_e),_e=B0.offset(_e,(q.V-1)*7),q.y=_e.getUTCFullYear(),q.m=_e.getUTCMonth(),q.d=_e.getUTCDate()+(q.w+6)%7):(_e=pw(Ju(q.y,0,1)),Ie=_e.getDay(),_e=Ie>4||Ie===0?Tm.ceil(_e):Tm(_e),_e=Gh.offset(_e,(q.V-1)*7),q.y=_e.getFullYear(),q.m=_e.getMonth(),q.d=_e.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ie="Z"in q?mw(Ju(q.y,0,1)).getUTCDay():pw(Ju(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ie+5)%7:q.w+q.U*7-(Ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mw(q)):pw(q)}}function O(z,me,xe,q){for(var ue=0,_e=me.length,Ie=xe.length,Ue,Zt;ue<_e;){if(q>=Ie)return-1;if(Ue=me.charCodeAt(ue++),Ue===37){if(Ue=me.charAt(ue++),Zt=N[Ue in pI?me.charAt(ue++):Ue],!Zt||(q=Zt(z,xe,q))<0)return-1}else if(Ue!=xe.charCodeAt(q++))return-1}return q}function L(z,me,xe){var q=h.exec(me.slice(xe));return q?(z.p=p.get(q[0].toLowerCase()),xe+q[0].length):-1}function R(z,me,xe){var q=x.exec(me.slice(xe));return q?(z.w=_.get(q[0].toLowerCase()),xe+q[0].length):-1}function D(z,me,xe){var q=m.exec(me.slice(xe));return q?(z.w=v.get(q[0].toLowerCase()),xe+q[0].length):-1}function F(z,me,xe){var q=S.exec(me.slice(xe));return q?(z.m=j.get(q[0].toLowerCase()),xe+q[0].length):-1}function $(z,me,xe){var q=w.exec(me.slice(xe));return q?(z.m=b.get(q[0].toLowerCase()),xe+q[0].length):-1}function re(z,me,xe){return O(z,e,me,xe)}function ae(z,me,xe){return O(z,r,me,xe)}function Z(z,me,xe){return O(z,n,me,xe)}function te(z){return l[z.getDay()]}function X(z){return s[z.getDay()]}function K(z){return d[z.getMonth()]}function ne(z){return c[z.getMonth()]}function W(z){return a[+(z.getHours()>=12)]}function Q(z){return 1+~~(z.getMonth()/3)}function J(z){return l[z.getUTCDay()]}function le(z){return s[z.getUTCDay()]}function ge(z){return d[z.getUTCMonth()]}function he(z){return c[z.getUTCMonth()]}function de(z){return a[+(z.getUTCHours()>=12)]}function be(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var me=C(z+="",A);return me.toString=function(){return z},me},parse:function(z){var me=P(z+="",!1);return me.toString=function(){return z},me},utcFormat:function(z){var me=C(z+="",I);return me.toString=function(){return z},me},utcParse:function(z){var me=P(z+="",!0);return me.toString=function(){return z},me}}}var pI={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,_Q=/^%/,kQ=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function jQ(t){return t.replace(kQ,"\\$&")}function Zu(t){return new RegExp("^(?:"+t.map(jQ).join("|")+")","i")}function ed(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NQ(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SQ(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function EQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function TQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function AQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mI(t,e,r){var n=Ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function CQ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function PQ(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function IQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function OQ(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vI(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function RQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function DQ(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function MQ(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function LQ(t,e,r){var n=Ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $Q(t,e,r){var n=_Q.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function FQ(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function VQ(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function xI(t,e){return mt(t.getDate(),e,2)}function BQ(t,e){return mt(t.getHours(),e,2)}function UQ(t,e){return mt(t.getHours()%12||12,e,2)}function qQ(t,e){return mt(1+Gh.count(ts(t),t),e,3)}function l6(t,e){return mt(t.getMilliseconds(),e,3)}function zQ(t,e){return l6(t,e)+"000"}function WQ(t,e){return mt(t.getMonth()+1,e,2)}function HQ(t,e){return mt(t.getMinutes(),e,2)}function GQ(t,e){return mt(t.getSeconds(),e,2)}function KQ(t){var e=t.getDay();return e===0?7:e}function YQ(t,e){return mt(U0.count(ts(t)-1,t),e,2)}function c6(t){var e=t.getDay();return e>=4||e===0?Fc(t):Fc.ceil(t)}function QQ(t,e){return t=c6(t),mt(Fc.count(ts(t),t)+(ts(t).getDay()===4),e,2)}function XQ(t){return t.getDay()}function JQ(t,e){return mt(Tm.count(ts(t)-1,t),e,2)}function ZQ(t,e){return mt(t.getFullYear()%100,e,2)}function eX(t,e){return t=c6(t),mt(t.getFullYear()%100,e,2)}function tX(t,e){return mt(t.getFullYear()%1e4,e,4)}function rX(t,e){var r=t.getDay();return t=r>=4||r===0?Fc(t):Fc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function nX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function bI(t,e){return mt(t.getUTCDate(),e,2)}function aX(t,e){return mt(t.getUTCHours(),e,2)}function iX(t,e){return mt(t.getUTCHours()%12||12,e,2)}function sX(t,e){return mt(1+B0.count(rs(t),t),e,3)}function u6(t,e){return mt(t.getUTCMilliseconds(),e,3)}function oX(t,e){return u6(t,e)+"000"}function lX(t,e){return mt(t.getUTCMonth()+1,e,2)}function cX(t,e){return mt(t.getUTCMinutes(),e,2)}function uX(t,e){return mt(t.getUTCSeconds(),e,2)}function dX(t){var e=t.getUTCDay();return e===0?7:e}function hX(t,e){return mt(q0.count(rs(t)-1,t),e,2)}function d6(t){var e=t.getUTCDay();return e>=4||e===0?Vc(t):Vc.ceil(t)}function fX(t,e){return t=d6(t),mt(Vc.count(rs(t),t)+(rs(t).getUTCDay()===4),e,2)}function pX(t){return t.getUTCDay()}function mX(t,e){return mt(Am.count(rs(t)-1,t),e,2)}function gX(t,e){return mt(t.getUTCFullYear()%100,e,2)}function yX(t,e){return t=d6(t),mt(t.getUTCFullYear()%100,e,2)}function vX(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function xX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Vc(t):Vc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function bX(){return"+0000"}function wI(){return"%"}function _I(t){return+t}function kI(t){return Math.floor(+t/1e3)}var ac,h6,f6;wX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wX(t){return ac=wQ(t),h6=ac.format,ac.parse,f6=ac.utcFormat,ac.utcParse,ac}function _X(t){return new Date(t)}function kX(t){return t instanceof Date?+t:+new Date(+t)}function Bj(t,e,r,n,a,s,l,c,d,h){var p=Ej(),m=p.invert,v=p.domain,x=h(".%L"),_=h(":%S"),w=h("%I:%M"),b=h("%I %p"),S=h("%a %d"),j=h("%b %d"),A=h("%B"),I=h("%Y");function N(C){return(d(C)<C?x:c(C)<C?_:l(C)<C?w:s(C)<C?b:n(C)<C?a(C)<C?S:j:r(C)<C?A:I)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?v(Array.from(C,kX)):v().map(_X)},p.ticks=function(C){var P=v();return t(P[0],P[P.length-1],C??10)},p.tickFormat=function(C,P){return P==null?N:h(P)},p.nice=function(C){var P=v();return(!C||typeof C.range!="function")&&(C=e(P[0],P[P.length-1],C??10)),C?v(Z3(P,C)):p},p.copy=function(){return Hh(p,Bj(t,e,r,n,a,s,l,c,d,h))},p}function jX(){return _a.apply(Bj(xQ,bQ,ts,Fj,U0,Gh,Lj,Dj,Ko,h6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NX(){return _a.apply(Bj(yQ,vQ,rs,Vj,q0,B0,$j,Mj,Ko,f6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z0(){var t=0,e=1,r,n,a,s,l=gn,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(s(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var x,_;return arguments.length?([x,_]=v,l=m(x,_),h):[l(0),l(1)]}}return h.range=p(du),h.rangeRound=p(Sj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),h}}function lo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function p6(){var t=oo(z0()(gn));return t.copy=function(){return lo(t,p6())},ss.apply(t,arguments)}function m6(){var t=Cj(z0()).domain([1,10]);return t.copy=function(){return lo(t,m6()).base(t.base())},ss.apply(t,arguments)}function g6(){var t=Pj(z0());return t.copy=function(){return lo(t,g6()).constant(t.constant())},ss.apply(t,arguments)}function Uj(){var t=Ij(z0());return t.copy=function(){return lo(t,Uj()).exponent(t.exponent())},ss.apply(t,arguments)}function SX(){return Uj.apply(null,arguments).exponent(.5)}function y6(){var t=[],e=gn;function r(n){if(n!=null&&!isNaN(n=+n))return e((zh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>hY(t,s/n))},r.copy=function(){return y6(e).domain(t)},ss.apply(r,arguments)}function W0(){var t=0,e=.5,r=1,n=1,a,s,l,c,d,h=gn,p,m=!1,v;function x(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-s)*(n*w<n*s?c:d),h(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),s=p(e=+e),l=p(r=+r),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(h=w,x):h};function _(w){return function(b){var S,j,A;return arguments.length?([S,j,A]=b,h=$Y(w,[S,j,A]),x):[h(0),h(.5),h(1)]}}return x.range=_(du),x.rangeRound=_(Sj),x.unknown=function(w){return arguments.length?(v=w,x):v},function(w){return p=w,a=w(t),s=w(e),l=w(r),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,x}}function v6(){var t=oo(W0()(gn));return t.copy=function(){return lo(t,v6())},ss.apply(t,arguments)}function x6(){var t=Cj(W0()).domain([.1,1,10]);return t.copy=function(){return lo(t,x6()).base(t.base())},ss.apply(t,arguments)}function b6(){var t=Pj(W0());return t.copy=function(){return lo(t,b6()).constant(t.constant())},ss.apply(t,arguments)}function qj(){var t=Ij(W0());return t.copy=function(){return lo(t,qj()).exponent(t.exponent())},ss.apply(t,arguments)}function EX(){return qj.apply(null,arguments).exponent(.5)}const jI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gd,scaleDiverging:v6,scaleDivergingLog:x6,scaleDivergingPow:qj,scaleDivergingSqrt:EX,scaleDivergingSymlog:b6,scaleIdentity:J3,scaleImplicit:e1,scaleLinear:Sm,scaleLog:e6,scaleOrdinal:kj,scalePoint:_d,scalePow:Oj,scaleQuantile:n6,scaleQuantize:a6,scaleRadial:r6,scaleSequential:p6,scaleSequentialLog:m6,scaleSequentialPow:Uj,scaleSequentialQuantile:y6,scaleSequentialSqrt:SX,scaleSequentialSymlog:g6,scaleSqrt:oQ,scaleSymlog:t6,scaleThreshold:i6,scaleTime:jX,scaleUtc:NX,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var gw,NI;function H0(){if(NI)return gw;NI=1;var t=ou();function e(r,n,a){for(var s=-1,l=r.length;++s<l;){var c=r[s],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,p=c}return p}return gw=e,gw}var yw,SI;function w6(){if(SI)return yw;SI=1;function t(e,r){return e>r}return yw=t,yw}var vw,EI;function TX(){if(EI)return vw;EI=1;var t=H0(),e=w6(),r=cu();function n(a){return a&&a.length?t(a,r,e):void 0}return vw=n,vw}var AX=TX();const G0=xt(AX);var xw,TI;function _6(){if(TI)return xw;TI=1;function t(e,r){return e<r}return xw=t,xw}var bw,AI;function CX(){if(AI)return bw;AI=1;var t=H0(),e=_6(),r=cu();function n(a){return a&&a.length?t(a,r,e):void 0}return bw=n,bw}var PX=CX();const K0=xt(PX);var ww,CI;function IX(){if(CI)return ww;CI=1;var t=aj(),e=vi(),r=C3(),n=On();function a(s,l){var c=n(s)?t:r;return c(s,e(l,3))}return ww=a,ww}var _w,PI;function OX(){if(PI)return _w;PI=1;var t=T3(),e=IX();function r(n,a){return t(e(n,a),1)}return _w=r,_w}var RX=OX();const DX=xt(RX);var kw,II;function MX(){if(II)return kw;II=1;var t=yj();function e(r,n){return t(r,n)}return kw=e,kw}var LX=MX();const Y0=xt(LX);var hu=1e9,$X={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wj,Wt=!0,wa="[DecimalError] ",el=wa+"Invalid argument: ",zj=wa+"Exponent out of range: ",fu=Math.floor,Bo=Math.pow,FX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,Cr=1e7,$t=7,k6=9007199254740991,Cm=fu(k6/$t),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Ki(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return Nt(Ki(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return pr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Hn))throw Error(wa+"NaN");if(r.s<1)throw Error(wa+(r.s?"NaN":"-Infinity"));return r.eq(Hn)?new n(0):(Wt=!1,e=Ki(Jd(r,s),Jd(t,s),s),Wt=!0,Nt(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?S6(e,t):j6(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(wa+"NaN");return r.s?(Wt=!1,e=Ki(r,t,0,1).times(t),Wt=!0,r.minus(e)):Nt(new n(r),a)};De.naturalExponential=De.exp=function(){return N6(this)};De.naturalLogarithm=De.ln=function(){return Jd(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j6(e,t):S6(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(el+t);if(e=pr(a)+1,n=a.d.length-1,r=n*$t+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,a,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(wa+"NaN")}for(t=pr(c),Wt=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=ni(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=fu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Ki(c,s,l+2)).times(.5),ni(s.d).slice(0,l)===(e=ni(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(Nt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;l+=4}return Wt=!0,Nt(n,r)};De.times=De.mul=function(t){var e,r,n,a,s,l,c,d,h,p=this,m=p.constructor,v=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=v.length,h=x.length,d<h&&(s=v,v=x,x=s,l=d,d=h,h=l),s=[],l=d+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)c=s[a]+x[n]*v[a-n-1]+e,s[a--]=c%Cr|0,e=c/Cr|0;s[a]=(s[a]+e)%Cr|0}for(;!s[--l];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Wt?Nt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(fi(t,0,hu),e===void 0?e=n.rounding:fi(e,0,8),Nt(r,t+pr(r)+1,e))};De.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=dl(n,!0):(fi(t,0,hu),e===void 0?e=a.rounding:fi(e,0,8),n=Nt(new a(n),t+1,e),r=dl(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?dl(a):(fi(t,0,hu),e===void 0?e=s.rounding:fi(e,0,8),n=Nt(new s(a),t+pr(a)+1,e),r=dl(n.abs(),!1,t+pr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Nt(new e(t),pr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,a,s,l,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Hn);if(c=new d(c),!c.s){if(t.s<1)throw Error(wa+"Infinity");return c}if(c.eq(Hn))return c;if(n=d.precision,t.eq(Hn))return Nt(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,s=c.s,l){if((r=p<0?-p:p)<=k6){for(a=new d(Hn),e=Math.ceil(n/$t+4),Wt=!1;r%2&&(a=a.times(c),RI(a.d,e)),r=fu(r/2),r!==0;)c=c.times(c),RI(c.d,e);return Wt=!0,t.s<0?new d(Hn).div(a):Nt(a,n)}}else if(s<0)throw Error(wa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Wt=!1,a=t.times(Jd(c,n+h)),Wt=!0,a=N6(a),a.s=s,a};De.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=pr(a),n=dl(a,r<=s.toExpNeg||r>=s.toExpPos)):(fi(t,1,hu),e===void 0?e=s.rounding:fi(e,0,8),a=Nt(new s(a),t,e),r=pr(a),n=dl(a,t<=r||r<=s.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(fi(t,1,hu),e===void 0?e=n.rounding:fi(e,0,8)),Nt(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=pr(t),r=t.constructor;return dl(t,e<=r.toExpNeg||e>=r.toExpPos)};function j6(t,e){var r,n,a,s,l,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Wt?Nt(e,m):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,c=h.length):(n=h,a=l,c=d.length),l=Math.ceil(m/$t),c=l>c?l+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Cr|0,d[s]%=Cr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Wt?Nt(e,m):e}function fi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(el+t)}function ni(t){var e,r,n,a=t.length-1,s="",l=t[0];if(a>0){for(s+=l,e=1;e<a;e++)n=t[e]+"",r=$t-n.length,r&&(s+=Ds(r)),s+=n;l=t[e],n=l+"",r=$t-n.length,r&&(s+=Ds(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ki=function(){function t(n,a){var s,l=0,c=n.length;for(n=n.slice();c--;)s=n[c]*a+l,n[c]=s%Cr|0,l=s/Cr|0;return l&&n.unshift(l),n}function e(n,a,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Cr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var c,d,h,p,m,v,x,_,w,b,S,j,A,I,N,C,P,O,L=n.constructor,R=n.s==a.s?1:-1,D=n.d,F=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(wa+"Division by zero");for(d=n.e-a.e,P=F.length,N=D.length,x=new L(R),_=x.d=[],h=0;F[h]==(D[h]||0);)++h;if(F[h]>(D[h]||0)&&--d,s==null?j=s=L.precision:l?j=s+(pr(n)-pr(a))+1:j=s,j<0)return new L(0);if(j=j/$t+2|0,h=0,P==1)for(p=0,F=F[0],j++;(h<N||p)&&j--;h++)A=p*Cr+(D[h]||0),_[h]=A/F|0,p=A%F|0;else{for(p=Cr/(F[0]+1)|0,p>1&&(F=t(F,p),D=t(D,p),P=F.length,N=D.length),I=P,w=D.slice(0,P),b=w.length;b<P;)w[b++]=0;O=F.slice(),O.unshift(0),C=F[0],F[1]>=Cr/2&&++C;do p=0,c=e(F,w,P,b),c<0?(S=w[0],P!=b&&(S=S*Cr+(w[1]||0)),p=S/C|0,p>1?(p>=Cr&&(p=Cr-1),m=t(F,p),v=m.length,b=w.length,c=e(m,w,v,b),c==1&&(p--,r(m,P<v?O:F,v))):(p==0&&(c=p=1),m=F.slice()),v=m.length,v<b&&m.unshift(0),r(w,m,b),c==-1&&(b=w.length,c=e(F,w,P,b),c<1&&(p++,r(w,P<b?O:F,b))),b=w.length):c===0&&(p++,w=[0]),_[h++]=p,c&&w[0]?w[b++]=D[I]||0:(w=[D[I]],b=1);while((I++<N||w[0]!==void 0)&&j--)}return _[0]||_.shift(),x.e=d,Nt(x,l?s+pr(x)+1:s)}}();function N6(t,e){var r,n,a,s,l,c,d=0,h=0,p=t.constructor,m=p.precision;if(pr(t)>16)throw Error(zj+pr(t));if(!t.s)return new p(Hn);for(Wt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Bo(2,h))/Math.LN10*2+5|0,c+=n,r=a=s=new p(Hn),p.precision=c;;){if(a=Nt(a.times(t),c),r=r.times(++d),l=s.plus(Ki(a,r,c)),ni(l.d).slice(0,c)===ni(s.d).slice(0,c)){for(;h--;)s=Nt(s.times(s),c);return p.precision=m,e==null?(Wt=!0,Nt(s,m)):s}s=l}}function pr(t){for(var e=t.e*$t,r=t.d[0];r>=10;r/=10)e++;return e}function jw(t,e,r){if(e>t.LN10.sd())throw Wt=!0,r&&(t.precision=r),Error(wa+"LN10 precision limit exceeded");return Nt(new t(t.LN10),e)}function Ds(t){for(var e="";t--;)e+="0";return e}function Jd(t,e){var r,n,a,s,l,c,d,h,p,m=1,v=10,x=t,_=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(wa+(x.s?"NaN":"-Infinity"));if(x.eq(Hn))return new w(0);if(e==null?(Wt=!1,h=b):h=e,x.eq(10))return e==null&&(Wt=!0),jw(w,h);if(h+=v,w.precision=h,r=ni(_),n=r.charAt(0),s=pr(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ni(x.d),n=r.charAt(0),m++;s=pr(x),n>1?(x=new w("0."+r),s++):x=new w(n+"."+r.slice(1))}else return d=jw(w,h+2,b).times(s+""),x=Jd(new w(n+"."+r.slice(1)),h-v).plus(d),w.precision=b,e==null?(Wt=!0,Nt(x,b)):x;for(c=l=x=Ki(x.minus(Hn),x.plus(Hn),h),p=Nt(x.times(x),h),a=3;;){if(l=Nt(l.times(p),h),d=c.plus(Ki(l,new w(a),h)),ni(d.d).slice(0,h)===ni(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(jw(w,h+2,b).times(s+""))),c=Ki(c,new w(m),h),w.precision=b,e==null?(Wt=!0,Nt(c,b)):c;c=d,a+=2}}function OI(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=fu(r/$t),t.d=[],n=(r+1)%$t,r<0&&(n+=$t),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=$t;n<a;)t.d.push(+e.slice(n,n+=$t));e=e.slice(n),n=$t-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Wt&&(t.e>Cm||t.e<-Cm))throw Error(zj+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nt(t,e,r){var n,a,s,l,c,d,h,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(n=e-l,n<0)n+=$t,a=e,h=m[p=0];else{if(p=Math.ceil((n+1)/$t),s=m.length,p>=s)return t;for(h=s=m[p],l=1;s>=10;s/=10)l++;n%=$t,a=n-$t+l}if(r!==void 0&&(s=Bo(10,l-a-1),c=h/s%10|0,d=e<0||m[p+1]!==void 0||h%s,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?h/Bo(10,l-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(s=pr(t),m.length=1,e=e-s-1,m[0]=Bo(10,($t-e%$t)%$t),t.e=fu(-e/$t)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,s=1,p--):(m.length=p+1,s=Bo(10,$t-n),m[p]=a>0?(h/Bo(10,l-a)%Bo(10,a)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Cr&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Cr)break;m[p--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(Wt&&(t.e>Cm||t.e<-Cm))throw Error(zj+pr(t));return t}function S6(t,e){var r,n,a,s,l,c,d,h,p,m,v=t.constructor,x=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Wt?Nt(e,x):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,c=m.length):(r=m,n=h,c=d.length),a=Math.max(Math.ceil(x/$t),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}l=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(s=a;s&&d[--s]===0;)d[s]=Cr-1;--d[s],d[a]+=Cr}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Wt?Nt(e,x):e):new v(0)}function dl(t,e,r){var n,a=pr(t),s=ni(t.d),l=s.length;return e?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ds(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ds(-a-1)+s,r&&(n=r-l)>0&&(s+=Ds(n))):a>=l?(s+=Ds(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+Ds(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=Ds(n))),t.s<0?"-"+s:s}function RI(t,e){if(t.length>e)return t.length=e,!0}function E6(t){var e,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(el+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return OI(l,s.toString())}else if(typeof s!="string")throw Error(el+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,FX.test(s))OI(l,s);else throw Error(el+s)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=E6,a.config=a.set=VX,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function VX(t){if(!t||typeof t!="object")throw Error(wa+"Object expected");var e,r,n,a=["precision",1,hu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(fu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(el+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(el+r+": "+n);return this}var Wj=E6($X);Hn=new Wj(1);const kt=Wj;function BX(t){return WX(t)||zX(t)||qX(t)||UX()}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(t,e){if(t){if(typeof t=="string")return a1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(t,e)}}function zX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function WX(t){if(Array.isArray(t))return a1(t)}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var HX=function(e){return e},T6={},A6=function(e){return e===T6},DI=function(e){return function r(){return arguments.length===0||arguments.length===1&&A6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},GX=function t(e,r){return e===1?r:DI(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=a.filter(function(c){return c!==T6}).length;return l>=e?r.apply(void 0,a):t(e-l,DI(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=a.map(function(m){return A6(m)?d.shift():m});return r.apply(void 0,BX(p).concat(d))}))})},Q0=function(e){return GX(e.length,e)},i1=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},KX=Q0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),YX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return HX;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce(function(c,d){return d(c)},s.apply(void 0,arguments))}},s1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C6=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return r&&s.every(function(c,d){return c===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function QX(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function XX(t,e,r){for(var n=new kt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var JX=Q0(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),ZX=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),eJ=Q0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const X0={rangeStep:XX,getDigitCount:QX,interpolateNumber:JX,uninterpolateNumber:ZX,uninterpolateTruncation:eJ};function o1(t){return nJ(t)||rJ(t)||P6(t)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nJ(t){if(Array.isArray(t))return l1(t)}function Zd(t,e){return sJ(t)||iJ(t,e)||P6(t,e)||aJ()}function aJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,s=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw s}}return r}}function sJ(t){if(Array.isArray(t))return t}function I6(t){var e=Zd(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function O6(t,e,r){if(t.lte(0))return new kt(0);var n=X0.getDigitCount(t.toNumber()),a=new kt(10).pow(n),s=t.div(a),l=n!==1?.05:.1,c=new kt(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return e?d:new kt(Math.ceil(d))}function oJ(t,e,r){var n=1,a=new kt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new kt(10).pow(X0.getDigitCount(t)-1),a=new kt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new kt(Math.floor(t)))}else t===0?a=new kt(Math.floor((e-1)/2)):r||(a=new kt(Math.floor(t)));var l=Math.floor((e-1)/2),c=YX(KX(function(d){return a.add(new kt(d-l).mul(n)).toNumber()}),i1);return c(0,e)}function R6(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var s=O6(new kt(e).sub(t).div(r-1),n,a),l;t<=0&&e>=0?l=new kt(0):(l=new kt(t).add(e).div(2),l=l.sub(new kt(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),d=Math.ceil(new kt(e).sub(l).div(s).toNumber()),h=c+d+1;return h>r?R6(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:s,tickMin:l.sub(new kt(c).mul(s)),tickMax:l.add(new kt(d).mul(s))})}function lJ(t){var e=Zd(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),c=I6([r,n]),d=Zd(c,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(o1(i1(0,a-1).map(function(){return 1/0}))):[].concat(o1(i1(0,a-1).map(function(){return-1/0})),[p]);return r>n?s1(m):m}if(h===p)return oJ(h,a,s);var v=R6(h,p,l,s),x=v.step,_=v.tickMin,w=v.tickMax,b=X0.rangeStep(_,w.add(new kt(.1).mul(x)),x);return r>n?s1(b):b}function cJ(t,e){var r=Zd(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=I6([n,a]),c=Zd(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var p=Math.max(e,2),m=O6(new kt(h).sub(d).div(p-1),s,0),v=[].concat(o1(X0.rangeStep(new kt(d),new kt(h).sub(new kt(.99).mul(m)),m)),[h]);return n>a?s1(v):v}var uJ=C6(lJ),dJ=C6(cJ),hJ="Invariant failed";function hl(t,e){throw new Error(hJ)}var fJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function pJ(t,e){return vJ(t)||yJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return MI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MI(t,e)}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function vJ(t){if(Array.isArray(t))return t}function xJ(t,e){if(t==null)return{};var r=bJ(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L6(n.key),n)}}function kJ(t,e,r){return e&&_J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jJ(t,e,r){return e=Im(e),NJ(t,D6()?Reflect.construct(e,r||[],Im(t).constructor):e.apply(t,r))}function NJ(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJ(t)}function SJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}function EJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c1(t,e)}function M6(t,e,r){return e=L6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L6(t){var e=TJ(t,"string");return Bc(e)=="symbol"?e:e+""}function TJ(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J0=function(t){function e(){return wJ(this,e),jJ(this,e,arguments)}return EJ(e,t),kJ(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,l=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,v=xJ(n,fJ),x=Ye(v,!1);this.props.direction==="x"&&p.type!=="number"&&hl();var _=d.map(function(w){var b=h(w,c),S=b.x,j=b.y,A=b.value,I=b.errorVal;if(!I)return null;var N=[],C,P;if(Array.isArray(I)){var O=pJ(I,2);C=O[0],P=O[1]}else C=P=I;if(s==="vertical"){var L=p.scale,R=j+a,D=R+l,F=R-l,$=L(A-C),re=L(A+P);N.push({x1:re,y1:D,x2:re,y2:F}),N.push({x1:$,y1:R,x2:re,y2:R}),N.push({x1:$,y1:D,x2:$,y2:F})}else if(s==="horizontal"){var ae=m.scale,Z=S+a,te=Z-l,X=Z+l,K=ae(A-C),ne=ae(A+P);N.push({x1:te,y1:ne,x2:X,y2:ne}),N.push({x1:Z,y1:K,x2:Z,y2:ne}),N.push({x1:te,y1:K,x2:X,y2:K})}return G.createElement(wt,Pm({className:"recharts-errorBar",key:"bar-".concat(N.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),N.map(function(W){return G.createElement("line",Pm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return G.createElement(wt,{className:"recharts-errorBars"},_)}}])}(G.Component);M6(J0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});M6(J0,"displayName","ErrorBar");function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){AJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AJ(t,e,r){return e=CJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CJ(t){var e=PJ(t,"string");return eh(e)=="symbol"?e:e+""}function PJ(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $6=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,l=Wn(r,Ys);if(!l)return null;var c=Ys.defaultProps,d=c!==void 0?Mo(Mo({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(n||[]).reduce(function(p,m){var v=m.item,x=m.props,_=x.sectors||x.data||[];return p.concat(_.map(function(w){return{type:l.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(p){var m=p.item,v=m.type.defaultProps,x=v!==void 0?Mo(Mo({},v),m.props):{},_=x.dataKey,w=x.name,b=x.legendType,S=x.hide;return{inactive:S,dataKey:_,type:d.iconType||b||"square",color:Hj(m),value:w||_,payload:x}}),Mo(Mo(Mo({},d),Ys.getWithHeight(l,a)),{},{payload:h,item:l})};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function $I(t){return DJ(t)||RJ(t)||OJ(t)||IJ()}function IJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJ(t,e){if(t){if(typeof t=="string")return u1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(t,e)}}function RJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DJ(t){if(Array.isArray(t))return u1(t)}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){kc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kc(t,e,r){return e=MJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=LJ(t,"string");return th(e)=="symbol"?e:e+""}function LJ(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,r){return at(t)||at(e)?r:_r(e)?Qn(t,e,r):Xe(e)?e(t):r}function kd(t,e,r,n){var a=DX(t,function(c){return tn(c,e)});if(r==="number"){var s=a.filter(function(c){return Te(c)||parseFloat(c)});return s.length?[K0(s),G0(s)]:[1/0,-1/0]}var l=n?a.filter(function(c){return!at(c)}):a;return l.map(function(c){return _r(c)||c instanceof Date?c:""})}var $J=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<c;h++){var p=h>0?a[h-1].coordinate:a[c-1].coordinate,m=a[h].coordinate,v=h>=c-1?a[0].coordinate:a[h+1].coordinate,x=void 0;if(pn(m-p)!==pn(v-m)){var _=[];if(pn(v-m)===pn(d[1]-d[0])){x=v;var w=m+d[1]-d[0];_[0]=Math.min(w,(w+p)/2),_[1]=Math.max(w,(w+p)/2)}else{x=p;var b=v+d[1]-d[0];_[0]=Math.min(m,(b+m)/2),_[1]=Math.max(m,(b+m)/2)}var S=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>S[0]&&e<=S[1]||e>=_[0]&&e<=_[1]){l=a[h].index;break}}else{var j=Math.min(p,v),A=Math.max(p,v);if(e>(j+m)/2&&e<=(A+m)/2){l=a[h].index;break}}}else for(var I=0;I<c;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<c-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===c-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){l=n[I].index;break}return l},Hj=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,l=s.stroke,c=s.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:c;break;default:d=c;break}return d},FJ=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var l={},c=Object.keys(s),d=0,h=c.length;d<h;d++)for(var p=s[c[d]].stackGroups,m=Object.keys(p),v=0,x=m.length;v<x;v++){var _=p[m[v]],w=_.items,b=_.cateAxisId,S=w.filter(function(P){return Gi(P.type).indexOf("Bar")>=0});if(S&&S.length){var j=S[0].type.defaultProps,A=j!==void 0?rr(rr({},j),S[0].props):S[0].props,I=A.barSize,N=A[b];l[N]||(l[N]=[]);var C=at(I)?r:I;l[N].push({item:S[0],stackList:S.slice(1),barSize:at(C)?void 0:mn(C,n,0)})}}return l},VJ=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,l=s===void 0?[]:s,c=e.maxBarSize,d=l.length;if(d<1)return null;var h=mn(r,a,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,x=a/d,_=l.reduce(function(I,N){return I+N.barSize||0},0);_+=(d-1)*h,_>=a&&(_-=(d-1)*h,h=0),_>=a&&x>0&&(v=!0,x*=.9,_=d*x);var w=(a-_)/2>>0,b={offset:w-h,size:0};p=l.reduce(function(I,N){var C={item:N.item,position:{offset:b.offset+b.size+h,size:v?x:N.barSize}},P=[].concat($I(I),[C]);return b=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){P.push({item:O,position:b})}),P},m)}else{var S=mn(n,a,0,!0);a-2*S-(d-1)*h<=0&&(h=0);var j=(a-2*S-(d-1)*h)/d;j>1&&(j>>=0);var A=c===+c?Math.min(j,c):j;p=l.reduce(function(I,N,C){var P=[].concat($I(I),[{item:N.item,position:{offset:S+(j+h)*C+(j-A)/2,size:A}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},m)}return p},BJ=function(e,r,n,a){var s=n.children,l=n.width,c=n.margin,d=l-(c.left||0)-(c.right||0),h=$6({children:s,legendWidth:d});if(h){var p=a||{},m=p.width,v=p.height,x=h.align,_=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&_==="middle")&&x!=="center"&&Te(e[x]))return rr(rr({},e),{},kc({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&_!=="middle"&&Te(e[_]))return rr(rr({},e),{},kc({},_,e[_]+(v||0)))}return e},UJ=function(e,r,n){return at(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},F6=function(e,r,n,a,s){var l=r.props.children,c=xa(l,J0).filter(function(h){return UJ(a,s,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=tn(p,n);if(at(m))return h;var v=Array.isArray(m)?[K0(m),G0(m)]:[m,m],x=d.reduce(function(_,w){var b=tn(p,w,0),S=v[0]-Math.abs(Array.isArray(b)?b[0]:b),j=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(S,_[0]),Math.max(j,_[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0])}return null},qJ=function(e,r,n,a,s){var l=r.map(function(c){return F6(e,c,n,s,a)}).filter(function(c){return!at(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},V6=function(e,r,n,a,s){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&F6(e,d,h,a)||kd(e,h,n,s)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,d.push(h[p]));return d},[])},B6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},U6=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var s,l,c=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate});return s||c.push(r),l||c.push(n),c},Wi=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,l=e.type,c=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?pn(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:a(v)+h,value:m,offset:h}});return p.filter(function(m){return!Bh(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+h,value:m,index:v,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+h,value:m,offset:h}}):a.domain().map(function(m,v){return{coordinate:a(m)+h,value:s?s[m]:m,index:v,offset:h}})},Nw=new WeakMap,Np=function(e,r){if(typeof r!="function")return e;Nw.has(e)||Nw.set(e,new WeakMap);var n=Nw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},q6=function(e,r,n){var a=e.scale,s=e.type,l=e.layout,c=e.axisType;if(a==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Gd(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Sm(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_d(),realScaleType:"point"}:s==="category"?{scale:Gd(),realScaleType:"band"}:{scale:Sm(),realScaleType:"linear"};if(ll(a)){var d="scale".concat(I0(a));return{scale:(jI[d]||_d)(),realScaleType:jI[d]?d:"point"}}return Xe(a)?{scale:a}:{scale:_d(),realScaleType:"point"}},VI=1e-4,z6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-VI,l=Math.max(a[0],a[1])+VI,c=e(r[0]),d=e(r[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([r[0],r[n-1]])}},zJ=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},WJ=function(e,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Te(e[0])||e[0]<n)&&(s[0]=n),(!Te(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},HJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0,c=0;c<r;++c){var d=Bh(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},GJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0;l<r;++l){var c=Bh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},KJ={sign:HJ,expand:DW,none:Oc,silhouette:MW,wiggle:LW,positive:GJ},YJ=function(e,r,n){var a=r.map(function(c){return c.props.dataKey}),s=KJ[n],l=RW().keys(a).value(function(c,d){return+tn(c,d,0)}).order(V_).offset(s);return l(e)},QJ=function(e,r,n,a,s,l){if(!e)return null;var c=l?r.reverse():r,d={},h=c.reduce(function(m,v){var x,_=(x=v.type)!==null&&x!==void 0&&x.defaultProps?rr(rr({},v.type.defaultProps),v.props):v.props,w=_.stackId,b=_.hide;if(b)return m;var S=_[n],j=m[S]||{hasStack:!1,stackGroups:{}};if(_r(w)){var A=j.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};A.items.push(v),j.hasStack=!0,j.stackGroups[w]=A}else j.stackGroups[Uh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return rr(rr({},m),{},kc({},S,j))},d),p={};return Object.keys(h).reduce(function(m,v){var x=h[v];if(x.hasStack){var _={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var S=x.stackGroups[b];return rr(rr({},w),{},kc({},b,{numericAxisId:n,cateAxisId:a,items:S.items,stackedData:YJ(e,S.items,s)}))},_)}return rr(rr({},m),{},kc({},v,x))},p)},W6=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,l=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=uJ(h,s,c);return e.domain([K0(p),G0(p)]),{niceTicks:p}}if(s&&a==="number"){var m=e.domain(),v=dJ(m,s,c);return{niceTicks:v}}return null},BI=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,l=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=tn(l,r.dataKey,r.domain[c]);return at(d)?null:r.scale(d)-s/2+a},XJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},JJ=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(_r(s)){var l=r[s];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},ZJ=function(e){return e.reduce(function(r,n){return[K0(n.concat([r[0]]).filter(Te)),G0(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},H6=function(e,r,n){return Object.keys(e).reduce(function(a,s){var l=e[s],c=l.stackedData,d=c.reduce(function(h,p){var m=ZJ(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,d1=function(e,r,n){if(Xe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Te(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(UI.test(e[0])){var s=+UI.exec(e[0])[1];a[0]=r[0]-s}else Xe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Te(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(qI.test(e[1])){var l=+qI.exec(e[1])[1];a[1]=r[1]+l}else Xe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Om=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=xj(r,function(m){return m.coordinate}),l=1/0,c=1,d=s.length;c<d;c++){var h=s[c],p=s[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},zI=function(e,r,n){return!e||!e.length||Y0(e,Qn(n,"type.defaultProps.domain"))?r:e},G6=function(e,r){var n=e.type.defaultProps?rr(rr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,l=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return rr(rr({},Ye(e,!1)),{},{dataKey:a,unit:l,formatter:c,name:s||a,color:Hj(e),value:tn(r,a),type:d,payload:r,chartType:h,hide:p})};function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function WI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(r),!0).forEach(function(n){K6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K6(t,e,r){return e=eZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eZ(t){var e=tZ(t,"string");return rh(e)=="symbol"?e:e+""}function tZ(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rZ(t,e){return sZ(t)||iZ(t,e)||aZ(t,e)||nZ()}function nZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(t,e){if(t){if(typeof t=="string")return HI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function sZ(t){if(Array.isArray(t))return t}var Rm=Math.PI/180,oZ=function(e){return e*180/Math.PI},Ot=function(e,r,n,a){return{x:e+Math.cos(-Rm*a)*n,y:r+Math.sin(-Rm*a)*n}},Y6=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},lZ=function(e,r,n,a,s){var l=e.width,c=e.height,d=e.startAngle,h=e.endAngle,p=mn(e.cx,l,l/2),m=mn(e.cy,c,c/2),v=Y6(l,c,n),x=mn(e.innerRadius,v,0),_=mn(e.outerRadius,v,v*.8),w=Object.keys(r);return w.reduce(function(b,S){var j=r[S],A=j.domain,I=j.reversed,N;if(at(j.range))a==="angleAxis"?N=[d,h]:a==="radiusAxis"&&(N=[x,_]),I&&(N=[N[1],N[0]]);else{N=j.range;var C=N,P=rZ(C,2);d=P[0],h=P[1]}var O=q6(j,s),L=O.realScaleType,R=O.scale;R.domain(A).range(N),z6(R);var D=W6(R,Fi(Fi({},j),{},{realScaleType:L})),F=Fi(Fi(Fi({},j),D),{},{range:N,radius:_,realScaleType:L,scale:R,cx:p,cy:m,innerRadius:x,outerRadius:_,startAngle:d,endAngle:h});return Fi(Fi({},b),{},K6({},S,F))},{})},cZ=function(e,r){var n=e.x,a=e.y,s=r.x,l=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-l,2))},uZ=function(e,r){var n=e.x,a=e.y,s=r.cx,l=r.cy,c=cZ({x:n,y:a},{x:s,y:l});if(c<=0)return{radius:c};var d=(n-s)/c,h=Math.acos(d);return a>l&&(h=2*Math.PI-h),{radius:c,angle:oZ(h),angleInRadian:h}},dZ=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return{startAngle:r-l*360,endAngle:n-l*360}},hZ=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},GI=function(e,r){var n=e.x,a=e.y,s=uZ({x:n,y:a},r),l=s.radius,c=s.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=dZ(r),m=p.startAngle,v=p.endAngle,x=c,_;if(m<=v){for(;x>v;)x-=360;for(;x<m;)x+=360;_=x>=m&&x<=v}else{for(;x>m;)x-=360;for(;x<v;)x+=360;_=x>=v&&x<=m}return _?Fi(Fi({},r),{},{radius:l,angle:hZ(x,r)}):null},Q6=function(e){return!B.isValidElement(e)&&!Xe(e)&&typeof e!="boolean"?e.className:""};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}var fZ=["offset"];function pZ(t){return vZ(t)||yZ(t)||gZ(t)||mZ()}function mZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gZ(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function yZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vZ(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xZ(t,e){if(t==null)return{};var r=bZ(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(r),!0).forEach(function(n){wZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wZ(t,e,r){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Z(t){var e=kZ(t,"string");return nh(e)=="symbol"?e:e+""}function kZ(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ah.apply(this,arguments)}var jZ=function(e){var r=e.value,n=e.formatter,a=at(e.children)?r:e.children;return Xe(n)?n(a):a},NZ=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},SZ=function(e,r,n){var a=e.position,s=e.viewBox,l=e.offset,c=e.className,d=s,h=d.cx,p=d.cy,m=d.innerRadius,v=d.outerRadius,x=d.startAngle,_=d.endAngle,w=d.clockWise,b=(m+v)/2,S=NZ(x,_),j=S>=0?1:-1,A,I;a==="insideStart"?(A=x+j*l,I=w):a==="insideEnd"?(A=_-j*l,I=!w):a==="end"&&(A=_+j*l,I=w),I=S<=0?I:!I;var N=Ot(h,p,b,A),C=Ot(h,p,b,A+(I?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(C.x,",").concat(C.y),O=at(e.id)?Uh("recharts-radial-line-"):e.id;return G.createElement("text",ah({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:O,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(O)},r))},EZ=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,l=s.cx,c=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(a==="outside"){var x=Ot(l,c,h+n,v),_=x.x,w=x.y;return{x:_,y:w,textAnchor:_>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,S=Ot(l,c,b,v),j=S.x,A=S.y;return{x:j,y:A,textAnchor:"middle",verticalAnchor:"middle"}},TZ=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,l=r,c=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*a,x=m>0?"end":"start",_=m>0?"start":"end",w=h>=0?1:-1,b=w*a,S=w>0?"end":"start",j=w>0?"start":"end";if(s==="top"){var A={x:c+h/2,y:d-m*a,textAnchor:"middle",verticalAnchor:x};return wr(wr({},A),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var I={x:c+h/2,y:d+p+v,textAnchor:"middle",verticalAnchor:_};return wr(wr({},I),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(s==="left"){var N={x:c-b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return wr(wr({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(s==="right"){var C={x:c+h+b,y:d+p/2,textAnchor:j,verticalAnchor:"middle"};return wr(wr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:p}:{})}var P=n?{width:h,height:p}:{};return s==="insideLeft"?wr({x:c+b,y:d+p/2,textAnchor:j,verticalAnchor:"middle"},P):s==="insideRight"?wr({x:c+h-b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},P):s==="insideTop"?wr({x:c+h/2,y:d+v,textAnchor:"middle",verticalAnchor:_},P):s==="insideBottom"?wr({x:c+h/2,y:d+p-v,textAnchor:"middle",verticalAnchor:x},P):s==="insideTopLeft"?wr({x:c+b,y:d+v,textAnchor:j,verticalAnchor:_},P):s==="insideTopRight"?wr({x:c+h-b,y:d+v,textAnchor:S,verticalAnchor:_},P):s==="insideBottomLeft"?wr({x:c+b,y:d+p-v,textAnchor:j,verticalAnchor:x},P):s==="insideBottomRight"?wr({x:c+h-b,y:d+p-v,textAnchor:S,verticalAnchor:x},P):lu(s)&&(Te(s.x)||Ho(s.x))&&(Te(s.y)||Ho(s.y))?wr({x:c+mn(s.x,h),y:d+mn(s.y,p),textAnchor:"end",verticalAnchor:"end"},P):wr({x:c+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},AZ=function(e){return"cx"in e&&Te(e.cx)};function Pr(t){var e=t.offset,r=e===void 0?5:e,n=xZ(t,fZ),a=wr({offset:r},n),s=a.viewBox,l=a.position,c=a.value,d=a.children,h=a.content,p=a.className,m=p===void 0?"":p,v=a.textBreakAll;if(!s||at(c)&&at(d)&&!B.isValidElement(h)&&!Xe(h))return null;if(B.isValidElement(h))return B.cloneElement(h,a);var x;if(Xe(h)){if(x=B.createElement(h,a),B.isValidElement(x))return x}else x=jZ(a);var _=AZ(s),w=Ye(a,!0);if(_&&(l==="insideStart"||l==="insideEnd"||l==="end"))return SZ(a,x,w);var b=_?EZ(a):TZ(a);return G.createElement(ul,ah({className:tt("recharts-label",m)},w,b,{breakAll:v}),x)}Pr.displayName="Label";var X6=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,l=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,x=e.top,_=e.left,w=e.width,b=e.height,S=e.clockWise,j=e.labelViewBox;if(j)return j;if(Te(w)&&Te(b)){if(Te(m)&&Te(v))return{x:m,y:v,width:w,height:b};if(Te(x)&&Te(_))return{x,y:_,width:w,height:b}}return Te(m)&&Te(v)?{x:m,y:v,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:l||a||0,innerRadius:h||0,outerRadius:p||d||c||0,clockWise:S}:e.viewBox?e.viewBox:{}},CZ=function(e,r){return e?e===!0?G.createElement(Pr,{key:"label-implicit",viewBox:r}):_r(e)?G.createElement(Pr,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===Pr?B.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):Xe(e)?G.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):lu(e)?G.createElement(Pr,ah({viewBox:r},e,{key:"label-implicit"})):null:null},PZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=X6(e),l=xa(a,Pr).map(function(d,h){return B.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return l;var c=CZ(e.label,r||s);return[c].concat(pZ(l))};Pr.parseViewBox=X6;Pr.renderCallByParent=PZ;var Sw,YI;function IZ(){if(YI)return Sw;YI=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Sw=t,Sw}var OZ=IZ();const RZ=xt(OZ);function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}var DZ=["valueAccessor"],MZ=["data","dataKey","clockWise","id","textBreakAll"];function LZ(t){return BZ(t)||VZ(t)||FZ(t)||$Z()}function $Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FZ(t,e){if(t){if(typeof t=="string")return f1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(t,e)}}function VZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BZ(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function QI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(r),!0).forEach(function(n){UZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UZ(t,e,r){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qZ(t){var e=zZ(t,"string");return ih(e)=="symbol"?e:e+""}function zZ(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JI(t,e){if(t==null)return{};var r=WZ(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var HZ=function(e){return Array.isArray(e.value)?RZ(e.value):e.value};function Xs(t){var e=t.valueAccessor,r=e===void 0?HZ:e,n=JI(t,DZ),a=n.data,s=n.dataKey,l=n.clockWise,c=n.id,d=n.textBreakAll,h=JI(n,MZ);return!a||!a.length?null:G.createElement(wt,{className:"recharts-label-list"},a.map(function(p,m){var v=at(s)?r(p,m):tn(p&&p.payload,s),x=at(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(Pr,Dm({},Ye(p,!0),h,x,{parentViewBox:p.parentViewBox,value:v,textBreakAll:d,viewBox:Pr.parseViewBox(at(l)?p:XI(XI({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Xs.displayName="LabelList";function GZ(t,e){return t?t===!0?G.createElement(Xs,{key:"labelList-implicit",data:e}):G.isValidElement(t)||Xe(t)?G.createElement(Xs,{key:"labelList-implicit",data:e,content:t}):lu(t)?G.createElement(Xs,Dm({data:e},t,{key:"labelList-implicit"})):null:null}function KZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=xa(n,Xs).map(function(l,c){return B.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!r)return a;var s=GZ(t.label,e);return[s].concat(LZ(a))}Xs.renderCallByParent=KZ;function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p1.apply(this,arguments)}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function eO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){YZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YZ(t,e,r){return e=QZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QZ(t){var e=XZ(t,"string");return sh(e)=="symbol"?e:e+""}function XZ(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JZ=function(e,r){var n=pn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Sp=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,l=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(c?1:-1)+a,m=Math.asin(d/p)/Rm,v=h?s:s+l*m,x=Ot(r,n,p,v),_=Ot(r,n,a,v),w=h?s-l*m:s,b=Ot(r,n,p*Math.cos(m*Rm),w);return{center:x,circleTangency:_,lineTangency:b,theta:m}},J6=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,d=JZ(l,c),h=l+d,p=Ot(r,n,s,l),m=Ot(r,n,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var x=Ot(r,n,a,l),_=Ot(r,n,a,h);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},ZZ=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=pn(p-h),v=Sp({cx:r,cy:n,radius:s,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),x=v.circleTangency,_=v.lineTangency,w=v.theta,b=Sp({cx:r,cy:n,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),S=b.circleTangency,j=b.lineTangency,A=b.theta,I=d?Math.abs(h-p):Math.abs(h-p)-w-A;if(I<0)return c?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):J6({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p});var N="M ".concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var C=Sp({cx:r,cy:n,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),P=C.circleTangency,O=C.lineTangency,L=C.theta,R=Sp({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),D=R.circleTangency,F=R.lineTangency,$=R.theta,re=d?Math.abs(h-p):Math.abs(h-p)-L-$;if(re<0&&l===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(re>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},eee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gj=function(e){var r=eO(eO({},eee),e),n=r.cx,a=r.cy,s=r.innerRadius,l=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,v=r.className;if(l<s||p===m)return null;var x=tt("recharts-sector",v),_=l-s,w=mn(c,_,0,!0),b;return w>0&&Math.abs(p-m)<360?b=ZZ({cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,_/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):b=J6({cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),G.createElement("path",p1({},Ye(r,!0),{className:x,d:b,role:"img"}))};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){tee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tee(t,e,r){return e=ree(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ree(t){var e=nee(t,"string");return oh(e)=="symbol"?e:e+""}function nee(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nO={curveBasisClosed:kW,curveBasisOpen:jW,curveBasis:_W,curveBumpX:lW,curveBumpY:cW,curveLinearClosed:NW,curveLinear:R0,curveMonotoneX:SW,curveMonotoneY:EW,curveNatural:TW,curveStep:AW,curveStepAfter:PW,curveStepBefore:CW},Ep=function(e){return e.x===+e.x&&e.y===+e.y},td=function(e){return e.x},rd=function(e){return e.y},aee=function(e,r){if(Xe(e))return e;var n="curve".concat(I0(e));return(n==="curveMonotone"||n==="curveBump")&&r?nO["".concat(n).concat(r==="vertical"?"Y":"X")]:nO[n]||R0},iee=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,l=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=aee(n,c),m=h?s.filter(function(w){return Ep(w)}):s,v;if(Array.isArray(l)){var x=h?l.filter(function(w){return Ep(w)}):l,_=m.map(function(w,b){return rO(rO({},w),{},{base:x[b]})});return c==="vertical"?v=vp().y(rd).x1(td).x0(function(w){return w.base.x}):v=vp().x(td).y1(rd).y0(function(w){return w.base.y}),v.defined(Ep).curve(p),v(_)}return c==="vertical"&&Te(l)?v=vp().y(rd).x1(td).x0(l):Te(l)?v=vp().x(td).y1(rd).y0(l):v=X4().x(td).y(rd),v.defined(Ep).curve(p),v(m)},g1=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?iee(e):a;return B.createElement("path",m1({},Ye(e,!1),cm(e),{className:tt("recharts-curve",r),d:l,ref:s}))},Ew={exports:{}},Tw,aO;function see(){if(aO)return Tw;aO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tw=t,Tw}var Aw,iO;function oee(){if(iO)return Aw;iO=1;var t=see();function e(){}function r(){}return r.resetWarningCache=e,Aw=function(){function n(l,c,d,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},Aw}var sO;function lee(){return sO||(sO=1,Ew.exports=oee()()),Ew.exports}var cee=lee();const vt=xt(cee);var uee=Object.getOwnPropertyNames,dee=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty;function oO(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Tp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,l=s.get(r),c=s.get(n);if(l&&c)return l===n&&c===r;s.set(r,n),s.set(n,r);var d=t(r,n,a);return s.delete(r),s.delete(n),d}}function lO(t){return uee(t).concat(dee(t))}var fee=Object.hasOwn||function(t,e){return hee.call(t,e)};function kl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var pee="__v",mee="__o",gee="_owner",cO=Object.getOwnPropertyDescriptor,uO=Object.keys;function yee(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function vee(t,e){return kl(t.getTime(),e.getTime())}function xee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bee(t,e){return t===e}function dO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),l,c,d=0;(l=s.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(a[m]){m++;continue}var v=l.value,x=c.value;if(r.equals(v[0],x[0],d,m,t,e,r)&&r.equals(v[1],x[1],v[0],x[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}var wee=kl;function _ee(t,e,r){var n=uO(t),a=n.length;if(uO(e).length!==a)return!1;for(;a-- >0;)if(!Z6(t,e,r,n[a]))return!1;return!0}function nd(t,e,r){var n=lO(t),a=n.length;if(lO(e).length!==a)return!1;for(var s,l,c;a-- >0;)if(s=n[a],!Z6(t,e,r,s)||(l=cO(t,s),c=cO(e,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function kee(t,e){return kl(t.valueOf(),e.valueOf())}function jee(t,e){return t.source===e.source&&t.flags===e.flags}function hO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),l,c;(l=s.next())&&!l.done;){for(var d=e.values(),h=!1,p=0;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(l.value,c.value,l.value,c.value,t,e,r)){h=a[p]=!0;break}p++}if(!h)return!1}return!0}function Nee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function See(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Z6(t,e,r,n){return(n===gee||n===mee||n===pee)&&(t.$$typeof||e.$$typeof)?!0:fee(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Eee="[object Arguments]",Tee="[object Boolean]",Aee="[object Date]",Cee="[object Error]",Pee="[object Map]",Iee="[object Number]",Oee="[object Object]",Ree="[object RegExp]",Dee="[object Set]",Mee="[object String]",Lee="[object URL]",$ee=Array.isArray,fO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,pO=Object.assign,Fee=Object.prototype.toString.call.bind(Object.prototype.toString);function Vee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(_,w,b){if(_===w)return!0;if(_==null||w==null)return!1;var S=typeof _;if(S!==typeof w)return!1;if(S!=="object")return S==="number"?l(_,w,b):S==="function"?a(_,w,b):!1;var j=_.constructor;if(j!==w.constructor)return!1;if(j===Object)return c(_,w,b);if($ee(_))return e(_,w,b);if(fO!=null&&fO(_))return m(_,w,b);if(j===Date)return r(_,w,b);if(j===RegExp)return h(_,w,b);if(j===Map)return s(_,w,b);if(j===Set)return p(_,w,b);var A=Fee(_);return A===Aee?r(_,w,b):A===Ree?h(_,w,b):A===Pee?s(_,w,b):A===Dee?p(_,w,b):A===Oee?typeof _.then!="function"&&typeof w.then!="function"&&c(_,w,b):A===Lee?v(_,w,b):A===Cee?n(_,w,b):A===Eee?c(_,w,b):A===Tee||A===Iee||A===Mee?d(_,w,b):!1}}function Bee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?nd:yee,areDatesEqual:vee,areErrorsEqual:xee,areFunctionsEqual:bee,areMapsEqual:n?oO(dO,nd):dO,areNumbersEqual:wee,areObjectsEqual:n?nd:_ee,arePrimitiveWrappersEqual:kee,areRegExpsEqual:jee,areSetsEqual:n?oO(hO,nd):hO,areTypedArraysEqual:n?nd:Nee,areUrlsEqual:See};if(r&&(a=pO({},a,r(a))),e){var s=Tp(a.areArraysEqual),l=Tp(a.areMapsEqual),c=Tp(a.areObjectsEqual),d=Tp(a.areSetsEqual);a=pO({},a,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return a}function Uee(t){return function(e,r,n,a,s,l,c){return t(e,r,c)}}function qee(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,h,{cache:v,equals:a,meta:x,strict:s})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var l={cache:void 0,equals:a,meta:void 0,strict:s};return function(d,h){return r(d,h,l)}}var zee=co();co({strict:!0});co({circular:!0});co({circular:!0,strict:!0});co({createInternalComparator:function(){return kl}});co({strict:!0,createInternalComparator:function(){return kl}});co({circular:!0,createInternalComparator:function(){return kl}});co({circular:!0,createInternalComparator:function(){return kl},strict:!0});function co(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,l=s===void 0?!1:s,c=Bee(t),d=Vee(c),h=n?n(d):Uee(d);return qee({circular:r,comparator:d,createState:a,equals:h,strict:l})}function Wee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Wee(a)};requestAnimationFrame(n)}function y1(t){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y1(t)}function Hee(t){return Qee(t)||Yee(t)||Kee(t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qee(t){if(Array.isArray(t))return t}function Xee(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,c=Hee(l),d=c[0],h=c.slice(1);if(typeof d=="number"){mO(a.bind(null,h),d);return}a(d),mO(a.bind(null,h));return}y1(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eL(t,e,r){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=Zee(t,"string");return lh(e)==="symbol"?e:String(e)}function Zee(t,e){if(lh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ete=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},tte=function(e){return e},rte=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jd=function(e,r){return Object.keys(r).reduce(function(n,a){return vO(vO({},n),{},eL({},a,e(a,r[a])))},{})},xO=function(e,r,n){return e.map(function(a){return"".concat(rte(a)," ").concat(r,"ms ").concat(n)}).join(",")};function nte(t,e){return ste(t)||ite(t,e)||tL(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function ste(t){if(Array.isArray(t))return t}function ote(t){return ute(t)||cte(t)||tL(t)||lte()}function lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tL(t,e){if(t){if(typeof t=="string")return v1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v1(t,e)}}function cte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ute(t){if(Array.isArray(t))return v1(t)}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Mm=1e-4,rL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},nL=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bO=function(e,r){return function(n){var a=rL(e,r);return nL(a,n)}},dte=function(e,r){return function(n){var a=rL(e,r),s=[].concat(ote(a.map(function(l,c){return l*c}).slice(1)),[0]);return nL(s,n)}},wO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],l=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,l=1,c=1;break;case"ease":a=.25,s=.1,l=.25,c=1;break;case"ease-in":a=.42,s=0,l=1,c=1;break;case"ease-out":a=.42,s=0,l=.58,c=1;break;case"ease-in-out":a=0,s=0,l=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=nte(h,4);a=p[0],s=p[1],l=p[2],c=p[3]}}}var m=bO(a,l),v=bO(s,c),x=dte(a,l),_=function(S){return S>1?1:S<0?0:S},w=function(S){for(var j=S>1?1:S,A=j,I=0;I<8;++I){var N=m(A)-j,C=x(A);if(Math.abs(N-j)<Mm||C<Mm)return v(A);A=_(A-N/C)}return v(A)};return w.isStepper=!1,w},hte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,l=e.dt,c=l===void 0?17:l,d=function(p,m,v){var x=-(p-m)*n,_=v*s,w=v+(x-_)*c/1e3,b=v*c/1e3+p;return Math.abs(b-m)<Mm&&Math.abs(w)<Mm?[m,0]:[b,w]};return d.isStepper=!0,d.dt=c,d},fte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wO(a);case"spring":return hte();default:if(a.split("(")[0]==="cubic-bezier")return wO(a)}return typeof a=="function"?a:null};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function _O(t){return gte(t)||mte(t)||aL(t)||pte()}function pte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gte(t){if(Array.isArray(t))return b1(t)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){x1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x1(t,e,r){return e=yte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yte(t){var e=vte(t,"string");return ch(e)==="symbol"?e:String(e)}function vte(t,e){if(ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xte(t,e){return _te(t)||wte(t,e)||aL(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aL(t,e){if(t){if(typeof t=="string")return b1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(t,e)}}function b1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function _te(t){if(Array.isArray(t))return t}var Lm=function(e,r,n){return e+(r-e)*n},w1=function(e){var r=e.from,n=e.to;return r!==n},kte=function t(e,r,n){var a=jd(function(s,l){if(w1(l)){var c=e(l.from,l.to,l.velocity),d=xte(c,2),h=d[0],p=d[1];return Fr(Fr({},l),{},{from:h,velocity:p})}return l},r);return n<1?jd(function(s,l){return w1(l)?Fr(Fr({},l),{},{velocity:Lm(l.velocity,a[s].velocity,n),from:Lm(l.from,a[s].from,n)}):l},r):t(e,a,n-1)};const jte=function(t,e,r,n,a){var s=ete(t,e),l=s.reduce(function(b,S){return Fr(Fr({},b),{},x1({},S,[t[S],e[S]]))},{}),c=s.reduce(function(b,S){return Fr(Fr({},b),{},x1({},S,{from:t[S],velocity:0,to:e[S]}))},{}),d=-1,h,p,m=function(){return null},v=function(){return jd(function(S,j){return j.from},c)},x=function(){return!Object.values(c).filter(w1).length},_=function(S){h||(h=S);var j=S-h,A=j/r.dt;c=kte(r,c,A),a(Fr(Fr(Fr({},t),e),v())),h=S,x()||(d=requestAnimationFrame(m))},w=function(S){p||(p=S);var j=(S-p)/n,A=jd(function(N,C){return Lm.apply(void 0,_O(C).concat([r(j)]))},l);if(a(Fr(Fr(Fr({},t),e),A)),j<1)d=requestAnimationFrame(m);else{var I=jd(function(N,C){return Lm.apply(void 0,_O(C).concat([r(1)]))},l);a(Fr(Fr(Fr({},t),e),I))}};return m=r.isStepper?_:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var Nte=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ste(t,e){if(t==null)return{};var r=Ete(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ete(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Cw(t){return Pte(t)||Cte(t)||Ate(t)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(t,e){if(t){if(typeof t=="string")return _1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(t,e)}}function Cte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pte(t){if(Array.isArray(t))return _1(t)}function _1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){fd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fd(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ote(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function Rte(t,e,r){return e&&Ote(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iL(t){var e=Dte(t,"string");return Uc(e)==="symbol"?e:String(e)}function Dte(t,e){if(Uc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k1(t,e)}function Lte(t){var e=$te();return function(){var n=$m(t),a;if(e){var s=$m(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return j1(this,a)}}function j1(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1(t)}function N1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(t)}var ns=function(t){Mte(r,t);var e=Lte(r);function r(n,a){var s;Ite(this,r),s=e.call(this,n,a);var l=s.props,c=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,x=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(N1(s)),s.changeStyle=s.changeStyle.bind(N1(s)),!c||x<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),j1(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},j1(s);s.state={style:d?fd({},d,h):h}}else s.state={style:{}};return s}return Rte(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,l=a.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,l=s.isActive,c=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(c){if(!l){var x={style:d?fd({},d,p):p};this.state&&v&&(d&&v[d]!==p||!d&&v!==p)&&this.setState(x);return}if(!(zee(a.to,p)&&a.canBegin&&a.isActive)){var _=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=_||h?m:a.to;if(this.state&&v){var b={style:d?fd({},d,w):w};(d&&v[d]!==w||!d&&v!==w)&&this.setState(b)}this.runAnimation(Ra(Ra({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,l=a.from,c=a.to,d=a.duration,h=a.easing,p=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,x=jte(l,c,fte(h),d,this.changeStyle),_=function(){s.stopJSAnimation=x()};this.manager.start([v,p,_,d,m])}},{key:"runStepAnimation",value:function(a){var s=this,l=a.steps,c=a.begin,d=a.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,x=function(w,b,S){if(S===0)return w;var j=b.duration,A=b.easing,I=A===void 0?"ease":A,N=b.style,C=b.properties,P=b.onAnimationEnd,O=S>0?l[S-1]:b,L=C||Object.keys(N);if(typeof I=="function"||I==="spring")return[].concat(Cw(w),[s.runJSAnimation.bind(s,{from:O.style,to:N,duration:j,easing:I}),j]);var R=xO(L,j,I),D=Ra(Ra(Ra({},O.style),N),{},{transition:R});return[].concat(Cw(w),[D,j,P]).filter(tte)};return this.manager.start([d].concat(Cw(l.reduce(x,[p,Math.max(v,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Xee());var s=a.begin,l=a.duration,c=a.attributeName,d=a.to,h=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,x=a.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof h=="function"||typeof x=="function"||h==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var w=c?fd({},c,d):d,b=xO(Object.keys(w),l,h);_.start([p,s,Ra(Ra({},w),{},{transition:b}),l,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Ste(a,Nte),h=B.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||h===0||l<=0)return s;var m=function(x){var _=x.props,w=_.style,b=w===void 0?{}:w,S=_.className,j=B.cloneElement(x,Ra(Ra({},d),{},{style:Ra(Ra({},b),p),className:S}));return j};return h===1?m(B.Children.only(s)):G.createElement("div",null,B.Children.map(s,function(v){return m(v)}))}}]),r}(B.PureComponent);ns.displayName="Animate";ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ns.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fm.apply(this,arguments)}function Fte(t,e){return qte(t)||Ute(t,e)||Bte(t,e)||Vte()}function Vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(t,e){if(t){if(typeof t=="string")return NO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NO(t,e)}}function NO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ute(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function qte(t){if(Array.isArray(t))return t}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){zte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zte(t,e,r){return e=Wte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wte(t){var e=Hte(t,"string");return uh(e)=="symbol"?e:e+""}function Hte(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TO=function(e,r,n,a,s){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,x=4;v<x;v++)m[v]=s[v]>l?l:s[v];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+a-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-c*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var _=Math.min(l,s);p="M ".concat(e,",").concat(r+c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+d*_,",").concat(r,`
            L `).concat(e+n-d*_,",").concat(r,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*_,`
            L `).concat(e+n,",").concat(r+a-c*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+n-d*_,",").concat(r+a,`
            L `).concat(e+d*_,",").concat(r+a,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e,",").concat(r+a-c*_," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},Gte=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,l=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(s,s+c),p=Math.max(s,s+c),m=Math.min(l,l+d),v=Math.max(l,l+d);return n>=h&&n<=p&&a>=m&&a<=v}return!1},Kte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kj=function(e){var r=EO(EO({},Kte),e),n=B.useRef(),a=B.useState(-1),s=Fte(a,2),l=s[0],c=s[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&c(I)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,v=r.radius,x=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,S=r.isAnimationActive,j=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var A=tt("recharts-rectangle",x);return j?G.createElement(ns,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:w,animationEasing:_,isActive:j},function(I){var N=I.width,C=I.height,P=I.x,O=I.y;return G.createElement(ns,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:S,easing:_},G.createElement("path",Fm({},Ye(r,!0),{className:A,d:TO(P,O,N,C,v),ref:n})))}):G.createElement("path",Fm({},Ye(r,!0),{className:A,d:TO(d,h,p,m,v)}))},Yte=["points","className","baseLinePoints","connectNulls"];function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hc.apply(this,arguments)}function Qte(t,e){if(t==null)return{};var r=Xte(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AO(t){return tre(t)||ere(t)||Zte(t)||Jte()}function Jte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zte(t,e){if(t){if(typeof t=="string")return S1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(t,e)}}function ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tre(t){if(Array.isArray(t))return S1(t)}function S1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CO=function(e){return e&&e.x===+e.x&&e.y===+e.y},rre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){CO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),CO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Nd=function(e,r){var n=rre(e);r&&(n=[n.reduce(function(s,l){return[].concat(AO(s),AO(l))},[])]);var a=n.map(function(s){return s.reduce(function(l,c,d){return"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},nre=function(e,r,n){var a=Nd(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Nd(r.reverse(),n).slice(1))},are=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,l=Qte(e,Yte);if(!r||!r.length)return null;var c=tt("recharts-polygon",n);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",h=nre(r,a,s);return G.createElement("g",{className:c},G.createElement("path",hc({},Ye(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?G.createElement("path",hc({},Ye(l,!0),{fill:"none",d:Nd(r,s)})):null,d?G.createElement("path",hc({},Ye(l,!0),{fill:"none",d:Nd(a,s)})):null)}var p=Nd(r,s);return G.createElement("path",hc({},Ye(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E1.apply(this,arguments)}var Yj=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,l=tt("recharts-dot",s);return r===+r&&n===+n&&a===+a?B.createElement("circle",E1({},Ye(e,!1),cm(e),{className:l,cx:r,cy:n,r:a})):null};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var ire=["x","y","top","left","width","height","className"];function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(this,arguments)}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){ore(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ore(t,e,r){return e=lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lre(t){var e=cre(t,"string");return dh(e)=="symbol"?e:e+""}function cre(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ure(t,e){if(t==null)return{};var r=dre(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hre=function(e,r,n,a,s,l){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},fre=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,l=e.top,c=l===void 0?0:l,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,v=e.height,x=v===void 0?0:v,_=e.className,w=ure(e,ire),b=sre({x:n,y:s,top:c,left:h,width:m,height:x},w);return!Te(n)||!Te(s)||!Te(m)||!Te(x)||!Te(c)||!Te(h)?null:G.createElement("path",T1({},Ye(b,!0),{className:tt("recharts-cross",_),d:hre(n,s,m,x,c,h)}))},Pw,IO;function pre(){if(IO)return Pw;IO=1;var t=H0(),e=w6(),r=vi();function n(a,s){return a&&a.length?t(a,r(s,2),e):void 0}return Pw=n,Pw}var mre=pre();const gre=xt(mre);var Iw,OO;function yre(){if(OO)return Iw;OO=1;var t=H0(),e=vi(),r=_6();function n(a,s){return a&&a.length?t(a,e(s,2),r):void 0}return Iw=n,Iw}var vre=yre();const xre=xt(vre);var bre=["cx","cy","angle","ticks","axisLine"],wre=["ticks","tick","angle","tickFormatter","stroke"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(this,arguments)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DO(t,e){if(t==null)return{};var r=_re(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oL(n.key),n)}}function jre(t,e,r){return e&&MO(t.prototype,e),r&&MO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nre(t,e,r){return e=Vm(e),Sre(t,sL()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function Sre(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ere(t)}function Ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function Tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A1(t,e)}function Z0(t,e,r){return e=oL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oL(t){var e=Are(t,"string");return qc(e)=="symbol"?e:e+""}function Are(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eg=function(t){function e(){return kre(this,e),Nre(this,e,arguments)}return Tre(e,t),jre(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,l=s.angle,c=s.cx,d=s.cy;return Ot(c,d,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.angle,c=n.ticks,d=gre(c,function(p){return p.coordinate||0}),h=xre(c,function(p){return p.coordinate||0});return{cx:a,cy:s,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.angle,c=n.ticks,d=n.axisLine,h=DO(n,bre),p=c.reduce(function(_,w){return[Math.min(_[0],w.coordinate),Math.max(_[1],w.coordinate)]},[1/0,-1/0]),m=Ot(a,s,p[0],l),v=Ot(a,s,p[1],l),x=Lo(Lo(Lo({},Ye(h,!1)),{},{fill:"none"},Ye(d,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",Sd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,l=a.tick,c=a.angle,d=a.tickFormatter,h=a.stroke,p=DO(a,wre),m=this.getTickTextAnchor(),v=Ye(p,!1),x=Ye(l,!1),_=s.map(function(w,b){var S=n.getTickValueCoord(w),j=Lo(Lo(Lo(Lo({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(S.x,", ").concat(S.y,")")},v),{},{stroke:"none",fill:h},x),{},{index:b},S),{},{payload:w});return G.createElement(wt,Sd({className:tt("recharts-polar-radius-axis-tick",Q6(l)),key:"tick-".concat(w.coordinate)},cl(n.props,w,b)),e.renderTickItem(l,j,d?d(w.value,b):w.value))});return G.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,l=n.tick;return!a||!a.length?null:G.createElement(wt,{className:tt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),Pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var l;return G.isValidElement(n)?l=G.cloneElement(n,a):Xe(n)?l=n(a):l=G.createElement(ul,Sd({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])}(B.PureComponent);Z0(eg,"displayName","PolarRadiusAxis");Z0(eg,"axisType","radiusAxis");Z0(eg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uo.apply(this,arguments)}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cL(n.key),n)}}function Pre(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ire(t,e,r){return e=Bm(e),Ore(t,lL()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function Ore(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(t)}function Rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function Dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(t,e)}function tg(t,e,r){return e=cL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cL(t){var e=Mre(t,"string");return zc(e)=="symbol"?e:e+""}function Mre(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lre=Math.PI/180,FO=1e-5,rg=function(t){function e(){return Cre(this,e),Ire(this,e,arguments)}return Dre(e,t),Pre(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,l=a.cy,c=a.radius,d=a.orientation,h=a.tickSize,p=h||8,m=Ot(s,l,c,n.coordinate),v=Ot(s,l,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*Lre),l;return s>FO?l=a==="outer"?"start":"end":s<-FO?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,l=n.radius,c=n.axisLine,d=n.axisLineType,h=$o($o({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(d==="circle")return G.createElement(Yj,Uo({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:s,r:l}));var p=this.props.ticks,m=p.map(function(v){return Ot(a,s,l,v.coordinate)});return G.createElement(are,Uo({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,l=a.tick,c=a.tickLine,d=a.tickFormatter,h=a.stroke,p=Ye(this.props,!1),m=Ye(l,!1),v=$o($o({},p),{},{fill:"none"},Ye(c,!1)),x=s.map(function(_,w){var b=n.getTickLineCoord(_),S=n.getTickTextAnchor(_),j=$o($o($o({textAnchor:S},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:_,x:b.x2,y:b.y2});return G.createElement(wt,Uo({className:tt("recharts-polar-angle-axis-tick",Q6(l)),key:"tick-".concat(_.coordinate)},cl(n.props,_,w)),c&&G.createElement("line",Uo({className:"recharts-polar-angle-axis-tick-line"},v,b)),l&&e.renderTickItem(l,j,d?d(_.value,w):_.value))});return G.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,l=n.axisLine;return s<=0||!a||!a.length?null:G.createElement(wt,{className:tt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var l;return G.isValidElement(n)?l=G.cloneElement(n,a):Xe(n)?l=n(a):l=G.createElement(ul,Uo({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])}(B.PureComponent);tg(rg,"displayName","PolarAngleAxis");tg(rg,"axisType","angleAxis");tg(rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ow,VO;function $re(){if(VO)return Ow;VO=1;var t=b3(),e=t(Object.getPrototypeOf,Object);return Ow=e,Ow}var Rw,BO;function Fre(){if(BO)return Rw;BO=1;var t=as(),e=$re(),r=is(),n="[object Object]",a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,d=l.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==d}return Rw=h,Rw}var Vre=Fre();const Bre=xt(Vre);var Dw,UO;function Ure(){if(UO)return Dw;UO=1;var t=as(),e=is(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Dw=n,Dw}var qre=Ure();const zre=xt(qre);function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(this,arguments)}function Wre(t,e){return Yre(t)||Kre(t,e)||Gre(t,e)||Hre()}function Hre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return qO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(t,e)}}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Yre(t){if(Array.isArray(t))return t}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function WO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){Qre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qre(t,e,r){return e=Xre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xre(t){var e=Jre(t,"string");return hh(e)=="symbol"?e:e+""}function Jre(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HO=function(e,r,n,a,s){var l=n-a,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-l/2,",").concat(r+s),c+="L ".concat(e+n-l/2-a,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},Zre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ene=function(e){var r=WO(WO({},Zre),e),n=B.useRef(),a=B.useState(-1),s=Wre(a,2),l=s[0],c=s[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&c(A)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,v=r.height,x=r.className,_=r.animationEasing,w=r.animationDuration,b=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var j=tt("recharts-trapezoid",x);return S?G.createElement(ns,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:d,y:h},duration:w,animationEasing:_,isActive:S},function(A){var I=A.upperWidth,N=A.lowerWidth,C=A.height,P=A.x,O=A.y;return G.createElement(ns,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:_},G.createElement("path",Um({},Ye(r,!0),{className:j,d:HO(P,O,I,N,C),ref:n})))}):G.createElement("g",null,G.createElement("path",Um({},Ye(r,!0),{className:j,d:HO(d,h,p,m,v)})))},tne=["option","shapeType","propTransformer","activeClassName","isActive"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function rne(t,e){if(t==null)return{};var r=nne(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){ane(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ane(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=sne(t,"string");return fh(e)=="symbol"?e:e+""}function sne(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function one(t,e){return qm(qm({},e),t)}function lne(t,e){return t==="symbols"}function KO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(Kj,r);case"trapezoid":return G.createElement(ene,r);case"sector":return G.createElement(Gj,r);case"symbols":if(lne(e))return G.createElement(dj,r);break;default:return null}}function cne(t){return B.isValidElement(t)?t.props:t}function uL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?one:n,s=t.activeClassName,l=s===void 0?"recharts-active-shape":s,c=t.isActive,d=rne(t,tne),h;if(B.isValidElement(e))h=B.cloneElement(e,qm(qm({},d),cne(e)));else if(Xe(e))h=e(d);else if(Bre(e)&&!zre(e)){var p=a(e,d);h=G.createElement(KO,{shapeType:r,elementProps:p})}else{var m=d;h=G.createElement(KO,{shapeType:r,elementProps:m})}return c?G.createElement(wt,{className:l},h):h}function ng(t,e){return e!=null&&"trapezoids"in t.props}function ag(t,e){return e!=null&&"sectors"in t.props}function ph(t,e){return e!=null&&"points"in t.props}function une(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function dne(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function hne(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function fne(t,e){var r;return ng(t,e)?r=une:ag(t,e)?r=dne:ph(t,e)&&(r=hne),r}function pne(t,e){var r;return ng(t,e)?r="trapezoids":ag(t,e)?r="sectors":ph(t,e)&&(r="points"),r}function mne(t,e){if(ng(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ag(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ph(t,e)?e.payload:{}}function gne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=pne(r,e),s=mne(r,e),l=n.filter(function(d,h){var p=Y0(s,d),m=r.props[a].filter(function(_){var w=fne(r,e);return w(_,e)}),v=r.props[a].indexOf(m[m.length-1]),x=h===v;return p&&x}),c=n.indexOf(l[l.length-1]);return c}var Bp;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hL(n.key),n)}}function vne(t,e,r){return e&&QO(t.prototype,e),r&&QO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,r){return e=zm(e),bne(t,dL()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function bne(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P1(t,e)}function ya(t,e,r){return e=hL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hL(t){var e=kne(t,"string");return Wc(e)=="symbol"?e:e+""}function kne(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=function(t){function e(r){var n;return yne(this,e),n=xne(this,e,[r]),ya(n,"pieRef",null),ya(n,"sectorRefs",[]),ya(n,"id",Uh("recharts-pie-")),ya(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(a)&&a()}),ya(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return _ne(e,t),vne(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,d=s.dataKey,h=s.valueKey,p=Ye(this.props,!1),m=Ye(l,!1),v=Ye(c,!1),x=l&&l.offsetRadius||20,_=n.map(function(w,b){var S=(w.startAngle+w.endAngle)/2,j=Ot(w.cx,w.cy,w.outerRadius+x,S),A=Pt(Pt(Pt(Pt({},p),w),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(j.x,w.cx)},j),I=Pt(Pt(Pt(Pt({},p),w),{},{fill:"none",stroke:w.fill},v),{},{index:b,points:[Ot(w.cx,w.cy,w.outerRadius,S),j]}),N=d;return at(d)&&at(h)?N="value":at(d)&&(N=h),G.createElement(wt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},c&&e.renderLabelLineItem(c,I,"line"),e.renderLabelItem(l,A,tn(w,N)))});return G.createElement(wt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,l=s.activeShape,c=s.blendStroke,d=s.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=a.isActiveIndex(p),v=d&&a.hasActiveIndex()?d:null,x=m?l:v,_=Pt(Pt({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return G.createElement(wt,fc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},cl(a.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),G.createElement(uL,fc({option:x,isActive:m,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,m=this.state,v=m.prevSectors,x=m.prevIsAnimationActive;return G.createElement(ns,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var w=_.t,b=[],S=s&&s[0],j=S.startAngle;return s.forEach(function(A,I){var N=v&&v[I],C=I>0?Qn(A,"paddingAngle",0):0;if(N){var P=Rs(N.endAngle-N.startAngle,A.endAngle-A.startAngle),O=Pt(Pt({},A),{},{startAngle:j+C,endAngle:j+P(w)+C});b.push(O),j=O.endAngle}else{var L=A.endAngle,R=A.startAngle,D=Rs(0,L-R),F=D(w),$=Pt(Pt({},A),{},{startAngle:j+C,endAngle:j+F+C});b.push($),j=$.endAngle}}),G.createElement(wt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,l=this.state.prevSectors;return s&&a&&a.length&&(!l||!Y0(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,l=a.sectors,c=a.className,d=a.label,h=a.cx,p=a.cy,m=a.innerRadius,v=a.outerRadius,x=a.isAnimationActive,_=this.state.isAnimationFinished;if(s||!l||!l.length||!Te(h)||!Te(p)||!Te(m)||!Te(v))return null;var w=tt("recharts-pie",c);return G.createElement(wt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(S){n.pieRef=S}},this.renderSectors(),d&&this.renderLabels(l),Pr.renderCallByParent(this.props,null,!1),(!x||_)&&Xs.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(G.isValidElement(n))return G.cloneElement(n,a);if(Xe(n))return n(a);var l=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(g1,fc({},a,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,s){if(G.isValidElement(n))return G.cloneElement(n,a);var l=s;if(Xe(n)&&(l=n(a),G.isValidElement(l)))return l;var c=tt("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return G.createElement(ul,fc({},a,{alignmentBaseline:"middle",className:c}),l)}}])}(B.PureComponent);Bp=os;ya(os,"displayName","Pie");ya(os,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ya(os,"parseDeltaAngle",function(t,e){var r=pn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ya(os,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),a=xa(r,F0);return e&&e.length?e.map(function(s,l){return Pt(Pt(Pt({payload:s},n),s),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(s){return Pt(Pt({},n),s.props)}):[]});ya(os,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,l=Y6(a,s),c=n+mn(t.cx,a,a/2),d=r+mn(t.cy,s,s/2),h=mn(t.innerRadius,l,0),p=mn(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});ya(os,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=Bp.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,l=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,v=n.tooltipType,x=Math.abs(n.minAngle),_=Bp.parseCoordinateOfPie(n,r),w=Bp.parseDeltaAngle(l,c),b=Math.abs(w),S=h;at(h)&&at(m)?(Fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):at(h)&&(Fa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=m);var j=a.filter(function(O){return tn(O,S,0)!==0}).length,A=(b>=360?j:j-1)*d,I=b-j*x-A,N=a.reduce(function(O,L){var R=tn(L,S,0);return O+(Te(R)?R:0)},0),C;if(N>0){var P;C=a.map(function(O,L){var R=tn(O,S,0),D=tn(O,p,L),F=(Te(R)?R:0)/N,$;L?$=P.endAngle+pn(w)*d*(R!==0?1:0):$=l;var re=$+pn(w)*((R!==0?x:0)+F*I),ae=($+re)/2,Z=(_.innerRadius+_.outerRadius)/2,te=[{name:D,value:R,payload:O,dataKey:S,type:v}],X=Ot(_.cx,_.cy,Z,ae);return P=Pt(Pt(Pt({percent:F,cornerRadius:s,name:D,tooltipPayload:te,midAngle:ae,middleRadius:Z,tooltipPosition:X},O),_),{},{value:tn(O,S),startAngle:$,endAngle:re,payload:O,paddingAngle:pn(w)*d}),P})}return Pt(Pt({},_),{},{sectors:C,data:a})});var Mw,XO;function jne(){if(XO)return Mw;XO=1;var t=Math.ceil,e=Math.max;function r(n,a,s,l){for(var c=-1,d=e(t((a-n)/(s||1)),0),h=Array(d);d--;)h[l?d:++c]=n,n+=s;return h}return Mw=r,Mw}var Lw,JO;function fL(){if(JO)return Lw;JO=1;var t=M3(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return Lw=n,Lw}var $w,ZO;function Nne(){if(ZO)return $w;ZO=1;var t=jne(),e=$0(),r=fL();function n(a){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=r(s),l===void 0?(l=s,s=0):l=r(l),c=c===void 0?s<l?1:-1:r(c),t(s,l,c,a)}}return $w=n,$w}var Fw,eR;function Sne(){if(eR)return Fw;eR=1;var t=Nne(),e=t();return Fw=e,Fw}var Ene=Sne();const Wm=xt(Ene);function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){pL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pL(t,e,r){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tne(t){var e=Ane(t,"string");return mh(e)=="symbol"?e:e+""}function Ane(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cne=["Webkit","Moz","O","ms"],Pne=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Cne.reduce(function(s,l){return rR(rR({},s),{},pL({},l+n,r))},{});return a[e]=r,a};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gL(n.key),n)}}function One(t,e,r){return e&&aR(t.prototype,e),r&&aR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rne(t,e,r){return e=Gm(e),Dne(t,mL()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function Dne(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mne(t)}function Mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function Lne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(t,e)}function zn(t,e,r){return e=gL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gL(t){var e=$ne(t,"string");return Hc(e)=="symbol"?e:e+""}function $ne(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fne=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,l=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=_d().domain(Wm(0,d)).range([s,s+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:p}},iR=function(e){return e.changedTouches&&!!e.changedTouches.length},Gc=function(t){function e(r){var n;return Ine(this,e),n=Rne(this,e,[r]),zn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),zn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),zn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,l=a.onDragEnd,c=a.startIndex;l?.({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),zn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),zn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),zn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),zn(n,"handleSlideDragStart",function(a){var s=iR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Lne(e,t),One(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,l=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,p=h.length-1,m=Math.min(a,s),v=Math.max(a,s),x=e.getIndexInRange(l,m),_=e.getIndexInRange(l,v);return{startIndex:x-x%d,endIndex:_===p?p:_-_%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,l=a.tickFormatter,c=a.dataKey,d=tn(s[n],c,n);return Xe(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,l=a.startX,c=a.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,v=d.startIndex,x=d.endIndex,_=d.onChange,w=n.pageX-s;w>0?w=Math.min(w,h+p-m-c,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-c));var b=this.getIndex({startX:l+w,endX:c+w});(b.startIndex!==v||b.endIndex!==x)&&_&&_(b),this.setState({startX:l+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=iR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,l=a.movingTravellerId,c=a.endX,d=a.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,x=p.travellerWidth,_=p.onChange,w=p.gap,b=p.data,S={startX:this.state.startX,endX:this.state.endX},j=n.pageX-s;j>0?j=Math.min(j,m+v-x-h):j<0&&(j=Math.max(j,m-h)),S[l]=h+j;var A=this.getIndex(S),I=A.startIndex,N=A.endIndex,C=function(){var O=b.length-1;return l==="startX"&&(c>d?I%w===0:N%w===0)||c<d&&N===O||l==="endX"&&(c>d?N%w===0:I%w===0)||c>d&&N===O};this.setState(zn(zn({},l,h+j),"brushMoveStartX",n.pageX),function(){_&&C()&&_(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,l=this.state,c=l.scaleValues,d=l.startX,h=l.endX,p=this.state[a],m=c.indexOf(p);if(m!==-1){var v=m+n;if(!(v===-1||v>=c.length)){var x=c[v];a==="startX"&&x>=h||a==="endX"&&x<=d||this.setState(zn({},a,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,c=n.height,d=n.fill,h=n.stroke;return G.createElement("rect",{stroke:h,fill:d,x:a,y:s,width:l,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,c=n.height,d=n.data,h=n.children,p=n.padding,m=B.Children.only(h);return m?G.cloneElement(m,{x:a,y:s,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,l,c=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,v=d.traveller,x=d.ariaLabel,_=d.data,w=d.startIndex,b=d.endIndex,S=Math.max(n,this.props.x),j=Vw(Vw({},Ye(this.props,!1)),{},{x:S,y:h,width:p,height:m}),A=x||"Min value: ".concat((s=_[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=_[b])===null||l===void 0?void 0:l.name);return G.createElement(wt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,j))}},{key:"renderSlide",value:function(n,a){var s=this.props,l=s.y,c=s.height,d=s.stroke,h=s.travellerWidth,p=Math.min(n,a)+h,m=Math.max(Math.abs(a-n)-h,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,l=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,v=p.endX,x=5,_={pointerEvents:"none",fill:h};return G.createElement(wt,{className:"recharts-brush-texts"},G.createElement(ul,Hm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-x,y:l+c/2},_),this.getTextOfTick(a)),G.createElement(ul,Hm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+d+x,y:l+c/2},_),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,l=n.children,c=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,v=this.state,x=v.startX,_=v.endX,w=v.isTextActive,b=v.isSlideMoving,S=v.isTravellerMoving,j=v.isTravellerFocused;if(!a||!a.length||!Te(c)||!Te(d)||!Te(h)||!Te(p)||h<=0||p<=0)return null;var A=tt("recharts-brush",s),I=G.Children.count(l)===1,N=Pne("userSelect","none");return G.createElement(wt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(x,_),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(_,"endX"),(w||b||S||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,l=n.width,c=n.height,d=n.stroke,h=Math.floor(s+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:a,y:s,width:l,height:c,fill:d,stroke:"none"}),G.createElement("line",{x1:a+1,y1:h,x2:a+l-1,y2:h,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:a+1,y1:h+2,x2:a+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return G.isValidElement(n)?s=G.cloneElement(n,a):Xe(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,l=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(s!==a.prevData||h!==a.prevUpdateId)return Vw({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l},s&&s.length?Fne({data:s,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+l-d]);var v=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,l=0,c=s-1;c-l>1;){var d=Math.floor((l+c)/2);n[d]>a?c=d:l=d}return a>=n[c]?c:l}}])}(B.PureComponent);zn(Gc,"displayName","Brush");zn(Gc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Bw,sR;function Vne(){if(sR)return Bw;sR=1;var t=vj();function e(r,n){var a;return t(r,function(s,l,c){return a=n(s,l,c),!a}),!!a}return Bw=e,Bw}var Uw,oR;function Bne(){if(oR)return Uw;oR=1;var t=f3(),e=vi(),r=Vne(),n=On(),a=$0();function s(l,c,d){var h=n(l)?t:r;return d&&a(l,c,d)&&(c=void 0),h(l,e(c,3))}return Uw=s,Uw}var Une=Bne();const qne=xt(Une);var ui=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},qw,lR;function zne(){if(lR)return qw;lR=1;var t=P3();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return qw=e,qw}var zw,cR;function Wne(){if(cR)return zw;cR=1;var t=zne(),e=A3(),r=vi();function n(a,s){var l={};return s=r(s,3),e(a,function(c,d,h){t(l,d,s(c,d,h))}),l}return zw=n,zw}var Hne=Wne();const Gne=xt(Hne);var Ww,uR;function Kne(){if(uR)return Ww;uR=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Ww=t,Ww}var Hw,dR;function Yne(){if(dR)return Hw;dR=1;var t=vj();function e(r,n){var a=!0;return t(r,function(s,l,c){return a=!!n(s,l,c),a}),a}return Hw=e,Hw}var Gw,hR;function Qne(){if(hR)return Gw;hR=1;var t=Kne(),e=Yne(),r=vi(),n=On(),a=$0();function s(l,c,d){var h=n(l)?t:e;return d&&a(l,c,d)&&(c=void 0),h(l,r(c,3))}return Gw=s,Gw}var Xne=Qne();const yL=xt(Xne);var Jne=["x","y"];function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){Zne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zne(t,e,r){return e=eae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eae(t){var e=tae(t,"string");return gh(e)=="symbol"?e:e+""}function tae(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rae(t,e){if(t==null)return{};var r=nae(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aae(t,e){var r=t.x,n=t.y,a=rae(t,Jne),s="".concat(r),l=parseInt(s,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||a.height),p=parseInt(h,10),m="".concat(e.width||a.width),v=parseInt(m,10);return ad(ad(ad(ad(ad({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function pR(t){return G.createElement(uL,O1({shapeType:"rectangle",propTransformer:aae,activeClassName:"recharts-active-bar"},t))}var iae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=Te(n)||Cz(n);return s?e(n,a):(s||hl(),r)}},sae=["value","background"],vL;function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function oae(t,e){if(t==null)return{};var r=lae(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){zs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bL(n.key),n)}}function uae(t,e,r){return e&&gR(t.prototype,e),r&&gR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dae(t,e,r){return e=Ym(e),hae(t,xL()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function hae(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fae(t)}function fae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function pae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(t,e)}function zs(t,e,r){return e=bL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bL(t){var e=mae(t,"string");return Kc(e)=="symbol"?e:e+""}function mae(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pi=function(t){function e(){var r;cae(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dae(this,e,[].concat(a)),zs(r,"state",{isAnimationFinished:!1}),zs(r,"id",Uh("recharts-bar-")),zs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),zs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return pae(e,t),uae(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,l=s.shape,c=s.dataKey,d=s.activeIndex,h=s.activeBar,p=Ye(this.props,!1);return n&&n.map(function(m,v){var x=v===d,_=x?h:l,w=hr(hr(hr({},p),m),{},{isActive:x,option:_,index:v,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return G.createElement(wt,Km({className:"recharts-bar-rectangle"},cl(a.props,m,v),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(v)}),G.createElement(pR,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,l=a.layout,c=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,v=this.state.prevData;return G.createElement(ns,{begin:d,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var _=x.t,w=s.map(function(b,S){var j=v&&v[S];if(j){var A=Rs(j.x,b.x),I=Rs(j.y,b.y),N=Rs(j.width,b.width),C=Rs(j.height,b.height);return hr(hr({},b),{},{x:A(_),y:I(_),width:N(_),height:C(_)})}if(l==="horizontal"){var P=Rs(0,b.height),O=P(_);return hr(hr({},b),{},{y:b.y+b.height-O,height:O})}var L=Rs(0,b.width),R=L(_);return hr(hr({},b),{},{width:R})});return G.createElement(wt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,l=this.state.prevData;return s&&a&&a.length&&(!l||!Y0(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,l=a.dataKey,c=a.activeIndex,d=Ye(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=oae(h,sae);if(!m)return null;var x=hr(hr(hr(hr(hr({},v),{},{fill:"#eee"},m),d),cl(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(pR,Km({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,c=s.xAxis,d=s.yAxis,h=s.layout,p=s.children,m=xa(p,J0);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,x=function(b,S){var j=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:j,errorVal:tn(b,S)}},_={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement(wt,_,m.map(function(w){return G.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:l,xAxis:c,yAxis:d,layout:h,offset:v,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,l=n.className,c=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,v=n.height,x=n.isAnimationActive,_=n.background,w=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,S=tt("recharts-bar",l),j=c&&c.allowDataOverflow,A=d&&d.allowDataOverflow,I=j||A,N=at(w)?this.id:w;return G.createElement(wt,{className:S},j||A?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(N)},G.createElement("rect",{x:j?h:h-m/2,y:A?p:p-v/2,width:j?m:m*2,height:A?v:v*2}))):null,G.createElement(wt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(N,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,N),(!x||b)&&Xs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);vL=pi;zs(pi,"displayName","Bar");zs(pi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zs(pi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,l=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,x=zJ(n,r);if(!x)return null;var _=e.layout,w=r.type.defaultProps,b=w!==void 0?hr(hr({},w),r.props):r.props,S=b.dataKey,j=b.children,A=b.minPointSize,I=_==="horizontal"?l:s,N=h?I.scale.domain():null,C=XJ({numericAxis:I}),P=xa(j,F0),O=m.map(function(L,R){var D,F,$,re,ae,Z;h?D=WJ(h[p+R],N):(D=tn(L,S),Array.isArray(D)||(D=[C,D]));var te=iae(A,vL.defaultProps.minPointSize)(D[1],R);if(_==="horizontal"){var X,K=[l.scale(D[0]),l.scale(D[1])],ne=K[0],W=K[1];F=BI({axis:s,ticks:c,bandSize:a,offset:x.offset,entry:L,index:R}),$=(X=W??ne)!==null&&X!==void 0?X:void 0,re=x.size;var Q=ne-W;if(ae=Number.isNaN(Q)?0:Q,Z={x:F,y:l.y,width:re,height:l.height},Math.abs(te)>0&&Math.abs(ae)<Math.abs(te)){var J=pn(ae||te)*(Math.abs(te)-Math.abs(ae));$-=J,ae+=J}}else{var le=[s.scale(D[0]),s.scale(D[1])],ge=le[0],he=le[1];if(F=ge,$=BI({axis:l,ticks:d,bandSize:a,offset:x.offset,entry:L,index:R}),re=he-ge,ae=x.size,Z={x:s.x,y:$,width:s.width,height:ae},Math.abs(te)>0&&Math.abs(re)<Math.abs(te)){var de=pn(re||te)*(Math.abs(te)-Math.abs(re));re+=de}}return hr(hr(hr({},L),{},{x:F,y:$,width:re,height:ae,value:h?D:D[1],payload:L,background:Z},P&&P[R]&&P[R].props),{},{tooltipPayload:[G6(r,L)],tooltipPosition:{x:F+re/2,y:$+ae/2}})});return hr({data:O,layout:_},v)});function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function gae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wL(n.key),n)}}function yae(t,e,r){return e&&yR(t.prototype,e),r&&yR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ig(t,e,r){return e=wL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wL(t){var e=vae(t,"string");return yh(e)=="symbol"?e:e+""}function vae(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xae=function(e,r,n,a,s){var l=e.width,c=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},v=!!Wn(h,pi);return p.reduce(function(x,_){var w=r[_],b=w.orientation,S=w.domain,j=w.padding,A=j===void 0?{}:j,I=w.mirror,N=w.reversed,C="".concat(b).concat(I?"Mirror":""),P,O,L,R,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=S[1]-S[0],$=1/0,re=w.categoricalDomain.sort(Oz);if(re.forEach(function(le,ge){ge>0&&($=Math.min((le||0)-(re[ge-1]||0),$))}),Number.isFinite($)){var ae=$/F,Z=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=ae*Z/2),w.padding==="no-gap"){var te=mn(e.barCategoryGap,ae*Z),X=ae*Z/2;P=X-te-(X-te)/Z*te}}}a==="xAxis"?O=[n.left+(A.left||0)+(P||0),n.left+n.width-(A.right||0)-(P||0)]:a==="yAxis"?O=d==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(P||0),n.top+n.height-(A.bottom||0)-(P||0)]:O=w.range,N&&(O=[O[1],O[0]]);var K=q6(w,s,v),ne=K.scale,W=K.realScaleType;ne.domain(S).range(O),z6(ne);var Q=W6(ne,Da(Da({},w),{},{realScaleType:W}));a==="xAxis"?(D=b==="top"&&!I||b==="bottom"&&I,L=n.left,R=m[C]-D*w.height):a==="yAxis"&&(D=b==="left"&&!I||b==="right"&&I,L=m[C]-D*w.width,R=n.top);var J=Da(Da(Da({},w),Q),{},{realScaleType:W,x:L,y:R,scale:ne,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return J.bandSize=Om(J,Q),!w.hide&&a==="xAxis"?m[C]+=(D?-1:1)*J.height:w.hide||(m[C]+=(D?-1:1)*J.width),Da(Da({},x),{},ig({},_,J))},{})},_L=function(e,r){var n=e.x,a=e.y,s=r.x,l=r.y;return{x:Math.min(n,s),y:Math.min(a,l),width:Math.abs(s-n),height:Math.abs(l-a)}},bae=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return _L({x:r,y:n},{x:a,y:s})},kL=function(){function t(e){gae(this,t),this.scale=e}return yae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();ig(kL,"EPS",1e-4);var Qj=function(e){var r=Object.keys(e).reduce(function(n,a){return Da(Da({},n),{},ig({},a,kL.create(e[a])))},{});return Da(Da({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,c=s.position;return Gne(a,function(d,h){return r[h].apply(d,{bandAware:l,position:c})})},isInRange:function(a){return yL(a,function(s,l){return r[l].isInRange(s)})}})};function wae(t){return(t%180+180)%180}var _ae=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=wae(a),l=s*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Kw,xR;function kae(){if(xR)return Kw;xR=1;var t=vi(),e=qh(),r=M0();function n(a){return function(s,l,c){var d=Object(s);if(!e(s)){var h=t(l,3);s=r(s),l=function(m){return h(d[m],m,d)}}var p=a(s,l,c);return p>-1?d[h?s[p]:p]:void 0}}return Kw=n,Kw}var Yw,bR;function jae(){if(bR)return Yw;bR=1;var t=fL();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Yw=e,Yw}var Qw,wR;function Nae(){if(wR)return Qw;wR=1;var t=j3(),e=vi(),r=jae(),n=Math.max;function a(s,l,c){var d=s==null?0:s.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(s,e(l,3),h)}return Qw=a,Qw}var Xw,_R;function Sae(){if(_R)return Xw;_R=1;var t=kae(),e=Nae(),r=t(e);return Xw=r,Xw}var Eae=Sae();const Tae=xt(Eae);var Aae=V4();const Cae=xt(Aae);var Pae=Cae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Xj=B.createContext(void 0),Jj=B.createContext(void 0),jL=B.createContext(void 0),NL=B.createContext({}),SL=B.createContext(void 0),EL=B.createContext(0),TL=B.createContext(0),kR=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,l=e.clipPathId,c=e.children,d=e.width,h=e.height,p=Pae(s);return G.createElement(Xj.Provider,{value:n},G.createElement(Jj.Provider,{value:a},G.createElement(NL.Provider,{value:s},G.createElement(jL.Provider,{value:p},G.createElement(SL.Provider,{value:l},G.createElement(EL.Provider,{value:h},G.createElement(TL.Provider,{value:d},c)))))))},Iae=function(){return B.useContext(SL)},AL=function(e){var r=B.useContext(Xj);r==null&&hl();var n=r[e];return n==null&&hl(),n},Oae=function(){var e=B.useContext(Xj);return Us(e)},Rae=function(){var e=B.useContext(Jj),r=Tae(e,function(n){return yL(n.domain,Number.isFinite)});return r||Us(e)},CL=function(e){var r=B.useContext(Jj);r==null&&hl();var n=r[e];return n==null&&hl(),n},Dae=function(){var e=B.useContext(jL);return e},Mae=function(){return B.useContext(NL)},Zj=function(){return B.useContext(TL)},eN=function(){return B.useContext(EL)};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Lae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IL(n.key),n)}}function Fae(t,e,r){return e&&$ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vae(t,e,r){return e=Qm(e),Bae(t,PL()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function Bae(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uae(t)}function Uae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D1(t,e)}function D1(t,e){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(t,e)}function jR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(r),!0).forEach(function(n){tN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tN(t,e,r){return e=IL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IL(t){var e=zae(t,"string");return Yc(e)=="symbol"?e:e+""}function zae(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wae(t,e){return Yae(t)||Kae(t,e)||Gae(t,e)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gae(t,e){if(t){if(typeof t=="string")return SR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SR(t,e)}}function SR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Yae(t){if(Array.isArray(t))return t}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(this,arguments)}var Qae=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):Xe(e)?n=e(r):n=G.createElement("line",M1({},r,{className:"recharts-reference-line-line"})),n},Xae=function(e,r,n,a,s,l,c,d,h){var p=s.x,m=s.y,v=s.width,x=s.height;if(n){var _=h.y,w=e.y.apply(_,{position:l});if(ui(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+v,y:w},{x:p,y:w}];return d==="left"?b.reverse():b}if(r){var S=h.x,j=e.x.apply(S,{position:l});if(ui(h,"discard")&&!e.x.isInRange(j))return null;var A=[{x:j,y:m+x},{x:j,y:m}];return c==="top"?A.reverse():A}if(a){var I=h.segment,N=I.map(function(C){return e.apply(C,{position:l})});return ui(h,"discard")&&qne(N,function(C){return!e.isInRange(C)})?null:N}return null};function Jae(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,l=t.shape,c=t.className,d=t.alwaysShow,h=Iae(),p=AL(a),m=CL(s),v=Dae();if(!h||!v)return null;Fa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Qj({x:p.scale,y:m.scale}),_=_r(e),w=_r(r),b=n&&n.length===2,S=Xae(x,_,w,b,v,t.position,p.orientation,m.orientation,t);if(!S)return null;var j=Wae(S,2),A=j[0],I=A.x,N=A.y,C=j[1],P=C.x,O=C.y,L=ui(t,"hidden")?"url(#".concat(h,")"):void 0,R=NR(NR({clipPath:L},Ye(t,!0)),{},{x1:I,y1:N,x2:P,y2:O});return G.createElement(wt,{className:tt("recharts-reference-line",c)},Qae(l,R),Pr.renderCallByParent(t,bae({x1:I,y1:N,x2:P,y2:O})))}var rN=function(t){function e(){return Lae(this,e),Vae(this,e,arguments)}return qae(e,t),Fae(e,[{key:"render",value:function(){return G.createElement(Jae,this.props)}}])}(G.Component);tN(rN,"displayName","ReferenceLine");tN(rN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(this,arguments)}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RL(n.key),n)}}function tie(t,e,r){return e&&eie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rie(t,e,r){return e=Xm(e),nie(t,OL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function nie(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aie(t)}function aie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function iie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$1(t,e)}function sg(t,e,r){return e=RL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RL(t){var e=sie(t,"string");return Qc(e)=="symbol"?e:e+""}function sie(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oie=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,l=Qj({x:a.scale,y:s.scale}),c=l.apply({x:r,y:n},{bandAware:!0});return ui(e,"discard")&&!l.isInRange(c)?null:c},og=function(t){function e(){return Zae(this,e),rie(this,e,arguments)}return iie(e,t),tie(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,l=n.r,c=n.alwaysShow,d=n.clipPathId,h=_r(a),p=_r(s);if(Fa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=oie(this.props);if(!m)return null;var v=m.x,x=m.y,_=this.props,w=_.shape,b=_.className,S=ui(this.props,"hidden")?"url(#".concat(d,")"):void 0,j=TR(TR({clipPath:S},Ye(this.props,!0)),{},{cx:v,cy:x});return G.createElement(wt,{className:tt("recharts-reference-dot",b)},e.renderDot(w,j),Pr.renderCallByParent(this.props,{x:v-l,y:x-l,width:2*l,height:2*l}))}}])}(G.Component);sg(og,"displayName","ReferenceDot");sg(og,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});sg(og,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Xe(t)?r=t(e):r=G.createElement(Yj,L1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ML(n.key),n)}}function uie(t,e,r){return e&&cie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function die(t,e,r){return e=Jm(e),hie(t,DL()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function hie(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(t)}function fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function pie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V1(t,e)}function V1(t,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V1(t,e)}function lg(t,e,r){return e=ML(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ML(t){var e=mie(t,"string");return Xc(e)=="symbol"?e:e+""}function mie(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gie=function(e,r,n,a,s){var l=s.x1,c=s.x2,d=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=Qj({x:p.scale,y:m.scale}),x={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(d,{position:"start"}):v.y.rangeMin},_={x:r?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(h,{position:"end"}):v.y.rangeMax};return ui(s,"discard")&&(!v.isInRange(x)||!v.isInRange(_))?null:_L(x,_)},cg=function(t){function e(){return lie(this,e),die(this,e,arguments)}return pie(e,t),uie(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,l=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;Fa(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=_r(a),v=_r(s),x=_r(l),_=_r(c),w=this.props.shape;if(!m&&!v&&!x&&!_&&!w)return null;var b=gie(m,v,x,_,this.props);if(!b&&!w)return null;var S=ui(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(wt,{className:tt("recharts-reference-area",d)},e.renderRect(w,CR(CR({clipPath:S},Ye(this.props,!0)),b)),Pr.renderCallByParent(this.props,b))}}])}(G.Component);lg(cg,"displayName","ReferenceArea");lg(cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lg(cg,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):Xe(t)?r=t(e):r=G.createElement(Kj,F1({},e,{className:"recharts-reference-area-rect"})),r});function LL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function yie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return _ae(n,r)}function vie(t,e,r){var n=r==="width",a=t.x,s=t.y,l=t.width,c=t.height;return e===1?{start:n?a:s,end:n?a+l:s+c}:{start:n?a+l:s+c,end:n?a:s}}function Zm(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function xie(t,e){return LL(t,e+1)}function bie(t,e,r,n,a){for(var s=(n||[]).slice(),l=e.start,c=e.end,d=0,h=1,p=l,m=function(){var _=n?.[d];if(_===void 0)return{v:LL(n,h)};var w=d,b,S=function(){return b===void 0&&(b=r(_,w)),b},j=_.coordinate,A=d===0||Zm(t,j,S,p,c);A||(d=0,p=l,h+=1),A&&(p=j+t*(S()/2+a),d+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e,r){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ie(t){var e=kie(t,"string");return vh(e)=="symbol"?e:e+""}function kie(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jie(t,e,r,n,a){for(var s=(n||[]).slice(),l=s.length,c=e.start,d=e.end,h=function(v){var x=s[v],_,w=function(){return _===void 0&&(_=r(x,v)),_};if(v===l-1){var b=t*(x.coordinate+t*w()/2-d);s[v]=x=Xr(Xr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else s[v]=x=Xr(Xr({},x),{},{tickCoord:x.coordinate});var S=Zm(t,x.tickCoord,w,c,d);S&&(d=x.tickCoord-t*(w()/2+a),s[v]=Xr(Xr({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function Nie(t,e,r,n,a,s){var l=(n||[]).slice(),c=l.length,d=e.start,h=e.end;if(s){var p=n[c-1],m=r(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=Xr(Xr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var x=Zm(t,p.tickCoord,function(){return m},d,h);x&&(h=p.tickCoord-t*(m/2+a),l[c-1]=Xr(Xr({},p),{},{isShow:!0}))}for(var _=s?c-1:c,w=function(j){var A=l[j],I,N=function(){return I===void 0&&(I=r(A,j)),I};if(j===0){var C=t*(A.coordinate-t*N()/2-d);l[j]=A=Xr(Xr({},A),{},{tickCoord:C<0?A.coordinate-C*t:A.coordinate})}else l[j]=A=Xr(Xr({},A),{},{tickCoord:A.coordinate});var P=Zm(t,A.tickCoord,N,d,h);P&&(d=A.tickCoord+t*(N()/2+a),l[j]=Xr(Xr({},A),{},{isShow:!0}))},b=0;b<_;b++)w(b);return l}function nN(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,l=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Te(d)||uu.isSsr)return xie(a,typeof d=="number"&&Te(d)?d:0);var v=[],x=c==="top"||c==="bottom"?"width":"height",_=p&&x==="width"?wd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(A,I){var N=Xe(h)?h(A.value,I):A.value;return x==="width"?yie(wd(N,{fontSize:e,letterSpacing:r}),_,m):wd(N,{fontSize:e,letterSpacing:r})[x]},b=a.length>=2?pn(a[1].coordinate-a[0].coordinate):1,S=vie(s,b,x);return d==="equidistantPreserveStart"?bie(b,S,w,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=Nie(b,S,w,a,l,d==="preserveStartEnd"):v=jie(b,S,w,a,l),v.filter(function(j){return j.isShow}))}var Sie=["viewBox"],Eie=["viewBox"],Tie=["ticks"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pc.apply(this,arguments)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){aN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jw(t,e){if(t==null)return{};var r=Aie(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FL(n.key),n)}}function Pie(t,e,r){return e&&OR(t.prototype,e),r&&OR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iie(t,e,r){return e=e0(e),Oie(t,$L()?Reflect.construct(e,r||[],e0(t).constructor):e.apply(t,r))}function Oie(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rie(t)}function Rie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(t)}function Die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(t,e)}function aN(t,e,r){return e=FL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FL(t){var e=Mie(t,"string");return Jc(e)=="symbol"?e:e+""}function Mie(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pu=function(t){function e(r){var n;return Cie(this,e),n=Iie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Die(e,t),Pie(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,l=Jw(n,Sie),c=this.props,d=c.viewBox,h=Jw(c,Eie);return!wc(s,d)||!wc(l,h)||!wc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,l=a.y,c=a.width,d=a.height,h=a.orientation,p=a.tickSize,m=a.mirror,v=a.tickMargin,x,_,w,b,S,j,A=m?-1:1,I=n.tickSize||p,N=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":x=_=n.coordinate,b=l+ +!m*d,w=b-A*I,j=w-A*v,S=N;break;case"left":w=b=n.coordinate,_=s+ +!m*c,x=_-A*I,S=x-A*v,j=N;break;case"right":w=b=n.coordinate,_=s+ +m*c,x=_+A*I,S=x+A*v,j=N;break;default:x=_=n.coordinate,b=l+ +m*d,w=b+A*I,j=w+A*v,S=N;break}return{line:{x1:x,y1:w,x2:_,y2:b},tick:{x:S,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,l;switch(a){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,l=n.width,c=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=br(br(br({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var v=+(d==="top"&&!h||d==="bottom"&&h);m=br(br({},m),{},{x1:a,y1:s+v*c,x2:a+l,y2:s+v*c})}else{var x=+(d==="left"&&!h||d==="right"&&h);m=br(br({},m),{},{x1:a+x*l,y1:s,x2:a+x*l,y2:s+c})}return G.createElement("line",pc({},m,{className:tt("recharts-cartesian-axis-line",Qn(p,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var l=this,c=this.props,d=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,x=nN(br(br({},this.props),{},{ticks:n}),a,s),_=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ye(this.props,!1),S=Ye(p,!1),j=br(br({},b),{},{fill:"none"},Ye(d,!1)),A=x.map(function(I,N){var C=l.getTickLineCoord(I),P=C.line,O=C.tick,L=br(br(br(br({textAnchor:_,verticalAnchor:w},b),{},{stroke:"none",fill:h},S),O),{},{index:N,payload:I,visibleTicksCount:x.length,tickFormatter:m});return G.createElement(wt,pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},cl(l.props,I,N)),d&&G.createElement("line",pc({},j,P,{className:tt("recharts-cartesian-axis-tick-line",Qn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Xe(m)?m(I.value,N):I.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,l=a.width,c=a.height,d=a.ticksGenerator,h=a.className,p=a.hide;if(p)return null;var m=this.props,v=m.ticks,x=Jw(m,Tie),_=v;return Xe(d)&&(_=v&&v.length>0?d(this.props):d(x)),l<=0||c<=0||!_||!_.length?null:G.createElement(wt,{className:tt("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),Pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var l,c=tt(a.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?l=G.cloneElement(n,br(br({},a),{},{className:c})):Xe(n)?l=n(br(br({},a),{},{className:c})):l=G.createElement(ul,pc({},a,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])}(B.Component);aN(pu,"displayName","CartesianAxis");aN(pu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lie=["x1","y1","x2","y2","key"],$ie=["offset"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){Fie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fie(t,e,r){return e=Vie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vie(t){var e=Bie(t,"string");return fl(e)=="symbol"?e:e+""}function Bie(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yo.apply(this,arguments)}function DR(t,e){if(t==null)return{};var r=Uie(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,d=e.ry;return G.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function VL(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(Xe(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,l=e.y2,c=e.key,d=DR(e,Lie),h=Ye(d,!1);h.offset;var p=DR(h,$ie);r=G.createElement("line",Yo({},p,{x1:n,y1:a,x2:s,y2:l,fill:"none",key:c}))}return r}function zie(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(c,d){var h=en(en({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return VL(a,h)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Wie(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var l=s.map(function(c,d){var h=en(en({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return VL(a,h)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Hie(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,l=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+a-a)}).sort(function(v,x){return v-x});a!==p[0]&&p.unshift(0);var m=p.map(function(v,x){var _=!p[x+1],w=_?a+l-v:p[x+1]-v;if(w<=0)return null;var b=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y:v,x:n,height:w,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Gie(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,l=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(v){return Math.round(v+s-s)}).sort(function(v,x){return v-x});s!==p[0]&&p.unshift(0);var m=p.map(function(v,x){var _=!p[x+1],w=_?s+c-v:p[x+1]-v;if(w<=0)return null;var b=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:v,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Kie=function(e,r){var n=e.xAxis,a=e.width,s=e.height,l=e.offset;return U6(nN(en(en(en({},pu.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,r)},Yie=function(e,r){var n=e.yAxis,a=e.width,s=e.height,l=e.offset;return U6(nN(en(en(en({},pu.defaultProps),n),{},{ticks:Wi(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,r)},ic={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iN(t){var e,r,n,a,s,l,c=Zj(),d=eN(),h=Mae(),p=en(en({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ic.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ic.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ic.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:ic.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ic.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:ic.verticalFill,x:Te(t.x)?t.x:h.left,y:Te(t.y)?t.y:h.top,width:Te(t.width)?t.width:h.width,height:Te(t.height)?t.height:h.height}),m=p.x,v=p.y,x=p.width,_=p.height,w=p.syncWithTicks,b=p.horizontalValues,S=p.verticalValues,j=Oae(),A=Rae();if(!Te(x)||x<=0||!Te(_)||_<=0||!Te(m)||m!==+m||!Te(v)||v!==+v)return null;var I=p.verticalCoordinatesGenerator||Kie,N=p.horizontalCoordinatesGenerator||Yie,C=p.horizontalPoints,P=p.verticalPoints;if((!C||!C.length)&&Xe(N)){var O=b&&b.length,L=N({yAxis:A?en(en({},A),{},{ticks:O?b:A.ticks}):void 0,width:c,height:d,offset:h},O?!0:w);Fa(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fl(L),"]")),Array.isArray(L)&&(C=L)}if((!P||!P.length)&&Xe(I)){var R=S&&S.length,D=I({xAxis:j?en(en({},j),{},{ticks:R?S:j.ticks}):void 0,width:c,height:d,offset:h},R?!0:w);Fa(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fl(D),"]")),Array.isArray(D)&&(P=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(qie,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(zie,Yo({},p,{offset:h,horizontalPoints:C,xAxis:j,yAxis:A})),G.createElement(Wie,Yo({},p,{offset:h,verticalPoints:P,xAxis:j,yAxis:A})),G.createElement(Hie,Yo({},p,{horizontalPoints:C})),G.createElement(Gie,Yo({},p,{verticalPoints:P})))}iN.displayName="CartesianGrid";function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qL(n.key),n)}}function Jie(t,e,r){return e&&Xie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zie(t,e,r){return e=t0(e),ese(t,BL()?Reflect.construct(e,r||[],t0(t).constructor):e.apply(t,r))}function ese(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tse(t)}function tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U1(t,e)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(t,e)}function UL(t,e,r){return e=qL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qL(t){var e=nse(t,"string");return Zc(e)=="symbol"?e:e+""}function nse(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q1.apply(this,arguments)}function ase(t){var e=t.xAxisId,r=Zj(),n=eN(),a=AL(e);return a==null?null:B.createElement(pu,q1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Wi(l,!0)}}))}var Kh=function(t){function e(){return Qie(this,e),Zie(this,e,arguments)}return rse(e,t),Jie(e,[{key:"render",value:function(){return B.createElement(ase,this.props)}}])}(B.Component);UL(Kh,"displayName","XAxis");UL(Kh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function ise(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HL(n.key),n)}}function ose(t,e,r){return e&&sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lse(t,e,r){return e=r0(e),cse(t,zL()?Reflect.construct(e,r||[],r0(t).constructor):e.apply(t,r))}function cse(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r0(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(t,e)}function WL(t,e,r){return e=HL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t){var e=hse(t,"string");return eu(e)=="symbol"?e:e+""}function hse(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W1(){return W1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W1.apply(this,arguments)}var fse=function(e){var r=e.yAxisId,n=Zj(),a=eN(),s=CL(r);return s==null?null:B.createElement(pu,W1({},s,{className:tt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Wi(c,!0)}}))},Yh=function(t){function e(){return ise(this,e),lse(this,e,arguments)}return dse(e,t),ose(e,[{key:"render",value:function(){return B.createElement(fse,this.props)}}])}(B.Component);WL(Yh,"displayName","YAxis");WL(Yh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MR(t){return yse(t)||gse(t)||mse(t)||pse()}function pse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mse(t,e){if(t){if(typeof t=="string")return H1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(t,e)}}function gse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yse(t){if(Array.isArray(t))return H1(t)}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var G1=function(e,r,n,a,s){var l=xa(e,rN),c=xa(e,og),d=[].concat(MR(l),MR(c)),h=xa(e,cg),p="".concat(a,"Id"),m=a[0],v=r;if(d.length&&(v=d.reduce(function(w,b){if(b.props[p]===n&&ui(b.props,"extendDomain")&&Te(b.props[m])){var S=b.props[m];return[Math.min(w[0],S),Math.max(w[1],S)]}return w},v)),h.length){var x="".concat(m,"1"),_="".concat(m,"2");v=h.reduce(function(w,b){if(b.props[p]===n&&ui(b.props,"extendDomain")&&Te(b.props[x])&&Te(b.props[_])){var S=b.props[x],j=b.props[_];return[Math.min(w[0],S,j),Math.max(w[1],S,j)]}return w},v)}return s&&s.length&&(v=s.reduce(function(w,b){return Te(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},v)),v},Zw={exports:{}},LR;function vse(){return LR||(LR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,m||d,v),_=r?r+h:h;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],x]:d._events[_].push(x):(d._events[_]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,x=m.length,_=new Array(x);v<x;v++)_[v]=m[v].fn;return _},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,x,_){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],S=arguments.length,j,A;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),S){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,v),!0;case 5:return b.fn.call(b.context,p,m,v,x),!0;case 6:return b.fn.call(b.context,p,m,v,x,_),!0}for(A=1,j=new Array(S-1);A<S;A++)j[A-1]=arguments[A];b.fn.apply(b.context,j)}else{var I=b.length,N;for(A=0;A<I;A++)switch(b[A].once&&this.removeListener(h,b[A].fn,void 0,!0),S){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,p);break;case 3:b[A].fn.call(b[A].context,p,m);break;case 4:b[A].fn.call(b[A].context,p,m,v);break;default:if(!j)for(N=1,j=new Array(S-1);N<S;N++)j[N-1]=arguments[N];b[A].fn.apply(b[A].context,j)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var _=this._events[x];if(_.fn)_.fn===p&&(!v||_.once)&&(!m||_.context===m)&&l(this,x);else{for(var w=0,b=[],S=_.length;w<S;w++)(_[w].fn!==p||v&&!_[w].once||m&&_[w].context!==m)&&b.push(_[w]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(Zw)),Zw.exports}var xse=vse();const bse=xt(xse);var e_=new bse,t_="recharts.syncMouseEvents";function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function wse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GL(n.key),n)}}function kse(t,e,r){return e&&_se(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_(t,e,r){return e=GL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GL(t){var e=jse(t,"string");return xh(e)=="symbol"?e:e+""}function jse(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nse=function(){function t(){wse(this,t),r_(this,"activeIndex",0),r_(this,"coordinateList",[]),r_(this,"layout","horizontal")}return kse(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,l=r.container,c=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,v=r.mouseHandlerCallback,x=v===void 0?null:v;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,l=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+d+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])}();function Sse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&Te(n)&&Te(a))return!0}return!1}function Ese(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function KL(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,l=Ot(e,r,n,a),c=Ot(e,r,n,s);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function Tse(t,e,r){var n,a,s,l;if(t==="horizontal")n=e.x,s=n,a=r.top,l=r.top+r.height;else if(t==="vertical")a=e.y,l=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=Ot(c,d,h,m),x=Ot(c,d,p,m);n=v.x,a=v.y,s=x.x,l=x.y}else return KL(e);return[{x:n,y:a},{x:s,y:l}]}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){Ase(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ase(t,e,r){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cse(t){var e=Pse(t,"string");return bh(e)=="symbol"?e:e+""}function Pse(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ise(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!s||!l||v!=="ScatterChart"&&a!=="axis")return null;var _,w=g1;if(v==="ScatterChart")_=l,w=fre;else if(v==="BarChart")_=Ese(m,l,d,p),w=Kj;else if(m==="radial"){var b=KL(l),S=b.cx,j=b.cy,A=b.radius,I=b.startAngle,N=b.endAngle;_={cx:S,cy:j,startAngle:I,endAngle:N,innerRadius:A,outerRadius:A},w=Gj}else _={points:Tse(m,l,d)},w=g1;var C=Ap(Ap(Ap(Ap({stroke:"#ccc",pointerEvents:"none"},d),_),Ye(x,!1)),{},{payload:c,payloadIndex:h,className:tt("recharts-tooltip-cursor",x.className)});return B.isValidElement(x)?B.cloneElement(x,C):B.createElement(w,C)}var Ose=["item"],Rse=["children","className","width","height","style","compact","title","desc"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}function FR(t,e){return Lse(t)||Mse(t,e)||QL(t,e)||Dse()}function Dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,l,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Lse(t){if(Array.isArray(t))return t}function VR(t,e){if(t==null)return{};var r=$se(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function Bse(t,e,r){return e&&Vse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Use(t,e,r){return e=n0(e),qse(t,YL()?Reflect.construct(e,r||[],n0(t).constructor):e.apply(t,r))}function qse(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zse(t)}function zse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K1(t,e)}function ru(t){return Kse(t)||Gse(t)||QL(t)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QL(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function Gse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kse(t){if(Array.isArray(t))return Y1(t)}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){Ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ge(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=Yse(t,"string");return tu(e)=="symbol"?e:e+""}function Yse(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qse={xAxis:["bottom","top"],yAxis:["left","right"]},Xse={width:"100%",height:"100%"},JL={x:0,y:0};function Cp(t){return t}var Jse=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Zse=function(e,r,n,a){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,c=a.radius;return ye(ye(ye({},a),Ot(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,h=a.angle;return ye(ye(ye({},a),Ot(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return JL},ug=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,l=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(ru(c),ru(h)):c},[]);return l.length>0?l:e&&e.length&&Te(a)&&Te(s)?e.slice(a,s+1):[]};function ZL(t){return t==="number"?[0,"auto"]:void 0}var Q1=function(e,r,n,a){var s=e.graphicalItems,l=e.tooltipAxis,c=ug(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?c:m;v=P_(x,l.dataKey,a)}else v=m&&m[n]||c[n];return v?[].concat(ru(d),[G6(h,v)]):d},[])},UR=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},l=Jse(s,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=$J(l,c,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,v=Q1(e,r,p,m),x=Zse(n,c,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:x}}return null},eoe=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,x=B6(p,s);return n.reduce(function(_,w){var b,S=w.type.defaultProps!==void 0?ye(ye({},w.type.defaultProps),w.props):w.props,j=S.type,A=S.dataKey,I=S.allowDataOverflow,N=S.allowDuplicatedCategory,C=S.scale,P=S.ticks,O=S.includeHidden,L=S[l];if(_[L])return _;var R=ug(e.data,{graphicalItems:a.filter(function(Q){var J,le=l in Q.props?Q.props[l]:(J=Q.type.defaultProps)===null||J===void 0?void 0:J[l];return le===L}),dataStartIndex:d,dataEndIndex:h}),D=R.length,F,$,re;Sse(S.domain,I,j)&&(F=d1(S.domain,null,I),x&&(j==="number"||C!=="auto")&&(re=kd(R,A,"category")));var ae=ZL(j);if(!F||F.length===0){var Z,te=(Z=S.domain)!==null&&Z!==void 0?Z:ae;if(A){if(F=kd(R,A,j),j==="category"&&x){var X=Iz(F);N&&X?($=F,F=Wm(0,D)):N||(F=zI(te,F,w).reduce(function(Q,J){return Q.indexOf(J)>=0?Q:[].concat(ru(Q),[J])},[]))}else if(j==="category")N?F=F.filter(function(Q){return Q!==""&&!at(Q)}):F=zI(te,F,w).reduce(function(Q,J){return Q.indexOf(J)>=0||J===""||at(J)?Q:[].concat(ru(Q),[J])},[]);else if(j==="number"){var K=qJ(R,a.filter(function(Q){var J,le,ge=l in Q.props?Q.props[l]:(J=Q.type.defaultProps)===null||J===void 0?void 0:J[l],he="hide"in Q.props?Q.props.hide:(le=Q.type.defaultProps)===null||le===void 0?void 0:le.hide;return ge===L&&(O||!he)}),A,s,p);K&&(F=K)}x&&(j==="number"||C!=="auto")&&(re=kd(R,A,"category"))}else x?F=Wm(0,D):c&&c[L]&&c[L].hasStack&&j==="number"?F=v==="expand"?[0,1]:H6(c[L].stackGroups,d,h):F=V6(R,a.filter(function(Q){var J=l in Q.props?Q.props[l]:Q.type.defaultProps[l],le="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return J===L&&(O||!le)}),j,p,!0);if(j==="number")F=G1(m,F,L,s,P),te&&(F=d1(te,F,I));else if(j==="category"&&te){var ne=te,W=F.every(function(Q){return ne.indexOf(Q)>=0});W&&(F=ne)}}return ye(ye({},_),{},Ge({},L,ye(ye({},S),{},{axisType:s,domain:F,categoricalDomain:re,duplicateDomain:$,originalDomain:(b=S.domain)!==null&&b!==void 0?b:ae,isCategorical:x,layout:p})))},{})},toe=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,v=ug(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),x=v.length,_=B6(p,s),w=-1;return n.reduce(function(b,S){var j=S.type.defaultProps!==void 0?ye(ye({},S.type.defaultProps),S.props):S.props,A=j[l],I=ZL("number");if(!b[A]){w++;var N;return _?N=Wm(0,x):c&&c[A]&&c[A].hasStack?(N=H6(c[A].stackGroups,d,h),N=G1(m,N,A,s)):(N=d1(I,V6(v,n.filter(function(C){var P,O,L=l in C.props?C.props[l]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[l],R="hide"in C.props?C.props.hide:(O=C.type.defaultProps)===null||O===void 0?void 0:O.hide;return L===A&&!R}),"number",p),a.defaultProps.allowDataOverflow),N=G1(m,N,A,s)),ye(ye({},b),{},Ge({},A,ye(ye({axisType:s},a.defaultProps),{},{hide:!0,orientation:Qn(Qse,"".concat(s,".").concat(w%2),null),domain:N,originalDomain:I,isCategorical:_,layout:p})))}return b},{})},roe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,l=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),v=xa(p,s),x={};return v&&v.length?x=eoe(e,{axes:v,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(x=toe(e,{Axis:s,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),x},noe=function(e){var r=Us(e),n=Wi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Om(r,n)}},qR=function(e){var r=e.children,n=e.defaultShowTooltip,a=Wn(r,Gc),s=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},aoe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Gi(r&&r.type);return n&&n.indexOf("Bar")>=0})},zR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ioe=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,l=s===void 0?{}:s,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,p=n.height,m=n.children,v=n.margin||{},x=Wn(m,Gc),_=Wn(m,Ys),w=Object.keys(d).reduce(function(N,C){var P=d[C],O=P.orientation;return!P.mirror&&!P.hide?ye(ye({},N),{},Ge({},O,N[O]+P.width)):N},{left:v.left||0,right:v.right||0}),b=Object.keys(l).reduce(function(N,C){var P=l[C],O=P.orientation;return!P.mirror&&!P.hide?ye(ye({},N),{},Ge({},O,Qn(N,"".concat(O))+P.height)):N},{top:v.top||0,bottom:v.bottom||0}),S=ye(ye({},b),w),j=S.bottom;x&&(S.bottom+=x.props.height||Gc.defaultProps.height),_&&r&&(S=BJ(S,a,n,r));var A=h-S.left-S.right,I=p-S.top-S.bottom;return ye(ye({brushBottom:j},S),{},{width:Math.max(A,0),height:Math.max(I,0)})},soe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},e$=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(S,j){var A=j.graphicalItems,I=j.stackGroups,N=j.offset,C=j.updateId,P=j.dataStartIndex,O=j.dataEndIndex,L=S.barSize,R=S.layout,D=S.barGap,F=S.barCategoryGap,$=S.maxBarSize,re=zR(R),ae=re.numericAxisName,Z=re.cateAxisName,te=aoe(A),X=[];return A.forEach(function(K,ne){var W=ug(S.data,{graphicalItems:[K],dataStartIndex:P,dataEndIndex:O}),Q=K.type.defaultProps!==void 0?ye(ye({},K.type.defaultProps),K.props):K.props,J=Q.dataKey,le=Q.maxBarSize,ge=Q["".concat(ae,"Id")],he=Q["".concat(Z,"Id")],de={},be=d.reduce(function(Dt,Or){var on=j["".concat(Or.axisType,"Map")],lr=Q["".concat(Or.axisType,"Id")];on&&on[lr]||Or.axisType==="zAxis"||hl();var Rn=on[lr];return ye(ye({},Dt),{},Ge(Ge({},Or.axisType,Rn),"".concat(Or.axisType,"Ticks"),Wi(Rn)))},de),z=be[Z],me=be["".concat(Z,"Ticks")],xe=I&&I[ge]&&I[ge].hasStack&&JJ(K,I[ge].stackGroups),q=Gi(K.type).indexOf("Bar")>=0,ue=Om(z,me),_e=[],Ie=te&&FJ({barSize:L,stackGroups:I,totalSize:soe(be,Z)});if(q){var Ue,Zt,mr=at(le)?$:le,sn=(Ue=(Zt=Om(z,me,!0))!==null&&Zt!==void 0?Zt:mr)!==null&&Ue!==void 0?Ue:0;_e=VJ({barGap:D,barCategoryGap:F,bandSize:sn!==ue?sn:ue,sizeList:Ie[he],maxBarSize:mr}),sn!==ue&&(_e=_e.map(function(Dt){return ye(ye({},Dt),{},{position:ye(ye({},Dt.position),{},{offset:Dt.position.offset-sn/2})})}))}var Rt=K&&K.type&&K.type.getComposedData;Rt&&X.push({props:ye(ye({},Rt(ye(ye({},be),{},{displayedData:W,props:S,dataKey:J,item:K,bandSize:ue,barPosition:_e,offset:N,stackedData:xe,layout:R,dataStartIndex:P,dataEndIndex:O}))),{},Ge(Ge(Ge({key:K.key||"item-".concat(ne)},ae,be[ae]),Z,be[Z]),"animationId",C)),childIndex:zz(K,S.children),item:K})}),X},x=function(S,j){var A=S.props,I=S.dataStartIndex,N=S.dataEndIndex,C=S.updateId;if(!i2({props:A}))return null;var P=A.children,O=A.layout,L=A.stackOffset,R=A.data,D=A.reverseStackOrder,F=zR(O),$=F.numericAxisName,re=F.cateAxisName,ae=xa(P,n),Z=QJ(R,ae,"".concat($,"Id"),"".concat(re,"Id"),L,D),te=d.reduce(function(Q,J){var le="".concat(J.axisType,"Map");return ye(ye({},Q),{},Ge({},le,roe(A,ye(ye({},J),{},{graphicalItems:ae,stackGroups:J.axisType===$&&Z,dataStartIndex:I,dataEndIndex:N}))))},{}),X=ioe(ye(ye({},te),{},{props:A,graphicalItems:ae}),j?.legendBBox);Object.keys(te).forEach(function(Q){te[Q]=p(A,te[Q],X,Q.replace("Map",""),r)});var K=te["".concat(re,"Map")],ne=noe(K),W=v(A,ye(ye({},te),{},{dataStartIndex:I,dataEndIndex:N,updateId:C,graphicalItems:ae,stackGroups:Z,offset:X}));return ye(ye({formattedGraphicalItems:W,graphicalItems:ae,offset:X,stackGroups:Z},ne),te)},_=function(b){function S(j){var A,I,N;return Fse(this,S),N=Use(this,S,[j]),Ge(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(N,"accessibilityManager",new Nse),Ge(N,"handleLegendBBoxUpdate",function(C){if(C){var P=N.state,O=P.dataStartIndex,L=P.dataEndIndex,R=P.updateId;N.setState(ye({legendBBox:C},x({props:N.props,dataStartIndex:O,dataEndIndex:L,updateId:R},ye(ye({},N.state),{},{legendBBox:C}))))}}),Ge(N,"handleReceiveSyncEvent",function(C,P,O){if(N.props.syncId===C){if(O===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),Ge(N,"handleBrushChange",function(C){var P=C.startIndex,O=C.endIndex;if(P!==N.state.dataStartIndex||O!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return ye({dataStartIndex:P,dataEndIndex:O},x({props:N.props,dataStartIndex:P,dataEndIndex:O,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),Ge(N,"handleMouseEnter",function(C){var P=N.getMouseInfo(C);if(P){var O=ye(ye({},P),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var L=N.props.onMouseEnter;Xe(L)&&L(O,C)}}),Ge(N,"triggeredAfterMouseMove",function(C){var P=N.getMouseInfo(C),O=P?ye(ye({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(O),N.triggerSyncEvent(O);var L=N.props.onMouseMove;Xe(L)&&L(O,C)}),Ge(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ge(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ge(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),Ge(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var O=N.props.onMouseLeave;Xe(O)&&O(P,C)}),Ge(N,"handleOuterEvent",function(C){var P=qz(C),O=Qn(N.props,"".concat(P));if(P&&Xe(O)){var L,R;/.*touch.*/i.test(P)?R=N.getMouseInfo(C.changedTouches[0]):R=N.getMouseInfo(C),O((L=R)!==null&&L!==void 0?L:{},C)}}),Ge(N,"handleClick",function(C){var P=N.getMouseInfo(C);if(P){var O=ye(ye({},P),{},{isTooltipActive:!0});N.setState(O),N.triggerSyncEvent(O);var L=N.props.onClick;Xe(L)&&L(O,C)}}),Ge(N,"handleMouseDown",function(C){var P=N.props.onMouseDown;if(Xe(P)){var O=N.getMouseInfo(C);P(O,C)}}),Ge(N,"handleMouseUp",function(C){var P=N.props.onMouseUp;if(Xe(P)){var O=N.getMouseInfo(C);P(O,C)}}),Ge(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ge(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),Ge(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),Ge(N,"handleDoubleClick",function(C){var P=N.props.onDoubleClick;if(Xe(P)){var O=N.getMouseInfo(C);P(O,C)}}),Ge(N,"handleContextMenu",function(C){var P=N.props.onContextMenu;if(Xe(P)){var O=N.getMouseInfo(C);P(O,C)}}),Ge(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&e_.emit(t_,N.props.syncId,C,N.eventEmitterSymbol)}),Ge(N,"applySyncEvent",function(C){var P=N.props,O=P.layout,L=P.syncMethod,R=N.state.updateId,D=C.dataStartIndex,F=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(ye({dataStartIndex:D,dataEndIndex:F},x({props:N.props,dataStartIndex:D,dataEndIndex:F,updateId:R},N.state)));else if(C.activeTooltipIndex!==void 0){var $=C.chartX,re=C.chartY,ae=C.activeTooltipIndex,Z=N.state,te=Z.offset,X=Z.tooltipTicks;if(!te)return;if(typeof L=="function")ae=L(X,C);else if(L==="value"){ae=-1;for(var K=0;K<X.length;K++)if(X[K].value===C.activeLabel){ae=K;break}}var ne=ye(ye({},te),{},{x:te.left,y:te.top}),W=Math.min($,ne.x+ne.width),Q=Math.min(re,ne.y+ne.height),J=X[ae]&&X[ae].value,le=Q1(N.state,N.props.data,ae),ge=X[ae]?{x:O==="horizontal"?X[ae].coordinate:W,y:O==="horizontal"?Q:X[ae].coordinate}:JL;N.setState(ye(ye({},C),{},{activeLabel:J,activeCoordinate:ge,activePayload:le,activeTooltipIndex:ae}))}else N.setState(C)}),Ge(N,"renderCursor",function(C){var P,O=N.state,L=O.isTooltipActive,R=O.activeCoordinate,D=O.activePayload,F=O.offset,$=O.activeTooltipIndex,re=O.tooltipAxisBandSize,ae=N.getTooltipEventType(),Z=(P=C.props.active)!==null&&P!==void 0?P:L,te=N.props.layout,X=C.key||"_recharts-cursor";return G.createElement(Ise,{key:X,activeCoordinate:R,activePayload:D,activeTooltipIndex:$,chartName:r,element:C,isActive:Z,layout:te,offset:F,tooltipAxisBandSize:re,tooltipEventType:ae})}),Ge(N,"renderPolarAxis",function(C,P,O){var L=Qn(C,"type.axisType"),R=Qn(N.state,"".concat(L,"Map")),D=C.type.defaultProps,F=D!==void 0?ye(ye({},D),C.props):C.props,$=R&&R[F["".concat(L,"Id")]];return B.cloneElement(C,ye(ye({},$),{},{className:tt(L,$.className),key:C.key||"".concat(P,"-").concat(O),ticks:Wi($,!0)}))}),Ge(N,"renderPolarGrid",function(C){var P=C.props,O=P.radialLines,L=P.polarAngles,R=P.polarRadius,D=N.state,F=D.radiusAxisMap,$=D.angleAxisMap,re=Us(F),ae=Us($),Z=ae.cx,te=ae.cy,X=ae.innerRadius,K=ae.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(L)?L:Wi(ae,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(R)?R:Wi(re,!0).map(function(ne){return ne.coordinate}),cx:Z,cy:te,innerRadius:X,outerRadius:K,key:C.key||"polar-grid",radialLines:O})}),Ge(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,P=N.props,O=P.children,L=P.width,R=P.height,D=N.props.margin||{},F=L-(D.left||0)-(D.right||0),$=$6({children:O,formattedGraphicalItems:C,legendWidth:F,legendContent:h});if(!$)return null;var re=$.item,ae=VR($,Ose);return B.cloneElement(re,ye(ye({},ae),{},{chartWidth:L,chartHeight:R,margin:D,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ge(N,"renderTooltip",function(){var C,P=N.props,O=P.children,L=P.accessibilityLayer,R=Wn(O,ga);if(!R)return null;var D=N.state,F=D.isTooltipActive,$=D.activeCoordinate,re=D.activePayload,ae=D.activeLabel,Z=D.offset,te=(C=R.props.active)!==null&&C!==void 0?C:F;return B.cloneElement(R,{viewBox:ye(ye({},Z),{},{x:Z.left,y:Z.top}),active:te,label:ae,payload:te?re:[],coordinate:$,accessibilityLayer:L})}),Ge(N,"renderBrush",function(C){var P=N.props,O=P.margin,L=P.data,R=N.state,D=R.offset,F=R.dataStartIndex,$=R.dataEndIndex,re=R.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Np(N.handleBrushChange,C.props.onChange),data:L,x:Te(C.props.x)?C.props.x:D.left,y:Te(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:Te(C.props.width)?C.props.width:D.width,startIndex:F,endIndex:$,updateId:"brush-".concat(re)})}),Ge(N,"renderReferenceElement",function(C,P,O){if(!C)return null;var L=N,R=L.clipPathId,D=N.state,F=D.xAxisMap,$=D.yAxisMap,re=D.offset,ae=C.type.defaultProps||{},Z=C.props,te=Z.xAxisId,X=te===void 0?ae.xAxisId:te,K=Z.yAxisId,ne=K===void 0?ae.yAxisId:K;return B.cloneElement(C,{key:C.key||"".concat(P,"-").concat(O),xAxis:F[X],yAxis:$[ne],viewBox:{x:re.left,y:re.top,width:re.width,height:re.height},clipPathId:R})}),Ge(N,"renderActivePoints",function(C){var P=C.item,O=C.activePoint,L=C.basePoint,R=C.childIndex,D=C.isRange,F=[],$=P.props.key,re=P.item.type.defaultProps!==void 0?ye(ye({},P.item.type.defaultProps),P.item.props):P.item.props,ae=re.activeDot,Z=re.dataKey,te=ye(ye({index:R,dataKey:Z,cx:O.x,cy:O.y,r:4,fill:Hj(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ye(ae,!1)),cm(ae));return F.push(S.renderActiveDot(ae,te,"".concat($,"-activePoint-").concat(R))),L?F.push(S.renderActiveDot(ae,ye(ye({},te),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(R))):D&&F.push(null),F}),Ge(N,"renderGraphicChild",function(C,P,O){var L=N.filterFormatItem(C,P,O);if(!L)return null;var R=N.getTooltipEventType(),D=N.state,F=D.isTooltipActive,$=D.tooltipAxis,re=D.activeTooltipIndex,ae=D.activeLabel,Z=N.props.children,te=Wn(Z,ga),X=L.props,K=X.points,ne=X.isRange,W=X.baseLine,Q=L.item.type.defaultProps!==void 0?ye(ye({},L.item.type.defaultProps),L.item.props):L.item.props,J=Q.activeDot,le=Q.hide,ge=Q.activeBar,he=Q.activeShape,de=!!(!le&&F&&te&&(J||ge||he)),be={};R!=="axis"&&te&&te.props.trigger==="click"?be={onClick:Np(N.handleItemMouseEnter,C.props.onClick)}:R!=="axis"&&(be={onMouseLeave:Np(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Np(N.handleItemMouseEnter,C.props.onMouseEnter)});var z=B.cloneElement(C,ye(ye({},L.props),be));function me(Or){return typeof $.dataKey=="function"?$.dataKey(Or.payload):null}if(de)if(re>=0){var xe,q;if($.dataKey&&!$.allowDuplicatedCategory){var ue=typeof $.dataKey=="function"?me:"payload.".concat($.dataKey.toString());xe=P_(K,ue,ae),q=ne&&W&&P_(W,ue,ae)}else xe=K?.[re],q=ne&&W&&W[re];if(he||ge){var _e=C.props.activeIndex!==void 0?C.props.activeIndex:re;return[B.cloneElement(C,ye(ye(ye({},L.props),be),{},{activeIndex:_e})),null,null]}if(!at(xe))return[z].concat(ru(N.renderActivePoints({item:L,activePoint:xe,basePoint:q,childIndex:re,isRange:ne})))}else{var Ie,Ue=(Ie=N.getItemByXY(N.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:z},Zt=Ue.graphicalItem,mr=Zt.item,sn=mr===void 0?C:mr,Rt=Zt.childIndex,Dt=ye(ye(ye({},L.props),be),{},{activeIndex:Rt});return[B.cloneElement(sn,Dt),null,null]}return ne?[z,null,null]:[z,null]}),Ge(N,"renderCustomized",function(C,P,O){return B.cloneElement(C,ye(ye({key:"recharts-customized-".concat(O)},N.props),N.state))}),Ge(N,"renderMap",{CartesianGrid:{handler:Cp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Cp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Cp},YAxis:{handler:Cp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((A=j.id)!==null&&A!==void 0?A:Uh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=L3(N.triggeredAfterMouseMove,(I=j.throttleDelay)!==null&&I!==void 0?I:1e3/60),N.state={},N}return Wse(S,b),Bse(S,[{key:"componentDidMount",value:function(){var A,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,I=A.children,N=A.data,C=A.height,P=A.layout,O=Wn(I,ga);if(O){var L=O.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=Q1(this.state,N,L,R),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+C)/2,re=P==="horizontal",ae=re?{x:F,y:$}:{y:F,x:$},Z=this.state.formattedGraphicalItems.find(function(X){var K=X.item;return K.type.name==="Scatter"});Z&&(ae=ye(ye({},ae),Z.props.points[L].tooltipPosition),D=Z.props.points[L].tooltipPayload);var te={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:ae};this.setState(te),this.renderCursor(O),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(A){O_([Wn(A.children,ga)],[Wn(this.props.children,ga)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Wn(this.props.children,ga);if(A&&typeof A.props.shared=="boolean"){var I=A.props.shared?"axis":"item";return c.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var I=this.container,N=I.getBoundingClientRect(),C=CK(N),P={chartX:Math.round(A.pageX-C.left),chartY:Math.round(A.pageY-C.top)},O=N.width/I.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,O);if(!L)return null;var R=this.state,D=R.xAxisMap,F=R.yAxisMap,$=this.getTooltipEventType(),re=UR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&F){var ae=Us(D).scale,Z=Us(F).scale,te=ae&&ae.invert?ae.invert(P.chartX):null,X=Z&&Z.invert?Z.invert(P.chartY):null;return ye(ye({},P),{},{xValue:te,yValue:X},re)}return re?ye(ye({},P),re):null}},{key:"inRange",value:function(A,I){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=A/N,O=I/N;if(C==="horizontal"||C==="vertical"){var L=this.state.offset,R=P>=L.left&&P<=L.left+L.width&&O>=L.top&&O<=L.top+L.height;return R?{x:P,y:O}:null}var D=this.state,F=D.angleAxisMap,$=D.radiusAxisMap;if(F&&$){var re=Us(F);return GI({x:P,y:O},re)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,I=this.getTooltipEventType(),N=Wn(A,ga),C={};N&&I==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=cm(this.props,this.handleOuterEvent);return ye(ye({},P),C)}},{key:"addListener",value:function(){e_.on(t_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e_.removeListener(t_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,I,N){for(var C=this.state.formattedGraphicalItems,P=0,O=C.length;P<O;P++){var L=C[P];if(L.item===A||L.props.key===A.key||I===Gi(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,I=this.state.offset,N=I.left,C=I.top,P=I.height,O=I.width;return G.createElement("defs",null,G.createElement("clipPath",{id:A},G.createElement("rect",{x:N,y:C,height:P,width:O})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(I,N){var C=FR(N,2),P=C[0],O=C[1];return ye(ye({},I),{},Ge({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(I,N){var C=FR(N,2),P=C[0],O=C[1];return ye(ye({},I),{},Ge({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(A){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[A])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(A){var I=this.state,N=I.formattedGraphicalItems,C=I.activeItem;if(N&&N.length)for(var P=0,O=N.length;P<O;P++){var L=N[P],R=L.props,D=L.item,F=D.type.defaultProps!==void 0?ye(ye({},D.type.defaultProps),D.props):D.props,$=Gi(D.type);if($==="Bar"){var re=(R.data||[]).find(function(X){return Gte(A,X)});if(re)return{graphicalItem:L,payload:re}}else if($==="RadialBar"){var ae=(R.data||[]).find(function(X){return GI(A,X)});if(ae)return{graphicalItem:L,payload:ae}}else if(ng(L,C)||ag(L,C)||ph(L,C)){var Z=gne({graphicalItem:L,activeTooltipItem:C,itemData:F.data}),te=F.activeIndex===void 0?Z:F.activeIndex;return{graphicalItem:ye(ye({},L),{},{childIndex:te}),payload:ph(L,C)?F.data[Z]:L.props.data[Z]}}}return null}},{key:"render",value:function(){var A=this;if(!i2(this))return null;var I=this.props,N=I.children,C=I.className,P=I.width,O=I.height,L=I.style,R=I.compact,D=I.title,F=I.desc,$=VR(I,Rse),re=Ye($,!1);if(R)return G.createElement(kR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(D_,mc({},re,{width:P,height:O,title:D,desc:F}),this.renderClipPath(),o2(N,this.renderMap)));if(this.props.accessibilityLayer){var ae,Z;re.tabIndex=(ae=this.props.tabIndex)!==null&&ae!==void 0?ae:0,re.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",re.onKeyDown=function(X){A.accessibilityManager.keyboardEvent(X)},re.onFocus=function(){A.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return G.createElement(kR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",mc({className:tt("recharts-wrapper",C),style:ye({position:"relative",cursor:"default",width:P,height:O},L)},te,{ref:function(K){A.container=K}}),G.createElement(D_,mc({},re,{width:P,height:O,title:D,desc:F,style:Xse}),this.renderClipPath(),o2(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Ge(_,"displayName",r),Ge(_,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ge(_,"getDerivedStateFromProps",function(b,S){var j=b.dataKey,A=b.data,I=b.children,N=b.width,C=b.height,P=b.layout,O=b.stackOffset,L=b.margin,R=S.dataStartIndex,D=S.dataEndIndex;if(S.updateId===void 0){var F=qR(b);return ye(ye(ye({},F),{},{updateId:0},x(ye(ye({props:b},F),{},{updateId:0}),S)),{},{prevDataKey:j,prevData:A,prevWidth:N,prevHeight:C,prevLayout:P,prevStackOffset:O,prevMargin:L,prevChildren:I})}if(j!==S.prevDataKey||A!==S.prevData||N!==S.prevWidth||C!==S.prevHeight||P!==S.prevLayout||O!==S.prevStackOffset||!wc(L,S.prevMargin)){var $=qR(b),re={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},ae=ye(ye({},UR(S,A,P)),{},{updateId:S.updateId+1}),Z=ye(ye(ye({},$),re),ae);return ye(ye(ye({},Z),x(ye({props:b},Z),S)),{},{prevDataKey:j,prevData:A,prevWidth:N,prevHeight:C,prevLayout:P,prevStackOffset:O,prevMargin:L,prevChildren:I})}if(!O_(I,S.prevChildren)){var te,X,K,ne,W=Wn(I,Gc),Q=W&&(te=(X=W.props)===null||X===void 0?void 0:X.startIndex)!==null&&te!==void 0?te:R,J=W&&(K=(ne=W.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&K!==void 0?K:D,le=Q!==R||J!==D,ge=!at(A),he=ge&&!le?S.updateId:S.updateId+1;return ye(ye({updateId:he},x(ye(ye({props:b},S),{},{updateId:he,dataStartIndex:Q,dataEndIndex:J}),S)),{},{prevChildren:I,dataStartIndex:Q,dataEndIndex:J})}return null}),Ge(_,"renderActiveDot",function(b,S,j){var A;return B.isValidElement(b)?A=B.cloneElement(b,S):Xe(b)?A=b(S):A=G.createElement(Yj,S),G.createElement(wt,{className:"recharts-active-dot",key:j},A)});var w=B.forwardRef(function(S,j){return G.createElement(_,mc({},S,{ref:j}))});return w.displayName=_.displayName,w},t$=e$({chartName:"BarChart",GraphicalChild:pi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kh},{axisType:"yAxis",AxisComp:Yh}],formatAxisMap:xae}),ooe=e$({chartName:"PieChart",GraphicalChild:os,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rg},{axisType:"radiusAxis",AxisComp:eg}],formatAxisMap:lZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const loe={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},coe=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:a,handleDelete:s})=>{const[l,c]=B.useState(20),[d,h]=B.useState("single-member-llc"),[p,m]=B.useState("quarterly"),[v,x]=B.useState(!1);B.useEffect(()=>{c(loe[d])},[d]);const _=B.useMemo(()=>{const A=new Date;let I,N;switch(p){case"weekly":I=new Date(A.setDate(A.getDate()-A.getDay())),N=new Date(A.setDate(A.getDate()-A.getDay()+6));break;case"monthly":I=new Date(A.getFullYear(),A.getMonth(),1),N=new Date(A.getFullYear(),A.getMonth()+1,0);break;case"quarterly":const C=Math.floor(A.getMonth()/3);I=new Date(A.getFullYear(),C*3,1),N=new Date(A.getFullYear(),C*3+3,0);break;case"yearly":I=new Date(A.getFullYear(),0,1),N=new Date(A.getFullYear(),11,31);break;default:I=new Date,N=new Date}return{start:I,end:N}},[p]),w=B.useMemo(()=>{const A=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=_.start&&$<=_.end}),I=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,N=(_.end-_.start)/(1e3*60*60*24*30.44),C=I*N,P=A.reduce((F,$)=>F+($.revenue||0),0),O=A.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=P-O,R=L-C,D=R>0?R*(l/100):0;return{netProfit:R,estimatedTax:D,grossProfit:L,periodOperatingExpenses:C}},[t,e,r,l,_]),b=B.useMemo(()=>n.filter(A=>{const I=new Date(A.date);return I>=_.start&&I<=_.end}).reduce((A,I)=>A+(I.amount||0),0),[n,_]),S=w.estimatedTax-b,j=[{name:"Tax Liability","Estimated Tax":w.estimatedTax,"Taxes Paid":b}];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),i.jsxs("select",{id:"filingStatus",value:d,onChange:A=>h(A.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[i.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),i.jsx("option",{value:"s-corp",children:"S-Corporation"}),i.jsx("option",{value:"c-corp",children:"C-Corporation"}),i.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),i.jsx("input",{id:"taxRate",type:"number",value:l,onChange:A=>c(parseFloat(A.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),i.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[i.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),i.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),i.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),i.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[i.jsx(ei,{title:`Estimated ${p} Net Profit`,value:`$${w.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:i.jsx(qr,{}),color:"blue"}),i.jsx(ei,{title:"Estimated Tax Liability",value:`$${w.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:i.jsx(qr,{}),color:"orange",subtext:w.netProfit<=0?"No tax on negative profit":""}),i.jsx(ei,{title:"Overpayment / (Underpayment)",value:`${S<0?"-":""}$${Math.abs(S).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:i.jsx(qr,{}),color:S<0?"green":"red",subtext:S<0?"You have overpaid":"Remaining balance due"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("button",{onClick:()=>x(!v),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",i.jsx(Ld,{className:`transition-transform ${v?"rotate-180":""}`,size:16})]}),v&&i.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Gross Profit (from Jobs):"})," ",i.jsxs("span",{className:"font-mono",children:["$",w.grossProfit.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"- Est. Operating Expenses:"})," ",i.jsxs("span",{className:"font-mono",children:["$",w.periodOperatingExpenses.toFixed(2)]})]}),i.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),i.jsxs("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"= Estimated Net Profit:"})," ",i.jsxs("span",{className:"font-mono",children:["$",w.netProfit.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["x Tax Rate (",l,"%):"]})," ",i.jsxs("span",{className:"font-mono",children:["$",w.estimatedTax.toFixed(2)]})]})]})]}),w.netProfit<=0&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[i.jsx(O4,{size:20}),i.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),i.jsx(wj,{width:"100%",height:200,children:i.jsxs(t$,{data:j,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[i.jsx(iN,{strokeDasharray:"3 3"}),i.jsx(Kh,{type:"number"}),i.jsx(Yh,{type:"category",dataKey:"name",hide:!0}),i.jsx(ga,{formatter:A=>`$${A.toLocaleString()}`}),i.jsx(Ys,{}),i.jsx(pi,{dataKey:"Estimated Tax",fill:"#f97316"}),i.jsx(pi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),i.jsxs("button",{onClick:()=>a("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Record Payment"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Date"}),i.jsx("th",{className:"p-3",children:"Notes"}),i.jsx("th",{className:"p-3 text-right",children:"Amount"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:n.map(A=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[i.jsx("td",{className:"p-3 font-medium",children:A.date}),i.jsx("td",{className:"p-3",children:A.notes}),i.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(A.amount||0).toFixed(2)]}),i.jsxs("td",{className:"p-3 text-center",children:[i.jsx("button",{onClick:()=>a("taxPayment",A),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>s("taxPayment",A.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:i.jsx(nr,{size:16})})]})]},A.id))})]})})]})]})},uoe=({jobs:t,tasks:e,openModal:r})=>{const[n,a]=B.useState(new Date),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=c.getDay(),p=d.getDate(),m=[];for(let w=0;w<h;w++)m.push(null);for(let w=1;w<=p;w++)m.push(new Date(n.getFullYear(),n.getMonth(),w));const v=B.useMemo(()=>{const w={};return t.forEach(b=>{const S=new Date(b.date).toISOString().split("T")[0];w[S]||(w[S]=[]),w[S].push({...b,type:"job"})}),e.forEach(b=>{const S=new Date(b.date).toISOString().split("T")[0];w[S]||(w[S]=[]),w[S].push({...b,type:"task"})}),w},[t,e]),x=()=>{a(new Date(n.getFullYear(),n.getMonth()-1,1))},_=()=>{a(new Date(n.getFullYear(),n.getMonth()+1,1))};return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:i.jsx(P4,{})}),i.jsxs("h2",{className:"text-xl font-bold",children:[l[n.getMonth()]," ",n.getFullYear()]}),i.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:i.jsx(Xk,{})})]}),i.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[i.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add Task"]}),i.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add Job"]})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[s.map(w=>i.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:w},w)),m.map((w,b)=>i.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${w?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>w&&r("task",{date:w.toISOString().split("T")[0]}),children:[w&&i.jsx("span",{className:"text-xs font-semibold",children:w.getDate()}),w&&v[w.toISOString().split("T")[0]]?.map(S=>i.jsx("div",{onClick:j=>{j.stopPropagation(),r(S.type,S)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${S.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:S.name||S.title},S.id))]},b))]})]})},doe=({item:t=null,type:e,onSave:r,onClose:n,debts:a=[],clients:s=[],vehicles:l=[]})=>{const[c,d]=B.useState({}),[h,p]=B.useState(null);B.useEffect(()=>{if(t)d(t);else{const b=m(e);d(b)}},[t,e]);const m=b=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[b]||{},v=b=>{const{name:S,value:j,type:A,checked:I}=b.target;d(N=>({...N,[S]:A==="checkbox"?I:j}))},x=b=>{if(b.preventDefault(),!c.name&&!c.title&&!c.billTo&&!c.customer){alert("Please fill in the required fields.");return}const S={...c};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(I=>{S[I]!==void 0&&S[I]!==""&&(S[I]=parseFloat(S[I])||0)}),e==="client"){if(S.isParent&&S.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}S.isParent?(S.companyType="parent",S.parentId=null):S.parentId?S.companyType="child":S.companyType="regular"}if(e==="invoice"){if(S.invoiceNumber||(S.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),S.transactionDate&&S.netTerms&&!S.dueDate){const I=new Date(S.transactionDate);let N=30;S.netTerms.includes("45")?N=45:S.netTerms.includes("15")?N=15:S.netTerms.includes("Due on Receipt")&&(N=0);const C=new Date(I);C.setDate(C.getDate()+N),S.dueDate=C.toISOString().split("T")[0]}S.status=S.invoiceStatus==="Paid"?"Paid":"Unpaid",S.net=S.grandTotal,S.invNum=S.invoiceNumber,S.jobNo=S.jobNumber,!S.grandTotal&&S.net&&(S.grandTotal=S.net)}r(S,h)},_=s.filter(b=>(b.isParent||b.companyType==="parent")&&(!t||b.id!==t.id)),w=()=>{switch(e){case"bill":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),i.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),i.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:c.dueDay||1,onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),i.jsxs("select",{name:"category",value:c.category||"Utilities",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Utilities",children:"Utilities"}),i.jsx("option",{value:"Insurance",children:"Insurance"}),i.jsx("option",{value:"Vehicle",children:"Vehicle"}),i.jsx("option",{value:"Software",children:"Software"}),i.jsx("option",{value:"Overhead",children:"Overhead"}),i.jsx("option",{value:"Equipment",children:"Equipment"}),i.jsx("option",{value:"Marketing",children:"Marketing"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]}),i.jsxs("div",{className:"flex gap-6",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isAutoPay",checked:c.isAutoPay||!1,onChange:v,className:"mr-2"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:v,className:"mr-2"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),i.jsx("input",{type:"text",name:"creditor",value:c.creditor||"",onChange:v,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),i.jsxs("select",{name:"debtType",value:c.debtType||"Credit Card",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Credit Card",children:"Credit Card"}),i.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),i.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),i.jsx("option",{value:"Mortgage",children:"Mortgage"}),i.jsx("option",{value:"Student Loan",children:"Student Loan"}),i.jsx("option",{value:"Business Loan",children:"Business Loan"}),i.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),i.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:c.totalAmount||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),i.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:c.paidAmount||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),i.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:c.interestRate||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),i.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:c.minimumPayment||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),i.jsx("input",{type:"date",name:"dueDate",value:c.dueDate||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.totalAmount||c.paidAmount)&&i.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),i.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(c.totalAmount)||0)-(parseFloat(c.paidAmount)||0)).toFixed(2)]})]}),i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(c.totalAmount>0?(parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100:0,100)}%`}})}),i.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[c.totalAmount>0?((parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),i.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),i.jsxs("select",{name:"type",value:c.type||"monthly",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"quarterly",children:"Quarterly"}),i.jsx("option",{value:"annually",children:"Annually"}),i.jsx("option",{value:"one-time",children:"One-time"}),i.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),i.jsxs("select",{name:"status",value:c.status||"active",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"paused",children:"Paused"})]})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:v,className:"mr-2"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),c.amount&&parseFloat(c.amount)>0&&c.type&&i.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[c.type||"Monthly",":"]}),i.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),i.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const b=parseFloat(c.amount);switch(c.type){case"weekly":return(b*4.33).toFixed(2);case"quarterly":return(b/3).toFixed(2);case"annually":return(b/12).toFixed(2);case"monthly":default:return b.toFixed(2)}})()]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),i.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const b=parseFloat(c.amount);let S;switch(c.type){case"weekly":S=b*4.33;break;case"quarterly":S=b/3;break;case"annually":S=b/12;break;case"monthly":default:S=b;break}return(S*12).toLocaleString()})()]})]})]})]})]});case"weekly":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),i.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),i.jsxs("select",{name:"category",value:c.category||"Other",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Payroll",children:"Payroll"}),i.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),i.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),i.jsx("option",{value:"Utilities",children:"Utilities"}),i.jsx("option",{value:"Insurance",children:"Insurance"}),i.jsx("option",{value:"Marketing",children:"Marketing"}),i.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),i.jsx("option",{value:"Supplies",children:"Supplies"}),i.jsx("option",{value:"Contractors",children:"Contractors"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.amount&&parseFloat(c.amount)>0&&i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),i.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),i.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(c.amount)*4.33).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),i.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(c.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),i.jsxs("select",{name:"make",value:c.make||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Select Make"}),i.jsx("option",{value:"FORD",children:"Ford"}),i.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),i.jsx("option",{value:"GMC",children:"GMC"}),i.jsx("option",{value:"TOYOTA",children:"Toyota"}),i.jsx("option",{value:"HONDA",children:"Honda"}),i.jsx("option",{value:"NISSAN",children:"Nissan"}),i.jsx("option",{value:"RAM",children:"Ram"}),i.jsx("option",{value:"DODGE",children:"Dodge"}),i.jsx("option",{value:"JEEP",children:"Jeep"}),i.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),i.jsx("option",{value:"KIA",children:"Kia"}),i.jsx("option",{value:"MAZDA",children:"Mazda"}),i.jsx("option",{value:"SUBARU",children:"Subaru"}),i.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),i.jsx("option",{value:"BMW",children:"BMW"}),i.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),i.jsx("option",{value:"AUDI",children:"Audi"}),i.jsx("option",{value:"LEXUS",children:"Lexus"}),i.jsx("option",{value:"ACURA",children:"Acura"}),i.jsx("option",{value:"INFINITI",children:"Infiniti"}),i.jsx("option",{value:"CADILLAC",children:"Cadillac"}),i.jsx("option",{value:"LINCOLN",children:"Lincoln"}),i.jsx("option",{value:"BUICK",children:"Buick"}),i.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),i.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),i.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:v,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),i.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:c.year||new Date().getFullYear(),onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),i.jsx("input",{type:"text",name:"color",value:c.color||"",onChange:v,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),i.jsxs("select",{name:"status",value:c.status||"active",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"maintenance",children:"In Maintenance"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"sold",children:"Sold"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),i.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:v,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),i.jsx("input",{type:"text",name:"licensePlate",value:c.licensePlate||"",onChange:v,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),i.jsx("input",{type:"number",min:"0",name:"currentMileage",value:c.currentMileage||"",onChange:v,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),i.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:c.lastServiceMileage||"",onChange:v,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),i.jsx("input",{type:"date",name:"registrationExpiry",value:c.registrationExpiry||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),i.jsx("input",{type:"date",name:"insuranceExpiry",value:c.insuranceExpiry||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),i.jsx("input",{type:"date",name:"nextServiceDue",value:c.nextServiceDue||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.name||c.make||c.model)&&i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"🚗 Vehicle Preview"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:c.name||"Unnamed Vehicle"}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c.year," ",c.make," ",c.model,c.color&&` (${c.color})`]}),c.licensePlate&&i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",c.licensePlate]}),c.currentMileage&&i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(c.currentMileage).toLocaleString()," miles"]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${c.status==="active"?"bg-green-100 text-green-800":c.status==="maintenance"?"bg-yellow-100 text-yellow-800":c.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status||"active"})]})]})]})]});case"client":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),i.jsx("textarea",{name:"address",value:c.address||"",onChange:v,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[i.jsx(Jo,{size:16}),"Company Structure & Hierarchy"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:c.isParent||!1,onChange:v,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[i.jsx($a,{size:14}),"This is a parent company"]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!c.isParent&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),i.jsxs("select",{name:"parentId",value:c.parentId||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"",children:"-- Independent Company --"}),_.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]}),_.length===0&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(O4,{size:12,className:"mt-0.5 flex-shrink-0"}),i.jsx("div",{children:c.isParent?i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• Can have multiple child locations/subsidiaries"}),i.jsx("li",{children:"• Appears in hierarchy view with all child companies"}),i.jsx("li",{children:"• Useful for corporate clients with multiple locations"})]})]}):c.parentId?i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• This location will be grouped under the parent company"}),i.jsx("li",{children:"• Jobs and invoices can be tracked separately"}),i.jsx("li",{children:"• Parent company can see consolidated reports"})]})]}):i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:"• Standalone client with no parent/child relationships"}),i.jsx("li",{children:"• Can be converted to parent company later if needed"}),i.jsx("li",{children:"• Most common setup for individual businesses"})]})]})})]})}),(c.isParent||c.parentId)&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[i.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),c.isParent?i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[i.jsx(Jo,{size:12}),c.name||"New Parent Company"]}),i.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:"└── Child companies can be added later"})]}):c.parentId&&i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[i.jsx(Jo,{size:12}),_.find(b=>b.id===c.parentId)?.name||"Parent Company"]}),i.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[i.jsx("span",{children:"└──"}),i.jsx($a,{size:10}),c.name||"New Child Location"]})]})]})]})]})]});case"job":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),i.jsx("input",{type:"number",step:"0.01",name:"revenue",value:c.revenue||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),i.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:c.materialCost||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),i.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:c.laborCost||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),i.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),i.jsxs("select",{name:"clientId",value:c.clientId||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"",children:"Select Client"}),s.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]})]})]})]});case"maintenanceLog":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),i.jsxs("select",{name:"vehicleId",value:c.vehicleId||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"",children:"Select Vehicle"}),l.map(b=>i.jsxs("option",{value:b.id,children:[b.name||"Unnamed"," - ",b.make," ",b.model]},b.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),i.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),i.jsxs("select",{name:"type",value:c.type||"Oil Change",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[i.jsx("option",{value:"Oil Change",children:"Oil Change"}),i.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),i.jsx("option",{value:"Brake Service",children:"Brake Service"}),i.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),i.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),i.jsx("option",{value:"Inspection",children:"Inspection"}),i.jsx("option",{value:"A/C Service",children:"A/C Service"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),i.jsx("input",{type:"number",step:"0.01",name:"cost",value:c.cost||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),i.jsx("input",{type:"number",name:"mileage",value:c.mileage||"",onChange:v,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),i.jsx("input",{type:"number",name:"nextServiceMileage",value:c.nextServiceMileage||"",onChange:v,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"📋 AppSheet Invoice Data"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),i.jsx("input",{type:"text",name:"invoiceNumber",value:c.invoiceNumber||"",onChange:v,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),i.jsx("input",{type:"text",name:"jobNumber",value:c.jobNumber||"",onChange:v,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),i.jsx("input",{type:"text",name:"customer",value:c.customer||"",onChange:v,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),i.jsx("input",{type:"text",name:"billTo",value:c.billTo||"",onChange:v,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),i.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:c.grandTotal||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),i.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:c.totalCost||"",onChange:v,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),i.jsxs("select",{name:"netTerms",value:c.netTerms||"Net 30",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Net 15",children:"Net 15"}),i.jsx("option",{value:"Net 30",children:"Net 30"}),i.jsx("option",{value:"Net 45",children:"Net 45"}),i.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),i.jsx("input",{type:"text",name:"serviceAddress",value:c.serviceAddress||"",onChange:v,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),i.jsx("textarea",{name:"description",value:c.description||"",onChange:v,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),i.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),i.jsx("input",{type:"date",name:"completedOn",value:c.completedOn||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),i.jsxs("select",{name:"invoiceStatus",value:c.invoiceStatus||"Open",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Paid",children:"Paid"}),i.jsx("option",{value:"Overdue",children:"Overdue"}),i.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),i.jsxs("select",{name:"locationType",value:c.locationType||"Commercial",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Commercial",children:"Commercial"}),i.jsx("option",{value:"Residential",children:"Residential"}),i.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),i.jsxs("select",{name:"jobType",value:c.jobType||"Service Call",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Service Call",children:"Service Call"}),i.jsx("option",{value:"Installation",children:"Installation"}),i.jsx("option",{value:"Maintenance",children:"Maintenance"}),i.jsx("option",{value:"Repair",children:"Repair"}),i.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),c.grandTotal&&parseFloat(c.grandTotal)>0&&i.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[i.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"💰 Invoice Summary"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),i.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(c.grandTotal||0).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),i.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(c.totalCost||0).toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),i.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(c.grandTotal||0)-parseFloat(c.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),i.jsx("input",{type:"number",min:"0",name:"quantity",value:c.quantity||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),i.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:c.cost||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),i.jsx("input",{type:"text",name:"title",value:c.title||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),i.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"isComplete",checked:c.isComplete||!1,onChange:v,className:"mr-2"}),i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),i.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),i.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),i.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),i.jsxs("select",{name:"type",value:c.type||"revenue",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"revenue",children:"Revenue"}),i.jsx("option",{value:"profit",children:"Profit"}),i.jsx("option",{value:"clients",children:"New Clients"}),i.jsx("option",{value:"jobs",children:"Completed Jobs"}),i.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),i.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:c.targetValue||"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),i.jsx("input",{type:"date",name:"deadline",value:c.deadline?c.deadline.split("T")[0]:"",onChange:v,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return i.jsxs("div",{children:["Form not implemented for type: ",e]})}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),i.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(gi,{size:24})})]})}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[i.jsxs("div",{className:"space-y-4",children:[w(),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),i.jsx("textarea",{name:"notes",value:c.notes||"",onChange:v,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),i.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b=>p(b.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[i.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),i.jsxs("button",{onClick:x,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},hoe=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:s,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,v]=B.useState("All"),[x,_]=B.useState("All"),[w,b]=B.useState(!1),S=[{key:"status",header:"Status",render:R=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>p(R.id,R.status),children:R.status==="Paid"?i.jsx(La,{className:"text-green-500",size:20}):i.jsx(I4,{className:"text-slate-400 dark:text-slate-600",size:20})}),i.jsx(j,{status:R.invoiceStatus||R.status})]})},{key:"invoiceNumber",header:"Invoice #",render:R=>i.jsxs("div",{className:R.status==="Paid"?"opacity-60":"",children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:R.invoiceNumber||`INV-${R.id}`}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",R.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:R=>i.jsxs("div",{className:R.status==="Paid"?"opacity-60":"",children:[i.jsx("div",{className:`font-medium ${R.status==="Paid"?"line-through":""}`,children:R.customer}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.billTo&&R.billTo!==R.customer?`Bill to: ${R.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:R=>i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(A,{jobType:R.jobType}),i.jsx(I,{priority:R.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:R=>i.jsxs("div",{className:`text-right ${R.status==="Paid"?"opacity-60":""}`,children:[i.jsxs("div",{className:`font-mono font-bold ${R.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(R.grandTotal?.toString().replace(/[$,]/g,"")||R.grandTotal||0).toFixed(2)]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:R=>i.jsxs("div",{className:`text-center ${R.status==="Paid"?"opacity-60":""}`,children:[i.jsx("div",{className:R.status==="Paid"?"line-through":"",children:R.dueDate||"N/A"}),R.daysElapsed>0&&R.status!=="Paid"&&i.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[R.daysElapsed," days elapsed"]}),N(R)&&i.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:R=>i.jsxs("div",{className:`max-w-xs ${R.status==="Paid"?"opacity-60":""}`,children:[i.jsx("div",{className:"text-sm truncate",title:R.description,children:R.description||"No description"}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.serviceAddress&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(S0,{size:10}),i.jsx("span",{className:"truncate",children:R.serviceAddress})]})})]})}],j=({status:R})=>{const D=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(R)}`,children:R||"Unknown"})},A=({jobType:R})=>{const D=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(R)}`,children:R||"N/A"})},I=({priority:R})=>{if(!R)return null;const D=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return i.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(R)}`,children:R})},N=R=>R.status==="Paid"||!R.dueDate?!1:new Date(R.dueDate)<new Date,C=B.useMemo(()=>{const R=t.reduce((Z,te)=>{const X=parseFloat(te.grandTotal?.toString().replace(/[$,]/g,"")||0);return Z+X},0),D=t.filter(Z=>Z.status==="Paid"||Z.invoiceStatus==="Paid"),F=D.reduce((Z,te)=>{const X=parseFloat(te.grandTotal?.toString().replace(/[$,]/g,"")||0);return Z+X},0),re=t.filter(Z=>Z.status!=="Paid"&&Z.invoiceStatus!=="Paid").reduce((Z,te)=>{const X=parseFloat(te.grandTotal?.toString().replace(/[$,]/g,"")||0);return Z+X},0),ae=t.filter(Z=>N(Z));return{totalInvoices:t.length,totalAmount:R,paidAmount:F,outstandingAmount:re,overdueCount:ae.length,paidCount:D.length}},[t]),P=B.useMemo(()=>t.filter(R=>{const D=!a||String(R.invoiceNumber||"").toLowerCase().includes(a.toLowerCase())||String(R.customer||"").toLowerCase().includes(a.toLowerCase())||String(R.vehicleId||"").toLowerCase().includes(a.toLowerCase()),F=m==="all"||R.status===m,$=x==="all"||R.priority===x;return D&&F&&$}),[t,a,m,x]),O=R=>{R.target.checked?c(P.map(D=>D.id)):c([])},L=()=>{const R=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=P.map(Z=>[Z.invoiceNumber||`INV-${Z.id}`,Z.jobNumber||"",Z.customer||"",Z.billTo||"",Z.grandTotal||"",Z.totalCost||"",Z.netTerms||"",Z.transactionDate||"",Z.dueDate||"",Z.paymentDate||"",Z.completedOn||"",Z.invoiceStatus||Z.status||"",Z.terms||"",Z.priority||"",Z.description||"",Z.serviceAddress||"",Z.locationType||"",Z.jobType||"",Z.lineItems||"",Z.payments||"",Z.daysElapsed||0,Z.company||"Mechanical Temp",Z.division||"HVAC & Refrigeration"]),F=[R,...D].map(Z=>Z.map(te=>`"${te}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),re=URL.createObjectURL($),ae=document.createElement("a");ae.href=re,ae.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ae.click(),URL.revokeObjectURL(re)};return i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lm,{className:"text-blue-600 dark:text-blue-400",size:20}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),i.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices • Last sync: 2 hours ago"]})]})]}),i.jsxs("button",{onClick:()=>b(!w),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[i.jsx(lm,{size:16}),"Sync Now"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(zr,{className:"text-slate-500",size:16}),i.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),i.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:C.totalInvoices}),i.jsxs("div",{className:"text-sm text-slate-500",children:["$",C.totalAmount.toLocaleString()]})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(La,{className:"text-green-500",size:16}),i.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),i.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.paidCount}),i.jsxs("div",{className:"text-sm text-green-600",children:["$",C.paidAmount.toLocaleString()]})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(N0,{className:"text-orange-500",size:16}),i.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-C.paidCount}),i.jsxs("div",{className:"text-sm text-orange-600",children:["$",C.outstandingAmount.toLocaleString()]})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[i.jsx(Fh,{className:"text-red-500",size:16}),i.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),i.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.overdueCount}),i.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",P.length," of ",t.length," invoices"]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:R=>s(R.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),i.jsxs("select",{value:m,onChange:R=>v(R.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[i.jsx("option",{value:"All",children:"All Status"}),i.jsx("option",{value:"Paid",children:"Paid"}),i.jsx("option",{value:"Sent",children:"Sent"}),i.jsx("option",{value:"Open",children:"Open"}),i.jsx("option",{value:"Overdue",children:"Overdue"})]}),i.jsxs("select",{value:x,onChange:R=>_(R.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[i.jsx("option",{value:"All",children:"All Priority"}),i.jsx("option",{value:"ER",children:"Emergency"}),i.jsx("option",{value:"URG",children:"Urgent"}),i.jsx("option",{value:"STD",children:"Standard"})]}),l.length>0&&i.jsxs("button",{onClick:()=>n("invoice",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(nr,{size:16})," Delete (",l.length,")"]}),i.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:R=>d(R.target.files[0],"invoice")}),i.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[i.jsx(io,{size:16})," Import CSV"]}),i.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Export AppSheet CSV"]}),i.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add New"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:i.jsx("input",{type:"checkbox",onChange:O,checked:l.length===P.length&&P.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),S.map(R=>i.jsx("th",{className:`p-3 ${R.className||""}`,children:R.header},R.key)),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:P.map(R=>i.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${R.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[i.jsx("td",{className:"p-3",children:i.jsx("input",{type:"checkbox",checked:l.includes(R.id),onChange:()=>{c(D=>D.includes(R.id)?D.filter(F=>F!==R.id):[...D,R.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),S.map(D=>i.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(R)},D.key)),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:i.jsx(Aq,{size:16})}),i.jsx("button",{onClick:()=>e("invoice",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("invoice",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:i.jsx(nr,{size:16})})]})})]},R.id))})]})}),P.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zr,{className:"mx-auto text-slate-400 mb-4",size:48}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},foe=[{id:1,name:"Synergy Management",type:"National Account",contact:{name:"Sarah Connor",email:"s.connor@synergy.com",phone:"555-0101"},billingAddress:{street:"100 Main St",city:"Southfield",state:"MI",zip:"48075"},locations:[{name:"Lane Bryant",locNum:"4826",city:"LIVONIA",state:"MI"},{name:"Lane Bryant",locNum:"6065",city:"LATHRUP VLG",state:"MI"}]},{id:2,name:"Retail Maintenance Inc.",type:"National Account",contact:{name:"Bob Belcher",email:"bob@rmi.com",phone:"555-0102"},billingAddress:{street:"200 Corporate Dr",city:"Troy",state:"MI",zip:"48084"},locations:[{name:"Value City Furniture",locNum:"175",city:"NOVI",state:"MI"},{name:"Value City Furniture",locNum:"188",city:"CANTON TWP",state:"MI"}]},{id:3,name:"Mr. Henderson",type:"Residential",contact:{name:"James Henderson",email:"j.henderson@email.com",phone:"555-0103"},billingAddress:{street:"123 Oak Ave",city:"Southfield",state:"MI",zip:"48076"},locations:[{name:"Primary Residence",locNum:"N/A",city:"SOUTHFIELD",state:"MI"}]}],poe=[{"WO#":"6748425-01",clientWO:"SYN-10234",Client:"Synergy Management",Company:"Lane Bryant","Loc #":"4826",Category:"Heating & Cooling",Task:"HVAC Fall Startup","Created Date":45852.5421875,"Schedule Date":45900,startTime:"09:00",endTime:"11:00",City:"LIVONIA",State:"MI",NTE:150.5,technician:["John Smith","Jane Doe"],notes:[],Priority:"Low","Order Status":"Scheduled"},{"WO#":"6694098-01",clientWO:"RMI-55912",Client:"Retail Maintenance Inc.",Company:"Value City Furniture","Loc #":"175",Category:"Heating & Cooling",Task:"AC Leak","Created Date":45792.889,"Schedule Date":45900,startTime:"14:00",endTime:"16:30","Completed Date":45812.498,City:"NOVI",State:"MI",NTE:750,technician:["John Smith"],notes:[{text:"Customer reported leak from ceiling unit.",timestamp:"2025-06-20T14:00:00Z"}],Priority:"Urgent","Order Status":"Completed"},{"WO#":"6693039-01",clientWO:"NSG-345-A",Client:"National Service Group",Company:"Floor & Decor","Loc #":"230",Category:"Heating & Cooling",Task:"Too Hot","Created Date":45791.847,"Schedule Date":null,startTime:null,endTime:null,City:"MADISON HTS",State:"MI",NTE:2500,technician:[],notes:[{text:"Manager called, says store is unbearable.",timestamp:"2025-06-20T09:30:00Z"}],Priority:"Emergency","Order Status":"Open"}].map(t=>({...t,id:t["WO#"]})),moe=[{id:1,name:"John Smith",email:"john.s@example.com",phone:"555-1111",status:"Available"},{id:2,name:"Jane Doe",email:"jane.d@example.com",phone:"555-2222",status:"On Site"},{id:3,name:"Mike Rowe",email:"mike.r@example.com",phone:"555-3333",status:"On Call"},{id:4,name:"Sarah Jenkins",email:"sarah.j@example.com",phone:"555-4444",status:"Day Off"}],goe=[{id:"INV-001",workOrderId:"6694098-01",customerName:"Retail Maintenance Inc.",date:new Date().toISOString(),amount:750,status:"Paid"},{id:"INV-002",workOrderId:"6748425-01",customerName:"Synergy Management",date:new Date(Date.now()-7*24*60*60*1e3).toISOString(),amount:150.5,status:"Pending"},{id:"INV-003",workOrderId:"6693039-01",customerName:"National Service Group",date:new Date(Date.now()-14*24*60*60*1e3).toISOString(),amount:2500,status:"Paid"},{id:"INV-004",workOrderId:null,customerName:"Mr. Henderson",date:new Date(Date.now()-3*24*60*60*1e3).toISOString(),amount:425,status:"Overdue"}],yoe=[{id:"QT-001",customerName:"Mr. Henderson",date:new Date().toISOString(),amount:1200,description:"New AC unit installation",status:"Sent"},{id:"QT-002",customerName:"Synergy Management",date:new Date(Date.now()-5*24*60*60*1e3).toISOString(),amount:3500,description:"Complete HVAC system upgrade for Lane Bryant locations",status:"Pending"},{id:"QT-003",customerName:"Retail Maintenance Inc.",date:new Date(Date.now()-10*24*60*60*1e3).toISOString(),amount:850,description:"Preventive maintenance contract",status:"Accepted"},{id:"QT-004",customerName:"Downtown Office Complex",date:new Date(Date.now()-2*24*60*60*1e3).toISOString(),amount:2200,description:"Rooftop unit replacement",status:"Draft"}],sN=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,oN=t=>t?t.getTime()/864e5+25569:null,lN=t=>{const e=sN(t);return e?e.toISOString().split("T")[0]:""},cN=t=>t?oN(new Date(t+"T00:00:00")):null,pd=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${a}`},r$=t=>{const e=sN(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},voe=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",ma=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),wh=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",xoe=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",boe=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",woe=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",_oe=({workOrders:t,customers:e,onClose:r,onAddInvoice:n})=>{const[a,s]=B.useState(""),[l,c]=B.useState(""),[d,h]=B.useState(""),[p,m]=B.useState(""),[v,x]=B.useState(""),[_,w]=B.useState(!1),b=t.filter(A=>A["Order Status"]==="Completed"),S=b.find(A=>A.id===a),j=A=>{if(A.preventDefault(),!d||!a&&!l)return;const I={id:`INV-${Date.now()}`,workOrderId:a||null,customerName:_?l:S?.Client||"",date:new Date().toISOString(),amount:parseFloat(d),status:"Draft",description:p||S?.Task||"",dueDate:v||new Date(Date.now()+30*24*60*60*1e3).toISOString()};n(I),r()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:j,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Invoice"}),i.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-600",children:i.jsx(gi,{size:28})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",checked:!_,onChange:()=>w(!1),className:"mr-2"}),"From Work Order"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",checked:_,onChange:()=>w(!0),className:"mr-2"}),"Custom Invoice"]})]}),_?i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Enter customer name",required:!0})]}):i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Select Completed Work Order"}),i.jsxs("select",{value:a,onChange:A=>{s(A.target.value);const I=b.find(N=>N.id===A.target.value);I&&(h(I.NTE||""),m(I.Task||""))},className:"w-full p-2 border border-gray-300 rounded-lg",required:!0,children:[i.jsx("option",{value:"",children:"Select a work order..."}),b.map(A=>i.jsxs("option",{value:A.id,children:[A["WO#"]," - ",A.Client," - ",A.Company," - ",ma(A.NTE)]},A.id))]}),S&&i.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-sm",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Customer:"})," ",S.Client]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Location:"})," ",S.Company]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Task:"})," ",S.Task]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Amount:"})," ",ma(S.NTE)]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Invoice Amount"}),i.jsx("input",{type:"number",step:"0.01",value:d,onChange:A=>h(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Description"}),i.jsx("textarea",{value:p,onChange:A=>m(A.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Invoice description..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:v,onChange:A=>x(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:r,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Create Invoice"})]})]})})},koe=({customers:t,onClose:e,onAddQuote:r})=>{const[n,a]=B.useState(""),[s,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState(""),[m,v]=B.useState(""),x=_=>{if(_.preventDefault(),!n||!s||!c)return;const w={id:`QT-${Date.now()}`,customerName:n,date:new Date().toISOString(),amount:parseFloat(s),description:c,status:"Draft",validUntil:h||new Date(Date.now()+30*24*60*60*1e3).toISOString(),notes:m};r(w),e()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:x,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Quote"}),i.jsx("button",{type:"button",onClick:e,className:"text-gray-400 hover:text-gray-600",children:i.jsx(gi,{size:28})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer"}),i.jsxs("select",{value:n,onChange:_=>a(_.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0,children:[i.jsx("option",{value:"",children:"Select a customer..."}),t.map(_=>i.jsx("option",{value:_.name,children:_.name},_.id)),i.jsx("option",{value:"custom",children:"Other (Enter below)"})]}),n==="custom"&&i.jsx("input",{type:"text",placeholder:"Enter customer name",onChange:_=>a(_.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mt-2",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Quote Amount"}),i.jsx("input",{type:"number",step:"0.01",value:s,onChange:_=>l(_.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"0.00",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Description of Work"}),i.jsx("textarea",{value:c,onChange:_=>d(_.target.value),rows:"4",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Describe the work to be performed...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Valid Until"}),i.jsx("input",{type:"date",value:h,onChange:_=>p(_.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Additional Notes"}),i.jsx("textarea",{value:m,onChange:_=>v(_.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Any additional notes or terms..."})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Create Quote"})]})]})})},joe=({onClose:t,onAddCustomer:e})=>{const[r,n]=B.useState(""),[a,s]=B.useState("Commercial"),[l,c]=B.useState(""),[d,h]=B.useState(""),[p,m]=B.useState(""),[v,x]=B.useState(""),[_,w]=B.useState(""),[b,S]=B.useState("MI"),[j,A]=B.useState(""),I=N=>{if(N.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:a,contact:{name:l,email:d,phone:p},billingAddress:{street:v,city:_,state:b,zip:j},locations:[]}),t()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:I,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),i.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",value:r,onChange:N=>n(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),i.jsxs("select",{value:a,onChange:N=>s(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Commercial"}),i.jsx("option",{children:"Residential"}),i.jsx("option",{children:"National Account"}),i.jsx("option",{children:"Maintenance"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Name"}),i.jsx("input",{value:l,onChange:N=>c(N.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Email"}),i.jsx("input",{value:d,onChange:N=>h(N.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Phone"}),i.jsx("input",{value:p,onChange:N=>m(N.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"font-semibold",children:"Billing Address"}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"text-xs",children:"Street"}),i.jsx("input",{value:v,onChange:N=>x(N.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"City"}),i.jsx("input",{value:_,onChange:N=>w(N.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"State"}),i.jsx("input",{value:b,onChange:N=>S(N.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Zip"}),i.jsx("input",{value:j,onChange:N=>A(N.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},Noe=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,a]=B.useState(t),s=(c,d=null)=>{const{name:h,value:p}=c.target;a(d?m=>({...m,[d]:{...m[d],[h]:p}}):m=>({...m,[h]:p}))},l=c=>{c.preventDefault(),r(n),e()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),i.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),i.jsx("input",{type:"text",name:"name",value:n.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),i.jsxs("select",{name:"type",value:n.type,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Commercial"}),i.jsx("option",{children:"Residential"}),i.jsx("option",{children:"National Account"}),i.jsx("option",{children:"Maintenance"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Name"}),i.jsx("input",{name:"name",value:n.contact.name,onChange:c=>s(c,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Email"}),i.jsx("input",{name:"email",value:n.contact.email,onChange:c=>s(c,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Phone"}),i.jsx("input",{name:"phone",value:n.contact.phone,onChange:c=>s(c,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"font-semibold",children:"Billing Address"}),i.jsxs("div",{className:"mt-2",children:[i.jsx("label",{className:"text-xs",children:"Street"}),i.jsx("input",{name:"street",value:n.billingAddress.street,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"City"}),i.jsx("input",{name:"city",value:n.billingAddress.city,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"State"}),i.jsx("input",{name:"state",value:n.billingAddress.state,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs",children:"Zip"}),i.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Soe=({customer:t,onClose:e,onAddLocation:r})=>{const[n,a]=B.useState(""),[s,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("MI"),m=v=>{if(v.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:s,city:c,state:h}),e()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),i.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),i.jsx("input",{type:"text",value:s,onChange:v=>l(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),i.jsx("input",{type:"text",value:c,onChange:v=>d(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),i.jsx("input",{type:"text",value:h,onChange:v=>p(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Eoe=({onClose:t,onAddOrder:e,customers:r})=>{const[n,a]=B.useState(r[0]?.id||""),[s,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("Regular"),[m,v]=B.useState("Heating & Cooling"),[x,_]=B.useState(""),[w,b]=B.useState(""),[S,j]=B.useState(""),[A,I]=B.useState(""),[N,C]=B.useState(""),P=B.useMemo(()=>r.find(R=>R.id===n),[n,r]);B.useEffect(()=>{if(P?.locations?.[0]){const R=P.locations[0];l(`${R.name}-${R.locNum}-0`)}else l("")},[P]);const O=R=>{l(R)},L=R=>{R.preventDefault();const[D,F]=s.split("-").slice(0,2),$=P.locations.find(re=>re.name===D&&re.locNum===F);if(!n||!$||!c){alert("Please fill out all required fields.");return}e({Client:P.name,Company:$.name,"Loc #":$.locNum,Task:c,Priority:h,Category:m,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":cN(w),startTime:S,endTime:A,clientWO:N})};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),i.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(gi,{size:28})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),i.jsx("select",{value:n,onChange:R=>a(parseInt(R.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))})]}),P&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),i.jsx("select",{value:s,onChange:R=>O(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:P.locations.map((R,D)=>i.jsxs("option",{value:`${R.name}-${R.locNum}-${D}`,children:[R.name," (#",R.locNum,")"]},`${R.name}-${R.locNum}-${D}`))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),i.jsx("input",{type:"text",value:N,onChange:R=>C(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),i.jsx("textarea",{value:c,onChange:R=>d(R.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),i.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Regular"}),i.jsx("option",{children:"Low"}),i.jsx("option",{children:"Urgent"}),i.jsx("option",{children:"Emergency"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),i.jsxs("select",{value:m,onChange:R=>v(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Heating & Cooling"}),i.jsx("option",{children:"Refrigeration"}),i.jsx("option",{children:"Maintenance"}),i.jsx("option",{children:"Plumbing"}),i.jsx("option",{children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),i.jsx("input",{type:"number",value:x,onChange:R=>_(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),i.jsx("input",{type:"date",value:w,onChange:R=>b(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),i.jsx("input",{type:"time",value:S,onChange:R=>j(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),i.jsx("input",{type:"time",value:A,onChange:R=>I(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),i.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:i.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Toe=({onClose:t,onAdd:e})=>{const[r,n]=B.useState(""),[a,s]=B.useState(""),[l,c]=B.useState(""),d=h=>{h.preventDefault(),r.trim()&&(e({name:r,email:a,phone:l,status:"Available"}),t())};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),i.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),i.jsx("input",{type:"email",value:a,onChange:h=>s(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),i.jsx("input",{type:"tel",value:l,onChange:h=>c(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},Aoe=({technician:t,onClose:e,onUpdate:r})=>{const[n,a]=B.useState(t),s=c=>a(d=>({...d,[c.target.name]:c.target.value})),l=c=>{c.preventDefault(),r(n),e()};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[i.jsx("div",{className:"p-6 border-b",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),i.jsx("input",{type:"text",name:"name",value:n.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"email",value:n.email,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),i.jsxs("select",{name:"status",value:n.status,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Available"}),i.jsx("option",{children:"En Route"}),i.jsx("option",{children:"On Site"}),i.jsx("option",{children:"On Break"}),i.jsx("option",{children:"On Call"}),i.jsx("option",{children:"Day Off"})]})]})]}),i.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[i.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Coe=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>i.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?i.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:i.jsx(jq,{size:24})}):i.jsx(Os,{className:"h-8 w-8 text-blue-600"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Schedule Dashboard"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx(zr,{size:20})," Billing"]}),i.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx(Tq,{size:20})," Reporting"]}),i.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx(Rq,{size:20})," Route"]}),i.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx(Qk,{size:20})," Dispatch"]}),i.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx($a,{size:20})," Customers"]}),i.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx(Jk,{size:20})," Technicians"]}),i.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(an,{size:20})," Add Work Order"]})]})]})})}),Poe=({order:t,onSelectOrder:e})=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:wh(t.Priority).borderColor},children:[i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${wh(t.Priority)}`,children:t.Priority}),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${xoe(t["Order Status"])}`,children:t["Order Status"]})]}),i.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[i.jsx(C4,{size:12,className:"mr-1.5"})," ",t.Client]}),i.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),i.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),i.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Jk,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qk,{className:"w-4 h-4 mr-2 text-gray-400"}),i.jsxs("span",{children:["Scheduled: ",r$(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${pd(t.startTime)})`]})]}),t.clientWO&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),i.jsx("span",{children:t.clientWO})]})]})]}),i.jsx("div",{className:"bg-gray-50 px-5 py-3",children:i.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),Ioe=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:a,setStatusFilter:s})=>i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative md:col-span-2",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:l=>n(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(xl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsxs("select",{value:a,onChange:l=>s(l.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[i.jsx("option",{children:"All"}),i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Scheduled"}),i.jsx("option",{children:"In Progress"}),i.jsx("option",{children:"On Hold"}),i.jsx("option",{children:"Completed"}),i.jsx("option",{children:"Cancelled"})]}),i.jsx(Ld,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>i.jsx(Poe,{order:l,onSelectOrder:e},l.id))}):i.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Ooe=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[a,s]=B.useState(new Date().toISOString().split("T")[0]),l=Array.from({length:13},(b,S)=>S+7),c=e.filter(b=>b.name!=="Unassigned"),d=b=>{const S=c.findIndex(j=>j.name===b);return S===-1?-1:S+2},h=b=>{if(!b)return 0;const[S,j]=b.split(":").map(Number);return isNaN(S)||isNaN(j)?0:(S-7)*4+j/15+2},p=t.filter(b=>lN(b["Schedule Date"])===a&&b.startTime&&b.endTime&&b.technician?.length>0),m=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,S)=>{const j={Emergency:1,Urgent:2,Regular:3,Low:4};return(j[b.Priority]||5)-(j[S.Priority]||5)}),v=(b,S)=>{b.dataTransfer.setData("workOrder",JSON.stringify(S))},x=(b,S,j)=>{b.preventDefault();const A=JSON.parse(b.dataTransfer.getData("workOrder")),I=j,N=`${String(parseInt(j.split(":")[0])+2).padStart(2,"0")}:${j.split(":")[1]}`;n(A.id,{...A,technician:[S],"Schedule Date":cN(a),startTime:I,endTime:N,"Order Status":"Scheduled"})},_=b=>{b.preventDefault();const S=JSON.parse(b.dataTransfer.getData("workOrder"));n(S.id,{...S,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},w=b=>b.preventDefault();return i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),i.jsx("input",{type:"date",value:a,onChange:b=>s(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:_,onDragOver:w,children:[i.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),i.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(b=>i.jsxs("div",{draggable:!0,onDragStart:S=>v(S,b),className:`p-2 border-l-4 rounded cursor-grab ${wh(b.Priority)}`,children:[i.jsx("p",{className:"font-bold text-sm",children:b.Company}),i.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),i.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:i.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${c.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${l.length*4}, 20px)`},children:[i.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),c.map(b=>i.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[i.jsx("span",{children:b.name}),i.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${woe(b.status)}`,children:b.status})]},b.id)),l.map(b=>i.jsxs(G.Fragment,{children:[i.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),c.map((S,j)=>i.jsx(G.Fragment,{children:Array.from({length:4}).map((A,I)=>i.jsx("div",{onDrop:N=>x(N,S.name,`${String(b).padStart(2,"0")}:${String(I*15).padStart(2,"0")}`),onDragOver:w,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+I+2,gridColumn:j+2}},`${S.id}-${b}-${I}`))},S.id))]},b)),p.flatMap(b=>b.technician.map(S=>{const j=d(S),A=h(b.startTime),I=h(b.endTime);return j<0||!A||!I||I<=A?null:i.jsxs("div",{draggable:!0,onDragStart:N=>v(N,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${wh(b.Priority)}`,style:{gridColumn:j,gridRow:`${A} / ${I}`},onClick:()=>r(b),children:[i.jsx("p",{className:"font-bold truncate",children:b.Company}),i.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${S}`)}))]})})]})]})},Roe=({workOrders:t,technicians:e})=>{const[r,n]=B.useState("ALL"),[a,s]=B.useState("today"),[l,c]=B.useState(new Date().toISOString().split("T")[0]),[d,h]=B.useState(new Date().toISOString().split("T")[0]),p=B.useMemo(()=>{let x=new Date,_=new Date;switch(a){case"today":x=new Date,_=new Date;break;case"3-day":x=new Date,_=new Date,_.setDate(x.getDate()+2);break;case"week":x=new Date;const S=x.getDay();x.setDate(x.getDate()-S),_.setDate(x.getDate()+6);break;case"custom":x=new Date(l+"T00:00:00"),_=new Date(d+"T00:00:00");break}const w=t.filter(S=>{const j=sN(S["Schedule Date"]);return j>=x&&j<=_}),b=e.find(S=>S.id===r)?.name;return r!=="ALL"?w.filter(S=>S.technician.includes(b)).sort((S,j)=>(S.startTime||"").localeCompare(j.startTime||"")):w.sort((S,j)=>(S.startTime||"").localeCompare(j.startTime||""))},[r,t,e,a,l,d]),m=B.useMemo(()=>p.reduce((x,_)=>{const w=lN(_["Schedule Date"]);return x[w]||(x[w]={}),_.technician.forEach(b=>{x[w][b]||(x[w][b]=[]),x[w][b].push(_)}),x},{}),[p]),v=()=>window.print();return i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("select",{value:a,onChange:x=>s(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"today",children:"Today"}),i.jsx("option",{value:"3-day",children:"Next 3 Days"}),i.jsx("option",{value:"week",children:"This Week"}),i.jsx("option",{value:"custom",children:"Custom Range"})]}),a==="custom"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"date",value:l,onChange:x=>c(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),i.jsx("input",{type:"date",value:d,onChange:x=>h(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("select",{value:r,onChange:x=>n(x.target.value==="ALL"?"ALL":Number(x.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>i.jsx("option",{value:x.id,children:x.name},x.id))]}),i.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[i.jsx(Lq,{size:20})," Print Route"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(m).length>0?Object.entries(m).map(([x,_])=>i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(_).map(([w,b])=>i.jsxs("div",{className:"mb-4",children:[r==="ALL"&&i.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:w}),i.jsx("div",{className:"space-y-2",children:b.map((S,j)=>i.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[i.jsx("span",{className:"text-xl font-bold text-gray-400",children:j+1}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold",children:[pd(S.startTime)," - ",pd(S.endTime)]}),i.jsxs("p",{children:[S.Company," - ",S.City]}),i.jsx("p",{className:"text-sm text-gray-600",children:S.Task})]})]},S.id))})]},w))]},x)):i.jsx("p",{children:"No jobs scheduled for this selection."})]}),i.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:i.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),i.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),i.jsxs("div",{className:"print-container hidden print:block",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(l+"T00:00:00").toLocaleDateString()]}),Object.entries(m).map(([x,_])=>i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(_).map(([w,b])=>i.jsxs("div",{className:"mb-2",children:[i.jsx("h4",{className:"font-semibold text-md mt-2",children:w}),b.map((S,j)=>i.jsxs("div",{className:"p-2 border-b",children:[i.jsx("p",{children:i.jsxs("strong",{children:[j+1,". ",pd(S.startTime)," - ",pd(S.endTime),": ",S.Company]})}),i.jsxs("p",{children:[S.Task," at ",S.City,", ",S.State]})]},S.id))]},w))]},x))]})]})},Doe=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[a,s]=B.useState(!1),[l,c]=B.useState(null),[d,h]=B.useState(null);return i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[i.jsx(an,{size:20})," Add New Customer"]})]}),i.jsx("div",{className:"space-y-4",children:t.map(p=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),i.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${boe(p.type)}`,children:p.type})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>c(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),i.jsx("button",{onClick:()=>h(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(Jk,{size:14})," ",p.contact.name]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(sm,{size:14})," ",p.contact.email]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(om,{size:14})," ",p.contact.phone]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),i.jsx("p",{children:p.billingAddress.street}),i.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t",children:[i.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),i.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,v)=>i.jsxs("div",{className:"text-sm text-gray-700",children:[i.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${v}`))})]})]},p.id))}),a&&i.jsx(joe,{onAddCustomer:e,onClose:()=>s(!1)}),l&&i.jsx(Noe,{customer:l,onUpdateCustomer:r,onClose:()=>c(null)}),d&&i.jsx(Soe,{customer:d,onAddLocation:n,onClose:()=>h(null)})]})},Moe=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[a,s]=B.useState(!1),[l,c]=B.useState(null);return i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[i.jsx(an,{size:20})," Add New Technician"]})]}),i.jsx("div",{className:"space-y-4",children:t.map(d=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),i.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(sm,{size:14})," ",d.email]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(om,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>c(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:i.jsx(nr,{size:16})})]})]},d.id))}),a&&i.jsx(Toe,{onAdd:e,onClose:()=>s(!1)}),l&&i.jsx(Aoe,{technician:l,onUpdate:r,onClose:()=>c(null)})]})},Loe=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:a})=>{if(!t)return null;const[s,l]=B.useState(t["Order Status"]),[c,d]=B.useState(t.technician||[]),[h,p]=B.useState(lN(t["Schedule Date"])),[m,v]=B.useState(t.startTime||""),[x,_]=B.useState(t.endTime||""),[w,b]=B.useState(""),[S,j]=B.useState(t.clientWO||""),A=C=>{const P=c.includes(C)?c.filter(O=>O!==C):[...c,C];d(P)},I=()=>{const C={};s!==t["Order Status"]&&(C["Order Status"]=s,s==="Completed"&&!t["Completed Date"]&&(C["Completed Date"]=oN(new Date))),JSON.stringify(c)!==JSON.stringify(t.technician)&&(C.technician=c);const P=cN(h);(P!==t["Schedule Date"]||m!==t.startTime||x!==t.endTime)&&(C["Schedule Date"]=P,C.startTime=m,C.endTime=x,s==="Open"&&h&&(C["Order Status"]="Scheduled")),S!==t.clientWO&&(C.clientWO=S),Object.keys(C).length>0&&r(t.id,C)},N=[{label:"Work Order #",value:t["WO#"],icon:i.jsx(Os,{})},{label:"Client WO#",value:t.clientWO,icon:i.jsx(C4,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:i.jsx(Jo,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:i.jsx(S0,{})},{label:"Priority",value:t.Priority,icon:i.jsx(Fh,{}),style:wh(t.Priority)+" px-2 py-0.5 rounded-full text-xs font-semibold"},{label:"Task",value:t.Task},{label:"NTE Amount",value:ma(t.NTE)},{label:"Created Date",value:r$(t["Created Date"])}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:i.jsx(gi,{size:28})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:N.map(C=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:C.label}),i.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${C.style||""}`,children:[C.icon&&i.jsx("span",{className:"text-gray-400",children:G.cloneElement(C.icon,{size:16})}),i.jsx("span",{className:C.style||"",children:C.value})]})]},C.label))}),i.jsxs("div",{className:"mt-6 pt-6 border-t",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),i.jsxs("select",{value:s,onChange:C=>l(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[i.jsx("option",{children:"Open"}),i.jsx("option",{children:"Scheduled"}),i.jsx("option",{children:"In Progress"}),i.jsx("option",{children:"On Hold"}),i.jsx("option",{children:"Completed"}),i.jsx("option",{children:"Cancelled"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),i.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:a.filter(C=>C.name!=="Unassigned").map(C=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`tech-${C.id}`,checked:c.includes(C.name),onChange:()=>A(C.name),className:"mr-2"}),i.jsx("label",{htmlFor:`tech-${C.id}`,children:C.name})]},C.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),i.jsx("input",{type:"date",value:h,onChange:C=>p(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),i.jsx("input",{type:"time",value:m,onChange:C=>v(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),i.jsx("input",{type:"time",value:x,onChange:C=>_(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),i.jsx("input",{type:"text",value:S,onChange:C=>j(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:I,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[i.jsx(R4,{size:20,className:"mr-2"}),"Work Notes"]}),i.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((C,P)=>new Date(P.timestamp)-new Date(C.timestamp)).map((C,P)=>i.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[i.jsx("p",{className:"text-gray-800",children:C.text}),i.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:voe(C.timestamp)})]},P)):i.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),i.jsxs("div",{className:"mt-4",children:[i.jsx("textarea",{value:w,onChange:C=>b(C.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("button",{onClick:()=>n(t.id,w,()=>b("")),disabled:!w.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},$oe=({workOrders:t,technicians:e})=>{const r=t.filter(h=>h["Order Status"]==="Completed"),n=t.filter(h=>["Open","Scheduled","In Progress"].includes(h["Order Status"])),a=r.reduce((h,p)=>h+(p.NTE||0),0),s=B.useMemo(()=>e.filter(p=>p.name!=="Unassigned").map(p=>{const m=t.filter(v=>v.technician.includes(p.name)&&v["Order Status"]==="Completed").length;return{name:p.name,count:m}}).sort((p,m)=>m.count-p.count),[t,e]),l=Math.max(...s.map(h=>h.count),0),c=h=>h===0?"text-yellow-500":h===1?"text-gray-400":h===2?"text-yellow-600":"text-gray-400",d=()=>{const h=document.getElementById("reporting-view");html2canvas(h).then(p=>{const m=p.toDataURL("image/png"),v=new jspdf.jsPDF,x=v.internal.pageSize.getWidth(),_=p.height*x/p.width;v.addImage(m,"PNG",0,0,x,_),v.save("hvac-report.pdf")})};return i.jsxs(i.Fragment,{children:[i.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"}),i.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"}),i.jsxs("div",{id:"reporting-view",className:"bg-white p-6 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reporting Dashboard"}),i.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[i.jsx(Ic,{size:20})," Download PDF"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Open/Active Jobs"}),i.jsx("p",{className:"text-5xl font-bold text-yellow-600",children:n.length})]}),i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Completed Jobs"}),i.jsx("p",{className:"text-5xl font-bold text-green-600",children:r.length})]}),i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Potential Revenue"}),i.jsx("p",{className:"text-5xl font-bold text-blue-600",children:ma(a)})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"Technician Leaderboard"}),i.jsx("div",{className:"space-y-4",children:s.map((h,p)=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-10 text-center",children:p<3?i.jsx(Sq,{size:24,className:c(p)}):i.jsx("span",{className:"text-lg font-bold text-gray-400",children:p+1})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-bold",children:h.name}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-1",children:i.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:`${l>0?h.count/l*100:0}%`}})})]}),i.jsx("div",{className:"w-12 text-right font-bold text-lg",children:h.count})]},h.name))})]})]})]})},Foe=({invoices:t,quotes:e,workOrders:r,customers:n,onAddInvoice:a,onAddQuote:s})=>{const[l,c]=B.useState("invoices"),[d,h]=B.useState(!1),[p,m]=B.useState(!1),v=t.reduce((j,A)=>j+A.amount,0),x=t.filter(j=>j.status==="Paid"),_=t.filter(j=>j.status!=="Paid");e.reduce((j,A)=>j+A.amount,0);const w=e.filter(j=>j.status==="Sent"||j.status==="Pending"),b=j=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"})[j?.toLowerCase()]||"bg-gray-100 text-gray-800",S=j=>({sent:"bg-blue-100 text-blue-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800"})[j?.toLowerCase()]||"bg-gray-100 text-gray-800";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing & Invoicing"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[i.jsx(zr,{size:20})," Create Invoice"]}),i.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[i.jsx(an,{size:20})," Create Quote"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length}),i.jsx("p",{className:"text-sm text-gray-500",children:ma(v)})]}),i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Paid Invoices"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.length}),i.jsx("p",{className:"text-sm text-gray-500",children:ma(x.reduce((j,A)=>j+A.amount,0))})]}),i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:_.length}),i.jsx("p",{className:"text-sm text-gray-500",children:ma(_.reduce((j,A)=>j+A.amount,0))})]}),i.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Quotes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:w.length}),i.jsx("p",{className:"text-sm text-gray-500",children:ma(w.reduce((j,A)=>j+A.amount,0))})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"-mb-px flex gap-6 px-6",children:[i.jsxs("button",{onClick:()=>c("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Invoices (",t.length,")"]}),i.jsxs("button",{onClick:()=>c("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${l==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Quotes (",e.length,")"]})]})}),i.jsxs("div",{className:"p-6",children:[l==="invoices"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Invoice Management"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>{const j=[["Invoice #","Work Order","Customer","Date","Amount","Status"],...t.map(C=>[C.id,C.workOrderId||"N/A",C.customerName,new Date(C.date).toLocaleDateString(),C.amount,C.status])].map(C=>C.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),I=window.URL.createObjectURL(A),N=document.createElement("a");N.href=I,N.download="invoices.csv",document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(I)},className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[i.jsx(Ic,{size:16})," Export"]}),i.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[i.jsx(lm,{size:16})," Refresh"]})]})]}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Invoice #"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Work Order"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Customer"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(j=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:j.id}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.workOrderId||"N/A"}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.customerName}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(j.date).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:ma(j.amount)}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status})}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>alert(`Viewing invoice ${j.id}
Customer: ${j.customerName}
Amount: ${ma(j.amount)}
Status: ${j.status}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),i.jsx("button",{onClick:()=>alert(`Sending invoice ${j.id} to ${j.customerName}`),className:"text-green-600 hover:text-green-800 font-medium",children:"Send"}),i.jsx("button",{onClick:()=>alert(`Edit functionality for invoice ${j.id} would open in a modal`),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"})]})})]},j.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zr,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Invoices Yet"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first invoice from a completed work order."}),i.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700",children:"Create Invoice"})]})]}),l==="quotes"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Quote Management"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>{const j=[["Quote #","Customer","Description","Date","Amount","Status"],...e.map(C=>[C.id,C.customerName,C.description,new Date(C.date).toLocaleDateString(),C.amount,C.status])].map(C=>C.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),I=window.URL.createObjectURL(A),N=document.createElement("a");N.href=I,N.download="quotes.csv",document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(I)},className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[i.jsx(Ic,{size:16})," Export"]}),i.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[i.jsx(lm,{size:16})," Refresh"]})]})]}),e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Quote #"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Customer"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Description"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Amount"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(j=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:j.id}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.customerName}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.description}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(j.date).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:ma(j.amount)}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(j.status)}`,children:j.status})}),i.jsx("td",{className:"px-4 py-3 text-sm",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>alert(`Viewing quote ${j.id}
Customer: ${j.customerName}
Amount: ${ma(j.amount)}
Description: ${j.description}
Status: ${j.status}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),i.jsx("button",{onClick:()=>alert(`Sending quote ${j.id} to ${j.customerName}`),className:"text-green-600 hover:text-green-800 font-medium",children:"Send"}),i.jsx("button",{onClick:()=>alert(`Edit functionality for quote ${j.id} would open in a modal`),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"}),i.jsx("button",{onClick:()=>alert(`Converting quote ${j.id} to invoice for ${j.customerName}`),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Convert"})]})})]},j.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zr,{size:48,className:"mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quotes Yet"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first quote for potential customers."}),i.jsx("button",{onClick:()=>m(!0),className:"bg-green-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-green-700",children:"Create Quote"})]})]})]})]}),d&&i.jsx(_oe,{workOrders:r,customers:n,onClose:()=>h(!1),onAddInvoice:a}),p&&i.jsx(koe,{customers:n,onClose:()=>m(!1),onAddQuote:s})]})},Voe=()=>{const[t,e]=B.useState(poe),[r,n]=B.useState(foe),[a,s]=B.useState(moe),[l,c]=B.useState(goe),[d,h]=B.useState(yoe),[p,m]=B.useState(""),[v,x]=B.useState("All"),[_,w]=B.useState(null),[b,S]=B.useState(!1),[j,A]=B.useState("dashboard"),I=B.useMemo(()=>t.filter(te=>(v==="All"||te["Order Status"]===v)&&Object.values(te).some(X=>String(X).toLowerCase().includes(p.toLowerCase()))),[t,p,v]),N=(te,X)=>{e(t.map(K=>K.id===te?{...K,...X}:K)),w(K=>({...K,...X}))},C=(te,X,K)=>{if(!X.trim())return;const ne={text:X.trim(),timestamp:new Date().toISOString()},W=t.map(Q=>Q.id===te?{...Q,notes:[...Q.notes||[],ne]}:Q);e(W),w(Q=>({...Q,notes:[...Q.notes||[],ne]})),K()},P=te=>{const X=`WO-${Date.now()}`,K={...te,"WO#":X,id:X,"Created Date":oN(new Date),"Order Status":te["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]};e(ne=>[K,...ne]),S(!1)},O=te=>{const X={...te,id:Date.now()};n(K=>[...K,X])},L=te=>{n(r.map(X=>X.id===te.id?te:X))},R=(te,X)=>{n(r.map(K=>K.id===te?{...K,locations:[...K.locations,X]}:K))},D=te=>{const X={...te,id:Date.now()};s(K=>[...K,X])},F=te=>{s(a.map(X=>X.id===te.id?te:X))},$=te=>{const X=a.find(K=>K.id===te);X&&(e(t.map(K=>({...K,technician:K.technician.filter(ne=>ne!==X.name)}))),s(a.filter(K=>K.id!==te)))},re=te=>{c(X=>[te,...X])},ae=te=>{h(X=>[te,...X])},Z=()=>{switch(j){case"customers":return i.jsx(Doe,{customers:r,onAddCustomer:O,onUpdateCustomer:L,onAddLocation:R});case"dispatch":return i.jsx(Ooe,{workOrders:t,technicians:a,onSelectOrder:w,onUpdateOrder:N});case"technicians":return i.jsx(Moe,{technicians:a,onAddTechnician:D,onUpdateTechnician:F,onDeleteTechnician:$});case"route":return i.jsx(Roe,{workOrders:t,technicians:a});case"reporting":return i.jsx($oe,{workOrders:t,technicians:a});case"billing":return i.jsx(Foe,{invoices:l,quotes:d,workOrders:t,customers:r,onAddInvoice:re,onAddQuote:ae});case"dashboard":default:return i.jsx(Ioe,{orders:I,onSelectOrder:w,searchTerm:p,setSearchTerm:m,statusFilter:v,setStatusFilter:x})}};return i.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[i.jsx(Coe,{currentView:j,setCurrentView:A,onAddOrderClick:()=>S(!0)}),i.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Z()}),_&&i.jsx(Loe,{order:_,onClose:()=>w(null),onUpdate:N,onAddNote:C,technicians:a}),b&&i.jsx(Eoe,{customers:r,onAddOrder:P,onClose:()=>S(!1)})]})},Boe=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:s,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,v]=B.useState("name"),[x,_]=B.useState("asc"),[w,b]=B.useState("all"),[S,j]=B.useState("all"),[A,I]=B.useState("hierarchy"),[N,C]=B.useState(new Set),[P,O]=B.useState(!1),[L,R]=B.useState(!1),[D,F]=B.useState(""),[$,re]=B.useState(null),ae=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),Z=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),te=B.useMemo(()=>{let q=t.filter(ue=>{const _e=(ue.name||"").toLowerCase().includes(a.toLowerCase())||(ue.address||"").toLowerCase().includes(a.toLowerCase())||(ue.email||"").toLowerCase().includes(a.toLowerCase())||(ue.phone||"").includes(a),Ie=w==="all"||w==="parent"&&(!ue.parentId||ue.parentId==="")||w==="location"&&ue.parentId&&ue.parentId!==""||w==="unassigned"&&(!ue.parentId||ue.parentId==="")||w==="active"&&ue.status==="Active"||w==="inactive"&&ue.status==="Inactive",Ue=S==="all"||ue.parentId===S||ue.id===S;return _e&&Ie&&Ue});return q.sort((ue,_e)=>{let Ie=ue[m]||"",Ue=_e[m]||"";return m==="name"&&(Ie=Ie.toLowerCase(),Ue=Ue.toLowerCase()),x==="asc"?Ie<Ue?-1:Ie>Ue?1:0:Ie>Ue?-1:Ie<Ue?1:0}),q},[t,a,m,x,w,S]),X=B.useMemo(()=>te.filter(ue=>!ue.parentId||ue.parentId==="").map(ue=>({...ue,children:te.filter(_e=>_e.parentId===ue.id)})),[te]),K=q=>{m===q?_(x==="asc"?"desc":"asc"):(v(q),_("asc"))},ne=q=>{const ue=new Set(N);ue.has(q)?ue.delete(q):ue.add(q),C(ue)},W=q=>{q.target.checked?c(te.map(ue=>ue.id)):c([])},Q=()=>{if(l.length>0&&D){const q=l.map(ue=>({id:ue,parentId:D}));p&&p("client",q),c([]),R(!1),F("")}},J=()=>{if(l.length>0){const q=l.map(ue=>({id:ue,parentId:""}));p&&p("client",q),c([])}},le=(q,ue)=>{re(ue),q.dataTransfer.effectAllowed="move"},ge=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},he=(q,ue)=>{if(q.preventDefault(),$&&$.id!==ue.id){const _e={id:$.id,parentId:ue.id};p&&p("client",[_e])}re(null)},de=q=>{const ue=t.filter(_e=>_e.parentId===q.id).map(_e=>_e.id);c(_e=>{const Ie=new Set([..._e,q.id,...ue]);return Array.from(Ie)})},be=({client:q,isChild:ue=!1,parent:_e=null})=>i.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${ue?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${l.includes(q.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!ue,onDragStart:Ie=>le(Ie,q),onDragOver:ge,onDrop:Ie=>!ue&&he(Ie,q),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("input",{type:"checkbox",checked:l.includes(q.id),onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])},className:"rounded"}),ue?i.jsx(Jo,{className:"h-4 w-4 text-blue-500"}):i.jsx(KT,{className:"h-5 w-5 text-purple-600"}),i.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.name}),q.status&&i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:q.status}),ue&&_e&&i.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["↳ ",_e.name]})]}),i.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[q.address&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(S0,{className:"h-4 w-4"}),i.jsx("span",{children:q.address})]}),q.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(om,{className:"h-4 w-4"}),i.jsx("span",{children:q.phone})]}),q.email&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sm,{className:"h-4 w-4"}),i.jsx("span",{children:q.email})]})]})]}),i.jsxs("div",{className:"flex gap-1 ml-4",children:[!ue&&i.jsx("button",{onClick:()=>de(q),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:i.jsx($a,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>e("client",q),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:i.jsx(rn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>r("client",q.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:i.jsx(nr,{className:"h-4 w-4"})})]})]})}),z=()=>i.jsxs("div",{className:"space-y-6",children:[Z.length>0&&i.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[i.jsx($a,{className:"h-5 w-5"}),"Unassigned Clients (",Z.filter(q=>te.includes(q)).length,")"]}),i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),i.jsx("div",{className:"space-y-2",children:Z.filter(q=>te.includes(q)).map(q=>i.jsx(be,{client:q},q.id))})]}),X.filter(q=>q.children.length>0).map(q=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>ne(q.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:N.has(q.id)?i.jsx(Ld,{className:"h-4 w-4"}):i.jsx(Xk,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex-1",children:i.jsx(be,{client:q})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[q.children.length," locations"]}),i.jsx("button",{onClick:()=>de(q),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),N.has(q.id)&&i.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:q.children.map(ue=>i.jsx(be,{client:ue,isChild:!0,parent:q},ue.id))})]},q.id))]}),me=()=>i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:i.jsx("input",{type:"checkbox",onChange:W})}),i.jsx("th",{className:"p-3",children:i.jsxs("button",{onClick:()=>K("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?i.jsx(Wo,{className:"h-3 w-3"}):i.jsx(zo,{className:"h-3 w-3"}))]})}),i.jsx("th",{className:"p-3",children:"Type"}),i.jsx("th",{className:"p-3",children:i.jsxs("button",{onClick:()=>K("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?i.jsx(Wo,{className:"h-3 w-3"}):i.jsx(zo,{className:"h-3 w-3"}))]})}),i.jsx("th",{className:"p-3",children:"Contact"}),i.jsx("th",{className:"p-3",children:"Parent Company"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:te.map(q=>{const ue=ae.find(Ie=>Ie.id===q.parentId),_e=l.includes(q.id);return i.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[i.jsx("td",{className:"p-3",children:i.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])}})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[q.parentId?i.jsx(Jo,{className:"h-4 w-4 text-blue-500"}):i.jsx(KT,{className:"h-4 w-4 text-purple-600"}),i.jsx("span",{className:"font-medium",children:q.name})]})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:q.parentId?"Location":"Parent"})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{children:q.address})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"space-y-1",children:[q.phone&&i.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[i.jsx(om,{className:"h-3 w-3"}),i.jsx("span",{children:q.phone})]}),q.email&&i.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[i.jsx(sm,{className:"h-3 w-3"}),i.jsx("span",{children:q.email})]})]})}),i.jsx("td",{className:"p-3",children:ue?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Nq,{className:"h-3 w-3 text-slate-400"}),i.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue.name})]}):i.jsx("span",{className:"text-xs text-slate-400",children:"—"})}),i.jsxs("td",{className:"p-3 text-center",children:[i.jsx("button",{onClick:()=>e("client",q),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("client",q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:i.jsx(nr,{size:16})})]})]},q.id)})})]})}),xe=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:te.map(q=>{const ue=ae.find(_e=>_e.id===q.parentId);return i.jsx(be,{client:q,isChild:!!q.parentId,parent:ue},q.id)})});return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[te.length," of ",t.length," clients",l.length>0&&` • ${l.length} selected`]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(Pq,{size:16})," Assign Parent (",l.length,")"]}),i.jsxs("button",{onClick:J,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(Bq,{size:16})," Remove Parent"]}),i.jsxs("button",{onClick:()=>n("client",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(nr,{size:16})," Delete (",l.length,")"]})]}),i.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:q=>d(q.target.files[0],"client")}),i.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[i.jsx(io,{size:16})," Import CSV"]}),i.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Export CSV"]}),i.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add New"]})]})]}),L&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),i.jsx("button",{onClick:()=>R(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(gi,{className:"h-5 w-5"})})]}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",l.length," selected clients to a parent company:"]}),i.jsxs("select",{value:D,onChange:q=>F(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[i.jsx("option",{value:"",children:"Select Parent Company"}),ae.map(q=>i.jsx("option",{value:q.id,children:q.name},q.id))]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>R(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),i.jsx("button",{onClick:Q,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:a,onChange:q=>s(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),i.jsxs("button",{onClick:()=>O(!P),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[i.jsx(xl,{className:"h-4 w-4"}),"Filters",i.jsx(Ld,{className:`h-4 w-4 transition-transform ${P?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[i.jsx("button",{onClick:()=>I("hierarchy"),className:`px-3 py-2 text-sm ${A==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:i.jsx(Vq,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>I("list"),className:`px-3 py-2 text-sm ${A==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:i.jsx(Iq,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>I("cards"),className:`px-3 py-2 text-sm ${A==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:i.jsx(Cq,{className:"h-4 w-4"})})]})]}),P&&i.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),i.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[i.jsx("option",{value:"all",children:"All Clients"}),i.jsx("option",{value:"parent",children:"Parent Companies Only"}),i.jsx("option",{value:"location",children:"Store Locations Only"}),i.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),i.jsx("option",{value:"active",children:"Active Only"}),i.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),i.jsxs("select",{value:S,onChange:q=>j(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[i.jsx("option",{value:"all",children:"All Companies"}),ae.map(q=>i.jsx("option",{value:q.id,children:q.name},q.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:m,onChange:q=>v(q.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[i.jsx("option",{value:"name",children:"Name"}),i.jsx("option",{value:"address",children:"Address"}),i.jsx("option",{value:"phone",children:"Phone"}),i.jsx("option",{value:"email",children:"Email"})]}),i.jsx("button",{onClick:()=>_(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?i.jsx(Wo,{className:"h-4 w-4"}):i.jsx(zo,{className:"h-4 w-4"})})]})]})]})}),i.jsx("div",{className:"min-h-[400px]",children:te.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[i.jsx($a,{className:"h-12 w-12 mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),i.jsx("p",{className:"text-sm text-center",children:a||w!=="all"||S!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):i.jsxs(i.Fragment,{children:[A==="hierarchy"&&i.jsx(z,{}),A==="list"&&i.jsx(me,{}),A==="cards"&&i.jsx(xe,{})]})})]})},Uoe=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:a="",setSearchTerm:s,jobs:l=[]})=>{const[c,d]=B.useState("all"),[h,p]=B.useState("grid"),[m,v]=B.useState("name"),[x,_]=B.useState("asc"),[w,b]=B.useState([]),[S,j]=B.useState(!1),[A,I]=B.useState(null),[N,C]=B.useState(!1),[P,O]=B.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];B.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const R=({onImport:J})=>{const le=B.useRef(null),ge=he=>{const de=he.target.files[0];de&&(J(de),he.target.value="")};return i.jsxs("div",{className:"inline-block",children:[i.jsx("input",{ref:le,type:"file",accept:".csv",onChange:ge,style:{display:"none"}}),i.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[i.jsx(io,{size:16}),"Import Vehicles"]})]})},D=J=>{if(!J){alert("Please select a file.");return}const le=new FileReader;le.onload=ge=>{try{const de=ge.target.result.split(`
`).filter(xe=>xe.trim());if(de.length<2){alert("CSV file must have at least a header row and one data row.");return}const be=xe=>{const q=[];let ue="",_e=!1;for(let Ie=0;Ie<xe.length;Ie++){const Ue=xe[Ie];Ue==='"'?_e=!_e:Ue===","&&!_e?(q.push(ue.trim()),ue=""):ue+=Ue}return q.push(ue.trim()),q},z=be(de[0]).map(xe=>xe.replace(/"/g,"").trim().toLowerCase()),me=[];for(let xe=1;xe<de.length;xe++){const q=be(de[xe]),ue={};z.forEach((_e,Ie)=>{const Ue=q[Ie]?q[Ie].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?ue.name=Ue:_e.includes("make")?ue.make=Ue.toUpperCase():_e.includes("model")?ue.model=Ue:_e.includes("year")?ue.year=Ue:_e.includes("license")||_e.includes("plate")?ue.licensePlate=Ue:_e.includes("vin")?ue.vin=Ue:_e.includes("mileage")||_e.includes("miles")?ue.currentMileage=parseInt(Ue)||0:_e.includes("status")?ue.status=Ue.toLowerCase()||"active":_e.includes("notes")&&(ue.notes=Ue)}),(ue.name||ue.make&&ue.model)&&(ue.name=ue.name||`${ue.make} ${ue.model}`,ue.status=ue.status||"active",me.push(ue))}if(me.length===0){alert("No valid vehicle records found in the CSV file.");return}me.forEach(xe=>{r("vehicle",xe)}),alert(`Found ${me.length} vehicles to import. Please review and save each one.`)}catch(he){console.error("Error parsing CSV:",he),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(J)},F=()=>{if(w.length===0){alert("No vehicles to export.");return}const J=w.map(z=>({"Vehicle Name":z.name||"",Make:z.make||"",Model:z.model||"",Year:z.year||"","License Plate":z.licensePlate||"",VIN:z.vin||"","Current Mileage":z.currentMileage||0,Status:z.status||"active",Notes:z.notes||"","Date Added":z.createdAt?new Date(z.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(J[0]),ge=[le.join(","),...J.map(z=>le.map(me=>{const xe=z[me];return typeof xe=="string"&&(xe.includes(",")||xe.includes('"')||xe.includes(`
`))?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de),console.log(`Exported ${w.length} vehicles to CSV`)},$=()=>{const J=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(J[0]),ge=[le.join(","),...J.map(z=>le.map(me=>z[me]).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download="vehicle-import-template.csv",document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de)},re=async(J,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",J,le),j(!0);try{const ge=w.filter(he=>he.id!==J);b(ge),await n("vehicle",J),console.log("Vehicle deleted successfully")}catch(ge){console.error("Delete failed, reverting UI:",ge),b([...t]),alert("Failed to delete vehicle: "+ge.message)}finally{j(!1)}}},ae=()=>{let J=0;return w.forEach(le=>{L.forEach(ge=>{if(ge.interval>0){const he=e.filter(me=>me.vehicleId===le.id&&me.serviceType===ge.value).sort((me,xe)=>new Date(xe.date)-new Date(me.date))[0],de=le.currentMileage||0,be=he&&he.mileage||0;de-be>=ge.interval&&J++}})}),J},Z=B.useMemo(()=>{const J=w.filter(q=>!q.status||q.status==="active"),le=w.reduce((q,ue)=>q+(ue.currentMileage||0),0),ge=w.length>0?le/w.length:0,he=new Date().getFullYear(),de=w.reduce((q,ue)=>q+(he-parseInt(ue.year||he)),0),be=w.length>0?de/w.length:0,z=w.filter(q=>(q.currentMileage||0)>1e5).length,me=e.filter(q=>q.date&&new Date(q.date).getFullYear()===he).reduce((q,ue)=>q+(ue.cost||0),0),xe=ae();return{totalVehicles:w.length,activeVehicles:J.length,avgMileage:Math.round(ge),avgAge:be.toFixed(1),highMileageVehicles:z,totalMaintenanceCost:me,overdueMaintenance:xe}},[w,e]),te=J=>{const le=[],ge=J.currentMileage||0;return L.forEach(he=>{if(he.interval>0){const de=e.filter(xe=>xe.vehicleId===J.id&&xe.serviceType===he.value).sort((xe,q)=>new Date(q.date)-new Date(xe.date))[0],be=de&&de.mileage||0,z=ge-be,me=he.interval-z;z>=he.interval?le.push({type:"overdue",service:he.label,mileage:Math.abs(me),severity:"high"}):me<=1e3&&me>0&&le.push({type:"due_soon",service:he.label,mileage:me,severity:"medium"})}}),le.sort((he,de)=>de.severity==="high"?1:-1)},X=B.useMemo(()=>{let J=w;return a&&(J=J.filter(ge=>ge.name?.toLowerCase().includes(a.toLowerCase())||ge.make?.toLowerCase().includes(a.toLowerCase())||ge.model?.toLowerCase().includes(a.toLowerCase())||ge.licensePlate?.toLowerCase().includes(a.toLowerCase())||ge.vin?.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(J=J.filter(ge=>(ge.status||"active")===c)),[...J].sort((ge,he)=>{let de,be;switch(m){case"name":de=ge.name||"",be=he.name||"";break;case"mileage":de=ge.currentMileage||0,be=he.currentMileage||0;break;case"year":de=parseInt(ge.year||0),be=parseInt(he.year||0);break;case"make":de=ge.make||"",be=he.make||"";break;default:de=ge.name||"",be=he.name||""}return typeof de=="string"?x==="asc"?de.localeCompare(be):be.localeCompare(de):x==="asc"?de-be:be-de})},[w,a,c,m,x]),K=J=>{const le=J.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:La,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Pc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:YT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},ne=({title:J,value:le,icon:ge,color:he,subtext:de,onClick:be})=>i.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${be?"cursor-pointer hover:border-blue-300":""}`,onClick:be,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:J}),i.jsx("p",{className:"text-2xl font-bold "+he,children:le}),de&&i.jsx("p",{className:"text-xs text-slate-400",children:de})]}),i.jsx(ge,{size:24,className:he})]})}),W=()=>{const[J,le]=B.useState({vehicleId:A?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),ge=L.find(de=>de.value===J.serviceType),he=de=>{de.preventDefault();const be={...J,cost:parseFloat(J.cost)||0,mileage:parseInt(J.mileage)||0,nextServiceMileage:parseInt(J.nextServiceMileage)||0,createdAt:new Date().toISOString()};!be.nextServiceMileage&&ge?.interval&&(be.nextServiceMileage=be.mileage+ge.interval),r("maintenanceLog",be),C(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return B.useEffect(()=>{ge&&le(de=>({...de,cost:de.cost||ge.cost.toString(),description:de.description||ge.label}))},[ge]),N?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[i.jsx(Os,{className:"text-blue-500",size:24}),"Add Service Record"]}),i.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(YT,{size:24})})]})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),i.jsxs("select",{value:J.vehicleId,onChange:de=>le(be=>({...be,vehicleId:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Select Vehicle"}),w.map(de=>i.jsxs("option",{value:de.id,children:[de.name||"Unnamed"," - ",de.make," ",de.model]},de.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),i.jsxs("select",{value:J.serviceType,onChange:de=>le(be=>({...be,serviceType:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Select Service"}),L.map(de=>i.jsxs("option",{value:de.value,children:[de.label," (",de.category,")"]},de.value))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),i.jsx("input",{type:"date",value:J.date,onChange:de=>le(be=>({...be,date:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),i.jsx("input",{type:"number",value:J.mileage,onChange:de=>le(be=>({...be,mileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),i.jsx("input",{type:"number",step:"0.01",value:J.cost,onChange:de=>le(be=>({...be,cost:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),i.jsx("input",{type:"number",value:J.nextServiceMileage,onChange:de=>le(be=>({...be,nextServiceMileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:ge?`Auto: ${(parseInt(J.mileage)||0)+ge.interval}`:"Optional"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),i.jsx("input",{type:"text",value:J.description,onChange:de=>le(be=>({...be,description:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),i.jsx("textarea",{value:J.notes,onChange:de=>le(be=>({...be,notes:de.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),i.jsx("button",{type:"button",onClick:he,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},Q=()=>{const J=[...e].sort((le,ge)=>new Date(ge.date)-new Date(le.date));return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[i.jsx(Os,{className:"text-blue-500",size:24}),"Maintenance History"]}),i.jsxs("button",{onClick:()=>{I(null),C(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx($d,{size:18}),"Add Service"]})]}),J.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Date"}),i.jsx("th",{className:"p-3",children:"Vehicle"}),i.jsx("th",{className:"p-3",children:"Service"}),i.jsx("th",{className:"p-3",children:"Mileage"}),i.jsx("th",{className:"p-3",children:"Cost"}),i.jsx("th",{className:"p-3",children:"Next Due"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:J.map(le=>{const ge=w.find(de=>de.id===le.vehicleId),he=L.find(de=>de.value===le.serviceType);return i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[i.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:ge?.name||"Unknown Vehicle"}),i.jsxs("div",{className:"text-xs text-slate-500",children:[ge?.make," ",ge?.model]})]})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:he?.label||le.serviceType}),le.description&&i.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),i.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),i.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),i.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:i.jsx(nr,{size:16})})]})})]},le.id)})})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Os,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),i.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),i.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[i.jsx(j0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),w.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(R,{onImport:D}),i.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[i.jsx(Ic,{size:16}),"Export Vehicles"]}),i.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[i.jsx(zr,{size:16}),"CSV Template"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[i.jsx(ne,{title:"Total Vehicles",value:Z.totalVehicles,icon:yp,color:"text-blue-500"}),i.jsx(ne,{title:"Active Fleet",value:Z.activeVehicles,icon:La,color:"text-green-500",subtext:(Z.activeVehicles/(Z.totalVehicles||1)*100).toFixed(0)+"% active"}),i.jsx(ne,{title:"Avg Mileage",value:Z.avgMileage.toLocaleString(),icon:S0,color:"text-purple-500",subtext:"miles per vehicle"}),i.jsx(ne,{title:"Fleet Age",value:Z.avgAge+" yrs",icon:N0,color:"text-orange-500",subtext:"average age"}),i.jsx(ne,{title:"High Mileage",value:Z.highMileageVehicles,icon:ba,color:"text-amber-500",subtext:">100k miles"}),i.jsx(ne,{title:"Maintenance Cost",value:"$"+Z.totalMaintenanceCost.toLocaleString(),icon:qr,color:"text-emerald-500",subtext:"this year"}),i.jsx(ne,{title:"Overdue Services",value:Z.overdueMaintenance,icon:Fh,color:Z.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>O("maintenance")})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs("nav",{className:"flex",children:[i.jsx("button",{onClick:()=>O("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${P==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yp,{size:18}),"Vehicles (",w.length,")"]})}),i.jsx("button",{onClick:()=>O("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${P==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Os,{size:18}),"Maintenance (",e.length,")",Z.overdueMaintenance>0&&i.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Z.overdueMaintenance})]})})]})}),i.jsx("div",{className:"p-6",children:P==="vehicles"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),i.jsxs("div",{className:"flex items-center gap-2",children:[w.length>0&&i.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?i.jsx(zr,{size:16}):i.jsx(yp,{size:16}),h==="grid"?"Table View":"Grid View"]}),i.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx($d,{size:18}),"Add Vehicle"]})]})]}),w.length>0&&i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),i.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:a,onChange:J=>s(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xl,{size:18,className:"text-slate-400"}),i.jsxs("select",{value:c,onChange:J=>d(J.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"maintenance",children:"In Maintenance"}),i.jsx("option",{value:"retired",children:"Retired"})]}),i.jsxs("select",{value:m,onChange:J=>v(J.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"name",children:"Sort by Name"}),i.jsx("option",{value:"mileage",children:"Sort by Mileage"}),i.jsx("option",{value:"year",children:"Sort by Year"}),i.jsx("option",{value:"make",children:"Sort by Make"})]}),i.jsx("button",{onClick:()=>_(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:i.jsx(ba,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),w.length>0?h==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(J=>{const le=K(J),ge=te(J);return i.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(S?" opacity-50":""),children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(le.icon,{size:24,className:le.color}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:J.name||"Unnamed Vehicle"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>{I(J),C(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:S,children:i.jsx(Os,{size:16})}),i.jsx("button",{onClick:()=>r("vehicle",J),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:S,children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>re(J.id,J.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:S,children:i.jsx(nr,{size:16})})]})]}),ge.length>0&&i.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(C_,{size:16,className:"text-amber-600"}),i.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),i.jsxs("div",{className:"space-y-1",children:[ge.slice(0,2).map((he,de)=>i.jsx("div",{className:"text-xs",children:i.jsxs("span",{className:he.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[he.service,": ",he.type==="overdue"?`${he.mileage} miles overdue`:`due in ${he.mileage} miles`]})},de)),ge.length>2&&i.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",ge.length-2," more alerts"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),i.jsxs("span",{className:"font-medium",children:[J.make||"N/A"," ",J.model||"N/A"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),i.jsx("span",{className:"font-medium",children:J.year||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),i.jsx("span",{className:"font-medium",children:J.licensePlate||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),i.jsxs("span",{className:"font-medium",children:[(J.currentMileage||0).toLocaleString()," mi"]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),i.jsx("span",{className:"font-medium text-xs",children:J.vin||"N/A"})]})]})]},J.id)})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Status"}),i.jsx("th",{className:"p-3",children:"Vehicle"}),i.jsx("th",{className:"p-3",children:"Make/Model"}),i.jsx("th",{className:"p-3",children:"Year"}),i.jsx("th",{className:"p-3",children:"License"}),i.jsx("th",{className:"p-3",children:"Mileage"}),i.jsx("th",{className:"p-3",children:"Alerts"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:X.map(J=>{const le=K(J),ge=te(J);return i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(S?" opacity-50":""),children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(le.icon,{size:16,className:le.color}),i.jsx("span",{className:"text-xs",children:le.label})]})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:J.name||"Unnamed"}),J.vin&&i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",J.vin.slice(-6)]})]})}),i.jsxs("td",{className:"p-3",children:[J.make||"N/A"," ",J.model||"N/A"]}),i.jsx("td",{className:"p-3",children:J.year||"N/A"}),i.jsx("td",{className:"p-3",children:J.licensePlate||"N/A"}),i.jsx("td",{className:"p-3 font-mono",children:(J.currentMileage||0).toLocaleString()}),i.jsx("td",{className:"p-3",children:ge.length>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(C_,{size:14,className:"text-amber-500"}),i.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[ge.length," alert",ge.length>1?"s":""]})]}):i.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"✓ Up to date"})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>{I(J),C(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:S,children:i.jsx(Os,{size:16})}),i.jsx("button",{onClick:()=>r("vehicle",J),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:S,children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>re(J.id,J.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:S,children:i.jsx(nr,{size:16})})]})})]},J.id)})})]})}):i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:i.jsx(yp,{size:40,className:"text-slate-400 dark:text-slate-500"})}),i.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),i.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),i.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:S,children:"Add Your First Vehicle"})]})]}):i.jsx(Q,{})})]}),i.jsx(W,{}),S&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},qoe=()=>{const[t,e]=B.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=B.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[a,s]=B.useState(0),[l,c]=B.useState(2.75),[d,h]=B.useState(0);B.useEffect(()=>{const j=Object.values(t).map(A=>parseFloat(A)||0).reduce((A,I)=>A+I,0);s(j)},[t]),B.useEffect(()=>{const j=Object.values(r).reduce((A,I)=>A+I,0)/6;j<=.5?c(2+j*1.5):j<=1.5?c(2.75+(j-.5)*.75):c(3.5+(j-1.5)*2)},[r]),B.useEffect(()=>{h(a*l)},[a,l]);const p=(S,j)=>{e(A=>({...A,[S]:j}))},m=(S,j)=>{n(A=>({...A,[S]:j}))},v=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),x=()=>l<2.75?"Conservative Range":l<3.5?"Average Range":"Premium Range",_=()=>l<2.75?"text-red-600 dark:text-red-400":l<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",w=()=>{const j=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",v(parseFloat(t.netProfit)||0)],["Owner Salary",v(parseFloat(t.ownerSalary)||0)],["Owner Perks",v(parseFloat(t.ownerPerks)||0)],["Depreciation",v(parseFloat(t.depreciation)||0)],["Amortization",v(parseFloat(t.amortization)||0)],["Interest Expense",v(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",v(a)],[""],["Valuation Results"],["SDE",v(a)],["Multiple",l.toFixed(2)+"x"],["Estimated Business Value",v(d)]].map(C=>C.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),I=window.URL.createObjectURL(A),N=document.createElement("a");N.href=I,N.download="hvac-business-valuation.csv",N.click(),window.URL.revokeObjectURL(I)},b=[{field:"recurringRevenue",title:"Recurring Revenue",icon:i.jsx(ba,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:i.jsx($a,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:i.jsx(Jo,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:i.jsx(qr,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:i.jsx($a,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:i.jsx($q,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[i.jsx("div",{className:"bg-blue-600 text-white p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(bc,{className:"w-8 h-8"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),i.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),i.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:S,label:j,desc:A})=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:j}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:A})]}),i.jsx("div",{className:"w-32",children:i.jsx("input",{type:"number",value:t[S],onChange:I=>p(S,I.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},S))}),i.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v(a)})]})})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),i.jsx("span",{className:"font-semibold",children:v(a)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),i.jsxs("span",{className:`font-semibold ${_()}`,children:[l.toFixed(2),"x (",x(),")"]})]}),i.jsx("div",{className:"border-t pt-2",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),i.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:v(d)})]})})]}),i.jsxs("button",{onClick:w,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ic,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),i.jsx("div",{className:"space-y-6",children:b.map(({field:S,title:j,icon:A,options:I})=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[A,i.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:j})]}),i.jsx("div",{className:"space-y-2",children:I.map((N,C)=>i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[i.jsx("input",{type:"radio",name:S,value:C,checked:r[S]===C,onChange:P=>m(S,parseInt(P.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),i.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${C===0?"text-red-600 dark:text-red-400":C===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:N})]},C))})]},S))}),i.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),i.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000 × 3.5 = $700,000 estimated value."})]}),i.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},zoe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:s,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:x=>i.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>i.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>i.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=B.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(a.toLowerCase())),[t,a]),v=x=>{x.target.checked?c(m.map(_=>_.id)):c([])};return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"text",placeholder:"Search Inventory...",value:a,onChange:x=>s(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),l.length>0&&i.jsxs("button",{onClick:()=>n("inventory",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(nr,{size:16})," Delete (",l.length,")"]}),i.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),i.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[i.jsx(io,{size:16})," Import CSV"]}),i.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Export to CSV"]}),i.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add New"]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:i.jsx("input",{type:"checkbox",onChange:v})}),p.map(x=>i.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:m.map(x=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[i.jsx("td",{className:"p-3",children:i.jsx("input",{type:"checkbox",checked:l.includes(x.id),onChange:()=>{c(_=>_.includes(x.id)?_.filter(w=>w!==x.id):[..._,x.id])}})}),p.map(_=>i.jsx("td",{className:`p-3 ${_.className||""}`,children:_.render(x)},_.key)),i.jsxs("td",{className:"p-3 text-center",children:[i.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:i.jsx(nr,{size:16})})]})]},x.id))})]})})]})},Woe=({clients:t,jobs:e,bills:r,inventory:n})=>{const a=B.useMemo(()=>t.map(c=>{const d=e.filter(m=>m.clientId===c.id),h=d.reduce((m,v)=>m+(v.revenue||0),0),p=d.reduce((m,v)=>m+(v.materialCost||0)+(v.laborCost||0),0);return{name:c.name,netProfit:h-p}}).sort((c,d)=>d.netProfit-c.netProfit),[t,e]),s=B.useMemo(()=>{const c={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);c[p]||(c[p]={revenue:0,expenses:0}),c[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);c[m]||(c[m]={revenue:0,expenses:0}),c[m].expenses+=h.amount||0}}),Object.keys(c).map(h=>({month:h,Revenue:c[h].revenue,Expenses:c[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),l=B.useMemo(()=>n.map(c=>({name:c.name,totalValue:(c.quantity||0)*(c.cost||0)})).sort((c,d)=>d.totalValue-c.totalValue),[n]);return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),i.jsx(wj,{width:"100%",height:300,children:i.jsxs(t$,{data:s,children:[i.jsx(iN,{strokeDasharray:"3 3"}),i.jsx(Kh,{dataKey:"month",stroke:"#64748b"}),i.jsx(Yh,{stroke:"#64748b",tickFormatter:c=>`$${c/1e3}k`}),i.jsx(ga,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:c=>`$${c.toLocaleString()}`}),i.jsx(Ys,{}),i.jsx(pi,{dataKey:"Revenue",fill:"#22c55e"}),i.jsx(pi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Client"}),i.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),i.jsx("tbody",{children:a.map(c=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[i.jsx("td",{className:"p-3 font-medium",children:c.name}),i.jsxs("td",{className:`p-3 text-right font-mono ${c.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",c.netProfit.toFixed(2)]})]},c.name))})]})})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Item"}),i.jsx("th",{className:"p-3 text-center",children:"Quantity"}),i.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),i.jsx("tbody",{children:l.map(c=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[i.jsx("td",{className:"p-3 font-medium",children:c.name}),i.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===c.name)?.quantity}),i.jsxs("td",{className:"p-3 text-right font-mono",children:["$",c.totalValue.toFixed(2)]})]},c.name))})]})})]})]})},Hoe=({bills:t,paidStatus:e,onClose:r})=>{const n=B.useMemo(()=>{const a=new Date,s=new Date;return s.setDate(a.getDate()+3),t.filter(l=>{if(e[l.id])return!1;const c=new Date(a.getFullYear(),a.getMonth(),l.dueDay);return c>=a&&c<=s})},[t,e]);return n.length===0?null:i.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(C_,{size:20,className:"mr-3"}),i.jsxs("div",{children:[i.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),i.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(a=>i.jsxs("li",{children:[a.name," is due on day ",a.dueDay,"."]},a.id))})]})]}),i.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(gi,{size:18})})]})},Goe=({data:t,onSliceClick:e})=>{const[r,n]=B.useState(0),a=B.useCallback((l,c)=>{n(c)},[n]),s=l=>{const{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:v,fill:x,payload:_}=l;return i.jsxs("g",{className:"cursor-pointer",onClick:()=>e(_.name),children:[i.jsx("text",{x:c,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:_.name}),i.jsx(Gj,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:v,fill:x})]})};return i.jsx(wj,{width:"100%",height:300,children:i.jsxs(ooe,{children:[i.jsx(ga,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:l=>`$${l.toFixed(2)}`}),i.jsx(os,{activeIndex:r,activeShape:s,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:a,onClick:l=>e(l.name),children:t.map((l,c)=>i.jsx(F0,{fill:l.color},`cell-${c}`))})]})})},Koe=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:a})=>{const s=x=>{if(x==null||x==="")return 0;const _=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(_)?0:_},l=t.filter(x=>x.status==="Unpaid"),c=l.reduce((x,_)=>x+s(_.grandTotal),0),d=e.reduce((x,_)=>x+s(_.amount),0),h=r.reduce((x,_)=>x+s(_.amount),0)*4.33,p=d+h,m=s(n)+c-p,v=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const _=parseFloat(x);_>=0?a(_):alert("Please enter a positive number for the balance.")}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",s(n).toLocaleString()]})]}),i.jsx(qr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),i.jsx("button",{onClick:v,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),i.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),i.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",c.toLocaleString()]})]}),i.jsx(ba,{className:"text-green-600 dark:text-green-400",size:24})]}),i.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[l.length," unpaid invoices"]})]}),i.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),i.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),i.jsx(M4,{className:"text-red-600 dark:text-red-400",size:24})]}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),i.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),i.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?i.jsx(ba,{className:"text-green-600 dark:text-green-400",size:24}):i.jsx(Pc,{className:"text-red-600 dark:text-red-400",size:24})]}),i.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:l.length>0?l.map((x,_)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),i.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",s(x.grandTotal).toLocaleString()]})]},_)):i.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),i.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),i.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",h.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[i.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),i.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&i.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pc,{className:"text-red-600 dark:text-red-400",size:20}),i.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),i.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),s(n)===0&&i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qr,{className:"text-blue-600 dark:text-blue-400",size:20}),i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),i.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},Yoe=({title:t,data:e,columns:r,type:n,searchTerm:a,setSearchTerm:s,handleImportCSV:l,handleExportCSV:c,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),i.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[i.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:m=>s(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&i.jsxs(i.Fragment,{children:[i.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>l(m.target.files[0],n)}),i.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[i.jsx(io,{size:16})," Import CSV"]})]}),i.jsxs("button",{onClick:()=>c(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Export to CSV"]}),i.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16})," Add New"]})]})]}),n==="debt"&&p&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),i.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>i.jsxs("li",{children:[m.name," ",i.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),i.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),i.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>i.jsxs("li",{children:[m.name," ",i.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[r.map(m=>i.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:e.map(m=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(v=>i.jsx("td",{className:`p-3 ${v.className||""}`,children:v.render(m)},v.key)),i.jsxs("td",{className:"p-3 text-center",children:[i.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:i.jsx(nr,{size:16})})]})]},m.id))})]})})]}),Qoe=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:a,setSearchTerm:s,handleImportCSV:l,handleExportCSV:c})=>{const d=[{key:"name",header:"Job/Client",render:h=>i.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>i.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>i.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>i.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>i.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return i.jsx(Yoe,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:a,setSearchTerm:s,handleImportCSV:l,handleExportCSV:c,openModal:r,handleDelete:n})},Xoe=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:a})=>{const s=B.useMemo(()=>{const c=t.filter(j=>{if(!j.date)return!1;const A=new Date(j.date);return A>=a.start&&A<=a.end}),d=c.reduce((j,A)=>j+(A.revenue||0),0),h=c.reduce((j,A)=>j+(A.materialCost||0)+(A.laborCost||0),0),p=d-h,m=(a.end-a.start)/(1e3*60*60*24*30.44),v=e.reduce((j,A)=>{const I=A.category||"Uncategorized";return j[I]=(j[I]||0)+A.amount,j},{}),x=r.reduce((j,A)=>j+A.amount,0)*m;x>0&&(v["Weekly & Misc"]=(v["Weekly & Misc"]||0)+x);const _=Object.values(v).reduce((j,A)=>j+A,0),w=p-_,b=d>0?p/d*100:0,S=d>0?w/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:_,expensesByCategory:v,netProfit:w,grossProfitMargin:b,netProfitMargin:S}},[t,e,r,a]),l=()=>{const c={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${a.start.toLocaleString("default",c)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${a.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${a.start.getFullYear()}`:""};return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l()}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[i.jsx("span",{children:"Total Revenue"}),i.jsxs("span",{className:"font-mono",children:["$",s.revenue.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),i.jsxs("span",{className:"font-mono",children:["($",s.cogs.toFixed(2),")"]})]}),i.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),i.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[i.jsx("span",{children:"Gross Profit"}),i.jsxs("span",{className:"font-mono",children:["$",s.grossProfit.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[i.jsx("span",{children:"Gross Profit Margin"}),i.jsxs("span",{className:"font-mono",children:[s.grossProfitMargin.toFixed(1),"%"]})]}),i.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),i.jsx("div",{className:"p-3 font-semibold",children:i.jsx("span",{children:"Operating Expenses"})}),Object.entries(s.expensesByCategory).map(([c,d])=>i.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:c}),i.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},c)),i.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[i.jsx("span",{children:"Total Operating Expenses"}),i.jsxs("span",{className:"font-mono",children:["($",s.operatingExpenses.toFixed(2),")"]})]}),i.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),i.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:s.netProfit>=0?"#22c55e":"#ef4444"},children:[i.jsx("span",{children:"Net Profit"}),i.jsx("span",{className:"font-mono",children:s.netProfit<0?`-$${Math.abs(s.netProfit).toFixed(2)}`:`$${s.netProfit.toFixed(2)}`})]}),i.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[i.jsx("span",{children:"Net Profit Margin"}),i.jsxs("span",{className:"font-mono",children:[s.netProfitMargin.toFixed(1),"%"]})]})]})]})},Joe=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:a,handleImportCSV:s,handleExportCSV:l,debtPayoffStrategies:c={avalanche:[],snowball:[]}})=>{const[d,h]=B.useState("overview"),[p,m]=B.useState("avalanche"),[v,x]=B.useState(500),_=B.useMemo(()=>{const N=t.reduce((D,F)=>D+(F.totalAmount||0),0),C=t.reduce((D,F)=>D+(F.paidAmount||0),0),P=N-C,O=t.length>0?t.reduce((D,F)=>D+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),R=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:N,totalPaid:C,totalRemaining:P,avgInterestRate:O,highestInterest:L,lowestBalance:R===1/0?0:R,payoffProgress:N>0?C/N*100:0}},[t]),w=N=>{const C=c[N]||[];let P=[],O=0,L=v;return C.forEach((R,D)=>{const F=(R.totalAmount||0)-(R.paidAmount||0),$=(R.interestRate||0)/100/12;if(F>0&&L>0){const re=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));P.push({...R,monthsToPayoff:isFinite(re)?re:0,order:D+1,remaining:F}),O=Math.max(O,re)}}),{timeline:P,totalMonthsToPayoff:O}},b=w("avalanche"),S=w("snowball"),j=B.useMemo(()=>n?t.filter(N=>N.name?.toLowerCase().includes(n.toLowerCase())||N.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),A=N=>(N.totalAmount||0)-(N.paidAmount||0)<=0?"text-green-600 dark:text-green-400":N.interestRate>20?"text-red-600 dark:text-red-400":N.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",I=N=>N.interestRate>20?i.jsx(Pc,{className:"text-red-500",size:16}):N.interestRate>10?i.jsx(ba,{className:"text-yellow-500",size:16}):i.jsx(La,{className:"text-green-500",size:16});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:()=>s&&s(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(io,{size:16}),"Import"]}),i.jsxs("button",{onClick:()=>l&&l(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(Ic,{size:16}),"Export"]}),i.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(an,{size:18}),"Add Debt"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),i.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",_.totalDebt.toLocaleString()]})]}),i.jsx(tv,{className:"text-red-600 dark:text-red-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",_.totalRemaining.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",_.totalPaid.toLocaleString()]})]}),i.jsx(La,{className:"text-green-600 dark:text-green-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[_.payoffProgress.toFixed(1),"% complete"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[_.avgInterestRate.toFixed(1),"%"]})]}),i.jsx(D4,{className:"text-orange-600 dark:text-orange-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",_.highestInterest,"%"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(N=>N.totalAmount-N.paidAmount>0).length})]}),i.jsx(j0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),i.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx(tv,{size:16}),"Overview"]}),i.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx(Fd,{size:16}),"Payoff Strategies"]}),i.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx(bc,{size:16}),"Calculator"]})]})}),d==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:j.length===0?i.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[i.jsx(tv,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),i.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),i.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:j.map(N=>{const C=(N.totalAmount||0)-(N.paidAmount||0),P=N.totalAmount>0?(N.paidAmount||0)/N.totalAmount*100:0;return i.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[I(N),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),N.creditor&&i.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.creditor})]})]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("span",{className:`font-mono font-semibold ${A(N)}`,children:[(N.interestRate||0).toFixed(1),"%"]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(N.totalAmount||0).toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(N.paidAmount||0).toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",C.toLocaleString()]})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:i.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(P,100)}%`}})}),i.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[P.toFixed(1),"%"]})]}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>e("debt",N),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("debt",N.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:i.jsx(nr,{size:16})})]})})]},N.id)})})]})})})]}),d==="strategies"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(M4,{className:"text-purple-600",size:20}),i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),i.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Uq,{className:"text-purple-600",size:20}),i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",S.totalMonthsToPayoff," months"]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"number",value:v,onChange:N=>x(parseFloat(N.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),i.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:S.timeline).map((N,C)=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:N.order}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),i.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",N.remaining.toLocaleString()," remaining at ",N.interestRate,"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[N.monthsToPayoff," months"]}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},N.id))})]})]}),d==="calculator"&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),i.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[i.jsx(bc,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Advanced debt calculator coming soon!"}),i.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},Zoe=({incomes:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[s,l]=B.useState("all"),[c,d]=B.useState("all"),[h,p]=B.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],v=["all","active","pending","completed","paused"],x=B.useMemo(()=>t.filter(N=>{const C=N.name.toLowerCase().includes(n.toLowerCase())||N.notes&&N.notes.toLowerCase().includes(n.toLowerCase()),P=s==="all"||N.type===s,O=c==="all"||N.status===c;return C&&P&&O}).sort((N,C)=>{if(h.key==="amount"){const P=parseFloat(N.amount)||0,O=parseFloat(C.amount)||0;return h.direction==="asc"?P-O:O-P}return h.key==="name"?h.direction==="asc"?N.name.localeCompare(C.name):C.name.localeCompare(N.name):0}),[t,n,s,c,h]),_=B.useMemo(()=>{const I=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),C=I.map(D=>{const F=parseFloat(D.amount)||0;switch(D.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((D,F)=>D+F,0),P=C*12,O=t.reduce((D,F)=>{const $=F.type||"monthly",re=parseFloat(F.amount)||0;return D[$]=(D[$]||0)+re,D},{}),L=t.reduce((D,F)=>{const $=F.status||"active";return D[$]=(D[$]||0)+1,D},{}),R=t.reduce((D,F)=>{const $=parseFloat(F.amount)||0;return $>D.amount?{name:F.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:C,totalAnnualIncome:P,typeBreakdown:O,statusBreakdown:L,highestIncome:R,activeCount:I.length,totalCount:t.length,averageIncome:I.length>0?C/I.length:0}},[t]),w=I=>{p(N=>({key:I,direction:N.key===I&&N.direction==="desc"?"asc":"desc"}))},b=I=>{switch(I){case"active":return i.jsx(La,{size:14,className:"text-green-500"});case"pending":return i.jsx(N0,{size:14,className:"text-yellow-500"});case"completed":return i.jsx(La,{size:14,className:"text-blue-500"});case"paused":return i.jsx(Pc,{size:14,className:"text-red-500"});default:return i.jsx(La,{size:14,className:"text-green-500"})}},S=I=>{const N={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return N[I]||N.monthly},j=(I,N)=>{const C=parseFloat(I)||0;switch(N){case"weekly":return C*4.33;case"quarterly":return C/3;case"annually":return C/12;case"monthly":default:return C}},A=()=>{if(t.length===0){alert("No income sources to export.");return}try{const I=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],N=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),R.type||"monthly",j(R.amount,R.type).toFixed(2),(j(R.amount,R.type)*12).toFixed(2),R.status||"active",R.isRecurring?"Yes":"No",R.notes||""]),C=[I.join(","),...N.map(R=>R.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),P=new Blob([C],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),L=URL.createObjectURL(P);O.setAttribute("href",L),O.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O),alert(`Successfully exported ${t.length} income sources!`)}catch(I){console.error("Error exporting CSV:",I),alert("Failed to export CSV: "+I.message)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",_.totalMonthlyIncome.toLocaleString()]})]}),i.jsx(qr,{className:"text-green-600 dark:text-green-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[_.activeCount," active sources"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",_.totalAnnualIncome.toLocaleString()]})]}),i.jsx(ba,{className:"text-blue-600 dark:text-blue-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",_.averageIncome.toLocaleString()]})]}),i.jsx(j0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),i.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:_.highestIncome.name})]}),i.jsx(Fd,{className:"text-orange-600 dark:text-orange-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",_.highestIncome.amount.toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16}),"Export CSV"]}),i.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16}),"Add Income Source"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:I=>a(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xl,{className:"text-slate-400",size:16}),i.jsx("select",{value:s,onChange:I=>l(I.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(I=>i.jsx("option",{value:I,children:I==="all"?"All Types":I.charAt(0).toUpperCase()+I.slice(1).replace("-"," ")},I))}),i.jsx("select",{value:c,onChange:I=>d(I.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:v.map(I=>i.jsx("option",{value:I,children:I==="all"?"All Status":I.charAt(0).toUpperCase()+I.slice(1)},I))})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("name"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&i.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),i.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("amount"),children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&i.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),i.jsx("th",{className:"p-3",children:"Type"}),i.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),i.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),i.jsx("th",{className:"p-3",children:"Status"}),i.jsx("th",{className:"p-3",children:"Recurring"}),i.jsx("th",{className:"p-3",children:"Notes"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(I=>{const N=parseFloat(I.amount)||0,C=j(N,I.type),P=C*12;return i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:I.name})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",N.toFixed(2)]})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S(I.type)}`,children:(I.type||"monthly").replace("-"," ")})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",C.toFixed(2)]})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",P.toLocaleString()]})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-1",children:[b(I.status),i.jsx("span",{className:"text-xs capitalize",children:I.status||"active"})]})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${I.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:I.isRecurring?"Yes":"No"})}),i.jsx("td",{className:"p-3 max-w-xs",children:i.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:I.notes&&I.notes.length>30?`${I.notes.substring(0,30)}...`:I.notes||"—"})}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>e("income",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("income",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:i.jsx(nr,{size:16})})]})})]},I.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||s!=="all"||c!=="all"?i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(hi,{size:24,className:"text-slate-400"}),i.jsx("span",{children:"No income sources match your search criteria"}),i.jsx("button",{onClick:()=>{a(""),l("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(qr,{size:24,className:"text-slate-400"}),i.jsx("span",{children:"No income sources added yet"}),i.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&i.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:i.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),i.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[i.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((I,N)=>I+j(N.amount,N.type),0).toFixed(2)]}),i.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((I,N)=>I+j(N.amount,N.type),0)*12).toLocaleString()]})]})]})})]}),_.totalCount>=1&&_.highestIncome.amount>_.totalMonthlyIncome*.7&&i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pc,{className:"text-amber-600 dark:text-amber-400",size:20}),i.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),i.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",_.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},ele=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[a,s]=B.useState(null),[l,c]=B.useState(!1),[d,h]=B.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=j=>{s(j)},m=j=>{r(j),s(null)},v=()=>{s(null)},x=j=>j>=100?"from-green-500 to-emerald-500":j>=80?"from-green-500 to-green-600":j>=50?"from-yellow-500 to-orange-500":j>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",_=j=>{const A=new Date,N=new Date(j)-A,C=Math.ceil(N/(1e3*60*60*24));return C<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:C===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C<=7?{text:`${C} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:C<=30?{text:`${C} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${C} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},w=j=>{const A=j.target-j.current,I=Math.ceil((new Date(j.deadline)-new Date)/(1e3*60*60*24));return I>0?Math.ceil(A/I):0},b=(j,A)=>{console.log("Update goal progress:",j,A)},S=j=>{j.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),c(!1))};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:i.jsx(Fd,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(j=>j.progress>=100).length," of ",t.length," completed"]})]})]}),i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[i.jsx($d,{size:16}),"Add Goal"]})]}),t.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:i.jsx(La,{className:"text-green-600 dark:text-green-400",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),i.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(j=>j.progress>=100).length})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:i.jsx(ba,{className:"text-blue-600 dark:text-blue-400",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),i.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(j=>j.progress>0&&j.progress<100).length})]})]})}),i.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:i.jsx(N0,{className:"text-orange-600 dark:text-orange-400",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),i.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((j,A)=>j+(A.targetValue||0),0).toLocaleString()]})]})]})})]}),i.jsx("div",{className:"space-y-4",children:t.length===0?i.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[i.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:i.jsx(Fd,{size:32,className:"opacity-50"})}),i.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),i.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),i.jsx("button",{onClick:()=>c(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(j=>{const A=j.progress||0,I=A>=100,N=(j.targetValue||0)-(j.current||0),C=_(j.deadline),P=x(A),O=C.text==="Overdue",L=w({target:j.targetValue||0,current:j.current||0,deadline:j.deadline});return i.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${I?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":O?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:a!==j.id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:j.name}),I&&i.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:"✓ Completed"}),j.type&&i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":j.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":j.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":j.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:j.type||"savings"}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.bgColor} ${C.color}`,children:C.text})]}),j.description&&i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:j.description}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),i.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(j.current||0).toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),i.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(j.targetValue||0).toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),i.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",N>0?N.toLocaleString():"0"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),i.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),i.jsxs("div",{className:"flex gap-2 ml-4",children:[i.jsx("button",{onClick:()=>b(j.id,(j.current||0)+(j.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:i.jsx($d,{size:18})}),i.jsx("button",{onClick:()=>b(j.id,Math.max(0,(j.current||0)-(j.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:i.jsx(Dq,{size:18})}),i.jsx("button",{onClick:()=>p(j.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:i.jsx(nr,{size:18})})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),i.jsxs("span",{className:`font-bold ${I?"text-green-600":"text-cyan-600"}`,children:[A.toFixed(1),"%"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:i.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${P}`,style:{width:`${Math.min(A,100)}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),A>15&&i.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:i.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(j.current||0).toLocaleString()]})})]}),i.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[i.jsxs("span",{children:["Deadline: ",new Date(j.deadline).toLocaleDateString()]}),!I&&N>0&&L>0&&i.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:i.jsx(nr,{className:"text-red-600 dark:text-red-400",size:24})}),i.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',j.name,'"?']}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx("button",{onClick:()=>m(j.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),i.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},j.id)})})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),i.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:i.jsx(gi,{size:20})})]}),i.jsxs("form",{onSubmit:S,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),i.jsxs("select",{value:d.type,onChange:j=>h({...d,type:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[i.jsx("option",{value:"savings",children:"💰 Savings Goal"}),i.jsx("option",{value:"debt",children:"💳 Debt Payoff"}),i.jsx("option",{value:"investment",children:"📈 Investment Target"}),i.jsx("option",{value:"purchase",children:"🛍️ Large Purchase"}),i.jsx("option",{value:"emergency",children:"🆘 Emergency Fund"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),i.jsx("input",{type:"text",value:d.name,onChange:j=>h({...d,name:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),i.jsx("textarea",{value:d.description,onChange:j=>h({...d,description:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),i.jsx("input",{type:"number",value:d.current,onChange:j=>h({...d,current:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),i.jsx("input",{type:"number",value:d.target,onChange:j=>h({...d,target:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),i.jsx("input",{type:"date",value:d.deadline,onChange:j=>h({...d,deadline:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),i.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},tle=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[s,l]=B.useState("all"),[c,d]=B.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=B.useMemo(()=>t.filter(w=>{const b=w.name.toLowerCase().includes(n.toLowerCase())||w.notes&&w.notes.toLowerCase().includes(n.toLowerCase()),S=s==="all"||w.category===s;return b&&S}).sort((w,b)=>{if(c.key==="amount"){const S=parseFloat(w.amount)||0,j=parseFloat(b.amount)||0;return c.direction==="asc"?S-j:j-S}return c.key==="name"?c.direction==="asc"?w.name.localeCompare(b.name):b.name.localeCompare(w.name):0}),[t,n,s,c]),m=B.useMemo(()=>{const _=t.reduce((N,C)=>N+(parseFloat(C.amount)||0),0),w=_*4.33,b=_*52,S=t.reduce((N,C)=>(parseFloat(C.amount)||0)>N?parseFloat(C.amount)||0:N,0),j=t.length>0?_/t.length:0,A=t.reduce((N,C)=>{const P=C.category||"Other";return N[P]=(N[P]||0)+(parseFloat(C.amount)||0),N},{}),I=Object.entries(A).reduce((N,[C,P])=>P>(N.amount||0)?{category:C,amount:P}:N,{category:"None",amount:0});return{totalWeekly:_,totalMonthly:w,totalAnnual:b,highestCost:S,averageCost:j,categoryTotals:A,topCategory:I,itemCount:t.length}},[t]),v=_=>{d(w=>({key:_,direction:w.key===_&&w.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const _=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],w=t.map(I=>[I.name||"",(parseFloat(I.amount)||0).toFixed(2),((parseFloat(I.amount)||0)*4.33).toFixed(2),((parseFloat(I.amount)||0)*52).toFixed(2),I.category||"Other",I.notes||""]),b=[_.join(","),...w.map(I=>I.map(N=>typeof N=="string"&&N.includes(",")?`"${N}"`:N).join(","))].join(`
`),S=new Blob([b],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),A=URL.createObjectURL(S);j.setAttribute("href",A),j.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j),alert(`Successfully exported ${t.length} weekly costs!`)}catch(_){console.error("Error exporting CSV:",_),alert("Failed to export CSV: "+_.message)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),i.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),i.jsx(Qk,{className:"text-red-600 dark:text-red-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),i.jsx(ba,{className:"text-orange-600 dark:text-orange-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),i.jsx(j0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),i.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),i.jsx(qr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16}),"Export CSV"]}),i.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(an,{size:16}),"Add Weekly Cost"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:_=>a(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xl,{className:"text-slate-400",size:16}),i.jsx("select",{value:s,onChange:_=>l(_.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(_=>i.jsx("option",{value:_,children:_==="all"?"All Categories":_},_))})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>v("name"),children:i.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",c.key==="name"&&i.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),i.jsx("th",{className:"p-3",children:"Category"}),i.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>v("amount"),children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",c.key==="amount"&&i.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),i.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),i.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),i.jsx("th",{className:"p-3",children:"Notes"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(_=>{const w=parseFloat(_.amount)||0,b=w*4.33,S=w*52;return i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:_.name})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:_.category||"Other"})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",w.toFixed(2)]})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",S.toLocaleString()]})}),i.jsx("td",{className:"p-3 max-w-xs",children:i.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:_.notes&&_.notes.length>50?`${_.notes.substring(0,50)}...`:_.notes||"—"})}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>e("weekly",_),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("weekly",_.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:i.jsx(nr,{size:16})})]})})]},_.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||s!=="all"?i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(hi,{size:24,className:"text-slate-400"}),i.jsx("span",{children:"No weekly costs match your search criteria"}),i.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(qr,{size:24,className:"text-slate-400"}),i.jsx("span",{children:"No weekly costs added yet"}),i.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&i.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:i.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),i.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[i.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((_,w)=>_+(parseFloat(w.amount)||0),0).toFixed(2)]}),i.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((_,w)=>_+(parseFloat(w.amount)||0),0)*4.33).toFixed(2)]}),i.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((_,w)=>_+(parseFloat(w.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&i.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fh,{className:"text-amber-600 dark:text-amber-400",size:20}),i.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),i.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},rle=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],nle=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],ale=({userId:t,db:e,appId:r})=>{const[n,a]=B.useState(rle),[s,l]=B.useState(0),[c,d]=B.useState(nle),[h,p]=B.useState(0),[m,v]=B.useState(0),[x,_]=B.useState([]),[w,b]=B.useState("employees"),[S,j]=B.useState(!1),[A,I]=B.useState(null),[N,C]=B.useState(""),[P,O]=B.useState("all"),[L,R]=B.useState("all"),[D,F]=B.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});B.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const z=uc(e,"artifacts",r,"users",t,"employees"),me=Vp(z,xe=>{const q=xe.docs.map(ue=>({id:ue.id,...ue.data()}));console.log("Employees loaded from Firebase:",q),_(q)},xe=>{console.error("Error fetching employees:",xe)});return()=>me()},[t,e,r]);const $=B.useMemo(()=>x.filter(z=>{const me=z.name.toLowerCase().includes(N.toLowerCase())||z.position.toLowerCase().includes(N.toLowerCase())||z.email.toLowerCase().includes(N.toLowerCase()),xe=P==="all"||z.status===P,q=L==="all"||z.department===L;return me&&xe&&q}),[x,N,P,L]),re=B.useMemo(()=>{const z=x.filter(ue=>ue.status==="active");let me=0,xe=0,q=0;return z.forEach(ue=>{if(ue.payType==="salary"?me+=(ue.baseSalary||0)/12:(me+=(ue.hourlyRate||0)*(ue.hoursWorked||0),q+=ue.hoursWorked||0),ue.incentiveType==="percent"){const _e=n.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=ue.salesAmount*(_e.rate/100))}else if(ue.incentiveType==="hourly"){const _e=c.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=(ue.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:z.length,totalEmployeeCount:x.length,totalBasePay:me,totalIncentives:xe,totalPayroll:me+xe,averagePay:z.length>0?(me+xe)/z.length:0,totalHours:q}},[x,n,c]),ae=B.useMemo(()=>["all",...[...new Set(x.map(me=>me.department))]],[x]),Z=B.useMemo(()=>{const z=n.find(me=>s>=me.min&&s<=me.max);return z?s*(z.rate/100):0},[s,n]),te=B.useMemo(()=>{const z=c.find(me=>h>=me.min&&h<=me.max);return!z||!m?0:m*z.bonus},[h,m,c]),X=(z,me,xe)=>{const q=[...n];q[z][me]=parseFloat(xe)||0,a(q)},K=(z,me,xe)=>{const q=[...c];q[z][me]=parseFloat(xe)||0,d(q)},ne=(z,me)=>{F(xe=>({...xe,[z]:me}))},W=async()=>{if(console.log("Adding employee:",D),!D.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const z=uc(e,"artifacts",r,"users",t,"employees");await d4(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:Vs()}),console.log("Employee saved to Firebase successfully!"),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),j(!1)}catch(z){console.error("Error adding employee:",z),alert("Failed to add employee: "+z.message)}},Q=z=>{F(z),I(z.id),j(!0)},J=async()=>{if(!(!t||!e||!A))try{const z=Cn(e,"artifacts",r,"users",t,"employees",A);await im(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,modifiedAt:Vs()}),I(null),j(!1),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(z){console.error("Error updating employee:",z),alert("Failed to update employee: "+z.message)}},le=async z=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const me=Cn(e,"artifacts",r,"users",t,"employees",z);await u4(me),console.log("Employee deleted from Firebase")}catch(me){console.error("Error deleting employee:",me),alert("Failed to delete employee: "+me.message)}},ge=async(z,me,xe)=>{if(!(!t||!e))try{const q=Cn(e,"artifacts",r,"users",t,"employees",z);await im(q,{[me]:parseFloat(xe)||0,modifiedAt:Vs()})}catch(q){console.error("Error updating employee data:",q)}},he=z=>{if(z.incentiveType==="percent"){const me=n.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return me?z.salesAmount*(me.rate/100):0}else if(z.incentiveType==="hourly"){const me=c.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return me?(z.hoursWorked||0)*me.bonus:0}return 0},de=z=>z.payType==="salary"?(z.baseSalary||0)/12:(z.hourlyRate||0)*(z.hoursWorked||0),be=z=>{switch(z){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),i.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[i.jsxs("button",{onClick:()=>b("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx($a,{size:16}),"Employees"]}),i.jsxs("button",{onClick:()=>b("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx(bc,{size:16}),"Payroll"]}),i.jsxs("button",{onClick:()=>b("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[i.jsx(ba,{size:16}),"Incentive Calculator"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:re.activeEmployeeCount})]}),i.jsx($a,{className:"text-blue-600 dark:text-blue-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",re.totalEmployeeCount," total"]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",re.totalBasePay.toLocaleString()]})]}),i.jsx(qr,{className:"text-green-600 dark:text-green-400",size:24})]}),i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",re.averagePay.toLocaleString()]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",re.totalIncentives.toLocaleString()]})]}),i.jsx(ba,{className:"text-purple-600 dark:text-purple-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",re.totalPayroll.toLocaleString()]})]}),i.jsx(bc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),w==="employees"&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),i.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),j(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx($d,{size:16}),"Add Employee"]})]}),x.length===0?i.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[i.jsx($a,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),i.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),i.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),j(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Search employees...",value:N,onChange:z=>C(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xl,{className:"text-slate-400",size:16}),i.jsxs("select",{value:P,onChange:z=>O(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"terminated",children:"Terminated"})]}),i.jsx("select",{value:L,onChange:z=>R(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:ae.map(z=>i.jsx("option",{value:z,children:z==="all"?"All Departments":z},z))})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Employee"}),i.jsx("th",{className:"p-3",children:"Department"}),i.jsx("th",{className:"p-3",children:"Pay Type"}),i.jsx("th",{className:"p-3",children:"Base Pay"}),i.jsx("th",{className:"p-3",children:"Incentive Type"}),i.jsx("th",{className:"p-3",children:"Status"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"text-sm",children:$.map(z=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),i.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:z.position}),i.jsx("div",{className:"text-xs text-slate-400",children:z.email})]})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:z.department})}),i.jsxs("td",{className:"p-3",children:[i.jsx("span",{className:"capitalize",children:z.payType}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.payType==="salary"?`$${z.baseSalary.toLocaleString()}/year`:`$${z.hourlyRate}/hour`})]}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",de(z).toLocaleString()]})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"capitalize",children:z.incentiveType})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${be(z.status)}`,children:z.status})}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>Q(z),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>le(z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:i.jsx(nr,{size:16})})]})})]},z.id))})]})})]}),S&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:A?"Edit Employee":"Add New Employee"})}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),i.jsx("input",{type:"text",value:D.name,onChange:z=>ne("name",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),i.jsx("input",{type:"text",value:D.position,onChange:z=>ne("position",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:D.email,onChange:z=>ne("email",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",value:D.phone,onChange:z=>ne("phone",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),i.jsxs("select",{value:D.department,onChange:z=>ne("department",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"Operations",children:"Operations"}),i.jsx("option",{value:"Sales",children:"Sales"}),i.jsx("option",{value:"Administration",children:"Administration"}),i.jsx("option",{value:"Management",children:"Management"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),i.jsxs("select",{value:D.payType,onChange:z=>ne("payType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"salary",children:"Salary"}),i.jsx("option",{value:"hourly",children:"Hourly"})]})]}),D.payType==="salary"?i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),i.jsx("input",{type:"number",value:D.baseSalary,onChange:z=>ne("baseSalary",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),i.jsx("input",{type:"number",step:"0.01",value:D.hourlyRate,onChange:z=>ne("hourlyRate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),i.jsxs("select",{value:D.incentiveType,onChange:z=>ne("incentiveType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"none",children:"None"}),i.jsx("option",{value:"percent",children:"Percentage"}),i.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),i.jsxs("select",{value:D.status,onChange:z=>ne("status",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"inactive",children:"Inactive"}),i.jsx("option",{value:"terminated",children:"Terminated"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),i.jsx("input",{type:"date",value:D.hireDate,onChange:z=>ne("hireDate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),i.jsx("textarea",{value:D.notes,onChange:z=>ne("notes",z.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{j(!1),I(null),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),i.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),A?J():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:A?"Update Employee":"Add Employee"})]})]})})]}),w==="payroll"&&i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),x.filter(z=>z.status==="active").length===0?i.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[i.jsx(bc,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),i.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Employee"}),i.jsx("th",{className:"p-3",children:"Hours"}),i.jsx("th",{className:"p-3",children:"Sales"}),i.jsx("th",{className:"p-3",children:"Base Pay"}),i.jsx("th",{className:"p-3",children:"Incentive"}),i.jsx("th",{className:"p-3",children:"Total Pay"})]})}),i.jsx("tbody",{className:"text-sm",children:x.filter(z=>z.status==="active").map(z=>{const me=de(z),xe=he(z),q=me+xe;return i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[i.jsxs("td",{className:"p-3",children:[i.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.position})]}),i.jsx("td",{className:"p-3",children:z.payType==="hourly"?i.jsx("input",{type:"number",value:z.hoursWorked||"",onChange:ue=>ge(z.id,"hoursWorked",ue.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):i.jsx("span",{className:"text-slate-400",children:"—"})}),i.jsx("td",{className:"p-3",children:z.incentiveType!=="none"?i.jsx("input",{type:"number",value:z.salesAmount||"",onChange:ue=>ge(z.id,"salesAmount",ue.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):i.jsx("span",{className:"text-slate-400",children:"—"})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",me.toFixed(2)]})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",xe.toFixed(2)]})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",q.toFixed(2)]})})]},z.id)})})]})})]}),w==="incentives"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-2",children:"Sales Bracket"}),i.jsx("th",{className:"p-2",children:"% Scale"})]})}),i.jsx("tbody",{children:n.map((z,me)=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),i.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[i.jsx("input",{type:"number",value:z.rate,onChange:xe=>X(me,"rate",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},me))})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"number",value:s,onChange:z=>l(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),i.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),i.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",Z.toFixed(2)]})]})]})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-2",children:"Sales Bracket"}),i.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),i.jsx("tbody",{children:c.map((z,me)=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),i.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",i.jsx("input",{type:"number",value:z.bonus,onChange:xe=>K(me,"bonus",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},me))})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),i.jsxs("div",{className:"relative",children:[i.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"number",value:h,onChange:z=>p(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),i.jsx("input",{type:"number",value:m,onChange:z=>v(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),i.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),i.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",te.toFixed(2)]})]})]})]})]})]})]})]})},ile=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:a,handleSort:s,openModal:l,handleDelete:c,handleEnhancedExportCSV:d})=>{const[h,p]=B.useState(""),[m,v]=B.useState("dueDay"),[x,_]=B.useState("asc"),[w,b]=B.useState("all"),[S,j]=B.useState("all"),[A,I]=B.useState("all"),[N,C]=B.useState(!1),P=new Date,O=new Date(P.getFullYear(),P.getMonth(),P.getDate()-P.getDay()),L=new Date(O.getTime()+6*24*60*60*1e3),R=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(R.getTime()+6*24*60*60*1e3),F=new Date(P.getFullYear(),P.getMonth(),1),$=new Date(P.getFullYear(),P.getMonth()+1,0),re=B.useMemo(()=>{let K=t.filter(ne=>{if(r&&ne.category!==r||h&&!ne.name.toLowerCase().includes(h.toLowerCase())||w==="paid"&&!e[ne.id]||w==="unpaid"&&e[ne.id]||A==="under100"&&ne.amount>=100||A==="100to500"&&(ne.amount<100||ne.amount>500)||A==="over500"&&ne.amount<=500)return!1;if(S!=="all"&&ne.dueDay){const W=new Date(P.getFullYear(),P.getMonth(),ne.dueDay);switch(W<P&&W.setMonth(W.getMonth()+1),S){case"overdue":if(W>=P)return!1;break;case"thisWeek":if(W<O||W>L)return!1;break;case"nextWeek":if(W<R||W>D)return!1;break;case"thisMonth":if(W<F||W>$)return!1;break}}return!0});return K.sort((ne,W)=>{let Q=ne[m],J=W[m];m==="status"&&(Q=e[ne.id]?"paid":"unpaid",J=e[W.id]?"paid":"unpaid"),typeof Q=="string"&&(Q=Q.toLowerCase(),J=J.toLowerCase());let le=0;return Q<J&&(le=-1),Q>J&&(le=1),x==="desc"?-le:le}),K},[t,r,h,w,S,A,m,x,e,P]),ae=K=>{m===K?_(x==="asc"?"desc":"asc"):(v(K),_("asc"))},Z=()=>{p(""),v("dueDay"),_("asc"),b("all"),j("all"),I("all"),n(null)},te=B.useMemo(()=>{let K=0;return h&&K++,r&&K++,w!=="all"&&K++,S!=="all"&&K++,A!=="all"&&K++,K},[h,r,w,S,A]),X=({type:K,label:ne})=>{const W=G.useRef(null);return i.jsxs("div",{className:"inline-block",children:[i.jsx("input",{ref:W,type:"file",accept:".csv",onChange:Q=>{Q.target.files[0]&&(window.handleEnhancedCSVImport?.(Q.target.files[0],K),Q.target.value="")},style:{display:"none"}}),i.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(io,{size:16}),ne]})]})};return i.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&i.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),te>0&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[te," filter",te!==1?"s":""," active"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(X,{type:"bill",label:"Import"}),i.jsxs("button",{onClick:()=>d(re,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Export"]})]})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),i.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:K=>p(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&i.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:i.jsx(gi,{size:16})})]}),i.jsxs("button",{onClick:()=>C(!N),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${N?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[i.jsx(xl,{size:16}),"Filters",i.jsx(Ld,{className:`transition-transform ${N?"rotate-180":""}`,size:16})]}),te>0&&i.jsx("button",{onClick:Z,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),N&&i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),i.jsxs("select",{value:`${m}-${x}`,onChange:K=>{const[ne,W]=K.target.value.split("-");v(ne),_(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),i.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),i.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),i.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),i.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),i.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),i.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),i.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),i.jsxs("select",{value:w,onChange:K=>b(K.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"all",children:"All Bills"}),i.jsx("option",{value:"unpaid",children:"Unpaid Only"}),i.jsx("option",{value:"paid",children:"Paid Only"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),i.jsxs("select",{value:S,onChange:K=>j(K.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"all",children:"All Dates"}),i.jsx("option",{value:"overdue",children:"Overdue"}),i.jsx("option",{value:"thisWeek",children:"This Week"}),i.jsx("option",{value:"nextWeek",children:"Next Week"}),i.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),i.jsxs("select",{value:A,onChange:K=>I(K.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[i.jsx("option",{value:"all",children:"All Amounts"}),i.jsx("option",{value:"under100",children:"Under $100"}),i.jsx("option",{value:"100to500",children:"$100 - $500"}),i.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),i.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:i.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",re.length," of ",t.length," bills",te>0&&` with ${te} filter${te!==1?"s":""} applied`]})})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:i.jsxs("button",{onClick:()=>ae("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?i.jsx(Wo,{size:14}):i.jsx(zo,{size:14}))]})}),i.jsx("th",{className:"p-3",children:i.jsxs("button",{onClick:()=>ae("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?i.jsx(Wo,{size:14}):i.jsx(zo,{size:14}))]})}),i.jsx("th",{className:"p-3",children:"Notes"}),i.jsx("th",{className:"p-3",children:"Receipt"}),i.jsx("th",{className:"p-3 text-right",children:i.jsxs("button",{onClick:()=>ae("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?i.jsx(Wo,{size:14}):i.jsx(zo,{size:14}))]})}),i.jsx("th",{className:"p-3 text-center",children:i.jsxs("button",{onClick:()=>ae("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?i.jsx(Wo,{size:14}):i.jsx(zo,{size:14}))]})}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:re.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),i.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),i.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):re.map(K=>i.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[K.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[i.jsx("td",{className:"p-3",children:i.jsx("button",{onClick:()=>a(K.id),className:"hover:scale-110 transition-transform",children:e[K.id]?i.jsx(La,{className:"text-green-500",size:20}):i.jsx(I4,{className:"text-slate-400 dark:text-slate-600",size:20})})}),i.jsxs("td",{className:`p-3 font-medium ${e[K.id]?"line-through":""}`,children:[K.name,K.category&&i.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:K.category})]}),i.jsx("td",{className:"p-3 text-center",children:K.notes&&i.jsxs("div",{className:"group relative flex justify-center",children:[i.jsx(R4,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),i.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:K.notes})]})}),i.jsx("td",{className:"p-3 text-center",children:K.attachmentURL?i.jsx("a",{href:K.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:i.jsx(QT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):i.jsx(QT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),i.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(K.amount||0).toFixed(2)]}),i.jsx("td",{className:"p-3 text-center font-medium",children:K.dueDay}),i.jsx("td",{className:"p-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx("button",{onClick:()=>l("bill",K),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>c("bill",K.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:i.jsx(nr,{size:16})})]})})]},K.id))})]})}),i.jsxs("button",{onClick:()=>l("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[i.jsx(an,{size:18}),"Add New Bill"]})]})},Up=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=G.useRef(null);return i.jsxs("div",{className:"inline-block",children:[i.jsx("input",{ref:n,type:"file",accept:r,onChange:a=>{a.target.files[0]&&(window.handleEnhancedCSVImport?.(a.target.files[0],t),a.target.value="")},style:{display:"none"}}),i.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(io,{size:16}),e]})]})},sle=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:a,setSearchTerm:s})=>{const l=G.useMemo(()=>t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(a.toLowerCase()))),[t,a]);return i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Up,{type:"recurring",label:"Import"}),i.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16}),"Export"]}),i.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[i.jsx(an,{size:18}),"Add Recurring Work"]})]})]}),i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",placeholder:"Search recurring work...",value:a,onChange:c=>s(c.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3",children:"Work Name"}),i.jsx("th",{className:"p-3",children:"Client ID"}),i.jsx("th",{className:"p-3 text-right",children:"Revenue"}),i.jsx("th",{className:"p-3",children:"Frequency"}),i.jsx("th",{className:"p-3",children:"Next Due Date"}),i.jsx("th",{className:"p-3",children:"Notes"}),i.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:l.length>0?l.map(c=>i.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[i.jsx("td",{className:"p-3 font-medium",children:c.name}),i.jsx("td",{className:"p-3",children:c.clientId}),i.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(c.revenue||0).toFixed(2)]}),i.jsx("td",{className:"p-3",children:c.frequency}),i.jsx("td",{className:"p-3",children:c.nextDueDate}),i.jsx("td",{className:"p-3 text-sm text-slate-500",children:c.notes}),i.jsxs("td",{className:"p-3 text-center",children:[i.jsx("button",{onClick:()=>e("recurring",c),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:i.jsx(rn,{size:16})}),i.jsx("button",{onClick:()=>r("recurring",c.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:i.jsx(nr,{size:16})})]})]},c.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},ole={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},An="hvac-finance-dashboard",uN=rD(ole),WR=FD(uN),$r=W7(uN),lle=gq(uN),cle=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(!0),[a,s]=B.useState([]),[l,c]=B.useState([]),[d,h]=B.useState([]),[p,m]=B.useState([]),[v,x]=B.useState([]),[_,w]=B.useState([]),[b,S]=B.useState([]),[j,A]=B.useState([]),[I,N]=B.useState([]),[C,P]=B.useState([]),[O,L]=B.useState([]),[R,D]=B.useState([]),[F,$]=B.useState([]),[re,ae]=B.useState([]),[Z,te]=B.useState({}),[X,K]=B.useState(!1),[ne,W]=B.useState(null),[Q,J]=B.useState("bill"),[le,ge]=B.useState({key:"dueDay",direction:"ascending"}),[he,de]=B.useState("dashboard"),[be,z]=B.useState(null),[me,xe]=B.useState(0),[q,ue]=B.useState({start:new Date,end:new Date}),[_e,Ie]=B.useState("monthly"),[Ue,Zt]=B.useState(!0),[mr,sn]=B.useState("dark"),[Rt,Dt]=B.useState(""),[Or,on]=B.useState([]),[lr,Rn]=B.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[Ht,Gt]=B.useState({}),Dn=(fe,ve)=>{if(!fe||!t)return alert("Please select a file and ensure you're logged in.");const Ve=new FileReader;Ve.onload=Ce=>{try{const St=Ce.target.result.split(`
`).filter(Et=>Et.trim());if(St.length<2)return alert("CSV file must have at least a header row and one data row.");const it=Et=>{const Tt=[];let er="",Mn=!1;for(let ra=0;ra<Et.length;ra++){const Yt=Et[ra];Yt==='"'?Mn=!Mn:Yt===","&&!Mn?(Tt.push(er.trim()),er=""):er+=Yt}return Tt.push(er.trim()),Tt},dt=it(St[0]).map(Et=>Et.replace(/"/g,"").trim()),Ut=St.slice(1,6).map(Et=>{const Tt=it(Et);return dt.reduce((er,Mn,ra)=>{let Yt=Tt[ra]||"";return Yt=Yt.replace(/"/g,"").trim(),er[Mn]=Yt&&!isNaN(Yt)&&Yt!==""?parseFloat(Yt):Yt,er},{})}),rt=St.slice(1).map(Et=>{const Tt=it(Et);return dt.reduce((er,Mn,ra)=>{let Yt=Tt[ra]||"";return Yt=Yt.replace(/"/g,"").trim(),er[Mn]=Yt&&!isNaN(Yt)&&Yt!==""?parseFloat(Yt):Yt,er},{})});Rn({show:!0,data:Ut,headers:dt,type:ve,fileName:fe.name,fullData:rt}),qa(ve,dt)}catch(He){console.error("Error parsing CSV:",He),alert("Error parsing CSV file.")}},Ve.readAsText(fe)};B.useEffect(()=>(window.handleEnhancedCSVImport=Dn,()=>{delete window.handleEnhancedCSVImport}),[t]);const gt=(fe,ve)=>{for(const Ve of ve){const Ce=fe.find(He=>He.toLowerCase().includes(Ve.toLowerCase()));if(Ce)return Ce}return fe[0]||""},qa=(fe,ve)=>{const Ve={job:{name:gt(ve,["name","job name","title","description"]),revenue:gt(ve,["revenue","amount","total","price"]),materialCost:gt(ve,["material cost","materials"]),laborCost:gt(ve,["labor cost","labor"]),date:gt(ve,["date","completed"]),notes:gt(ve,["notes","comments"]),clientId:gt(ve,["client","customer id"])},client:{name:gt(ve,["name","customer name","company"]),address:gt(ve,["address","location"]),phone:gt(ve,["phone","contact"]),email:gt(ve,["email"])},invoice:{billTo:gt(ve,["bill to","customer","client"]),customer:gt(ve,["customer","company"]),jobNo:gt(ve,["job no","job id"]),completedOn:gt(ve,["completed","date"]),net:gt(ve,["net","amount","subtotal"]),grandTotal:gt(ve,["grand total","total"]),status:gt(ve,["status","paid"])},recurring:{name:gt(ve,["name","work name","title"]),clientId:gt(ve,["client id","customer id"]),revenue:gt(ve,["revenue","amount","price"]),frequency:gt(ve,["frequency","schedule"]),nextDueDate:gt(ve,["next due","due date"]),notes:gt(ve,["notes","details"])}};Gt(Ve[fe]||{})},xi=async()=>{if(!lr.fullData.length)return alert("No data to import.");const{type:fe,fullData:ve,fileName:Ve}=lr;try{const He={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory",recurring:"recurringWork"}[fe];if(!He)return alert("Invalid import type.");const St=Jy($r),it=uc($r,"artifacts",An,"users",t,He);let dt=0;if(ve.forEach(Ut=>{const rt={};if(Object.entries(Ht).forEach(([Tt,er])=>{er&&Ut[er]!==void 0&&Ut[er]!==""&&(rt[Tt]=Ut[er])}),fe==="job"?(rt.date=rt.date||new Date().toISOString(),rt.revenue=rt.revenue||0,rt.materialCost=rt.materialCost||0,rt.laborCost=rt.laborCost||0):fe==="invoice"?(rt.status=rt.status||"Unpaid",rt.net=rt.net||0,rt.grandTotal=rt.grandTotal||rt.net||0):fe==="recurring"&&(rt.revenue=rt.revenue||0,rt.frequency=rt.frequency||"Monthly",rt.nextDueDate=rt.nextDueDate||new Date().toISOString().split("T")[0]),fe==="job"&&rt.name||fe==="client"&&rt.name||fe==="invoice"&&(rt.billTo||rt.customer)||fe==="inventory"&&rt.name||fe==="recurring"&&rt.name){const Tt=Cn(it);St.set(Tt,{...rt,importedFrom:Ve,importedAt:Vs(),createdAt:Vs()}),dt++}}),dt===0)return alert("No valid records found to import.");await St.commit(),alert(`Successfully imported ${dt} ${He} from ${Ve}!`),Rn({show:!1,data:[],headers:[],type:"",fileName:""}),Gt({})}catch(Ce){console.error("Error importing CSV:",Ce),alert(`Failed to import CSV: ${Ce.message}`)}},bi=()=>lr.show?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",lr.fileName]}),i.jsx("button",{onClick:()=>Rn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:i.jsx(gi,{size:24})})]}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",lr.fullData?.length||0," records. Showing first 5 for preview."]})]}),i.jsxs("div",{className:"p-6 overflow-y-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(Ht).map(fe=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[fe,":"]}),i.jsxs("select",{value:Ht[fe]||"",onChange:ve=>Gt(Ve=>({...Ve,[fe]:ve.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[i.jsx("option",{value:"",children:"-- Skip Field --"}),lr.headers.map(ve=>i.jsx("option",{value:ve,children:ve},ve))]})]},fe))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[i.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:i.jsx("tr",{children:lr.headers.map(fe=>i.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:fe},fe))})}),i.jsx("tbody",{children:lr.data.map((fe,ve)=>i.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:lr.headers.map(Ve=>i.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(fe[Ve]||"")},Ve))},ve))})]})})]})]}),i.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 mt-auto",children:[i.jsx("button",{onClick:()=>Rn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),i.jsxs("button",{onClick:xi,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",lr.fullData?.length||0," Records"]})]})]})}):null,xn=(fe,ve,Ve=null)=>{if(!fe||fe.length===0)return alert("No data to export.");try{const Ce=Ve||Object.keys(fe[0]).filter(Et=>Et!=="id"&&!Et.includes("At")),He=Et=>{if(Et==null)return"";const Tt=String(Et);return Tt.includes(",")||Tt.includes('"')||Tt.includes(`
`)?`"${Tt.replace(/"/g,'""')}"`:Tt},it=[Ce.join(","),...fe.map(Et=>Ce.map(Tt=>He(Et[Tt])).join(","))].join(`
`),dt=new Blob([it],{type:"text/csv;charset=utf-8;"}),Ut=document.createElement("a"),rt=URL.createObjectURL(dt);Ut.setAttribute("href",rt),Ut.setAttribute("download",`${An}_${ve}_${new Date().toISOString().split("T")[0]}.csv`),Ut.style.visibility="hidden",document.body.appendChild(Ut),Ut.click(),document.body.removeChild(Ut)}catch(Ce){console.error("Error exporting CSV:",Ce),alert("Failed to export CSV: "+Ce.message)}},uo=()=>{xn([{"Job Name":"Sample HVAC Install",Revenue:5e3,"Material Cost":2e3,"Labor Cost":1500,Date:"2025-01-15",Customer:"Sample Customer",Notes:"Sample job for import"}],"appsheet_template",["Job Name","Revenue","Material Cost","Labor Cost","Date","Customer","Notes"])};B.useEffect(()=>{document.documentElement.classList.toggle("dark",mr==="dark")},[mr]);const ho=()=>sn(mr==="light"?"dark":"light");B.useEffect(()=>{const fe=new Date;let ve,Ve;if(_e==="monthly")ve=new Date(fe.getFullYear(),fe.getMonth(),1),Ve=new Date(fe.getFullYear(),fe.getMonth()+1,0);else if(_e==="quarterly"){const Ce=Math.floor(fe.getMonth()/3);ve=new Date(fe.getFullYear(),Ce*3,1),Ve=new Date(fe.getFullYear(),Ce*3+3,0)}else ve=new Date(fe.getFullYear(),0,1),Ve=new Date(fe.getFullYear(),11,31);ue({start:ve,end:Ve})},[_e]);const wi=B.useMemo(()=>q.start.getFullYear()+"-"+String(q.start.getMonth()+1).padStart(2,"0"),[q]);B.useEffect(()=>{const fe=KV(WR,ve=>{e(ve?ve.uid:null),n(!1)});return()=>fe()},[]),B.useEffect(()=>{if(!t)return;const ve=Object.entries({bills:s,debts:c,incomes:h,weeklyCosts:m,jobs:x,tasks:w,invoices:S,taxPayments:A,goals:N,clients:P,inventory:L,vehicles:D,maintenanceLogs:$,recurringWork:ae}).map(([Ce,He])=>Vp(e8(uc($r,"artifacts",An,"users",t,Ce)),St=>{He(St.docs.map(it=>({id:it.id,...it.data()})))},St=>console.error(`Error fetching ${Ce}:`,St))),Ve=Vp(Cn($r,"artifacts",An,"users",t,"paidStatus",wi),Ce=>{te(Ce.exists()?Ce.data().status:{})},Ce=>console.error("Error fetching paid status:",Ce));return()=>{ve.forEach(Ce=>Ce()),Ve()}},[t,wi]),B.useEffect(()=>{if(!t)return;const fe=Vp(Cn($r,"artifacts",An,"users",t,"settings","currentBalance"),ve=>{xe(ve.exists()&&ve.data().amount||0)},ve=>console.error("Error fetching current balance:",ve));return()=>fe()},[t]);const Xn=B.useMemo(()=>v.filter(fe=>{if(!fe.date)return!1;const ve=new Date(fe.date);return ve>=q.start&&ve<=q.end}),[v,q]),za=B.useMemo(()=>a.filter(fe=>!be||fe.category===be),[a,be]),Jn=B.useMemo(()=>{const fe=d.reduce((it,dt)=>it+(dt.amount||0),0),ve=a.reduce((it,dt)=>it+(dt.amount||0),0),Ve=p.reduce((it,dt)=>it+(dt.amount||0),0)*4.33,Ce=ve+Ve,He=fe-Ce,St=l.reduce((it,dt)=>it+((dt.totalAmount||0)-(dt.paidAmount||0)),0);return{totalIncome:fe,totalOutflow:Ce,netCashFlow:He,totalDebt:St}},[a,l,d,p]),Zn=B.useMemo(()=>{const fe=Xn.reduce((Ce,He)=>Ce+(He.revenue||0),0),ve=Xn.reduce((Ce,He)=>Ce+(He.materialCost||0)+(He.laborCost||0),0),Ve=fe-ve;return{revenue:fe,cogs:ve,grossProfit:Ve}},[Xn]),bn=B.useMemo(()=>{const fe=a.reduce((Ve,Ce)=>{const He=Ce.category||"Uncategorized";return Ve[He]=(Ve[He]||0)+Ce.amount,Ve},{}),ve=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(fe).map(([Ve,Ce],He)=>({name:Ve,value:Ce,color:ve[He%ve.length]})).sort((Ve,Ce)=>Ce.value-Ve.value)},[a]),ea=B.useMemo(()=>{let ve={bills:za,debts:l,incomes:d,weeklyCosts:p,jobs:v,goals:I,clients:C,inventory:O,vehicles:R,invoices:b,recurring:re}[he]||[];return Rt&&(ve=ve.filter(Ve=>Object.values(Ve).some(Ce=>Ce&&String(Ce).toLowerCase().includes(Rt.toLowerCase())))),[...ve].sort((Ve,Ce)=>le.key?Ve[le.key]<Ce[le.key]?le.direction==="ascending"?-1:1:Ve[le.key]>Ce[le.key]?le.direction==="ascending"?1:-1:0:0)},[za,l,d,p,v,I,C,O,R,b,re,le,he,Rt]),ls=B.useMemo(()=>{const fe=l.map(Ce=>({...Ce,remaining:Ce.totalAmount-Ce.paidAmount})).filter(Ce=>Ce.remaining>0),ve=[...fe].sort((Ce,He)=>He.interestRate-Ce.interestRate),Ve=[...fe].sort((Ce,He)=>Ce.remaining-He.remaining);return{avalanche:ve,snowball:Ve}},[l]),ta=B.useMemo(()=>I.map(fe=>{let ve=0;if(fe.type==="debt"){const Ve=l.find(Ce=>Ce.id===fe.targetId);Ve&&(ve=Ve.paidAmount/Ve.totalAmount*100)}else fe.type==="revenue"&&(ve=v.reduce((Ce,He)=>Ce+(He.revenue||0),0)/fe.targetValue*100);return{...fe,progress:Math.min(ve,100)}}),[I,l,v]),fo=fe=>ge(ve=>({key:fe,direction:ve.key===fe&&ve.direction==="ascending"?"descending":"ascending"})),_i=async fe=>{t&&await UT(Cn($r,"artifacts",An,"users",t,"paidStatus",wi),{status:{...Z,[fe]:!Z[fe]}},{merge:!0})},po=async(fe,ve)=>{if(!t)return;const Ve=ve==="Paid"?"Unpaid":"Paid";await im(Cn($r,"artifacts",An,"users",t,"invoices",fe),{status:Ve})},Bt=(fe,ve=null)=>{J(fe),W(ve),K(!0)},mo=async fe=>{if(!t)return alert("Please log in to update the balance.");try{await UT(Cn($r,"artifacts",An,"users",t,"settings","currentBalance"),{amount:fe,updatedAt:Vs()},{merge:!0})}catch(ve){console.error("Failed to update current balance:",ve),alert("Failed to update balance: "+ve.message)}},Kt=async(fe,ve)=>{if(!t)return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[Q];if(!Ce)return alert("Invalid modal type for saving.");const He=["artifacts",An,"users",t,Ce],St={...fe,modifiedAt:Vs()};if(ve){const it=mq(lle,`receipts/${t}/${Date.now()}-${ve.name}`);try{await fq(it,ve),St.attachmentURL=await pq(it)}catch(dt){return console.error("File upload failed:",dt),alert("File upload failed. Please try again.")}}try{ne?.id?await im(Cn($r,...He,ne.id),St):await d4(uc($r,...He),{...St,createdAt:Vs()}),K(!1),W(null)}catch(it){console.error("Error saving item:",it),alert("Failed to save item.")}},gr=async(fe,ve)=>{if(!t||!window.confirm("Delete this item?"))return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[fe];if(!Ce)return alert("Invalid item type for deletion.");try{await u4(Cn($r,"artifacts",An,"users",t,Ce,ve))}catch(He){console.error(`Error deleting ${fe}:`,He),alert(`Failed to delete ${fe}. Error: ${He.message}`)}},ln=async(fe,ve)=>{if(!t||!ve.length||!window.confirm(`Delete ${ve.length} selected items?`))return;const Ce={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[fe];if(!Ce)return alert("Invalid bulk delete type.");try{const He=Jy($r);ve.forEach(St=>{He.delete(Cn($r,"artifacts",An,"users",t,Ce,St)),fe==="vehicle"&&F.filter(dt=>dt.vehicleId===St).forEach(dt=>He.delete(Cn($r,"artifacts",An,"users",t,"maintenanceLogs",dt.id)))}),await He.commit(),on([])}catch(He){console.error(`Error bulk deleting ${fe}s:`,He),alert(`Failed to delete ${fe}s. Please try again.`)}},ki=async()=>{if(!(!t||!window.confirm("Clear all your business data? This is irreversible.")))try{const fe=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","recurringWork","paidStatus","system","settings"];for(const ve of fe){const Ve=await n8(uc($r,"artifacts",An,"users",t,ve));if(!Ve.empty){const Ce=Jy($r);Ve.docs.forEach(He=>Ce.delete(He.ref)),await Ce.commit()}}alert("All business data has been cleared.")}catch(fe){console.error("Failed to clear data:",fe),alert("Failed to clear data: "+fe.message)}};if(r)return i.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return i.jsx(qq,{setUserId:e});const ji=()=>i.jsxs(i.Fragment,{children:[Ue&&i.jsx(Hoe,{bills:a,paidStatus:Z,onClose:()=>Zt(!1)}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx(ei,{title:"Total Monthly Income",value:`$${Jn.totalIncome.toLocaleString()}`,icon:i.jsx(Eq,{size:24}),color:"green"}),i.jsx(ei,{title:"Total Monthly Outflow",value:`$${Jn.totalOutflow.toLocaleString()}`,icon:i.jsx(kq,{size:24}),color:"red"}),i.jsx(ei,{title:"Projected Net",value:`$${Jn.netCashFlow.toLocaleString()}`,icon:i.jsx(qr,{size:24}),color:Jn.netCashFlow>=0?"cyan":"amber"}),i.jsx(ei,{title:"Outstanding Debt",value:`$${Jn.totalDebt.toLocaleString()}`,icon:i.jsx(Fh,{size:24}),color:"orange"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsx(ei,{title:"Gross Profit Margin",value:`${Zn.revenue>0?(Zn.grossProfit/Zn.revenue*100).toFixed(1):"0.0"}%`,icon:i.jsx(D4,{size:24}),color:"teal",subtext:"For selected period"}),i.jsx(ei,{title:"Avg. Job Revenue",value:`$${(Zn.revenue/(Xn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:i.jsx(ba,{size:24}),color:"indigo",subtext:`${Xn.length} jobs`}),i.jsx(ei,{title:"Avg. Job Profit",value:`$${(Zn.grossProfit/(Xn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:i.jsx(Fd,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[i.jsx(ile,{bills:a,paidStatus:Z,selectedCategory:be,setSelectedCategory:z,handleTogglePaid:_i,handleSort:fo,openModal:Bt,handleDelete:gr,handleEnhancedExportCSV:xn}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),i.jsx(Goe,{data:bn,onSliceClick:z})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Up,{type:"job",label:"Import Jobs"}),i.jsx(Up,{type:"client",label:"Import Customers"}),i.jsx(Up,{type:"invoice",label:"Import Invoices"})]}),i.jsxs("button",{onClick:uo,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(zr,{size:16})," Download CSV Template"]}),i.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[i.jsx("p",{children:"• Export data from AppSheet as CSV"}),i.jsx("p",{children:"• Use Import buttons to map fields"}),i.jsx("p",{children:"• Download template for reference"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome!"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{children:"• Use the navigation tabs to add clients, jobs, vehicles, and more."}),i.jsx("p",{children:"• Track your finances and business performance from the dashboard."})]})]}),i.jsxs("button",{onClick:ki,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(nr,{size:16})," Clear All Data"]})]})]})]})]})]});return i.jsxs("div",{className:`${mr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[i.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[i.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:ho,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:mr==="light"?i.jsx(Mq,{size:20}):i.jsx(Fq,{size:20})}),i.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),i.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[i.jsx("button",{onClick:()=>Ie("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),i.jsx("button",{onClick:()=>Ie("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),i.jsx("button",{onClick:()=>Ie("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[i.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()-1):_e==="quarterly"?fe.setMonth(fe.getMonth()-3):fe.setFullYear(fe.getFullYear()-1);let ve;_e==="monthly"?ve=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ve=new Date(fe.getFullYear(),fe.getMonth()+3,0):ve=new Date(fe.getFullYear(),11,31),ue({start:fe,end:ve})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:i.jsx(P4,{size:16})}),i.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&q.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((q.start.getMonth()+1)/3)} ${q.start.getFullYear()}`,_e==="yearly"&&q.start.getFullYear().toString()]}),i.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()+1):_e==="quarterly"?fe.setMonth(fe.getMonth()+3):fe.setFullYear(fe.getFullYear()+1);let ve;_e==="monthly"?ve=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ve=new Date(fe.getFullYear(),fe.getMonth()+3,0):ve=new Date(fe.getFullYear(),11,31),ue({start:fe,end:ve})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:i.jsx(Xk,{size:16})})]})]}),i.jsxs("button",{onClick:()=>YV(WR),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[i.jsx(Oq,{size:16})," Logout"]})]})]}),i.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[i.jsx("button",{onClick:()=>de("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),i.jsx("button",{onClick:()=>de("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),i.jsx("button",{onClick:()=>de("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),i.jsx("button",{onClick:()=>de("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),i.jsx("button",{onClick:()=>de("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),i.jsx("button",{onClick:()=>de("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),i.jsx("button",{onClick:()=>de("workorder"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="workorder"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Workorder"}),i.jsx("button",{onClick:()=>de("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),i.jsx("button",{onClick:()=>de("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),i.jsx("button",{onClick:()=>de("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),i.jsx("button",{onClick:()=>de("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),i.jsx("button",{onClick:()=>de("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),i.jsx("button",{onClick:()=>de("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),i.jsx("button",{onClick:()=>de("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),i.jsx("button",{onClick:()=>de("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),i.jsx("button",{onClick:()=>de("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),i.jsx("button",{onClick:()=>de("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Valuation"}),i.jsx("button",{onClick:()=>de("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"}),i.jsx("button",{onClick:()=>de("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"})]}),i.jsxs("main",{children:[he==="dashboard"&&ji(),he==="reports"&&i.jsx(Woe,{clients:C,jobs:v,bills:a,inventory:O}),he==="valuation"&&i.jsx(qoe,{}),he==="calendar"&&i.jsx(uoe,{jobs:v,tasks:_,openModal:Bt}),he==="invoices"&&i.jsx(hoe,{invoices:b,openModal:Bt,handleDelete:gr,handleBulkDelete:ln,selectedIds:Or,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleImportCSV:Dn,handleExportCSV:xn,handleToggleInvoicePaid:po}),he==="tax"&&i.jsx(coe,{jobs:v,bills:a,weeklyCosts:p,taxPayments:j,openModal:Bt,handleDelete:gr}),he==="pnl"&&i.jsx(Xoe,{jobs:v,bills:a,weeklyCosts:p,reportingPeriod:_e,dateRange:q}),he==="forecast"&&i.jsx(Koe,{invoices:b,bills:a,weeklyCosts:p,currentBankBalance:me,setCurrentBankBalance:mo}),he==="goals"&&i.jsx(ele,{goalsWithProgress:ta,openModal:Bt,onDeleteGoal:fe=>gr("goal",fe),onEditGoal:fe=>Bt("goal",fe)}),he==="incentives"&&i.jsx(ale,{userId:t,db:$r,appId:An}),he==="clients"&&i.jsx(Boe,{clients:C,openModal:Bt,handleDelete:gr,handleBulkDelete:ln,selectedIds:Or,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleImportCSV:Dn,handleExportCSV:xn,handleBulkUpdate:fe=>handleBulkUpdate("client",fe)}),he==="jobs"&&i.jsx(Qoe,{jobs:v,clients:C,openModal:Bt,handleDelete:gr,searchTerm:Rt,setSearchTerm:Dt,handleEnhancedExportCSV:xn}),he==="recurring"&&i.jsx(sle,{recurringWork:ea,openModal:Bt,handleDelete:gr,handleEnhancedExportCSV:xn,searchTerm:Rt,setSearchTerm:Dt}),he==="workorder"&&i.jsx(Voe,{}),he==="vehicles"&&i.jsx(Uoe,{vehicles:R,maintenanceLogs:F,openModal:Bt,handleDelete:gr,searchTerm:Rt,setSearchTerm:Dt}),he==="inventory"&&i.jsx(zoe,{inventory:O,openModal:Bt,handleDelete:gr,handleBulkDelete:ln,selectedIds:Or,setSelectedIds:on,searchTerm:Rt,setSearchTerm:Dt,handleEnhancedExportCSV:xn}),he==="debts"&&i.jsx(Joe,{debts:l,openModal:Bt,handleDelete:gr,searchTerm:Rt,setSearchTerm:Dt,debtPayoffStrategies:ls,handleEnhancedExportCSV:xn}),he==="incomes"&&i.jsx(Zoe,{incomes:d,openModal:Bt,handleDelete:gr}),he==="weeklyCosts"&&i.jsx(tle,{weeklyCosts:p,openModal:Bt,handleDelete:gr})]}),i.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:i.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",i.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),i.jsx(bi,{}),X&&i.jsx(doe,{item:ne,type:Q,onSave:Kt,onClose:()=>K(!1),debts:l,clients:C,vehicles:R})]})};m5.createRoot(document.getElementById("root")).render(i.jsx(G.StrictMode,{children:i.jsx(cle,{})}));
