(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nv={exports:{}},qu={},Ev={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function K$(){if(aE)return nt;aE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function b(W,X,Y){this.props=W,this.context=X,this.refs=_,this.updater=Y||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,X){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,X,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=b.prototype;function E(W,X,Y){this.props=W,this.context=X,this.refs=_,this.updater=Y||x}var P=E.prototype=new A;P.constructor=E,k(P,b.prototype),P.isPureReactComponent=!0;var O=Array.isArray,N=Object.prototype.hasOwnProperty,I={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function C(W,X,Y){var le,ge={},he=null,de=null;if(X!=null)for(le in X.ref!==void 0&&(de=X.ref),X.key!==void 0&&(he=""+X.key),X)N.call(X,le)&&!T.hasOwnProperty(le)&&(ge[le]=X[le]);var be=arguments.length-2;if(be===1)ge.children=Y;else if(1<be){for(var q=Array(be),me=0;me<be;me++)q[me]=arguments[me+2];ge.children=q}if(W&&W.defaultProps)for(le in be=W.defaultProps,be)ge[le]===void 0&&(ge[le]=be[le]);return{$$typeof:t,type:W,key:he,ref:de,props:ge,_owner:I.current}}function L(W,X){return{$$typeof:t,type:W.type,key:X,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function R(W){var X={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return X[Y]})}var F=/\/+/g;function $(W,X){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):X.toString(36)}function ee(W,X,Y,le,ge){var he=typeof W;(he==="undefined"||he==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(he){case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case t:case e:de=!0}}if(de)return de=W,ge=ge(de),W=le===""?"."+$(de,0):le,O(ge)?(Y="",W!=null&&(Y=W.replace(F,"$&/")+"/"),ee(ge,X,Y,"",function(me){return me})):ge!=null&&(M(ge)&&(ge=L(ge,Y+(!ge.key||de&&de.key===ge.key?"":(""+ge.key).replace(F,"$&/")+"/")+W)),X.push(ge)),1;if(de=0,le=le===""?".":le+":",O(W))for(var be=0;be<W.length;be++){he=W[be];var q=le+$(he,be);de+=ee(he,X,Y,q,ge)}else if(q=y(W),typeof q=="function")for(W=q.call(W),be=0;!(he=W.next()).done;)he=he.value,q=le+$(he,be++),de+=ee(he,X,Y,q,ge);else if(he==="object")throw X=String(W),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return de}function ie(W,X,Y){if(W==null)return W;var le=[],ge=0;return ee(W,le,"","",function(he){return X.call(Y,he,ge++)}),le}function Q(W){if(W._status===-1){var X=W._result;X=X(),X.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=X)}if(W._status===1)return W._result.default;throw W._result}var se={current:null},te={transition:null},Z={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:te,ReactCurrentOwner:I};function re(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:ie,forEach:function(W,X,Y){ie(W,function(){X.apply(this,arguments)},Y)},count:function(W){var X=0;return ie(W,function(){X++}),X},toArray:function(W){return ie(W,function(X){return X})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},nt.Component=b,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=E,nt.StrictMode=n,nt.Suspense=d,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,nt.act=re,nt.cloneElement=function(W,X,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=k({},W.props),ge=W.key,he=W.ref,de=W._owner;if(X!=null){if(X.ref!==void 0&&(he=X.ref,de=I.current),X.key!==void 0&&(ge=""+X.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(q in X)N.call(X,q)&&!T.hasOwnProperty(q)&&(le[q]=X[q]===void 0&&be!==void 0?be[q]:X[q])}var q=arguments.length-2;if(q===1)le.children=Y;else if(1<q){be=Array(q);for(var me=0;me<q;me++)be[me]=arguments[me+2];le.children=be}return{$$typeof:t,type:W.type,key:ge,ref:he,props:le,_owner:de}},nt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},nt.createElement=C,nt.createFactory=function(W){var X=C.bind(null,W);return X.type=W,X},nt.createRef=function(){return{current:null}},nt.forwardRef=function(W){return{$$typeof:c,render:W}},nt.isValidElement=M,nt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:Q}},nt.memo=function(W,X){return{$$typeof:h,type:W,compare:X===void 0?null:X}},nt.startTransition=function(W){var X=te.transition;te.transition={};try{W()}finally{te.transition=X}},nt.unstable_act=re,nt.useCallback=function(W,X){return se.current.useCallback(W,X)},nt.useContext=function(W){return se.current.useContext(W)},nt.useDebugValue=function(){},nt.useDeferredValue=function(W){return se.current.useDeferredValue(W)},nt.useEffect=function(W,X){return se.current.useEffect(W,X)},nt.useId=function(){return se.current.useId()},nt.useImperativeHandle=function(W,X,Y){return se.current.useImperativeHandle(W,X,Y)},nt.useInsertionEffect=function(W,X){return se.current.useInsertionEffect(W,X)},nt.useLayoutEffect=function(W,X){return se.current.useLayoutEffect(W,X)},nt.useMemo=function(W,X){return se.current.useMemo(W,X)},nt.useReducer=function(W,X,Y){return se.current.useReducer(W,X,Y)},nt.useRef=function(W){return se.current.useRef(W)},nt.useState=function(W){return se.current.useState(W)},nt.useSyncExternalStore=function(W,X,Y){return se.current.useSyncExternalStore(W,X,Y)},nt.useTransition=function(){return se.current.useTransition()},nt.version="18.3.1",nt}var sE;function qk(){return sE||(sE=1,Ev.exports=K$()),Ev.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Y$(){if(oE)return qu;oE=1;var t=qk(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,m={},y=null,x=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:x,props:m,_owner:i.current}}return qu.Fragment=r,qu.jsx=l,qu.jsxs=l,qu}var lE;function X$(){return lE||(lE=1,Nv.exports=Y$()),Nv.exports}var o=X$(),z=qk();const K=yt(z);var rp={},Tv={exports:{}},Nn={},Av={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function Q$(){return cE||(cE=1,function(t){function e(te,Z){var re=te.length;te.push(Z);e:for(;0<re;){var W=re-1>>>1,X=te[W];if(0<i(X,Z))te[W]=Z,te[re]=X,re=W;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Z=te[0],re=te.pop();if(re!==Z){te[0]=re;e:for(var W=0,X=te.length,Y=X>>>1;W<Y;){var le=2*(W+1)-1,ge=te[le],he=le+1,de=te[he];if(0>i(ge,re))he<X&&0>i(de,ge)?(te[W]=de,te[he]=re,W=he):(te[W]=ge,te[le]=re,W=le);else if(he<X&&0>i(de,re))te[W]=de,te[he]=re,W=he;else break e}}return Z}function i(te,Z){var re=te.sortIndex-Z.sortIndex;return re!==0?re:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,y=3,x=!1,k=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(te){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=te)n(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=r(h)}}function O(te){if(_=!1,P(te),!k)if(r(d)!==null)k=!0,Q(N);else{var Z=r(h);Z!==null&&se(O,Z.startTime-te)}}function N(te,Z){k=!1,_&&(_=!1,A(C),C=-1),x=!0;var re=y;try{for(P(Z),m=r(d);m!==null&&(!(m.expirationTime>Z)||te&&!R());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var X=W(m.expirationTime<=Z);Z=t.unstable_now(),typeof X=="function"?m.callback=X:m===r(d)&&n(d),P(Z)}else n(d);m=r(d)}if(m!==null)var Y=!0;else{var le=r(h);le!==null&&se(O,le.startTime-Z),Y=!1}return Y}finally{m=null,y=re,x=!1}}var I=!1,T=null,C=-1,L=5,M=-1;function R(){return!(t.unstable_now()-M<L)}function F(){if(T!==null){var te=t.unstable_now();M=te;var Z=!0;try{Z=T(!0,te)}finally{Z?$():(I=!1,T=null)}}else I=!1}var $;if(typeof E=="function")$=function(){E(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=F,$=function(){ie.postMessage(null)}}else $=function(){b(F,0)};function Q(te){T=te,I||(I=!0,$())}function se(te,Z){C=b(function(){te(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,Q(N))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(te){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return te()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var re=y;y=te;try{return Z()}finally{y=re}},t.unstable_scheduleCallback=function(te,Z,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=re+X,te={id:p++,callback:Z,priorityLevel:te,startTime:re,expirationTime:X,sortIndex:-1},re>W?(te.sortIndex=re,e(h,te),r(d)===null&&te===r(h)&&(_?(A(C),C=-1):_=!0,se(O,re-W))):(te.sortIndex=X,e(d,te),k||x||(k=!0,Q(N))),te},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(te){var Z=y;return function(){var re=y;y=Z;try{return te.apply(this,arguments)}finally{y=re}}}}(Pv)),Pv}var uE;function J$(){return uE||(uE=1,Av.exports=Q$()),Av.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function Z$(){if(dE)return Nn;dE=1;var t=qk(),e=J$();function r(s){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,u){l(s,u),l(s+"Capture",u)}function l(s,u){for(i[s]=u,s=0;s<u.length;s++)n.add(u[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return d.call(m,s)?!0:d.call(p,s)?!1:h.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,u,f,v){if(u===null||typeof u>"u"||x(s,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(s,u,f,v,w,S,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=s,this.type=u,this.sanitizeURL=S,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var u=s[0];b[u]=new _(u,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var u=s.replace(A,E);b[u]=new _(u,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var u=s.replace(A,E);b[u]=new _(u,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var u=s.replace(A,E);b[u]=new _(u,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,u,f,v){var w=b.hasOwnProperty(u)?b[u]:null;(w!==null?w.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(k(u,f,w,v)&&(f=null),v||w===null?y(u)&&(f===null?s.removeAttribute(u):s.setAttribute(u,""+f)):w.mustUseProperty?s[w.propertyName]=f===null?w.type===3?!1:"":f:(u=w.attributeName,v=w.attributeNamespace,f===null?s.removeAttribute(u):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,v?s.setAttributeNS(v,u,f):s.setAttribute(u,f))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),I=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),te=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=te&&s[te]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,W;function X(s){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+s}var Y=!1;function le(s,u){if(!s||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var v=ce}Reflect.construct(s,[],u)}else{try{u.call()}catch(ce){v=ce}s.call(u.prototype)}else{try{throw Error()}catch(ce){v=ce}s()}}catch(ce){if(ce&&v&&typeof ce.stack=="string"){for(var w=ce.stack.split(`
`),S=v.stack.split(`
`),V=w.length-1,H=S.length-1;1<=V&&0<=H&&w[V]!==S[H];)H--;for(;1<=V&&0<=H;V--,H--)if(w[V]!==S[H]){if(V!==1||H!==1)do if(V--,H--,0>H||w[V]!==S[H]){var G=`
`+w[V].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=V&&0<=H);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?X(s):""}function ge(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case I:return"Portal";case L:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case F:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ie:return u=s.displayName||null,u!==null?u:he(s.type)||"Memo";case Q:u=s._payload,s=s._init;try{return he(s(u))}catch{}}return null}function de(s){var u=s.type;switch(s.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=u.render,s=s.displayName||s.name||"",u.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(u);case 8:return u===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function q(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function me(s){var u=q(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),v=""+s[u];if(!s.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,S=f.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return w.call(this)},set:function(V){v=""+V,S.call(this,V)}}),Object.defineProperty(s,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function xe(s){s._valueTracker||(s._valueTracker=me(s))}function U(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return s&&(v=q(s)?s.checked?"true":"false":s.value),s=v,s!==f?(u.setValue(s),!0):!1}function ue(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _e(s,u){var f=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function Ie(s,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=be(u.value!=null?u.value:f),s._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(s,u){u=u.checked,u!=null&&P(s,"checked",u,!1)}function Qt(s,u){Ue(s,u);var f=be(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}u.hasOwnProperty("value")?rn(s,u.type,f):u.hasOwnProperty("defaultValue")&&rn(s,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(s.defaultChecked=!!u.defaultChecked)}function pr(s,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+s._wrapperState.initialValue,f||u===s.value||(s.value=u),s.defaultValue=u}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function rn(s,u,f){(u!=="number"||ue(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ct=Array.isArray;function It(s,u,f,v){if(s=s.options,u){u={};for(var w=0;w<f.length;w++)u["$"+f[w]]=!0;for(f=0;f<s.length;f++)w=u.hasOwnProperty("$"+s[f].value),s[f].selected!==w&&(s[f].selected=w),w&&v&&(s[f].defaultSelected=!0)}else{for(f=""+be(f),u=null,w=0;w<s.length;w++){if(s[w].value===f){s[w].selected=!0,v&&(s[w].defaultSelected=!0);return}u!==null||s[w].disabled||(u=s[w])}u!==null&&(u.selected=!0)}}function Ir(s,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function nn(s,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(Ct(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}s._wrapperState={initialValue:be(f)}}function or(s,u){var f=be(u.value),v=be(u.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),u.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),v!=null&&(s.defaultValue=""+v)}function Cn(s){var u=s.textContent;u===s._wrapperState.initialValue&&u!==""&&u!==null&&(s.value=u)}function zt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(s,u){return s==null||s==="http://www.w3.org/1999/xhtml"?zt(u):s==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xi,mt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,w){MSApp.execUnsafeLocalFunction(function(){return s(u,f,v,w)})}:s}(function(s,u){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=u;else{for(xi=xi||document.createElement("div"),xi.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=xi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;u.firstChild;)s.appendChild(u.firstChild)}});function Bi(s,u){if(u){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=u;return}}s.textContent=u}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ga=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(s){ga.forEach(function(u){u=u+s.charAt(0).toUpperCase()+s.substring(1),ma[u]=ma[s]})});function oo(s,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||ma.hasOwnProperty(s)&&ma[s]?(""+u).trim():u+"px"}function va(s,u){s=s.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,w=oo(f,u[f],v);f==="float"&&(f="cssFloat"),v?s.setProperty(f,w):s[f]=w}}var Xn=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rs(s,u){if(u){if(Xn[s]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function bi(s,u){if(s.indexOf("-")===-1)return typeof u.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var In=null;function ns(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var is=null,gn=null,Qn=null;function as(s){if(s=Tu(s)){if(typeof is!="function")throw Error(r(280));var u=s.stateNode;u&&(u=gf(u),is(s.stateNode,s.type,u))}}function Jn(s){gn?Qn?Qn.push(s):Qn=[s]:gn=s}function lo(){if(gn){var s=gn,u=Qn;if(Qn=gn=null,as(s),u)for(s=0;s<u.length;s++)as(u[s])}}function Jt(s,u){return s(u)}function co(){}var wi=!1;function kr(s,u,f){if(wi)return s(u,f);wi=!0;try{return Jt(s,u,f)}finally{wi=!1,(gn!==null||Qn!==null)&&(co(),lo())}}function Ot(s,u){var f=s.stateNode;if(f===null)return null;var v=gf(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var ss=!1;if(c)try{var On={};Object.defineProperty(On,"passive",{get:function(){ss=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{ss=!1}function pe(s,u,f,v,w,S,V,H,G){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(f,ce)}catch(je){this.onError(je)}}var ye=!1,Fe=null,Pe=!1,Ge=null,Vt={onError:function(s){ye=!0,Fe=s}};function Ht(s,u,f,v,w,S,V,H,G){ye=!1,Fe=null,pe.apply(Vt,arguments)}function pt(s,u,f,v,w,S,V,H,G){if(Ht.apply(this,arguments),ye){if(ye){var ce=Fe;ye=!1,Fe=null}else throw Error(r(198));Pe||(Pe=!0,Ge=ce)}}function _t(s){var u=s,f=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(f=u.return),s=u.return;while(s)}return u.tag===3?f:null}function tt(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function Gt(s){if(_t(s)!==s)throw Error(r(188))}function zr(s){var u=s.alternate;if(!u){if(u=_t(s),u===null)throw Error(r(188));return u!==s?null:s}for(var f=s,v=u;;){var w=f.return;if(w===null)break;var S=w.alternate;if(S===null){if(v=w.return,v!==null){f=v;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===f)return Gt(w),s;if(S===v)return Gt(w),u;S=S.sibling}throw Error(r(188))}if(f.return!==v.return)f=w,v=S;else{for(var V=!1,H=w.child;H;){if(H===f){V=!0,f=w,v=S;break}if(H===v){V=!0,v=w,f=S;break}H=H.sibling}if(!V){for(H=S.child;H;){if(H===f){V=!0,f=S,v=w;break}if(H===v){V=!0,v=S,f=w;break}H=H.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?s:u}function nr(s){return s=zr(s),s!==null?vn(s):null}function vn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var u=vn(s);if(u!==null)return u;s=s.sibling}return null}var yn=e.unstable_scheduleCallback,Rt=e.unstable_cancelCallback,Uh=e.unstable_shouldYield,tg=e.unstable_requestPaint,Nt=e.unstable_now,qh=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,os=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,du=e.unstable_LowPriority,zh=e.unstable_IdlePriority,ho=null,Rn=null;function Wh(s){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ho,s,void 0,(s.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Gh,hu=Math.log,Hh=Math.LN2;function Gh(s){return s>>>=0,s===0?32:31-(hu(s)/Hh|0)|0}var vl=64,yl=4194304;function ls(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fo(s,u){var f=s.pendingLanes;if(f===0)return 0;var v=0,w=s.suspendedLanes,S=s.pingedLanes,V=f&268435455;if(V!==0){var H=V&~w;H!==0?v=ls(H):(S&=V,S!==0&&(v=ls(S)))}else V=f&~w,V!==0?v=ls(V):S!==0&&(v=ls(S));if(v===0)return 0;if(u!==0&&u!==v&&(u&w)===0&&(w=v&-v,S=u&-u,w>=S||w===16&&(S&4194240)!==0))return u;if((v&4)!==0&&(v|=f&16),u=s.entangledLanes,u!==0)for(s=s.entanglements,u&=v;0<u;)f=31-an(u),w=1<<f,v|=s[f],u&=~w;return v}function rg(s,u){switch(s){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ya(s,u){for(var f=s.suspendedLanes,v=s.pingedLanes,w=s.expirationTimes,S=s.pendingLanes;0<S;){var V=31-an(S),H=1<<V,G=w[V];G===-1?((H&f)===0||(H&v)!==0)&&(w[V]=rg(H,u)):G<=u&&(s.expiredLanes|=H),S&=~H}}function Mn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function po(){var s=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),s}function cs(s){for(var u=[],f=0;31>f;f++)u.push(s);return u}function us(s,u,f){s.pendingLanes|=u,u!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,u=31-an(u),s[u]=f}function jt(s,u){var f=s.pendingLanes&~u;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=u,s.mutableReadLanes&=u,s.entangledLanes&=u,u=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<f;){var w=31-an(f),S=1<<w;u[w]=0,v[w]=-1,s[w]=-1,f&=~S}}function ds(s,u){var f=s.entangledLanes|=u;for(s=s.entanglements;f;){var v=31-an(f),w=1<<v;w&u|s[v]&u&&(s[v]|=u),f&=~w}}var st=0;function hs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kh,xl,Yh,Xh,Qh,fu=!1,Ui=[],Or=null,_i=null,ki=null,fs=new Map,ei=new Map,qi=[],ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(s,u){switch(s){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":fs.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(u.pointerId)}}function xn(s,u,f,v,w,S){return s===null||s.nativeEvent!==S?(s={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:S,targetContainers:[w]},u!==null&&(u=Tu(u),u!==null&&xl(u)),s):(s.eventSystemFlags|=v,u=s.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),s)}function ig(s,u,f,v,w){switch(u){case"focusin":return Or=xn(Or,s,u,f,v,w),!0;case"dragenter":return _i=xn(_i,s,u,f,v,w),!0;case"mouseover":return ki=xn(ki,s,u,f,v,w),!0;case"pointerover":var S=w.pointerId;return fs.set(S,xn(fs.get(S)||null,s,u,f,v,w)),!0;case"gotpointercapture":return S=w.pointerId,ei.set(S,xn(ei.get(S)||null,s,u,f,v,w)),!0}return!1}function Zh(s){var u=xo(s.target);if(u!==null){var f=_t(u);if(f!==null){if(u=f.tag,u===13){if(u=tt(f),u!==null){s.blockedOn=u,Qh(s.priority,function(){Yh(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xa(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var f=bl(s.domEventName,s.eventSystemFlags,u[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var v=new f.constructor(f.type,f);In=v,f.target.dispatchEvent(v),In=null}else return u=Tu(f),u!==null&&xl(u),s.blockedOn=f,!1;u.shift()}return!0}function mo(s,u,f){xa(s)&&f.delete(u)}function ef(){fu=!1,Or!==null&&xa(Or)&&(Or=null),_i!==null&&xa(_i)&&(_i=null),ki!==null&&xa(ki)&&(ki=null),fs.forEach(mo),ei.forEach(mo)}function ji(s,u){s.blockedOn===u&&(s.blockedOn=null,fu||(fu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ef)))}function Si(s){function u(w){return ji(w,s)}if(0<Ui.length){ji(Ui[0],s);for(var f=1;f<Ui.length;f++){var v=Ui[f];v.blockedOn===s&&(v.blockedOn=null)}}for(Or!==null&&ji(Or,s),_i!==null&&ji(_i,s),ki!==null&&ji(ki,s),fs.forEach(u),ei.forEach(u),f=0;f<qi.length;f++)v=qi[f],v.blockedOn===s&&(v.blockedOn=null);for(;0<qi.length&&(f=qi[0],f.blockedOn===null);)Zh(f),f.blockedOn===null&&qi.shift()}var ba=O.ReactCurrentBatchConfig,ps=!0;function Bt(s,u,f,v){var w=st,S=ba.transition;ba.transition=null;try{st=1,pu(s,u,f,v)}finally{st=w,ba.transition=S}}function ag(s,u,f,v){var w=st,S=ba.transition;ba.transition=null;try{st=4,pu(s,u,f,v)}finally{st=w,ba.transition=S}}function pu(s,u,f,v){if(ps){var w=bl(s,u,f,v);if(w===null)gg(s,u,v,go,f),Jh(s,v);else if(ig(w,s,u,f,v))v.stopPropagation();else if(Jh(s,v),u&4&&-1<ng.indexOf(s)){for(;w!==null;){var S=Tu(w);if(S!==null&&Kh(S),S=bl(s,u,f,v),S===null&&gg(s,u,v,go,f),S===w)break;w=S}w!==null&&v.stopPropagation()}else gg(s,u,v,null,f)}}var go=null;function bl(s,u,f,v){if(go=null,s=ns(v),s=xo(s),s!==null)if(u=_t(s),u===null)s=null;else if(f=u.tag,f===13){if(s=tt(u),s!==null)return s;s=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null);return go=s,null}function mu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case uo:return 1;case os:return 4;case Zn:case du:return 16;case zh:return 536870912;default:return 16}default:return 16}}var Dn=null,wl=null,bn=null;function gu(){if(bn)return bn;var s,u=wl,f=u.length,v,w="value"in Dn?Dn.value:Dn.textContent,S=w.length;for(s=0;s<f&&u[s]===w[s];s++);var V=f-s;for(v=1;v<=V&&u[f-v]===w[S-v];v++);return bn=w.slice(s,1<v?1-v:void 0)}function _l(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function zi(){return!0}function vu(){return!1}function Rr(s){function u(f,v,w,S,V){this._reactName=f,this._targetInst=w,this.type=v,this.nativeEvent=S,this.target=V,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(S):S[H]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?zi:vu,this.isPropagationStopped=vu,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),u}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Rr(Ni),Wi=re({},Ni,{view:0,detail:0}),sg=Rr(Wi),jl,wa,ms,vo=re({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ms&&(ms&&s.type==="mousemove"?(jl=s.screenX-ms.screenX,wa=s.screenY-ms.screenY):wa=jl=0,ms=s),jl)},movementY:function(s){return"movementY"in s?s.movementY:wa}}),Sl=Rr(vo),yu=re({},vo,{dataTransfer:0}),tf=Rr(yu),Nl=re({},Wi,{relatedTarget:0}),El=Rr(Nl),rf=re({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=Rr(rf),nf=re({},Ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),af=Rr(nf),sf=re({},Ni,{data:0}),xu=Rr(sf),Tl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lf(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=of[s])?!!u[s]:!1}function Hi(){return lf}var g=re({},Wi,{key:function(s){if(s.key){var u=Tl[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=_l(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(s){return s.type==="keypress"?_l(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_l(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),j=Rr(g),D=re({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Rr(D),ne=re({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),fe=Rr(ne),Ae=re({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Rr(Ae),mr=re({},vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lt=Rr(mr),jr=[9,13,27,32],lr=c&&"CompositionEvent"in window,ti=null;c&&"documentMode"in document&&(ti=document.documentMode);var Ln=c&&"TextEvent"in window&&!ti,yo=c&&(!lr||ti&&8<ti&&11>=ti),Al=" ",Zj=!1;function eS(s,u){switch(s){case"keyup":return jr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tS(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pl=!1;function W6(s,u){switch(s){case"compositionend":return tS(u);case"keypress":return u.which!==32?null:(Zj=!0,Al);case"textInput":return s=u.data,s===Al&&Zj?null:s;default:return null}}function H6(s,u){if(Pl)return s==="compositionend"||!lr&&eS(s,u)?(s=gu(),bn=wl=Dn=null,Pl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return yo&&u.locale!=="ko"?null:u.data;default:return null}}var G6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rS(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!G6[s.type]:u==="textarea"}function nS(s,u,f,v){Jn(v),u=ff(u,"onChange"),0<u.length&&(f=new kl("onChange","change",null,f,v),s.push({event:f,listeners:u}))}var bu=null,wu=null;function K6(s){wS(s,0)}function cf(s){var u=Ml(s);if(U(u))return s}function Y6(s,u){if(s==="change")return u}var iS=!1;if(c){var og;if(c){var lg="oninput"in document;if(!lg){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),lg=typeof aS.oninput=="function"}og=lg}else og=!1;iS=og&&(!document.documentMode||9<document.documentMode)}function sS(){bu&&(bu.detachEvent("onpropertychange",oS),wu=bu=null)}function oS(s){if(s.propertyName==="value"&&cf(wu)){var u=[];nS(u,wu,s,ns(s)),kr(K6,u)}}function X6(s,u,f){s==="focusin"?(sS(),bu=u,wu=f,bu.attachEvent("onpropertychange",oS)):s==="focusout"&&sS()}function Q6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return cf(wu)}function J6(s,u){if(s==="click")return cf(u)}function Z6(s,u){if(s==="input"||s==="change")return cf(u)}function e$(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Ei=typeof Object.is=="function"?Object.is:e$;function _u(s,u){if(Ei(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var f=Object.keys(s),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var w=f[v];if(!d.call(u,w)||!Ei(s[w],u[w]))return!1}return!0}function lS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cS(s,u){var f=lS(s);s=0;for(var v;f;){if(f.nodeType===3){if(v=s+f.textContent.length,s<=u&&v>=u)return{node:f,offset:u-s};s=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=lS(f)}}function uS(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?uS(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function dS(){for(var s=window,u=ue();u instanceof s.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)s=u.contentWindow;else break;u=ue(s.document)}return u}function cg(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}function t$(s){var u=dS(),f=s.focusedElem,v=s.selectionRange;if(u!==f&&f&&f.ownerDocument&&uS(f.ownerDocument.documentElement,f)){if(v!==null&&cg(f)){if(u=v.start,s=v.end,s===void 0&&(s=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(s,f.value.length);else if(s=(u=f.ownerDocument||document)&&u.defaultView||window,s.getSelection){s=s.getSelection();var w=f.textContent.length,S=Math.min(v.start,w);v=v.end===void 0?S:Math.min(v.end,w),!s.extend&&S>v&&(w=v,v=S,S=w),w=cS(f,S);var V=cS(f,v);w&&V&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(w.node,w.offset),s.removeAllRanges(),S>v?(s.addRange(u),s.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),s.addRange(u)))}}for(u=[],s=f;s=s.parentNode;)s.nodeType===1&&u.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)s=u[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var r$=c&&"documentMode"in document&&11>=document.documentMode,Cl=null,ug=null,ku=null,dg=!1;function hS(s,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;dg||Cl==null||Cl!==ue(v)||(v=Cl,"selectionStart"in v&&cg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ku&&_u(ku,v)||(ku=v,v=ff(ug,"onSelect"),0<v.length&&(u=new kl("onSelect","select",null,u,f),s.push({event:u,listeners:v}),u.target=Cl)))}function uf(s,u){var f={};return f[s.toLowerCase()]=u.toLowerCase(),f["Webkit"+s]="webkit"+u,f["Moz"+s]="moz"+u,f}var Il={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},hg={},fS={};c&&(fS=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function df(s){if(hg[s])return hg[s];if(!Il[s])return s;var u=Il[s],f;for(f in u)if(u.hasOwnProperty(f)&&f in fS)return hg[s]=u[f];return s}var pS=df("animationend"),mS=df("animationiteration"),gS=df("animationstart"),vS=df("transitionend"),yS=new Map,xS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gs(s,u){yS.set(s,u),a(u,[s])}for(var fg=0;fg<xS.length;fg++){var pg=xS[fg],n$=pg.toLowerCase(),i$=pg[0].toUpperCase()+pg.slice(1);gs(n$,"on"+i$)}gs(pS,"onAnimationEnd"),gs(mS,"onAnimationIteration"),gs(gS,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(vS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function bS(s,u,f){var v=s.type||"unknown-event";s.currentTarget=f,pt(v,u,void 0,s),s.currentTarget=null}function wS(s,u){u=(u&4)!==0;for(var f=0;f<s.length;f++){var v=s[f],w=v.event;v=v.listeners;e:{var S=void 0;if(u)for(var V=v.length-1;0<=V;V--){var H=v[V],G=H.instance,ce=H.currentTarget;if(H=H.listener,G!==S&&w.isPropagationStopped())break e;bS(w,H,ce),S=G}else for(V=0;V<v.length;V++){if(H=v[V],G=H.instance,ce=H.currentTarget,H=H.listener,G!==S&&w.isPropagationStopped())break e;bS(w,H,ce),S=G}}}if(Pe)throw s=Ge,Pe=!1,Ge=null,s}function Mt(s,u){var f=u[_g];f===void 0&&(f=u[_g]=new Set);var v=s+"__bubble";f.has(v)||(_S(u,s,2,!1),f.add(v))}function mg(s,u,f){var v=0;u&&(v|=4),_S(f,s,v,u)}var hf="_reactListening"+Math.random().toString(36).slice(2);function Su(s){if(!s[hf]){s[hf]=!0,n.forEach(function(f){f!=="selectionchange"&&(a$.has(f)||mg(f,!1,s),mg(f,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[hf]||(u[hf]=!0,mg("selectionchange",!1,u))}}function _S(s,u,f,v){switch(mu(u)){case 1:var w=Bt;break;case 4:w=ag;break;default:w=pu}f=w.bind(null,u,f,s),w=void 0,!ss||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),v?w!==void 0?s.addEventListener(u,f,{capture:!0,passive:w}):s.addEventListener(u,f,!0):w!==void 0?s.addEventListener(u,f,{passive:w}):s.addEventListener(u,f,!1)}function gg(s,u,f,v,w){var S=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var H=v.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(V===4)for(V=v.return;V!==null;){var G=V.tag;if((G===3||G===4)&&(G=V.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;V=V.return}for(;H!==null;){if(V=xo(H),V===null)return;if(G=V.tag,G===5||G===6){v=S=V;continue e}H=H.parentNode}}v=v.return}kr(function(){var ce=S,je=ns(f),Ne=[];e:{var ke=yS.get(s);if(ke!==void 0){var Ce=kl,De=s;switch(s){case"keypress":if(_l(f)===0)break e;case"keydown":case"keyup":Ce=j;break;case"focusin":De="focus",Ce=El;break;case"focusout":De="blur",Ce=El;break;case"beforeblur":case"afterblur":Ce=El;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=fe;break;case pS:case mS:case gS:Ce=_a;break;case vS:Ce=xt;break;case"scroll":Ce=sg;break;case"wheel":Ce=lt;break;case"copy":case"cut":case"paste":Ce=af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=B}var Le=(u&4)!==0,ir=!Le&&s==="scroll",ae=Le?ke!==null?ke+"Capture":null:ke;Le=[];for(var J=ce,oe;J!==null;){oe=J;var Ee=oe.stateNode;if(oe.tag===5&&Ee!==null&&(oe=Ee,ae!==null&&(Ee=Ot(J,ae),Ee!=null&&Le.push(Nu(J,Ee,oe)))),ir)break;J=J.return}0<Le.length&&(ke=new Ce(ke,De,null,f,je),Ne.push({event:ke,listeners:Le}))}}if((u&7)===0){e:{if(ke=s==="mouseover"||s==="pointerover",Ce=s==="mouseout"||s==="pointerout",ke&&f!==In&&(De=f.relatedTarget||f.fromElement)&&(xo(De)||De[ka]))break e;if((Ce||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,Ce?(De=f.relatedTarget||f.toElement,Ce=ce,De=De?xo(De):null,De!==null&&(ir=_t(De),De!==ir||De.tag!==5&&De.tag!==6)&&(De=null)):(Ce=null,De=ce),Ce!==De)){if(Le=Sl,Ee="onMouseLeave",ae="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&(Le=B,Ee="onPointerLeave",ae="onPointerEnter",J="pointer"),ir=Ce==null?ke:Ml(Ce),oe=De==null?ke:Ml(De),ke=new Le(Ee,J+"leave",Ce,f,je),ke.target=ir,ke.relatedTarget=oe,Ee=null,xo(je)===ce&&(Le=new Le(ae,J+"enter",De,f,je),Le.target=oe,Le.relatedTarget=ir,Ee=Le),ir=Ee,Ce&&De)t:{for(Le=Ce,ae=De,J=0,oe=Le;oe;oe=Ol(oe))J++;for(oe=0,Ee=ae;Ee;Ee=Ol(Ee))oe++;for(;0<J-oe;)Le=Ol(Le),J--;for(;0<oe-J;)ae=Ol(ae),oe--;for(;J--;){if(Le===ae||ae!==null&&Le===ae.alternate)break t;Le=Ol(Le),ae=Ol(ae)}Le=null}else Le=null;Ce!==null&&kS(Ne,ke,Ce,Le,!1),De!==null&&ir!==null&&kS(Ne,ir,De,Le,!0)}}e:{if(ke=ce?Ml(ce):window,Ce=ke.nodeName&&ke.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ke.type==="file")var Ve=Y6;else if(rS(ke))if(iS)Ve=Z6;else{Ve=Q6;var ze=X6}else(Ce=ke.nodeName)&&Ce.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Ve=J6);if(Ve&&(Ve=Ve(s,ce))){nS(Ne,Ve,f,je);break e}ze&&ze(s,ke,ce),s==="focusout"&&(ze=ke._wrapperState)&&ze.controlled&&ke.type==="number"&&rn(ke,"number",ke.value)}switch(ze=ce?Ml(ce):window,s){case"focusin":(rS(ze)||ze.contentEditable==="true")&&(Cl=ze,ug=ce,ku=null);break;case"focusout":ku=ug=Cl=null;break;case"mousedown":dg=!0;break;case"contextmenu":case"mouseup":case"dragend":dg=!1,hS(Ne,f,je);break;case"selectionchange":if(r$)break;case"keydown":case"keyup":hS(Ne,f,je)}var We;if(lr)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Pl?eS(s,f)&&(Xe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(yo&&f.locale!=="ko"&&(Pl||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Pl&&(We=gu()):(Dn=je,wl="value"in Dn?Dn.value:Dn.textContent,Pl=!0)),ze=ff(ce,Xe),0<ze.length&&(Xe=new xu(Xe,s,null,f,je),Ne.push({event:Xe,listeners:ze}),We?Xe.data=We:(We=tS(f),We!==null&&(Xe.data=We)))),(We=Ln?W6(s,f):H6(s,f))&&(ce=ff(ce,"onBeforeInput"),0<ce.length&&(je=new xu("onBeforeInput","beforeinput",null,f,je),Ne.push({event:je,listeners:ce}),je.data=We))}wS(Ne,u)})}function Nu(s,u,f){return{instance:s,listener:u,currentTarget:f}}function ff(s,u){for(var f=u+"Capture",v=[];s!==null;){var w=s,S=w.stateNode;w.tag===5&&S!==null&&(w=S,S=Ot(s,f),S!=null&&v.unshift(Nu(s,S,w)),S=Ot(s,u),S!=null&&v.push(Nu(s,S,w))),s=s.return}return v}function Ol(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function kS(s,u,f,v,w){for(var S=u._reactName,V=[];f!==null&&f!==v;){var H=f,G=H.alternate,ce=H.stateNode;if(G!==null&&G===v)break;H.tag===5&&ce!==null&&(H=ce,w?(G=Ot(f,S),G!=null&&V.unshift(Nu(f,G,H))):w||(G=Ot(f,S),G!=null&&V.push(Nu(f,G,H)))),f=f.return}V.length!==0&&s.push({event:u,listeners:V})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function jS(s){return(typeof s=="string"?s:""+s).replace(s$,`
`).replace(o$,"")}function pf(s,u,f){if(u=jS(u),jS(s)!==u&&f)throw Error(r(425))}function mf(){}var vg=null,yg=null;function xg(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var bg=typeof setTimeout=="function"?setTimeout:void 0,l$=typeof clearTimeout=="function"?clearTimeout:void 0,SS=typeof Promise=="function"?Promise:void 0,c$=typeof queueMicrotask=="function"?queueMicrotask:typeof SS<"u"?function(s){return SS.resolve(null).then(s).catch(u$)}:bg;function u$(s){setTimeout(function(){throw s})}function wg(s,u){var f=u,v=0;do{var w=f.nextSibling;if(s.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(v===0){s.removeChild(w),Si(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=w}while(f);Si(u)}function vs(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return s}function NS(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return s;u--}else f==="/$"&&u++}s=s.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Gi="__reactFiber$"+Rl,Eu="__reactProps$"+Rl,ka="__reactContainer$"+Rl,_g="__reactEvents$"+Rl,d$="__reactListeners$"+Rl,h$="__reactHandles$"+Rl;function xo(s){var u=s[Gi];if(u)return u;for(var f=s.parentNode;f;){if(u=f[ka]||f[Gi]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(s=NS(s);s!==null;){if(f=s[Gi])return f;s=NS(s)}return u}s=f,f=s.parentNode}return null}function Tu(s){return s=s[Gi]||s[ka],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ml(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function gf(s){return s[Eu]||null}var kg=[],Dl=-1;function ys(s){return{current:s}}function Dt(s){0>Dl||(s.current=kg[Dl],kg[Dl]=null,Dl--)}function Et(s,u){Dl++,kg[Dl]=s.current,s.current=u}var xs={},Wr=ys(xs),wn=ys(!1),bo=xs;function Ll(s,u){var f=s.type.contextTypes;if(!f)return xs;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var w={},S;for(S in f)w[S]=u[S];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=u,s.__reactInternalMemoizedMaskedChildContext=w),w}function _n(s){return s=s.childContextTypes,s!=null}function vf(){Dt(wn),Dt(Wr)}function ES(s,u,f){if(Wr.current!==xs)throw Error(r(168));Et(Wr,u),Et(wn,f)}function TS(s,u,f){var v=s.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var w in v)if(!(w in u))throw Error(r(108,de(s)||"Unknown",w));return re({},f,v)}function yf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||xs,bo=Wr.current,Et(Wr,s),Et(wn,wn.current),!0}function AS(s,u,f){var v=s.stateNode;if(!v)throw Error(r(169));f?(s=TS(s,u,bo),v.__reactInternalMemoizedMergedChildContext=s,Dt(wn),Dt(Wr),Et(Wr,s)):Dt(wn),Et(wn,f)}var ja=null,xf=!1,jg=!1;function PS(s){ja===null?ja=[s]:ja.push(s)}function f$(s){xf=!0,PS(s)}function bs(){if(!jg&&ja!==null){jg=!0;var s=0,u=st;try{var f=ja;for(st=1;s<f.length;s++){var v=f[s];do v=v(!0);while(v!==null)}ja=null,xf=!1}catch(w){throw ja!==null&&(ja=ja.slice(s+1)),yn(uo,bs),w}finally{st=u,jg=!1}}return null}var $l=[],Fl=0,bf=null,wf=0,ri=[],ni=0,wo=null,Sa=1,Na="";function _o(s,u){$l[Fl++]=wf,$l[Fl++]=bf,bf=s,wf=u}function CS(s,u,f){ri[ni++]=Sa,ri[ni++]=Na,ri[ni++]=wo,wo=s;var v=Sa;s=Na;var w=32-an(v)-1;v&=~(1<<w),f+=1;var S=32-an(u)+w;if(30<S){var V=w-w%5;S=(v&(1<<V)-1).toString(32),v>>=V,w-=V,Sa=1<<32-an(u)+w|f<<w|v,Na=S+s}else Sa=1<<S|f<<w|v,Na=s}function Sg(s){s.return!==null&&(_o(s,1),CS(s,1,0))}function Ng(s){for(;s===bf;)bf=$l[--Fl],$l[Fl]=null,wf=$l[--Fl],$l[Fl]=null;for(;s===wo;)wo=ri[--ni],ri[ni]=null,Na=ri[--ni],ri[ni]=null,Sa=ri[--ni],ri[ni]=null}var $n=null,Fn=null,Ut=!1,Ti=null;function IS(s,u){var f=oi(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=s,u=s.deletions,u===null?(s.deletions=[f],s.flags|=16):u.push(f)}function OS(s,u){switch(s.tag){case 5:var f=s.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(s.stateNode=u,$n=s,Fn=vs(u.firstChild),!0):!1;case 6:return u=s.pendingProps===""||u.nodeType!==3?null:u,u!==null?(s.stateNode=u,$n=s,Fn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=wo!==null?{id:Sa,overflow:Na}:null,s.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=oi(18,null,null,0),f.stateNode=u,f.return=s,s.child=f,$n=s,Fn=null,!0):!1;default:return!1}}function Eg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Tg(s){if(Ut){var u=Fn;if(u){var f=u;if(!OS(s,u)){if(Eg(s))throw Error(r(418));u=vs(f.nextSibling);var v=$n;u&&OS(s,u)?IS(v,f):(s.flags=s.flags&-4097|2,Ut=!1,$n=s)}}else{if(Eg(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ut=!1,$n=s}}}function RS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function _f(s){if(s!==$n)return!1;if(!Ut)return RS(s),Ut=!0,!1;var u;if((u=s.tag!==3)&&!(u=s.tag!==5)&&(u=s.type,u=u!=="head"&&u!=="body"&&!xg(s.type,s.memoizedProps)),u&&(u=Fn)){if(Eg(s))throw MS(),Error(r(418));for(;u;)IS(s,u),u=vs(u.nextSibling)}if(RS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(u===0){Fn=vs(s.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}s=s.nextSibling}Fn=null}}else Fn=$n?vs(s.stateNode.nextSibling):null;return!0}function MS(){for(var s=Fn;s;)s=vs(s.nextSibling)}function Vl(){Fn=$n=null,Ut=!1}function Ag(s){Ti===null?Ti=[s]:Ti.push(s)}var p$=O.ReactCurrentBatchConfig;function Au(s,u,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,s));var w=v,S=""+s;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(V){var H=w.refs;V===null?delete H[S]:H[S]=V},u._stringRef=S,u)}if(typeof s!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,s))}return s}function kf(s,u){throw s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s))}function DS(s){var u=s._init;return u(s._payload)}function LS(s){function u(ae,J){if(s){var oe=ae.deletions;oe===null?(ae.deletions=[J],ae.flags|=16):oe.push(J)}}function f(ae,J){if(!s)return null;for(;J!==null;)u(ae,J),J=J.sibling;return null}function v(ae,J){for(ae=new Map;J!==null;)J.key!==null?ae.set(J.key,J):ae.set(J.index,J),J=J.sibling;return ae}function w(ae,J){return ae=Ts(ae,J),ae.index=0,ae.sibling=null,ae}function S(ae,J,oe){return ae.index=oe,s?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<J?(ae.flags|=2,J):oe):(ae.flags|=2,J)):(ae.flags|=1048576,J)}function V(ae){return s&&ae.alternate===null&&(ae.flags|=2),ae}function H(ae,J,oe,Ee){return J===null||J.tag!==6?(J=bv(oe,ae.mode,Ee),J.return=ae,J):(J=w(J,oe),J.return=ae,J)}function G(ae,J,oe,Ee){var Ve=oe.type;return Ve===T?je(ae,J,oe.props.children,Ee,oe.key):J!==null&&(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&DS(Ve)===J.type)?(Ee=w(J,oe.props),Ee.ref=Au(ae,J,oe),Ee.return=ae,Ee):(Ee=Gf(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Au(ae,J,oe),Ee.return=ae,Ee)}function ce(ae,J,oe,Ee){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=wv(oe,ae.mode,Ee),J.return=ae,J):(J=w(J,oe.children||[]),J.return=ae,J)}function je(ae,J,oe,Ee,Ve){return J===null||J.tag!==7?(J=Po(oe,ae.mode,Ee,Ve),J.return=ae,J):(J=w(J,oe),J.return=ae,J)}function Ne(ae,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number")return J=bv(""+J,ae.mode,oe),J.return=ae,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return oe=Gf(J.type,J.key,J.props,null,ae.mode,oe),oe.ref=Au(ae,null,J),oe.return=ae,oe;case I:return J=wv(J,ae.mode,oe),J.return=ae,J;case Q:var Ee=J._init;return Ne(ae,Ee(J._payload),oe)}if(Ct(J)||Z(J))return J=Po(J,ae.mode,oe,null),J.return=ae,J;kf(ae,J)}return null}function ke(ae,J,oe,Ee){var Ve=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Ve!==null?null:H(ae,J,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:return oe.key===Ve?G(ae,J,oe,Ee):null;case I:return oe.key===Ve?ce(ae,J,oe,Ee):null;case Q:return Ve=oe._init,ke(ae,J,Ve(oe._payload),Ee)}if(Ct(oe)||Z(oe))return Ve!==null?null:je(ae,J,oe,Ee,null);kf(ae,oe)}return null}function Ce(ae,J,oe,Ee,Ve){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return ae=ae.get(oe)||null,H(J,ae,""+Ee,Ve);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case N:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,G(J,ae,Ee,Ve);case I:return ae=ae.get(Ee.key===null?oe:Ee.key)||null,ce(J,ae,Ee,Ve);case Q:var ze=Ee._init;return Ce(ae,J,oe,ze(Ee._payload),Ve)}if(Ct(Ee)||Z(Ee))return ae=ae.get(oe)||null,je(J,ae,Ee,Ve,null);kf(J,Ee)}return null}function De(ae,J,oe,Ee){for(var Ve=null,ze=null,We=J,Xe=J=0,Er=null;We!==null&&Xe<oe.length;Xe++){We.index>Xe?(Er=We,We=null):Er=We.sibling;var dt=ke(ae,We,oe[Xe],Ee);if(dt===null){We===null&&(We=Er);break}s&&We&&dt.alternate===null&&u(ae,We),J=S(dt,J,Xe),ze===null?Ve=dt:ze.sibling=dt,ze=dt,We=Er}if(Xe===oe.length)return f(ae,We),Ut&&_o(ae,Xe),Ve;if(We===null){for(;Xe<oe.length;Xe++)We=Ne(ae,oe[Xe],Ee),We!==null&&(J=S(We,J,Xe),ze===null?Ve=We:ze.sibling=We,ze=We);return Ut&&_o(ae,Xe),Ve}for(We=v(ae,We);Xe<oe.length;Xe++)Er=Ce(We,ae,Xe,oe[Xe],Ee),Er!==null&&(s&&Er.alternate!==null&&We.delete(Er.key===null?Xe:Er.key),J=S(Er,J,Xe),ze===null?Ve=Er:ze.sibling=Er,ze=Er);return s&&We.forEach(function(As){return u(ae,As)}),Ut&&_o(ae,Xe),Ve}function Le(ae,J,oe,Ee){var Ve=Z(oe);if(typeof Ve!="function")throw Error(r(150));if(oe=Ve.call(oe),oe==null)throw Error(r(151));for(var ze=Ve=null,We=J,Xe=J=0,Er=null,dt=oe.next();We!==null&&!dt.done;Xe++,dt=oe.next()){We.index>Xe?(Er=We,We=null):Er=We.sibling;var As=ke(ae,We,dt.value,Ee);if(As===null){We===null&&(We=Er);break}s&&We&&As.alternate===null&&u(ae,We),J=S(As,J,Xe),ze===null?Ve=As:ze.sibling=As,ze=As,We=Er}if(dt.done)return f(ae,We),Ut&&_o(ae,Xe),Ve;if(We===null){for(;!dt.done;Xe++,dt=oe.next())dt=Ne(ae,dt.value,Ee),dt!==null&&(J=S(dt,J,Xe),ze===null?Ve=dt:ze.sibling=dt,ze=dt);return Ut&&_o(ae,Xe),Ve}for(We=v(ae,We);!dt.done;Xe++,dt=oe.next())dt=Ce(We,ae,Xe,dt.value,Ee),dt!==null&&(s&&dt.alternate!==null&&We.delete(dt.key===null?Xe:dt.key),J=S(dt,J,Xe),ze===null?Ve=dt:ze.sibling=dt,ze=dt);return s&&We.forEach(function(G$){return u(ae,G$)}),Ut&&_o(ae,Xe),Ve}function ir(ae,J,oe,Ee){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case N:e:{for(var Ve=oe.key,ze=J;ze!==null;){if(ze.key===Ve){if(Ve=oe.type,Ve===T){if(ze.tag===7){f(ae,ze.sibling),J=w(ze,oe.props.children),J.return=ae,ae=J;break e}}else if(ze.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===Q&&DS(Ve)===ze.type){f(ae,ze.sibling),J=w(ze,oe.props),J.ref=Au(ae,ze,oe),J.return=ae,ae=J;break e}f(ae,ze);break}else u(ae,ze);ze=ze.sibling}oe.type===T?(J=Po(oe.props.children,ae.mode,Ee,oe.key),J.return=ae,ae=J):(Ee=Gf(oe.type,oe.key,oe.props,null,ae.mode,Ee),Ee.ref=Au(ae,J,oe),Ee.return=ae,ae=Ee)}return V(ae);case I:e:{for(ze=oe.key;J!==null;){if(J.key===ze)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){f(ae,J.sibling),J=w(J,oe.children||[]),J.return=ae,ae=J;break e}else{f(ae,J);break}else u(ae,J);J=J.sibling}J=wv(oe,ae.mode,Ee),J.return=ae,ae=J}return V(ae);case Q:return ze=oe._init,ir(ae,J,ze(oe._payload),Ee)}if(Ct(oe))return De(ae,J,oe,Ee);if(Z(oe))return Le(ae,J,oe,Ee);kf(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,J!==null&&J.tag===6?(f(ae,J.sibling),J=w(J,oe),J.return=ae,ae=J):(f(ae,J),J=bv(oe,ae.mode,Ee),J.return=ae,ae=J),V(ae)):f(ae,J)}return ir}var Bl=LS(!0),$S=LS(!1),jf=ys(null),Sf=null,Ul=null,Pg=null;function Cg(){Pg=Ul=Sf=null}function Ig(s){var u=jf.current;Dt(jf),s._currentValue=u}function Og(s,u,f){for(;s!==null;){var v=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),s===f)break;s=s.return}}function ql(s,u){Sf=s,Pg=Ul=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&u)!==0&&(kn=!0),s.firstContext=null)}function ii(s){var u=s._currentValue;if(Pg!==s)if(s={context:s,memoizedValue:u,next:null},Ul===null){if(Sf===null)throw Error(r(308));Ul=s,Sf.dependencies={lanes:0,firstContext:s}}else Ul=Ul.next=s;return u}var ko=null;function Rg(s){ko===null?ko=[s]:ko.push(s)}function FS(s,u,f,v){var w=u.interleaved;return w===null?(f.next=f,Rg(u)):(f.next=w.next,w.next=f),u.interleaved=f,Ea(s,v)}function Ea(s,u){s.lanes|=u;var f=s.alternate;for(f!==null&&(f.lanes|=u),f=s,s=s.return;s!==null;)s.childLanes|=u,f=s.alternate,f!==null&&(f.childLanes|=u),f=s,s=s.return;return f.tag===3?f.stateNode:null}var ws=!1;function Mg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VS(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ta(s,u){return{eventTime:s,lane:u,tag:0,payload:null,callback:null,next:null}}function _s(s,u,f){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(ut&2)!==0){var w=v.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),v.pending=u,Ea(s,f)}return w=v.interleaved,w===null?(u.next=u,Rg(v)):(u.next=w.next,w.next=u),v.interleaved=u,Ea(s,f)}function Nf(s,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=s.pendingLanes,f|=v,u.lanes=f,ds(s,f)}}function BS(s,u){var f=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var w=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?w=S=V:S=S.next=V,f=f.next}while(f!==null);S===null?w=S=u:S=S.next=u}else w=S=u;f={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:v.shared,effects:v.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=u}function Ef(s,u,f,v){var w=s.updateQueue;ws=!1;var S=w.firstBaseUpdate,V=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var G=H,ce=G.next;G.next=null,V===null?S=ce:V.next=ce,V=G;var je=s.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==V&&(H===null?je.firstBaseUpdate=ce:H.next=ce,je.lastBaseUpdate=G))}if(S!==null){var Ne=w.baseState;V=0,je=ce=G=null,H=S;do{var ke=H.lane,Ce=H.eventTime;if((v&ke)===ke){je!==null&&(je=je.next={eventTime:Ce,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var De=s,Le=H;switch(ke=u,Ce=f,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){Ne=De.call(Ce,Ne,ke);break e}Ne=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,ke=typeof De=="function"?De.call(Ce,Ne,ke):De,ke==null)break e;Ne=re({},Ne,ke);break e;case 2:ws=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ke=w.effects,ke===null?w.effects=[H]:ke.push(H))}else Ce={eventTime:Ce,lane:ke,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ce=je=Ce,G=Ne):je=je.next=Ce,V|=ke;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,w.lastBaseUpdate=ke,w.shared.pending=null}}while(!0);if(je===null&&(G=Ne),w.baseState=G,w.firstBaseUpdate=ce,w.lastBaseUpdate=je,u=w.shared.interleaved,u!==null){w=u;do V|=w.lane,w=w.next;while(w!==u)}else S===null&&(w.shared.lanes=0);No|=V,s.lanes=V,s.memoizedState=Ne}}function US(s,u,f){if(s=u.effects,u.effects=null,s!==null)for(u=0;u<s.length;u++){var v=s[u],w=v.callback;if(w!==null){if(v.callback=null,v=f,typeof w!="function")throw Error(r(191,w));w.call(v)}}}var Pu={},Ki=ys(Pu),Cu=ys(Pu),Iu=ys(Pu);function jo(s){if(s===Pu)throw Error(r(174));return s}function Dg(s,u){switch(Et(Iu,u),Et(Cu,s),Et(Ki,Pu),s=u.nodeType,s){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Wt(null,"");break;default:s=s===8?u.parentNode:u,u=s.namespaceURI||null,s=s.tagName,u=Wt(u,s)}Dt(Ki),Et(Ki,u)}function zl(){Dt(Ki),Dt(Cu),Dt(Iu)}function qS(s){jo(Iu.current);var u=jo(Ki.current),f=Wt(u,s.type);u!==f&&(Et(Cu,s),Et(Ki,f))}function Lg(s){Cu.current===s&&(Dt(Ki),Dt(Cu))}var Kt=ys(0);function Tf(s){for(var u=s;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var $g=[];function Fg(){for(var s=0;s<$g.length;s++)$g[s]._workInProgressVersionPrimary=null;$g.length=0}var Af=O.ReactCurrentDispatcher,Vg=O.ReactCurrentBatchConfig,So=0,Yt=null,gr=null,Sr=null,Pf=!1,Ou=!1,Ru=0,m$=0;function Hr(){throw Error(r(321))}function Bg(s,u){if(u===null)return!1;for(var f=0;f<u.length&&f<s.length;f++)if(!Ei(s[f],u[f]))return!1;return!0}function Ug(s,u,f,v,w,S){if(So=S,Yt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Af.current=s===null||s.memoizedState===null?x$:b$,s=f(v,w),Ou){S=0;do{if(Ou=!1,Ru=0,25<=S)throw Error(r(301));S+=1,Sr=gr=null,u.updateQueue=null,Af.current=w$,s=f(v,w)}while(Ou)}if(Af.current=Of,u=gr!==null&&gr.next!==null,So=0,Sr=gr=Yt=null,Pf=!1,u)throw Error(r(300));return s}function qg(){var s=Ru!==0;return Ru=0,s}function Yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Yt.memoizedState=Sr=s:Sr=Sr.next=s,Sr}function ai(){if(gr===null){var s=Yt.alternate;s=s!==null?s.memoizedState:null}else s=gr.next;var u=Sr===null?Yt.memoizedState:Sr.next;if(u!==null)Sr=u,gr=s;else{if(s===null)throw Error(r(310));gr=s,s={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Sr===null?Yt.memoizedState=Sr=s:Sr=Sr.next=s}return Sr}function Mu(s,u){return typeof u=="function"?u(s):u}function zg(s){var u=ai(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=gr,w=v.baseQueue,S=f.pending;if(S!==null){if(w!==null){var V=w.next;w.next=S.next,S.next=V}v.baseQueue=w=S,f.pending=null}if(w!==null){S=w.next,v=v.baseState;var H=V=null,G=null,ce=S;do{var je=ce.lane;if((So&je)===je)G!==null&&(G=G.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),v=ce.hasEagerState?ce.eagerState:s(v,ce.action);else{var Ne={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};G===null?(H=G=Ne,V=v):G=G.next=Ne,Yt.lanes|=je,No|=je}ce=ce.next}while(ce!==null&&ce!==S);G===null?V=v:G.next=H,Ei(v,u.memoizedState)||(kn=!0),u.memoizedState=v,u.baseState=V,u.baseQueue=G,f.lastRenderedState=v}if(s=f.interleaved,s!==null){w=s;do S=w.lane,Yt.lanes|=S,No|=S,w=w.next;while(w!==s)}else w===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Wg(s){var u=ai(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=s;var v=f.dispatch,w=f.pending,S=u.memoizedState;if(w!==null){f.pending=null;var V=w=w.next;do S=s(S,V.action),V=V.next;while(V!==w);Ei(S,u.memoizedState)||(kn=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),f.lastRenderedState=S}return[S,v]}function zS(){}function WS(s,u){var f=Yt,v=ai(),w=u(),S=!Ei(v.memoizedState,w);if(S&&(v.memoizedState=w,kn=!0),v=v.queue,Hg(KS.bind(null,f,v,s),[s]),v.getSnapshot!==u||S||Sr!==null&&Sr.memoizedState.tag&1){if(f.flags|=2048,Du(9,GS.bind(null,f,v,w,u),void 0,null),Nr===null)throw Error(r(349));(So&30)!==0||HS(f,u,w)}return w}function HS(s,u,f){s.flags|=16384,s={getSnapshot:u,value:f},u=Yt.updateQueue,u===null?(u={lastEffect:null,stores:null},Yt.updateQueue=u,u.stores=[s]):(f=u.stores,f===null?u.stores=[s]:f.push(s))}function GS(s,u,f,v){u.value=f,u.getSnapshot=v,YS(u)&&XS(s)}function KS(s,u,f){return f(function(){YS(u)&&XS(s)})}function YS(s){var u=s.getSnapshot;s=s.value;try{var f=u();return!Ei(s,f)}catch{return!0}}function XS(s){var u=Ea(s,1);u!==null&&Ii(u,s,1,-1)}function QS(s){var u=Yi();return typeof s=="function"&&(s=s()),u.memoizedState=u.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:s},u.queue=s,s=s.dispatch=y$.bind(null,Yt,s),[u.memoizedState,s]}function Du(s,u,f,v){return s={tag:s,create:u,destroy:f,deps:v,next:null},u=Yt.updateQueue,u===null?(u={lastEffect:null,stores:null},Yt.updateQueue=u,u.lastEffect=s.next=s):(f=u.lastEffect,f===null?u.lastEffect=s.next=s:(v=f.next,f.next=s,s.next=v,u.lastEffect=s)),s}function JS(){return ai().memoizedState}function Cf(s,u,f,v){var w=Yi();Yt.flags|=s,w.memoizedState=Du(1|u,f,void 0,v===void 0?null:v)}function If(s,u,f,v){var w=ai();v=v===void 0?null:v;var S=void 0;if(gr!==null){var V=gr.memoizedState;if(S=V.destroy,v!==null&&Bg(v,V.deps)){w.memoizedState=Du(u,f,S,v);return}}Yt.flags|=s,w.memoizedState=Du(1|u,f,S,v)}function ZS(s,u){return Cf(8390656,8,s,u)}function Hg(s,u){return If(2048,8,s,u)}function eN(s,u){return If(4,2,s,u)}function tN(s,u){return If(4,4,s,u)}function rN(s,u){if(typeof u=="function")return s=s(),u(s),function(){u(null)};if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function nN(s,u,f){return f=f!=null?f.concat([s]):null,If(4,4,rN.bind(null,u,s),f)}function Gg(){}function iN(s,u){var f=ai();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Bg(u,v[1])?v[0]:(f.memoizedState=[s,u],s)}function aN(s,u){var f=ai();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Bg(u,v[1])?v[0]:(s=s(),f.memoizedState=[s,u],s)}function sN(s,u,f){return(So&21)===0?(s.baseState&&(s.baseState=!1,kn=!0),s.memoizedState=f):(Ei(f,u)||(f=po(),Yt.lanes|=f,No|=f,s.baseState=!0),u)}function g$(s,u){var f=st;st=f!==0&&4>f?f:4,s(!0);var v=Vg.transition;Vg.transition={};try{s(!1),u()}finally{st=f,Vg.transition=v}}function oN(){return ai().memoizedState}function v$(s,u,f){var v=Ns(s);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},lN(s))cN(u,f);else if(f=FS(s,u,f,v),f!==null){var w=ln();Ii(f,s,v,w),uN(f,u,v)}}function y$(s,u,f){var v=Ns(s),w={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(lN(s))cN(u,w);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var V=u.lastRenderedState,H=S(V,f);if(w.hasEagerState=!0,w.eagerState=H,Ei(H,V)){var G=u.interleaved;G===null?(w.next=w,Rg(u)):(w.next=G.next,G.next=w),u.interleaved=w;return}}catch{}finally{}f=FS(s,u,w,v),f!==null&&(w=ln(),Ii(f,s,v,w),uN(f,u,v))}}function lN(s){var u=s.alternate;return s===Yt||u!==null&&u===Yt}function cN(s,u){Ou=Pf=!0;var f=s.pending;f===null?u.next=u:(u.next=f.next,f.next=u),s.pending=u}function uN(s,u,f){if((f&4194240)!==0){var v=u.lanes;v&=s.pendingLanes,f|=v,u.lanes=f,ds(s,f)}}var Of={readContext:ii,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},x$={readContext:ii,useCallback:function(s,u){return Yi().memoizedState=[s,u===void 0?null:u],s},useContext:ii,useEffect:ZS,useImperativeHandle:function(s,u,f){return f=f!=null?f.concat([s]):null,Cf(4194308,4,rN.bind(null,u,s),f)},useLayoutEffect:function(s,u){return Cf(4194308,4,s,u)},useInsertionEffect:function(s,u){return Cf(4,2,s,u)},useMemo:function(s,u){var f=Yi();return u=u===void 0?null:u,s=s(),f.memoizedState=[s,u],s},useReducer:function(s,u,f){var v=Yi();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:u},v.queue=s,s=s.dispatch=v$.bind(null,Yt,s),[v.memoizedState,s]},useRef:function(s){var u=Yi();return s={current:s},u.memoizedState=s},useState:QS,useDebugValue:Gg,useDeferredValue:function(s){return Yi().memoizedState=s},useTransition:function(){var s=QS(!1),u=s[0];return s=g$.bind(null,s[1]),Yi().memoizedState=s,[u,s]},useMutableSource:function(){},useSyncExternalStore:function(s,u,f){var v=Yt,w=Yi();if(Ut){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Nr===null)throw Error(r(349));(So&30)!==0||HS(v,u,f)}w.memoizedState=f;var S={value:f,getSnapshot:u};return w.queue=S,ZS(KS.bind(null,v,S,s),[s]),v.flags|=2048,Du(9,GS.bind(null,v,S,f,u),void 0,null),f},useId:function(){var s=Yi(),u=Nr.identifierPrefix;if(Ut){var f=Na,v=Sa;f=(v&~(1<<32-an(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=Ru++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=m$++,u=":"+u+"r"+f.toString(32)+":";return s.memoizedState=u},unstable_isNewReconciler:!1},b$={readContext:ii,useCallback:iN,useContext:ii,useEffect:Hg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:zg,useRef:JS,useState:function(){return zg(Mu)},useDebugValue:Gg,useDeferredValue:function(s){var u=ai();return sN(u,gr.memoizedState,s)},useTransition:function(){var s=zg(Mu)[0],u=ai().memoizedState;return[s,u]},useMutableSource:zS,useSyncExternalStore:WS,useId:oN,unstable_isNewReconciler:!1},w$={readContext:ii,useCallback:iN,useContext:ii,useEffect:Hg,useImperativeHandle:nN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:aN,useReducer:Wg,useRef:JS,useState:function(){return Wg(Mu)},useDebugValue:Gg,useDeferredValue:function(s){var u=ai();return gr===null?u.memoizedState=s:sN(u,gr.memoizedState,s)},useTransition:function(){var s=Wg(Mu)[0],u=ai().memoizedState;return[s,u]},useMutableSource:zS,useSyncExternalStore:WS,useId:oN,unstable_isNewReconciler:!1};function Ai(s,u){if(s&&s.defaultProps){u=re({},u),s=s.defaultProps;for(var f in s)u[f]===void 0&&(u[f]=s[f]);return u}return u}function Kg(s,u,f,v){u=s.memoizedState,f=f(v,u),f=f==null?u:re({},u,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var Rf={isMounted:function(s){return(s=s._reactInternals)?_t(s)===s:!1},enqueueSetState:function(s,u,f){s=s._reactInternals;var v=ln(),w=Ns(s),S=Ta(v,w);S.payload=u,f!=null&&(S.callback=f),u=_s(s,S,w),u!==null&&(Ii(u,s,w,v),Nf(u,s,w))},enqueueReplaceState:function(s,u,f){s=s._reactInternals;var v=ln(),w=Ns(s),S=Ta(v,w);S.tag=1,S.payload=u,f!=null&&(S.callback=f),u=_s(s,S,w),u!==null&&(Ii(u,s,w,v),Nf(u,s,w))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var f=ln(),v=Ns(s),w=Ta(f,v);w.tag=2,u!=null&&(w.callback=u),u=_s(s,w,v),u!==null&&(Ii(u,s,v,f),Nf(u,s,v))}};function dN(s,u,f,v,w,S,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,S,V):u.prototype&&u.prototype.isPureReactComponent?!_u(f,v)||!_u(w,S):!0}function hN(s,u,f){var v=!1,w=xs,S=u.contextType;return typeof S=="object"&&S!==null?S=ii(S):(w=_n(u)?bo:Wr.current,v=u.contextTypes,S=(v=v!=null)?Ll(s,w):xs),u=new u(f,S),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Rf,s.stateNode=u,u._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=S),u}function fN(s,u,f,v){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==s&&Rf.enqueueReplaceState(u,u.state,null)}function Yg(s,u,f,v){var w=s.stateNode;w.props=f,w.state=s.memoizedState,w.refs={},Mg(s);var S=u.contextType;typeof S=="object"&&S!==null?w.context=ii(S):(S=_n(u)?bo:Wr.current,w.context=Ll(s,S)),w.state=s.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(Kg(s,u,S,f),w.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(u=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),u!==w.state&&Rf.enqueueReplaceState(w,w.state,null),Ef(s,f,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Wl(s,u){try{var f="",v=u;do f+=ge(v),v=v.return;while(v);var w=f}catch(S){w=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:u,stack:w,digest:null}}function Xg(s,u,f){return{value:s,source:null,stack:f??null,digest:u??null}}function Qg(s,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var _$=typeof WeakMap=="function"?WeakMap:Map;function pN(s,u,f){f=Ta(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Bf||(Bf=!0,hv=v),Qg(s,u)},f}function mN(s,u,f){f=Ta(-1,f),f.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var w=u.value;f.payload=function(){return v(w)},f.callback=function(){Qg(s,u)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){Qg(s,u),typeof v!="function"&&(js===null?js=new Set([this]):js.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),f}function gN(s,u,f){var v=s.pingCache;if(v===null){v=s.pingCache=new _$;var w=new Set;v.set(u,w)}else w=v.get(u),w===void 0&&(w=new Set,v.set(u,w));w.has(f)||(w.add(f),s=D$.bind(null,s,u,f),u.then(s,s))}function vN(s){do{var u;if((u=s.tag===13)&&(u=s.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return s;s=s.return}while(s!==null);return null}function yN(s,u,f,v,w){return(s.mode&1)===0?(s===u?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Ta(-1,1),u.tag=2,_s(f,u,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var k$=O.ReactCurrentOwner,kn=!1;function on(s,u,f,v){u.child=s===null?$S(u,null,f,v):Bl(u,s.child,f,v)}function xN(s,u,f,v,w){f=f.render;var S=u.ref;return ql(u,w),v=Ug(s,u,f,v,S,w),f=qg(),s!==null&&!kn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~w,Aa(s,u,w)):(Ut&&f&&Sg(u),u.flags|=1,on(s,u,v,w),u.child)}function bN(s,u,f,v,w){if(s===null){var S=f.type;return typeof S=="function"&&!xv(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=S,wN(s,u,S,v,w)):(s=Gf(f.type,null,v,u,u.mode,w),s.ref=u.ref,s.return=u,u.child=s)}if(S=s.child,(s.lanes&w)===0){var V=S.memoizedProps;if(f=f.compare,f=f!==null?f:_u,f(V,v)&&s.ref===u.ref)return Aa(s,u,w)}return u.flags|=1,s=Ts(S,v),s.ref=u.ref,s.return=u,u.child=s}function wN(s,u,f,v,w){if(s!==null){var S=s.memoizedProps;if(_u(S,v)&&s.ref===u.ref)if(kn=!1,u.pendingProps=v=S,(s.lanes&w)!==0)(s.flags&131072)!==0&&(kn=!0);else return u.lanes=s.lanes,Aa(s,u,w)}return Jg(s,u,f,v,w)}function _N(s,u,f){var v=u.pendingProps,w=v.children,S=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Gl,Vn),Vn|=f;else{if((f&1073741824)===0)return s=S!==null?S.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:s,cachePool:null,transitions:null},u.updateQueue=null,Et(Gl,Vn),Vn|=s,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=S!==null?S.baseLanes:f,Et(Gl,Vn),Vn|=v}else S!==null?(v=S.baseLanes|f,u.memoizedState=null):v=f,Et(Gl,Vn),Vn|=v;return on(s,u,w,f),u.child}function kN(s,u){var f=u.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function Jg(s,u,f,v,w){var S=_n(f)?bo:Wr.current;return S=Ll(u,S),ql(u,w),f=Ug(s,u,f,v,S,w),v=qg(),s!==null&&!kn?(u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~w,Aa(s,u,w)):(Ut&&v&&Sg(u),u.flags|=1,on(s,u,f,w),u.child)}function jN(s,u,f,v,w){if(_n(f)){var S=!0;yf(u)}else S=!1;if(ql(u,w),u.stateNode===null)Df(s,u),hN(u,f,v),Yg(u,f,v,w),v=!0;else if(s===null){var V=u.stateNode,H=u.memoizedProps;V.props=H;var G=V.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=ii(ce):(ce=_n(f)?bo:Wr.current,ce=Ll(u,ce));var je=f.getDerivedStateFromProps,Ne=typeof je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ne||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==v||G!==ce)&&fN(u,V,v,ce),ws=!1;var ke=u.memoizedState;V.state=ke,Ef(u,v,V,w),G=u.memoizedState,H!==v||ke!==G||wn.current||ws?(typeof je=="function"&&(Kg(u,f,je,v),G=u.memoizedState),(H=ws||dN(u,f,H,v,ke,G,ce))?(Ne||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=G),V.props=v,V.state=G,V.context=ce,v=H):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{V=u.stateNode,VS(s,u),H=u.memoizedProps,ce=u.type===u.elementType?H:Ai(u.type,H),V.props=ce,Ne=u.pendingProps,ke=V.context,G=f.contextType,typeof G=="object"&&G!==null?G=ii(G):(G=_n(f)?bo:Wr.current,G=Ll(u,G));var Ce=f.getDerivedStateFromProps;(je=typeof Ce=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==Ne||ke!==G)&&fN(u,V,v,G),ws=!1,ke=u.memoizedState,V.state=ke,Ef(u,v,V,w);var De=u.memoizedState;H!==Ne||ke!==De||wn.current||ws?(typeof Ce=="function"&&(Kg(u,f,Ce,v),De=u.memoizedState),(ce=ws||dN(u,f,ce,v,ke,De,G)||!1)?(je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,De,G),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,De,G)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=De),V.props=v,V.state=De,V.context=G,v=ce):(typeof V.componentDidUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ke===s.memoizedState||(u.flags|=1024),v=!1)}return Zg(s,u,f,v,S,w)}function Zg(s,u,f,v,w,S){kN(s,u);var V=(u.flags&128)!==0;if(!v&&!V)return w&&AS(u,f,!1),Aa(s,u,S);v=u.stateNode,k$.current=u;var H=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,s!==null&&V?(u.child=Bl(u,s.child,null,S),u.child=Bl(u,null,H,S)):on(s,u,H,S),u.memoizedState=v.state,w&&AS(u,f,!0),u.child}function SN(s){var u=s.stateNode;u.pendingContext?ES(s,u.pendingContext,u.pendingContext!==u.context):u.context&&ES(s,u.context,!1),Dg(s,u.containerInfo)}function NN(s,u,f,v,w){return Vl(),Ag(w),u.flags|=256,on(s,u,f,v),u.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(s){return{baseLanes:s,cachePool:null,transitions:null}}function EN(s,u,f){var v=u.pendingProps,w=Kt.current,S=!1,V=(u.flags&128)!==0,H;if((H=V)||(H=s!==null&&s.memoizedState===null?!1:(w&2)!==0),H?(S=!0,u.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Et(Kt,w&1),s===null)return Tg(u),s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((u.mode&1)===0?u.lanes=1:s.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=v.children,s=v.fallback,S?(v=u.mode,S=u.child,V={mode:"hidden",children:V},(v&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=V):S=Kf(V,v,0,null),s=Po(s,v,f,null),S.return=u,s.return=u,S.sibling=s,u.child=S,u.child.memoizedState=tv(f),u.memoizedState=ev,s):rv(u,V));if(w=s.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return j$(s,u,V,v,H,w,f);if(S){S=v.fallback,V=u.mode,w=s.child,H=w.sibling;var G={mode:"hidden",children:v.children};return(V&1)===0&&u.child!==w?(v=u.child,v.childLanes=0,v.pendingProps=G,u.deletions=null):(v=Ts(w,G),v.subtreeFlags=w.subtreeFlags&14680064),H!==null?S=Ts(H,S):(S=Po(S,V,f,null),S.flags|=2),S.return=u,v.return=u,v.sibling=S,u.child=v,v=S,S=u.child,V=s.child.memoizedState,V=V===null?tv(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},S.memoizedState=V,S.childLanes=s.childLanes&~f,u.memoizedState=ev,v}return S=s.child,s=S.sibling,v=Ts(S,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=f),v.return=u,v.sibling=null,s!==null&&(f=u.deletions,f===null?(u.deletions=[s],u.flags|=16):f.push(s)),u.child=v,u.memoizedState=null,v}function rv(s,u){return u=Kf({mode:"visible",children:u},s.mode,0,null),u.return=s,s.child=u}function Mf(s,u,f,v){return v!==null&&Ag(v),Bl(u,s.child,null,f),s=rv(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function j$(s,u,f,v,w,S,V){if(f)return u.flags&256?(u.flags&=-257,v=Xg(Error(r(422))),Mf(s,u,V,v)):u.memoizedState!==null?(u.child=s.child,u.flags|=128,null):(S=v.fallback,w=u.mode,v=Kf({mode:"visible",children:v.children},w,0,null),S=Po(S,w,V,null),S.flags|=2,v.return=u,S.return=u,v.sibling=S,u.child=v,(u.mode&1)!==0&&Bl(u,s.child,null,V),u.child.memoizedState=tv(V),u.memoizedState=ev,S);if((u.mode&1)===0)return Mf(s,u,V,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var H=v.dgst;return v=H,S=Error(r(419)),v=Xg(S,v,void 0),Mf(s,u,V,v)}if(H=(V&s.childLanes)!==0,kn||H){if(v=Nr,v!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|V))!==0?0:w,w!==0&&w!==S.retryLane&&(S.retryLane=w,Ea(s,w),Ii(v,s,w,-1))}return yv(),v=Xg(Error(r(421))),Mf(s,u,V,v)}return w.data==="$?"?(u.flags|=128,u.child=s.child,u=L$.bind(null,s),w._reactRetry=u,null):(s=S.treeContext,Fn=vs(w.nextSibling),$n=u,Ut=!0,Ti=null,s!==null&&(ri[ni++]=Sa,ri[ni++]=Na,ri[ni++]=wo,Sa=s.id,Na=s.overflow,wo=u),u=rv(u,v.children),u.flags|=4096,u)}function TN(s,u,f){s.lanes|=u;var v=s.alternate;v!==null&&(v.lanes|=u),Og(s.return,u,f)}function nv(s,u,f,v,w){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:w}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=v,S.tail=f,S.tailMode=w)}function AN(s,u,f){var v=u.pendingProps,w=v.revealOrder,S=v.tail;if(on(s,u,v.children,f),v=Kt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&TN(s,f,u);else if(s.tag===19)TN(s,f,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(Et(Kt,v),(u.mode&1)===0)u.memoizedState=null;else switch(w){case"forwards":for(f=u.child,w=null;f!==null;)s=f.alternate,s!==null&&Tf(s)===null&&(w=f),f=f.sibling;f=w,f===null?(w=u.child,u.child=null):(w=f.sibling,f.sibling=null),nv(u,!1,w,f,S);break;case"backwards":for(f=null,w=u.child,u.child=null;w!==null;){if(s=w.alternate,s!==null&&Tf(s)===null){u.child=w;break}s=w.sibling,w.sibling=f,f=w,w=s}nv(u,!0,f,null,S);break;case"together":nv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Df(s,u){(u.mode&1)===0&&s!==null&&(s.alternate=null,u.alternate=null,u.flags|=2)}function Aa(s,u,f){if(s!==null&&(u.dependencies=s.dependencies),No|=u.lanes,(f&u.childLanes)===0)return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,f=Ts(s,s.pendingProps),u.child=f,f.return=u;s.sibling!==null;)s=s.sibling,f=f.sibling=Ts(s,s.pendingProps),f.return=u;f.sibling=null}return u.child}function S$(s,u,f){switch(u.tag){case 3:SN(u),Vl();break;case 5:qS(u);break;case 1:_n(u.type)&&yf(u);break;case 4:Dg(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,w=u.memoizedProps.value;Et(jf,v._currentValue),v._currentValue=w;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Et(Kt,Kt.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?EN(s,u,f):(Et(Kt,Kt.current&1),s=Aa(s,u,f),s!==null?s.sibling:null);Et(Kt,Kt.current&1);break;case 19:if(v=(f&u.childLanes)!==0,(s.flags&128)!==0){if(v)return AN(s,u,f);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Et(Kt,Kt.current),v)break;return null;case 22:case 23:return u.lanes=0,_N(s,u,f)}return Aa(s,u,f)}var PN,iv,CN,IN;PN=function(s,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},iv=function(){},CN=function(s,u,f,v){var w=s.memoizedProps;if(w!==v){s=u.stateNode,jo(Ki.current);var S=null;switch(f){case"input":w=_e(s,w),v=_e(s,v),S=[];break;case"select":w=re({},w,{value:void 0}),v=re({},v,{value:void 0}),S=[];break;case"textarea":w=Ir(s,w),v=Ir(s,v),S=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=mf)}rs(f,v);var V;f=null;for(ce in w)if(!v.hasOwnProperty(ce)&&w.hasOwnProperty(ce)&&w[ce]!=null)if(ce==="style"){var H=w[ce];for(V in H)H.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(i.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in v){var G=v[ce];if(H=w?.[ce],v.hasOwnProperty(ce)&&G!==H&&(G!=null||H!=null))if(ce==="style")if(H){for(V in H)!H.hasOwnProperty(V)||G&&G.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in G)G.hasOwnProperty(V)&&H[V]!==G[V]&&(f||(f={}),f[V]=G[V])}else f||(S||(S=[]),S.push(ce,f)),f=G;else ce==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,H=H?H.__html:void 0,G!=null&&H!==G&&(S=S||[]).push(ce,G)):ce==="children"?typeof G!="string"&&typeof G!="number"||(S=S||[]).push(ce,""+G):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(i.hasOwnProperty(ce)?(G!=null&&ce==="onScroll"&&Mt("scroll",s),S||H===G||(S=[])):(S=S||[]).push(ce,G))}f&&(S=S||[]).push("style",f);var ce=S;(u.updateQueue=ce)&&(u.flags|=4)}},IN=function(s,u,f,v){f!==v&&(u.flags|=4)};function Lu(s,u){if(!Ut)switch(s.tailMode){case"hidden":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Gr(s){var u=s.alternate!==null&&s.alternate.child===s.child,f=0,v=0;if(u)for(var w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)f|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=v,s.childLanes=f,u}function N$(s,u,f){var v=u.pendingProps;switch(Ng(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(u),null;case 1:return _n(u.type)&&vf(),Gr(u),null;case 3:return v=u.stateNode,zl(),Dt(wn),Dt(Wr),Fg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(_f(u)?u.flags|=4:s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ti!==null&&(mv(Ti),Ti=null))),iv(s,u),Gr(u),null;case 5:Lg(u);var w=jo(Iu.current);if(f=u.type,s!==null&&u.stateNode!=null)CN(s,u,f,v,w),s.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Gr(u),null}if(s=jo(Ki.current),_f(u)){v=u.stateNode,f=u.type;var S=u.memoizedProps;switch(v[Gi]=u,v[Eu]=S,s=(u.mode&1)!==0,f){case"dialog":Mt("cancel",v),Mt("close",v);break;case"iframe":case"object":case"embed":Mt("load",v);break;case"video":case"audio":for(w=0;w<ju.length;w++)Mt(ju[w],v);break;case"source":Mt("error",v);break;case"img":case"image":case"link":Mt("error",v),Mt("load",v);break;case"details":Mt("toggle",v);break;case"input":Ie(v,S),Mt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!S.multiple},Mt("invalid",v);break;case"textarea":nn(v,S),Mt("invalid",v)}rs(f,S),w=null;for(var V in S)if(S.hasOwnProperty(V)){var H=S[V];V==="children"?typeof H=="string"?v.textContent!==H&&(S.suppressHydrationWarning!==!0&&pf(v.textContent,H,s),w=["children",H]):typeof H=="number"&&v.textContent!==""+H&&(S.suppressHydrationWarning!==!0&&pf(v.textContent,H,s),w=["children",""+H]):i.hasOwnProperty(V)&&H!=null&&V==="onScroll"&&Mt("scroll",v)}switch(f){case"input":xe(v),pr(v,S,!0);break;case"textarea":xe(v),Cn(v);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(v.onclick=mf)}v=w,u.updateQueue=v,v!==null&&(u.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=zt(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=V.createElement(f,{is:v.is}):(s=V.createElement(f),f==="select"&&(V=s,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):s=V.createElementNS(s,f),s[Gi]=u,s[Eu]=v,PN(s,u,!1,!1),u.stateNode=s;e:{switch(V=bi(f,v),f){case"dialog":Mt("cancel",s),Mt("close",s),w=v;break;case"iframe":case"object":case"embed":Mt("load",s),w=v;break;case"video":case"audio":for(w=0;w<ju.length;w++)Mt(ju[w],s);w=v;break;case"source":Mt("error",s),w=v;break;case"img":case"image":case"link":Mt("error",s),Mt("load",s),w=v;break;case"details":Mt("toggle",s),w=v;break;case"input":Ie(s,v),w=_e(s,v),Mt("invalid",s);break;case"option":w=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},w=re({},v,{value:void 0}),Mt("invalid",s);break;case"textarea":nn(s,v),w=Ir(s,v),Mt("invalid",s);break;default:w=v}rs(f,w),H=w;for(S in H)if(H.hasOwnProperty(S)){var G=H[S];S==="style"?va(s,G):S==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&mt(s,G)):S==="children"?typeof G=="string"?(f!=="textarea"||G!=="")&&Bi(s,G):typeof G=="number"&&Bi(s,""+G):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?G!=null&&S==="onScroll"&&Mt("scroll",s):G!=null&&P(s,S,G,V))}switch(f){case"input":xe(s),pr(s,v,!1);break;case"textarea":xe(s),Cn(s);break;case"option":v.value!=null&&s.setAttribute("value",""+be(v.value));break;case"select":s.multiple=!!v.multiple,S=v.value,S!=null?It(s,!!v.multiple,S,!1):v.defaultValue!=null&&It(s,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=mf)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Gr(u),null;case 6:if(s&&u.stateNode!=null)IN(s,u,s.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(f=jo(Iu.current),jo(Ki.current),_f(u)){if(v=u.stateNode,f=u.memoizedProps,v[Gi]=u,(S=v.nodeValue!==f)&&(s=$n,s!==null))switch(s.tag){case 3:pf(v.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pf(v.nodeValue,f,(s.mode&1)!==0)}S&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[Gi]=u,u.stateNode=v}return Gr(u),null;case 13:if(Dt(Kt),v=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ut&&Fn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)MS(),Vl(),u.flags|=98560,S=!1;else if(S=_f(u),v!==null&&v.dehydrated!==null){if(s===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Gi]=u}else Vl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gr(u),S=!1}else Ti!==null&&(mv(Ti),Ti=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(s===null||(Kt.current&1)!==0?vr===0&&(vr=3):yv())),u.updateQueue!==null&&(u.flags|=4),Gr(u),null);case 4:return zl(),iv(s,u),s===null&&Su(u.stateNode.containerInfo),Gr(u),null;case 10:return Ig(u.type._context),Gr(u),null;case 17:return _n(u.type)&&vf(),Gr(u),null;case 19:if(Dt(Kt),S=u.memoizedState,S===null)return Gr(u),null;if(v=(u.flags&128)!==0,V=S.rendering,V===null)if(v)Lu(S,!1);else{if(vr!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(V=Tf(s),V!==null){for(u.flags|=128,Lu(S,!1),v=V.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)S=f,s=v,S.flags&=14680066,V=S.alternate,V===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=V.childLanes,S.lanes=V.lanes,S.child=V.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=V.memoizedProps,S.memoizedState=V.memoizedState,S.updateQueue=V.updateQueue,S.type=V.type,s=V.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Et(Kt,Kt.current&1|2),u.child}s=s.sibling}S.tail!==null&&Nt()>Kl&&(u.flags|=128,v=!0,Lu(S,!1),u.lanes=4194304)}else{if(!v)if(s=Tf(V),s!==null){if(u.flags|=128,v=!0,f=s.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),Lu(S,!0),S.tail===null&&S.tailMode==="hidden"&&!V.alternate&&!Ut)return Gr(u),null}else 2*Nt()-S.renderingStartTime>Kl&&f!==1073741824&&(u.flags|=128,v=!0,Lu(S,!1),u.lanes=4194304);S.isBackwards?(V.sibling=u.child,u.child=V):(f=S.last,f!==null?f.sibling=V:u.child=V,S.last=V)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=Nt(),u.sibling=null,f=Kt.current,Et(Kt,v?f&1|2:f&1),u):(Gr(u),null);case 22:case 23:return vv(),v=u.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Vn&1073741824)!==0&&(Gr(u),u.subtreeFlags&6&&(u.flags|=8192)):Gr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function E$(s,u){switch(Ng(u),u.tag){case 1:return _n(u.type)&&vf(),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return zl(),Dt(wn),Dt(Wr),Fg(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 5:return Lg(u),null;case 13:if(Dt(Kt),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Vl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return Dt(Kt),null;case 4:return zl(),null;case 10:return Ig(u.type._context),null;case 22:case 23:return vv(),null;case 24:return null;default:return null}}var Lf=!1,Kr=!1,T$=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Hl(s,u){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){Zt(s,u,v)}else f.current=null}function av(s,u,f){try{f()}catch(v){Zt(s,u,v)}}var ON=!1;function A$(s,u){if(vg=ps,s=dS(),cg(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var w=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var V=0,H=-1,G=-1,ce=0,je=0,Ne=s,ke=null;t:for(;;){for(var Ce;Ne!==f||w!==0&&Ne.nodeType!==3||(H=V+w),Ne!==S||v!==0&&Ne.nodeType!==3||(G=V+v),Ne.nodeType===3&&(V+=Ne.nodeValue.length),(Ce=Ne.firstChild)!==null;)ke=Ne,Ne=Ce;for(;;){if(Ne===s)break t;if(ke===f&&++ce===w&&(H=V),ke===S&&++je===v&&(G=V),(Ce=Ne.nextSibling)!==null)break;Ne=ke,ke=Ne.parentNode}Ne=Ce}f=H===-1||G===-1?null:{start:H,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(yg={focusedElem:s,selectionRange:f},ps=!1,Oe=u;Oe!==null;)if(u=Oe,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,Oe=s;else for(;Oe!==null;){u=Oe;try{var De=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,ir=De.memoizedState,ae=u.stateNode,J=ae.getSnapshotBeforeUpdate(u.elementType===u.type?Le:Ai(u.type,Le),ir);ae.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){Zt(u,u.return,Ee)}if(s=u.sibling,s!==null){s.return=u.return,Oe=s;break}Oe=u.return}return De=ON,ON=!1,De}function $u(s,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&s)===s){var S=w.destroy;w.destroy=void 0,S!==void 0&&av(u,f,S)}w=w.next}while(w!==v)}}function $f(s,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&s)===s){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function sv(s){var u=s.ref;if(u!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof u=="function"?u(s):u.current=s}}function RN(s){var u=s.alternate;u!==null&&(s.alternate=null,RN(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&(delete u[Gi],delete u[Eu],delete u[_g],delete u[d$],delete u[h$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function MN(s){return s.tag===5||s.tag===3||s.tag===4}function DN(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||MN(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ov(s,u,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(s,u):f.insertBefore(s,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(s,f)):(u=f,u.appendChild(s)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=mf));else if(v!==4&&(s=s.child,s!==null))for(ov(s,u,f),s=s.sibling;s!==null;)ov(s,u,f),s=s.sibling}function lv(s,u,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,u?f.insertBefore(s,u):f.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(lv(s,u,f),s=s.sibling;s!==null;)lv(s,u,f),s=s.sibling}var Mr=null,Pi=!1;function ks(s,u,f){for(f=f.child;f!==null;)LN(s,u,f),f=f.sibling}function LN(s,u,f){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ho,f)}catch{}switch(f.tag){case 5:Kr||Hl(f,u);case 6:var v=Mr,w=Pi;Mr=null,ks(s,u,f),Mr=v,Pi=w,Mr!==null&&(Pi?(s=Mr,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):Mr.removeChild(f.stateNode));break;case 18:Mr!==null&&(Pi?(s=Mr,f=f.stateNode,s.nodeType===8?wg(s.parentNode,f):s.nodeType===1&&wg(s,f),Si(s)):wg(Mr,f.stateNode));break;case 4:v=Mr,w=Pi,Mr=f.stateNode.containerInfo,Pi=!0,ks(s,u,f),Mr=v,Pi=w;break;case 0:case 11:case 14:case 15:if(!Kr&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var S=w,V=S.destroy;S=S.tag,V!==void 0&&((S&2)!==0||(S&4)!==0)&&av(f,u,V),w=w.next}while(w!==v)}ks(s,u,f);break;case 1:if(!Kr&&(Hl(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(H){Zt(f,u,H)}ks(s,u,f);break;case 21:ks(s,u,f);break;case 22:f.mode&1?(Kr=(v=Kr)||f.memoizedState!==null,ks(s,u,f),Kr=v):ks(s,u,f);break;default:ks(s,u,f)}}function $N(s){var u=s.updateQueue;if(u!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new T$),u.forEach(function(v){var w=$$.bind(null,s,v);f.has(v)||(f.add(v),v.then(w,w))})}}function Ci(s,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var w=f[v];try{var S=s,V=u,H=V;e:for(;H!==null;){switch(H.tag){case 5:Mr=H.stateNode,Pi=!1;break e;case 3:Mr=H.stateNode.containerInfo,Pi=!0;break e;case 4:Mr=H.stateNode.containerInfo,Pi=!0;break e}H=H.return}if(Mr===null)throw Error(r(160));LN(S,V,w),Mr=null,Pi=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(ce){Zt(w,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)FN(u,s),u=u.sibling}function FN(s,u){var f=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ci(u,s),Xi(s),v&4){try{$u(3,s,s.return),$f(3,s)}catch(Le){Zt(s,s.return,Le)}try{$u(5,s,s.return)}catch(Le){Zt(s,s.return,Le)}}break;case 1:Ci(u,s),Xi(s),v&512&&f!==null&&Hl(f,f.return);break;case 5:if(Ci(u,s),Xi(s),v&512&&f!==null&&Hl(f,f.return),s.flags&32){var w=s.stateNode;try{Bi(w,"")}catch(Le){Zt(s,s.return,Le)}}if(v&4&&(w=s.stateNode,w!=null)){var S=s.memoizedProps,V=f!==null?f.memoizedProps:S,H=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{H==="input"&&S.type==="radio"&&S.name!=null&&Ue(w,S),bi(H,V);var ce=bi(H,S);for(V=0;V<G.length;V+=2){var je=G[V],Ne=G[V+1];je==="style"?va(w,Ne):je==="dangerouslySetInnerHTML"?mt(w,Ne):je==="children"?Bi(w,Ne):P(w,je,Ne,ce)}switch(H){case"input":Qt(w,S);break;case"textarea":or(w,S);break;case"select":var ke=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!S.multiple;var Ce=S.value;Ce!=null?It(w,!!S.multiple,Ce,!1):ke!==!!S.multiple&&(S.defaultValue!=null?It(w,!!S.multiple,S.defaultValue,!0):It(w,!!S.multiple,S.multiple?[]:"",!1))}w[Eu]=S}catch(Le){Zt(s,s.return,Le)}}break;case 6:if(Ci(u,s),Xi(s),v&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,S=s.memoizedProps;try{w.nodeValue=S}catch(Le){Zt(s,s.return,Le)}}break;case 3:if(Ci(u,s),Xi(s),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Si(u.containerInfo)}catch(Le){Zt(s,s.return,Le)}break;case 4:Ci(u,s),Xi(s);break;case 13:Ci(u,s),Xi(s),w=s.child,w.flags&8192&&(S=w.memoizedState!==null,w.stateNode.isHidden=S,!S||w.alternate!==null&&w.alternate.memoizedState!==null||(dv=Nt())),v&4&&$N(s);break;case 22:if(je=f!==null&&f.memoizedState!==null,s.mode&1?(Kr=(ce=Kr)||je,Ci(u,s),Kr=ce):Ci(u,s),Xi(s),v&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!je&&(s.mode&1)!==0)for(Oe=s,je=s.child;je!==null;){for(Ne=Oe=je;Oe!==null;){switch(ke=Oe,Ce=ke.child,ke.tag){case 0:case 11:case 14:case 15:$u(4,ke,ke.return);break;case 1:Hl(ke,ke.return);var De=ke.stateNode;if(typeof De.componentWillUnmount=="function"){v=ke,f=ke.return;try{u=v,De.props=u.memoizedProps,De.state=u.memoizedState,De.componentWillUnmount()}catch(Le){Zt(v,f,Le)}}break;case 5:Hl(ke,ke.return);break;case 22:if(ke.memoizedState!==null){UN(Ne);continue}}Ce!==null?(Ce.return=ke,Oe=Ce):UN(Ne)}je=je.sibling}e:for(je=null,Ne=s;;){if(Ne.tag===5){if(je===null){je=Ne;try{w=Ne.stateNode,ce?(S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(H=Ne.stateNode,G=Ne.memoizedProps.style,V=G!=null&&G.hasOwnProperty("display")?G.display:null,H.style.display=oo("display",V))}catch(Le){Zt(s,s.return,Le)}}}else if(Ne.tag===6){if(je===null)try{Ne.stateNode.nodeValue=ce?"":Ne.memoizedProps}catch(Le){Zt(s,s.return,Le)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===s)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===s)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===s)break e;je===Ne&&(je=null),Ne=Ne.return}je===Ne&&(je=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:Ci(u,s),Xi(s),v&4&&$N(s);break;case 21:break;default:Ci(u,s),Xi(s)}}function Xi(s){var u=s.flags;if(u&2){try{e:{for(var f=s.return;f!==null;){if(MN(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(Bi(w,""),v.flags&=-33);var S=DN(s);lv(s,S,w);break;case 3:case 4:var V=v.stateNode.containerInfo,H=DN(s);ov(s,H,V);break;default:throw Error(r(161))}}catch(G){Zt(s,s.return,G)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function P$(s,u,f){Oe=s,VN(s)}function VN(s,u,f){for(var v=(s.mode&1)!==0;Oe!==null;){var w=Oe,S=w.child;if(w.tag===22&&v){var V=w.memoizedState!==null||Lf;if(!V){var H=w.alternate,G=H!==null&&H.memoizedState!==null||Kr;H=Lf;var ce=Kr;if(Lf=V,(Kr=G)&&!ce)for(Oe=w;Oe!==null;)V=Oe,G=V.child,V.tag===22&&V.memoizedState!==null?qN(w):G!==null?(G.return=V,Oe=G):qN(w);for(;S!==null;)Oe=S,VN(S),S=S.sibling;Oe=w,Lf=H,Kr=ce}BN(s)}else(w.subtreeFlags&8772)!==0&&S!==null?(S.return=w,Oe=S):BN(s)}}function BN(s){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Kr||$f(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Kr)if(f===null)v.componentDidMount();else{var w=u.elementType===u.type?f.memoizedProps:Ai(u.type,f.memoizedProps);v.componentDidUpdate(w,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&US(u,S,v);break;case 3:var V=u.updateQueue;if(V!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}US(u,V,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var G=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&f.focus();break;case"img":G.src&&(f.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Ne=je.dehydrated;Ne!==null&&Si(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kr||u.flags&512&&sv(u)}catch(ke){Zt(u,u.return,ke)}}if(u===s){Oe=null;break}if(f=u.sibling,f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function UN(s){for(;Oe!==null;){var u=Oe;if(u===s){Oe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function qN(s){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{$f(4,u)}catch(G){Zt(u,f,G)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var w=u.return;try{v.componentDidMount()}catch(G){Zt(u,w,G)}}var S=u.return;try{sv(u)}catch(G){Zt(u,S,G)}break;case 5:var V=u.return;try{sv(u)}catch(G){Zt(u,V,G)}}}catch(G){Zt(u,u.return,G)}if(u===s){Oe=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Oe=H;break}Oe=u.return}}var C$=Math.ceil,Ff=O.ReactCurrentDispatcher,cv=O.ReactCurrentOwner,si=O.ReactCurrentBatchConfig,ut=0,Nr=null,cr=null,Dr=0,Vn=0,Gl=ys(0),vr=0,Fu=null,No=0,Vf=0,uv=0,Vu=null,jn=null,dv=0,Kl=1/0,Pa=null,Bf=!1,hv=null,js=null,Uf=!1,Ss=null,qf=0,Bu=0,fv=null,zf=-1,Wf=0;function ln(){return(ut&6)!==0?Nt():zf!==-1?zf:zf=Nt()}function Ns(s){return(s.mode&1)===0?1:(ut&2)!==0&&Dr!==0?Dr&-Dr:p$.transition!==null?(Wf===0&&(Wf=po()),Wf):(s=st,s!==0||(s=window.event,s=s===void 0?16:mu(s.type)),s)}function Ii(s,u,f,v){if(50<Bu)throw Bu=0,fv=null,Error(r(185));us(s,f,v),((ut&2)===0||s!==Nr)&&(s===Nr&&((ut&2)===0&&(Vf|=f),vr===4&&Es(s,Dr)),Sn(s,v),f===1&&ut===0&&(u.mode&1)===0&&(Kl=Nt()+500,xf&&bs()))}function Sn(s,u){var f=s.callbackNode;ya(s,u);var v=fo(s,s===Nr?Dr:0);if(v===0)f!==null&&Rt(f),s.callbackNode=null,s.callbackPriority=0;else if(u=v&-v,s.callbackPriority!==u){if(f!=null&&Rt(f),u===1)s.tag===0?f$(WN.bind(null,s)):PS(WN.bind(null,s)),c$(function(){(ut&6)===0&&bs()}),f=null;else{switch(hs(v)){case 1:f=uo;break;case 4:f=os;break;case 16:f=Zn;break;case 536870912:f=zh;break;default:f=Zn}f=ZN(f,zN.bind(null,s))}s.callbackPriority=u,s.callbackNode=f}}function zN(s,u){if(zf=-1,Wf=0,(ut&6)!==0)throw Error(r(327));var f=s.callbackNode;if(Yl()&&s.callbackNode!==f)return null;var v=fo(s,s===Nr?Dr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||u)u=Hf(s,v);else{u=v;var w=ut;ut|=2;var S=GN();(Nr!==s||Dr!==u)&&(Pa=null,Kl=Nt()+500,To(s,u));do try{R$();break}catch(H){HN(s,H)}while(!0);Cg(),Ff.current=S,ut=w,cr!==null?u=0:(Nr=null,Dr=0,u=vr)}if(u!==0){if(u===2&&(w=Mn(s),w!==0&&(v=w,u=pv(s,w))),u===1)throw f=Fu,To(s,0),Es(s,v),Sn(s,Nt()),f;if(u===6)Es(s,v);else{if(w=s.current.alternate,(v&30)===0&&!I$(w)&&(u=Hf(s,v),u===2&&(S=Mn(s),S!==0&&(v=S,u=pv(s,S))),u===1))throw f=Fu,To(s,0),Es(s,v),Sn(s,Nt()),f;switch(s.finishedWork=w,s.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Ao(s,jn,Pa);break;case 3:if(Es(s,v),(v&130023424)===v&&(u=dv+500-Nt(),10<u)){if(fo(s,0)!==0)break;if(w=s.suspendedLanes,(w&v)!==v){ln(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=bg(Ao.bind(null,s,jn,Pa),u);break}Ao(s,jn,Pa);break;case 4:if(Es(s,v),(v&4194240)===v)break;for(u=s.eventTimes,w=-1;0<v;){var V=31-an(v);S=1<<V,V=u[V],V>w&&(w=V),v&=~S}if(v=w,v=Nt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*C$(v/1960))-v,10<v){s.timeoutHandle=bg(Ao.bind(null,s,jn,Pa),v);break}Ao(s,jn,Pa);break;case 5:Ao(s,jn,Pa);break;default:throw Error(r(329))}}}return Sn(s,Nt()),s.callbackNode===f?zN.bind(null,s):null}function pv(s,u){var f=Vu;return s.current.memoizedState.isDehydrated&&(To(s,u).flags|=256),s=Hf(s,u),s!==2&&(u=jn,jn=f,u!==null&&mv(u)),s}function mv(s){jn===null?jn=s:jn.push.apply(jn,s)}function I$(s){for(var u=s;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var w=f[v],S=w.getSnapshot;w=w.value;try{if(!Ei(S(),w))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Es(s,u){for(u&=~uv,u&=~Vf,s.suspendedLanes|=u,s.pingedLanes&=~u,s=s.expirationTimes;0<u;){var f=31-an(u),v=1<<f;s[f]=-1,u&=~v}}function WN(s){if((ut&6)!==0)throw Error(r(327));Yl();var u=fo(s,0);if((u&1)===0)return Sn(s,Nt()),null;var f=Hf(s,u);if(s.tag!==0&&f===2){var v=Mn(s);v!==0&&(u=v,f=pv(s,v))}if(f===1)throw f=Fu,To(s,0),Es(s,u),Sn(s,Nt()),f;if(f===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=u,Ao(s,jn,Pa),Sn(s,Nt()),null}function gv(s,u){var f=ut;ut|=1;try{return s(u)}finally{ut=f,ut===0&&(Kl=Nt()+500,xf&&bs())}}function Eo(s){Ss!==null&&Ss.tag===0&&(ut&6)===0&&Yl();var u=ut;ut|=1;var f=si.transition,v=st;try{if(si.transition=null,st=1,s)return s()}finally{st=v,si.transition=f,ut=u,(ut&6)===0&&bs()}}function vv(){Vn=Gl.current,Dt(Gl)}function To(s,u){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,l$(f)),cr!==null)for(f=cr.return;f!==null;){var v=f;switch(Ng(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&vf();break;case 3:zl(),Dt(wn),Dt(Wr),Fg();break;case 5:Lg(v);break;case 4:zl();break;case 13:Dt(Kt);break;case 19:Dt(Kt);break;case 10:Ig(v.type._context);break;case 22:case 23:vv()}f=f.return}if(Nr=s,cr=s=Ts(s.current,null),Dr=Vn=u,vr=0,Fu=null,uv=Vf=No=0,jn=Vu=null,ko!==null){for(u=0;u<ko.length;u++)if(f=ko[u],v=f.interleaved,v!==null){f.interleaved=null;var w=v.next,S=f.pending;if(S!==null){var V=S.next;S.next=w,v.next=V}f.pending=v}ko=null}return s}function HN(s,u){do{var f=cr;try{if(Cg(),Af.current=Of,Pf){for(var v=Yt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}Pf=!1}if(So=0,Sr=gr=Yt=null,Ou=!1,Ru=0,cv.current=null,f===null||f.return===null){vr=1,Fu=u,cr=null;break}e:{var S=s,V=f.return,H=f,G=u;if(u=Dr,H.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=G,je=H,Ne=je.tag;if((je.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var Ce=vN(V);if(Ce!==null){Ce.flags&=-257,yN(Ce,V,H,S,u),Ce.mode&1&&gN(S,ce,u),u=Ce,G=ce;var De=u.updateQueue;if(De===null){var Le=new Set;Le.add(G),u.updateQueue=Le}else De.add(G);break e}else{if((u&1)===0){gN(S,ce,u),yv();break e}G=Error(r(426))}}else if(Ut&&H.mode&1){var ir=vN(V);if(ir!==null){(ir.flags&65536)===0&&(ir.flags|=256),yN(ir,V,H,S,u),Ag(Wl(G,H));break e}}S=G=Wl(G,H),vr!==4&&(vr=2),Vu===null?Vu=[S]:Vu.push(S),S=V;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var ae=pN(S,G,u);BS(S,ae);break e;case 1:H=G;var J=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof J.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(js===null||!js.has(oe)))){S.flags|=65536,u&=-u,S.lanes|=u;var Ee=mN(S,H,u);BS(S,Ee);break e}}S=S.return}while(S!==null)}YN(f)}catch(Ve){u=Ve,cr===f&&f!==null&&(cr=f=f.return);continue}break}while(!0)}function GN(){var s=Ff.current;return Ff.current=Of,s===null?Of:s}function yv(){(vr===0||vr===3||vr===2)&&(vr=4),Nr===null||(No&268435455)===0&&(Vf&268435455)===0||Es(Nr,Dr)}function Hf(s,u){var f=ut;ut|=2;var v=GN();(Nr!==s||Dr!==u)&&(Pa=null,To(s,u));do try{O$();break}catch(w){HN(s,w)}while(!0);if(Cg(),ut=f,Ff.current=v,cr!==null)throw Error(r(261));return Nr=null,Dr=0,vr}function O$(){for(;cr!==null;)KN(cr)}function R$(){for(;cr!==null&&!Uh();)KN(cr)}function KN(s){var u=JN(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,u===null?YN(s):cr=u,cv.current=null}function YN(s){var u=s;do{var f=u.alternate;if(s=u.return,(u.flags&32768)===0){if(f=N$(f,u,Vn),f!==null){cr=f;return}}else{if(f=E$(f,u),f!==null){f.flags&=32767,cr=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{vr=6,cr=null;return}}if(u=u.sibling,u!==null){cr=u;return}cr=u=s}while(u!==null);vr===0&&(vr=5)}function Ao(s,u,f){var v=st,w=si.transition;try{si.transition=null,st=1,M$(s,u,f,v)}finally{si.transition=w,st=v}return null}function M$(s,u,f,v){do Yl();while(Ss!==null);if((ut&6)!==0)throw Error(r(327));f=s.finishedWork;var w=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(jt(s,S),s===Nr&&(cr=Nr=null,Dr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Uf||(Uf=!0,ZN(Zn,function(){return Yl(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=si.transition,si.transition=null;var V=st;st=1;var H=ut;ut|=4,cv.current=null,A$(s,f),FN(f,s),t$(yg),ps=!!vg,yg=vg=null,s.current=f,P$(f),tg(),ut=H,st=V,si.transition=S}else s.current=f;if(Uf&&(Uf=!1,Ss=s,qf=w),S=s.pendingLanes,S===0&&(js=null),Wh(f.stateNode),Sn(s,Nt()),u!==null)for(v=s.onRecoverableError,f=0;f<u.length;f++)w=u[f],v(w.value,{componentStack:w.stack,digest:w.digest});if(Bf)throw Bf=!1,s=hv,hv=null,s;return(qf&1)!==0&&s.tag!==0&&Yl(),S=s.pendingLanes,(S&1)!==0?s===fv?Bu++:(Bu=0,fv=s):Bu=0,bs(),null}function Yl(){if(Ss!==null){var s=hs(qf),u=si.transition,f=st;try{if(si.transition=null,st=16>s?16:s,Ss===null)var v=!1;else{if(s=Ss,Ss=null,qf=0,(ut&6)!==0)throw Error(r(331));var w=ut;for(ut|=4,Oe=s.current;Oe!==null;){var S=Oe,V=S.child;if((Oe.flags&16)!==0){var H=S.deletions;if(H!==null){for(var G=0;G<H.length;G++){var ce=H[G];for(Oe=ce;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:$u(8,je,S)}var Ne=je.child;if(Ne!==null)Ne.return=je,Oe=Ne;else for(;Oe!==null;){je=Oe;var ke=je.sibling,Ce=je.return;if(RN(je),je===ce){Oe=null;break}if(ke!==null){ke.return=Ce,Oe=ke;break}Oe=Ce}}}var De=S.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var ir=Le.sibling;Le.sibling=null,Le=ir}while(Le!==null)}}Oe=S}}if((S.subtreeFlags&2064)!==0&&V!==null)V.return=S,Oe=V;else e:for(;Oe!==null;){if(S=Oe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:$u(9,S,S.return)}var ae=S.sibling;if(ae!==null){ae.return=S.return,Oe=ae;break e}Oe=S.return}}var J=s.current;for(Oe=J;Oe!==null;){V=Oe;var oe=V.child;if((V.subtreeFlags&2064)!==0&&oe!==null)oe.return=V,Oe=oe;else e:for(V=J;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:$f(9,H)}}catch(Ve){Zt(H,H.return,Ve)}if(H===V){Oe=null;break e}var Ee=H.sibling;if(Ee!==null){Ee.return=H.return,Oe=Ee;break e}Oe=H.return}}if(ut=w,bs(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ho,s)}catch{}v=!0}return v}finally{st=f,si.transition=u}}return!1}function XN(s,u,f){u=Wl(f,u),u=pN(s,u,1),s=_s(s,u,1),u=ln(),s!==null&&(us(s,1,u),Sn(s,u))}function Zt(s,u,f){if(s.tag===3)XN(s,s,f);else for(;u!==null;){if(u.tag===3){XN(u,s,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(js===null||!js.has(v))){s=Wl(f,s),s=mN(u,s,1),u=_s(u,s,1),s=ln(),u!==null&&(us(u,1,s),Sn(u,s));break}}u=u.return}}function D$(s,u,f){var v=s.pingCache;v!==null&&v.delete(u),u=ln(),s.pingedLanes|=s.suspendedLanes&f,Nr===s&&(Dr&f)===f&&(vr===4||vr===3&&(Dr&130023424)===Dr&&500>Nt()-dv?To(s,0):uv|=f),Sn(s,u)}function QN(s,u){u===0&&((s.mode&1)===0?u=1:(u=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var f=ln();s=Ea(s,u),s!==null&&(us(s,u,f),Sn(s,f))}function L$(s){var u=s.memoizedState,f=0;u!==null&&(f=u.retryLane),QN(s,f)}function $$(s,u){var f=0;switch(s.tag){case 13:var v=s.stateNode,w=s.memoizedState;w!==null&&(f=w.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),QN(s,f)}var JN;JN=function(s,u,f){if(s!==null)if(s.memoizedProps!==u.pendingProps||wn.current)kn=!0;else{if((s.lanes&f)===0&&(u.flags&128)===0)return kn=!1,S$(s,u,f);kn=(s.flags&131072)!==0}else kn=!1,Ut&&(u.flags&1048576)!==0&&CS(u,wf,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Df(s,u),s=u.pendingProps;var w=Ll(u,Wr.current);ql(u,f),w=Ug(null,u,v,s,w,f);var S=qg();return u.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,_n(v)?(S=!0,yf(u)):S=!1,u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Mg(u),w.updater=Rf,u.stateNode=w,w._reactInternals=u,Yg(u,v,s,f),u=Zg(null,u,v,!0,S,f)):(u.tag=0,Ut&&S&&Sg(u),on(null,u,w,f),u=u.child),u;case 16:v=u.elementType;e:{switch(Df(s,u),s=u.pendingProps,w=v._init,v=w(v._payload),u.type=v,w=u.tag=V$(v),s=Ai(v,s),w){case 0:u=Jg(null,u,v,s,f);break e;case 1:u=jN(null,u,v,s,f);break e;case 11:u=xN(null,u,v,s,f);break e;case 14:u=bN(null,u,v,Ai(v.type,s),f);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ai(v,w),Jg(s,u,v,w,f);case 1:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ai(v,w),jN(s,u,v,w,f);case 3:e:{if(SN(u),s===null)throw Error(r(387));v=u.pendingProps,S=u.memoizedState,w=S.element,VS(s,u),Ef(u,v,null,f);var V=u.memoizedState;if(v=V.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){w=Wl(Error(r(423)),u),u=NN(s,u,v,f,w);break e}else if(v!==w){w=Wl(Error(r(424)),u),u=NN(s,u,v,f,w);break e}else for(Fn=vs(u.stateNode.containerInfo.firstChild),$n=u,Ut=!0,Ti=null,f=$S(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Vl(),v===w){u=Aa(s,u,f);break e}on(s,u,v,f)}u=u.child}return u;case 5:return qS(u),s===null&&Tg(u),v=u.type,w=u.pendingProps,S=s!==null?s.memoizedProps:null,V=w.children,xg(v,w)?V=null:S!==null&&xg(v,S)&&(u.flags|=32),kN(s,u),on(s,u,V,f),u.child;case 6:return s===null&&Tg(u),null;case 13:return EN(s,u,f);case 4:return Dg(u,u.stateNode.containerInfo),v=u.pendingProps,s===null?u.child=Bl(u,null,v,f):on(s,u,v,f),u.child;case 11:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ai(v,w),xN(s,u,v,w,f);case 7:return on(s,u,u.pendingProps,f),u.child;case 8:return on(s,u,u.pendingProps.children,f),u.child;case 12:return on(s,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,w=u.pendingProps,S=u.memoizedProps,V=w.value,Et(jf,v._currentValue),v._currentValue=V,S!==null)if(Ei(S.value,V)){if(S.children===w.children&&!wn.current){u=Aa(s,u,f);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var H=S.dependencies;if(H!==null){V=S.child;for(var G=H.firstContext;G!==null;){if(G.context===v){if(S.tag===1){G=Ta(-1,f&-f),G.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?G.next=G:(G.next=je.next,je.next=G),ce.pending=G}}S.lanes|=f,G=S.alternate,G!==null&&(G.lanes|=f),Og(S.return,f,u),H.lanes|=f;break}G=G.next}}else if(S.tag===10)V=S.type===u.type?null:S.child;else if(S.tag===18){if(V=S.return,V===null)throw Error(r(341));V.lanes|=f,H=V.alternate,H!==null&&(H.lanes|=f),Og(V,f,u),V=S.sibling}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===u){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}on(s,u,w.children,f),u=u.child}return u;case 9:return w=u.type,v=u.pendingProps.children,ql(u,f),w=ii(w),v=v(w),u.flags|=1,on(s,u,v,f),u.child;case 14:return v=u.type,w=Ai(v,u.pendingProps),w=Ai(v.type,w),bN(s,u,v,w,f);case 15:return wN(s,u,u.type,u.pendingProps,f);case 17:return v=u.type,w=u.pendingProps,w=u.elementType===v?w:Ai(v,w),Df(s,u),u.tag=1,_n(v)?(s=!0,yf(u)):s=!1,ql(u,f),hN(u,v,w),Yg(u,v,w,f),Zg(null,u,v,!0,s,f);case 19:return AN(s,u,f);case 22:return _N(s,u,f)}throw Error(r(156,u.tag))};function ZN(s,u){return yn(s,u)}function F$(s,u,f,v){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(s,u,f,v){return new F$(s,u,f,v)}function xv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function V$(s){if(typeof s=="function")return xv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ie)return 14}return 2}function Ts(s,u){var f=s.alternate;return f===null?(f=oi(s.tag,u,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=u,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,u=s.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Gf(s,u,f,v,w,S){var V=2;if(v=s,typeof s=="function")xv(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case T:return Po(f.children,w,S,u);case C:V=8,w|=8;break;case L:return s=oi(12,f,u,w|2),s.elementType=L,s.lanes=S,s;case $:return s=oi(13,f,u,w),s.elementType=$,s.lanes=S,s;case ee:return s=oi(19,f,u,w),s.elementType=ee,s.lanes=S,s;case se:return Kf(f,w,S,u);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:V=10;break e;case R:V=9;break e;case F:V=11;break e;case ie:V=14;break e;case Q:V=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return u=oi(V,f,u,w),u.elementType=s,u.type=v,u.lanes=S,u}function Po(s,u,f,v){return s=oi(7,s,v,u),s.lanes=f,s}function Kf(s,u,f,v){return s=oi(22,s,v,u),s.elementType=se,s.lanes=f,s.stateNode={isHidden:!1},s}function bv(s,u,f){return s=oi(6,s,null,u),s.lanes=f,s}function wv(s,u,f){return u=oi(4,s.children!==null?s.children:[],s.key,u),u.lanes=f,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}function B$(s,u,f,v,w){this.tag=u,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cs(0),this.expirationTimes=cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function _v(s,u,f,v,w,S,V,H,G){return s=new B$(s,u,f,H,G),u===1?(u=1,S===!0&&(u|=8)):u=0,S=oi(3,null,null,u),s.current=S,S.stateNode=s,S.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(S),s}function U$(s,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:v==null?null:""+v,children:s,containerInfo:u,implementation:f}}function eE(s){if(!s)return xs;s=s._reactInternals;e:{if(_t(s)!==s||s.tag!==1)throw Error(r(170));var u=s;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(_n(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(s.tag===1){var f=s.type;if(_n(f))return TS(s,f,u)}return u}function tE(s,u,f,v,w,S,V,H,G){return s=_v(f,v,!0,s,w,S,V,H,G),s.context=eE(null),f=s.current,v=ln(),w=Ns(f),S=Ta(v,w),S.callback=u??null,_s(f,S,w),s.current.lanes=w,us(s,w,v),Sn(s,v),s}function Yf(s,u,f,v){var w=u.current,S=ln(),V=Ns(w);return f=eE(f),u.context===null?u.context=f:u.pendingContext=f,u=Ta(S,V),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=_s(w,u,V),s!==null&&(Ii(s,w,V,S),Nf(s,w,V)),V}function Xf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function rE(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<u?f:u}}function kv(s,u){rE(s,u),(s=s.alternate)&&rE(s,u)}function q$(){return null}var nE=typeof reportError=="function"?reportError:function(s){console.error(s)};function jv(s){this._internalRoot=s}Qf.prototype.render=jv.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));Yf(s,u,null,null)},Qf.prototype.unmount=jv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;Eo(function(){Yf(null,s,null,null)}),u[ka]=null}};function Qf(s){this._internalRoot=s}Qf.prototype.unstable_scheduleHydration=function(s){if(s){var u=Xh();s={blockedOn:null,target:s,priority:u};for(var f=0;f<qi.length&&u!==0&&u<qi[f].priority;f++);qi.splice(f,0,s),f===0&&Zh(s)}};function Sv(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function iE(){}function z$(s,u,f,v,w){if(w){if(typeof v=="function"){var S=v;v=function(){var ce=Xf(V);S.call(ce)}}var V=tE(u,v,s,0,null,!1,!1,"",iE);return s._reactRootContainer=V,s[ka]=V.current,Su(s.nodeType===8?s.parentNode:s),Eo(),V}for(;w=s.lastChild;)s.removeChild(w);if(typeof v=="function"){var H=v;v=function(){var ce=Xf(G);H.call(ce)}}var G=_v(s,0,!1,null,null,!1,!1,"",iE);return s._reactRootContainer=G,s[ka]=G.current,Su(s.nodeType===8?s.parentNode:s),Eo(function(){Yf(u,G,f,v)}),G}function Zf(s,u,f,v,w){var S=f._reactRootContainer;if(S){var V=S;if(typeof w=="function"){var H=w;w=function(){var G=Xf(V);H.call(G)}}Yf(u,V,s,w)}else V=z$(f,u,s,w,v);return Xf(V)}Kh=function(s){switch(s.tag){case 3:var u=s.stateNode;if(u.current.memoizedState.isDehydrated){var f=ls(u.pendingLanes);f!==0&&(ds(u,f|1),Sn(u,Nt()),(ut&6)===0&&(Kl=Nt()+500,bs()))}break;case 13:Eo(function(){var v=Ea(s,1);if(v!==null){var w=ln();Ii(v,s,1,w)}}),kv(s,1)}},xl=function(s){if(s.tag===13){var u=Ea(s,134217728);if(u!==null){var f=ln();Ii(u,s,134217728,f)}kv(s,134217728)}},Yh=function(s){if(s.tag===13){var u=Ns(s),f=Ea(s,u);if(f!==null){var v=ln();Ii(f,s,u,v)}kv(s,u)}},Xh=function(){return st},Qh=function(s,u){var f=st;try{return st=s,u()}finally{st=f}},is=function(s,u,f){switch(u){case"input":if(Qt(s,f),u=f.name,f.type==="radio"&&u!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==s&&v.form===s.form){var w=gf(v);if(!w)throw Error(r(90));U(v),Qt(v,w)}}}break;case"textarea":or(s,f);break;case"select":u=f.value,u!=null&&It(s,!!f.multiple,u,!1)}},Jt=gv,co=Eo;var W$={usingClientEntryPoint:!1,Events:[Tu,Ml,gf,Jn,lo,gv]},Uu={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H$={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=nr(s),s===null?null:s.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||q$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{ho=ep.inject(H$),Rn=ep}catch{}}return Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$,Nn.createPortal=function(s,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sv(u))throw Error(r(200));return U$(s,u,null,f)},Nn.createRoot=function(s,u){if(!Sv(s))throw Error(r(299));var f=!1,v="",w=nE;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),u=_v(s,1,!1,null,null,f,!1,v,w),s[ka]=u.current,Su(s.nodeType===8?s.parentNode:s),new jv(u)},Nn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=nr(u),s=s===null?null:s.stateNode,s},Nn.flushSync=function(s){return Eo(s)},Nn.hydrate=function(s,u,f){if(!Jf(u))throw Error(r(200));return Zf(null,s,u,!0,f)},Nn.hydrateRoot=function(s,u,f){if(!Sv(s))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,w=!1,S="",V=nE;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),u=tE(u,null,s,1,f??null,w,!1,S,V),s[ka]=u.current,Su(s),v)for(s=0;s<v.length;s++)f=v[s],w=f._getVersion,w=w(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,w]:u.mutableSourceEagerHydrationData.push(f,w);return new Qf(u)},Nn.render=function(s,u,f){if(!Jf(u))throw Error(r(200));return Zf(null,s,u,!1,f)},Nn.unmountComponentAtNode=function(s){if(!Jf(s))throw Error(r(40));return s._reactRootContainer?(Eo(function(){Zf(null,null,s,!1,function(){s._reactRootContainer=null,s[ka]=null})}),!0):!1},Nn.unstable_batchedUpdates=gv,Nn.unstable_renderSubtreeIntoContainer=function(s,u,f,v){if(!Jf(f))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Zf(s,u,f,!1,v)},Nn.version="18.3.1-next-f1338f8080-20240426",Nn}var hE;function eF(){if(hE)return Tv.exports;hE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tv.exports=Z$(),Tv.exports}var fE;function tF(){if(fE)return rp;fE=1;var t=eF();return rp.createRoot=t.createRoot,rp.hydrateRoot=t.hydrateRoot,rp}var rF=tF();const nF=yt(rF);var pE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},iF=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],c=t[r++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},$R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=a>>2,m=(a&3)<<4|c>>4;let y=(c&15)<<2|h>>6,x=h&63;d||(x=64,l||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||m==null)throw new aF;const y=a<<2|c>>4;if(n.push(y),h!==64){const x=c<<4&240|h>>2;if(n.push(x),m!==64){const k=h<<6&192|m;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sF=function(t){const e=LR(t);return $R.encodeByteArray(e,!0)},Mp=function(t){return sF(t).replace(/\./g,"")},FR=function(t){try{return $R.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=()=>oF().__FIREBASE_DEFAULTS__,cF=()=>{if(typeof process>"u"||typeof pE>"u")return;const t=pE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FR(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return lF()||cF()||uF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VR=t=>{var e,r;return(r=(e=Km())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},BR=t=>{const e=VR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},UR=()=>{var t;return(t=Km())===null||t===void 0?void 0:t.config},qR=t=>{var e;return(e=Km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mp(JSON.stringify(r)),Mp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function fF(){var t;const e=(t=Km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vF(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yF(){return!fF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xF(){try{return typeof indexedDB=="object"}catch{return!1}}function bF(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="FirebaseError";class ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=wF,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?_F(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ha(i,c,n)}}function _F(t,e){return t.replace(kF,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kF=/\{\$([^}]+)}/g;function jF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],l=e[i];if(mE(a)&&mE(l)){if(!Dp(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function mE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function rd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function SF(t,e){const r=new NF(t,e);return r.subscribe.bind(r)}class NF{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Cv),i.error===void 0&&(i.error=Cv),i.complete===void 0&&(i.complete=Cv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EF(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new dF;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PF(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:AF(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AF(t){return t===Ro?void 0:t}function PF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new TF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const IF={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},OF=ot.INFO,RF={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},MF=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=RF[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zk{constructor(e){this.name=e,this._logLevel=OF,this._logHandler=MF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const DF=(t,e)=>e.some(r=>t instanceof r);let gE,vE;function LF(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $F(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,Yw=new WeakMap,HR=new WeakMap,Iv=new WeakMap,Wk=new WeakMap;function FF(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(Us(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&WR.set(r,t)}).catch(()=>{}),Wk.set(e,t),e}function VF(t){if(Yw.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Yw.set(t,e)}let Xw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Us(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BF(t){Xw=t(Xw)}function UF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ov(this),e,...r);return HR.set(n,e.sort?e.sort():[e]),Us(n)}:$F().includes(t)?function(...e){return t.apply(Ov(this),e),Us(WR.get(this))}:function(...e){return Us(t.apply(Ov(this),e))}}function qF(t){return typeof t=="function"?UF(t):(t instanceof IDBTransaction&&VF(t),DF(t,LF())?new Proxy(t,Xw):t)}function Us(t){if(t instanceof IDBRequest)return FF(t);if(Iv.has(t))return Iv.get(t);const e=qF(t);return e!==t&&(Iv.set(t,e),Wk.set(e,t)),e}const Ov=t=>Wk.get(t);function zF(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Us(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Us(l.result),d.oldVersion,d.newVersion,Us(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const WF=["get","getKey","getAll","getAllKeys","count"],HF=["put","add","delete","clear"],Rv=new Map;function yE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=HF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||WF.includes(r)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&d.done]))[0]};return Rv.set(e,a),a}BF(t=>({...t,get:(e,r,n)=>yE(e,r)||t.get(e,r,n),has:(e,r)=>!!yE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function KF(t){const e=t.getComponent();return e?.type==="VERSION"}const Qw="@firebase/app",xE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new zk("@firebase/app"),YF="@firebase/app-compat",XF="@firebase/analytics-compat",QF="@firebase/analytics",JF="@firebase/app-check-compat",ZF="@firebase/app-check",e5="@firebase/auth",t5="@firebase/auth-compat",r5="@firebase/database",n5="@firebase/data-connect",i5="@firebase/database-compat",a5="@firebase/functions",s5="@firebase/functions-compat",o5="@firebase/installations",l5="@firebase/installations-compat",c5="@firebase/messaging",u5="@firebase/messaging-compat",d5="@firebase/performance",h5="@firebase/performance-compat",f5="@firebase/remote-config",p5="@firebase/remote-config-compat",m5="@firebase/storage",g5="@firebase/storage-compat",v5="@firebase/firestore",y5="@firebase/vertexai-preview",x5="@firebase/firestore-compat",b5="firebase",w5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="[DEFAULT]",_5={[Qw]:"fire-core",[YF]:"fire-core-compat",[QF]:"fire-analytics",[XF]:"fire-analytics-compat",[ZF]:"fire-app-check",[JF]:"fire-app-check-compat",[e5]:"fire-auth",[t5]:"fire-auth-compat",[r5]:"fire-rtdb",[n5]:"fire-data-connect",[i5]:"fire-rtdb-compat",[a5]:"fire-fn",[s5]:"fire-fn-compat",[o5]:"fire-iid",[l5]:"fire-iid-compat",[c5]:"fire-fcm",[u5]:"fire-fcm-compat",[d5]:"fire-perf",[h5]:"fire-perf-compat",[f5]:"fire-rc",[p5]:"fire-rc-compat",[m5]:"fire-gcs",[g5]:"fire-gcs-compat",[v5]:"fire-fst",[x5]:"fire-fst-compat",[y5]:"fire-vertex","fire-js":"fire-js",[b5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map,k5=new Map,Zw=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(r){Ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Yo(t){const e=t.name;if(Zw.has(e))return Ua.debug(`There were multiple attempts to register component ${e}.`),!1;Zw.set(e,t);for(const r of Lp.values())bE(r,t);for(const r of k5.values())bE(r,t);return!0}function Ym(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new mh("app","Firebase",j5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=w5;function GR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jw,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(r||(r=UR()),!r)throw qs.create("no-options");const a=Lp.get(i);if(a){if(Dp(r,a.options)&&Dp(n,a.config))return a;throw qs.create("duplicate-app",{appName:i})}const l=new CF(i);for(const d of Zw.values())l.addComponent(d);const c=new S5(r,n,l);return Lp.set(i,c),c}function Hk(t=Jw){const e=Lp.get(t);if(!e&&t===Jw&&UR())return GR();if(!e)throw qs.create("no-app",{appName:t});return e}function ta(t,e,r){var n;let i=(n=_5[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ua.warn(c.join(" "));return}Yo(new Ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="firebase-heartbeat-database",E5=1,_d="firebase-heartbeat-store";let Mv=null;function KR(){return Mv||(Mv=zF(N5,E5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_d)}catch(r){console.warn(r)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Mv}async function T5(t){try{const r=(await KR()).transaction(_d),n=await r.objectStore(_d).get(YR(t));return await r.done,n}catch(e){if(e instanceof ha)Ua.warn(e.message);else{const r=qs.create("idb-get",{originalErrorMessage:e?.message});Ua.warn(r.message)}}}async function wE(t,e){try{const n=(await KR()).transaction(_d,"readwrite");await n.objectStore(_d).put(e,YR(t)),await n.done}catch(r){if(r instanceof ha)Ua.warn(r.message);else{const n=qs.create("idb-set",{originalErrorMessage:r?.message});Ua.warn(n.message)}}}function YR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=1024,P5=30*24*60*60*1e3;class C5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new O5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_E();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=P5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ua.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=_E(),{heartbeatsToSend:n,unsentEntries:i}=I5(this._heartbeatsCache.heartbeats),a=Mp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ua.warn(r),""}}}function _E(){return new Date().toISOString().substring(0,10)}function I5(t,e=A5){const r=[];let n=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),kE(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),kE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class O5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xF()?bF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await T5(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return wE(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kE(t){return Mp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t){Yo(new Ys("platform-logger",e=>new GF(e),"PRIVATE")),Yo(new Ys("heartbeat",e=>new C5(e),"PRIVATE")),ta(Qw,xE,t),ta(Qw,xE,"esm2017"),ta("fire-js","")}R5("");var M5="firebase",D5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(M5,D5,"app");function Gk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function XR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L5=XR,QR=new mh("auth","Firebase",XR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=new zk("@firebase/auth");function $5(t,...e){$p.logLevel<=ot.WARN&&$p.warn(`Auth (${ll}): ${t}`,...e)}function jp(t,...e){$p.logLevel<=ot.ERROR&&$p.error(`Auth (${ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw Kk(t,...e)}function ra(t,...e){return Kk(t,...e)}function JR(t,e,r){const n=Object.assign(Object.assign({},L5()),{[e]:r});return new mh("auth","Firebase",n).create(e,{appName:t.name})}function Fa(t){return JR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return QR.create(t,...e)}function Ke(t,e,...r){if(!t)throw Kk(e,...r)}function Oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jp(e),new Error(e)}function qa(t,e){t||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F5(){return jE()==="http:"||jE()==="https:"}function jE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F5()||mF()||"connection"in navigator)?navigator.onLine:!0}function B5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,r){this.shortDelay=e,this.longDelay=r,qa(r>e,"Short delay should be less than long delay!"),this.isMobile=hF()||gF()}get(){return V5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){qa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new vh(3e4,6e4);function Zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function eo(t,e,r,n,i={}){return eM(t,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=gh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return pF()||(h.referrerPolicy="no-referrer"),ZR.fetch()(tM(t,t.config.apiHost,r,c),h)})}async function eM(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},U5),e);try{const i=new W5(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw np(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw np(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw np(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw np(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw JR(t,p,h);$i(t,p)}}catch(i){if(i instanceof ha)throw i;$i(t,"network-request-failed",{message:String(i)})}}async function yh(t,e,r,n,i={}){const a=await eo(t,e,r,n,i);return"mfaPendingCredential"in a&&$i(t,"multi-factor-auth-required",{_serverResponse:a}),a}function tM(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Yk(t.config,i):`${t.config.apiScheme}://${i}`}function z5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ra(this.auth,"network-request-failed")),q5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function np(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ra(t,e,n);return i.customData._tokenResponse=r,i}function SE(t){return t!==void 0&&t.enterprise!==void 0}class H5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return z5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function G5(t,e){return eo(t,"GET","/v2/recaptchaConfig",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function rM(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y5(t,e=!1){const r=Ft(t),n=await r.getIdToken(e),i=Xk(n);Ke(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:n,authTime:ud(Dv(i.auth_time)),issuedAtTime:ud(Dv(i.iat)),expirationTime:ud(Dv(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Dv(t){return Number(t)*1e3}function Xk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const i=FR(r);return i?JSON.parse(i):(jp("Failed to decode base64 JWT payload"),null)}catch(i){return jp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NE(t){const e=Xk(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ha&&X5(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function X5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ud(this.lastLoginAt),this.creationTime=ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await kd(t,rM(r,{idToken:n}));Ke(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?nM(a.providerUserInfo):[],c=Z5(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,p=d?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new t_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function J5(t){const e=Ft(t);await Fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z5(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function nM(t){return t.map(e=>{var{providerId:r}=e,n=Gk(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){const r=await eM(t,{},async()=>{const n=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=tM(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",ZR.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function tV(t,e){return eo(t,"POST","/v2/accounts:revokeToken",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=NE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await eV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,l=new uc;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Gk(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new t_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await kd(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Y5(this,e)}reload(){return J5(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Fp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Fa(this.auth));const e=await this.getIdToken();return await kd(this,K5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,l,c,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,k=(l=r.photoURL)!==null&&l!==void 0?l:void 0,_=(c=r.tenantId)!==null&&c!==void 0?c:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,A=(h=r.createdAt)!==null&&h!==void 0?h:void 0,E=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:O,isAnonymous:N,providerData:I,stsTokenManager:T}=r;Ke(P&&T,e,"internal-error");const C=uc.fromJSON(this.name,T);Ke(typeof P=="string",e,"internal-error"),Ps(m,e.name),Ps(y,e.name),Ke(typeof O=="boolean",e,"internal-error"),Ke(typeof N=="boolean",e,"internal-error"),Ps(x,e.name),Ps(k,e.name),Ps(_,e.name),Ps(b,e.name),Ps(A,e.name),Ps(E,e.name);const L=new Ra({uid:P,auth:e,email:y,emailVerified:O,displayName:m,isAnonymous:N,photoURL:k,phoneNumber:x,tenantId:_,stsTokenManager:C,createdAt:A,lastLoginAt:E});return I&&Array.isArray(I)&&(L.providerData=I.map(M=>Object.assign({},M))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new uc;i.updateFromServerResponse(r);const a=new Ra({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Fp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?nM(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new uc;c.updateFromIdToken(n);const d=new Ra({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Ma(t){qa(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}iM.type="NONE";const TE=iM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,r){return`firebase:${t}:${e}:${r}`}class dc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Sp(this.userKey,i.apiKey,a),this.fullPersistenceKey=Sp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new dc(Ma(TE),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Ma(TE);const l=Sp(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(l);if(p){const m=Ra._fromJSON(e,p);h!==a&&(c=m),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new dc(a,e,n):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new dc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uM(e))return"Blackberry";if(dM(e))return"Webos";if(sM(e))return"Safari";if((e.includes("chrome/")||oM(e))&&!e.includes("edge/"))return"Chrome";if(cM(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function aM(t=tn()){return/firefox\//i.test(t)}function sM(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oM(t=tn()){return/crios\//i.test(t)}function lM(t=tn()){return/iemobile/i.test(t)}function cM(t=tn()){return/android/i.test(t)}function uM(t=tn()){return/blackberry/i.test(t)}function dM(t=tn()){return/webos/i.test(t)}function Qk(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rV(t=tn()){var e;return Qk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nV(){return vF()&&document.documentMode===10}function hM(t=tn()){return Qk(t)||cM(t)||dM(t)||uM(t)||/windows phone/i.test(t)||lM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e=[]){let r;switch(t){case"Browser":r=AE(tn());break;case"Worker":r=`${AE(tn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ll}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e={}){return eo(t,"GET","/v2/passwordPolicy",Zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=6;class oV{constructor(e){var r,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:sV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new iV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ma(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await dc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await rM(this,{idToken:e}),n=await Ra._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Fp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Fa(this));const r=e?Ft(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aV(this),r=new oV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await tV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ma(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await dc.create(this,[Ma(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&$5(`Error while retrieving App Check token: ${r.error}`),r?.token}}function cl(t){return Ft(t)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SF(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cV(t){Xm=t}function pM(t){return Xm.loadJS(t)}function uV(){return Xm.recaptchaEnterpriseScript}function dV(){return Xm.gapiScript}function hV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const fV="recaptcha-enterprise",pV="NO_RECAPTCHA";class mV{constructor(e){this.type=fV,this.auth=cl(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{G5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new H5(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;SE(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(pV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{n(this.auth).then(c=>{if(!r&&SE(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=uV();d.length!==0&&(d+=c),pM(d).then(()=>{i(c,a,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function CE(t,e,r,n=!1){const i=new mV(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function r_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await CE(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await CE(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){const r=Ym(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Dp(a,e??{}))return i;$i(i,"already-initialized")}return r.initialize({options:e})}function vV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ma);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function yV(t,e,r){const n=cl(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=mM(e),{host:l,port:c}=xV(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${a}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),bV()}function mM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xV(t){const e=mM(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:IE(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:IE(l)}}}function IE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,r){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}async function wV(t,e){return eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return yh(t,"POST","/v1/accounts:signInWithPassword",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}async function jV(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Jk{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new jd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new jd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,r,"signInWithPassword",_V);case"emailLink":return kV(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r_(e,n,"signUpPassword",wV);case"emailLink":return jV(e,{idToken:r,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e){return yh(t,"POST","/v1/accounts:signInWithIdp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="http://localhost";class Xo extends Jk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Gk(r,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Xo(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return hc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,hc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,hc(e,r)}buildRequest(){const e={requestUri:SV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=gh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(t){const e=td(rd(t)).link,r=e?td(rd(e)).deep_link_id:null,n=td(rd(t)).deep_link_id;return(n?td(rd(n)).link:null)||n||r||e||t}class Zk{constructor(e){var r,n,i,a,l,c;const d=td(rd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=NV((i=d.mode)!==null&&i!==void 0?i:null);Ke(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=EV(e);try{return new Zk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.providerId=Qc.PROVIDER_ID}static credential(e,r){return jd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Zk.parseLink(r);return Ke(n,"argument-error"),jd._fromEmailAndCode(e,n.code,n.tenantId)}}Qc.PROVIDER_ID="password";Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends gM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends xh{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends xh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Xo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Rs.credential(r,n)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends xh{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends xh{constructor(){super("twitter.com")}static credential(e,r){return Xo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ds.credential(r,n)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return yh(t,"POST","/v1/accounts:signUp",Zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Ra._fromIdTokenResponse(e,n,i),l=OE(n);return new Qo({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=OE(n);return new Qo({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function OE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends ha{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Vp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Vp(e,r,n,i)}}function vM(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vp._fromErrorAndOperation(t,a,e,n):a})}async function AV(t,e,r=!1){const n=await kd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Qo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e,r=!1){const{auth:n}=t;if(Ji(n.app))return Promise.reject(Fa(n));const i="reauthenticate";try{const a=await kd(t,vM(n,i,e,t),r);Ke(a.idToken,n,"internal-error");const l=Xk(a.idToken);Ke(l,n,"internal-error");const{sub:c}=l;return Ke(t.uid===c,n,"user-mismatch"),Qo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$i(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e,r=!1){if(Ji(t.app))return Promise.reject(Fa(t));const n="signIn",i=await vM(t,n,e),a=await Qo._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function CV(t,e){return yM(cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t){const e=cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IV(t,e,r){if(Ji(t.app))return Promise.reject(Fa(t));const n=cl(t),l=await r_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xM(t),d}),c=await Qo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function OV(t,e,r){return Ji(t.app)?Promise.reject(Fa(t)):CV(Ft(t),Qc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&xM(t),n})}function RV(t,e,r,n){return Ft(t).onIdTokenChanged(e,r,n)}function MV(t,e,r){return Ft(t).beforeAuthStateChanged(e,r)}function DV(t,e,r,n){return Ft(t).onAuthStateChanged(e,r,n)}function LV(t){return Ft(t).signOut()}const Bp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Bp,"1"),this.storage.removeItem(Bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=1e3,FV=10;class wM extends bM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);nV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FV):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}wM.type="LOCAL";const VV=wM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends bM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}_M.type="SESSION";const kM=_M;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Qm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async h=>h(r.origin,a)),d=await BV(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const h=e1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function qV(t){na().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function zV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HV(){return jM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebaseLocalStorageDb",GV=1,Up="firebaseLocalStorage",NM="fbase_key";class bh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Jm(t,e){return t.transaction([Up],e?"readwrite":"readonly").objectStore(Up)}function KV(){const t=indexedDB.deleteDatabase(SM);return new bh(t).toPromise()}function n_(){const t=indexedDB.open(SM,GV);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Up,{keyPath:NM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Up)?e(n):(n.close(),await KV(),e(await n_()))})})}async function RE(t,e,r){const n=Jm(t,!0).put({[NM]:e,value:r});return new bh(n).toPromise()}async function YV(t,e){const r=Jm(t,!1).get(e),n=await new bh(r).toPromise();return n===void 0?null:n.value}function ME(t,e){const r=Jm(t,!0).delete(e);return new bh(r).toPromise()}const XV=800,QV=3;class EM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>QV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qm._getInstance(HV()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new UV(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await RE(e,Bp,"1"),await ME(e,Bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>YV(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>ME(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jm(i,!1).getAll();return new bh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EM.type="LOCAL";const JV=EM;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){return e?Ma(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends Jk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return hc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eB(t){return yM(t.auth,new t1(t),t.bypassAuthState)}function tB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),PV(r,new t1(t),t.bypassAuthState)}async function rB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),AV(r,new t1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return tB;default:$i(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new vh(2e3,1e4);class nc extends TM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const e=e1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ra(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ra(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ra(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nB.get())};e()}}nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="pendingRedirect",Np=new Map;class aB extends TM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Np.get(this.auth._key());if(!e){try{const n=await sB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sB(t,e){const r=cB(e),n=lB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function oB(t,e){Np.set(t._key(),e)}function lB(t){return Ma(t._redirectPersistence)}function cB(t){return Sp(iB,t.config.apiKey,t.name)}async function uB(t,e,r=!1){if(Ji(t.app))return Promise.reject(Fa(t));const n=cl(t),i=ZV(n,e),l=await new aB(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=10*60*1e3;class hB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!AM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ra(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dB&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gB=/^https?/;async function vB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pB(t);for(const r of e)try{if(yB(r))return}catch{}$i(t,"unauthorized-domain")}function yB(t){const e=e_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!gB.test(r))return!1;if(mB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new vh(3e4,6e4);function LE(){const t=na().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function bB(t){return new Promise((e,r)=>{var n,i,a;function l(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),r(ra(t,"network-request-failed"))},timeout:xB.get()})}if(!((i=(n=na().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=na().gapi)===null||a===void 0)&&a.load)l();else{const c=hV("iframefcb");return na()[c]=()=>{gapi.load?l():r(ra(t,"network-request-failed"))},pM(`${dV()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Ep=null,e})}let Ep=null;function wB(t){return Ep=Ep||bB(t),Ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new vh(5e3,15e3),kB="__/auth/iframe",jB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EB(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Yk(e,jB):`https://${t.config.authDomain}/${kB}`,n={apiKey:e.apiKey,appName:t.name,v:ll},i=NB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${gh(n).slice(1)}`}async function TB(t){const e=await wB(t),r=na().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:EB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=ra(t,"network-request-failed"),c=na().setTimeout(()=>{a(l)},_B.get());function d(){na().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PB=500,CB=600,IB="_blank",OB="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RB(t,e,r,n=PB,i=CB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},AB),{width:n.toString(),height:i.toString(),top:a,left:l}),h=tn().toLowerCase();r&&(c=oM(h)?IB:r),aM(h)&&(e=e||OB,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,k])=>`${y}${x}=${k},`,"");if(rV(h)&&c!=="_self")return MB(e||"",c),new $E(null);const m=window.open(e||"",c,p);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new $E(m)}function MB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB="__/auth/handler",LB="emulator/auth/handler",$B=encodeURIComponent("fac");async function FE(t,e,r,n,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ll,eventId:i};if(e instanceof gM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jF(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof xh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${$B}=${encodeURIComponent(d)}`:"";return`${FB(t)}?${gh(c).slice(1)}${h}`}function FB({config:t}){return t.emulator?Yk(t,LB):`https://${t.authDomain}/${DB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="webStorageSupport";class VB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kM,this._completeRedirectFn=uB,this._overrideRedirectResult=oB}async _openPopup(e,r,n,i){var a;qa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await FE(e,r,n,e_(),i);return RB(e,l,e1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await FE(e,r,n,e_(),i);return qV(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(qa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await TB(e),n=new hB(e);return r.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Lv,{type:Lv},i=>{var a;const l=(a=i?.[0])===null||a===void 0?void 0:a[Lv];l!==void 0&&r(!!l),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return hM()||sM()||Qk()}}const BB=VB;var VE="@firebase/auth",BE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zB(t){Yo(new Ys("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fM(t)},h=new lV(n,i,a,d);return vV(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ys("auth-internal",e=>{const r=cl(e.getProvider("auth").getImmediate());return(n=>new UB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ta(VE,BE,qB(t)),ta(VE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=5*60,HB=qR("authIdTokenMaxAge")||WB;let UE=null;const GB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>HB)return;const i=r?.token;UE!==i&&(UE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PM(t=Hk()){const e=Ym(t,"auth");if(e.isInitialized())return e.getImmediate();const r=gV(t,{popupRedirectResolver:BB,persistence:[JV,VV,kM]}),n=qR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=GB(a.toString());MV(r,l,()=>l(r.currentUser)),RV(r,c=>l(c))}}const i=VR("auth");return i&&yV(r,`http://${i}`),r}function KB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ra("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",KB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zB("Browser");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,CM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function L(){}L.prototype=C.prototype,T.D=C.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(M,R,F){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return C.prototype[R].apply(M,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,C,L){L||(L=0);var M=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)M[R]=C.charCodeAt(L++)|C.charCodeAt(L++)<<8|C.charCodeAt(L++)<<16|C.charCodeAt(L++)<<24;else for(R=0;16>R;++R)M[R]=C[L++]|C[L++]<<8|C[L++]<<16|C[L++]<<24;C=T.g[0],L=T.g[1],R=T.g[2];var F=T.g[3],$=C+(F^L&(R^F))+M[0]+3614090360&4294967295;C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[1]+3905402710&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[2]+606105819&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[3]+3250441966&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[4]+4118548399&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[5]+1200080426&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[6]+2821735955&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[7]+4249261313&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[8]+1770035416&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[9]+2336552879&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[10]+4294925233&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[11]+2304563134&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(F^L&(R^F))+M[12]+1804603682&4294967295,C=L+($<<7&4294967295|$>>>25),$=F+(R^C&(L^R))+M[13]+4254626195&4294967295,F=C+($<<12&4294967295|$>>>20),$=R+(L^F&(C^L))+M[14]+2792965006&4294967295,R=F+($<<17&4294967295|$>>>15),$=L+(C^R&(F^C))+M[15]+1236535329&4294967295,L=R+($<<22&4294967295|$>>>10),$=C+(R^F&(L^R))+M[1]+4129170786&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[6]+3225465664&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[11]+643717713&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[0]+3921069994&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[5]+3593408605&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[10]+38016083&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[15]+3634488961&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[4]+3889429448&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[9]+568446438&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[14]+3275163606&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[3]+4107603335&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[8]+1163531501&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(R^F&(L^R))+M[13]+2850285829&4294967295,C=L+($<<5&4294967295|$>>>27),$=F+(L^R&(C^L))+M[2]+4243563512&4294967295,F=C+($<<9&4294967295|$>>>23),$=R+(C^L&(F^C))+M[7]+1735328473&4294967295,R=F+($<<14&4294967295|$>>>18),$=L+(F^C&(R^F))+M[12]+2368359562&4294967295,L=R+($<<20&4294967295|$>>>12),$=C+(L^R^F)+M[5]+4294588738&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[8]+2272392833&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[11]+1839030562&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[14]+4259657740&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[1]+2763975236&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[4]+1272893353&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[7]+4139469664&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[10]+3200236656&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[13]+681279174&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[0]+3936430074&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[3]+3572445317&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[6]+76029189&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(L^R^F)+M[9]+3654602809&4294967295,C=L+($<<4&4294967295|$>>>28),$=F+(C^L^R)+M[12]+3873151461&4294967295,F=C+($<<11&4294967295|$>>>21),$=R+(F^C^L)+M[15]+530742520&4294967295,R=F+($<<16&4294967295|$>>>16),$=L+(R^F^C)+M[2]+3299628645&4294967295,L=R+($<<23&4294967295|$>>>9),$=C+(R^(L|~F))+M[0]+4096336452&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[7]+1126891415&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[14]+2878612391&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[5]+4237533241&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[12]+1700485571&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[3]+2399980690&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[10]+4293915773&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[1]+2240044497&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[8]+1873313359&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[15]+4264355552&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[6]+2734768916&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[13]+1309151649&4294967295,L=R+($<<21&4294967295|$>>>11),$=C+(R^(L|~F))+M[4]+4149444226&4294967295,C=L+($<<6&4294967295|$>>>26),$=F+(L^(C|~R))+M[11]+3174756917&4294967295,F=C+($<<10&4294967295|$>>>22),$=R+(C^(F|~L))+M[2]+718787259&4294967295,R=F+($<<15&4294967295|$>>>17),$=L+(F^(R|~C))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(R+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+F&4294967295}n.prototype.u=function(T,C){C===void 0&&(C=T.length);for(var L=C-this.blockSize,M=this.B,R=this.h,F=0;F<C;){if(R==0)for(;F<=L;)i(this,T,F),F+=this.blockSize;if(typeof T=="string"){for(;F<C;)if(M[R++]=T.charCodeAt(F++),R==this.blockSize){i(this,M),R=0;break}}else for(;F<C;)if(M[R++]=T[F++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=C},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;var L=8*this.o;for(C=T.length-8;C<T.length;++C)T[C]=L&255,L/=256;for(this.u(T),T=Array(16),C=L=0;4>C;++C)for(var M=0;32>M;M+=8)T[L++]=this.g[C]>>>M&255;return T};function a(T,C){var L=c;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=C(T)}function l(T,C){this.h=C;for(var L=[],M=!0,R=T.length-1;0<=R;R--){var F=T[R]|0;M&&F==C||(L[R]=F,M=!1)}this.g=L}var c={};function d(T){return-128<=T&&128>T?a(T,function(C){return new l([C|0],0>C?-1:0)}):new l([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return b(h(-T));for(var C=[],L=1,M=0;T>=L;M++)C[M]=T/L|0,L*=4294967296;return new l(C,0)}function p(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return b(p(T.substring(1),C));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(C,8)),M=m,R=0;R<T.length;R+=8){var F=Math.min(8,T.length-R),$=parseInt(T.substring(R,R+F),C);8>F?(F=h(Math.pow(C,F)),M=M.j(F).add(h($))):(M=M.j(L),M=M.add(h($)))}return M}var m=d(0),y=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(_(this))return-b(this).m();for(var T=0,C=1,L=0;L<this.g.length;L++){var M=this.i(L);T+=(0<=M?M:4294967296+M)*C,C*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(_(this))return"-"+b(this).toString(T);for(var C=h(Math.pow(T,6)),L=this,M="";;){var R=O(L,C).g;L=A(L,R.j(C));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=R,k(L))return F+M;for(;6>F.length;)F="0"+F;M=F+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=A(this,T),_(T)?-1:k(T)?0:1};function b(T){for(var C=T.g.length,L=[],M=0;M<C;M++)L[M]=~T.g[M];return new l(L,~T.h).add(y)}t.abs=function(){return _(this)?b(this):this},t.add=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0,R=0;R<=C;R++){var F=M+(this.i(R)&65535)+(T.i(R)&65535),$=(F>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);M=$>>>16,F&=65535,$&=65535,L[R]=$<<16|F}return new l(L,L[L.length-1]&-2147483648?-1:0)};function A(T,C){return T.add(b(C))}t.j=function(T){if(k(this)||k(T))return m;if(_(this))return _(T)?b(this).j(b(T)):b(b(this).j(T));if(_(T))return b(this.j(b(T)));if(0>this.l(x)&&0>T.l(x))return h(this.m()*T.m());for(var C=this.g.length+T.g.length,L=[],M=0;M<2*C;M++)L[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<T.g.length;R++){var F=this.i(M)>>>16,$=this.i(M)&65535,ee=T.i(R)>>>16,ie=T.i(R)&65535;L[2*M+2*R]+=$*ie,E(L,2*M+2*R),L[2*M+2*R+1]+=F*ie,E(L,2*M+2*R+1),L[2*M+2*R+1]+=$*ee,E(L,2*M+2*R+1),L[2*M+2*R+2]+=F*ee,E(L,2*M+2*R+2)}for(M=0;M<C;M++)L[M]=L[2*M+1]<<16|L[2*M];for(M=C;M<2*C;M++)L[M]=0;return new l(L,0)};function E(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function P(T,C){this.g=T,this.h=C}function O(T,C){if(k(C))throw Error("division by zero");if(k(T))return new P(m,m);if(_(T))return C=O(b(T),C),new P(b(C.g),b(C.h));if(_(C))return C=O(T,b(C)),new P(b(C.g),C.h);if(30<T.g.length){if(_(T)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var L=y,M=C;0>=M.l(T);)L=N(L),M=N(M);var R=I(L,1),F=I(M,1);for(M=I(M,2),L=I(L,2);!k(M);){var $=F.add(M);0>=$.l(T)&&(R=R.add(L),F=$),M=I(M,1),L=I(L,1)}return C=A(T,R.j(C)),new P(R,C)}for(R=m;0<=T.l(C);){for(L=Math.max(1,Math.floor(T.m()/C.m())),M=Math.ceil(Math.log(L)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),F=h(L),$=F.j(C);_($)||0<$.l(T);)L-=M,F=h(L),$=F.j(C);k(F)&&(F=y),R=R.add(F),T=A(T,$)}return new P(R,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)&T.i(M);return new l(L,this.h&T.h)},t.or=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)|T.i(M);return new l(L,this.h|T.h)},t.xor=function(T){for(var C=Math.max(this.g.length,T.g.length),L=[],M=0;M<C;M++)L[M]=this.i(M)^T.i(M);return new l(L,this.h^T.h)};function N(T){for(var C=T.g.length+1,L=[],M=0;M<C;M++)L[M]=T.i(M)<<1|T.i(M-1)>>>31;return new l(L,T.h)}function I(T,C){var L=C>>5;C%=32;for(var M=T.g.length-L,R=[],F=0;F<M;F++)R[F]=0<C?T.i(F+L)>>>C|T.i(F+L+1)<<32-C:T.i(F+L);return new l(R,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CM=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Wo=l}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IM,nd,OM,Tp,i_,RM,MM,DM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,j,D){return g==Array.prototype||g==Object.prototype||(g[j]=D.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ip=="object"&&ip];for(var j=0;j<g.length;++j){var D=g[j];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var n=r(this);function i(g,j){if(j)e:{var D=n;g=g.split(".");for(var B=0;B<g.length-1;B++){var ne=g[B];if(!(ne in D))break e;D=D[ne]}g=g[g.length-1],B=D[g],j=j(B),j!=B&&j!=null&&e(D,g,{configurable:!0,writable:!0,value:j})}}function a(g,j){g instanceof String&&(g+="");var D=0,B=!1,ne={next:function(){if(!B&&D<g.length){var fe=D++;return{value:j(fe,g[fe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(g){return g||function(){return a(this,function(j,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var j=typeof g;return j=j!="object"?j:g?Array.isArray(g)?"array":j:"null",j=="array"||j=="object"&&typeof g.length=="number"}function h(g){var j=typeof g;return j=="object"&&g!=null||j=="function"}function p(g,j,D){return g.call.apply(g.bind,arguments)}function m(g,j,D){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,B),g.apply(j,ne)}}return function(){return g.apply(j,arguments)}}function y(g,j,D){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,j){var D=Array.prototype.slice.call(arguments,1);return function(){var B=D.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function k(g,j){function D(){}D.prototype=j.prototype,g.aa=j.prototype,g.prototype=new D,g.prototype.constructor=g,g.Qb=function(B,ne,fe){for(var Ae=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Ae[xt-2]=arguments[xt];return j.prototype[ne].apply(B,Ae)}}function _(g){const j=g.length;if(0<j){const D=Array(j);for(let B=0;B<j;B++)D[B]=g[B];return D}return[]}function b(g,j){for(let D=1;D<arguments.length;D++){const B=arguments[D];if(d(B)){const ne=g.length||0,fe=B.length||0;g.length=ne+fe;for(let Ae=0;Ae<fe;Ae++)g[ne+Ae]=B[Ae]}else g.push(B)}}class A{constructor(j,D){this.i=j,this.j=D,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function E(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function O(g){return O[" "](g),g}O[" "]=function(){};var N=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function I(g,j,D){for(const B in g)j.call(D,g[B],B,g)}function T(g,j){for(const D in g)j.call(void 0,g[D],D,g)}function C(g){const j={};for(const D in g)j[D]=g[D];return j}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,j){let D,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for(D in B)g[D]=B[D];for(let fe=0;fe<L.length;fe++)D=L[fe],Object.prototype.hasOwnProperty.call(B,D)&&(g[D]=B[D])}}function R(g){var j=1;g=g.split(":");const D=[];for(;0<j&&g.length;)D.push(g.shift()),j--;return g.length&&D.push(g.join(":")),D}function F(g){c.setTimeout(()=>{throw g},0)}function $(){var g=Z;let j=null;return g.g&&(j=g.g,g.g=g.g.next,g.g||(g.h=null),j.next=null),j}class ee{constructor(){this.h=this.g=null}add(j,D){const B=ie.get();B.set(j,D),this.h?this.h.next=B:this.g=B,this.h=B}}var ie=new A(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(j,D){this.h=j,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let se,te=!1,Z=new ee,re=()=>{const g=c.Promise.resolve(void 0);se=()=>{g.then(W)}};var W=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(D){F(D)}var j=ie;j.j(g),100>j.h&&(j.h++,g.next=j.g,j.g=g)}te=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(g,j){this.type=g,this.g=this.target=j,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,j=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const D=()=>{};c.addEventListener("test",D,j),c.removeEventListener("test",D,j)}catch{}return g}();function ge(g,j){if(Y.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var D=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=j,j=g.relatedTarget){if(N){e:{try{O(j.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(j=null)}}else D=="mouseover"?j=g.fromElement:D=="mouseout"&&(j=g.toElement);this.relatedTarget=j,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:he[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ge.aa.h.call(this)}}k(ge,Y);var he={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),be=0;function q(g,j,D,B,ne){this.listener=g,this.proxy=null,this.src=j,this.type=D,this.capture=!!B,this.ha=ne,this.key=++be,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,j,D,B,ne){var fe=g.toString();g=this.g[fe],g||(g=this.g[fe]=[],this.h++);var Ae=ue(g,j,B,ne);return-1<Ae?(j=g[Ae],D||(j.fa=!1)):(j=new q(j,this.src,fe,!!B,ne),j.fa=D,g.push(j)),j};function U(g,j){var D=j.type;if(D in g.g){var B=g.g[D],ne=Array.prototype.indexOf.call(B,j,void 0),fe;(fe=0<=ne)&&Array.prototype.splice.call(B,ne,1),fe&&(me(j),g.g[D].length==0&&(delete g.g[D],g.h--))}}function ue(g,j,D,B){for(var ne=0;ne<g.length;++ne){var fe=g[ne];if(!fe.da&&fe.listener==j&&fe.capture==!!D&&fe.ha==B)return ne}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ue(g,j,D,B,ne){if(Array.isArray(j)){for(var fe=0;fe<j.length;fe++)Ue(g,j[fe],D,B,ne);return null}return D=Cn(D),g&&g[de]?g.K(j,D,h(B)?!!B.capture:!1,ne):Qt(g,j,D,!1,B,ne)}function Qt(g,j,D,B,ne,fe){if(!j)throw Error("Invalid event type");var Ae=h(ne)?!!ne.capture:!!ne,xt=nn(g);if(xt||(g[_e]=xt=new xe(g)),D=xt.add(j,D,B,Ae,fe),D.proxy)return D;if(B=pr(),D.proxy=B,B.src=g,B.listener=D,g.addEventListener)le||(ne=Ae),ne===void 0&&(ne=!1),g.addEventListener(j.toString(),B,ne);else if(g.attachEvent)g.attachEvent(It(j.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return D}function pr(){function g(D){return j.call(g.src,g.listener,D)}const j=Ir;return g}function rn(g,j,D,B,ne){if(Array.isArray(j))for(var fe=0;fe<j.length;fe++)rn(g,j[fe],D,B,ne);else B=h(B)?!!B.capture:!!B,D=Cn(D),g&&g[de]?(g=g.i,j=String(j).toString(),j in g.g&&(fe=g.g[j],D=ue(fe,D,B,ne),-1<D&&(me(fe[D]),Array.prototype.splice.call(fe,D,1),fe.length==0&&(delete g.g[j],g.h--)))):g&&(g=nn(g))&&(j=g.g[j.toString()],g=-1,j&&(g=ue(j,D,B,ne)),(D=-1<g?j[g]:null)&&Ct(D))}function Ct(g){if(typeof g!="number"&&g&&!g.da){var j=g.src;if(j&&j[de])U(j.i,g);else{var D=g.type,B=g.proxy;j.removeEventListener?j.removeEventListener(D,B,g.capture):j.detachEvent?j.detachEvent(It(D),B):j.addListener&&j.removeListener&&j.removeListener(B),(D=nn(j))?(U(D,g),D.h==0&&(D.src=null,j[_e]=null)):me(g)}}}function It(g){return g in Ie?Ie[g]:Ie[g]="on"+g}function Ir(g,j){if(g.da)g=!0;else{j=new ge(j,this);var D=g.listener,B=g.ha||g.src;g.fa&&Ct(g),g=D.call(B,j)}return g}function nn(g){return g=g[_e],g instanceof xe?g:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(g){return typeof g=="function"?g:(g[or]||(g[or]=function(j){return g.handleEvent(j)}),g[or])}function zt(){X.call(this),this.i=new xe(this),this.M=this,this.F=null}k(zt,X),zt.prototype[de]=!0,zt.prototype.removeEventListener=function(g,j,D,B){rn(this,g,j,D,B)};function Wt(g,j){var D,B=g.F;if(B)for(D=[];B;B=B.F)D.push(B);if(g=g.M,B=j.type||j,typeof j=="string")j=new Y(j,g);else if(j instanceof Y)j.target=j.target||g;else{var ne=j;j=new Y(B,g),M(j,ne)}if(ne=!0,D)for(var fe=D.length-1;0<=fe;fe--){var Ae=j.g=D[fe];ne=xi(Ae,B,!0,j)&&ne}if(Ae=j.g=g,ne=xi(Ae,B,!0,j)&&ne,ne=xi(Ae,B,!1,j)&&ne,D)for(fe=0;fe<D.length;fe++)Ae=j.g=D[fe],ne=xi(Ae,B,!1,j)&&ne}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var g=this.i,j;for(j in g.g){for(var D=g.g[j],B=0;B<D.length;B++)me(D[B]);delete g.g[j],g.h--}}this.F=null},zt.prototype.K=function(g,j,D,B){return this.i.add(String(g),j,!1,D,B)},zt.prototype.L=function(g,j,D,B){return this.i.add(String(g),j,!0,D,B)};function xi(g,j,D,B){if(j=g.i.g[String(j)],!j)return!0;j=j.concat();for(var ne=!0,fe=0;fe<j.length;++fe){var Ae=j[fe];if(Ae&&!Ae.da&&Ae.capture==D){var xt=Ae.listener,mr=Ae.ha||Ae.src;Ae.fa&&U(g.i,Ae),ne=xt.call(mr,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function mt(g,j,D){if(typeof g=="function")D&&(g=y(g,D));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:c.setTimeout(g,j||0)}function Bi(g){g.g=mt(()=>{g.g=null,g.i&&(g.i=!1,Bi(g))},g.l);const j=g.h;g.h=null,g.m.apply(null,j)}class ma extends X{constructor(j,D){super(),this.m=j,this.l=D,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Bi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(g){X.call(this),this.h=g,this.g={}}k(ga,X);var oo=[];function va(g){I(g.g,function(j,D){this.g.hasOwnProperty(D)&&Ct(j)},g),g.g={}}ga.prototype.N=function(){ga.aa.N.call(this),va(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=c.JSON.stringify,rs=c.JSON.parse,bi=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function In(){}In.prototype.h=null;function ns(g){return g.h||(g.h=g.i())}function is(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){Y.call(this,"d")}k(Qn,Y);function as(){Y.call(this,"c")}k(as,Y);var Jn={},lo=null;function Jt(){return lo=lo||new zt}Jn.La="serverreachability";function co(g){Y.call(this,Jn.La,g)}k(co,Y);function wi(g){const j=Jt();Wt(j,new co(j))}Jn.STAT_EVENT="statevent";function kr(g,j){Y.call(this,Jn.STAT_EVENT,g),this.stat=j}k(kr,Y);function Ot(g){const j=Jt();Wt(j,new kr(j,g))}Jn.Ma="timingevent";function ss(g,j){Y.call(this,Jn.Ma,g),this.size=j}k(ss,Y);function On(g,j){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},j)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function ye(g,j,D,B,ne,fe){g.info(function(){if(g.g)if(fe)for(var Ae="",xt=fe.split("&"),mr=0;mr<xt.length;mr++){var lt=xt[mr].split("=");if(1<lt.length){var jr=lt[0];lt=lt[1];var lr=jr.split("_");Ae=2<=lr.length&&lr[1]=="type"?Ae+(jr+"="+lt+"&"):Ae+(jr+"=redacted&")}}else Ae=null;else Ae=fe;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+j+`
`+D+`
`+Ae})}function Fe(g,j,D,B,ne,fe,Ae){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+j+`
`+D+`
`+fe+" "+Ae})}function Pe(g,j,D,B){g.info(function(){return"XMLHTTP TEXT ("+j+"): "+Vt(g,D)+(B?" "+B:"")})}function Ge(g,j){g.info(function(){return"TIMEOUT: "+j})}pe.prototype.info=function(){};function Vt(g,j){if(!g.g)return j;if(!j)return null;try{var D=JSON.parse(j);if(D){for(g=0;g<D.length;g++)if(Array.isArray(D[g])){var B=D[g];if(!(2>B.length)){var ne=B[1];if(Array.isArray(ne)&&!(1>ne.length)){var fe=ne[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Ae=1;Ae<ne.length;Ae++)ne[Ae]=""}}}}return Xn(D)}catch{return j}}var Ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_t;function tt(){}k(tt,In),tt.prototype.g=function(){return new XMLHttpRequest},tt.prototype.i=function(){return{}},_t=new tt;function Gt(g,j,D,B){this.j=g,this.i=j,this.l=D,this.R=B||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zr}function zr(){this.i=null,this.g="",this.h=!1}var nr={},vn={};function yn(g,j,D){g.L=1,g.v=ds(Mn(j)),g.m=D,g.P=!0,Rt(g,null)}function Rt(g,j){g.F=Date.now(),Nt(g),g.A=Mn(g.v);var D=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),fs(D.i,"t",B),g.C=0,D=g.j.J,g.h=new zr,g.g=sf(g.j,D?j:null,!g.m),0<g.O&&(g.M=new ma(y(g.Y,g,g.g),g.O)),j=g.U,D=g.g,B=g.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(oo[0]=ne.toString()),ne=oo);for(var fe=0;fe<ne.length;fe++){var Ae=Ue(D,ne[fe],B||j.handleEvent,!1,j.h||j);if(!Ae)break;j.g[Ae.key]=Ae}j=g.H?C(g.H):{},g.m?(g.u||(g.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,j)):(g.u="GET",g.g.ea(g.A,g.u,null,j)),wi(),ye(g.i,g.u,g.A,g.l,g.R,g.m)}Gt.prototype.ca=function(g){g=g.target;const j=this.M;j&&bn(g)==3?j.j():this.Y(g)},Gt.prototype.Y=function(g){try{if(g==this.g)e:{const lr=bn(this.g);var j=this.g.Ba();const ti=this.g.Z();if(!(3>lr)&&(lr!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||lr!=4||j==7||(j==8||0>=ti?wi(3):wi(2)),uo(this);var D=this.g.Z();this.X=D;t:if(Uh(this)){var B=gu(this.g);g="";var ne=B.length,fe=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),os(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(j=0;j<ne;j++)this.h.h=!0,g+=this.h.i.decode(B[j],{stream:!(fe&&j==ne-1)});B.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=D==200,Fe(this.i,this.u,this.A,this.l,this.R,lr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,mr=this.g;if((xt=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(xt)){var lt=xt;break t}}lt=null}if(D=lt)Pe(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,du(this,D);else{this.o=!1,this.s=3,Ot(12),Zn(this),os(this);break e}}if(this.P){D=!0;let Ln;for(;!this.J&&this.C<Ae.length;)if(Ln=tg(this,Ae),Ln==vn){lr==4&&(this.s=4,Ot(14),D=!1),Pe(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==nr){this.s=4,Ot(15),Pe(this.i,this.l,Ae,"[Invalid Chunk]"),D=!1;break}else Pe(this.i,this.l,Ln,null),du(this,Ln);if(Uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||Ae.length!=0||this.h.h||(this.s=1,Ot(16),D=!1),this.o=this.o&&D,!D)Pe(this.i,this.l,Ae,"[Invalid Chunked Response]"),Zn(this),os(this);else if(0<Ae.length&&!this.W){this.W=!0;var jr=this.j;jr.g==this&&jr.ba&&!jr.M&&(jr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),yu(jr),jr.M=!0,Ot(11))}}else Pe(this.i,this.l,Ae,null),du(this,Ae);lr==4&&Zn(this),this.o&&!this.J&&(lr==4?El(this.j,this):(this.o=!1,Nt(this)))}else _l(this.g),D==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Zn(this),os(this)}}}catch{}finally{}};function Uh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function tg(g,j){var D=g.C,B=j.indexOf(`
`,D);return B==-1?vn:(D=Number(j.substring(D,B)),isNaN(D)?nr:(B+=1,B+D>j.length?vn:(j=j.slice(B,B+D),g.C=B+D,j)))}Gt.prototype.cancel=function(){this.J=!0,Zn(this)};function Nt(g){g.S=Date.now()+g.I,qh(g,g.I)}function qh(g,j){if(g.B!=null)throw Error("WatchDog timer not null");g.B=On(y(g.ba,g),j)}function uo(g){g.B&&(c.clearTimeout(g.B),g.B=null)}Gt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ge(this.i,this.A),this.L!=2&&(wi(),Ot(17)),Zn(this),this.s=2,os(this)):qh(this,this.S-g)};function os(g){g.j.G==0||g.J||El(g.j,g)}function Zn(g){uo(g);var j=g.M;j&&typeof j.ma=="function"&&j.ma(),g.M=null,va(g.U),g.g&&(j=g.g,g.g=null,j.abort(),j.ma())}function du(g,j){try{var D=g.j;if(D.G!=0&&(D.g==g||an(D.h,g))){if(!g.K&&an(D.h,g)&&D.G==3){try{var B=D.Da.g.parse(j)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<g.F)Nl(D),Ni(D);else break e;Sl(D),Ot(18)}}else D.za=ne[1],0<D.za-D.T&&37500>ne[2]&&D.F&&D.v==0&&!D.C&&(D.C=On(y(D.Za,D),6e3));if(1>=Wh(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else _a(D,11)}else if((g.K||D.g==g)&&Nl(D),!E(j))for(ne=D.Da.g.parse(j),j=0;j<ne.length;j++){let lt=ne[j];if(D.T=lt[0],lt=lt[1],D.G==2)if(lt[0]=="c"){D.K=lt[1],D.ia=lt[2];const jr=lt[3];jr!=null&&(D.la=jr,D.j.info("VER="+D.la));const lr=lt[4];lr!=null&&(D.Aa=lr,D.j.info("SVER="+D.Aa));const ti=lt[5];ti!=null&&typeof ti=="number"&&0<ti&&(B=1.5*ti,D.L=B,D.j.info("backChannelRequestTimeoutMs_="+B)),B=D;const Ln=g.g;if(Ln){const yo=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var fe=B.h;fe.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(hu(fe,fe.h),fe.h=null))}if(B.D){const Al=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(B.ya=Al,jt(B.I,B.D,Al))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-g.F,D.j.info("Handshake RTT: "+D.R+"ms")),B=D;var Ae=g;if(B.qa=af(B,B.J?B.ia:null,B.W),Ae.K){Hh(B.h,Ae);var xt=Ae,mr=B.L;mr&&(xt.I=mr),xt.B&&(uo(xt),Nt(xt)),B.g=Ae}else vo(B);0<D.i.length&&Wi(D)}else lt[0]!="stop"&&lt[0]!="close"||_a(D,7);else D.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?_a(D,7):Rr(D):lt[0]!="noop"&&D.l&&D.l.ta(lt),D.v=0)}}wi(4)}catch{}}var zh=class{constructor(g,j){this.g=g,this.map=j}};function ho(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Wh(g){return g.h?1:g.g?g.g.size:0}function an(g,j){return g.h?g.h==j:g.g?g.g.has(j):!1}function hu(g,j){g.g?g.g.add(j):g.h=j}function Hh(g,j){g.h&&g.h==j?g.h=null:g.g&&g.g.has(j)&&g.g.delete(j)}ho.prototype.cancel=function(){if(this.i=Gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Gh(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let j=g.i;for(const D of g.g.values())j=j.concat(D.D);return j}return _(g.i)}function vl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var j=[],D=g.length,B=0;B<D;B++)j.push(g[B]);return j}j=[],D=0;for(B in g)j[D++]=g[B];return j}function yl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var j=[];g=g.length;for(var D=0;D<g;D++)j.push(D);return j}j=[],D=0;for(const B in g)j[D++]=B;return j}}}function ls(g,j){if(g.forEach&&typeof g.forEach=="function")g.forEach(j,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,j,void 0);else for(var D=yl(g),B=vl(g),ne=B.length,fe=0;fe<ne;fe++)j.call(void 0,B[fe],D&&D[fe],g)}var fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rg(g,j){if(g){g=g.split("&");for(var D=0;D<g.length;D++){var B=g[D].indexOf("="),ne=null;if(0<=B){var fe=g[D].substring(0,B);ne=g[D].substring(B+1)}else fe=g[D];j(fe,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ya(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ya){this.h=g.h,po(this,g.j),this.o=g.o,this.g=g.g,cs(this,g.s),this.l=g.l;var j=g.i,D=new Ui;D.i=j.i,j.g&&(D.g=new Map(j.g),D.h=j.h),us(this,D),this.m=g.m}else g&&(j=String(g).match(fo))?(this.h=!1,po(this,j[1]||"",!0),this.o=st(j[2]||""),this.g=st(j[3]||"",!0),cs(this,j[4]),this.l=st(j[5]||"",!0),us(this,j[6]||"",!0),this.m=st(j[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}ya.prototype.toString=function(){var g=[],j=this.j;j&&g.push(hs(j,xl,!0),":");var D=this.g;return(D||j=="file")&&(g.push("//"),(j=this.o)&&g.push(hs(j,xl,!0),"@"),g.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&g.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&g.push("/"),g.push(hs(D,D.charAt(0)=="/"?Xh:Yh,!0))),(D=this.i.toString())&&g.push("?",D),(D=this.m)&&g.push("#",hs(D,fu)),g.join("")};function Mn(g){return new ya(g)}function po(g,j,D){g.j=D?st(j,!0):j,g.j&&(g.j=g.j.replace(/:$/,""))}function cs(g,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);g.s=j}else g.s=null}function us(g,j,D){j instanceof Ui?(g.i=j,qi(g.i,g.h)):(D||(j=hs(j,Qh)),g.i=new Ui(j,g.h))}function jt(g,j,D){g.i.set(j,D)}function ds(g){return jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function st(g,j){return g?j?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function hs(g,j,D){return typeof g=="string"?(g=encodeURI(g).replace(j,Kh),D&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Kh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var xl=/[#\/\?@]/g,Yh=/[#\?:]/g,Xh=/[#\?]/g,Qh=/[#\?@]/g,fu=/#/g;function Ui(g,j){this.h=this.g=null,this.i=g||null,this.j=!!j}function Or(g){g.g||(g.g=new Map,g.h=0,g.i&&rg(g.i,function(j,D){g.add(decodeURIComponent(j.replace(/\+/g," ")),D)}))}t=Ui.prototype,t.add=function(g,j){Or(this),this.i=null,g=ei(this,g);var D=this.g.get(g);return D||this.g.set(g,D=[]),D.push(j),this.h+=1,this};function _i(g,j){Or(g),j=ei(g,j),g.g.has(j)&&(g.i=null,g.h-=g.g.get(j).length,g.g.delete(j))}function ki(g,j){return Or(g),j=ei(g,j),g.g.has(j)}t.forEach=function(g,j){Or(this),this.g.forEach(function(D,B){D.forEach(function(ne){g.call(j,ne,B,this)},this)},this)},t.na=function(){Or(this);const g=Array.from(this.g.values()),j=Array.from(this.g.keys()),D=[];for(let B=0;B<j.length;B++){const ne=g[B];for(let fe=0;fe<ne.length;fe++)D.push(j[B])}return D},t.V=function(g){Or(this);let j=[];if(typeof g=="string")ki(this,g)&&(j=j.concat(this.g.get(ei(this,g))));else{g=Array.from(this.g.values());for(let D=0;D<g.length;D++)j=j.concat(g[D])}return j},t.set=function(g,j){return Or(this),this.i=null,g=ei(this,g),ki(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[j]),this.h+=1,this},t.get=function(g,j){return g?(g=this.V(g),0<g.length?String(g[0]):j):j};function fs(g,j,D){_i(g,j),0<D.length&&(g.i=null,g.g.set(ei(g,j),_(D)),g.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],j=Array.from(this.g.keys());for(var D=0;D<j.length;D++){var B=j[D];const fe=encodeURIComponent(String(B)),Ae=this.V(B);for(B=0;B<Ae.length;B++){var ne=fe;Ae[B]!==""&&(ne+="="+encodeURIComponent(String(Ae[B]))),g.push(ne)}}return this.i=g.join("&")};function ei(g,j){return j=String(j),g.j&&(j=j.toLowerCase()),j}function qi(g,j){j&&!g.j&&(Or(g),g.i=null,g.g.forEach(function(D,B){var ne=B.toLowerCase();B!=ne&&(_i(this,B),fs(this,ne,D))},g)),g.j=j}function ng(g,j){const D=new pe;if(c.Image){const B=new Image;B.onload=x(xn,D,"TestLoadImage: loaded",!0,j,B),B.onerror=x(xn,D,"TestLoadImage: error",!1,j,B),B.onabort=x(xn,D,"TestLoadImage: abort",!1,j,B),B.ontimeout=x(xn,D,"TestLoadImage: timeout",!1,j,B),c.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else j(!1)}function Jh(g,j){const D=new pe,B=new AbortController,ne=setTimeout(()=>{B.abort(),xn(D,"TestPingServer: timeout",!1,j)},1e4);fetch(g,{signal:B.signal}).then(fe=>{clearTimeout(ne),fe.ok?xn(D,"TestPingServer: ok",!0,j):xn(D,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(ne),xn(D,"TestPingServer: error",!1,j)})}function xn(g,j,D,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B(D)}catch{}}function ig(){this.g=new bi}function Zh(g,j,D){const B=D||"";try{ls(g,function(ne,fe){let Ae=ne;h(ne)&&(Ae=Xn(ne)),j.push(B+fe+"="+encodeURIComponent(Ae))})}catch(ne){throw j.push(B+"type="+encodeURIComponent("_badmap")),ne}}function xa(g){this.l=g.Ub||null,this.j=g.eb||!1}k(xa,In),xa.prototype.g=function(){return new mo(this.l,this.j)},xa.prototype.i=function(g){return function(){return g}}({});function mo(g,j){zt.call(this),this.D=g,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(mo,zt),t=mo.prototype,t.open=function(g,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=j,this.readyState=1,Si(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(j.body=g),(this.D||c).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ef(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function ef(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var j=g.value?g.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!g.done}))&&(this.response=this.responseText+=j)}g.done?ji(this):Si(this),this.readyState==3&&ef(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ji(this))},t.Qa=function(g){this.g&&(this.response=g,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Si(g)}t.setRequestHeader=function(g,j){this.u.append(g,j)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],j=this.h.entries();for(var D=j.next();!D.done;)D=D.value,g.push(D[0]+": "+D[1]),D=j.next();return g.join(`\r
`)};function Si(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ba(g){let j="";return I(g,function(D,B){j+=B,j+=":",j+=D,j+=`\r
`}),j}function ps(g,j,D){e:{for(B in D){var B=!1;break e}B=!0}B||(D=ba(D),typeof g=="string"?D!=null&&encodeURIComponent(String(D)):jt(g,j,D))}function Bt(g){zt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Bt,zt);var ag=/^https?$/i,pu=["POST","PUT"];t=Bt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,j,D,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);j=j?j.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_t.g(),this.v=this.o?ns(this.o):ns(_t),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(g),!0),this.B=!1}catch(fe){go(this,fe);return}if(g=D||"",D=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)D.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const fe of B.keys())D.set(fe,B.get(fe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(D.keys()).find(fe=>fe.toLowerCase()=="content-type"),ne=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pu,j,void 0))||B||ne||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ae]of D)this.g.setRequestHeader(fe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wl(this),this.u=!0,this.g.send(g),this.u=!1}catch(fe){go(this,fe)}};function go(g,j){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=j,g.m=5,bl(g),Dn(g)}function bl(g){g.A||(g.A=!0,Wt(g,"complete"),Wt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Wt(this,"complete"),Wt(this,"abort"),Dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dn(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},t.bb=function(){mu(this)};function mu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||bn(g)!=4||g.Z()!=2)){if(g.u&&bn(g)==4)mt(g.Ea,0,g);else if(Wt(g,"readystatechange"),bn(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var D;if(!(D=j)){var B;if(B=Ae===0){var ne=String(g.D).match(fo)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),B=!ag.test(ne?ne.toLowerCase():"")}D=B}if(D)Wt(g,"complete"),Wt(g,"success");else{g.m=6;try{var fe=2<bn(g)?g.g.statusText:""}catch{fe=""}g.l=fe+" ["+g.Z()+"]",bl(g)}}finally{Dn(g)}}}}function Dn(g,j){if(g.g){wl(g);const D=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,j||Wt(g,"ready");try{D.onreadystatechange=B}catch{}}}function wl(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function bn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var j=this.g.responseText;return g&&j.indexOf(g)==0&&(j=j.substring(g.length)),rs(j)}};function gu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function _l(g){const j={};g=(g.g&&2<=bn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(E(g[B]))continue;var D=R(g[B]);const ne=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const fe=j[ne]||[];j[ne]=fe,fe.push(D)}T(j,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zi(g,j,D){return D&&D.internalChannelParams&&D.internalChannelParams[g]||j}function vu(g){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zi("baseRetryDelayMs",5e3,g),this.cb=zi("retryDelaySeedMs",1e4,g),this.Wa=zi("forwardChannelMaxRetries",2,g),this.wa=zi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(g&&g.concurrentRequestLimit),this.Da=new ig,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vu.prototype,t.la=8,t.G=1,t.connect=function(g,j,D,B){Ot(0),this.W=g,this.H=j||{},D&&B!==void 0&&(this.H.OSID=D,this.H.OAID=B),this.F=this.X,this.I=af(this,null,this.W),Wi(this)};function Rr(g){if(kl(g),g.G==3){var j=g.U++,D=Mn(g.I);if(jt(D,"SID",g.K),jt(D,"RID",j),jt(D,"TYPE","terminate"),wa(g,D),j=new Gt(g,g.j,j),j.L=2,j.v=ds(Mn(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(j.v.toString(),"")}catch{}!D&&c.Image&&(new Image().src=j.v,D=!0),D||(j.g=sf(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Nt(j)}nf(g)}function Ni(g){g.g&&(yu(g),g.g.cancel(),g.g=null)}function kl(g){Ni(g),g.u&&(c.clearTimeout(g.u),g.u=null),Nl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Wi(g){if(!Rn(g.h)&&!g.s){g.s=!0;var j=g.Ga;se||re(),te||(se(),te=!0),Z.add(j,g),g.B=0}}function sg(g,j){return Wh(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=j.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=On(y(g.Ga,g,j),rf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ne=new Gt(this,this.j,g);let fe=this.o;if(this.S&&(fe?(fe=C(fe),M(fe,this.S)):fe=this.S),this.m!==null||this.O||(ne.H=fe,fe=null),this.P)e:{for(var j=0,D=0;D<this.i.length;D++){t:{var B=this.i[D];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(j+=B,4096<j){j=D;break e}if(j===4096||D===this.i.length-1){j=D+1;break e}}j=1e3}else j=1e3;j=ms(this,ne,j),D=Mn(this.I),jt(D,"RID",g),jt(D,"CVER",22),this.D&&jt(D,"X-HTTP-Session-Id",this.D),wa(this,D),fe&&(this.O?j="headers="+encodeURIComponent(String(ba(fe)))+"&"+j:this.m&&ps(D,this.m,fe)),hu(this.h,ne),this.Ua&&jt(D,"TYPE","init"),this.P?(jt(D,"$req",j),jt(D,"SID","null"),ne.T=!0,yn(ne,D,null)):yn(ne,D,j),this.G=2}}else this.G==3&&(g?jl(this,g):this.i.length==0||Rn(this.h)||jl(this))};function jl(g,j){var D;j?D=j.l:D=g.U++;const B=Mn(g.I);jt(B,"SID",g.K),jt(B,"RID",D),jt(B,"AID",g.T),wa(g,B),g.m&&g.o&&ps(B,g.m,g.o),D=new Gt(g,g.j,D,g.B+1),g.m===null&&(D.H=g.o),j&&(g.i=j.D.concat(g.i)),j=ms(g,D,1e3),D.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),hu(g.h,D),yn(D,B,j)}function wa(g,j){g.H&&I(g.H,function(D,B){jt(j,B,D)}),g.l&&ls({},function(D,B){jt(j,B,D)})}function ms(g,j,D){D=Math.min(g.i.length,D);var B=g.l?y(g.l.Na,g.l,g):null;e:{var ne=g.i;let fe=-1;for(;;){const Ae=["count="+D];fe==-1?0<D?(fe=ne[0].g,Ae.push("ofs="+fe)):fe=0:Ae.push("ofs="+fe);let xt=!0;for(let mr=0;mr<D;mr++){let lt=ne[mr].g;const jr=ne[mr].map;if(lt-=fe,0>lt)fe=Math.max(0,ne[mr].g-100),xt=!1;else try{Zh(jr,Ae,"req"+lt+"_")}catch{B&&B(jr)}}if(xt){B=Ae.join("&");break e}}}return g=g.i.splice(0,D),j.D=g,B}function vo(g){if(!g.g&&!g.u){g.Y=1;var j=g.Fa;se||re(),te||(se(),te=!0),Z.add(j,g),g.v=0}}function Sl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=On(y(g.Fa,g),rf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=On(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Ni(this),tf(this))};function yu(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function tf(g){g.g=new Gt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var j=Mn(g.qa);jt(j,"RID","rpc"),jt(j,"SID",g.K),jt(j,"AID",g.T),jt(j,"CI",g.F?"0":"1"),!g.F&&g.ja&&jt(j,"TO",g.ja),jt(j,"TYPE","xmlhttp"),wa(g,j),g.m&&g.o&&ps(j,g.m,g.o),g.L&&(g.g.I=g.L);var D=g.g;g=g.ia,D.L=1,D.v=ds(Mn(j)),D.m=null,D.P=!0,Rt(D,g)}t.Za=function(){this.C!=null&&(this.C=null,Ni(this),Sl(this),Ot(19))};function Nl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function El(g,j){var D=null;if(g.g==j){Nl(g),yu(g),g.g=null;var B=2}else if(an(g.h,j))D=j.D,Hh(g.h,j),B=1;else return;if(g.G!=0){if(j.o)if(B==1){D=j.m?j.m.length:0,j=Date.now()-j.F;var ne=g.B;B=Jt(),Wt(B,new ss(B,D)),Wi(g)}else vo(g);else if(ne=j.s,ne==3||ne==0&&0<j.X||!(B==1&&sg(g,j)||B==2&&Sl(g)))switch(D&&0<D.length&&(j=g.h,j.i=j.i.concat(D)),ne){case 1:_a(g,5);break;case 4:_a(g,10);break;case 3:_a(g,6);break;default:_a(g,2)}}}function rf(g,j){let D=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(D*=2),D*j}function _a(g,j){if(g.j.info("Error code "+j),j==2){var D=y(g.fb,g),B=g.Xa;const ne=!B;B=new ya(B||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||po(B,"https"),ds(B),ne?ng(B.toString(),D):Jh(B.toString(),D)}else Ot(2);g.G=0,g.l&&g.l.sa(j),nf(g),kl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function nf(g){if(g.G=0,g.ka=[],g.l){const j=Gh(g.h);(j.length!=0||g.i.length!=0)&&(b(g.ka,j),b(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function af(g,j,D){var B=D instanceof ya?Mn(D):new ya(D);if(B.g!="")j&&(B.g=j+"."+B.g),cs(B,B.s);else{var ne=c.location;B=ne.protocol,j=j?j+"."+ne.hostname:ne.hostname,ne=+ne.port;var fe=new ya(null);B&&po(fe,B),j&&(fe.g=j),ne&&cs(fe,ne),D&&(fe.l=D),B=fe}return D=g.D,j=g.ya,D&&j&&jt(B,D,j),jt(B,"VER",g.la),wa(g,B),B}function sf(g,j,D){if(j&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=g.Ca&&!g.pa?new Bt(new xa({eb:D})):new Bt(g.pa),j.Ha(g.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}t=xu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(g,j){return new sn(g,j)};function sn(g,j){zt.call(this),this.g=new vu(j),this.l=g,this.h=j&&j.messageUrlParams||null,g=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(g?g["X-WebChannel-Content-Type"]=j.messageContentType:g={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(g?g["X-WebChannel-Client-Profile"]=j.va:g={"X-WebChannel-Client-Profile":j.va}),this.g.S=g,(g=j&&j.Sb)&&!E(g)&&(this.g.m=g),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!E(j)&&(this.g.D=j,g=this.h,g!==null&&j in g&&(g=this.h,j in g&&delete g[j])),this.j=new Hi(this)}k(sn,zt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Rr(this.g)},sn.prototype.o=function(g){var j=this.g;if(typeof g=="string"){var D={};D.__data__=g,g=D}else this.u&&(D={},D.__data__=Xn(g),g=D);j.i.push(new zh(j.Ya++,g)),j.G==3&&Wi(j)},sn.prototype.N=function(){this.g.l=null,delete this.j,Rr(this.g),delete this.g,sn.aa.N.call(this)};function of(g){Qn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var j=g.__sm__;if(j){e:{for(const D in j){g=D;break e}g=void 0}(this.i=g)&&(g=this.i,j=j!==null&&g in j?j[g]:void 0),this.data=j}else this.data=g}k(of,Qn);function lf(){as.call(this),this.status=1}k(lf,as);function Hi(g){this.g=g}k(Hi,xu),Hi.prototype.ua=function(){Wt(this.g,"a")},Hi.prototype.ta=function(g){Wt(this.g,new of(g))},Hi.prototype.sa=function(g){Wt(this.g,new lf)},Hi.prototype.ra=function(){Wt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,DM=function(){return new Tl},MM=function(){return Jt()},RM=Jn,i_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ht.NO_ERROR=0,Ht.TIMEOUT=8,Ht.HTTP_ERROR=6,Tp=Ht,pt.COMPLETE="complete",OM=pt,is.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",zt.prototype.listen=zt.prototype.K,nd=is,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,IM=Bt}).apply(typeof ip<"u"?ip:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new zk("@firebase/firestore");function zu(){return Jo.logLevel}function $e(t,...e){if(Jo.logLevel<=ot.DEBUG){const r=e.map(r1);Jo.debug(`Firestore (${Jc}): ${t}`,...r)}}function za(t,...e){if(Jo.logLevel<=ot.ERROR){const r=e.map(r1);Jo.error(`Firestore (${Jc}): ${t}`,...r)}}function xc(t,...e){if(Jo.logLevel<=ot.WARN){const r=e.map(r1);Jo.warn(`Firestore (${Jc}): ${t}`,...r)}}function r1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+t;throw za(e),new Error(e)}function wt(t,e){t||Je()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends ha{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qr.UNAUTHENTICATED))}shutdown(){}}class XB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class QB{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){wt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zs)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wt(typeof n.accessToken=="string"),new LM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new Qr(e)}}class JB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ZB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new JB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){wt(this.o===void 0);const n=a=>{a.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,$e("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(wt(typeof r.token=="string"),this.R=r.token,new e9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=r9(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ht(t,e){return t<e?-1:t>e?1:0}function bc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new wr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new wr(0,0))}static max(){return new Ze(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Je(),n===void 0?n=e.length-r:n>e.length-r&&Je(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Sd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Sd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),l=r.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class $t extends Sd{construct(e,r,n){return new $t(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new $t(r)}static emptyPath(){return new $t([])}}const n9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vr extends Sd{construct(e,r,n){return new Vr(e,r,n)}static isValidIdentifier(e){return n9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new Re(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vr(r)}static emptyPath(){return new Vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe($t.fromString(e))}static fromName(e){return new qe($t.fromString(e).popFirst(5))}static empty(){return new qe($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return $t.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new $t(e.slice()))}}function i9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(n===1e9?new wr(r+1,0):new wr(r,n));return new Xs(i,qe.empty(),e)}function a9(t){return new Xs(t.readTime,t.key,-1)}class Xs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Xs(Ze.min(),qe.empty(),-1)}static max(){return new Xs(Ze.max(),qe.empty(),-1)}}function s9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qe.comparator(t.documentKey,e.documentKey),r!==0?r:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==o9)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Se((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Se.reject(r)}static resolve(e){return new Se((r,n)=>{r(e)})}static reject(e){return new Se((r,n)=>{n(e)})}static waitFor(e){return new Se((r,n)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&r()},d=>n(d))}),l=!0,a===i&&r()})}static or(e){let r=Se.resolve(!1);for(const n of e)r=r.next(i=>i?Se.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new Se((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next(p=>{l[h]=p,++c,c===a&&n(l)},p=>i(p))}})}static doWhile(e,r){return new Se((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function c9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function _h(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}n1.oe=-1;function Zm(t){return t==null}function qp(t){return t===0&&1/t==-1/0}function u9(t){return typeof t=="number"&&Number.isInteger(t)&&!qp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ul(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function FM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,r){this.comparator=e,this.root=r||Fr.EMPTY}insert(e,r){return new Xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}}class ap{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Fr.RED,this.left=i??Fr.EMPTY,this.right=a??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Fr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Fr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1;Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Fr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Br(this.comparator);return r.data=e,r}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Vr.comparator)}static empty(){return new Wn([])}unionWith(e){let r=new Br(Vr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VM("Invalid base64 string: "+a):a}}(e);return new qr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new qr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const d9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(wt(!!t),typeof t=="string"){let e=0;const r=d9.exec(t);if(wt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ar(t.seconds),nanos:ar(t.nanos)}}function ar(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?qr.fromBase64String(t):qr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function a1(t){const e=t.mapValue.fields.__previous_value__;return i1(e)?a1(e):e}function Nd(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,r,n,i,a,l,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Ed{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp={mapValue:{}};function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i1(t)?4:p9(t)?9007199254740991:f9(t)?10:11:Je()}function ca(t,e){if(t===e)return!0;const r=el(t);if(r!==el(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nd(t).isEqual(Nd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Qs(i.timestampValue),c=Qs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Zo(i.bytesValue).isEqual(Zo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ar(i.geoPointValue.latitude)===ar(a.geoPointValue.latitude)&&ar(i.geoPointValue.longitude)===ar(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ar(i.integerValue)===ar(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=ar(i.doubleValue),c=ar(a.doubleValue);return l===c?qp(l)===qp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return bc(t.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(WE(l)!==WE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ca(l[d],c[d])))return!1;return!0}(t,e);default:return Je()}}function Td(t,e){return(t.values||[]).find(r=>ca(r,e))!==void 0}function wc(t,e){if(t===e)return 0;const r=el(t),n=el(e);if(r!==n)return ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=ar(a.integerValue||a.doubleValue),d=ar(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return GE(t.timestampValue,e.timestampValue);case 4:return GE(Nd(t),Nd(e));case 5:return ht(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Zo(a),d=Zo(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=ht(c[h],d[h]);if(p!==0)return p}return ht(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=ht(ar(a.latitude),ar(l.latitude));return c!==0?c:ht(ar(a.longitude),ar(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KE(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,h,p;const m=a.fields||{},y=l.fields||{},x=(c=m.value)===null||c===void 0?void 0:c.arrayValue,k=(d=y.value)===null||d===void 0?void 0:d.arrayValue,_=ht(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:KE(x,k)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===sp.mapValue&&l===sp.mapValue)return 0;if(a===sp.mapValue)return 1;if(l===sp.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=ht(d[m],p[m]);if(y!==0)return y;const x=wc(c[d[m]],h[p[m]]);if(x!==0)return x}return ht(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Je()}}function GE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const r=Qs(t),n=Qs(e),i=ht(r.seconds,n.seconds);return i!==0?i:ht(r.nanos,n.nanos)}function KE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=wc(r[i],n[i]);if(a)return a}return ht(r.length,n.length)}function _c(t){return a_(t)}function a_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Qs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Zo(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return qe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=a_(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${a_(r.fields[l])}`;return i+"}"}(t.mapValue):Je()}function YE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s_(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function XE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ap(t){return!!t&&"mapValue"in t}function f9(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function dd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ul(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=dd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=dd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function p9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Ap(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=dd(r)}setAll(e){let r=Vr.emptyPath(),n={},i=[];e.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}l?n[c.lastSegment()]=dd(l):i.push(c.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Ap(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ul(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Tn(dd(this.value))}}function BM(t){const e=[];return ul(t.fields,(r,n)=>{const i=new Vr([r]);if(Ap(n)){const a=BM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,r,n,i,a,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Jr(e,0,Ze.min(),Ze.min(),Ze.min(),Tn.empty(),0)}static newFoundDocument(e,r,n,i){return new Jr(e,1,r,Ze.min(),n,i,0)}static newNoDocument(e,r){return new Jr(e,2,r,Ze.min(),Ze.min(),Tn.empty(),0)}static newUnknownDocument(e,r){return new Jr(e,3,r,Ze.min(),Ze.min(),Tn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,r){this.position=e,this.inclusive=r}}function JE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?n=qe.comparator(qe.fromName(l.referenceValue),r.key):n=wc(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ZE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ca(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,r="asc"){this.field=e,this.dir=r}}function m9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UM=class{};class hr extends UM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new v9(e,r,n):r==="array-contains"?new b9(e,n):r==="in"?new w9(e,n):r==="not-in"?new _9(e,n):r==="array-contains-any"?new k9(e,n):new hr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new y9(e,n):new x9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(wc(r,this.value)):r!==null&&el(this.value)===el(r)&&this.matchesComparison(wc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends UM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Fi(e,r)}matches(e){return qM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function qM(t){return t.op==="and"}function zM(t){return g9(t)&&qM(t)}function g9(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function o_(t){if(t instanceof hr)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(zM(t))return t.filters.map(e=>o_(e)).join(",");{const e=t.filters.map(r=>o_(r)).join(",");return`${t.op}(${e})`}}function WM(t,e){return t instanceof hr?function(n,i){return i instanceof hr&&n.op===i.op&&n.field.isEqual(i.field)&&ca(n.value,i.value)}(t,e):t instanceof Fi?function(n,i){return i instanceof Fi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,l,c)=>a&&WM(l,i.filters[c]),!0):!1}(t,e):void Je()}function HM(t){return t instanceof hr?function(r){return`${r.field.canonicalString()} ${r.op} ${_c(r.value)}`}(t):t instanceof Fi?function(r){return r.op.toString()+" {"+r.getFilters().map(HM).join(" ,")+"}"}(t):"Filter"}class v9 extends hr{constructor(e,r,n){super(e,r,n),this.key=qe.fromName(n.referenceValue)}matches(e){const r=qe.comparator(e.key,this.key);return this.matchesComparison(r)}}class y9 extends hr{constructor(e,r){super(e,"in",r),this.keys=GM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class x9 extends hr{constructor(e,r){super(e,"not-in",r),this.keys=GM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function GM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>qe.fromName(n.referenceValue))}class b9 extends hr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return s1(r)&&Td(r.arrayValue,this.value)}}class w9 extends hr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Td(this.value.arrayValue,r)}}class _9 extends hr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Td(this.value.arrayValue,r)}}class k9 extends hr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!s1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Td(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,r=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function eT(t,e=null,r=[],n=[],i=null,a=null,l=null){return new j9(t,e,r,n,i,a,l)}function o1(t){const e=et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>o_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Zm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>_c(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>_c(n)).join(",")),e.ue=r}return e.ue}function l1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!m9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!WM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZE(t.startAt,e.startAt)&&ZE(t.endAt,e.endAt)}function l_(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,r=null,n=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S9(t,e,r,n,i,a,l,c){return new kh(t,e,r,n,i,a,l,c)}function c1(t){return new kh(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KM(t){return t.collectionGroup!==null}function hd(t){const e=et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Br(Vr.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Wp(a,n))}),r.has(Vr.keyField().canonicalString())||e.ce.push(new Wp(Vr.keyField(),n))}return e.ce}function ia(t){const e=et(t);return e.le||(e.le=N9(e,hd(t))),e.le}function N9(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Wp(i.field,a)});const r=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function c_(t,e){const r=t.filters.concat([e]);return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function u_(t,e,r){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function e0(t,e){return l1(ia(t),ia(e))&&t.limitType===e.limitType}function YM(t){return`${o1(ia(t))}|lt:${t.limitType}`}function ec(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>HM(i)).join(", ")}]`),Zm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>_c(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>_c(i)).join(",")),`Target(${n})`}(ia(t))}; limitType=${t.limitType})`}function t0(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):qe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of hd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(l,c,d){const h=JE(l,c,d);return l.inclusive?h<=0:h<0}(n.startAt,hd(n),i)||n.endAt&&!function(l,c,d){const h=JE(l,c,d);return l.inclusive?h>=0:h>0}(n.endAt,hd(n),i))}(t,e)}function E9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XM(t){return(e,r)=>{let n=!1;for(const i of hd(t)){const a=T9(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function T9(t,e,r){const n=t.field.isKeyField()?qe.comparator(e.key,r.key):function(a,l,c){const d=l.data.field(a),h=c.data.field(a);return d!==null&&h!==null?wc(d,h):Je()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ul(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return FM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=new Xt(qe.comparator);function Wa(){return A9}const QM=new Xt(qe.comparator);function id(...t){let e=QM;for(const r of t)e=e.insert(r.key,r);return e}function JM(t){let e=QM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function $o(){return fd()}function ZM(){return fd()}function fd(){return new Zc(t=>t.toString(),(t,e)=>t.isEqual(e))}const P9=new Xt(qe.comparator),C9=new Br(qe.comparator);function at(...t){let e=C9;for(const r of t)e=e.add(r);return e}const I9=new Br(ht);function O9(){return I9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function eD(t){return{integerValue:""+t}}function R9(t,e){return u9(e)?eD(e):u1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this._=void 0}}function M9(t,e,r){return t instanceof Ad?function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&i1(a)&&(a=a1(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(r,e):t instanceof Pd?rD(t,e):t instanceof Cd?nD(t,e):function(i,a){const l=tD(i,a),c=rT(l)+rT(i.Pe);return s_(l)&&s_(i.Pe)?eD(c):u1(i.serializer,c)}(t,e)}function D9(t,e,r){return t instanceof Pd?rD(t,e):t instanceof Cd?nD(t,e):r}function tD(t,e){return t instanceof Hp?function(n){return s_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Ad extends r0{}class Pd extends r0{constructor(e){super(),this.elements=e}}function rD(t,e){const r=iD(e);for(const n of t.elements)r.some(i=>ca(i,n))||r.push(n);return{arrayValue:{values:r}}}class Cd extends r0{constructor(e){super(),this.elements=e}}function nD(t,e){let r=iD(e);for(const n of t.elements)r=r.filter(i=>!ca(i,n));return{arrayValue:{values:r}}}class Hp extends r0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function rT(t){return ar(t.integerValue||t.doubleValue)}function iD(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,r){this.field=e,this.transform=r}}function $9(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Pd&&i instanceof Pd||n instanceof Cd&&i instanceof Cd?bc(n.elements,i.elements,ca):n instanceof Hp&&i instanceof Hp?ca(n.Pe,i.Pe):n instanceof Ad&&i instanceof Ad}(t.transform,e.transform)}class F9{constructor(e,r){this.version=e,this.transformResults=r}}class fn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class n0{}function aD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i0(t.key,fn.none()):new jh(t.key,t.data,fn.none());{const r=t.data,n=Tn.empty();let i=new Br(Vr.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new to(t.key,n,new Wn(i.toArray()),fn.none())}}function V9(t,e,r){t instanceof jh?function(i,a,l){const c=i.value.clone(),d=iT(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,r):t instanceof to?function(i,a,l){if(!Pp(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=iT(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(sD(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function pd(t,e,r,n){return t instanceof jh?function(a,l,c,d){if(!Pp(a.precondition,l))return c;const h=a.value.clone(),p=aT(a.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof to?function(a,l,c,d){if(!Pp(a.precondition,l))return c;const h=aT(a.fieldTransforms,d,l),p=l.data;return p.setAll(sD(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,l,c){return Pp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,r)}function B9(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=tD(n.transform,i||null);a!=null&&(r===null&&(r=Tn.empty()),r.set(n.field,a))}return r||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bc(n,i,(a,l)=>$9(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jh extends n0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class to extends n0{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sD(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function iT(t,e,r){const n=new Map;wt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,D9(l,c,r[i]))}return n}function aT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,M9(a,l,e))}return n}class i0 extends n0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U9 extends n0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&V9(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=pd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=pd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=ZM();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=r.has(i.key)?null:c;const d=aD(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),at())}isEqual(e){return this.batchId===e.batchId&&bc(this.mutations,e.mutations,(r,n)=>nT(r,n))&&bc(this.baseMutations,e.baseMutations,(r,n)=>nT(r,n))}}class d1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){wt(e.mutations.length===n.length);let i=function(){return P9}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new d1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur,ct;function H9(t){switch(t){default:return Je();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function oD(t){if(t===void 0)return za("GRPC error has no .code"),we.UNKNOWN;switch(t){case ur.OK:return we.OK;case ur.CANCELLED:return we.CANCELLED;case ur.UNKNOWN:return we.UNKNOWN;case ur.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case ur.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case ur.INTERNAL:return we.INTERNAL;case ur.UNAVAILABLE:return we.UNAVAILABLE;case ur.UNAUTHENTICATED:return we.UNAUTHENTICATED;case ur.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case ur.NOT_FOUND:return we.NOT_FOUND;case ur.ALREADY_EXISTS:return we.ALREADY_EXISTS;case ur.PERMISSION_DENIED:return we.PERMISSION_DENIED;case ur.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case ur.ABORTED:return we.ABORTED;case ur.OUT_OF_RANGE:return we.OUT_OF_RANGE;case ur.UNIMPLEMENTED:return we.UNIMPLEMENTED;case ur.DATA_LOSS:return we.DATA_LOSS;default:return Je()}}(ct=ur||(ur={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Wo([4294967295,4294967295],0);function sT(t){const e=G9().encode(t),r=new CM;return r.update(e),new Uint8Array(r.digest())}function oT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wo([r,n],0),new Wo([i,a],0)]}class h1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ad(`Invalid padding: ${r}`);if(n<0)throw new ad(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ad(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Wo.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Wo.fromNumber(n)));return i.compare(K9)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=sT(e),[n,i]=oT(r);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,i,a);if(!this.de(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new h1(a,i,r);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ie===0)return;const r=sT(e),[n,i]=oT(r);for(let a=0;a<this.hashCount;a++){const l=this.Ee(n,i,a);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new a0(Ze.min(),i,new Xt(ht),Wa(),at())}}class Sh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Sh(n,r,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class lD{constructor(e,r){this.targetId=e,this.me=r}}class cD{constructor(e,r,n=qr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class lT{constructor(){this.fe=0,this.ge=uT(),this.pe=qr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=at(),r=at(),n=at();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Je()}}),new Sh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=uT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Y9{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wa(),this.qe=cT(),this.Qe=new Xt(ht)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(l_(a))if(n===0){const l=new qe(a.path);this.Ue(r,l,Jr.newNoDocument(l,Ze.min()))}else wt(n===1);else{const l=this.Ye(r);if(l!==n){const c=this.Ze(e),d=c?this.Xe(c,e,l):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let l,c;try{l=Zo(n).toUint8Array()}catch(d){if(d instanceof VM)return xc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new h1(l,i,a)}catch(d){return xc(d instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,l)=>{const c=this.Je(l);if(c){if(a.current&&l_(c.target)){const d=new qe(c.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,Jr.newNoDocument(d,e))}a.be&&(r.set(l,a.ve()),a.Ce())}});let n=at();this.qe.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.ke.forEach((a,l)=>l.setReadTime(e));const i=new a0(e,r,this.Qe,this.ke,n);return this.ke=Wa(),this.qe=cT(),this.Qe=new Xt(ht),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new lT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Br(ht),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||$e("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function cT(){return new Xt(qe.comparator)}function uT(){return new Xt(qe.comparator)}const X9={asc:"ASCENDING",desc:"DESCENDING"},Q9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J9={and:"AND",or:"OR"};class Z9{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function d_(t,e){return t.useProto3Json||Zm(e)?e:{value:e}}function Gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eU(t,e){return Gp(t,e.toTimestamp())}function aa(t){return wt(!!t),Ze.fromTimestamp(function(r){const n=Qs(r);return new wr(n.seconds,n.nanos)}(t))}function f1(t,e){return h_(t,e).canonicalString()}function h_(t,e){const r=function(i){return new $t(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function dD(t){const e=$t.fromString(t);return wt(gD(e)),e}function f_(t,e){return f1(t.databaseId,e.path)}function $v(t,e){const r=dD(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qe(fD(r))}function hD(t,e){return f1(t.databaseId,e)}function tU(t){const e=dD(t);return e.length===4?$t.emptyPath():fD(e)}function p_(t){return new $t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fD(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,r){return{name:f_(t,e),fields:r.value.mapValue.fields}}function rU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(wt(p===void 0||typeof p=="string"),qr.fromBase64String(p||"")):(wt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),qr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?we.UNKNOWN:oD(h.code);return new Re(p,h.message||"")}(l);r=new cD(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=$v(t,n.document.name),a=aa(n.document.updateTime),l=n.document.createTime?aa(n.document.createTime):Ze.min(),c=new Tn({mapValue:{fields:n.document.fields}}),d=Jr.newFoundDocument(i,a,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Cp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=$v(t,n.document),a=n.readTime?aa(n.readTime):Ze.min(),l=Jr.newNoDocument(i,a),c=n.removedTargetIds||[];r=new Cp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=$v(t,n.document),a=n.removedTargetIds||[];r=new Cp([],a,i,null)}else{if(!("filter"in e))return Je();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new W9(i,a),c=n.targetId;r=new lD(c,l)}}return r}function nU(t,e){let r;if(e instanceof jh)r={update:dT(t,e.key,e.value)};else if(e instanceof i0)r={delete:f_(t,e.key)};else if(e instanceof to)r={update:dT(t,e.key,e.data),updateMask:hU(e.fieldMask)};else{if(!(e instanceof U9))return Je();r={verify:f_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,l){const c=l.transform;if(c instanceof Ad)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Cd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Hp)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Je()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:eU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Je()}(t,e.precondition)),r}function iU(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(r=>function(i,a){let l=i.updateTime?aa(i.updateTime):aa(a);return l.isEqual(Ze.min())&&(l=aa(a)),new F9(l,i.transformResults||[])}(r,e))):[]}function aU(t,e){return{documents:[hD(t,e.path)]}}function sU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=hD(t,i);const a=function(h){if(h.length!==0)return mD(Fi.create(h,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:tc(y.field),direction:cU(y.dir)}}(p))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=d_(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:i}}function oU(t){let e=tU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){wt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(m){const y=pD(m);return y instanceof Fi&&zM(y)?y.getFilters():[y]}(r.where));let l=[];r.orderBy&&(l=function(m){return m.map(y=>function(k){return new Wp(rc(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,Zm(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(m){const y=!!m.before,x=m.values||[];return new zp(x,y)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new zp(x,y)}(r.endAt)),S9(e,i,l,a,c,"F",d,h)}function lU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function pD(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=rc(r.unaryFilter.field);return hr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(r.unaryFilter.field);return hr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rc(r.unaryFilter.field);return hr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=rc(r.unaryFilter.field);return hr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(r){return hr.create(rc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Fi.create(r.compositeFilter.filters.map(n=>pD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je()}}(r.compositeFilter.op))}(t):Je()}function cU(t){return X9[t]}function uU(t){return Q9[t]}function dU(t){return J9[t]}function tc(t){return{fieldPath:t.canonicalString()}}function rc(t){return Vr.fromServerFormat(t.fieldPath)}function mD(t){return t instanceof hr?function(r){if(r.op==="=="){if(QE(r.value))return{unaryFilter:{field:tc(r.field),op:"IS_NAN"}};if(XE(r.value))return{unaryFilter:{field:tc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(QE(r.value))return{unaryFilter:{field:tc(r.field),op:"IS_NOT_NAN"}};if(XE(r.value))return{unaryFilter:{field:tc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(r.field),op:uU(r.op),value:r.value}}}(t):t instanceof Fi?function(r){const n=r.getFilters().map(i=>mD(i));return n.length===1?n[0]:{compositeFilter:{op:dU(r.op),filters:n}}}(t):Je()}function hU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function gD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r,n,i,a=Ze.min(),l=Ze.min(),c=qr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.ct=e}}function pU(t){const e=oU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.un=new gU}addToCollectionParentIndex(e,r){return this.un.add(r),Se.resolve()}getCollectionParents(e,r){return Se.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Se.resolve()}deleteFieldIndex(e,r){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,r){return Se.resolve()}getDocumentsMatchingTarget(e,r){return Se.resolve(null)}getIndexType(e,r){return Se.resolve(0)}getFieldIndexes(e,r){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,r){return Se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,r){return Se.resolve(Xs.min())}updateCollectionGroup(e,r,n){return Se.resolve()}updateIndexEntries(e,r){return Se.resolve()}}class gU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Br($t.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Br($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new kc(0)}static kn(){return new kc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.changes=new Zc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&pd(n.mutation,i,Wn.empty(),wr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,at()).next(()=>n))}getLocalViewOfDocuments(e,r,n=at()){const i=$o();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let l=id();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=$o();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,at()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{r.set(l,c)})})}computeViews(e,r,n,i){let a=Wa();const l=fd(),c=function(){return fd()}();return r.forEach((d,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof to)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),pd(p.mutation,h,p.mutation.getFieldMask(),wr.now())):l.set(h.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((h,p)=>l.set(h,p)),r.forEach((h,p)=>{var m;return c.set(h,new yU(p,(m=l.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const n=fd();let i=new Xt((l,c)=>l-c),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Wn.empty();p=c.applyToLocalView(h,p),n.set(d,p);const m=(i.get(c.batchId)||at()).add(d);i=i.insert(c.batchId,m)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,m=ZM();p.forEach(y=>{if(!a.has(y)){const x=aD(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Se.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):KM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Se.resolve($o());let c=-1,d=a;return l.next(h=>Se.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,d,h,at())).next(p=>({batchId:c,changes:JM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qe(r)).next(n=>{let i=id();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let l=id();return this.indexManager.getCollectionParents(e,a).next(c=>Se.forEach(c,d=>{const h=function(m,y){return new kh(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(p=>{p.forEach((m,y)=>{l=l.insert(m,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(l=>{a.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Jr.newInvalidDocument(p)))});let c=id();return l.forEach((d,h)=>{const p=a.get(d);p!==void 0&&pd(p.mutation,h,Wn.empty(),wr.now()),t0(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Se.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:aa(i.createTime)}}(r)),Se.resolve()}getNamedQuery(e,r){return Se.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:pU(i.bundledQuery),readTime:aa(i.readTime)}}(r)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.overlays=new Xt(qe.comparator),this.Ir=new Map}getOverlay(e,r){return Se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=$o();return Se.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),Se.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),Se.resolve()}getOverlaysForCollection(e,r,n){const i=$o(),a=r.length+1,l=new qe(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Xt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=$o(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=$o(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return Se.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new z9(r,n));let a=this.Ir.get(r);a===void 0&&(a=at(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.sessionToken=qr.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.Tr=new Br(Tr.Er),this.dr=new Br(Tr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Tr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Tr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new qe(new $t([])),n=new Tr(r,e),i=new Tr(r,e+1),a=[];return this.dr.forEachInRange([n,i],l=>{this.Vr(l),a.push(l.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new qe(new $t([])),n=new Tr(r,e),i=new Tr(r,e+1);let a=at();return this.dr.forEachInRange([n,i],l=>{a=a.add(l.key)}),a}containsKey(e){const r=new Tr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Tr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return qe.comparator(e.key,r.key)||ht(e.wr,r.wr)}static Ar(e,r){return ht(e.wr,r.wr)||qe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Br(Tr.Er)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new q9(a,r,n,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new Tr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,r){return Se.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Se.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Tr(r,0),i=new Tr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],l=>{const c=this.Dr(l.wr);a.push(c)}),Se.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Br(ht);return r.forEach(i=>{const a=new Tr(i,0),l=new Tr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],c=>{n=n.add(c.wr)})}),Se.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;qe.isDocumentKey(a)||(a=a.child(""));const l=new Tr(new qe(a),0);let c=new Br(ht);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.wr)),!0)},l),Se.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){wt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Se.forEach(r.mutations,i=>{const a=new Tr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Tr(r,0),i=this.br.firstAfterOrEqual(n);return Se.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.Mr=e,this.docs=function(){return new Xt(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Se.resolve(n?n.document.mutableCopy():Jr.newInvalidDocument(r))}getEntries(e,r){let n=Wa();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Jr.newInvalidDocument(i))}),Se.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Wa();const l=r.path,c=new qe(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||s9(a9(p),n)<=0||(i.has(p.key)||t0(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Se.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Je()}Or(e,r){return Se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new SU(this)}getSize(e){return Se.resolve(this.size)}}class SU extends vU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Se.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.persistence=e,this.Nr=new Zc(r=>o1(r),l1),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new p1,this.targetCount=0,this.kr=kc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Se.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new kc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Se.resolve()}updateTargetData(e,r){return this.Kn(r),Se.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Se.waitFor(a).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Se.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Se.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Se.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Se.resolve(n)}containsKey(e,r){return Se.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new n1(0),this.Kr=!1,this.Kr=!0,this.$r=new _U,this.referenceDelegate=e(this),this.Ur=new NU(this),this.indexManager=new mU,this.remoteDocumentCache=function(i){return new jU(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new fU(r),this.Gr=new bU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new kU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){$e("MemoryPersistence","Starting transaction:",e);const i=new TU(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return Se.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class TU extends l9{constructor(e){super(),this.currentSequenceNumber=e}}class m1{constructor(e){this.persistence=e,this.Jr=new p1,this.Yr=null}static Zr(e){return new m1(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Se.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Se.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Se.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Xr,n=>{const i=qe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ze.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Se.or([()=>Se.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=at(),i=at();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new g1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yF()?8:c9(tn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new AU;return this.Xi(e,r,l).next(c=>{if(a.result=c,this.zi)return this.es(e,r,l,c.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(zu()<=ot.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",ec(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Se.resolve()):(zu()<=ot.DEBUG&&$e("QueryEngine","Query:",ec(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(zu()<=ot.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",ec(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(r))):Se.resolve())}Yi(e,r){if(tT(r))return Se.resolve(null);let n=ia(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=u_(r,null,"F"),n=ia(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const l=at(...a);return this.Ji.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,l,d.readTime)?this.Yi(e,u_(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,i){return tT(r)||i.isEqual(Ze.min())?Se.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const l=this.ts(r,a);return this.ns(r,l,n,i)?Se.resolve(null):(zu()<=ot.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ec(r)),this.rs(e,l,r,i9(i,-1)).next(c=>c))})}ts(e,r){let n=new Br(XM(e));return r.forEach((i,a)=>{t0(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return zu()<=ot.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",ec(r)),this.Ji.getDocumentsMatchingQuery(e,r,Xs.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Xt(ht),this._s=new Zc(a=>o1(a),l1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function IU(t,e,r,n){return new CU(t,e,r,n)}async function vD(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const l=[],c=[];let d=at();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:c}))})})}function OU(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const m=h.batch,y=m.keys();let x=Se.resolve();return y.forEach(k=>{x=x.next(()=>p.getEntry(d,k)).next(_=>{const b=h.docVersions.get(k);wt(b!==null),_.version.compareTo(b)<0&&(m.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=at();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function yD(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function RU(t,e){const r=et(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;c.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,m)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(qr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),function(_,b,A){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(y,x,p)&&c.push(r.Ur.updateTargetData(a,x))});let d=Wa(),h=at();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),c.push(MU(a,l,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(Ze.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(p)}return Se.waitFor(c).next(()=>l.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,h)).next(()=>d)}).then(a=>(r.os=i,a))}function MU(t,e,r){let n=at(),i=at();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let l=Wa();return r.forEach((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ze.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):$e("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:l,Is:i}})}function DU(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function LU(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,Se.resolve(i)):r.Ur.allocateTargetId(n).next(l=>(i=new Vs(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function m_(t,e,r){const n=et(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!_h(l))throw l;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function hT(t,e,r){const n=et(t);let i=Ze.min(),a=at();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const m=et(d),y=m._s.get(p);return y!==void 0?Se.resolve(m.os.get(y)):m.Ur.getTargetData(h,p)}(n,l,ia(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>n.ss.getDocumentsMatchingQuery(l,e,r?i:Ze.min(),r?a:at())).next(c=>($U(n,E9(e),c),{documents:c,Ts:a})))}function $U(t,e,r){let n=t.us.get(e)||Ze.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class fT{constructor(){this.activeTargetIds=O9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FU{constructor(){this.so=new fT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op=null;function Fv(){return op===null?op=function(){return 268435456+Math.round(2147483648*Math.random())}():op++,"0x"+op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="WebChannelConnection";class qU extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,l){const c=Fv(),d=this.xo(r,n.toUriEncodedString());$e("RestConnection",`Sending RPC '${r}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(r,d,h,i).then(p=>($e("RestConnection",`Received RPC '${r}' ${c}: `,p),p),p=>{throw xc("RestConnection",`RPC '${r}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,a,l,c){return this.Mo(r,n,i,a,l)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>r[l]=a),i&&i.headers.forEach((a,l)=>r[l]=a)}xo(r,n){const i=BU[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Fv();return new Promise((l,c)=>{const d=new IM;d.setWithCredentials(!0),d.listenOnce(OM.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Tp.NO_ERROR:const p=d.getResponseJson();$e(Yr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Tp.TIMEOUT:$e(Yr,`RPC '${e}' ${a} timed out`),c(new Re(we.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const m=d.getStatus();if($e(Yr,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const k=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(A)>=0?A:we.UNKNOWN}(x.status);c(new Re(k,x.message))}else c(new Re(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(we.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{$e(Yr,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);$e(Yr,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const i=Fv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DM(),c=MM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");$e(Yr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=l.createWebChannel(p,d);let y=!1,x=!1;const k=new UU({Io:b=>{x?$e(Yr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||($e(Yr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),$e(Yr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},To:()=>m.close()}),_=(b,A,E)=>{b.listen(A,P=>{try{E(P)}catch(O){setTimeout(()=>{throw O},0)}})};return _(m,nd.EventType.OPEN,()=>{x||($e(Yr,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),_(m,nd.EventType.CLOSE,()=>{x||(x=!0,$e(Yr,`RPC '${e}' stream ${i} transport closed`),k.So())}),_(m,nd.EventType.ERROR,b=>{x||(x=!0,xc(Yr,`RPC '${e}' stream ${i} transport errored:`,b),k.So(new Re(we.UNAVAILABLE,"The operation could not be completed")))}),_(m,nd.EventType.MESSAGE,b=>{var A;if(!x){const E=b.data[0];wt(!!E);const P=E,O=P.error||((A=P[0])===null||A===void 0?void 0:A.error);if(O){$e(Yr,`RPC '${e}' stream ${i} received error:`,O);const N=O.status;let I=function(L){const M=ur[L];if(M!==void 0)return oD(M)}(N),T=O.message;I===void 0&&(I=we.INTERNAL,T="Unknown error status: "+N+" with message "+O.message),x=!0,k.So(new Re(I,T)),m.close()}else $e(Yr,`RPC '${e}' stream ${i} received:`,E),k.bo(E)}}),_(c,RM.STAT_EVENT,b=>{b.stat===i_.PROXY?$e(Yr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===i_.NOPROXY&&$e(Yr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Vv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){return new Z9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,r,n,i,a,l,c,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new xD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(za(r.toString()),za("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Re(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zU extends bD{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=rU(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?aa(l.readTime):Ze.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=p_(this.serializer),r.addTarget=function(a,l){let c;const d=l.target;if(c=l_(d)?{documents:aU(a,d)}:{query:sU(a,d)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=uD(a,l.resumeToken);const h=d_(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){c.readTime=Gp(a,l.snapshotVersion.toTimestamp());const h=d_(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=lU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=p_(this.serializer),r.removeTarget=e,this.a_(r)}}class WU extends bD{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=iU(e.writeResults,e.commitTime),n=aa(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=p_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>nU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Mo(e,h_(r,n),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(we.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Lo(e,h_(r,n),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(we.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GU{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(za(r),this.D_=!1):$e("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(l=>{n.enqueueAndForget(async()=>{dl(this)&&($e("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=et(d);h.L_.add(4),await Nh(h),h.q_.set("Unknown"),h.L_.delete(4),await o0(h)}(this))})}),this.q_=new GU(n,i)}}async function o0(t){if(dl(t))for(const e of t.B_)await e(!0)}async function Nh(t){for(const e of t.B_)await e(!1)}function wD(t,e){const r=et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),b1(r)?x1(r):eu(r).r_()&&y1(r,e))}function v1(t,e){const r=et(t),n=eu(r);r.N_.delete(e),n.r_()&&_D(r,e),r.N_.size===0&&(n.r_()?n.o_():dl(r)&&r.q_.set("Unknown"))}function y1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}eu(t).A_(e)}function _D(t,e){t.Q_.xe(e),eu(t).R_(e)}function x1(t){t.Q_=new Y9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.q_.v_()}function b1(t){return dl(t)&&!eu(t).n_()&&t.N_.size>0}function dl(t){return et(t).L_.size===0}function kD(t){t.Q_=void 0}async function YU(t){t.q_.set("Online")}async function XU(t){t.N_.forEach((e,r)=>{y1(t,e)})}async function QU(t,e){kD(t),b1(t)?(t.q_.M_(e),x1(t)):t.q_.set("Unknown")}async function JU(t,e,r){if(t.q_.set("Online"),e instanceof cD&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))}(t,e)}catch(n){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Kp(t,n)}else if(e instanceof Cp?t.Q_.Ke(e):e instanceof lD?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ze.min()))try{const n=await yD(t.localStore);r.compareTo(n)>=0&&await function(a,l){const c=a.Q_.rt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(qr.EMPTY_BYTE_STRING,p.snapshotVersion)),_D(a,d);const m=new Vs(p.target,d,h,p.sequenceNumber);y1(a,m)}),a.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){$e("RemoteStore","Failed to raise snapshot:",n),await Kp(t,n)}}async function Kp(t,e,r){if(!_h(e))throw e;t.L_.add(1),await Nh(t),t.q_.set("Offline"),r||(r=()=>yD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await o0(t)})}function jD(t,e){return e().catch(r=>Kp(t,r,e))}async function l0(t){const e=et(t),r=Js(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ZU(e);)try{const i=await DU(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,e7(e,i)}catch(i){await Kp(e,i)}SD(e)&&ND(e)}function ZU(t){return dl(t)&&t.O_.length<10}function e7(t,e){t.O_.push(e);const r=Js(t);r.r_()&&r.V_&&r.m_(e.mutations)}function SD(t){return dl(t)&&!Js(t).n_()&&t.O_.length>0}function ND(t){Js(t).start()}async function t7(t){Js(t).p_()}async function r7(t){const e=Js(t);for(const r of t.O_)e.m_(r.mutations)}async function n7(t,e,r){const n=t.O_.shift(),i=d1.from(n,e,r);await jD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await l0(t)}async function i7(t,e){e&&Js(t).V_&&await async function(n,i){if(function(l){return H9(l)&&l!==we.ABORTED}(i.code)){const a=n.O_.shift();Js(n).s_(),await jD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await l0(n)}}(t,e),SD(t)&&ND(t)}async function mT(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const n=dl(r);r.L_.add(3),await Nh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await o0(r)}async function a7(t,e){const r=et(t);e?(r.L_.delete(2),await o0(r)):e||(r.L_.add(2),await Nh(r),r.q_.set("Unknown"))}function eu(t){return t.K_||(t.K_=function(r,n,i){const a=et(r);return a.w_(),new zU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:YU.bind(null,t),Ro:XU.bind(null,t),mo:QU.bind(null,t),d_:JU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),b1(t)?x1(t):t.q_.set("Unknown")):(await t.K_.stop(),kD(t))})),t.K_}function Js(t){return t.U_||(t.U_=function(r,n,i){const a=et(r);return a.w_(),new WU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:t7.bind(null,t),mo:i7.bind(null,t),f_:r7.bind(null,t),g_:n7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await l0(t)):(await t.U_.stop(),t.O_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,c=new w1(e,r,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _1(t,e){if(za("AsyncQueue",`${e}: ${t}`),_h(t))return new Re(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||qe.comparator(r.key,n.key):(r,n)=>qe.comparator(r.key,n.key),this.keyedMap=id(),this.sortedSet=new Xt(this.comparator)}static emptySet(e){return new fc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new fc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.W_=new Xt(qe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class jc{constructor(e,r,n,i,a,l,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new jc(e,r,fc.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&e0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class o7{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=et(r),a=i.queries;i.queries=vT(),a.forEach((l,c)=>{for(const d of c.j_)d.onError(n)})})(this,new Re(we.ABORTED,"Firestore shutting down"))}}function vT(){return new Zc(t=>YM(t),e0)}async function ED(t,e){const r=et(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new s7,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=_1(l,`Initialization of query '${ec(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&k1(r)}async function TD(t,e){const r=et(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function l7(t,e){const r=et(t);let n=!1;for(const i of e){const a=i.query,l=r.queries.get(a);if(l){for(const c of l.j_)c.X_(i)&&(n=!0);l.z_=i}}n&&k1(r)}function c7(t,e,r){const n=et(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function k1(t){t.Y_.forEach(e=>{e.next()})}var g_,yT;(yT=g_||(g_={})).ea="default",yT.Cache="cache";class AD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new jc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==g_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.key=e}}class CD{constructor(e){this.key=e}}class u7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=at(),this.mutatedKeys=at(),this.Aa=XM(e),this.Ra=new fc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new gT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),x=t0(this.query,m)?m:null,k=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?k!==_&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||h&&this.Aa(x,h)<0)&&(c=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||h)&&(c=!0)),b&&(x?(l=l.add(x),a=_?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:c,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((p,m)=>function(x,k){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return _(x)-_(k)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,h=d!==this.Ea;return this.Ea=d,l.length!==0||h?{snapshot:new jc(this.query,e.Ra,a,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=at(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new CD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new PD(n))}),r}ba(e){this.Ta=e.Ts,this.da=at();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return jc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class d7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class h7{constructor(e){this.key=e,this.va=!1}}class f7{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Zc(c=>YM(c),e0),this.Ma=new Map,this.xa=new Set,this.Oa=new Xt(qe.comparator),this.Na=new Map,this.La=new p1,this.Ba={},this.ka=new Map,this.qa=kc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function p7(t,e,r=!0){const n=LD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await ID(n,e,r,!0),i}async function m7(t,e){const r=LD(t);await ID(r,e,!0,!1)}async function ID(t,e,r,n){const i=await LU(t.localStore,ia(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let c;return n&&(c=await g7(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&wD(t.remoteStore,i),c}async function g7(t,e,r,n,i){t.Ka=(m,y,x)=>async function(_,b,A,E){let P=b.view.ma(A);P.ns&&(P=await hT(_.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,P)));const O=E&&E.targetChanges.get(b.targetId),N=E&&E.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(P,_.isPrimaryClient,O,N);return bT(_,b.targetId,I.wa),I.snapshot}(t,m,y,x);const a=await hT(t.localStore,e,!0),l=new u7(e,a.Ts),c=l.ma(a.documents),d=Sh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);bT(t,r,h.wa);const p=new d7(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function v7(t,e,r){const n=et(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(l=>!e0(l,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await m_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&v1(n.remoteStore,i.targetId),v_(n,i.targetId)}).catch(wh)):(v_(n,i.targetId),await m_(n.localStore,i.targetId,!0))}async function y7(t,e){const r=et(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),v1(r.remoteStore,n.targetId))}async function x7(t,e,r){const n=N7(t);try{const i=await function(l,c){const d=et(l),h=wr.now(),p=c.reduce((x,k)=>x.add(k.key),at());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=Wa(),_=at();return d.cs.getEntries(x,p).next(b=>{k=b,k.forEach((A,E)=>{E.isValidDocument()||(_=_.add(A))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,k)).next(b=>{m=b;const A=[];for(const E of c){const P=B9(E,m.get(E.key).overlayedDocument);P!=null&&A.push(new to(E.key,P,BM(P.value.mapValue),fn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,A,c)}).next(b=>{y=b;const A=b.applyToLocalDocumentSet(m,_);return d.documentOverlayCache.saveOverlays(x,b.batchId,A)})}).then(()=>({batchId:y.batchId,changes:JM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let h=l.Ba[l.currentUser.toKey()];h||(h=new Xt(ht)),h=h.insert(c,d),l.Ba[l.currentUser.toKey()]=h}(n,i.batchId,r),await Eh(n,i.changes),await l0(n.remoteStore)}catch(i){const a=_1(i,"Failed to persist write");r.reject(a)}}async function OD(t,e){const r=et(t);try{const n=await RU(r.localStore,e);e.targetChanges.forEach((i,a)=>{const l=r.Na.get(a);l&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?wt(l.va):i.removedDocuments.size>0&&(wt(l.va),l.va=!1))}),await Eh(r,n,e)}catch(n){await wh(n)}}function xT(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=et(l);d.onlineState=c;let h=!1;d.queries.forEach((p,m)=>{for(const y of m.j_)y.Z_(c)&&(h=!0)}),h&&k1(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function b7(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let l=new Xt(qe.comparator);l=l.insert(a,Jr.newNoDocument(a,Ze.min()));const c=at().add(a),d=new a0(Ze.min(),new Map,new Xt(ht),l,c);await OD(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),j1(n)}else await m_(n.localStore,e,!1).then(()=>v_(n,e,r)).catch(wh)}async function w7(t,e){const r=et(t),n=e.batch.batchId;try{const i=await OU(r.localStore,e);MD(r,n,null),RD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Eh(r,i)}catch(i){await wh(i)}}async function _7(t,e,r){const n=et(t);try{const i=await function(l,c){const d=et(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(m=>(wt(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);MD(n,e,r),RD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Eh(n,i)}catch(i){await wh(i)}}function RD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function MD(t,e,r){const n=et(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function v_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||DD(t,n)})}function DD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(v1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),j1(t))}function bT(t,e,r){for(const n of r)n instanceof PD?(t.La.addReference(n.key,e),k7(t,n)):n instanceof CD?($e("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||DD(t,n.key)):Je()}function k7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||($e("SyncEngine","New document in limbo: "+r),t.xa.add(n),j1(t))}function j1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new qe($t.fromString(e)),n=t.qa.next();t.Na.set(n,new h7(r)),t.Oa=t.Oa.insert(r,n),wD(t.remoteStore,new Vs(ia(c1(r.path)),n,"TargetPurposeLimboResolution",n1.oe))}}async function Eh(t,e,r){const n=et(t),i=[],a=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{l.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=g1.Wi(d.targetId,h);a.push(m)}}))}),await Promise.all(l),n.Ca.d_(i),await async function(d,h){const p=et(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Se.forEach(h,y=>Se.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>Se.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!_h(m))throw m;$e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.os.get(y),k=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(k);p.os=p.os.insert(y,_)}}}(n.localStore,a))}async function j7(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const n=await vD(r.localStore,e);r.currentUser=e,function(a,l){a.ka.forEach(c=>{c.forEach(d=>{d.reject(new Re(we.CANCELLED,l))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Eh(r,n.hs)}}function S7(t,e){const r=et(t),n=r.Na.get(e);if(n&&n.va)return at().add(n.key);{let i=at();const a=r.Ma.get(e);if(!a)return i;for(const l of a){const c=r.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function LD(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b7.bind(null,e),e.Ca.d_=l7.bind(null,e.eventManager),e.Ca.$a=c7.bind(null,e.eventManager),e}function N7(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_7.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=s0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return IU(this.persistence,new PU,e.initialUser,this.serializer)}Ga(e){return new EU(m1.Zr,this.serializer)}Wa(e){return new FU}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class y_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=j7.bind(null,this.syncEngine),await a7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o7}()}createDatastore(e){const r=s0(e.databaseInfo.databaseId),n=function(a){return new qU(a)}(e.databaseInfo);return function(a,l,c,d){return new HU(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,l,c){return new KU(n,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,r=>xT(this.syncEngine,r,0),function(){return pT.D()?new pT:new VU}())}createSyncEngine(e,r){return function(i,a,l,c,d,h,p){const m=new f7(i,a,l,c,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=et(i);$e("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Nh(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}y_.provider={build:()=>new y_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):za("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Qr.UNAUTHENTICATED,this.clientId=$M.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async l=>{$e("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>($e("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=_1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await vD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await T7(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>mT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>mT(e.remoteStore,i)),t._onlineComponents=e}async function T7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;xc("Error using user provided cache. Falling back to memory cache: "+r),await Bv(t,new Yp)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),await Bv(t,new Yp);return t._offlineComponents}async function FD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),await wT(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),await wT(t,new y_))),t._onlineComponents}function A7(t){return FD(t).then(e=>e.syncEngine)}async function x_(t){const e=await FD(t),r=e.eventManager;return r.onListen=p7.bind(null,e.syncEngine),r.onUnlisten=v7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=m7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=y7.bind(null,e.syncEngine),r}function P7(t,e,r={}){const n=new zs;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,h){const p=new $D({next:y=>{p.Za(),l.enqueueAndForget(()=>TD(a,m)),y.fromCache&&d.source==="server"?h.reject(new Re(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new AD(c,p,{includeMetadataChanges:!0,_a:!0});return ED(a,m)}(await x_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,r){if(!r)throw new Re(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C7(t,e,r,n){if(e===!0&&n===!0)throw new Re(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function kT(t){if(!qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function Gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=c0(t);throw new Re(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ST({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ST(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new YB;switch(n.type){case"firstParty":return new ZB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=_T.get(r);n&&($e("ComponentProvider","Removing Datastore"),_T.delete(r),n.terminate())}(this),Promise.resolve()}}function I7(t,e,r,n={}){var i;const a=(t=Gn(t,u0))._getSettings(),l=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=Qr.MOCK_USER;else{c=zR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qr(h)}t._authCredentials=new XB(new LM(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class pn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Ws extends hl{constructor(e,r,n){super(e,r,c1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new qe(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function ic(t,e,...r){if(t=Ft(t),BD("collection","path",e),t instanceof u0){const n=$t.fromString(e,...r);return jT(n),new Ws(t,null,n)}{if(!(t instanceof pn||t instanceof Ws))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child($t.fromString(e,...r));return jT(n),new Ws(t.firestore,null,n)}}function En(t,e,...r){if(t=Ft(t),arguments.length===1&&(e=$M.newId()),BD("doc","path",e),t instanceof u0){const n=$t.fromString(e,...r);return kT(n),new pn(t,null,new qe(n))}{if(!(t instanceof pn||t instanceof Ws))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child($t.fromString(e,...r));return kT(n),new pn(t.firestore,t instanceof Ws?t.converter:null,new qe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new xD(this,"async_queue_retry"),this.Vu=()=>{const n=Vv();n&&$e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Vv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Vv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new zs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_h(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw za("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=w1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ET(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ha extends u0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new NT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function O7(t,e){const r=typeof t=="object"?t:Hk(),n=typeof t=="string"?t:"(default)",i=Ym(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=BR("firestore");a&&I7(i,...a)}return i}function d0(t){if(t._terminated)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||R7(t),t._firestoreClient}function R7(t){var e,r,n;const i=t._freezeSettings(),a=function(c,d,h,p){return new h9(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VD(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new E7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(qr.fromBase64String(e))}catch(r){throw new Re(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Sc(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=/^__.*__$/;class D7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new to(e,this.data,this.fieldMask,r,this.fieldTransforms):new jh(e,this.data,r,this.fieldTransforms)}}class UD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new to(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function qD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class E1{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new E1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(qD(this.Cu)&&M7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class L7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||s0(e)}Qu(e,r,n,i=!1){return new E1({Cu:e,methodName:r,qu:n,path:Vr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(t){const e=t._freezeSettings(),r=s0(t._databaseId);return new L7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function T1(t,e,r,n,i,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);P1("Data must be an object, but it was:",l,n);const c=HD(n,l);let d,h;if(a.merge)d=new Wn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=b_(e,m,r);if(!l.contains(y))throw new Re(we.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);KD(p,y)||p.push(y)}d=new Wn(p),h=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=l.fieldTransforms;return new D7(new Tn(c),d,h)}class f0 extends h0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f0}}class A1 extends h0{_toFieldTransform(e){return new L9(e.path,new Ad)}isEqual(e){return e instanceof A1}}function zD(t,e,r,n){const i=t.Qu(1,e,r);P1("Data must be an object, but it was:",i,n);const a=[],l=Tn.empty();ul(n,(d,h)=>{const p=C1(e,d,r);h=Ft(h);const m=i.Nu(p);if(h instanceof f0)a.push(p);else{const y=Ph(h,m);y!=null&&(a.push(p),l.set(p,y))}});const c=new Wn(a);return new UD(l,c,i.fieldTransforms)}function WD(t,e,r,n,i,a){const l=t.Qu(1,e,r),c=[b_(e,n,r)],d=[i];if(a.length%2!=0)throw new Re(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)c.push(b_(e,a[y])),d.push(a[y+1]);const h=[],p=Tn.empty();for(let y=c.length-1;y>=0;--y)if(!KD(h,c[y])){const x=c[y];let k=d[y];k=Ft(k);const _=l.Nu(x);if(k instanceof f0)h.push(x);else{const b=Ph(k,_);b!=null&&(h.push(x),p.set(x,b))}}const m=new Wn(h);return new UD(p,m,l.fieldTransforms)}function $7(t,e,r,n=!1){return Ph(r,t.Qu(n?4:3,e))}function Ph(t,e){if(GD(t=Ft(t)))return P1("Unsupported field value:",e,t),HD(t,e);if(t instanceof h0)return function(n,i){if(!qD(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let l=0;for(const c of n){let d=Ph(c,i.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return R9(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=wr.fromDate(n);return{timestampValue:Gp(i.serializer,a)}}if(n instanceof wr){const a=new wr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gp(i.serializer,a)}}if(n instanceof S1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sc)return{bytesValue:uD(i.serializer,n._byteString)};if(n instanceof pn){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:f1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof N1)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return u1(c.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${c0(n)}`)}(t,e)}function HD(t,e){const r={};return FM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ul(t,(n,i)=>{const a=Ph(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function GD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wr||t instanceof S1||t instanceof Sc||t instanceof pn||t instanceof h0||t instanceof N1)}function P1(t,e,r){if(!GD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=c0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function b_(t,e,r){if((e=Ft(e))instanceof Th)return e._internalPath;if(typeof e=="string")return C1(t,e);throw Xp("Field path arguments must be of type string or ",t,!1,void 0,r)}const F7=new RegExp("[~\\*/\\[\\]]");function C1(t,e,r){if(e.search(F7)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Th(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Xp(t,e,r,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Re(we.INVALID_ARGUMENT,c+t+d)}function KD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(XD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class V7 extends YD{data(){return super.data()}}function XD(t,e){return typeof e=="string"?C1(t,e):e instanceof Th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}class B7 extends I1{}function U7(t,e,...r){let n=[];e instanceof I1&&n.push(e),n=n.concat(r),function(a){const l=a.filter(d=>d instanceof R1).length,c=a.filter(d=>d instanceof O1).length;if(l>1||l>0&&c>0)throw new Re(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class O1 extends B7{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new O1(e,r,n)}_apply(e){const r=this._parse(e);return JD(e._query,r),new hl(e.firestore,e.converter,c_(e._query,r))}_parse(e){const r=Ah(e.firestore);return function(a,l,c,d,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){AT(m,p);const x=[];for(const k of m)x.push(TT(d,a,k));y={arrayValue:{values:x}}}else y=TT(d,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||AT(m,p),y=$7(c,l,m,p==="in"||p==="not-in");return hr.create(h,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class R1 extends I1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new R1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Fi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)JD(l,d),l=c_(l,d)}(e._query,r),new hl(e.firestore,e.converter,c_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TT(t,e,r){if(typeof(r=Ft(r))=="string"){if(r==="")throw new Re(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KM(e)&&r.indexOf("/")!==-1)throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child($t.fromString(r));if(!qe.isDocumentKey(n))throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return YE(t,new qe(n))}if(r instanceof pn)return YE(t,r._key);throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c0(r)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JD(t,e){const r=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class q7{convertValue(e,r="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ul(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>ar(l.doubleValue));return new N1(a)}convertGeoPoint(e){return new S1(ar(e.latitude),ar(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=a1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const r=Qs(e);return new wr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=$t.fromString(e);wt(gD(n));const i=new Ed(n.get(1),n.get(3)),a=new qe(n.popFirst(5));return i.isEqual(r)||za(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZD extends YD{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(XD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Ip extends ZD{data(e={}){return super.data(e)}}class e4{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new sd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Ip(this._firestore,this._userDataWriter,n.key,n,new sd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Ip(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Ip(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sd(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:z7(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function z7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}class D1 extends q7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,r)}}function W7(t){t=Gn(t,hl);const e=Gn(t.firestore,Ha),r=d0(e),n=new D1(e);return QD(t._query),P7(r,t._query).then(i=>new e4(e,n,t,i))}function PT(t,e,r){t=Gn(t,pn);const n=Gn(t.firestore,Ha),i=M1(t.converter,e,r);return Ch(n,[T1(Ah(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,fn.none())])}function Qp(t,e,r,...n){t=Gn(t,pn);const i=Gn(t.firestore,Ha),a=Ah(i);let l;return l=typeof(e=Ft(e))=="string"||e instanceof Th?WD(a,"updateDoc",t._key,e,r,n):zD(a,"updateDoc",t._key,e),Ch(i,[l.toMutation(t._key,fn.exists(!0))])}function t4(t){return Ch(Gn(t.firestore,Ha),[new i0(t._key,fn.none())])}function r4(t,e){const r=Gn(t.firestore,Ha),n=En(t),i=M1(t.converter,e);return Ch(r,[T1(Ah(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,fn.exists(!1))]).then(()=>n)}function Op(t,...e){var r,n,i;t=Ft(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||ET(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ET(e[l])){const m=e[l];e[l]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,h,p;if(t instanceof pn)h=Gn(t.firestore,Ha),p=c1(t._key.path),d={next:m=>{e[l]&&e[l](H7(h,t,m))},error:e[l+1],complete:e[l+2]};else{const m=Gn(t,hl);h=Gn(m.firestore,Ha),p=m._query;const y=new D1(h);d={next:x=>{e[l]&&e[l](new e4(h,y,m,x))},error:e[l+1],complete:e[l+2]},QD(t._query)}return function(y,x,k,_){const b=new $D(_),A=new AD(x,b,k);return y.asyncQueue.enqueueAndForget(async()=>ED(await x_(y),A)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>TD(await x_(y),A))}}(d0(h),p,c,d)}function Ch(t,e){return function(n,i){const a=new zs;return n.asyncQueue.enqueueAndForget(async()=>x7(await A7(n),i,a)),a.promise}(d0(t),e)}function H7(t,e,r){const n=r.docs.get(e._key),i=new D1(t);return new ZD(t,i,e._key,n,new sd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ah(e)}set(e,r,n){this._verifyNotCommitted();const i=Uv(e,this._firestore),a=M1(i.converter,r,n),l=T1(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(l.toMutation(i._key,fn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Uv(e,this._firestore);let l;return l=typeof(r=Ft(r))=="string"||r instanceof Th?WD(this._dataReader,"WriteBatch.update",a._key,r,n,i):zD(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(l.toMutation(a._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Uv(e,this._firestore);return this._mutations=this._mutations.concat(new i0(r._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uv(t,e){if((t=Ft(t)).firestore!==e)throw new Re(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ls(){return new A1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t){return d0(t=Gn(t,Ha)),new G7(t,e=>Ch(t,e))}(function(e,r=!0){(function(i){Jc=i})(ll),Yo(new Ys("firestore",(n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new Ha(new QB(n.getProvider("auth-internal")),new t9(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(h.options.projectId,p)}(l,i),l);return a=Object.assign({useFetchStreams:r},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ta(zE,"4.7.3",e),ta(zE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="firebasestorage.googleapis.com",i4="storageBucket",K7=2*60*1e3,Y7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends ha{constructor(e,r,n=0){super(zv(e),`Firebase Storage: ${r} (${zv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tr||(tr={}));function zv(t){return"storage/"+t}function L1(){const t="An unknown error occurred, please check the error payload for server response.";return new rr(tr.UNKNOWN,t)}function X7(t){return new rr(tr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Q7(t){return new rr(tr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rr(tr.UNAUTHENTICATED,t)}function Z7(){return new rr(tr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eq(t){return new rr(tr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tq(){return new rr(tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rq(){return new rr(tr.CANCELED,"User canceled the upload/download.")}function nq(t){return new rr(tr.INVALID_URL,"Invalid URL '"+t+"'.")}function iq(t){return new rr(tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function aq(){return new rr(tr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i4+"' property when initializing the app?")}function sq(){return new rr(tr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oq(){return new rr(tr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lq(t){return new rr(tr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function w_(t){return new rr(tr.INVALID_ARGUMENT,t)}function a4(){return new rr(tr.APP_DELETED,"The Firebase app was deleted.")}function cq(t){return new rr(tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function md(t,e){return new rr(tr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wu(t){throw new rr(tr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Hn.makeFromUrl(e,r)}catch{return new Hn(e,"")}if(n.path==="")return n;throw iq(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),k={bucket:1,path:3},_=r===n4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",A=new RegExp(`^https?://${_}/${i}/${b}`,"i"),P=[{regex:c,indices:d,postModify:a},{regex:x,indices:k,postModify:h},{regex:A,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<P.length;O++){const N=P[O],I=N.regex.exec(e);if(I){const T=I[N.indices.bucket];let C=I[N.indices.path];C||(C=""),n=new Hn(T,C),N.postModify(n);break}}if(n==null)throw nq(e);return n}}class uq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e,r){let n=1,i=null,a=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){i=setTimeout(()=>{i=null,t(x,d())},b)}function y(){a&&clearTimeout(a)}function x(b,...A){if(h){y();return}if(b){y(),p.call(null,b,...A);return}if(d()||l){y(),p.call(null,b,...A);return}n<64&&(n*=2);let P;c===1?(c=2,P=0):P=(n+Math.random())*1e3,m(P)}let k=!1;function _(b){k||(k=!0,y(),!h&&(i!==null?(b||(c=2),clearTimeout(i),m(0)):b||(c=1)))}return m(0),a=setTimeout(()=>{l=!0,_(!0)},r),_}function hq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return t!==void 0}function pq(t){return typeof t=="object"&&!Array.isArray(t)}function $1(t){return typeof t=="string"||t instanceof String}function CT(t){return F1()&&t instanceof Blob}function F1(){return typeof Blob<"u"}function IT(t,e,r,n){if(n<e)throw w_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw w_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function s4(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Ho;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ho||(Ho={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,r,n,i,a,l,c,d,h,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new lp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Ho.NO_ERROR,d=a.getStatus();if(!c||mq(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Ho.ABORT;n(!1,new lp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new lp(h,a))})},r=(n,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());fq(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=L1();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?a4():rq();l(d)}else{const d=tq();l(d)}};this.canceled_?r(!1,new lp(!1,null,!0)):this.backoffId_=dq(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function vq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wq(t,e,r,n,i,a,l=!0){const c=s4(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return xq(h,e),vq(h,r),yq(h,a),bq(h,n),new gq(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kq(...t){const e=_q();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(F1())return new Blob(t);throw new rr(tr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jq(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){if(typeof atob>"u")throw lq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wv{constructor(e,r){this.data=e,this.contentType=r||null}}function Nq(t,e){switch(t){case Zi.RAW:return new Wv(o4(e));case Zi.BASE64:case Zi.BASE64URL:return new Wv(l4(t,e));case Zi.DATA_URL:return new Wv(Tq(e),Aq(e))}throw L1()}function o4(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=t.charCodeAt(++r);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Eq(t){let e;try{e=decodeURIComponent(t)}catch{throw md(Zi.DATA_URL,"Malformed data URL.")}return o4(e)}function l4(t,e){switch(t){case Zi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw md(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw md(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Sq(e)}catch(i){throw i.message.includes("polyfill")?i:md(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class c4{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw md(Zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Pq(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Tq(t){const e=new c4(t);return e.base64?l4(Zi.BASE64,e.rest):Eq(e.rest)}function Aq(t){return new c4(t).contentType}function Pq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,r){let n=0,i="";CT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(CT(this.data_)){const n=this.data_,i=jq(n,e,r);return i===null?null:new $s(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new $s(n,!0)}}static getBlob(...e){if(F1()){const r=e.map(n=>n instanceof $s?n.data_:n);return new $s(kq.apply(null,r))}else{const r=e.map(l=>$1(l)?Nq(Zi.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new $s(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){let e;try{e=JSON.parse(t)}catch{return null}return pq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Iq(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function d4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t,e){return e}class cn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Oq}}let cp=null;function Rq(t){return!$1(t)||t.length<2?t:d4(t)}function h4(){if(cp)return cp;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(a,l){return Rq(l)}const r=new cn("name");r.xform=e,t.push(r);function n(a,l){return l!==void 0?Number(l):l}const i=new cn("size");return i.xform=n,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),cp=t,cp}function Mq(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Hn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Dq(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const l=r[a];n[l.local]=l.xform(n,e[l.server])}return Mq(n,t),n}function f4(t,e,r){const n=u4(e);return n===null?null:Dq(t,n,r)}function Lq(t,e,r,n){const i=u4(e);if(i===null||!$1(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const p=t.bucket,m=t.fullPath,y="/b/"+l(p)+"/o/"+l(m),x=V1(y,r,n),k=s4({alt:"media",token:h});return x+k})[0]}function $q(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class p4{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){if(!t)throw L1()}function Fq(t,e){function r(n,i){const a=f4(t,i,e);return m4(a!==null),a}return r}function Vq(t,e){function r(n,i){const a=f4(t,i,e);return m4(a!==null),Lq(a,i,t.host,t._protocol)}return r}function g4(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Z7():i=J7():r.getStatus()===402?i=Q7(t.bucket):r.getStatus()===403?i=eq(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Bq(t){const e=g4(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=X7(t.path)),a.serverResponse=i.serverResponse,a}return r}function Uq(t,e,r){const n=e.fullServerUrl(),i=V1(n,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new p4(i,a,Vq(t,r),l);return c.errorHandler=Bq(e),c}function qq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=qq(null,e)),n}function Wq(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let O=0;O<2;O++)P=P+Math.random().toString().slice(2);return P}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=zq(e,n,i),p=$q(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+d+"--",x=$s.getBlob(m,n,y);if(x===null)throw sq();const k={name:h.fullPath},_=V1(a,t.host,t._protocol),b="POST",A=t.maxUploadRetryTime,E=new p4(_,b,Fq(t,r),A);return E.urlParams=k,E.headers=l,E.body=x.uploadData(),E.errorHandler=g4(e),E}class Hq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ho.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ho.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ho.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Wu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Gq extends Hq{initXhr(){this.xhr_.responseType="text"}}function v4(){return new Gq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,r){this._service=e,r instanceof Hn?this._location=r:this._location=Hn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new tl(e,r)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d4(this._location.path)}get storage(){return this._service}get parent(){const e=Cq(this._location.path);if(e===null)return null;const r=new Hn(this._location.bucket,e);return new tl(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw cq(e)}}function Kq(t,e,r){t._throwIfRoot("uploadBytes");const n=Wq(t.storage,t._location,h4(),new $s(e,!0),r);return t.storage.makeRequestWithTokens(n,v4).then(i=>({metadata:i,ref:t}))}function Yq(t){t._throwIfRoot("getDownloadURL");const e=Uq(t.storage,t._location,h4());return t.storage.makeRequestWithTokens(e,v4).then(r=>{if(r===null)throw oq();return r})}function Xq(t,e){const r=Iq(t._location.path,e),n=new Hn(t._location.bucket,r);return new tl(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){return/^[A-Za-z]+:\/\//.test(t)}function Jq(t,e){return new tl(t,e)}function y4(t,e){if(t instanceof B1){const r=t;if(r._bucket==null)throw aq();const n=new tl(r,r._bucket);return e!=null?y4(n,e):n}else return e!==void 0?Xq(t,e):t}function Zq(t,e){if(e&&Qq(e)){if(t instanceof B1)return Jq(t,e);throw w_("To use ref(service, url), the first argument must be a Storage instance.")}else return y4(t,e)}function OT(t,e){const r=e?.[i4];return r==null?null:Hn.makeFromBucketSpec(r,t)}function e8(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:zR(i,t.app.options.projectId))}class B1{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=n4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K7,this._maxUploadRetryTime=Y7,this._requests=new Set,i!=null?this._bucket=Hn.makeFromBucketSpec(i,this._host):this._bucket=OT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=OT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tl(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new uq(a4());{const l=wq(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const RT="@firebase/storage",MT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="storage";function t8(t,e,r){return t=Ft(t),Kq(t,e,r)}function r8(t){return t=Ft(t),Yq(t)}function n8(t,e){return t=Ft(t),Zq(t,e)}function i8(t=Hk(),e){t=Ft(t);const n=Ym(t,x4).getImmediate({identifier:e}),i=BR("storage");return i&&a8(n,...i),n}function a8(t,e,r,n={}){e8(t,e,r,n)}function s8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new B1(r,n,i,e,ll)}function o8(){Yo(new Ys(x4,s8,"PUBLIC").setMultipleInstances(!0)),ta(RT,MT,""),ta(RT,MT,"esm2017")}o8();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b4=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...c},d)=>z.createElement("svg",{ref:d,...c8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:b4("lucide",i),...c},[...l.map(([h,p])=>z.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const r=z.forwardRef(({className:n,...i},a)=>z.createElement(u8,{ref:a,iconNode:e,className:b4(`lucide-${l8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Be("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Be("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=Be("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Be("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=Be("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=Be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=Be("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),T8=({setUserId:t})=>{const[e,r]=z.useState(!0),[n,i]=z.useState(""),[a,l]=z.useState(""),[c,d]=z.useState(""),[h,p]=z.useState(!1),m=PM(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await OV(m,n,a):await IV(m,n,a)}catch(k){d(k.message)}finally{p(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Ur,{className:"mx-auto h-12 w-auto text-cyan-500"}),o.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[o.jsxs("form",{className:"space-y-6",onSubmit:y,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>l(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsx("p",{className:"text-sm text-red-700",children:c})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",o.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Qi=({title:t,value:e,icon:r,color:n,subtext:i})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),o.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function N4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=N4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function rt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=N4(t))&&(n&&(n+=" "),n+=e);return n}var Gv,UT;function Pn(){if(UT)return Gv;UT=1;var t=Array.isArray;return Gv=t,Gv}var Kv,qT;function E4(){if(qT)return Kv;qT=1;var t=typeof tp=="object"&&tp&&tp.Object===Object&&tp;return Kv=t,Kv}var Yv,zT;function fa(){if(zT)return Yv;zT=1;var t=E4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Yv=r,Yv}var Xv,WT;function Ih(){if(WT)return Xv;WT=1;var t=fa(),e=t.Symbol;return Xv=e,Xv}var Qv,HT;function A8(){if(HT)return Qv;HT=1;var t=Ih(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(l){var c=r.call(l,i),d=l[i];try{l[i]=void 0;var h=!0}catch{}var p=n.call(l);return h&&(c?l[i]=d:delete l[i]),p}return Qv=a,Qv}var Jv,GT;function P8(){if(GT)return Jv;GT=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Jv=r,Jv}var Zv,KT;function Ja(){if(KT)return Zv;KT=1;var t=Ih(),e=A8(),r=P8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):r(c)}return Zv=l,Zv}var ey,YT;function Za(){if(YT)return ey;YT=1;function t(e){return e!=null&&typeof e=="object"}return ey=t,ey}var ty,XT;function nu(){if(XT)return ty;XT=1;var t=Ja(),e=Za(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return ty=n,ty}var ry,QT;function W1(){if(QT)return ry;QT=1;var t=Pn(),e=nu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){if(t(a))return!1;var c=typeof a;return c=="number"||c=="symbol"||c=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||l!=null&&a in Object(l)}return ry=i,ry}var ny,JT;function no(){if(JT)return ny;JT=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ny=t,ny}var iy,ZT;function H1(){if(ZT)return iy;ZT=1;var t=Ja(),e=no(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==a}return iy=l,iy}var ay,eA;function C8(){if(eA)return ay;eA=1;var t=fa(),e=t["__core-js_shared__"];return ay=e,ay}var sy,tA;function I8(){if(tA)return sy;tA=1;var t=C8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return sy=r,sy}var oy,rA;function T4(){if(rA)return oy;rA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return oy=r,oy}var ly,nA;function O8(){if(nA)return ly;nA=1;var t=H1(),e=I8(),r=no(),n=T4(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,h=c.hasOwnProperty,p=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return ly=m,ly}var cy,iA;function R8(){if(iA)return cy;iA=1;function t(e,r){return e?.[r]}return cy=t,cy}var uy,aA;function fl(){if(aA)return uy;aA=1;var t=O8(),e=R8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return uy=r,uy}var dy,sA;function v0(){if(sA)return dy;sA=1;var t=fl(),e=t(Object,"create");return dy=e,dy}var hy,oA;function M8(){if(oA)return hy;oA=1;var t=v0();function e(){this.__data__=t?t(null):{},this.size=0}return hy=e,hy}var fy,lA;function D8(){if(lA)return fy;lA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return fy=t,fy}var py,cA;function L8(){if(cA)return py;cA=1;var t=v0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var l=this.__data__;if(t){var c=l[a];return c===e?void 0:c}return n.call(l,a)?l[a]:void 0}return py=i,py}var my,uA;function $8(){if(uA)return my;uA=1;var t=v0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return my=n,my}var gy,dA;function F8(){if(dA)return gy;dA=1;var t=v0(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return gy=r,gy}var vy,hA;function V8(){if(hA)return vy;hA=1;var t=M8(),e=D8(),r=L8(),n=$8(),i=F8();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,vy=a,vy}var yy,fA;function B8(){if(fA)return yy;fA=1;function t(){this.__data__=[],this.size=0}return yy=t,yy}var xy,pA;function G1(){if(pA)return xy;pA=1;function t(e,r){return e===r||e!==e&&r!==r}return xy=t,xy}var by,mA;function y0(){if(mA)return by;mA=1;var t=G1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return by=e,by}var wy,gA;function U8(){if(gA)return wy;gA=1;var t=y0(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,l=t(a,i);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():r.call(a,l,1),--this.size,!0}return wy=n,wy}var _y,vA;function q8(){if(vA)return _y;vA=1;var t=y0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return _y=e,_y}var ky,yA;function z8(){if(yA)return ky;yA=1;var t=y0();function e(r){return t(this.__data__,r)>-1}return ky=e,ky}var jy,xA;function W8(){if(xA)return jy;xA=1;var t=y0();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return jy=e,jy}var Sy,bA;function x0(){if(bA)return Sy;bA=1;var t=B8(),e=U8(),r=q8(),n=z8(),i=W8();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Sy=a,Sy}var Ny,wA;function K1(){if(wA)return Ny;wA=1;var t=fl(),e=fa(),r=t(e,"Map");return Ny=r,Ny}var Ey,_A;function H8(){if(_A)return Ey;_A=1;var t=V8(),e=x0(),r=K1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ey=n,Ey}var Ty,kA;function G8(){if(kA)return Ty;kA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Ty=t,Ty}var Ay,jA;function b0(){if(jA)return Ay;jA=1;var t=G8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Ay=e,Ay}var Py,SA;function K8(){if(SA)return Py;SA=1;var t=b0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Py=e,Py}var Cy,NA;function Y8(){if(NA)return Cy;NA=1;var t=b0();function e(r){return t(this,r).get(r)}return Cy=e,Cy}var Iy,EA;function X8(){if(EA)return Iy;EA=1;var t=b0();function e(r){return t(this,r).has(r)}return Iy=e,Iy}var Oy,TA;function Q8(){if(TA)return Oy;TA=1;var t=b0();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Oy=e,Oy}var Ry,AA;function Y1(){if(AA)return Ry;AA=1;var t=H8(),e=K8(),r=Y8(),n=X8(),i=Q8();function a(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ry=a,Ry}var My,PA;function A4(){if(PA)return My;PA=1;var t=Y1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var l=arguments,c=i?i.apply(this,l):l[0],d=a.cache;if(d.has(c))return d.get(c);var h=n.apply(this,l);return a.cache=d.set(c,h)||d,h};return a.cache=new(r.Cache||t),a}return r.Cache=t,My=r,My}var Dy,CA;function J8(){if(CA)return Dy;CA=1;var t=A4(),e=500;function r(n){var i=t(n,function(l){return a.size===e&&a.clear(),l}),a=i.cache;return i}return Dy=r,Dy}var Ly,IA;function Z8(){if(IA)return Ly;IA=1;var t=J8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(l,c,d,h){a.push(d?h.replace(r,"$1"):c||l)}),a});return Ly=n,Ly}var $y,OA;function X1(){if(OA)return $y;OA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return $y=t,$y}var Fy,RA;function ez(){if(RA)return Fy;RA=1;var t=Ih(),e=X1(),r=Pn(),n=nu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return e(c,l)+"";if(n(c))return a?a.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Fy=l,Fy}var Vy,MA;function P4(){if(MA)return Vy;MA=1;var t=ez();function e(r){return r==null?"":t(r)}return Vy=e,Vy}var By,DA;function C4(){if(DA)return By;DA=1;var t=Pn(),e=W1(),r=Z8(),n=P4();function i(a,l){return t(a)?a:e(a,l)?[a]:r(n(a))}return By=i,By}var Uy,LA;function w0(){if(LA)return Uy;LA=1;var t=nu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Uy=e,Uy}var qy,$A;function Q1(){if($A)return qy;$A=1;var t=C4(),e=w0();function r(n,i){i=t(i,n);for(var a=0,l=i.length;n!=null&&a<l;)n=n[e(i[a++])];return a&&a==l?n:void 0}return qy=r,qy}var zy,FA;function I4(){if(FA)return zy;FA=1;var t=Q1();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return zy=e,zy}var tz=I4();const Yn=yt(tz);var Wy,VA;function rz(){if(VA)return Wy;VA=1;function t(e){return e==null}return Wy=t,Wy}var nz=rz();const it=yt(nz);var Hy,BA;function iz(){if(BA)return Hy;BA=1;var t=Ja(),e=Pn(),r=Za(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Hy=i,Hy}var az=iz();const rl=yt(az);var sz=H1();const Qe=yt(sz);var oz=no();const iu=yt(oz);var Gy={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function lz(){if(UA)return gt;UA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case t:switch(b=b.type,b){case r:case i:case n:case h:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case l:case d:case y:case m:case a:return b;default:return A}}case e:return A}}}return gt.ContextConsumer=l,gt.ContextProvider=a,gt.Element=t,gt.ForwardRef=d,gt.Fragment=r,gt.Lazy=y,gt.Memo=m,gt.Portal=e,gt.Profiler=i,gt.StrictMode=n,gt.Suspense=h,gt.SuspenseList=p,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(b){return _(b)===l},gt.isContextProvider=function(b){return _(b)===a},gt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},gt.isForwardRef=function(b){return _(b)===d},gt.isFragment=function(b){return _(b)===r},gt.isLazy=function(b){return _(b)===y},gt.isMemo=function(b){return _(b)===m},gt.isPortal=function(b){return _(b)===e},gt.isProfiler=function(b){return _(b)===i},gt.isStrictMode=function(b){return _(b)===n},gt.isSuspense=function(b){return _(b)===h},gt.isSuspenseList=function(b){return _(b)===p},gt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===h||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===l||b.$$typeof===d||b.$$typeof===k||b.getModuleId!==void 0)},gt.typeOf=_,gt}var qA;function cz(){return qA||(qA=1,Gy.exports=lz()),Gy.exports}var uz=cz(),Ky,zA;function O4(){if(zA)return Ky;zA=1;var t=Ja(),e=Za(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Ky=n,Ky}var Yy,WA;function dz(){if(WA)return Yy;WA=1;var t=O4();function e(r){return t(r)&&r!=+r}return Yy=e,Yy}var hz=dz();const Oh=yt(hz);var fz=O4();const pz=yt(fz);var un=function(e){return e===0?0:e>0?1:-1},Bo=function(e){return rl(e)&&e.indexOf("%")===e.length-1},Te=function(e){return pz(e)&&!Oh(e)},mz=function(e){return it(e)},br=function(e){return Te(e)||rl(e)},gz=0,Rh=function(e){var r=++gz;return"".concat(e||"").concat(r)},dn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!rl(e))return n;var a;if(Bo(e)){var l=e.indexOf("%");a=r*parseFloat(e.slice(0,l))/100}else a=+e;return Oh(a)&&(a=n),i&&a>r&&(a=r),a},Fs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},vz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Cs=function(e,r){return Te(e)&&Te(r)?function(n){return e+n*(r-e)}:function(){return r}};function k_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Yn(n,e))===r})}var yz=function(e,r){return Te(e)&&Te(r)?e-r:rl(e)&&rl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function gc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j_(t){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j_(t)}var xz=["viewBox","children"],bz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HA=["points","pathLength"],Xy={svg:xz,polygon:HA,polyline:HA},J1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!iu(n))return null;var i={};return Object.keys(n).forEach(function(a){J1.includes(a)&&(i[a]=r||function(l){return n[a](n,l)})}),i},wz=function(e,r,n){return function(i){return e(r,n,i),null}},nl=function(e,r,n){if(!iu(e)||j_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var l=e[a];J1.includes(a)&&typeof l=="function"&&(i||(i={}),i[a]=wz(l,r,n))}),i},_z=["children"],kz=["children"];function GA(t,e){if(t==null)return{};var r=jz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Va=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YA=null,Qy=null,Z1=function t(e){if(e===YA&&Array.isArray(Qy))return Qy;var r=[];return z.Children.forEach(e,function(n){it(n)||(uz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Qy=r,YA=e,r};function pi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Va(i)}):n=[Va(e)],Z1(t).forEach(function(i){var a=Yn(i,"type.displayName")||Yn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function qn(t,e){var r=pi(t,e);return r&&r[0]}var XA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Te(n)||n<=0||!Te(i)||i<=0)},Sz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nz=function(e){return e&&e.type&&rl(e.type)&&Sz.indexOf(e.type)>=0},Ez=function(e,r,n,i){var a,l=(a=Xy?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Qe(e)&&(i&&l.includes(r)||bz.includes(r))||n&&J1.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!iu(i))return null;var a={};return Object.keys(i).forEach(function(l){var c;Ez((c=i)===null||c===void 0?void 0:c[l],l,r,n)&&(a[l]=i[l])}),a},S_=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],l=r[i];if(Array.isArray(a)||Array.isArray(l)){if(!t(a,l))return!1}else if(!QA(a,l))return!1}return!0},QA=function(e,r){if(it(e)&&it(r))return!0;if(!it(e)&&!it(r)){var n=e.props||{},i=n.children,a=GA(n,_z),l=r.props||{},c=l.children,d=GA(l,kz);return i&&c?gc(a,d)&&S_(i,c):!i&&!c?gc(a,d):!1}return!1},JA=function(e,r){var n=[],i={};return Z1(e).forEach(function(a,l){if(Nz(a))n.push(a);else if(a){var c=Va(a.type),d=r[c]||{},h=d.handler,p=d.once;if(h&&(!p||!i[c])){var m=h(a,c,l);n.push(m),i[c]=!0}}}),n},Tz=function(e){var r=e&&e.type;return r&&KA[r]?KA[r]:null},Az=function(e,r){return Z1(r).indexOf(e)},Pz=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N_.apply(this,arguments)}function Cz(t,e){if(t==null)return{};var r=Iz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function E_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,l=t.style,c=t.title,d=t.desc,h=Cz(t,Pz),p=i||{width:r,height:n,x:0,y:0},m=rt("recharts-surface",a);return K.createElement("svg",N_({},Ye(h,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,c),K.createElement("desc",null,d),e)}var Oz=["children","className"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T_.apply(this,arguments)}function Rz(t,e){if(t==null)return{};var r=Mz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bt=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=Rz(t,Oz),a=rt("recharts-layer",n);return K.createElement("g",T_({className:a},Ye(i,!0),{ref:e}),r)}),Li=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Jy,ZA;function Dz(){if(ZA)return Jy;ZA=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(a);++i<a;)l[i]=e[i+r];return l}return Jy=t,Jy}var Zy,eP;function Lz(){if(eP)return Zy;eP=1;var t=Dz();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Zy=e,Zy}var ex,tP;function R4(){if(tP)return ex;tP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+a+"]");function d(h){return c.test(h)}return ex=d,ex}var tx,rP;function $z(){if(rP)return tx;rP=1;function t(e){return e.split("")}return tx=t,tx}var rx,nP;function Fz(){if(nP)return rx;nP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",k=h+"?",_="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+_+k+")*",A=_+k+b,E="(?:"+[p+c+"?",c,m,y,l].join("|")+")",P=RegExp(d+"(?="+d+")|"+E+A,"g");function O(N){return N.match(P)||[]}return rx=O,rx}var nx,iP;function Vz(){if(iP)return nx;iP=1;var t=$z(),e=R4(),r=Fz();function n(i){return e(i)?r(i):t(i)}return nx=n,nx}var ix,aP;function Bz(){if(aP)return ix;aP=1;var t=Lz(),e=R4(),r=Vz(),n=P4();function i(a){return function(l){l=n(l);var c=e(l)?r(l):void 0,d=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return d[a]()+h}}return ix=i,ix}var ax,sP;function Uz(){if(sP)return ax;sP=1;var t=Bz(),e=t("toUpperCase");return ax=e,ax}var qz=Uz();const _0=yt(qz);function At(t){return function(){return t}}const M4=Math.cos,em=Math.sin,Vi=Math.sqrt,tm=Math.PI,k0=2*tm,A_=Math.PI,P_=2*A_,Mo=1e-6,zz=P_-Mo;function D4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Wz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return D4;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Hz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?D4:Wz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,d=n-e,h=i-r,p=l-e,m=c-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Mo)if(!(Math.abs(m*d-h*p)>Mo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,k=i-c,_=d*d+h*h,b=x*x+k*k,A=Math.sqrt(_),E=Math.sqrt(y),P=a*Math.tan((A_-Math.acos((_+y-b)/(2*A*E)))/2),O=P/E,N=P/A;Math.abs(O-1)>Mo&&this._append`L${e+O*p},${r+O*m}`,this._append`A${a},${a},0,0,${+(m*x>p*k)},${this._x1=e+N*d},${this._y1=r+N*h}`}}arc(e,r,n,i,a,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=e+c,p=r+d,m=1^l,y=l?i-a:a-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Mo||Math.abs(this._y1-p)>Mo)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%P_+P_),y>zz?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>Mo&&this._append`A${n},${n},0,${+(y>=A_)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ej(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Hz(e)}function tj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L4(t){this._context=t}L4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function j0(t){return new L4(t)}function $4(t){return t[0]}function F4(t){return t[1]}function V4(t,e){var r=At(!0),n=null,i=j0,a=null,l=ej(c);t=typeof t=="function"?t:t===void 0?$4:At(t),e=typeof e=="function"?e:e===void 0?F4:At(e);function c(d){var h,p=(d=tj(d)).length,m,y=!1,x;for(n==null&&(a=i(x=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,h,d),+e(m,h,d));if(x)return a=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:At(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:At(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:At(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function dp(t,e,r){var n=null,i=At(!0),a=null,l=j0,c=null,d=ej(h);t=typeof t=="function"?t:t===void 0?$4:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?F4:At(+r);function h(m){var y,x,k,_=(m=tj(m)).length,b,A=!1,E,P=new Array(_),O=new Array(_);for(a==null&&(c=l(E=d())),y=0;y<=_;++y){if(!(y<_&&i(b=m[y],y,m))===A)if(A=!A)x=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),k=y-1;k>=x;--k)c.point(P[k],O[k]);c.lineEnd(),c.areaEnd()}A&&(P[y]=+t(b,y,m),O[y]=+e(b,y,m),c.point(n?+n(b,y,m):P[y],r?+r(b,y,m):O[y]))}if(E)return c=null,E+""||null}function p(){return V4().defined(i).curve(l).context(a)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:At(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:At(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:At(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:At(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:At(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,a!=null&&(c=l(a)),h):l},h.context=function(m){return arguments.length?(m==null?a=c=null:c=l(a=m),h):a},h}class B4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Gz(t){return new B4(t,!0)}function Kz(t){return new B4(t,!1)}const rj={draw(t,e){const r=Vi(e/tm);t.moveTo(r,0),t.arc(0,0,r,0,k0)}},Yz={draw(t,e){const r=Vi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},U4=Vi(1/3),Xz=U4*2,Qz={draw(t,e){const r=Vi(e/Xz),n=r*U4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Jz={draw(t,e){const r=Vi(e),n=-r/2;t.rect(n,n,r,r)}},Zz=.8908130915292852,q4=em(tm/10)/em(7*tm/10),eW=em(k0/10)*q4,tW=-M4(k0/10)*q4,rW={draw(t,e){const r=Vi(e*Zz),n=eW*r,i=tW*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const l=k0*a/5,c=M4(l),d=em(l);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},sx=Vi(3),nW={draw(t,e){const r=-Vi(e/(sx*3));t.moveTo(0,r*2),t.lineTo(-sx*r,-r),t.lineTo(sx*r,-r),t.closePath()}},li=-.5,ci=Vi(3)/2,C_=1/Vi(12),iW=(C_/2+1)*3,aW={draw(t,e){const r=Vi(e/iW),n=r/2,i=r*C_,a=n,l=r*C_+r,c=-a,d=l;t.moveTo(n,i),t.lineTo(a,l),t.lineTo(c,d),t.lineTo(li*n-ci*i,ci*n+li*i),t.lineTo(li*a-ci*l,ci*a+li*l),t.lineTo(li*c-ci*d,ci*c+li*d),t.lineTo(li*n+ci*i,li*i-ci*n),t.lineTo(li*a+ci*l,li*l-ci*a),t.lineTo(li*c+ci*d,li*d-ci*c),t.closePath()}};function sW(t,e){let r=null,n=ej(i);t=typeof t=="function"?t:At(t||rj),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rm(){}function nm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function z4(t){this._context=t}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oW(t){return new z4(t)}function W4(t){this._context=t}W4.prototype={areaStart:rm,areaEnd:rm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lW(t){return new W4(t)}function H4(t){this._context=t}H4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cW(t){return new H4(t)}function G4(t){this._context=t}G4.prototype={areaStart:rm,areaEnd:rm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function uW(t){return new G4(t)}function oP(t){return t<0?-1:1}function lP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),c=(a*i+l*n)/(n+i);return(oP(a)+oP(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function cP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ox(t,e,r){var n=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,l-c*r,a,l)}function im(t){this._context=t}im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ox(this,this._t0,cP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ox(this,cP(this,r=lP(this,t,e)),r);break;default:ox(this,this._t0,r=lP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function K4(t){this._context=new Y4(t)}(K4.prototype=Object.create(im.prototype)).point=function(t,e){im.prototype.point.call(this,e,t)};function Y4(t){this._context=t}Y4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function dW(t){return new im(t)}function hW(t){return new K4(t)}function X4(t){this._context=t}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uP(t),i=uP(e),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uP(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fW(t){return new X4(t)}function S0(t,e){this._context=t,this._t=e}S0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function pW(t){return new S0(t,.5)}function mW(t){return new S0(t,0)}function gW(t){return new S0(t,1)}function Ec(t,e){if((l=t.length)>1)for(var r=1,n,i,a=t[e[0]],l,c=a.length;r<l;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function I_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function vW(t,e){return t[e]}function yW(t){const e=[];return e.key=t,e}function xW(){var t=At([]),e=I_,r=Ec,n=vW;function i(a){var l=Array.from(t.apply(this,arguments),yW),c,d=l.length,h=-1,p;for(const m of a)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(m,l[c].key,h,a)]).data=m;for(c=0,p=tj(e(l));c<d;++c)l[p[c]].index=c;return r(l,p),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:At(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?I_:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Ec,i):r},i}function bW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}Ec(t,e)}}function wW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var l=0,c=0;l<i;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Ec(t,e)}}function _W(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var c=0,d=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,k=0;k<c;++k){var _=t[e[k]],b=_[n][1]||0,A=_[n-1][1]||0;x+=b-A}d+=m,h+=x*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Ec(t,e)}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var kW=["type","size","sizeType"];function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O_.apply(this,arguments)}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){jW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jW(t,e,r){return e=SW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SW(t){var e=NW(t,"string");return Rd(e)=="symbol"?e:e+""}function NW(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EW(t,e){if(t==null)return{};var r=TW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Q4={symbolCircle:rj,symbolCross:Yz,symbolDiamond:Qz,symbolSquare:Jz,symbolStar:rW,symbolTriangle:nW,symbolWye:aW},AW=Math.PI/180,PW=function(e){var r="symbol".concat(_0(e));return Q4[r]||rj},CW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*AW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},IW=function(e,r){Q4["symbol".concat(_0(e))]=r},nj=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,d=EW(e,kW),h=hP(hP({},d),{},{type:n,size:a,sizeType:c}),p=function(){var b=PW(n),A=sW().type(b).size(CW(a,c,n));return A()},m=h.className,y=h.cx,x=h.cy,k=Ye(h,!0);return y===+y&&x===+x&&a===+a?K.createElement("path",O_({},k,{className:rt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};nj.registerSymbol=IW;function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z4(n.key),n)}}function DW(t,e,r){return e&&MW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LW(t,e,r){return e=am(e),$W(t,J4()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function $W(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FW(t)}function FW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function VW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M_(t,e)}function Md(t,e,r){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4(t){var e=BW(t,"string");return Tc(e)=="symbol"?e:e+""}function BW(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=32,ij=function(t){function e(){return RW(this,e),LW(this,e,arguments)}return VW(e,t),DW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ui/2,l=ui/6,c=ui/3,d=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ui,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(ui,"M").concat(2*c,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var h=OW({},n);return delete h.legendIcon,K.cloneElement(n.legendIcon,h)}return K.createElement(nj,{fill:d,cx:a,cy:a,size:ui,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,l=i.iconSize,c=i.layout,d=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:ui,height:ui},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,k){var _=x.formatter||d,b=rt(Md(Md({"recharts-legend-item":!0},"legend-item-".concat(k),!0),"inactive",x.inactive));if(x.type==="none")return null;var A=Qe(x.value)?null:x.value;Li(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?h:x.color;return K.createElement("li",R_({className:b,style:m,key:"legend-item-".concat(k)},nl(n.props,x,k)),K.createElement(E_,{width:l,height:l,viewBox:p,style:y},n.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},_?_(A,x,k):A))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,l=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:a==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(z.PureComponent);Md(ij,"displayName","Legend");Md(ij,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lx,pP;function UW(){if(pP)return lx;pP=1;var t=x0();function e(){this.__data__=new t,this.size=0}return lx=e,lx}var cx,mP;function qW(){if(mP)return cx;mP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return cx=t,cx}var ux,gP;function zW(){if(gP)return ux;gP=1;function t(e){return this.__data__.get(e)}return ux=t,ux}var dx,vP;function WW(){if(vP)return dx;vP=1;function t(e){return this.__data__.has(e)}return dx=t,dx}var hx,yP;function HW(){if(yP)return hx;yP=1;var t=x0(),e=K1(),r=Y1(),n=200;function i(a,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([a,l]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(a,l),this.size=c.size,this}return hx=i,hx}var fx,xP;function e3(){if(xP)return fx;xP=1;var t=x0(),e=UW(),r=qW(),n=zW(),i=WW(),a=HW();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=i,l.prototype.set=a,fx=l,fx}var px,bP;function GW(){if(bP)return px;bP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return px=e,px}var mx,wP;function KW(){if(wP)return mx;wP=1;function t(e){return this.__data__.has(e)}return mx=t,mx}var gx,_P;function t3(){if(_P)return gx;_P=1;var t=Y1(),e=GW(),r=KW();function n(i){var a=-1,l=i==null?0:i.length;for(this.__data__=new t;++a<l;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,gx=n,gx}var vx,kP;function r3(){if(kP)return vx;kP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return vx=t,vx}var yx,jP;function n3(){if(jP)return yx;jP=1;function t(e,r){return e.has(r)}return yx=t,yx}var xx,SP;function i3(){if(SP)return xx;SP=1;var t=t3(),e=r3(),r=n3(),n=1,i=2;function a(l,c,d,h,p,m){var y=d&n,x=l.length,k=c.length;if(x!=k&&!(y&&k>x))return!1;var _=m.get(l),b=m.get(c);if(_&&b)return _==c&&b==l;var A=-1,E=!0,P=d&i?new t:void 0;for(m.set(l,c),m.set(c,l);++A<x;){var O=l[A],N=c[A];if(h)var I=y?h(N,O,A,c,l,m):h(O,N,A,l,c,m);if(I!==void 0){if(I)continue;E=!1;break}if(P){if(!e(c,function(T,C){if(!r(P,C)&&(O===T||p(O,T,d,h,m)))return P.push(C)})){E=!1;break}}else if(!(O===N||p(O,N,d,h,m))){E=!1;break}}return m.delete(l),m.delete(c),E}return xx=a,xx}var bx,NP;function YW(){if(NP)return bx;NP=1;var t=fa(),e=t.Uint8Array;return bx=e,bx}var wx,EP;function XW(){if(EP)return wx;EP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return wx=t,wx}var _x,TP;function aj(){if(TP)return _x;TP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return _x=t,_x}var kx,AP;function QW(){if(AP)return kx;AP=1;var t=Ih(),e=YW(),r=G1(),n=i3(),i=XW(),a=aj(),l=1,c=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",k="[object Set]",_="[object String]",b="[object Symbol]",A="[object ArrayBuffer]",E="[object DataView]",P=t?t.prototype:void 0,O=P?P.valueOf:void 0;function N(I,T,C,L,M,R,F){switch(C){case E:if(I.byteLength!=T.byteLength||I.byteOffset!=T.byteOffset)return!1;I=I.buffer,T=T.buffer;case A:return!(I.byteLength!=T.byteLength||!R(new e(I),new e(T)));case d:case h:case y:return r(+I,+T);case p:return I.name==T.name&&I.message==T.message;case x:case _:return I==T+"";case m:var $=i;case k:var ee=L&l;if($||($=a),I.size!=T.size&&!ee)return!1;var ie=F.get(I);if(ie)return ie==T;L|=c,F.set(I,T);var Q=n($(I),$(T),L,M,R,F);return F.delete(I),Q;case b:if(O)return O.call(I)==O.call(T)}return!1}return kx=N,kx}var jx,PP;function a3(){if(PP)return jx;PP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return jx=t,jx}var Sx,CP;function JW(){if(CP)return Sx;CP=1;var t=a3(),e=Pn();function r(n,i,a){var l=i(n);return e(n)?l:t(l,a(n))}return Sx=r,Sx}var Nx,IP;function ZW(){if(IP)return Nx;IP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,l=[];++n<i;){var c=e[n];r(c,n,e)&&(l[a++]=c)}return l}return Nx=t,Nx}var Ex,OP;function eH(){if(OP)return Ex;OP=1;function t(){return[]}return Ex=t,Ex}var Tx,RP;function tH(){if(RP)return Tx;RP=1;var t=ZW(),e=eH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return n.call(l,c)}))}:e;return Tx=a,Tx}var Ax,MP;function rH(){if(MP)return Ax;MP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Ax=t,Ax}var Px,DP;function nH(){if(DP)return Px;DP=1;var t=Ja(),e=Za(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Px=n,Px}var Cx,LP;function sj(){if(LP)return Cx;LP=1;var t=nH(),e=Za(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return Cx=a,Cx}var od={exports:{}},Ix,$P;function iH(){if($P)return Ix;$P=1;function t(){return!1}return Ix=t,Ix}od.exports;var FP;function s3(){return FP||(FP=1,function(t,e){var r=fa(),n=iH(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,l=a&&a.exports===i,c=l?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(od,od.exports)),od.exports}var Ox,VP;function oj(){if(VP)return Ox;VP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ox=r,Ox}var Rx,BP;function lj(){if(BP)return Rx;BP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Rx=e,Rx}var Mx,UP;function aH(){if(UP)return Mx;UP=1;var t=Ja(),e=lj(),r=Za(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",k="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",R={};R[E]=R[P]=R[O]=R[N]=R[I]=R[T]=R[C]=R[L]=R[M]=!0,R[n]=R[i]=R[b]=R[a]=R[A]=R[l]=R[c]=R[d]=R[h]=R[p]=R[m]=R[y]=R[x]=R[k]=R[_]=!1;function F($){return r($)&&e($.length)&&!!R[t($)]}return Mx=F,Mx}var Dx,qP;function o3(){if(qP)return Dx;qP=1;function t(e){return function(r){return e(r)}}return Dx=t,Dx}var ld={exports:{}};ld.exports;var zP;function sH(){return zP||(zP=1,function(t,e){var r=E4(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,l=a&&r.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(ld,ld.exports)),ld.exports}var Lx,WP;function l3(){if(WP)return Lx;WP=1;var t=aH(),e=o3(),r=sH(),n=r&&r.isTypedArray,i=n?e(n):t;return Lx=i,Lx}var $x,HP;function oH(){if(HP)return $x;HP=1;var t=rH(),e=sj(),r=Pn(),n=s3(),i=oj(),a=l3(),l=Object.prototype,c=l.hasOwnProperty;function d(h,p){var m=r(h),y=!m&&e(h),x=!m&&!y&&n(h),k=!m&&!y&&!x&&a(h),_=m||y||x||k,b=_?t(h.length,String):[],A=b.length;for(var E in h)(p||c.call(h,E))&&!(_&&(E=="length"||x&&(E=="offset"||E=="parent")||k&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,A)))&&b.push(E);return b}return $x=d,$x}var Fx,GP;function lH(){if(GP)return Fx;GP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Fx=e,Fx}var Vx,KP;function c3(){if(KP)return Vx;KP=1;function t(e,r){return function(n){return e(r(n))}}return Vx=t,Vx}var Bx,YP;function cH(){if(YP)return Bx;YP=1;var t=c3(),e=t(Object.keys,Object);return Bx=e,Bx}var Ux,XP;function uH(){if(XP)return Ux;XP=1;var t=lH(),e=cH(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var l=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&l.push(c);return l}return Ux=i,Ux}var qx,QP;function Mh(){if(QP)return qx;QP=1;var t=H1(),e=lj();function r(n){return n!=null&&e(n.length)&&!t(n)}return qx=r,qx}var zx,JP;function N0(){if(JP)return zx;JP=1;var t=oH(),e=uH(),r=Mh();function n(i){return r(i)?t(i):e(i)}return zx=n,zx}var Wx,ZP;function dH(){if(ZP)return Wx;ZP=1;var t=JW(),e=tH(),r=N0();function n(i){return t(i,r,e)}return Wx=n,Wx}var Hx,e2;function hH(){if(e2)return Hx;e2=1;var t=dH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,l,c,d,h,p){var m=c&e,y=t(a),x=y.length,k=t(l),_=k.length;if(x!=_&&!m)return!1;for(var b=x;b--;){var A=y[b];if(!(m?A in l:n.call(l,A)))return!1}var E=p.get(a),P=p.get(l);if(E&&P)return E==l&&P==a;var O=!0;p.set(a,l),p.set(l,a);for(var N=m;++b<x;){A=y[b];var I=a[A],T=l[A];if(d)var C=m?d(T,I,A,l,a,p):d(I,T,A,a,l,p);if(!(C===void 0?I===T||h(I,T,c,d,p):C)){O=!1;break}N||(N=A=="constructor")}if(O&&!N){var L=a.constructor,M=l.constructor;L!=M&&"constructor"in a&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof M=="function"&&M instanceof M)&&(O=!1)}return p.delete(a),p.delete(l),O}return Hx=i,Hx}var Gx,t2;function fH(){if(t2)return Gx;t2=1;var t=fl(),e=fa(),r=t(e,"DataView");return Gx=r,Gx}var Kx,r2;function pH(){if(r2)return Kx;r2=1;var t=fl(),e=fa(),r=t(e,"Promise");return Kx=r,Kx}var Yx,n2;function u3(){if(n2)return Yx;n2=1;var t=fl(),e=fa(),r=t(e,"Set");return Yx=r,Yx}var Xx,i2;function mH(){if(i2)return Xx;i2=1;var t=fl(),e=fa(),r=t(e,"WeakMap");return Xx=r,Xx}var Qx,a2;function gH(){if(a2)return Qx;a2=1;var t=fH(),e=K1(),r=pH(),n=u3(),i=mH(),a=Ja(),l=T4(),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=l(t),k=l(e),_=l(r),b=l(n),A=l(i),E=a;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=c||r&&E(r.resolve())!=h||n&&E(new n)!=p||i&&E(new i)!=m)&&(E=function(P){var O=a(P),N=O==d?P.constructor:void 0,I=N?l(N):"";if(I)switch(I){case x:return y;case k:return c;case _:return h;case b:return p;case A:return m}return O}),Qx=E,Qx}var Jx,s2;function vH(){if(s2)return Jx;s2=1;var t=e3(),e=i3(),r=QW(),n=hH(),i=gH(),a=Pn(),l=s3(),c=l3(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function k(_,b,A,E,P,O){var N=a(_),I=a(b),T=N?p:i(_),C=I?p:i(b);T=T==h?m:T,C=C==h?m:C;var L=T==m,M=C==m,R=T==C;if(R&&l(_)){if(!l(b))return!1;N=!0,L=!1}if(R&&!L)return O||(O=new t),N||c(_)?e(_,b,A,E,P,O):r(_,b,T,A,E,P,O);if(!(A&d)){var F=L&&x.call(_,"__wrapped__"),$=M&&x.call(b,"__wrapped__");if(F||$){var ee=F?_.value():_,ie=$?b.value():b;return O||(O=new t),P(ee,ie,A,E,O)}}return R?(O||(O=new t),n(_,b,A,E,P,O)):!1}return Jx=k,Jx}var Zx,o2;function cj(){if(o2)return Zx;o2=1;var t=vH(),e=Za();function r(n,i,a,l,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,l,r,c)}return Zx=r,Zx}var eb,l2;function yH(){if(l2)return eb;l2=1;var t=e3(),e=cj(),r=1,n=2;function i(a,l,c,d){var h=c.length,p=h,m=!d;if(a==null)return!p;for(a=Object(a);h--;){var y=c[h];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++h<p;){y=c[h];var x=y[0],k=a[x],_=y[1];if(m&&y[2]){if(k===void 0&&!(x in a))return!1}else{var b=new t;if(d)var A=d(k,_,x,a,l,b);if(!(A===void 0?e(_,k,r|n,d,b):A))return!1}}return!0}return eb=i,eb}var tb,c2;function d3(){if(c2)return tb;c2=1;var t=no();function e(r){return r===r&&!t(r)}return tb=e,tb}var rb,u2;function xH(){if(u2)return rb;u2=1;var t=d3(),e=N0();function r(n){for(var i=e(n),a=i.length;a--;){var l=i[a],c=n[l];i[a]=[l,c,t(c)]}return i}return rb=r,rb}var nb,d2;function h3(){if(d2)return nb;d2=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return nb=t,nb}var ib,h2;function bH(){if(h2)return ib;h2=1;var t=yH(),e=xH(),r=h3();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(l){return l===i||t(l,i,a)}}return ib=n,ib}var ab,f2;function wH(){if(f2)return ab;f2=1;function t(e,r){return e!=null&&r in Object(e)}return ab=t,ab}var sb,p2;function _H(){if(p2)return sb;p2=1;var t=C4(),e=sj(),r=Pn(),n=oj(),i=lj(),a=w0();function l(c,d,h){d=t(d,c);for(var p=-1,m=d.length,y=!1;++p<m;){var x=a(d[p]);if(!(y=c!=null&&h(c,x)))break;c=c[x]}return y||++p!=m?y:(m=c==null?0:c.length,!!m&&i(m)&&n(x,m)&&(r(c)||e(c)))}return sb=l,sb}var ob,m2;function kH(){if(m2)return ob;m2=1;var t=wH(),e=_H();function r(n,i){return n!=null&&e(n,i,t)}return ob=r,ob}var lb,g2;function jH(){if(g2)return lb;g2=1;var t=cj(),e=I4(),r=kH(),n=W1(),i=d3(),a=h3(),l=w0(),c=1,d=2;function h(p,m){return n(p)&&i(m)?a(l(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,c|d)}}return lb=h,lb}var cb,v2;function au(){if(v2)return cb;v2=1;function t(e){return e}return cb=t,cb}var ub,y2;function SH(){if(y2)return ub;y2=1;function t(e){return function(r){return r?.[e]}}return ub=t,ub}var db,x2;function NH(){if(x2)return db;x2=1;var t=Q1();function e(r){return function(n){return t(n,r)}}return db=e,db}var hb,b2;function EH(){if(b2)return hb;b2=1;var t=SH(),e=NH(),r=W1(),n=w0();function i(a){return r(a)?t(n(a)):e(a)}return hb=i,hb}var fb,w2;function pa(){if(w2)return fb;w2=1;var t=bH(),e=jH(),r=au(),n=Pn(),i=EH();function a(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):i(l)}return fb=a,fb}var pb,_2;function f3(){if(_2)return pb;_2=1;function t(e,r,n,i){for(var a=e.length,l=n+(i?1:-1);i?l--:++l<a;)if(r(e[l],l,e))return l;return-1}return pb=t,pb}var mb,k2;function TH(){if(k2)return mb;k2=1;function t(e){return e!==e}return mb=t,mb}var gb,j2;function AH(){if(j2)return gb;j2=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return gb=t,gb}var vb,S2;function PH(){if(S2)return vb;S2=1;var t=f3(),e=TH(),r=AH();function n(i,a,l){return a===a?r(i,a,l):t(i,e,l)}return vb=n,vb}var yb,N2;function CH(){if(N2)return yb;N2=1;var t=PH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return yb=e,yb}var xb,E2;function IH(){if(E2)return xb;E2=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return xb=t,xb}var bb,T2;function OH(){if(T2)return bb;T2=1;function t(){}return bb=t,bb}var wb,A2;function RH(){if(A2)return wb;A2=1;var t=u3(),e=OH(),r=aj(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return wb=i,wb}var _b,P2;function MH(){if(P2)return _b;P2=1;var t=t3(),e=CH(),r=IH(),n=n3(),i=RH(),a=aj(),l=200;function c(d,h,p){var m=-1,y=e,x=d.length,k=!0,_=[],b=_;if(p)k=!1,y=r;else if(x>=l){var A=h?null:i(d);if(A)return a(A);k=!1,y=n,b=new t}else b=h?[]:_;e:for(;++m<x;){var E=d[m],P=h?h(E):E;if(E=p||E!==0?E:0,k&&P===P){for(var O=b.length;O--;)if(b[O]===P)continue e;h&&b.push(P),_.push(E)}else y(b,P,p)||(b!==_&&b.push(P),_.push(E))}return _}return _b=c,_b}var kb,C2;function DH(){if(C2)return kb;C2=1;var t=pa(),e=MH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return kb=r,kb}var LH=DH();const I2=yt(LH);function p3(t,e,r){return e===!0?I2(t,r):Qe(e)?I2(t,e):t}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var $H=["ref"];function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){E0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3(n.key),n)}}function VH(t,e,r){return e&&R2(t.prototype,e),r&&R2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BH(t,e,r){return e=sm(e),UH(t,m3()?Reflect.construct(e,r||[],sm(t).constructor):e.apply(t,r))}function UH(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qH(t)}function qH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}function zH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D_(t,e)}function E0(t,e,r){return e=g3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g3(t){var e=WH(t,"string");return Ac(e)=="symbol"?e:e+""}function WH(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function HH(t,e){if(t==null)return{};var r=GH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KH(t){return t.value}function YH(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=HH(e,$H);return K.createElement(ij,r)}var M2=1,Hs=function(t){function e(){var r;FH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=BH(this,e,[].concat(i)),E0(r,"lastBoundingBox",{width:-1,height:-1}),r}return zH(e,t),VH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>M2||Math.abs(i.height-this.lastBoundingBox.height)>M2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,l=i.align,c=i.verticalAlign,d=i.margin,h=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((h||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var k=this.getBBoxSnapshot();y={top:((p||0)-k.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Ca(Ca({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,l=i.width,c=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=Ca(Ca({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},YH(a,Ca(Ca({},this.props),{},{payload:p3(p,h,KH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ca(Ca({},this.defaultProps),n.props),l=a.layout;return l==="vertical"&&Te(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);E0(Hs,"displayName","Legend");E0(Hs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var jb,D2;function XH(){if(D2)return jb;D2=1;var t=Ih(),e=sj(),r=Pn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return jb=i,jb}var Sb,L2;function v3(){if(L2)return Sb;L2=1;var t=a3(),e=XH();function r(n,i,a,l,c){var d=-1,h=n.length;for(a||(a=e),c||(c=[]);++d<h;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,l,c):t(c,p):l||(c[c.length]=p)}return c}return Sb=r,Sb}var Nb,$2;function QH(){if($2)return Nb;$2=1;function t(e){return function(r,n,i){for(var a=-1,l=Object(r),c=i(r),d=c.length;d--;){var h=c[e?d:++a];if(n(l[h],h,l)===!1)break}return r}}return Nb=t,Nb}var Eb,F2;function JH(){if(F2)return Eb;F2=1;var t=QH(),e=t();return Eb=e,Eb}var Tb,V2;function y3(){if(V2)return Tb;V2=1;var t=JH(),e=N0();function r(n,i){return n&&t(n,i,e)}return Tb=r,Tb}var Ab,B2;function ZH(){if(B2)return Ab;B2=1;var t=Mh();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var l=i.length,c=n?l:-1,d=Object(i);(n?c--:++c<l)&&a(d[c],c,d)!==!1;);return i}}return Ab=e,Ab}var Pb,U2;function uj(){if(U2)return Pb;U2=1;var t=y3(),e=ZH(),r=e(t);return Pb=r,Pb}var Cb,q2;function x3(){if(q2)return Cb;q2=1;var t=uj(),e=Mh();function r(n,i){var a=-1,l=e(n)?Array(n.length):[];return t(n,function(c,d,h){l[++a]=i(c,d,h)}),l}return Cb=r,Cb}var Ib,z2;function eG(){if(z2)return Ib;z2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Ib=t,Ib}var Ob,W2;function tG(){if(W2)return Ob;W2=1;var t=nu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,l=r===r,c=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!c&&r>n||c&&d&&p&&!h&&!m||a&&d&&p||!i&&p||!l)return 1;if(!a&&!c&&!m&&r<n||m&&i&&l&&!a&&!c||h&&i&&l||!d&&l||!p)return-1}return 0}return Ob=e,Ob}var Rb,H2;function rG(){if(H2)return Rb;H2=1;var t=tG();function e(r,n,i){for(var a=-1,l=r.criteria,c=n.criteria,d=l.length,h=i.length;++a<d;){var p=t(l[a],c[a]);if(p){if(a>=h)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Rb=e,Rb}var Mb,G2;function nG(){if(G2)return Mb;G2=1;var t=X1(),e=Q1(),r=pa(),n=x3(),i=eG(),a=o3(),l=rG(),c=au(),d=Pn();function h(p,m,y){m.length?m=t(m,function(_){return d(_)?function(b){return e(b,_.length===1?_[0]:_)}:_}):m=[c];var x=-1;m=t(m,a(r));var k=n(p,function(_,b,A){var E=t(m,function(P){return P(_)});return{criteria:E,index:++x,value:_}});return i(k,function(_,b){return l(_,b,y)})}return Mb=h,Mb}var Db,K2;function iG(){if(K2)return Db;K2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Db=t,Db}var Lb,Y2;function aG(){if(Y2)return Lb;Y2=1;var t=iG(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var l=arguments,c=-1,d=e(l.length-i,0),h=Array(d);++c<d;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=a(h),t(n,this,p)}}return Lb=r,Lb}var $b,X2;function sG(){if(X2)return $b;X2=1;function t(e){return function(){return e}}return $b=t,$b}var Fb,Q2;function b3(){if(Q2)return Fb;Q2=1;var t=fl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Fb=e,Fb}var Vb,J2;function oG(){if(J2)return Vb;J2=1;var t=sG(),e=b3(),r=au(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Vb=n,Vb}var Bb,Z2;function lG(){if(Z2)return Bb;Z2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,l=0;return function(){var c=r(),d=e-(c-l);if(l=c,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Bb=n,Bb}var Ub,eC;function cG(){if(eC)return Ub;eC=1;var t=oG(),e=lG(),r=e(t);return Ub=r,Ub}var qb,tC;function uG(){if(tC)return qb;tC=1;var t=au(),e=aG(),r=cG();function n(i,a){return r(e(i,a,t),i+"")}return qb=n,qb}var zb,rC;function T0(){if(rC)return zb;rC=1;var t=G1(),e=Mh(),r=oj(),n=no();function i(a,l,c){if(!n(c))return!1;var d=typeof l;return(d=="number"?e(c)&&r(l,c.length):d=="string"&&l in c)?t(c[l],a):!1}return zb=i,zb}var Wb,nC;function dG(){if(nC)return Wb;nC=1;var t=v3(),e=nG(),r=uG(),n=T0(),i=r(function(a,l){if(a==null)return[];var c=l.length;return c>1&&n(a,l[0],l[1])?l=[]:c>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(a,t(l,1),[])});return Wb=i,Wb}var hG=dG();const dj=yt(hG);function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function fG(t,e){return vG(t)||gG(t,e)||mG(t,e)||pG()}function pG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mG(t,e){if(t){if(typeof t=="string")return iC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iC(t,e)}}function iC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function vG(t){if(Array.isArray(t))return t}function aC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(r),!0).forEach(function(n){yG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yG(t,e,r){return e=xG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xG(t){var e=bG(t,"string");return Dd(e)=="symbol"?e:e+""}function bG(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wG(t){return Array.isArray(t)&&br(t[0])&&br(t[1])?t.join(" ~ "):t}var _G=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,k=e.labelClassName,_=e.label,b=e.labelFormatter,A=e.accessibilityLayer,E=A===void 0?!1:A,P=function(){if(p&&p.length){var F={padding:0,margin:0},$=(y?dj(p,y):p).map(function(ee,ie){if(ee.type==="none")return null;var Q=Hb({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},c),se=ee.formatter||m||wG,te=ee.value,Z=ee.name,re=te,W=Z;if(se&&re!=null&&W!=null){var X=se(te,Z,ee,ie,p);if(Array.isArray(X)){var Y=fG(X,2);re=Y[0],W=Y[1]}else re=X}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:Q},br(W)?K.createElement("span",{className:"recharts-tooltip-item-name"},W):null,br(W)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},O=Hb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=Hb({margin:0},h),I=!it(_),T=I?_:"",C=rt("recharts-default-tooltip",x),L=rt("recharts-tooltip-label",k);I&&b&&p!==void 0&&p!==null&&(T=b(_,p));var M=E?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",L_({className:C,style:O},M),K.createElement("p",{className:L,style:N},K.isValidElement(T)?T:"".concat(T)),P())};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function hp(t,e,r){return e=kG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kG(t){var e=jG(t,"string");return Ld(e)=="symbol"?e:e+""}function jG(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hu="recharts-tooltip-wrapper",SG={visibility:"hidden"};function NG(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return rt(Hu,hp(hp(hp(hp({},"".concat(Hu,"-right"),Te(r)&&e&&Te(e.x)&&r>=e.x),"".concat(Hu,"-left"),Te(r)&&e&&Te(e.x)&&r<e.x),"".concat(Hu,"-bottom"),Te(n)&&e&&Te(e.y)&&n>=e.y),"".concat(Hu,"-top"),Te(n)&&e&&Te(e.y)&&n<e.y))}function sC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,l=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(a&&Te(a[n]))return a[n];var p=r[n]-c-i,m=r[n]+i;if(e[n])return l[n]?p:m;if(l[n]){var y=p,x=d[n];return y<x?Math.max(m,d[n]):Math.max(p,d[n])}var k=m+c,_=d[n]+h;return k>_?Math.max(p,d[n]):Math.max(m,d[n])}function EG(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function TG(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=sC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=sC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=EG({translateX:p,translateY:m,useTranslate3d:c})):h=SG,{cssProperties:h,cssClasses:NG({translateX:p,translateY:m,coordinate:r})}}function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function oC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(r),!0).forEach(function(n){F_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_3(n.key),n)}}function CG(t,e,r){return e&&PG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IG(t,e,r){return e=om(e),OG(t,w3()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function OG(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RG(t)}function RG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function MG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$_(t,e)}function F_(t,e,r){return e=_3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3(t){var e=DG(t,"string");return Pc(e)=="symbol"?e:e+""}function DG(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cC=1,LG=function(t){function e(){var r;AG(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=IG(this,e,[].concat(i)),F_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return MG(e,t),CG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cC||Math.abs(n.height-this.state.lastBoundingBox.height)>cC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,k=i.position,_=i.reverseDirection,b=i.useTranslate3d,A=i.viewBox,E=i.wrapperStyle,P=TG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:x,position:k,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:A}),O=P.cssClasses,N=P.cssProperties,I=lC(lC({transition:y&&a?"transform ".concat(c,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return K.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(C){n.wrapperNode=C}},h)}}])}(z.PureComponent),$G=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},su={isSsr:$G()};function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function uC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(r),!0).forEach(function(n){hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j3(n.key),n)}}function BG(t,e,r){return e&&VG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UG(t,e,r){return e=lm(e),qG(t,k3()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function qG(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zG(t)}function zG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k3=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function WG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V_(t,e)}function hj(t,e,r){return e=j3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3(t){var e=HG(t,"string");return Cc(e)=="symbol"?e:e+""}function HG(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GG(t){return t.dataKey}function KG(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(_G,e)}var di=function(t){function e(){return FG(this,e),UG(this,e,arguments)}return WG(e,t),BG(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,k=i.payload,_=i.payloadUniqBy,b=i.position,A=i.reverseDirection,E=i.useTranslate3d,P=i.viewBox,O=i.wrapperStyle,N=k??[];m&&N.length&&(N=p3(k.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,GG));var I=N.length>0;return K.createElement(LG,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:I,offset:x,position:b,reverseDirection:A,useTranslate3d:E,viewBox:P,wrapperStyle:O},KG(h,dC(dC({},this.props),{},{payload:N})))}}])}(z.PureComponent);hj(di,"displayName","Tooltip");hj(di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gb,hC;function YG(){if(hC)return Gb;hC=1;var t=fa(),e=function(){return t.Date.now()};return Gb=e,Gb}var Kb,fC;function XG(){if(fC)return Kb;fC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Kb=e,Kb}var Yb,pC;function QG(){if(pC)return Yb;pC=1;var t=XG(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Yb=r,Yb}var Xb,mC;function S3(){if(mC)return Xb;mC=1;var t=QG(),e=no(),r=nu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=a.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?n:+h}return Xb=d,Xb}var Qb,gC;function JG(){if(gC)return Qb;gC=1;var t=no(),e=YG(),r=S3(),n="Expected a function",i=Math.max,a=Math.min;function l(c,d,h){var p,m,y,x,k,_,b=0,A=!1,E=!1,P=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(A=!!h.leading,E="maxWait"in h,y=E?i(r(h.maxWait)||0,d):y,P="trailing"in h?!!h.trailing:P);function O($){var ee=p,ie=m;return p=m=void 0,b=$,x=c.apply(ie,ee),x}function N($){return b=$,k=setTimeout(C,d),A?O($):x}function I($){var ee=$-_,ie=$-b,Q=d-ee;return E?a(Q,y-ie):Q}function T($){var ee=$-_,ie=$-b;return _===void 0||ee>=d||ee<0||E&&ie>=y}function C(){var $=e();if(T($))return L($);k=setTimeout(C,I($))}function L($){return k=void 0,P&&p?O($):(p=m=void 0,x)}function M(){k!==void 0&&clearTimeout(k),b=0,p=_=m=k=void 0}function R(){return k===void 0?x:L(e())}function F(){var $=e(),ee=T($);if(p=arguments,m=this,_=$,ee){if(k===void 0)return N(_);if(E)return clearTimeout(k),k=setTimeout(C,d),O(_)}return k===void 0&&(k=setTimeout(C,d)),x}return F.cancel=M,F.flush=R,F}return Qb=l,Qb}var Jb,vC;function ZG(){if(vC)return Jb;vC=1;var t=JG(),e=no(),r="Expected a function";function n(i,a,l){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(i,a,{leading:c,maxWait:a,trailing:d})}return Jb=n,Jb}var eK=ZG();const N3=yt(eK);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){tK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tK(t,e,r){return e=rK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rK(t){var e=nK(t,"string");return $d(e)=="symbol"?e:e+""}function nK(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iK(t,e){return lK(t)||oK(t,e)||sK(t,e)||aK()}function aK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(t,e){if(t){if(typeof t=="string")return xC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(t,e)}}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function lK(t){if(Array.isArray(t))return t}var fj=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,l=a===void 0?"100%":a,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,y=t.maxHeight,x=t.children,k=t.debounce,_=k===void 0?0:k,b=t.id,A=t.className,E=t.onResize,P=t.style,O=P===void 0?{}:P,N=z.useRef(null),I=z.useRef();I.current=E,z.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=z.useState({containerWidth:i.width,containerHeight:i.height}),C=iK(T,2),L=C[0],M=C[1],R=z.useCallback(function($,ee){M(function(ie){var Q=Math.round($),se=Math.round(ee);return ie.containerWidth===Q&&ie.containerHeight===se?ie:{containerWidth:Q,containerHeight:se}})},[]);z.useEffect(function(){var $=function(Z){var re,W=Z[0].contentRect,X=W.width,Y=W.height;R(X,Y),(re=I.current)===null||re===void 0||re.call(I,X,Y)};_>0&&($=N3($,_,{trailing:!0,leading:!1}));var ee=new ResizeObserver($),ie=N.current.getBoundingClientRect(),Q=ie.width,se=ie.height;return R(Q,se),ee.observe(N.current),function(){ee.disconnect()}},[R,_]);var F=z.useMemo(function(){var $=L.containerWidth,ee=L.containerHeight;if($<0||ee<0)return null;Li(Bo(l)||Bo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ie=Bo(l)?$:l,Q=Bo(d)?ee:d;r&&r>0&&(ie?Q=ie/r:Q&&(ie=Q*r),y&&Q>y&&(Q=y)),Li(ie>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ie,Q,l,d,p,m,r);var se=!Array.isArray(x)&&Va(x.type).endsWith("Chart");return K.Children.map(x,function(te){return K.isValidElement(te)?z.cloneElement(te,fp({width:ie,height:Q},se?{style:fp({height:"100%",width:"100%",maxHeight:Q,maxWidth:ie},te.props.style)}:{})):te})},[r,x,d,y,m,p,L,l]);return K.createElement("div",{id:b?"".concat(b):void 0,className:rt("recharts-responsive-container",A),style:fp(fp({},O),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:N},F)}),A0=function(e){return null};A0.displayName="Cell";function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function bC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(r),!0).forEach(function(n){cK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cK(t,e,r){return e=uK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uK(t){var e=dK(t,"string");return Fd(e)=="symbol"?e:e+""}function dK(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql={widthCache:{},cacheCount:0},hK=2e3,fK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wC="recharts_measurement_span";function pK(t){var e=B_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var gd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||su.isSsr)return{width:0,height:0};var n=pK(r),i=JSON.stringify({text:e,copyStyle:n});if(Ql.widthCache[i])return Ql.widthCache[i];try{var a=document.getElementById(wC);a||(a=document.createElement("span"),a.setAttribute("id",wC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var l=B_(B_({},fK),n);Object.assign(a.style,l),a.textContent="".concat(e);var c=a.getBoundingClientRect(),d={width:c.width,height:c.height};return Ql.widthCache[i]=d,++Ql.cacheCount>hK&&(Ql.cacheCount=0,Ql.widthCache={}),d}catch{return{width:0,height:0}}},mK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function cm(t,e){return xK(t)||yK(t,e)||vK(t,e)||gK()}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vK(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function xK(t){if(Array.isArray(t))return t}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_K(n.key),n)}}function wK(t,e,r){return e&&kC(t.prototype,e),r&&kC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _K(t){var e=kK(t,"string");return Vd(e)=="symbol"?e:e+""}function kK(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,E3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},NK=Object.keys(E3),ac="NaN";function EK(t,e){return t*E3[e]}var pp=function(){function t(e,r){bK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!jK.test(r)&&(this.num=NaN,this.unit=""),NK.includes(r)&&(this.num=EK(e,r),this.unit="px")}return wK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=SK.exec(r))!==null&&n!==void 0?n:[],a=cm(i,3),l=a[1],c=a[2];return new t(parseFloat(l),c??"")}}])}();function T3(t){if(t.includes(ac))return ac;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=jC.exec(e))!==null&&r!==void 0?r:[],i=cm(n,4),a=i[1],l=i[2],c=i[3],d=pp.parse(a??""),h=pp.parse(c??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return ac;e=e.replace(jC,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=SC.exec(e))!==null&&m!==void 0?m:[],x=cm(y,4),k=x[1],_=x[2],b=x[3],A=pp.parse(k??""),E=pp.parse(b??""),P=_==="+"?A.add(E):A.subtract(E);if(P.isNaN())return ac;e=e.replace(SC,P.toString())}return e}var NC=/\(([^()]*)\)/;function TK(t){for(var e=t;e.includes("(");){var r=NC.exec(e),n=cm(r,2),i=n[1];e=e.replace(NC,T3(i))}return e}function AK(t){var e=t.replace(/\s+/g,"");return e=TK(e),e=T3(e),e}function PK(t){try{return AK(t)}catch{return ac}}function Zb(t){var e=PK(t.slice(5,-1));return e===ac?"":e}var CK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IK=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U_.apply(this,arguments)}function EC(t,e){if(t==null)return{};var r=OK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TC(t,e){return LK(t)||DK(t,e)||MK(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return AC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(t,e)}}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function LK(t){if(Array.isArray(t))return t}var A3=/[ \f\n\r\t\v\u2028\u2029]+/,P3=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];it(r)||(n?a=r.toString().split(""):a=r.toString().split(A3));var l=a.map(function(d){return{word:d,width:gd(d,i).width}}),c=n?0:gd("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},$K=function(e,r,n,i,a){var l=e.maxLines,c=e.children,d=e.style,h=e.breakAll,p=Te(l),m=c,y=function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ie.reduce(function(Q,se){var te=se.word,Z=se.width,re=Q[Q.length-1];if(re&&(i==null||a||re.width+Z+n<Number(i)))re.words.push(te),re.width+=Z+n;else{var W={words:[te],width:Z};Q.push(W)}return Q},[])},x=y(r),k=function(ie){return ie.reduce(function(Q,se){return Q.width>se.width?Q:se})};if(!p)return x;for(var _="",b=function(ie){var Q=m.slice(0,ie),se=P3({breakAll:h,style:d,children:Q+_}).wordsWithComputedWidth,te=y(se),Z=te.length>l||k(te).width>Number(i);return[Z,te]},A=0,E=m.length-1,P=0,O;A<=E&&P<=m.length-1;){var N=Math.floor((A+E)/2),I=N-1,T=b(I),C=TC(T,2),L=C[0],M=C[1],R=b(N),F=TC(R,1),$=F[0];if(!L&&!$&&(A=N+1),L&&$&&(E=N-1),!L&&$){O=M;break}P++}return O||x},PC=function(e){var r=it(e)?[]:e.toString().split(A3);return[{words:r}]},FK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,l=e.breakAll,c=e.maxLines;if((r||n)&&!su.isSsr){var d,h,p=P3({breakAll:l,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,h=y}else return PC(i);return $K({breakAll:l,children:i,maxLines:c,style:a},d,h,r,n)}return PC(i)},CC="#808080",il=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,k=e.verticalAnchor,_=k===void 0?"end":k,b=e.fill,A=b===void 0?CC:b,E=EC(e,CK),P=z.useMemo(function(){return FK({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),O=E.dx,N=E.dy,I=E.angle,T=E.className,C=E.breakAll,L=EC(E,IK);if(!br(n)||!br(a))return null;var M=n+(Te(O)?O:0),R=a+(Te(N)?N:0),F;switch(_){case"start":F=Zb("calc(".concat(h,")"));break;case"middle":F=Zb("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:F=Zb("calc(".concat(P.length-1," * -").concat(c,")"));break}var $=[];if(m){var ee=P[0].width,ie=E.width;$.push("scale(".concat((Te(ie)?ie/ee:1)/ee,")"))}return I&&$.push("rotate(".concat(I,", ").concat(M,", ").concat(R,")")),$.length&&(L.transform=$.join(" ")),K.createElement("text",U_({},Ye(L,!0),{x:M,y:R,className:rt("recharts-text",T),textAnchor:x,fill:A.includes("url")?CC:A}),P.map(function(Q,se){var te=Q.words.join(C?"":" ");return K.createElement("tspan",{x:M,dy:se===0?F:c,key:"".concat(te,"-").concat(se)},te)}))};function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pj(t){let e,r,n;t.length!==2?(e=Gs,r=(c,d)=>Gs(t(c),d),n=(c,d)=>t(c)-d):(e=t===Gs||t===VK?t:BK,r=t,n=t);function i(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function a(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,d,h=0,p=c.length){const m=i(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:i,center:l,right:a}}function BK(){return 0}function C3(t){return t===null?NaN:+t}function*UK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const qK=pj(Gs),Dh=qK.right;pj(C3).center;class IC extends Map{constructor(e,r=HK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(OC(this,e))}has(e){return super.has(OC(this,e))}set(e,r){return super.set(zK(this,e),r)}delete(e){return super.delete(WK(this,e))}}function OC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function zK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function WK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function HK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GK(t=Gs){if(t===Gs)return I3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function I3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const KK=Math.sqrt(50),YK=Math.sqrt(10),XK=Math.sqrt(2);function um(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=KK?10:a>=YK?5:a>=XK?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?um(t,e,r*2):[c,d,h]}function q_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,l]=n?um(e,t,r):um(t,e,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(a-h)/-l;else for(let h=0;h<c;++h)d[h]=(a-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(i+h)/-l;else for(let h=0;h<c;++h)d[h]=(i+h)*l;return d}function z_(t,e,r){return e=+e,t=+t,r=+r,um(t,e,r)[2]}function W_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?z_(e,t,r):z_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function RC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MC(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function O3(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?I3:GK(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(e-h*m/d+y)),k=Math.min(n,Math.floor(e+(d-h)*m/d+y));O3(t,e,x,k,i)}const a=t[e];let l=r,c=n;for(Gu(t,r,e),i(t[n],a)>0&&Gu(t,r,n);l<c;){for(Gu(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?Gu(t,r,c):(++c,Gu(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Gu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function QK(t,e,r){if(t=Float64Array.from(UK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return MC(t);if(e>=1)return RC(t);var n,i=(n-1)*e,a=Math.floor(i),l=RC(O3(t,a).subarray(0,a+1)),c=MC(t.subarray(a+1));return l+(c-l)*(i-a)}}function JK(t,e,r=C3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),l=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function ZK(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const H_=Symbol("implicit");function mj(){var t=new IC,e=[],r=[],n=H_;function i(a){let l=t.get(a);if(l===void 0){if(n!==H_)return n;t.set(a,l=e.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new IC;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mj(e,r).unknown(n)},yi.apply(i,arguments),i}function Bd(){var t=mj().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,l,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,k=x?i:n,_=x?n:i;a=(_-k)/Math.max(1,y-d+h*2),c&&(a=Math.floor(a)),k+=(_-k-a*(y-d))*p,l=a*(1-d),c&&(k=Math.round(k),l=Math.round(l));var b=ZK(y).map(function(A){return k+a*A});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(y){return arguments.length?(c=!!y,m()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Bd(e(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(p)},yi.apply(m(),arguments)}function R3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R3(e())},t}function vd(){return R3(Bd.apply(null,arguments).paddingInner(1))}function gj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function M3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Lh(){}var Ud=.7,dm=1/Ud,vc="\\s*([+-]?\\d+)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eY=/^#([0-9a-f]{3,8})$/,tY=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),rY=new RegExp(`^rgb\\(${oa},${oa},${oa}\\)$`),nY=new RegExp(`^rgba\\(${vc},${vc},${vc},${qd}\\)$`),iY=new RegExp(`^rgba\\(${oa},${oa},${oa},${qd}\\)$`),aY=new RegExp(`^hsl\\(${qd},${oa},${oa}\\)$`),sY=new RegExp(`^hsla\\(${qd},${oa},${oa},${qd}\\)$`),DC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gj(Lh,zd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LC,formatHex:LC,formatHex8:oY,formatHsl:lY,formatRgb:$C,toString:$C});function LC(){return this.rgb().formatHex()}function oY(){return this.rgb().formatHex8()}function lY(){return D3(this).formatHsl()}function $C(){return this.rgb().formatRgb()}function zd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?FC(e):r===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?mp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?mp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tY.exec(t))?new An(e[1],e[2],e[3],1):(e=rY.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nY.exec(t))?mp(e[1],e[2],e[3],e[4]):(e=iY.exec(t))?mp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aY.exec(t))?UC(e[1],e[2]/100,e[3]/100,1):(e=sY.exec(t))?UC(e[1],e[2]/100,e[3]/100,e[4]):DC.hasOwnProperty(t)?FC(DC[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function FC(t){return new An(t>>16&255,t>>8&255,t&255,1)}function mp(t,e,r,n){return n<=0&&(t=e=r=NaN),new An(t,e,r,n)}function cY(t){return t instanceof Lh||(t=zd(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function G_(t,e,r,n){return arguments.length===1?cY(t):new An(t,e,r,n??1)}function An(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gj(An,G_,M3(Lh,{brighter(t){return t=t==null?dm:Math.pow(dm,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(Go(this.r),Go(this.g),Go(this.b),hm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:uY,formatRgb:BC,toString:BC}));function VC(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}`}function uY(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}${Uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function BC(){const t=hm(this.opacity);return`${t===1?"rgb(":"rgba("}${Go(this.r)}, ${Go(this.g)}, ${Go(this.b)}${t===1?")":`, ${t})`}`}function hm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Go(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Uo(t){return t=Go(t),(t<16?"0":"")+t.toString(16)}function UC(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Mi(t,e,r,n)}function D3(t){if(t instanceof Mi)return new Mi(t.h,t.s,t.l,t.opacity);if(t instanceof Lh||(t=zd(t)),!t)return new Mi;if(t instanceof Mi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),l=NaN,c=a-i,d=(a+i)/2;return c?(e===a?l=(r-n)/c+(r<n)*6:r===a?l=(n-e)/c+2:l=(e-r)/c+4,c/=d<.5?a+i:2-a-i,l*=60):c=d>0&&d<1?0:l,new Mi(l,c,d,t.opacity)}function dY(t,e,r,n){return arguments.length===1?D3(t):new Mi(t,e,r,n??1)}function Mi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gj(Mi,dY,M3(Lh,{brighter(t){return t=t==null?dm:Math.pow(dm,t),new Mi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ud:Math.pow(Ud,t),new Mi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new An(ew(t>=240?t-240:t+120,i,n),ew(t,i,n),ew(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Mi(qC(this.h),gp(this.s),gp(this.l),hm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hm(this.opacity);return`${t===1?"hsl(":"hsla("}${qC(this.h)}, ${gp(this.s)*100}%, ${gp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qC(t){return t=(t||0)%360,t<0?t+360:t}function gp(t){return Math.max(0,Math.min(1,t||0))}function ew(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const vj=t=>()=>t;function hY(t,e){return function(r){return t+r*e}}function fY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function pY(t){return(t=+t)==1?L3:function(e,r){return r-e?fY(e,r,t):vj(isNaN(e)?r:e)}}function L3(t,e){var r=e-t;return r?hY(t,r):vj(isNaN(t)?e:t)}const zC=function t(e){var r=pY(e);function n(i,a){var l=r((i=G_(i)).r,(a=G_(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),h=L3(i.opacity,a.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=t,n}(1);function mY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function gY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=ou(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<n;++l)a[l]=i[l](c);return a}}function yY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function fm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ou(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var K_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tw=new RegExp(K_.source,"g");function bY(t){return function(){return t}}function wY(t){return function(e){return t(e)+""}}function _Y(t,e){var r=K_.lastIndex=tw.lastIndex=0,n,i,a,l=-1,c=[],d=[];for(t=t+"",e=e+"";(n=K_.exec(t))&&(i=tw.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(n=n[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:fm(n,i)})),r=tw.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?d[0]?wY(d[0].x):bY(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function ou(t,e){var r=typeof e,n;return e==null||r==="boolean"?vj(e):(r==="number"?fm:r==="string"?(n=zd(e))?(e=n,zC):_Y:e instanceof zd?zC:e instanceof Date?yY:gY(e)?mY:Array.isArray(e)?vY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xY:fm)(t,e)}function yj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function kY(t,e){e===void 0&&(e=t,t=ou);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[c](l-c)}}function jY(t){return function(){return t}}function pm(t){return+t}var WC=[0,1];function hn(t){return t}function Y_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jY(isNaN(e)?NaN:.5)}function SY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function NY(t,e,r){var n=t[0],i=t[1],a=e[0],l=e[1];return i<n?(n=Y_(i,n),a=r(l,a)):(n=Y_(n,i),a=r(a,l)),function(c){return a(n(c))}}function EY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=Y_(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var d=Dh(t,c,1,n)-1;return a[d](i[d](c))}}function $h(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function P0(){var t=WC,e=WC,r=ou,n,i,a,l=hn,c,d,h;function p(){var y=Math.min(t.length,e.length);return l!==hn&&(l=SY(t[0],t[y-1])),c=y>2?EY:NY,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?a:(d||(d=c(t.map(n),e,r)))(n(l(y)))}return m.invert=function(y){return l(i((h||(h=c(e,t.map(n),fm)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,pm),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=yj,p()},m.clamp=function(y){return arguments.length?(l=y?!0:hn,p()):l!==hn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function xj(){return P0()(hn,hn)}function TY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ic(t){return t=mm(Math.abs(t)),t?t[1]:NaN}function AY(t,e){return function(r,n){for(var i=r.length,a=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function PY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var CY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wd(t){if(!(e=CY.exec(t)))throw new Error("invalid format: "+t);var e;return new bj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wd.prototype=bj.prototype;function bj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $3;function OY(t,e){var r=mm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-($3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+mm(t,Math.max(0,e+a-1))[0]}function HC(t,e){var r=mm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:TY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HC(t*100,e),r:HC,s:OY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KC(t){return t}var YC=Array.prototype.map,XC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RY(t){var e=t.grouping===void 0||t.thousands===void 0?KC:AY(YC.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?KC:PY(YC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Wd(m);var y=m.fill,x=m.align,k=m.sign,_=m.symbol,b=m.zero,A=m.width,E=m.comma,P=m.precision,O=m.trim,N=m.type;N==="n"?(E=!0,N="g"):GC[N]||(P===void 0&&(P=12),O=!0,N="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var I=_==="$"?r:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=_==="$"?n:/[%p]/.test(N)?l:"",C=GC[N],L=/[defgprs%]/.test(N);P=P===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function M(R){var F=I,$=T,ee,ie,Q;if(N==="c")$=C(R)+$,R="";else{R=+R;var se=R<0||1/R<0;if(R=isNaN(R)?d:C(Math.abs(R),P),O&&(R=IY(R)),se&&+R==0&&k!=="+"&&(se=!1),F=(se?k==="("?k:c:k==="-"||k==="("?"":k)+F,$=(N==="s"?XC[8+$3/3]:"")+$+(se&&k==="("?")":""),L){for(ee=-1,ie=R.length;++ee<ie;)if(Q=R.charCodeAt(ee),48>Q||Q>57){$=(Q===46?i+R.slice(ee+1):R.slice(ee))+$,R=R.slice(0,ee);break}}}E&&!b&&(R=e(R,1/0));var te=F.length+R.length+$.length,Z=te<A?new Array(A-te+1).join(y):"";switch(E&&b&&(R=e(Z+R,Z.length?A-$.length:1/0),Z=""),x){case"<":R=F+R+$+Z;break;case"=":R=F+Z+R+$;break;case"^":R=Z.slice(0,te=Z.length>>1)+F+R+$+Z.slice(te);break;default:R=Z+F+R+$;break}return a(R)}return M.toString=function(){return m+""},M}function p(m,y){var x=h((m=Wd(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(Ic(y)/3)))*3,_=Math.pow(10,-k),b=XC[8+k/3];return function(A){return x(_*A)+b}}return{format:h,formatPrefix:p}}var vp,wj,F3;MY({thousands:",",grouping:[3],currency:["$",""]});function MY(t){return vp=RY(t),wj=vp.format,F3=vp.formatPrefix,vp}function DY(t){return Math.max(0,-Ic(Math.abs(t)))}function LY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ic(e)/3)))*3-Ic(Math.abs(t)))}function $Y(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ic(e)-Ic(t))+1}function V3(t,e,r,n){var i=W_(t,e,r),a;switch(n=Wd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=LY(i,l))&&(n.precision=a),F3(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=$Y(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=DY(i))&&(n.precision=a-(n.type==="%")*2);break}}return wj(n)}function io(t){var e=t.domain;return t.ticks=function(r){var n=e();return q_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return V3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,l=n[i],c=n[a],d,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=a,a=h);p-- >0;){if(h=z_(l,c,r),h===d)return n[i]=l,n[a]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function gm(){var t=xj();return t.copy=function(){return $h(t,gm())},yi.apply(t,arguments),io(t)}function B3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,pm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return B3(t).unknown(e)},t=arguments.length?Array.from(t,pm):[0,1],io(r)}function U3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),t[r]=e.floor(i),t[n]=e.ceil(a),t}function QC(t){return Math.log(t)}function JC(t){return Math.exp(t)}function FY(t){return-Math.log(-t)}function VY(t){return-Math.exp(-t)}function BY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function UY(t){return t===10?BY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZC(t){return(e,r)=>-t(-e,r)}function _j(t){const e=t(QC,JC),r=e.domain;let n=10,i,a;function l(){return i=qY(n),a=UY(n),r()[0]<0?(i=ZC(i),a=ZC(a),t(FY,VY)):t(QC,JC),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=i(h),x=i(p),k,_;const b=c==null?10:+c;let A=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(k=1;k<n;++k)if(_=y<0?k/a(-y):k*a(y),!(_<h)){if(_>p)break;A.push(_)}}else for(;y<=x;++y)for(k=n-1;k>=1;--k)if(_=y>0?k/a(-y):k*a(y),!(_<h)){if(_>p)break;A.push(_)}A.length*2<b&&(A=q_(h,p,b))}else A=q_(y,x,Math.min(x-y,b)).map(a);return m?A.reverse():A},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Wd(d)).precision==null&&(d.trim=!0),d=wj(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(U3(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function q3(){const t=_j(P0()).domain([1,10]);return t.copy=()=>$h(t,q3()).base(t.base()),yi.apply(t,arguments),t}function eI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kj(t){var e=1,r=t(eI(e),tI(e));return r.constant=function(n){return arguments.length?t(eI(e=+n),tI(e)):e},io(r)}function z3(){var t=kj(P0());return t.copy=function(){return $h(t,z3()).constant(t.constant())},yi.apply(t,arguments)}function rI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function WY(t){return t<0?-t*t:t*t}function jj(t){var e=t(hn,hn),r=1;function n(){return r===1?t(hn,hn):r===.5?t(zY,WY):t(rI(r),rI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},io(e)}function Sj(){var t=jj(P0());return t.copy=function(){return $h(t,Sj()).exponent(t.exponent())},yi.apply(t,arguments),t}function HY(){return Sj.apply(null,arguments).exponent(.5)}function nI(t){return Math.sign(t)*t*t}function GY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function W3(){var t=xj(),e=[0,1],r=!1,n;function i(a){var l=GY(t(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return t.invert(nI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,pm)).map(nI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yi.apply(i,arguments),io(i)}function H3(){var t=[],e=[],r=[],n;function i(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=JK(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?n:e[Dh(r,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Gs),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return H3().domain(t).range(e).unknown(n)},yi.apply(a,arguments)}function G3(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[Dh(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return G3().domain([t,e]).range(i).unknown(a)},yi.apply(io(l),arguments)}function K3(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Dh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return K3().domain(t).range(e).unknown(r)},yi.apply(i,arguments)}const rw=new Date,nw=new Date;function _r(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return d;let h;do d.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<l);return d},i.filter=a=>_r(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),r&&(i.count=(a,l)=>(rw.setTime(+a),nw.setTime(+l),t(rw),t(nw),Math.floor(r(rw,nw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const vm=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):vm);vm.range;const Da=1e3,fi=Da*60,La=fi*60,Ka=La*24,Nj=Ka*7,iI=Ka*30,iw=Ka*365,qo=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Da)},(t,e)=>(e-t)/Da,t=>t.getUTCSeconds());qo.range;const Ej=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Da)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());Ej.range;const Tj=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());Tj.range;const Aj=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Da-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getHours());Aj.range;const Pj=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*La)},(t,e)=>(e-t)/La,t=>t.getUTCHours());Pj.range;const Fh=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/Ka,t=>t.getDate()-1);Fh.range;const C0=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>t.getUTCDate()-1);C0.range;const Y3=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ka,t=>Math.floor(t/Ka));Y3.range;function pl(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fi)/Nj)}const I0=pl(0),ym=pl(1),KY=pl(2),YY=pl(3),Oc=pl(4),XY=pl(5),QY=pl(6);I0.range;ym.range;KY.range;YY.range;Oc.range;XY.range;QY.range;function ml(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Nj)}const O0=ml(0),xm=ml(1),JY=ml(2),ZY=ml(3),Rc=ml(4),eX=ml(5),tX=ml(6);O0.range;xm.range;JY.range;ZY.range;Rc.range;eX.range;tX.range;const Cj=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cj.range;const Ij=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ij.range;const Ya=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ya.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ya.range;const Xa=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xa.range;function X3(t,e,r,n,i,a){const l=[[qo,1,Da],[qo,5,5*Da],[qo,15,15*Da],[qo,30,30*Da],[a,1,fi],[a,5,5*fi],[a,15,15*fi],[a,30,30*fi],[i,1,La],[i,3,3*La],[i,6,6*La],[i,12,12*La],[n,1,Ka],[n,2,2*Ka],[r,1,Nj],[e,1,iI],[e,3,3*iI],[t,1,iw]];function c(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),k=x?x.range(h,+p+1):[];return y?k.reverse():k}function d(h,p,m){const y=Math.abs(p-h)/m,x=pj(([,,b])=>b).right(l,y);if(x===l.length)return t.every(W_(h/iw,p/iw,m));if(x===0)return vm.every(Math.max(W_(h,p,m),1));const[k,_]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return k.every(_)}return[c,d]}const[rX,nX]=X3(Xa,Ij,O0,Y3,Pj,Tj),[iX,aX]=X3(Ya,Cj,I0,Fh,Aj,Ej);function aw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ku(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function sX(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=Yu(i),p=Xu(i),m=Yu(a),y=Xu(a),x=Yu(l),k=Xu(l),_=Yu(c),b=Xu(c),A=Yu(d),E=Xu(d),P={a:se,A:te,b:Z,B:re,c:null,d:uI,e:uI,f:AX,g:FX,G:BX,H:NX,I:EX,j:TX,L:Q3,m:PX,M:CX,p:W,q:X,Q:fI,s:pI,S:IX,u:OX,U:RX,V:MX,w:DX,W:LX,x:null,X:null,y:$X,Y:VX,Z:UX,"%":hI},O={a:Y,A:le,b:ge,B:he,c:null,d:dI,e:dI,f:HX,g:rQ,G:iQ,H:qX,I:zX,j:WX,L:Z3,m:GX,M:KX,p:de,q:be,Q:fI,s:pI,S:YX,u:XX,U:QX,V:JX,w:ZX,W:eQ,x:null,X:null,y:tQ,Y:nQ,Z:aQ,"%":hI},N={a:M,A:R,b:F,B:$,c:ee,d:lI,e:lI,f:_X,g:oI,G:sI,H:cI,I:cI,j:yX,L:wX,m:vX,M:xX,p:L,q:gX,Q:jX,s:SX,S:bX,u:dX,U:hX,V:fX,w:uX,W:pX,x:ie,X:Q,y:oI,Y:sI,Z:mX,"%":kX};P.x=I(r,P),P.X=I(n,P),P.c=I(e,P),O.x=I(r,O),O.X=I(n,O),O.c=I(e,O);function I(q,me){return function(xe){var U=[],ue=-1,_e=0,Ie=q.length,Ue,Qt,pr;for(xe instanceof Date||(xe=new Date(+xe));++ue<Ie;)q.charCodeAt(ue)===37&&(U.push(q.slice(_e,ue)),(Qt=aI[Ue=q.charAt(++ue)])!=null?Ue=q.charAt(++ue):Qt=Ue==="e"?" ":"0",(pr=me[Ue])&&(Ue=pr(xe,Qt)),U.push(Ue),_e=ue+1);return U.push(q.slice(_e,ue)),U.join("")}}function T(q,me){return function(xe){var U=Ku(1900,void 0,1),ue=C(U,q,xe+="",0),_e,Ie;if(ue!=xe.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(me&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(_e=sw(Ku(U.y,0,1)),Ie=_e.getUTCDay(),_e=Ie>4||Ie===0?xm.ceil(_e):xm(_e),_e=C0.offset(_e,(U.V-1)*7),U.y=_e.getUTCFullYear(),U.m=_e.getUTCMonth(),U.d=_e.getUTCDate()+(U.w+6)%7):(_e=aw(Ku(U.y,0,1)),Ie=_e.getDay(),_e=Ie>4||Ie===0?ym.ceil(_e):ym(_e),_e=Fh.offset(_e,(U.V-1)*7),U.y=_e.getFullYear(),U.m=_e.getMonth(),U.d=_e.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Ie="Z"in U?sw(Ku(U.y,0,1)).getUTCDay():aw(Ku(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Ie+5)%7:U.w+U.U*7-(Ie+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,sw(U)):aw(U)}}function C(q,me,xe,U){for(var ue=0,_e=me.length,Ie=xe.length,Ue,Qt;ue<_e;){if(U>=Ie)return-1;if(Ue=me.charCodeAt(ue++),Ue===37){if(Ue=me.charAt(ue++),Qt=N[Ue in aI?me.charAt(ue++):Ue],!Qt||(U=Qt(q,xe,U))<0)return-1}else if(Ue!=xe.charCodeAt(U++))return-1}return U}function L(q,me,xe){var U=h.exec(me.slice(xe));return U?(q.p=p.get(U[0].toLowerCase()),xe+U[0].length):-1}function M(q,me,xe){var U=x.exec(me.slice(xe));return U?(q.w=k.get(U[0].toLowerCase()),xe+U[0].length):-1}function R(q,me,xe){var U=m.exec(me.slice(xe));return U?(q.w=y.get(U[0].toLowerCase()),xe+U[0].length):-1}function F(q,me,xe){var U=A.exec(me.slice(xe));return U?(q.m=E.get(U[0].toLowerCase()),xe+U[0].length):-1}function $(q,me,xe){var U=_.exec(me.slice(xe));return U?(q.m=b.get(U[0].toLowerCase()),xe+U[0].length):-1}function ee(q,me,xe){return C(q,e,me,xe)}function ie(q,me,xe){return C(q,r,me,xe)}function Q(q,me,xe){return C(q,n,me,xe)}function se(q){return l[q.getDay()]}function te(q){return a[q.getDay()]}function Z(q){return d[q.getMonth()]}function re(q){return c[q.getMonth()]}function W(q){return i[+(q.getHours()>=12)]}function X(q){return 1+~~(q.getMonth()/3)}function Y(q){return l[q.getUTCDay()]}function le(q){return a[q.getUTCDay()]}function ge(q){return d[q.getUTCMonth()]}function he(q){return c[q.getUTCMonth()]}function de(q){return i[+(q.getUTCHours()>=12)]}function be(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var me=I(q+="",P);return me.toString=function(){return q},me},parse:function(q){var me=T(q+="",!1);return me.toString=function(){return q},me},utcFormat:function(q){var me=I(q+="",O);return me.toString=function(){return q},me},utcParse:function(q){var me=T(q+="",!0);return me.toString=function(){return q},me}}}var aI={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,oX=/^%/,lX=/[\\^$*+?|[\]().{}]/g;function ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function cX(t){return t.replace(lX,"\\$&")}function Yu(t){return new RegExp("^(?:"+t.map(cX).join("|")+")","i")}function Xu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function uX(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dX(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function hX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function pX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function sI(t,e,r){var n=Cr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function oI(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gX(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function vX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function lI(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function yX(t,e,r){var n=Cr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function cI(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function xX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function bX(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function wX(t,e,r){var n=Cr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _X(t,e,r){var n=Cr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function kX(t,e,r){var n=oX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jX(t,e,r){var n=Cr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function SX(t,e,r){var n=Cr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function uI(t,e){return ft(t.getDate(),e,2)}function NX(t,e){return ft(t.getHours(),e,2)}function EX(t,e){return ft(t.getHours()%12||12,e,2)}function TX(t,e){return ft(1+Fh.count(Ya(t),t),e,3)}function Q3(t,e){return ft(t.getMilliseconds(),e,3)}function AX(t,e){return Q3(t,e)+"000"}function PX(t,e){return ft(t.getMonth()+1,e,2)}function CX(t,e){return ft(t.getMinutes(),e,2)}function IX(t,e){return ft(t.getSeconds(),e,2)}function OX(t){var e=t.getDay();return e===0?7:e}function RX(t,e){return ft(I0.count(Ya(t)-1,t),e,2)}function J3(t){var e=t.getDay();return e>=4||e===0?Oc(t):Oc.ceil(t)}function MX(t,e){return t=J3(t),ft(Oc.count(Ya(t),t)+(Ya(t).getDay()===4),e,2)}function DX(t){return t.getDay()}function LX(t,e){return ft(ym.count(Ya(t)-1,t),e,2)}function $X(t,e){return ft(t.getFullYear()%100,e,2)}function FX(t,e){return t=J3(t),ft(t.getFullYear()%100,e,2)}function VX(t,e){return ft(t.getFullYear()%1e4,e,4)}function BX(t,e){var r=t.getDay();return t=r>=4||r===0?Oc(t):Oc.ceil(t),ft(t.getFullYear()%1e4,e,4)}function UX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function dI(t,e){return ft(t.getUTCDate(),e,2)}function qX(t,e){return ft(t.getUTCHours(),e,2)}function zX(t,e){return ft(t.getUTCHours()%12||12,e,2)}function WX(t,e){return ft(1+C0.count(Xa(t),t),e,3)}function Z3(t,e){return ft(t.getUTCMilliseconds(),e,3)}function HX(t,e){return Z3(t,e)+"000"}function GX(t,e){return ft(t.getUTCMonth()+1,e,2)}function KX(t,e){return ft(t.getUTCMinutes(),e,2)}function YX(t,e){return ft(t.getUTCSeconds(),e,2)}function XX(t){var e=t.getUTCDay();return e===0?7:e}function QX(t,e){return ft(O0.count(Xa(t)-1,t),e,2)}function eL(t){var e=t.getUTCDay();return e>=4||e===0?Rc(t):Rc.ceil(t)}function JX(t,e){return t=eL(t),ft(Rc.count(Xa(t),t)+(Xa(t).getUTCDay()===4),e,2)}function ZX(t){return t.getUTCDay()}function eQ(t,e){return ft(xm.count(Xa(t)-1,t),e,2)}function tQ(t,e){return ft(t.getUTCFullYear()%100,e,2)}function rQ(t,e){return t=eL(t),ft(t.getUTCFullYear()%100,e,2)}function nQ(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function iQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Rc(t):Rc.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function aQ(){return"+0000"}function hI(){return"%"}function fI(t){return+t}function pI(t){return Math.floor(+t/1e3)}var Jl,tL,rL;sQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sQ(t){return Jl=sX(t),tL=Jl.format,Jl.parse,rL=Jl.utcFormat,Jl.utcParse,Jl}function oQ(t){return new Date(t)}function lQ(t){return t instanceof Date?+t:+new Date(+t)}function Oj(t,e,r,n,i,a,l,c,d,h){var p=xj(),m=p.invert,y=p.domain,x=h(".%L"),k=h(":%S"),_=h("%I:%M"),b=h("%I %p"),A=h("%a %d"),E=h("%b %d"),P=h("%B"),O=h("%Y");function N(I){return(d(I)<I?x:c(I)<I?k:l(I)<I?_:a(I)<I?b:n(I)<I?i(I)<I?A:E:r(I)<I?P:O)(I)}return p.invert=function(I){return new Date(m(I))},p.domain=function(I){return arguments.length?y(Array.from(I,lQ)):y().map(oQ)},p.ticks=function(I){var T=y();return t(T[0],T[T.length-1],I??10)},p.tickFormat=function(I,T){return T==null?N:h(T)},p.nice=function(I){var T=y();return(!I||typeof I.range!="function")&&(I=e(T[0],T[T.length-1],I??10)),I?y(U3(T,I)):p},p.copy=function(){return $h(p,Oj(t,e,r,n,i,a,l,c,d,h))},p}function cQ(){return yi.apply(Oj(iX,aX,Ya,Cj,I0,Fh,Aj,Ej,qo,tL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uQ(){return yi.apply(Oj(rX,nX,Xa,Ij,O0,C0,Pj,Tj,qo,rL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function R0(){var t=0,e=1,r,n,i,a,l=hn,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(a(m)-r)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var x,k;return arguments.length?([x,k]=y,l=m(x,k),h):[l(0),l(1)]}}return h.range=p(ou),h.rangeRound=p(yj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),h}}function ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nL(){var t=io(R0()(hn));return t.copy=function(){return ao(t,nL())},es.apply(t,arguments)}function iL(){var t=_j(R0()).domain([1,10]);return t.copy=function(){return ao(t,iL()).base(t.base())},es.apply(t,arguments)}function aL(){var t=kj(R0());return t.copy=function(){return ao(t,aL()).constant(t.constant())},es.apply(t,arguments)}function Rj(){var t=jj(R0());return t.copy=function(){return ao(t,Rj()).exponent(t.exponent())},es.apply(t,arguments)}function dQ(){return Rj.apply(null,arguments).exponent(.5)}function sL(){var t=[],e=hn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Dh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>QK(t,a/n))},r.copy=function(){return sL(e).domain(t)},es.apply(r,arguments)}function M0(){var t=0,e=.5,r=1,n=1,i,a,l,c,d,h=hn,p,m=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+p(_))-a)*(n*_<n*a?c:d),h(m?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),a=p(e=+e),l=p(r=+r),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(m=!!_,x):m},x.interpolator=function(_){return arguments.length?(h=_,x):h};function k(_){return function(b){var A,E,P;return arguments.length?([A,E,P]=b,h=kY(_,[A,E,P]),x):[h(0),h(.5),h(1)]}}return x.range=k(ou),x.rangeRound=k(yj),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return p=_,i=_(t),a=_(e),l=_(r),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,x}}function oL(){var t=io(M0()(hn));return t.copy=function(){return ao(t,oL())},es.apply(t,arguments)}function lL(){var t=_j(M0()).domain([.1,1,10]);return t.copy=function(){return ao(t,lL()).base(t.base())},es.apply(t,arguments)}function cL(){var t=kj(M0());return t.copy=function(){return ao(t,cL()).constant(t.constant())},es.apply(t,arguments)}function Mj(){var t=jj(M0());return t.copy=function(){return ao(t,Mj()).exponent(t.exponent())},es.apply(t,arguments)}function hQ(){return Mj.apply(null,arguments).exponent(.5)}const mI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Bd,scaleDiverging:oL,scaleDivergingLog:lL,scaleDivergingPow:Mj,scaleDivergingSqrt:hQ,scaleDivergingSymlog:cL,scaleIdentity:B3,scaleImplicit:H_,scaleLinear:gm,scaleLog:q3,scaleOrdinal:mj,scalePoint:vd,scalePow:Sj,scaleQuantile:H3,scaleQuantize:G3,scaleRadial:W3,scaleSequential:nL,scaleSequentialLog:iL,scaleSequentialPow:Rj,scaleSequentialQuantile:sL,scaleSequentialSqrt:dQ,scaleSequentialSymlog:aL,scaleSqrt:HY,scaleSymlog:z3,scaleThreshold:K3,scaleTime:cQ,scaleUtc:uQ,tickFormat:V3},Symbol.toStringTag,{value:"Module"}));var ow,gI;function D0(){if(gI)return ow;gI=1;var t=nu();function e(r,n,i){for(var a=-1,l=r.length;++a<l;){var c=r[a],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,p=c}return p}return ow=e,ow}var lw,vI;function uL(){if(vI)return lw;vI=1;function t(e,r){return e>r}return lw=t,lw}var cw,yI;function fQ(){if(yI)return cw;yI=1;var t=D0(),e=uL(),r=au();function n(i){return i&&i.length?t(i,r,e):void 0}return cw=n,cw}var pQ=fQ();const L0=yt(pQ);var uw,xI;function dL(){if(xI)return uw;xI=1;function t(e,r){return e<r}return uw=t,uw}var dw,bI;function mQ(){if(bI)return dw;bI=1;var t=D0(),e=dL(),r=au();function n(i){return i&&i.length?t(i,r,e):void 0}return dw=n,dw}var gQ=mQ();const $0=yt(gQ);var hw,wI;function vQ(){if(wI)return hw;wI=1;var t=X1(),e=pa(),r=x3(),n=Pn();function i(a,l){var c=n(a)?t:r;return c(a,e(l,3))}return hw=i,hw}var fw,_I;function yQ(){if(_I)return fw;_I=1;var t=v3(),e=vQ();function r(n,i){return t(e(n,i),1)}return fw=r,fw}var xQ=yQ();const bQ=yt(xQ);var pw,kI;function wQ(){if(kI)return pw;kI=1;var t=cj();function e(r,n){return t(r,n)}return pw=e,pw}var _Q=wQ();const F0=yt(_Q);var lu=1e9,kQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lj,qt=!0,vi="[DecimalError] ",Ko=vi+"Invalid argument: ",Dj=vi+"Exponent out of range: ",cu=Math.floor,Do=Math.pow,jQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,Ar=1e7,Lt=7,hL=9007199254740991,bm=cu(hL/Lt),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Lt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(t){return Ba(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,r=e.constructor;return St(Ba(e,new r(t),0,1),r.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return fr(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(zn))throw Error(vi+"NaN");if(r.s<1)throw Error(vi+(r.s?"NaN":"-Infinity"));return r.eq(zn)?new n(0):(qt=!1,e=Ba(Hd(r,a),Hd(t,a),a),qt=!0,St(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mL(e,t):fL(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(vi+"NaN");return r.s?(qt=!1,e=Ba(r,t,0,1).times(t),qt=!0,r.minus(e)):St(new n(r),i)};Me.naturalExponential=Me.exp=function(){return pL(this)};Me.naturalLogarithm=Me.ln=function(){return Hd(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fL(e,t):mL(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ko+t);if(e=fr(i)+1,n=i.d.length-1,r=n*Lt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Me.squareRoot=Me.sqrt=function(){var t,e,r,n,i,a,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(vi+"NaN")}for(t=fr(c),qt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ea(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(a=n,n=a.plus(Ba(c,a,l+2)).times(.5),ea(a.d).slice(0,l)===(e=ea(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(St(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;l+=4}return qt=!0,St(n,r)};Me.times=Me.mul=function(t){var e,r,n,i,a,l,c,d,h,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,h=x.length,d<h&&(a=y,y=x,x=a,l=d,d=h,h=l),a=[],l=d+h,n=l;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)c=a[i]+x[n]*y[i-n-1]+e,a[i--]=c%Ar|0,e=c/Ar|0;a[i]=(a[i]+e)%Ar|0}for(;!a[--l];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,qt?St(t,m.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ua(t,0,lu),e===void 0?e=n.rounding:ua(e,0,8),St(r,t+fr(r)+1,e))};Me.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=al(n,!0):(ua(t,0,lu),e===void 0?e=i.rounding:ua(e,0,8),n=St(new i(n),t+1,e),r=al(n,!0,t+1)),r};Me.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?al(i):(ua(t,0,lu),e===void 0?e=a.rounding:ua(e,0,8),n=St(new a(i),t+fr(i)+1,e),r=al(n.abs(),!1,t+fr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return St(new e(t),fr(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,r,n,i,a,l,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(zn);if(c=new d(c),!c.s){if(t.s<1)throw Error(vi+"Infinity");return c}if(c.eq(zn))return c;if(n=d.precision,t.eq(zn))return St(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,a=c.s,l){if((r=p<0?-p:p)<=hL){for(i=new d(zn),e=Math.ceil(n/Lt+4),qt=!1;r%2&&(i=i.times(c),SI(i.d,e)),r=cu(r/2),r!==0;)c=c.times(c),SI(c.d,e);return qt=!0,t.s<0?new d(zn).div(i):St(i,n)}}else if(a<0)throw Error(vi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,qt=!1,i=t.times(Hd(c,n+h)),qt=!0,i=pL(i),i.s=a,i};Me.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=fr(i),n=al(i,r<=a.toExpNeg||r>=a.toExpPos)):(ua(t,1,lu),e===void 0?e=a.rounding:ua(e,0,8),i=St(new a(i),t,e),r=fr(i),n=al(i,t<=r||r<=a.toExpNeg,t)),n};Me.toSignificantDigits=Me.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ua(t,1,lu),e===void 0?e=n.rounding:ua(e,0,8)),St(new n(r),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fr(t),r=t.constructor;return al(t,e<=r.toExpNeg||e>=r.toExpPos)};function fL(t,e){var r,n,i,a,l,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),qt?St(e,m):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(n=d,a=-a,c=h.length):(n=h,i=l,c=d.length),l=Math.ceil(m/Lt),c=l>c?l+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=h.length,c-a<0&&(a=c,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/Ar|0,d[a]%=Ar;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,qt?St(e,m):e}function ua(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ko+t)}function ea(t){var e,r,n,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)n=t[e]+"",r=Lt-n.length,r&&(a+=Is(r)),a+=n;l=t[e],n=l+"",r=Lt-n.length,r&&(a+=Is(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Ba=function(){function t(n,i){var a,l=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+l,n[c]=a%Ar|0,l=a/Ar|0;return l&&n.unshift(l),n}function e(n,i,a,l){var c,d;if(a!=l)d=a>l?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*Ar+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var c,d,h,p,m,y,x,k,_,b,A,E,P,O,N,I,T,C,L=n.constructor,M=n.s==i.s?1:-1,R=n.d,F=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(vi+"Division by zero");for(d=n.e-i.e,T=F.length,N=R.length,x=new L(M),k=x.d=[],h=0;F[h]==(R[h]||0);)++h;if(F[h]>(R[h]||0)&&--d,a==null?E=a=L.precision:l?E=a+(fr(n)-fr(i))+1:E=a,E<0)return new L(0);if(E=E/Lt+2|0,h=0,T==1)for(p=0,F=F[0],E++;(h<N||p)&&E--;h++)P=p*Ar+(R[h]||0),k[h]=P/F|0,p=P%F|0;else{for(p=Ar/(F[0]+1)|0,p>1&&(F=t(F,p),R=t(R,p),T=F.length,N=R.length),O=T,_=R.slice(0,T),b=_.length;b<T;)_[b++]=0;C=F.slice(),C.unshift(0),I=F[0],F[1]>=Ar/2&&++I;do p=0,c=e(F,_,T,b),c<0?(A=_[0],T!=b&&(A=A*Ar+(_[1]||0)),p=A/I|0,p>1?(p>=Ar&&(p=Ar-1),m=t(F,p),y=m.length,b=_.length,c=e(m,_,y,b),c==1&&(p--,r(m,T<y?C:F,y))):(p==0&&(c=p=1),m=F.slice()),y=m.length,y<b&&m.unshift(0),r(_,m,b),c==-1&&(b=_.length,c=e(F,_,T,b),c<1&&(p++,r(_,T<b?C:F,b))),b=_.length):c===0&&(p++,_=[0]),k[h++]=p,c&&_[0]?_[b++]=R[O]||0:(_=[R[O]],b=1);while((O++<N||_[0]!==void 0)&&E--)}return k[0]||k.shift(),x.e=d,St(x,l?a+fr(x)+1:a)}}();function pL(t,e){var r,n,i,a,l,c,d=0,h=0,p=t.constructor,m=p.precision;if(fr(t)>16)throw Error(Dj+fr(t));if(!t.s)return new p(zn);for(qt=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Do(2,h))/Math.LN10*2+5|0,c+=n,r=i=a=new p(zn),p.precision=c;;){if(i=St(i.times(t),c),r=r.times(++d),l=a.plus(Ba(i,r,c)),ea(l.d).slice(0,c)===ea(a.d).slice(0,c)){for(;h--;)a=St(a.times(a),c);return p.precision=m,e==null?(qt=!0,St(a,m)):a}a=l}}function fr(t){for(var e=t.e*Lt,r=t.d[0];r>=10;r/=10)e++;return e}function mw(t,e,r){if(e>t.LN10.sd())throw qt=!0,r&&(t.precision=r),Error(vi+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Is(t){for(var e="";t--;)e+="0";return e}function Hd(t,e){var r,n,i,a,l,c,d,h,p,m=1,y=10,x=t,k=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(vi+(x.s?"NaN":"-Infinity"));if(x.eq(zn))return new _(0);if(e==null?(qt=!1,h=b):h=e,x.eq(10))return e==null&&(qt=!0),mw(_,h);if(h+=y,_.precision=h,r=ea(k),n=r.charAt(0),a=fr(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=ea(x.d),n=r.charAt(0),m++;a=fr(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return d=mw(_,h+2,b).times(a+""),x=Hd(new _(n+"."+r.slice(1)),h-y).plus(d),_.precision=b,e==null?(qt=!0,St(x,b)):x;for(c=l=x=Ba(x.minus(zn),x.plus(zn),h),p=St(x.times(x),h),i=3;;){if(l=St(l.times(p),h),d=c.plus(Ba(l,new _(i),h)),ea(d.d).slice(0,h)===ea(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(mw(_,h+2,b).times(a+""))),c=Ba(c,new _(m),h),_.precision=b,e==null?(qt=!0,St(c,b)):c;c=d,i+=2}}function jI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=cu(r/Lt),t.d=[],n=(r+1)%Lt,r<0&&(n+=Lt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Lt;n<i;)t.d.push(+e.slice(n,n+=Lt));e=e.slice(n),n=Lt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),qt&&(t.e>bm||t.e<-bm))throw Error(Dj+r)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,r){var n,i,a,l,c,d,h,p,m=t.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(n=e-l,n<0)n+=Lt,i=e,h=m[p=0];else{if(p=Math.ceil((n+1)/Lt),a=m.length,p>=a)return t;for(h=a=m[p],l=1;a>=10;a/=10)l++;n%=Lt,i=n-Lt+l}if(r!==void 0&&(a=Do(10,l-i-1),c=h/a%10|0,d=e<0||m[p+1]!==void 0||h%a,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/Do(10,l-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(a=fr(t),m.length=1,e=e-a-1,m[0]=Do(10,(Lt-e%Lt)%Lt),t.e=cu(-e/Lt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=Do(10,Lt-n),m[p]=i>0?(h/Do(10,l-i)%Do(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Ar&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=Ar)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(qt&&(t.e>bm||t.e<-bm))throw Error(Dj+fr(t));return t}function mL(t,e){var r,n,i,a,l,c,d,h,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),qt?St(e,x):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,c=m.length):(r=m,n=h,c=d.length),i=Math.max(Math.ceil(x/Lt),c)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}l=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=Ar-1;--d[a],d[i]+=Ar}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,qt?St(e,x):e):new y(0)}function al(t,e,r){var n,i=fr(t),a=ea(t.d),l=a.length;return e?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+Is(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Is(-i-1)+a,r&&(n=r-l)>0&&(a+=Is(n))):i>=l?(a+=Is(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+Is(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=Is(n))),t.s<0?"-"+a:a}function SI(t,e){if(t.length>e)return t.length=e,!0}function gL(t){var e,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ko+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return jI(l,a.toString())}else if(typeof a!="string")throw Error(Ko+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,jQ.test(a))jI(l,a);else throw Error(Ko+a)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gL,i.config=i.set=SQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function SQ(t){if(!t||typeof t!="object")throw Error(vi+"Object expected");var e,r,n,i=["precision",1,lu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(cu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ko+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ko+r+": "+n);return this}var Lj=gL(kQ);zn=new Lj(1);const kt=Lj;function NQ(t){return PQ(t)||AQ(t)||TQ(t)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return X_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(t,e)}}function AQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PQ(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var CQ=function(e){return e},vL={},yL=function(e){return e===vL},NI=function(e){return function r(){return arguments.length===0||arguments.length===1&&yL(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},IQ=function t(e,r){return e===1?r:NI(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var l=i.filter(function(c){return c!==vL}).length;return l>=e?r.apply(void 0,i):t(e-l,NI(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=i.map(function(m){return yL(m)?d.shift():m});return r.apply(void 0,NQ(p).concat(d))}))})},V0=function(e){return IQ(e.length,e)},Q_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},OQ=V0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),RQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return CQ;var i=r.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce(function(c,d){return d(c)},a.apply(void 0,arguments))}},J_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r&&a.every(function(c,d){return c===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function MQ(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function DQ(t,e,r){for(var n=new kt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var LQ=V0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),$Q=V0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),FQ=V0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const B0={rangeStep:DQ,getDigitCount:MQ,interpolateNumber:LQ,uninterpolateNumber:$Q,uninterpolateTruncation:FQ};function Z_(t){return UQ(t)||BQ(t)||bL(t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function UQ(t){if(Array.isArray(t))return ek(t)}function Gd(t,e){return WQ(t)||zQ(t,e)||bL(t,e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var l=t[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(i)throw a}}return r}}function WQ(t){if(Array.isArray(t))return t}function wL(t){var e=Gd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function _L(t,e,r){if(t.lte(0))return new kt(0);var n=B0.getDigitCount(t.toNumber()),i=new kt(10).pow(n),a=t.div(i),l=n!==1?.05:.1,c=new kt(Math.ceil(a.div(l).toNumber())).add(r).mul(l),d=c.mul(i);return e?d:new kt(Math.ceil(d))}function HQ(t,e,r){var n=1,i=new kt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new kt(10).pow(B0.getDigitCount(t)-1),i=new kt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new kt(Math.floor(t)))}else t===0?i=new kt(Math.floor((e-1)/2)):r||(i=new kt(Math.floor(t)));var l=Math.floor((e-1)/2),c=RQ(OQ(function(d){return i.add(new kt(d-l).mul(n)).toNumber()}),Q_);return c(0,e)}function kL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var a=_L(new kt(e).sub(t).div(r-1),n,i),l;t<=0&&e>=0?l=new kt(0):(l=new kt(t).add(e).div(2),l=l.sub(new kt(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),d=Math.ceil(new kt(e).sub(l).div(a).toNumber()),h=c+d+1;return h>r?kL(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:a,tickMin:l.sub(new kt(c).mul(a)),tickMax:l.add(new kt(d).mul(a))})}function GQ(t){var e=Gd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=wL([r,n]),d=Gd(c,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Z_(Q_(0,i-1).map(function(){return 1/0}))):[].concat(Z_(Q_(0,i-1).map(function(){return-1/0})),[p]);return r>n?J_(m):m}if(h===p)return HQ(h,i,a);var y=kL(h,p,l,a),x=y.step,k=y.tickMin,_=y.tickMax,b=B0.rangeStep(k,_.add(new kt(.1).mul(x)),x);return r>n?J_(b):b}function KQ(t,e){var r=Gd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=wL([n,i]),c=Gd(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var p=Math.max(e,2),m=_L(new kt(h).sub(d).div(p-1),a,0),y=[].concat(Z_(B0.rangeStep(new kt(d),new kt(h).sub(new kt(.99).mul(m)),m)),[h]);return n>i?J_(y):y}var YQ=xL(GQ),XQ=xL(KQ),QQ="Invariant failed";function sl(t,e){throw new Error(QQ)}var JQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wm.apply(this,arguments)}function ZQ(t,e){return nJ(t)||rJ(t,e)||tJ(t,e)||eJ()}function eJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJ(t,e){if(t){if(typeof t=="string")return EI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function nJ(t){if(Array.isArray(t))return t}function iJ(t,e){if(t==null)return{};var r=aJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function lJ(t,e,r){return e&&oJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJ(t,e,r){return e=_m(e),uJ(t,jL()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function uJ(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJ(t)}function dJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function hJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tk(t,e)}function tk(t,e){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tk(t,e)}function SL(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=fJ(t,"string");return Mc(e)=="symbol"?e:e+""}function fJ(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U0=function(t){function e(){return sJ(this,e),cJ(this,e,arguments)}return hJ(e,t),lJ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,l=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=iJ(n,JQ),x=Ye(y,!1);this.props.direction==="x"&&p.type!=="number"&&sl();var k=d.map(function(_){var b=h(_,c),A=b.x,E=b.y,P=b.value,O=b.errorVal;if(!O)return null;var N=[],I,T;if(Array.isArray(O)){var C=ZQ(O,2);I=C[0],T=C[1]}else I=T=O;if(a==="vertical"){var L=p.scale,M=E+i,R=M+l,F=M-l,$=L(P-I),ee=L(P+T);N.push({x1:ee,y1:R,x2:ee,y2:F}),N.push({x1:$,y1:M,x2:ee,y2:M}),N.push({x1:$,y1:R,x2:$,y2:F})}else if(a==="horizontal"){var ie=m.scale,Q=A+i,se=Q-l,te=Q+l,Z=ie(P-I),re=ie(P+T);N.push({x1:se,y1:re,x2:te,y2:re}),N.push({x1:Q,y1:Z,x2:Q,y2:re}),N.push({x1:se,y1:Z,x2:te,y2:Z})}return K.createElement(bt,wm({className:"recharts-errorBar",key:"bar-".concat(N.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),N.map(function(W){return K.createElement("line",wm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return K.createElement(bt,{className:"recharts-errorBars"},k)}}])}(K.Component);SL(U0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});SL(U0,"displayName","ErrorBar");function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){pJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pJ(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Kd(e)=="symbol"?e:e+""}function gJ(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,l=qn(r,Hs);if(!l)return null;var c=Hs.defaultProps,d=c!==void 0?Co(Co({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:a==="children"?h=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,k=x.sectors||x.data||[];return p.concat(k.map(function(_){return{type:l.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):h=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Co(Co({},y),m.props):{},k=x.dataKey,_=x.name,b=x.legendType,A=x.hide;return{inactive:A,dataKey:k,type:d.iconType||b||"square",color:$j(m),value:_||k,payload:x}}),Co(Co(Co({},d),Hs.getWithHeight(l,i)),{},{payload:h,item:l})};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function AI(t){return bJ(t)||xJ(t)||yJ(t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function xJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bJ(t){if(Array.isArray(t))return rk(t)}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){yc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yc(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=_J(t,"string");return Yd(e)=="symbol"?e:e+""}function _J(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function en(t,e,r){return it(t)||it(e)?r:br(e)?Yn(t,e,r):Qe(e)?e(t):r}function yd(t,e,r,n){var i=bQ(t,function(c){return en(c,e)});if(r==="number"){var a=i.filter(function(c){return Te(c)||parseFloat(c)});return a.length?[$0(a),L0(a)]:[1/0,-1/0]}var l=n?i.filter(function(c){return!it(c)}):i;return l.map(function(c){return br(c)||c instanceof Date?c:""})}var kJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,y=h>=c-1?i[0].coordinate:i[h+1].coordinate,x=void 0;if(un(m-p)!==un(y-m)){var k=[];if(un(y-m)===un(d[1]-d[0])){x=y;var _=m+d[1]-d[0];k[0]=Math.min(_,(_+p)/2),k[1]=Math.max(_,(_+p)/2)}else{x=p;var b=y+d[1]-d[0];k[0]=Math.min(m,(b+m)/2),k[1]=Math.max(m,(b+m)/2)}var A=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>A[0]&&e<=A[1]||e>=k[0]&&e<=k[1]){l=i[h].index;break}}else{var E=Math.min(p,y),P=Math.max(p,y);if(e>(E+m)/2&&e<=(P+m)/2){l=i[h].index;break}}}else for(var O=0;O<c;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<c-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===c-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){l=n[O].index;break}return l},$j=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?er(er({},e.type.defaultProps),e.props):e.props,l=a.stroke,c=a.fill,d;switch(i){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:c;break;default:d=c;break}return d},jJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var l={},c=Object.keys(a),d=0,h=c.length;d<h;d++)for(var p=a[c[d]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var k=p[m[y]],_=k.items,b=k.cateAxisId,A=_.filter(function(T){return Va(T.type).indexOf("Bar")>=0});if(A&&A.length){var E=A[0].type.defaultProps,P=E!==void 0?er(er({},E),A[0].props):A[0].props,O=P.barSize,N=P[b];l[N]||(l[N]=[]);var I=it(O)?r:O;l[N].push({item:A[0],stackList:A.slice(1),barSize:it(I)?void 0:dn(I,n,0)})}}return l},SJ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,l=a===void 0?[]:a,c=e.maxBarSize,d=l.length;if(d<1)return null;var h=dn(r,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var y=!1,x=i/d,k=l.reduce(function(O,N){return O+N.barSize||0},0);k+=(d-1)*h,k>=i&&(k-=(d-1)*h,h=0),k>=i&&x>0&&(y=!0,x*=.9,k=d*x);var _=(i-k)/2>>0,b={offset:_-h,size:0};p=l.reduce(function(O,N){var I={item:N.item,position:{offset:b.offset+b.size+h,size:y?x:N.barSize}},T=[].concat(AI(O),[I]);return b=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){T.push({item:C,position:b})}),T},m)}else{var A=dn(n,i,0,!0);i-2*A-(d-1)*h<=0&&(h=0);var E=(i-2*A-(d-1)*h)/d;E>1&&(E>>=0);var P=c===+c?Math.min(E,c):E;p=l.reduce(function(O,N,I){var T=[].concat(AI(O),[{item:N.item,position:{offset:A+(E+h)*I+(E-P)/2,size:P}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},m)}return p},NJ=function(e,r,n,i){var a=n.children,l=n.width,c=n.margin,d=l-(c.left||0)-(c.right||0),h=EL({children:a,legendWidth:d});if(h){var p=i||{},m=p.width,y=p.height,x=h.align,k=h.verticalAlign,_=h.layout;if((_==="vertical"||_==="horizontal"&&k==="middle")&&x!=="center"&&Te(e[x]))return er(er({},e),{},yc({},x,e[x]+(m||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&k!=="middle"&&Te(e[k]))return er(er({},e),{},yc({},k,e[k]+(y||0)))}return e},EJ=function(e,r,n){return it(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TL=function(e,r,n,i,a){var l=r.props.children,c=pi(l,U0).filter(function(h){return EJ(i,a,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=en(p,n);if(it(m))return h;var y=Array.isArray(m)?[$0(m),L0(m)]:[m,m],x=d.reduce(function(k,_){var b=en(p,_,0),A=y[0]-Math.abs(Array.isArray(b)?b[0]:b),E=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(A,k[0]),Math.max(E,k[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0])}return null},TJ=function(e,r,n,i,a){var l=r.map(function(c){return TL(e,c,n,a,i)}).filter(function(c){return!it(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},AL=function(e,r,n,i,a){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&TL(e,d,h,i)||yd(e,h,n,a)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,d.push(h[p]));return d},[])},PL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},CL=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,l,c=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(l=!0),d.coordinate});return a||c.push(r),l||c.push(n),c},$a=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,l=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&l==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?un(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+h,value:m,offset:h}});return p.filter(function(m){return!Oh(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+h,value:m,index:y,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,y){return{coordinate:i(m)+h,value:a?a[m]:m,index:y,offset:h}})},gw=new WeakMap,yp=function(e,r){if(typeof r!="function")return e;gw.has(e)||gw.set(e,new WeakMap);var n=gw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},IL=function(e,r,n){var i=e.scale,a=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Bd(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:gm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vd(),realScaleType:"point"}:a==="category"?{scale:Bd(),realScaleType:"band"}:{scale:gm(),realScaleType:"linear"};if(rl(i)){var d="scale".concat(_0(i));return{scale:(mI[d]||vd)(),realScaleType:mI[d]?d:"point"}}return Qe(i)?{scale:i}:{scale:vd(),realScaleType:"point"}},CI=1e-4,OL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-CI,l=Math.max(i[0],i[1])+CI,c=e(r[0]),d=e(r[n-1]);(c<a||c>l||d<a||d>l)&&e.domain([r[0],r[n-1]])}},AJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},PJ=function(e,r){if(!r||r.length!==2||!Te(r[0])||!Te(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Te(e[0])||e[0]<n)&&(a[0]=n),(!Te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},CJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,l=0,c=0;c<r;++c){var d=Oh(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=a,e[c][n][1]=a+d,a=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},IJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,l=0;l<r;++l){var c=Oh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},OJ={sign:CJ,expand:bW,none:Ec,silhouette:wW,wiggle:_W,positive:IJ},RJ=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),a=OJ[n],l=xW().keys(i).value(function(c,d){return+en(c,d,0)}).order(I_).offset(a);return l(e)},MJ=function(e,r,n,i,a,l){if(!e)return null;var c=l?r.reverse():r,d={},h=c.reduce(function(m,y){var x,k=(x=y.type)!==null&&x!==void 0&&x.defaultProps?er(er({},y.type.defaultProps),y.props):y.props,_=k.stackId,b=k.hide;if(b)return m;var A=k[n],E=m[A]||{hasStack:!1,stackGroups:{}};if(br(_)){var P=E.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};P.items.push(y),E.hasStack=!0,E.stackGroups[_]=P}else E.stackGroups[Rh("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return er(er({},m),{},yc({},A,E))},d),p={};return Object.keys(h).reduce(function(m,y){var x=h[y];if(x.hasStack){var k={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var A=x.stackGroups[b];return er(er({},_),{},yc({},b,{numericAxisId:n,cateAxisId:i,items:A.items,stackedData:RJ(e,A.items,a)}))},k)}return er(er({},m),{},yc({},y,x))},p)},RL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,l=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=YQ(h,a,c);return e.domain([$0(p),L0(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=XQ(m,a,c);return{niceTicks:y}}return null},II=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,l=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=en(l,r.dataKey,r.domain[c]);return it(d)?null:r.scale(d)-a/2+i},DJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},LJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?er(er({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(br(a)){var l=r[a];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},$J=function(e){return e.reduce(function(r,n){return[$0(n.concat([r[0]]).filter(Te)),L0(n.concat([r[1]]).filter(Te))]},[1/0,-1/0])},ML=function(e,r,n){return Object.keys(e).reduce(function(i,a){var l=e[a],c=l.stackedData,d=c.reduce(function(h,p){var m=$J(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},OI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nk=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Te(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(OI.test(e[0])){var a=+OI.exec(e[0])[1];i[0]=r[0]-a}else Qe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Te(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(RI.test(e[1])){var l=+RI.exec(e[1])[1];i[1]=r[1]+l}else Qe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},km=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=dj(r,function(m){return m.coordinate}),l=1/0,c=1,d=a.length;c<d;c++){var h=a[c],p=a[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},MI=function(e,r,n){return!e||!e.length||F0(e,Yn(n,"type.defaultProps.domain"))?r:e},DL=function(e,r){var n=e.type.defaultProps?er(er({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,l=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return er(er({},Ye(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:a||i,color:$j(e),value:en(r,i),type:d,payload:r,chartType:h,hide:p})};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function DI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(r),!0).forEach(function(n){LL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LL(t,e,r){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FJ(t){var e=VJ(t,"string");return Xd(e)=="symbol"?e:e+""}function VJ(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t,e){return WJ(t)||zJ(t,e)||qJ(t,e)||UJ()}function UJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qJ(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function WJ(t){if(Array.isArray(t))return t}var jm=Math.PI/180,HJ=function(e){return e*180/Math.PI},Pt=function(e,r,n,i){return{x:e+Math.cos(-jm*i)*n,y:r+Math.sin(-jm*i)*n}},$L=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},GJ=function(e,r,n,i,a){var l=e.width,c=e.height,d=e.startAngle,h=e.endAngle,p=dn(e.cx,l,l/2),m=dn(e.cy,c,c/2),y=$L(l,c,n),x=dn(e.innerRadius,y,0),k=dn(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(b,A){var E=r[A],P=E.domain,O=E.reversed,N;if(it(E.range))i==="angleAxis"?N=[d,h]:i==="radiusAxis"&&(N=[x,k]),O&&(N=[N[1],N[0]]);else{N=E.range;var I=N,T=BJ(I,2);d=T[0],h=T[1]}var C=IL(E,a),L=C.realScaleType,M=C.scale;M.domain(P).range(N),OL(M);var R=RL(M,Ia(Ia({},E),{},{realScaleType:L})),F=Ia(Ia(Ia({},E),R),{},{range:N,radius:k,realScaleType:L,scale:M,cx:p,cy:m,innerRadius:x,outerRadius:k,startAngle:d,endAngle:h});return Ia(Ia({},b),{},LL({},A,F))},{})},KJ=function(e,r){var n=e.x,i=e.y,a=r.x,l=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-l,2))},YJ=function(e,r){var n=e.x,i=e.y,a=r.cx,l=r.cy,c=KJ({x:n,y:i},{x:a,y:l});if(c<=0)return{radius:c};var d=(n-a)/c,h=Math.acos(d);return i>l&&(h=2*Math.PI-h),{radius:c,angle:HJ(h),angleInRadian:h}},XJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return{startAngle:r-l*360,endAngle:n-l*360}},QJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),l=Math.floor(i/360),c=Math.min(a,l);return e+c*360},$I=function(e,r){var n=e.x,i=e.y,a=YJ({x:n,y:i},r),l=a.radius,c=a.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=XJ(r),m=p.startAngle,y=p.endAngle,x=c,k;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;k=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;k=x>=y&&x<=m}return k?Ia(Ia({},r),{},{radius:l,angle:QJ(x,r)}):null},FL=function(e){return!z.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var JJ=["offset"];function ZJ(t){return nZ(t)||rZ(t)||tZ(t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return ik(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(t,e)}}function rZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nZ(t){if(Array.isArray(t))return ik(t)}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iZ(t,e){if(t==null)return{};var r=aZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){sZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sZ(t,e,r){return e=oZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oZ(t){var e=lZ(t,"string");return Qd(e)=="symbol"?e:e+""}function lZ(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}var cZ=function(e){var r=e.value,n=e.formatter,i=it(e.children)?r:e.children;return Qe(n)?n(i):i},uZ=function(e,r){var n=un(r-e),i=Math.min(Math.abs(r-e),360);return n*i},dZ=function(e,r,n){var i=e.position,a=e.viewBox,l=e.offset,c=e.className,d=a,h=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,x=d.startAngle,k=d.endAngle,_=d.clockWise,b=(m+y)/2,A=uZ(x,k),E=A>=0?1:-1,P,O;i==="insideStart"?(P=x+E*l,O=_):i==="insideEnd"?(P=k-E*l,O=!_):i==="end"&&(P=k+E*l,O=_),O=A<=0?O:!O;var N=Pt(h,p,b,P),I=Pt(h,p,b,P+(O?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),C=it(e.id)?Rh("recharts-radial-line-"):e.id;return K.createElement("text",Jd({},n,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",c)}),K.createElement("defs",null,K.createElement("path",{id:C,d:T})),K.createElement("textPath",{xlinkHref:"#".concat(C)},r))},hZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,l=a.cx,c=a.cy,d=a.innerRadius,h=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=Pt(l,c,h+n,y),k=x.x,_=x.y;return{x:k,y:_,textAnchor:k>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,A=Pt(l,c,b,y),E=A.x,P=A.y;return{x:E,y:P,textAnchor:"middle",verticalAnchor:"middle"}},fZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,l=r,c=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",k=m>0?"start":"end",_=h>=0?1:-1,b=_*i,A=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var P={x:c+h/2,y:d-m*i,textAnchor:"middle",verticalAnchor:x};return xr(xr({},P),n?{height:Math.max(d-n.y,0),width:h}:{})}if(a==="bottom"){var O={x:c+h/2,y:d+p+y,textAnchor:"middle",verticalAnchor:k};return xr(xr({},O),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(a==="left"){var N={x:c-b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return xr(xr({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(a==="right"){var I={x:c+h+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"};return xr(xr({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:p}:{})}var T=n?{width:h,height:p}:{};return a==="insideLeft"?xr({x:c+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"},T):a==="insideRight"?xr({x:c+h-b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},T):a==="insideTop"?xr({x:c+h/2,y:d+y,textAnchor:"middle",verticalAnchor:k},T):a==="insideBottom"?xr({x:c+h/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?xr({x:c+b,y:d+y,textAnchor:E,verticalAnchor:k},T):a==="insideTopRight"?xr({x:c+h-b,y:d+y,textAnchor:A,verticalAnchor:k},T):a==="insideBottomLeft"?xr({x:c+b,y:d+p-y,textAnchor:E,verticalAnchor:x},T):a==="insideBottomRight"?xr({x:c+h-b,y:d+p-y,textAnchor:A,verticalAnchor:x},T):iu(a)&&(Te(a.x)||Bo(a.x))&&(Te(a.y)||Bo(a.y))?xr({x:c+dn(a.x,h),y:d+dn(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):xr({x:c+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},pZ=function(e){return"cx"in e&&Te(e.cx)};function Pr(t){var e=t.offset,r=e===void 0?5:e,n=iZ(t,JJ),i=xr({offset:r},n),a=i.viewBox,l=i.position,c=i.value,d=i.children,h=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||it(c)&&it(d)&&!z.isValidElement(h)&&!Qe(h))return null;if(z.isValidElement(h))return z.cloneElement(h,i);var x;if(Qe(h)){if(x=z.createElement(h,i),z.isValidElement(x))return x}else x=cZ(i);var k=pZ(a),_=Ye(i,!0);if(k&&(l==="insideStart"||l==="insideEnd"||l==="end"))return dZ(i,x,_);var b=k?hZ(i):fZ(i);return K.createElement(il,Jd({className:rt("recharts-label",m)},_,b,{breakAll:y}),x)}Pr.displayName="Label";var VL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,l=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,k=e.left,_=e.width,b=e.height,A=e.clockWise,E=e.labelViewBox;if(E)return E;if(Te(_)&&Te(b)){if(Te(m)&&Te(y))return{x:m,y,width:_,height:b};if(Te(x)&&Te(k))return{x,y:k,width:_,height:b}}return Te(m)&&Te(y)?{x:m,y,width:0,height:0}:Te(r)&&Te(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||d||c||0,clockWise:A}:e.viewBox?e.viewBox:{}},mZ=function(e,r){return e?e===!0?K.createElement(Pr,{key:"label-implicit",viewBox:r}):br(e)?K.createElement(Pr,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===Pr?z.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?K.createElement(Pr,{key:"label-implicit",content:e,viewBox:r}):iu(e)?K.createElement(Pr,Jd({viewBox:r},e,{key:"label-implicit"})):null:null},gZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=VL(e),l=pi(i,Pr).map(function(d,h){return z.cloneElement(d,{viewBox:r||a,key:"label-".concat(h)})});if(!n)return l;var c=mZ(e.label,r||a);return[c].concat(ZJ(l))};Pr.parseViewBox=VL;Pr.renderCallByParent=gZ;var vw,VI;function vZ(){if(VI)return vw;VI=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return vw=t,vw}var yZ=vZ();const xZ=yt(yZ);function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}var bZ=["valueAccessor"],wZ=["data","dataKey","clockWise","id","textBreakAll"];function _Z(t){return NZ(t)||SZ(t)||jZ(t)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jZ(t,e){if(t){if(typeof t=="string")return ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(t,e)}}function SZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NZ(t){if(Array.isArray(t))return ak(t)}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){EZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e,r){return e=TZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TZ(t){var e=AZ(t,"string");return Zd(e)=="symbol"?e:e+""}function AZ(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qI(t,e){if(t==null)return{};var r=PZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var CZ=function(e){return Array.isArray(e.value)?xZ(e.value):e.value};function Ks(t){var e=t.valueAccessor,r=e===void 0?CZ:e,n=qI(t,bZ),i=n.data,a=n.dataKey,l=n.clockWise,c=n.id,d=n.textBreakAll,h=qI(n,wZ);return!i||!i.length?null:K.createElement(bt,{className:"recharts-label-list"},i.map(function(p,m){var y=it(a)?r(p,m):en(p&&p.payload,a),x=it(c)?{}:{id:"".concat(c,"-").concat(m)};return K.createElement(Pr,Sm({},Ye(p,!0),h,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Pr.parseViewBox(it(l)?p:UI(UI({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}Ks.displayName="LabelList";function IZ(t,e){return t?t===!0?K.createElement(Ks,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Qe(t)?K.createElement(Ks,{key:"labelList-implicit",data:e,content:t}):iu(t)?K.createElement(Ks,Sm({data:e},t,{key:"labelList-implicit"})):null:null}function OZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=pi(n,Ks).map(function(l,c){return z.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var a=IZ(t.label,e);return[a].concat(_Z(i))}Ks.renderCallByParent=OZ;function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sk.apply(this,arguments)}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){RZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RZ(t,e,r){return e=MZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MZ(t){var e=DZ(t,"string");return eh(e)=="symbol"?e:e+""}function DZ(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LZ=function(e,r){var n=un(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},xp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,l=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(c?1:-1)+i,m=Math.asin(d/p)/jm,y=h?a:a+l*m,x=Pt(r,n,p,y),k=Pt(r,n,i,y),_=h?a-l*m:a,b=Pt(r,n,p*Math.cos(m*jm),_);return{center:x,circleTangency:k,lineTangency:b,theta:m}},BL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.startAngle,c=e.endAngle,d=LZ(l,c),h=l+d,p=Pt(r,n,a,l),m=Pt(r,n,a,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=Pt(r,n,i,l),k=Pt(r,n,i,h);y+="L ".concat(k.x,",").concat(k.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},$Z=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=un(p-h),y=xp({cx:r,cy:n,radius:a,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),x=y.circleTangency,k=y.lineTangency,_=y.theta,b=xp({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),A=b.circleTangency,E=b.lineTangency,P=b.theta,O=d?Math.abs(h-p):Math.abs(h-p)-_-P;if(O<0)return c?"M ".concat(k.x,",").concat(k.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):BL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:p});var N="M ".concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var I=xp({cx:r,cy:n,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=I.circleTangency,C=I.lineTangency,L=I.theta,M=xp({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),R=M.circleTangency,F=M.lineTangency,$=M.theta,ee=d?Math.abs(h-p):Math.abs(h-p)-L-$;if(ee<0&&l===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},FZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Fj=function(e){var r=WI(WI({},FZ),e),n=r.cx,i=r.cy,a=r.innerRadius,l=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(l<a||p===m)return null;var x=rt("recharts-sector",y),k=l-a,_=dn(c,k,0,!0),b;return _>0&&Math.abs(p-m)<360?b=$Z({cx:n,cy:i,innerRadius:a,outerRadius:l,cornerRadius:Math.min(_,k/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):b=BL({cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:p,endAngle:m}),K.createElement("path",sk({},Ye(r,!0),{className:x,d:b,role:"img"}))};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){VZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VZ(t,e,r){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BZ(t){var e=UZ(t,"string");return th(e)=="symbol"?e:e+""}function UZ(t,e){if(th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KI={curveBasisClosed:lW,curveBasisOpen:cW,curveBasis:oW,curveBumpX:Gz,curveBumpY:Kz,curveLinearClosed:uW,curveLinear:j0,curveMonotoneX:dW,curveMonotoneY:hW,curveNatural:fW,curveStep:pW,curveStepAfter:gW,curveStepBefore:mW},bp=function(e){return e.x===+e.x&&e.y===+e.y},Qu=function(e){return e.x},Ju=function(e){return e.y},qZ=function(e,r){if(Qe(e))return e;var n="curve".concat(_0(e));return(n==="curveMonotone"||n==="curveBump")&&r?KI["".concat(n).concat(r==="vertical"?"Y":"X")]:KI[n]||j0},zZ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,l=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=qZ(n,c),m=h?a.filter(function(_){return bp(_)}):a,y;if(Array.isArray(l)){var x=h?l.filter(function(_){return bp(_)}):l,k=m.map(function(_,b){return GI(GI({},_),{},{base:x[b]})});return c==="vertical"?y=dp().y(Ju).x1(Qu).x0(function(_){return _.base.x}):y=dp().x(Qu).y1(Ju).y0(function(_){return _.base.y}),y.defined(bp).curve(p),y(k)}return c==="vertical"&&Te(l)?y=dp().y(Ju).x1(Qu).x0(l):Te(l)?y=dp().x(Qu).y1(Ju).y0(l):y=V4().x(Qu).y(Ju),y.defined(bp).curve(p),y(m)},lk=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var l=n&&n.length?zZ(e):i;return z.createElement("path",ok({},Ye(e,!1),Zp(e),{className:rt("recharts-curve",r),d:l,ref:a}))},yw={exports:{}},xw,YI;function WZ(){if(YI)return xw;YI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xw=t,xw}var bw,XI;function HZ(){if(XI)return bw;XI=1;var t=WZ();function e(){}function r(){}return r.resetWarningCache=e,bw=function(){function n(l,c,d,h,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},bw}var QI;function GZ(){return QI||(QI=1,yw.exports=HZ()()),yw.exports}var KZ=GZ();const vt=yt(KZ);var YZ=Object.getOwnPropertyNames,XZ=Object.getOwnPropertySymbols,QZ=Object.prototype.hasOwnProperty;function JI(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function wp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,l=a.get(r),c=a.get(n);if(l&&c)return l===n&&c===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function ZI(t){return YZ(t).concat(XZ(t))}var JZ=Object.hasOwn||function(t,e){return QZ.call(t,e)};function gl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ZZ="__v",eee="__o",tee="_owner",eO=Object.getOwnPropertyDescriptor,tO=Object.keys;function ree(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nee(t,e){return gl(t.getTime(),e.getTime())}function iee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aee(t,e){return t===e}function rO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),l,c,d=0;(l=a.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var y=l.value,x=c.value;if(r.equals(y[0],x[0],d,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}var see=gl;function oee(t,e,r){var n=tO(t),i=n.length;if(tO(e).length!==i)return!1;for(;i-- >0;)if(!UL(t,e,r,n[i]))return!1;return!0}function Zu(t,e,r){var n=ZI(t),i=n.length;if(ZI(e).length!==i)return!1;for(var a,l,c;i-- >0;)if(a=n[i],!UL(t,e,r,a)||(l=eO(t,a),c=eO(e,a),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function lee(t,e){return gl(t.valueOf(),e.valueOf())}function cee(t,e){return t.source===e.source&&t.flags===e.flags}function nO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),l,c;(l=a.next())&&!l.done;){for(var d=e.values(),h=!1,p=0;(c=d.next())&&!c.done;){if(!i[p]&&r.equals(l.value,c.value,l.value,c.value,t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function uee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function UL(t,e,r,n){return(n===tee||n===eee||n===ZZ)&&(t.$$typeof||e.$$typeof)?!0:JZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var hee="[object Arguments]",fee="[object Boolean]",pee="[object Date]",mee="[object Error]",gee="[object Map]",vee="[object Number]",yee="[object Object]",xee="[object RegExp]",bee="[object Set]",wee="[object String]",_ee="[object URL]",kee=Array.isArray,iO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aO=Object.assign,jee=Object.prototype.toString.call.bind(Object.prototype.toString);function See(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(k,_,b){if(k===_)return!0;if(k==null||_==null)return!1;var A=typeof k;if(A!==typeof _)return!1;if(A!=="object")return A==="number"?l(k,_,b):A==="function"?i(k,_,b):!1;var E=k.constructor;if(E!==_.constructor)return!1;if(E===Object)return c(k,_,b);if(kee(k))return e(k,_,b);if(iO!=null&&iO(k))return m(k,_,b);if(E===Date)return r(k,_,b);if(E===RegExp)return h(k,_,b);if(E===Map)return a(k,_,b);if(E===Set)return p(k,_,b);var P=jee(k);return P===pee?r(k,_,b):P===xee?h(k,_,b):P===gee?a(k,_,b):P===bee?p(k,_,b):P===yee?typeof k.then!="function"&&typeof _.then!="function"&&c(k,_,b):P===_ee?y(k,_,b):P===mee?n(k,_,b):P===hee?c(k,_,b):P===fee||P===vee||P===wee?d(k,_,b):!1}}function Nee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Zu:ree,areDatesEqual:nee,areErrorsEqual:iee,areFunctionsEqual:aee,areMapsEqual:n?JI(rO,Zu):rO,areNumbersEqual:see,areObjectsEqual:n?Zu:oee,arePrimitiveWrappersEqual:lee,areRegExpsEqual:cee,areSetsEqual:n?JI(nO,Zu):nO,areTypedArraysEqual:n?Zu:uee,areUrlsEqual:dee};if(r&&(i=aO({},i,r(i))),e){var a=wp(i.areArraysEqual),l=wp(i.areMapsEqual),c=wp(i.areObjectsEqual),d=wp(i.areSetsEqual);i=aO({},i,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return i}function Eee(t){return function(e,r,n,i,a,l,c){return t(e,r,c)}}function Tee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,y=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,h,{cache:y,equals:i,meta:x,strict:a})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var l={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,h){return r(d,h,l)}}var Aee=so();so({strict:!0});so({circular:!0});so({circular:!0,strict:!0});so({createInternalComparator:function(){return gl}});so({strict:!0,createInternalComparator:function(){return gl}});so({circular:!0,createInternalComparator:function(){return gl}});so({circular:!0,createInternalComparator:function(){return gl},strict:!0});function so(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,l=a===void 0?!1:a,c=Nee(t),d=See(c),h=n?n(d):Eee(d);return Tee({circular:r,comparator:d,createState:i,equals:h,strict:l})}function Pee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function sO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Pee(i)};requestAnimationFrame(n)}function ck(t){"@babel/helpers - typeof";return ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ck(t)}function Cee(t){return Mee(t)||Ree(t)||Oee(t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return oO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ree(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mee(t){if(Array.isArray(t))return t}function Dee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,c=Cee(l),d=c[0],h=c.slice(1);if(typeof d=="number"){sO(i.bind(null,h),d);return}i(d),sO(i.bind(null,h));return}ck(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){qL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qL(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=$ee(t,"string");return rh(e)==="symbol"?e:String(e)}function $ee(t,e){if(rh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Vee=function(e){return e},Bee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},xd=function(e,r){return Object.keys(r).reduce(function(n,i){return cO(cO({},n),{},qL({},i,e(i,r[i])))},{})},uO=function(e,r,n){return e.map(function(i){return"".concat(Bee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Uee(t,e){return Wee(t)||zee(t,e)||zL(t,e)||qee()}function qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Wee(t){if(Array.isArray(t))return t}function Hee(t){return Yee(t)||Kee(t)||zL(t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zL(t,e){if(t){if(typeof t=="string")return uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(t,e)}}function Kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yee(t){if(Array.isArray(t))return uk(t)}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Nm=1e-4,WL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},HL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dO=function(e,r){return function(n){var i=WL(e,r);return HL(i,n)}},Xee=function(e,r){return function(n){var i=WL(e,r),a=[].concat(Hee(i.map(function(l,c){return l*c}).slice(1)),[0]);return HL(a,n)}},hO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],l=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,l=1,c=1;break;case"ease":i=.25,a=.1,l=.25,c=1;break;case"ease-in":i=.42,a=0,l=1,c=1;break;case"ease-out":i=.42,a=0,l=.58,c=1;break;case"ease-in-out":i=0,a=0,l=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Uee(h,4);i=p[0],a=p[1],l=p[2],c=p[3]}}}var m=dO(i,l),y=dO(a,c),x=Xee(i,l),k=function(A){return A>1?1:A<0?0:A},_=function(A){for(var E=A>1?1:A,P=E,O=0;O<8;++O){var N=m(P)-E,I=x(P);if(Math.abs(N-E)<Nm||I<Nm)return y(P);P=k(P-N/I)}return y(P)};return _.isStepper=!1,_},Qee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,d=function(p,m,y){var x=-(p-m)*n,k=y*a,_=y+(x-k)*c/1e3,b=y*c/1e3+p;return Math.abs(b-m)<Nm&&Math.abs(_)<Nm?[m,0]:[b,_]};return d.isStepper=!0,d.dt=c,d},Jee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hO(i);case"spring":return Qee();default:if(i.split("(")[0]==="cubic-bezier")return hO(i)}return typeof i=="function"?i:null};function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function fO(t){return tte(t)||ete(t)||GL(t)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tte(t){if(Array.isArray(t))return hk(t)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){dk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dk(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=nte(t,"string");return nh(e)==="symbol"?e:String(e)}function nte(t,e){if(nh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ite(t,e){return ote(t)||ste(t,e)||GL(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(t,e){if(t){if(typeof t=="string")return hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hk(t,e)}}function hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ste(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function ote(t){if(Array.isArray(t))return t}var Em=function(e,r,n){return e+(r-e)*n},fk=function(e){var r=e.from,n=e.to;return r!==n},lte=function t(e,r,n){var i=xd(function(a,l){if(fk(l)){var c=e(l.from,l.to,l.velocity),d=ite(c,2),h=d[0],p=d[1];return $r($r({},l),{},{from:h,velocity:p})}return l},r);return n<1?xd(function(a,l){return fk(l)?$r($r({},l),{},{velocity:Em(l.velocity,i[a].velocity,n),from:Em(l.from,i[a].from,n)}):l},r):t(e,i,n-1)};const cte=function(t,e,r,n,i){var a=Fee(t,e),l=a.reduce(function(b,A){return $r($r({},b),{},dk({},A,[t[A],e[A]]))},{}),c=a.reduce(function(b,A){return $r($r({},b),{},dk({},A,{from:t[A],velocity:0,to:e[A]}))},{}),d=-1,h,p,m=function(){return null},y=function(){return xd(function(A,E){return E.from},c)},x=function(){return!Object.values(c).filter(fk).length},k=function(A){h||(h=A);var E=A-h,P=E/r.dt;c=lte(r,c,P),i($r($r($r({},t),e),y())),h=A,x()||(d=requestAnimationFrame(m))},_=function(A){p||(p=A);var E=(A-p)/n,P=xd(function(N,I){return Em.apply(void 0,fO(I).concat([r(E)]))},l);if(i($r($r($r({},t),e),P)),E<1)d=requestAnimationFrame(m);else{var O=xd(function(N,I){return Em.apply(void 0,fO(I).concat([r(1)]))},l);i($r($r($r({},t),e),O))}};return m=r.isStepper?k:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}var ute=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dte(t,e){if(t==null)return{};var r=hte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hte(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ww(t){return gte(t)||mte(t)||pte(t)||fte()}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pk(t,e)}}function mte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gte(t){if(Array.isArray(t))return pk(t)}function pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){cd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cd(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function xte(t,e,r){return e&&yte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KL(t){var e=bte(t,"string");return Dc(e)==="symbol"?e:String(e)}function bte(t,e){if(Dc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mk(t,e)}function _te(t){var e=kte();return function(){var n=Tm(t),i;if(e){var a=Tm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return gk(this,i)}}function gk(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vk(t)}function vk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}var Qa=function(t){wte(r,t);var e=_te(r);function r(n,i){var a;vte(this,r),a=e.call(this,n,i);var l=a.props,c=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,y=l.children,x=l.duration;if(a.handleStyleChange=a.handleStyleChange.bind(vk(a)),a.changeStyle=a.changeStyle.bind(vk(a)),!c||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),gk(a);if(m&&m.length)a.state={style:m[0].style};else if(h){if(typeof y=="function")return a.state={style:h},gk(a);a.state={style:d?cd({},d,h):h}}else a.state={style:{}};return a}return xte(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,l=i.canBegin;this.mounted=!0,!(!a||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,l=a.isActive,c=a.canBegin,d=a.attributeName,h=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(c){if(!l){var x={style:d?cd({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(Aee(i.to,p)&&i.canBegin&&i.isActive)){var k=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=k||h?m:i.to;if(this.state&&y){var b={style:d?cd({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(b)}this.runAnimation(Oi(Oi({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,l=i.from,c=i.to,d=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=cte(l,c,Jee(h),d,this.changeStyle),k=function(){a.stopJSAnimation=x()};this.manager.start([y,p,k,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,l=i.steps,c=i.begin,d=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,y=m===void 0?0:m,x=function(_,b,A){if(A===0)return _;var E=b.duration,P=b.easing,O=P===void 0?"ease":P,N=b.style,I=b.properties,T=b.onAnimationEnd,C=A>0?l[A-1]:b,L=I||Object.keys(N);if(typeof O=="function"||O==="spring")return[].concat(ww(_),[a.runJSAnimation.bind(a,{from:C.style,to:N,duration:E,easing:O}),E]);var M=uO(L,E,O),R=Oi(Oi(Oi({},C.style),N),{},{transition:M});return[].concat(ww(_),[R,E,T]).filter(Vee)};return this.manager.start([d].concat(ww(l.reduce(x,[p,Math.max(y,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Dee());var a=i.begin,l=i.duration,c=i.attributeName,d=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,k=this.manager;if(this.unSubscribe=k.subscribe(this.handleStyleChange),typeof h=="function"||typeof x=="function"||h==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=c?cd({},c,d):d,b=uO(Object.keys(_),l,h);k.start([p,a,Oi(Oi({},_),{},{transition:b}),l,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=dte(i,ute),h=z.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!c||h===0||l<=0)return a;var m=function(x){var k=x.props,_=k.style,b=_===void 0?{}:_,A=k.className,E=z.cloneElement(x,Oi(Oi({},d),{},{style:Oi(Oi({},b),p),className:A}));return E};return h===1?m(z.Children.only(a)):K.createElement("div",null,z.Children.map(a,function(y){return m(y)}))}}]),r}(z.PureComponent);Qa.displayName="Animate";Qa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qa.propTypes={from:vt.oneOfType([vt.object,vt.string]),to:vt.oneOfType([vt.object,vt.string]),attributeName:vt.string,duration:vt.number,begin:vt.number,easing:vt.oneOfType([vt.string,vt.func]),steps:vt.arrayOf(vt.shape({duration:vt.number.isRequired,style:vt.object.isRequired,easing:vt.oneOfType([vt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vt.func]),properties:vt.arrayOf("string"),onAnimationEnd:vt.func})),children:vt.oneOfType([vt.node,vt.func]),isActive:vt.bool,canBegin:vt.bool,onAnimationEnd:vt.func,shouldReAnimate:vt.bool,onAnimationStart:vt.func,onAnimationReStart:vt.func};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Am.apply(this,arguments)}function jte(t,e){return Tte(t)||Ete(t,e)||Nte(t,e)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Tte(t){if(Array.isArray(t))return t}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ate(t,e,r){return e=Pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pte(t){var e=Cte(t,"string");return ih(e)=="symbol"?e:e+""}function Cte(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xO=function(e,r,n,i,a){var l=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,p;if(l>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>l?l:a[y];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-c*m[3])),p+="Z"}else if(l>0&&a===+a&&a>0){var k=Math.min(l,a);p="M ".concat(e,",").concat(r+c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+d*k,",").concat(r,`
            L `).concat(e+n-d*k,",").concat(r,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*k,`
            L `).concat(e+n,",").concat(r+i-c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n-d*k,",").concat(r+i,`
            L `).concat(e+d*k,",").concat(r+i,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e,",").concat(r+i-c*k," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},Ite=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,l=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(a,a+c),p=Math.max(a,a+c),m=Math.min(l,l+d),y=Math.max(l,l+d);return n>=h&&n<=p&&i>=m&&i<=y}return!1},Ote={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vj=function(e){var r=yO(yO({},Ote),e),n=z.useRef(),i=z.useState(-1),a=jte(i,2),l=a[0],c=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&c(O)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,k=r.animationEasing,_=r.animationDuration,b=r.animationBegin,A=r.isAnimationActive,E=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var P=rt("recharts-rectangle",x);return E?K.createElement(Qa,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:_,animationEasing:k,isActive:E},function(O){var N=O.width,I=O.height,T=O.x,C=O.y;return K.createElement(Qa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:A,easing:k},K.createElement("path",Am({},Ye(r,!0),{className:P,d:xO(T,C,N,I,y),ref:n})))}):K.createElement("path",Am({},Ye(r,!0),{className:P,d:xO(d,h,p,m,y)}))},Rte=["points","className","baseLinePoints","connectNulls"];function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sc.apply(this,arguments)}function Mte(t,e){if(t==null)return{};var r=Dte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bO(t){return Vte(t)||Fte(t)||$te(t)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(t,e){if(t){if(typeof t=="string")return yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(t,e)}}function Fte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vte(t){if(Array.isArray(t))return yk(t)}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Bte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){wO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),wO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bd=function(e,r){var n=Bte(e);r&&(n=[n.reduce(function(a,l){return[].concat(bO(a),bO(l))},[])]);var i=n.map(function(a){return a.reduce(function(l,c,d){return"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ute=function(e,r,n){var i=bd(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(bd(r.reverse(),n).slice(1))},qte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,l=Mte(e,Rte);if(!r||!r.length)return null;var c=rt("recharts-polygon",n);if(i&&i.length){var d=l.stroke&&l.stroke!=="none",h=Ute(r,i,a);return K.createElement("g",{className:c},K.createElement("path",sc({},Ye(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?K.createElement("path",sc({},Ye(l,!0),{fill:"none",d:bd(r,a)})):null,d?K.createElement("path",sc({},Ye(l,!0),{fill:"none",d:bd(i,a)})):null)}var p=bd(r,a);return K.createElement("path",sc({},Ye(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xk.apply(this,arguments)}var Bj=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,l=rt("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",xk({},Ye(e,!1),Zp(e),{className:l,cx:r,cy:n,r:i})):null};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}var zte=["x","y","top","left","width","height","className"];function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bk.apply(this,arguments)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){Hte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e,r){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gte(t){var e=Kte(t,"string");return ah(e)=="symbol"?e:e+""}function Kte(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){if(t==null)return{};var r=Xte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Qte=function(e,r,n,i,a,l){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(l,",").concat(r,"h").concat(n)},Jte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,l=e.top,c=l===void 0?0:l,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,k=e.className,_=Yte(e,zte),b=Wte({x:n,y:a,top:c,left:h,width:m,height:x},_);return!Te(n)||!Te(a)||!Te(m)||!Te(x)||!Te(c)||!Te(h)?null:K.createElement("path",bk({},Ye(b,!0),{className:rt("recharts-cross",k),d:Qte(n,a,m,x,c,h)}))},_w,kO;function Zte(){if(kO)return _w;kO=1;var t=D0(),e=uL(),r=pa();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return _w=n,_w}var ere=Zte();const tre=yt(ere);var kw,jO;function rre(){if(jO)return kw;jO=1;var t=D0(),e=pa(),r=dL();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return kw=n,kw}var nre=rre();const ire=yt(nre);var are=["cx","cy","angle","ticks","axisLine"],sre=["ticks","tick","angle","tickFormatter","stroke"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){q0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NO(t,e){if(t==null)return{};var r=ore(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ore(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XL(n.key),n)}}function cre(t,e,r){return e&&EO(t.prototype,e),r&&EO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ure(t,e,r){return e=Pm(e),dre(t,YL()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function dre(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hre(t)}function hre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wk(t,e)}function wk(t,e){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wk(t,e)}function q0(t,e,r){return e=XL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XL(t){var e=pre(t,"string");return Lc(e)=="symbol"?e:e+""}function pre(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z0=function(t){function e(){return lre(this,e),ure(this,e,arguments)}return fre(e,t),cre(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,l=a.angle,c=a.cx,d=a.cy;return Pt(c,d,i,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.angle,c=n.ticks,d=tre(c,function(p){return p.coordinate||0}),h=ire(c,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.angle,c=n.ticks,d=n.axisLine,h=NO(n,are),p=c.reduce(function(k,_){return[Math.min(k[0],_.coordinate),Math.max(k[1],_.coordinate)]},[1/0,-1/0]),m=Pt(i,a,p[0],l),y=Pt(i,a,p[1],l),x=Io(Io(Io({},Ye(h,!1)),{},{fill:"none"},Ye(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return K.createElement("line",wd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,l=i.tick,c=i.angle,d=i.tickFormatter,h=i.stroke,p=NO(i,sre),m=this.getTickTextAnchor(),y=Ye(p,!1),x=Ye(l,!1),k=a.map(function(_,b){var A=n.getTickValueCoord(_),E=Io(Io(Io(Io({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(A.x,", ").concat(A.y,")")},y),{},{stroke:"none",fill:h},x),{},{index:b},A),{},{payload:_});return K.createElement(bt,wd({className:rt("recharts-polar-radius-axis-tick",FL(l)),key:"tick-".concat(_.coordinate)},nl(n.props,_,b)),e.renderTickItem(l,E,d?d(_.value,b):_.value))});return K.createElement(bt,{className:"recharts-polar-radius-axis-ticks"},k)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,l=n.tick;return!i||!i.length?null:K.createElement(bt,{className:rt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),l&&this.renderTicks(),Pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Qe(n)?l=n(i):l=K.createElement(il,wd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),l}}])}(z.PureComponent);q0(z0,"displayName","PolarRadiusAxis");q0(z0,"axisType","radiusAxis");q0(z0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lo.apply(this,arguments)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){W0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function gre(t,e,r){return e&&AO(t.prototype,e),r&&AO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vre(t,e,r){return e=Cm(e),yre(t,QL()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function yre(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(t)}function xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QL=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_k(t,e)}function _k(t,e){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_k(t,e)}function W0(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=wre(t,"string");return $c(e)=="symbol"?e:e+""}function wre(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _re=Math.PI/180,PO=1e-5,H0=function(t){function e(){return mre(this,e),vre(this,e,arguments)}return bre(e,t),gre(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,l=i.cy,c=i.radius,d=i.orientation,h=i.tickSize,p=h||8,m=Pt(a,l,c,n.coordinate),y=Pt(a,l,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*_re),l;return a>PO?l=i==="outer"?"start":"end":a<-PO?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,l=n.radius,c=n.axisLine,d=n.axisLineType,h=Oo(Oo({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(d==="circle")return K.createElement(Bj,Lo({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:a,r:l}));var p=this.props.ticks,m=p.map(function(y){return Pt(i,a,l,y.coordinate)});return K.createElement(qte,Lo({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,l=i.tick,c=i.tickLine,d=i.tickFormatter,h=i.stroke,p=Ye(this.props,!1),m=Ye(l,!1),y=Oo(Oo({},p),{},{fill:"none"},Ye(c,!1)),x=a.map(function(k,_){var b=n.getTickLineCoord(k),A=n.getTickTextAnchor(k),E=Oo(Oo(Oo({textAnchor:A},p),{},{stroke:"none",fill:h},m),{},{index:_,payload:k,x:b.x2,y:b.y2});return K.createElement(bt,Lo({className:rt("recharts-polar-angle-axis-tick",FL(l)),key:"tick-".concat(k.coordinate)},nl(n.props,k,_)),c&&K.createElement("line",Lo({className:"recharts-polar-angle-axis-tick-line"},y,b)),l&&e.renderTickItem(l,E,d?d(k.value,_):k.value))});return K.createElement(bt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,l=n.axisLine;return a<=0||!i||!i.length?null:K.createElement(bt,{className:rt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var l;return K.isValidElement(n)?l=K.cloneElement(n,i):Qe(n)?l=n(i):l=K.createElement(il,Lo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),l}}])}(z.PureComponent);W0(H0,"displayName","PolarAngleAxis");W0(H0,"axisType","angleAxis");W0(H0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jw,CO;function kre(){if(CO)return jw;CO=1;var t=c3(),e=t(Object.getPrototypeOf,Object);return jw=e,jw}var Sw,IO;function jre(){if(IO)return Sw;IO=1;var t=Ja(),e=kre(),r=Za(),n="[object Object]",i=Function.prototype,a=Object.prototype,l=i.toString,c=a.hasOwnProperty,d=l.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=c.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return Sw=h,Sw}var Sre=jre();const Nre=yt(Sre);var Nw,OO;function Ere(){if(OO)return Nw;OO=1;var t=Ja(),e=Za(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Nw=n,Nw}var Tre=Ere();const Are=yt(Tre);function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function Pre(t,e){return Rre(t)||Ore(t,e)||Ire(t,e)||Cre()}function Cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Rre(t){if(Array.isArray(t))return t}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){Mre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mre(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=Lre(t,"string");return sh(e)=="symbol"?e:e+""}function Lre(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LO=function(e,r,n,i,a){var l=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-l/2,",").concat(r+a),c+="L ".concat(e+n-l/2-i,",").concat(r+a),c+="L ".concat(e,",").concat(r," Z"),c},$re={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fre=function(e){var r=DO(DO({},$re),e),n=z.useRef(),i=z.useState(-1),a=Pre(i,2),l=a[0],c=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,k=r.animationEasing,_=r.animationDuration,b=r.animationBegin,A=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var E=rt("recharts-trapezoid",x);return A?K.createElement(Qa,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:h},duration:_,animationEasing:k,isActive:A},function(P){var O=P.upperWidth,N=P.lowerWidth,I=P.height,T=P.x,C=P.y;return K.createElement(Qa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:k},K.createElement("path",Im({},Ye(r,!0),{className:E,d:LO(T,C,O,N,I),ref:n})))}):K.createElement("g",null,K.createElement("path",Im({},Ye(r,!0),{className:E,d:LO(d,h,p,m,y)})))},Vre=["option","shapeType","propTransformer","activeClassName","isActive"];function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function Bre(t,e){if(t==null)return{};var r=Ure(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ure(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Om(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){qre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qre(t,e,r){return e=zre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t){var e=Wre(t,"string");return oh(e)=="symbol"?e:e+""}function Wre(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t,e){return Om(Om({},e),t)}function Gre(t,e){return t==="symbols"}function FO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(Vj,r);case"trapezoid":return K.createElement(Fre,r);case"sector":return K.createElement(Fj,r);case"symbols":if(Gre(e))return K.createElement(nj,r);break;default:return null}}function Kre(t){return z.isValidElement(t)?t.props:t}function ZL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Hre:n,a=t.activeClassName,l=a===void 0?"recharts-active-shape":a,c=t.isActive,d=Bre(t,Vre),h;if(z.isValidElement(e))h=z.cloneElement(e,Om(Om({},d),Kre(e)));else if(Qe(e))h=e(d);else if(Nre(e)&&!Are(e)){var p=i(e,d);h=K.createElement(FO,{shapeType:r,elementProps:p})}else{var m=d;h=K.createElement(FO,{shapeType:r,elementProps:m})}return c?K.createElement(bt,{className:l},h):h}function G0(t,e){return e!=null&&"trapezoids"in t.props}function K0(t,e){return e!=null&&"sectors"in t.props}function lh(t,e){return e!=null&&"points"in t.props}function Yre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Xre(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Qre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Jre(t,e){var r;return G0(t,e)?r=Yre:K0(t,e)?r=Xre:lh(t,e)&&(r=Qre),r}function Zre(t,e){var r;return G0(t,e)?r="trapezoids":K0(t,e)?r="sectors":lh(t,e)&&(r="points"),r}function ene(t,e){if(G0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(K0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return lh(t,e)?e.payload:{}}function tne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Zre(r,e),a=ene(r,e),l=n.filter(function(d,h){var p=F0(a,d),m=r.props[i].filter(function(k){var _=Jre(r,e);return _(k,e)}),y=r.props[i].indexOf(m[m.length-1]),x=h===y;return p&&x}),c=n.indexOf(l[l.length-1]);return c}var Rp;function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oc.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t6(n.key),n)}}function nne(t,e,r){return e&&BO(t.prototype,e),r&&BO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ine(t,e,r){return e=Rm(e),ane(t,e6()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function ane(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sne(t)}function sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function one(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kk(t,e)}function kk(t,e){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kk(t,e)}function hi(t,e,r){return e=t6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6(t){var e=lne(t,"string");return Fc(e)=="symbol"?e:e+""}function lne(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ts=function(t){function e(r){var n;return rne(this,e),n=ine(this,e,[r]),hi(n,"pieRef",null),hi(n,"sectorRefs",[]),hi(n,"id",Rh("recharts-pie-")),hi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(i)&&i()}),hi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return one(e,t),nne(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.label,c=a.labelLine,d=a.dataKey,h=a.valueKey,p=Ye(this.props,!1),m=Ye(l,!1),y=Ye(c,!1),x=l&&l.offsetRadius||20,k=n.map(function(_,b){var A=(_.startAngle+_.endAngle)/2,E=Pt(_.cx,_.cy,_.outerRadius+x,A),P=Tt(Tt(Tt(Tt({},p),_),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(E.x,_.cx)},E),O=Tt(Tt(Tt(Tt({},p),_),{},{fill:"none",stroke:_.fill},y),{},{index:b,points:[Pt(_.cx,_.cy,_.outerRadius,A),E]}),N=d;return it(d)&&it(h)?N="value":it(d)&&(N=h),K.createElement(bt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},c&&e.renderLabelLineItem(c,O,"line"),e.renderLabelItem(l,P,en(_,N)))});return K.createElement(bt,{className:"recharts-pie-labels"},k)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,l=a.activeShape,c=a.blendStroke,d=a.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(p),y=d&&i.hasActiveIndex()?d:null,x=m?l:y,k=Tt(Tt({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return K.createElement(bt,oc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},nl(i.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),K.createElement(ZL,oc({option:x,isActive:m,shapeType:"sector"},k)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,y=m.prevSectors,x=m.prevIsAnimationActive;return K.createElement(Qa,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(k){var _=k.t,b=[],A=a&&a[0],E=A.startAngle;return a.forEach(function(P,O){var N=y&&y[O],I=O>0?Yn(P,"paddingAngle",0):0;if(N){var T=Cs(N.endAngle-N.startAngle,P.endAngle-P.startAngle),C=Tt(Tt({},P),{},{startAngle:E+I,endAngle:E+T(_)+I});b.push(C),E=C.endAngle}else{var L=P.endAngle,M=P.startAngle,R=Cs(0,L-M),F=R(_),$=Tt(Tt({},P),{},{startAngle:E+I,endAngle:E+F+I});b.push($),E=$.endAngle}}),K.createElement(bt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,l=this.state.prevSectors;return a&&i&&i.length&&(!l||!F0(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,l=i.sectors,c=i.className,d=i.label,h=i.cx,p=i.cy,m=i.innerRadius,y=i.outerRadius,x=i.isAnimationActive,k=this.state.isAnimationFinished;if(a||!l||!l.length||!Te(h)||!Te(p)||!Te(m)||!Te(y))return null;var _=rt("recharts-pie",c);return K.createElement(bt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(A){n.pieRef=A}},this.renderSectors(),d&&this.renderLabels(l),Pr.renderCallByParent(this.props,null,!1),(!x||k)&&Ks.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);if(Qe(n))return n(i);var l=rt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(lk,oc({},i,{key:a,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,i,a){if(K.isValidElement(n))return K.cloneElement(n,i);var l=a;if(Qe(n)&&(l=n(i),K.isValidElement(l)))return l;var c=rt("recharts-pie-label-text",typeof n!="boolean"&&!Qe(n)?n.className:"");return K.createElement(il,oc({},i,{alignmentBaseline:"middle",className:c}),l)}}])}(z.PureComponent);Rp=ts;hi(ts,"displayName","Pie");hi(ts,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!su.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});hi(ts,"parseDeltaAngle",function(t,e){var r=un(e-t),n=Math.min(Math.abs(e-t),360);return r*n});hi(ts,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),i=pi(r,A0);return e&&e.length?e.map(function(a,l){return Tt(Tt(Tt({payload:a},n),a),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(a){return Tt(Tt({},n),a.props)}):[]});hi(ts,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,l=$L(i,a),c=n+dn(t.cx,i,i/2),d=r+dn(t.cy,a,a/2),h=dn(t.innerRadius,l,0),p=dn(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});hi(ts,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Tt(Tt({},e.type.defaultProps),e.props):e.props,i=Rp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,l=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),k=Rp.parseCoordinateOfPie(n,r),_=Rp.parseDeltaAngle(l,c),b=Math.abs(_),A=h;it(h)&&it(m)?(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):it(h)&&(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=m);var E=i.filter(function(C){return en(C,A,0)!==0}).length,P=(b>=360?E:E-1)*d,O=b-E*x-P,N=i.reduce(function(C,L){var M=en(L,A,0);return C+(Te(M)?M:0)},0),I;if(N>0){var T;I=i.map(function(C,L){var M=en(C,A,0),R=en(C,p,L),F=(Te(M)?M:0)/N,$;L?$=T.endAngle+un(_)*d*(M!==0?1:0):$=l;var ee=$+un(_)*((M!==0?x:0)+F*O),ie=($+ee)/2,Q=(k.innerRadius+k.outerRadius)/2,se=[{name:R,value:M,payload:C,dataKey:A,type:y}],te=Pt(k.cx,k.cy,Q,ie);return T=Tt(Tt(Tt({percent:F,cornerRadius:a,name:R,tooltipPayload:se,midAngle:ie,middleRadius:Q,tooltipPosition:te},C),k),{},{value:en(C,A),startAngle:$,endAngle:ee,payload:C,paddingAngle:un(_)*d}),T})}return Tt(Tt({},k),{},{sectors:I,data:i})});var Ew,UO;function cne(){if(UO)return Ew;UO=1;var t=Math.ceil,e=Math.max;function r(n,i,a,l){for(var c=-1,d=e(t((i-n)/(a||1)),0),h=Array(d);d--;)h[l?d:++c]=n,n+=a;return h}return Ew=r,Ew}var Tw,qO;function r6(){if(qO)return Tw;qO=1;var t=S3(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Tw=n,Tw}var Aw,zO;function une(){if(zO)return Aw;zO=1;var t=cne(),e=T0(),r=r6();function n(i){return function(a,l,c){return c&&typeof c!="number"&&e(a,l,c)&&(l=c=void 0),a=r(a),l===void 0?(l=a,a=0):l=r(l),c=c===void 0?a<l?1:-1:r(c),t(a,l,c,i)}}return Aw=n,Aw}var Pw,WO;function dne(){if(WO)return Pw;WO=1;var t=une(),e=t();return Pw=e,Pw}var hne=dne();const Mm=yt(hne);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){n6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n6(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=pne(t,"string");return ch(e)=="symbol"?e:e+""}function pne(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mne=["Webkit","Moz","O","ms"],gne=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=mne.reduce(function(a,l){return GO(GO({},a),{},n6({},l+n,r))},{});return i[e]=r,i};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dm.apply(this,arguments)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Un(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a6(n.key),n)}}function yne(t,e,r){return e&&YO(t.prototype,e),r&&YO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xne(t,e,r){return e=Lm(e),bne(t,i6()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function bne(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(t)}function wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jk(t,e)}function jk(t,e){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(t,e)}function Un(t,e,r){return e=a6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a6(t){var e=kne(t,"string");return Vc(e)=="symbol"?e:e+""}function kne(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jne=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,l=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=vd().domain(Mm(0,d)).range([a,a+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:p}},XO=function(e){return e.changedTouches&&!!e.changedTouches.length},Bc=function(t){function e(r){var n;return vne(this,e),n=xne(this,e,[r]),Un(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Un(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Un(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,l=i.onDragEnd,c=i.startIndex;l?.({endIndex:a,startIndex:c})}),n.detachDragEndListener()}),Un(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Un(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Un(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Un(n,"handleSlideDragStart",function(i){var a=XO(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return _ne(e,t),yne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,l=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,p=h.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(l,m),k=e.getIndexInRange(l,y);return{startIndex:x-x%d,endIndex:k===p?p:k-k%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,l=i.tickFormatter,c=i.dataKey,d=en(a[n],c,n);return Qe(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,l=i.startX,c=i.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,x=d.endIndex,k=d.onChange,_=n.pageX-a;_>0?_=Math.min(_,h+p-m-c,h+p-m-l):_<0&&(_=Math.max(_,h-l,h-c));var b=this.getIndex({startX:l+_,endX:c+_});(b.startIndex!==y||b.endIndex!==x)&&k&&k(b),this.setState({startX:l+_,endX:c+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=XO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,d=i.startX,h=this.state[l],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,k=p.onChange,_=p.gap,b=p.data,A={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,m+y-x-h):E<0&&(E=Math.max(E,m-h)),A[l]=h+E;var P=this.getIndex(A),O=P.startIndex,N=P.endIndex,I=function(){var C=b.length-1;return l==="startX"&&(c>d?O%_===0:N%_===0)||c<d&&N===C||l==="endX"&&(c>d?N%_===0:O%_===0)||c>d&&N===C};this.setState(Un(Un({},l,h+E),"brushMoveStartX",n.pageX),function(){k&&I()&&k(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,l=this.state,c=l.scaleValues,d=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=c.length)){var x=c[y];i==="startX"&&x>=h||i==="endX"&&x<=d||this.setState(Un({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,c=n.height,d=n.fill,h=n.stroke;return K.createElement("rect",{stroke:h,fill:d,x:i,y:a,width:l,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,c=n.height,d=n.data,h=n.children,p=n.padding,m=z.Children.only(h);return m?K.cloneElement(m,{x:i,y:a,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,l,c=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,x=d.ariaLabel,k=d.data,_=d.startIndex,b=d.endIndex,A=Math.max(n,this.props.x),E=Cw(Cw({},Ye(this.props,!1)),{},{x:A,y:h,width:p,height:m}),P=x||"Min value: ".concat((a=k[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((l=k[b])===null||l===void 0?void 0:l.name);return K.createElement(bt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,l=a.y,c=a.height,d=a.stroke,h=a.travellerWidth,p=Math.min(n,i)+h,m=Math.max(Math.abs(i-n)-h,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,l=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,k={pointerEvents:"none",fill:h};return K.createElement(bt,{className:"recharts-brush-texts"},K.createElement(il,Dm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:l+c/2},k),this.getTextOfTick(i)),K.createElement(il,Dm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+x,y:l+c/2},k),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,l=n.children,c=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,k=y.endX,_=y.isTextActive,b=y.isSlideMoving,A=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!Te(c)||!Te(d)||!Te(h)||!Te(p)||h<=0||p<=0)return null;var P=rt("recharts-brush",a),O=K.Children.count(l)===1,N=gne("userSelect","none");return K.createElement(bt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(x,k),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(k,"endX"),(_||b||A||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,l=n.width,c=n.height,d=n.stroke,h=Math.floor(a+c/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:a,width:l,height:c,fill:d,stroke:"none"}),K.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return K.isValidElement(n)?a=K.cloneElement(n,i):Qe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,l=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||h!==i.prevUpdateId)return Cw({prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l},a&&a.length?jne({data:a,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+l-d]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,l=0,c=a-1;c-l>1;){var d=Math.floor((l+c)/2);n[d]>i?c=d:l=d}return i>=n[c]?c:l}}])}(z.PureComponent);Un(Bc,"displayName","Brush");Un(Bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Iw,QO;function Sne(){if(QO)return Iw;QO=1;var t=uj();function e(r,n){var i;return t(r,function(a,l,c){return i=n(a,l,c),!i}),!!i}return Iw=e,Iw}var Ow,JO;function Nne(){if(JO)return Ow;JO=1;var t=r3(),e=pa(),r=Sne(),n=Pn(),i=T0();function a(l,c,d){var h=n(l)?t:r;return d&&i(l,c,d)&&(c=void 0),h(l,e(c,3))}return Ow=a,Ow}var Ene=Nne();const Tne=yt(Ene);var la=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Rw,ZO;function Ane(){if(ZO)return Rw;ZO=1;var t=b3();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Rw=e,Rw}var Mw,eR;function Pne(){if(eR)return Mw;eR=1;var t=Ane(),e=y3(),r=pa();function n(i,a){var l={};return a=r(a,3),e(i,function(c,d,h){t(l,d,a(c,d,h))}),l}return Mw=n,Mw}var Cne=Pne();const Ine=yt(Cne);var Dw,tR;function One(){if(tR)return Dw;tR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Dw=t,Dw}var Lw,rR;function Rne(){if(rR)return Lw;rR=1;var t=uj();function e(r,n){var i=!0;return t(r,function(a,l,c){return i=!!n(a,l,c),i}),i}return Lw=e,Lw}var $w,nR;function Mne(){if(nR)return $w;nR=1;var t=One(),e=Rne(),r=pa(),n=Pn(),i=T0();function a(l,c,d){var h=n(l)?t:e;return d&&i(l,c,d)&&(c=void 0),h(l,r(c,3))}return $w=a,$w}var Dne=Mne();const s6=yt(Dne);var Lne=["x","y"];function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Sk(){return Sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sk.apply(this,arguments)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ed(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){$ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ne(t,e,r){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t){var e=Vne(t,"string");return uh(e)=="symbol"?e:e+""}function Vne(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bne(t,e){if(t==null)return{};var r=Une(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Une(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qne(t,e){var r=t.x,n=t.y,i=Bne(t,Lne),a="".concat(r),l=parseInt(a,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),y=parseInt(m,10);return ed(ed(ed(ed(ed({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function aR(t){return K.createElement(ZL,Sk({shapeType:"rectangle",propTransformer:qne,activeClassName:"recharts-active-bar"},t))}var zne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Te(n)||mz(n);return a?e(n,i):(a||sl(),r)}},Wne=["value","background"],o6;function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Hne(t,e){if(t==null)return{};var r=Gne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$m.apply(this,arguments)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){Bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c6(n.key),n)}}function Yne(t,e,r){return e&&oR(t.prototype,e),r&&oR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xne(t,e,r){return e=Fm(e),Qne(t,l6()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function Qne(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jne(t)}function Jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l6=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function Zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nk(t,e)}function Nk(t,e){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nk(t,e)}function Bs(t,e,r){return e=c6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c6(t){var e=eie(t,"string");return Uc(e)=="symbol"?e:e+""}function eie(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var da=function(t){function e(){var r;Kne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xne(this,e,[].concat(i)),Bs(r,"state",{isAnimationFinished:!1}),Bs(r,"id",Rh("recharts-bar-")),Bs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Bs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Zne(e,t),Yne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,l=a.shape,c=a.dataKey,d=a.activeIndex,h=a.activeBar,p=Ye(this.props,!1);return n&&n.map(function(m,y){var x=y===d,k=x?h:l,_=dr(dr(dr({},p),m),{},{isActive:x,option:k,index:y,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(bt,$m({className:"recharts-bar-rectangle"},nl(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),K.createElement(aR,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,l=i.layout,c=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return K.createElement(Qa,{begin:d,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var k=x.t,_=a.map(function(b,A){var E=y&&y[A];if(E){var P=Cs(E.x,b.x),O=Cs(E.y,b.y),N=Cs(E.width,b.width),I=Cs(E.height,b.height);return dr(dr({},b),{},{x:P(k),y:O(k),width:N(k),height:I(k)})}if(l==="horizontal"){var T=Cs(0,b.height),C=T(k);return dr(dr({},b),{},{y:b.y+b.height-C,height:C})}var L=Cs(0,b.width),M=L(k);return dr(dr({},b),{},{width:M})});return K.createElement(bt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,l=this.state.prevData;return a&&i&&i.length&&(!l||!F0(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,l=i.dataKey,c=i.activeIndex,d=Ye(this.props.background,!1);return a.map(function(h,p){h.value;var m=h.background,y=Hne(h,Wne);if(!m)return null;var x=dr(dr(dr(dr(dr({},y),{},{fill:"#eee"},m),d),nl(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(aR,$m({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.data,c=a.xAxis,d=a.yAxis,h=a.layout,p=a.children,m=pi(p,U0);if(!m)return null;var y=h==="vertical"?l[0].height/2:l[0].width/2,x=function(b,A){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:en(b,A)}},k={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(bt,k,m.map(function(_){return K.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:l,xAxis:c,yAxis:d,layout:h,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,l=n.className,c=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,k=n.background,_=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,A=rt("recharts-bar",l),E=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,O=E||P,N=it(_)?this.id:_;return K.createElement(bt,{className:A},E||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(N)},K.createElement("rect",{x:E?h:h-m/2,y:P?p:p-y/2,width:E?m:m*2,height:P?y:y*2}))):null,K.createElement(bt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(N,")"):null},k?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,N),(!x||b)&&Ks.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);o6=da;Bs(da,"displayName","Bar");Bs(da,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bs(da,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,l=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=AJ(n,r);if(!x)return null;var k=e.layout,_=r.type.defaultProps,b=_!==void 0?dr(dr({},_),r.props):r.props,A=b.dataKey,E=b.children,P=b.minPointSize,O=k==="horizontal"?l:a,N=h?O.scale.domain():null,I=DJ({numericAxis:O}),T=pi(E,A0),C=m.map(function(L,M){var R,F,$,ee,ie,Q;h?R=PJ(h[p+M],N):(R=en(L,A),Array.isArray(R)||(R=[I,R]));var se=zne(P,o6.defaultProps.minPointSize)(R[1],M);if(k==="horizontal"){var te,Z=[l.scale(R[0]),l.scale(R[1])],re=Z[0],W=Z[1];F=II({axis:a,ticks:c,bandSize:i,offset:x.offset,entry:L,index:M}),$=(te=W??re)!==null&&te!==void 0?te:void 0,ee=x.size;var X=re-W;if(ie=Number.isNaN(X)?0:X,Q={x:F,y:l.y,width:ee,height:l.height},Math.abs(se)>0&&Math.abs(ie)<Math.abs(se)){var Y=un(ie||se)*(Math.abs(se)-Math.abs(ie));$-=Y,ie+=Y}}else{var le=[a.scale(R[0]),a.scale(R[1])],ge=le[0],he=le[1];if(F=ge,$=II({axis:l,ticks:d,bandSize:i,offset:x.offset,entry:L,index:M}),ee=he-ge,ie=x.size,Q={x:a.x,y:$,width:a.width,height:ie},Math.abs(se)>0&&Math.abs(ee)<Math.abs(se)){var de=un(ee||se)*(Math.abs(se)-Math.abs(ee));ee+=de}}return dr(dr(dr({},L),{},{x:F,y:$,width:ee,height:ie,value:h?R:R[1],payload:L,background:Q},T&&T[M]&&T[M].props),{},{tooltipPayload:[DL(r,L)],tooltipPosition:{x:F+ee/2,y:$+ie/2}})});return dr({data:C,layout:k},y)});function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u6(n.key),n)}}function rie(t,e,r){return e&&lR(t.prototype,e),r&&lR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){Y0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y0(t,e,r){return e=u6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6(t){var e=nie(t,"string");return dh(e)=="symbol"?e:e+""}function nie(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iie=function(e,r,n,i,a){var l=e.width,c=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},y=!!qn(h,da);return p.reduce(function(x,k){var _=r[k],b=_.orientation,A=_.domain,E=_.padding,P=E===void 0?{}:E,O=_.mirror,N=_.reversed,I="".concat(b).concat(O?"Mirror":""),T,C,L,M,R;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var F=A[1]-A[0],$=1/0,ee=_.categoricalDomain.sort(yz);if(ee.forEach(function(le,ge){ge>0&&($=Math.min((le||0)-(ee[ge-1]||0),$))}),Number.isFinite($)){var ie=$/F,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=ie*Q/2),_.padding==="no-gap"){var se=dn(e.barCategoryGap,ie*Q),te=ie*Q/2;T=te-se-(te-se)/Q*se}}}i==="xAxis"?C=[n.left+(P.left||0)+(T||0),n.left+n.width-(P.right||0)-(T||0)]:i==="yAxis"?C=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(T||0),n.top+n.height-(P.bottom||0)-(T||0)]:C=_.range,N&&(C=[C[1],C[0]]);var Z=IL(_,a,y),re=Z.scale,W=Z.realScaleType;re.domain(A).range(C),OL(re);var X=RL(re,Ri(Ri({},_),{},{realScaleType:W}));i==="xAxis"?(R=b==="top"&&!O||b==="bottom"&&O,L=n.left,M=m[I]-R*_.height):i==="yAxis"&&(R=b==="left"&&!O||b==="right"&&O,L=m[I]-R*_.width,M=n.top);var Y=Ri(Ri(Ri({},_),X),{},{realScaleType:W,x:L,y:M,scale:re,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return Y.bandSize=km(Y,X),!_.hide&&i==="xAxis"?m[I]+=(R?-1:1)*Y.height:_.hide||(m[I]+=(R?-1:1)*Y.width),Ri(Ri({},x),{},Y0({},k,Y))},{})},d6=function(e,r){var n=e.x,i=e.y,a=r.x,l=r.y;return{x:Math.min(n,a),y:Math.min(i,l),width:Math.abs(a-n),height:Math.abs(l-i)}},aie=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return d6({x:r,y:n},{x:i,y:a})},h6=function(){function t(e){tie(this,t),this.scale=e}return rie(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Y0(h6,"EPS",1e-4);var Uj=function(e){var r=Object.keys(e).reduce(function(n,i){return Ri(Ri({},n),{},Y0({},i,h6.create(e[i])))},{});return Ri(Ri({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=a.bandAware,c=a.position;return Ine(i,function(d,h){return r[h].apply(d,{bandAware:l,position:c})})},isInRange:function(i){return s6(i,function(a,l){return r[l].isInRange(a)})}})};function sie(t){return(t%180+180)%180}var oie=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sie(i),l=a*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Fw,uR;function lie(){if(uR)return Fw;uR=1;var t=pa(),e=Mh(),r=N0();function n(i){return function(a,l,c){var d=Object(a);if(!e(a)){var h=t(l,3);a=r(a),l=function(m){return h(d[m],m,d)}}var p=i(a,l,c);return p>-1?d[h?a[p]:p]:void 0}}return Fw=n,Fw}var Vw,dR;function cie(){if(dR)return Vw;dR=1;var t=r6();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Vw=e,Vw}var Bw,hR;function uie(){if(hR)return Bw;hR=1;var t=f3(),e=pa(),r=cie(),n=Math.max;function i(a,l,c){var d=a==null?0:a.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(a,e(l,3),h)}return Bw=i,Bw}var Uw,fR;function die(){if(fR)return Uw;fR=1;var t=lie(),e=uie(),r=t(e);return Uw=r,Uw}var hie=die();const fie=yt(hie);var pie=A4();const mie=yt(pie);var gie=mie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qj=z.createContext(void 0),zj=z.createContext(void 0),f6=z.createContext(void 0),p6=z.createContext({}),m6=z.createContext(void 0),g6=z.createContext(0),v6=z.createContext(0),pR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,l=e.clipPathId,c=e.children,d=e.width,h=e.height,p=gie(a);return K.createElement(qj.Provider,{value:n},K.createElement(zj.Provider,{value:i},K.createElement(p6.Provider,{value:a},K.createElement(f6.Provider,{value:p},K.createElement(m6.Provider,{value:l},K.createElement(g6.Provider,{value:h},K.createElement(v6.Provider,{value:d},c)))))))},vie=function(){return z.useContext(m6)},y6=function(e){var r=z.useContext(qj);r==null&&sl();var n=r[e];return n==null&&sl(),n},yie=function(){var e=z.useContext(qj);return Fs(e)},xie=function(){var e=z.useContext(zj),r=fie(e,function(n){return s6(n.domain,Number.isFinite)});return r||Fs(e)},x6=function(e){var r=z.useContext(zj);r==null&&sl();var n=r[e];return n==null&&sl(),n},bie=function(){var e=z.useContext(f6);return e},wie=function(){return z.useContext(p6)},Wj=function(){return z.useContext(v6)},Hj=function(){return z.useContext(g6)};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function _ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w6(n.key),n)}}function jie(t,e,r){return e&&kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sie(t,e,r){return e=Vm(e),Nie(t,b6()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function Nie(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ek(t,e)}function Ek(t,e){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ek(t,e)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){Gj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gj(t,e,r){return e=w6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w6(t){var e=Aie(t,"string");return qc(e)=="symbol"?e:e+""}function Aie(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pie(t,e){return Rie(t)||Oie(t,e)||Iie(t,e)||Cie()}function Cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Oie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Rie(t){if(Array.isArray(t))return t}function Tk(){return Tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tk.apply(this,arguments)}var Mie=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Qe(e)?n=e(r):n=K.createElement("line",Tk({},r,{className:"recharts-reference-line-line"})),n},Die=function(e,r,n,i,a,l,c,d,h){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var k=h.y,_=e.y.apply(k,{position:l});if(la(h,"discard")&&!e.y.isInRange(_))return null;var b=[{x:p+y,y:_},{x:p,y:_}];return d==="left"?b.reverse():b}if(r){var A=h.x,E=e.x.apply(A,{position:l});if(la(h,"discard")&&!e.x.isInRange(E))return null;var P=[{x:E,y:m+x},{x:E,y:m}];return c==="top"?P.reverse():P}if(i){var O=h.segment,N=O.map(function(I){return e.apply(I,{position:l})});return la(h,"discard")&&Tne(N,function(I){return!e.isInRange(I)})?null:N}return null};function Lie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,l=t.shape,c=t.className,d=t.alwaysShow,h=vie(),p=y6(i),m=x6(a),y=bie();if(!h||!y)return null;Li(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Uj({x:p.scale,y:m.scale}),k=br(e),_=br(r),b=n&&n.length===2,A=Die(x,k,_,b,y,t.position,p.orientation,m.orientation,t);if(!A)return null;var E=Pie(A,2),P=E[0],O=P.x,N=P.y,I=E[1],T=I.x,C=I.y,L=la(t,"hidden")?"url(#".concat(h,")"):void 0,M=gR(gR({clipPath:L},Ye(t,!0)),{},{x1:O,y1:N,x2:T,y2:C});return K.createElement(bt,{className:rt("recharts-reference-line",c)},Mie(l,M),Pr.renderCallByParent(t,aie({x1:O,y1:N,x2:T,y2:C})))}var Kj=function(t){function e(){return _ie(this,e),Sie(this,e,arguments)}return Tie(e,t),jie(e,[{key:"render",value:function(){return K.createElement(Lie,this.props)}}])}(K.Component);Gj(Kj,"displayName","ReferenceLine");Gj(Kj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ak(){return Ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ak.apply(this,arguments)}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k6(n.key),n)}}function Vie(t,e,r){return e&&Fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bie(t,e,r){return e=Bm(e),Uie(t,_6()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function Uie(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qie(t)}function qie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pk(t,e)}function X0(t,e,r){return e=k6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k6(t){var e=Wie(t,"string");return zc(e)=="symbol"?e:e+""}function Wie(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,l=Uj({x:i.scale,y:a.scale}),c=l.apply({x:r,y:n},{bandAware:!0});return la(e,"discard")&&!l.isInRange(c)?null:c},Q0=function(t){function e(){return $ie(this,e),Bie(this,e,arguments)}return zie(e,t),Vie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,l=n.r,c=n.alwaysShow,d=n.clipPathId,h=br(i),p=br(a);if(Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Hie(this.props);if(!m)return null;var y=m.x,x=m.y,k=this.props,_=k.shape,b=k.className,A=la(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=xR(xR({clipPath:A},Ye(this.props,!0)),{},{cx:y,cy:x});return K.createElement(bt,{className:rt("recharts-reference-dot",b)},e.renderDot(_,E),Pr.renderCallByParent(this.props,{x:y-l,y:x-l,width:2*l,height:2*l}))}}])}(K.Component);X0(Q0,"displayName","ReferenceDot");X0(Q0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});X0(Q0,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Qe(t)?r=t(e):r=K.createElement(Bj,Ak({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Ck(){return Ck=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ck.apply(this,arguments)}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){J0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S6(n.key),n)}}function Yie(t,e,r){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,r){return e=Um(e),Qie(t,j6()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Qie(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ik(t,e)}function J0(t,e,r){return e=S6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S6(t){var e=eae(t,"string");return Wc(e)=="symbol"?e:e+""}function eae(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tae=function(e,r,n,i,a){var l=a.x1,c=a.x2,d=a.y1,h=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=Uj({x:p.scale,y:m.scale}),x={x:e?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},k={x:r?y.x.apply(c,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(h,{position:"end"}):y.y.rangeMax};return la(a,"discard")&&(!y.isInRange(x)||!y.isInRange(k))?null:d6(x,k)},Z0=function(t){function e(){return Gie(this,e),Xie(this,e,arguments)}return Zie(e,t),Yie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,l=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;Li(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=br(i),y=br(a),x=br(l),k=br(c),_=this.props.shape;if(!m&&!y&&!x&&!k&&!_)return null;var b=tae(m,y,x,k,this.props);if(!b&&!_)return null;var A=la(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(bt,{className:rt("recharts-reference-area",d)},e.renderRect(_,wR(wR({clipPath:A},Ye(this.props,!0)),b)),Pr.renderCallByParent(this.props,b))}}])}(K.Component);J0(Z0,"displayName","ReferenceArea");J0(Z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});J0(Z0,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Qe(t)?r=t(e):r=K.createElement(Vj,Ck({},e,{className:"recharts-reference-area-rect"})),r});function N6(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function rae(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return oie(n,r)}function nae(t,e,r){var n=r==="width",i=t.x,a=t.y,l=t.width,c=t.height;return e===1?{start:n?i:a,end:n?i+l:a+c}:{start:n?i+l:a+c,end:n?i:a}}function qm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function iae(t,e){return N6(t,e+1)}function aae(t,e,r,n,i){for(var a=(n||[]).slice(),l=e.start,c=e.end,d=0,h=1,p=l,m=function(){var k=n?.[d];if(k===void 0)return{v:N6(n,h)};var _=d,b,A=function(){return b===void 0&&(b=r(k,_)),b},E=k.coordinate,P=d===0||qm(t,E,A,p,c);P||(d=0,p=l,h+=1),P&&(p=E+t*(A()/2+i),d+=h)},y;h<=a.length;)if(y=m(),y)return y.v;return[]}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){sae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sae(t,e,r){return e=oae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oae(t){var e=lae(t,"string");return hh(e)=="symbol"?e:e+""}function lae(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e,r,n,i){for(var a=(n||[]).slice(),l=a.length,c=e.start,d=e.end,h=function(y){var x=a[y],k,_=function(){return k===void 0&&(k=r(x,y)),k};if(y===l-1){var b=t*(x.coordinate+t*_()/2-d);a[y]=x=Xr(Xr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Xr(Xr({},x),{},{tickCoord:x.coordinate});var A=qm(t,x.tickCoord,_,c,d);A&&(d=x.tickCoord-t*(_()/2+i),a[y]=Xr(Xr({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return a}function uae(t,e,r,n,i,a){var l=(n||[]).slice(),c=l.length,d=e.start,h=e.end;if(a){var p=n[c-1],m=r(p,c-1),y=t*(p.coordinate+t*m/2-h);l[c-1]=p=Xr(Xr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=qm(t,p.tickCoord,function(){return m},d,h);x&&(h=p.tickCoord-t*(m/2+i),l[c-1]=Xr(Xr({},p),{},{isShow:!0}))}for(var k=a?c-1:c,_=function(E){var P=l[E],O,N=function(){return O===void 0&&(O=r(P,E)),O};if(E===0){var I=t*(P.coordinate-t*N()/2-d);l[E]=P=Xr(Xr({},P),{},{tickCoord:I<0?P.coordinate-I*t:P.coordinate})}else l[E]=P=Xr(Xr({},P),{},{tickCoord:P.coordinate});var T=qm(t,P.tickCoord,N,d,h);T&&(d=P.tickCoord+t*(N()/2+i),l[E]=Xr(Xr({},P),{},{isShow:!0}))},b=0;b<k;b++)_(b);return l}function Yj(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,l=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(Te(d)||su.isSsr)return iae(i,typeof d=="number"&&Te(d)?d:0);var y=[],x=c==="top"||c==="bottom"?"width":"height",k=p&&x==="width"?gd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(P,O){var N=Qe(h)?h(P.value,O):P.value;return x==="width"?rae(gd(N,{fontSize:e,letterSpacing:r}),k,m):gd(N,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?un(i[1].coordinate-i[0].coordinate):1,A=nae(a,b,x);return d==="equidistantPreserveStart"?aae(b,A,_,i,l):(d==="preserveStart"||d==="preserveStartEnd"?y=uae(b,A,_,i,l,d==="preserveStartEnd"):y=cae(b,A,_,i,l),y.filter(function(E){return E.isShow}))}var dae=["viewBox"],hae=["viewBox"],fae=["ticks"];function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){Xj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qw(t,e){if(t==null)return{};var r=pae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T6(n.key),n)}}function gae(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vae(t,e,r){return e=zm(e),yae(t,E6()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function yae(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E6=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ok(t,e)}function Ok(t,e){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ok(t,e)}function Xj(t,e,r){return e=T6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T6(t){var e=wae(t,"string");return Hc(e)=="symbol"?e:e+""}function wae(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uu=function(t){function e(r){var n;return mae(this,e),n=vae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return bae(e,t),gae(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,l=qw(n,dae),c=this.props,d=c.viewBox,h=qw(c,hae);return!gc(a,d)||!gc(l,h)||!gc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,l=i.y,c=i.width,d=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,k,_,b,A,E,P=m?-1:1,O=n.tickSize||p,N=Te(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":x=k=n.coordinate,b=l+ +!m*d,_=b-P*O,E=_-P*y,A=N;break;case"left":_=b=n.coordinate,k=a+ +!m*c,x=k-P*O,A=x-P*y,E=N;break;case"right":_=b=n.coordinate,k=a+ +m*c,x=k+P*O,A=x+P*y,E=N;break;default:x=k=n.coordinate,b=l+ +m*d,_=b+P*O,E=_+P*y,A=N;break}return{line:{x1:x,y1:_,x2:k,y2:b},tick:{x:A,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,l;switch(i){case"left":l=a?"start":"end";break;case"right":l=a?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=a?"start":"end";break;default:l=a?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,l=n.width,c=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=yr(yr(yr({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);m=yr(yr({},m),{},{x1:i,y1:a+y*c,x2:i+l,y2:a+y*c})}else{var x=+(d==="left"&&!h||d==="right"&&h);m=yr(yr({},m),{},{x1:i+x*l,y1:a,x2:i+x*l,y2:a+c})}return K.createElement("line",lc({},m,{className:rt("recharts-cartesian-axis-line",Yn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var l=this,c=this.props,d=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,y=c.unit,x=Yj(yr(yr({},this.props),{},{ticks:n}),i,a),k=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=Ye(this.props,!1),A=Ye(p,!1),E=yr(yr({},b),{},{fill:"none"},Ye(d,!1)),P=x.map(function(O,N){var I=l.getTickLineCoord(O),T=I.line,C=I.tick,L=yr(yr(yr(yr({textAnchor:k,verticalAnchor:_},b),{},{stroke:"none",fill:h},A),C),{},{index:N,payload:O,visibleTicksCount:x.length,tickFormatter:m});return K.createElement(bt,lc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},nl(l.props,O,N)),d&&K.createElement("line",lc({},E,T,{className:rt("recharts-cartesian-axis-tick-line",Yn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Qe(m)?m(O.value,N):O.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,l=i.width,c=i.height,d=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=qw(m,fae),k=y;return Qe(d)&&(k=y&&y.length>0?d(this.props):d(x)),l<=0||c<=0||!k||!k.length?null:K.createElement(bt,{className:rt("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),Pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var l,c=rt(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?l=K.cloneElement(n,yr(yr({},i),{},{className:c})):Qe(n)?l=n(yr(yr({},i),{},{className:c})):l=K.createElement(il,lc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),l}}])}(z.Component);Xj(uu,"displayName","CartesianAxis");Xj(uu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _ae=["x1","y1","x2","y2","key"],kae=["offset"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jae(t,e,r){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=Nae(t,"string");return ol(e)=="symbol"?e:e+""}function Nae(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(this,arguments)}function NR(t,e){if(t==null)return{};var r=Eae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,l=e.width,c=e.height,d=e.ry;return K.createElement("rect",{x:i,y:a,ry:d,width:l,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A6(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,l=e.y2,c=e.key,d=NR(e,_ae),h=Ye(d,!1);h.offset;var p=NR(h,kae);r=K.createElement("line",zo({},p,{x1:n,y1:i,x2:a,y2:l,fill:"none",key:c}))}return r}function Aae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(c,d){var h=Zr(Zr({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return A6(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Pae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var l=a.map(function(c,d){var h=Zr(Zr({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return A6(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Cae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,l=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=c.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],_=k?i+l-y:p[x+1]-y;if(_<=0)return null;var b=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Iae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,l=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],_=k?a+c-y:p[x+1]-y;if(_<=0)return null;var b=x%n.length;return K.createElement("rect",{key:"react-".concat(x),x:y,y:l,width:_,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Oae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,l=e.offset;return CL(Yj(Zr(Zr(Zr({},uu.defaultProps),n),{},{ticks:$a(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.left,l.left+l.width,r)},Rae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,l=e.offset;return CL(Yj(Zr(Zr(Zr({},uu.defaultProps),n),{},{ticks:$a(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),l.top,l.top+l.height,r)},Zl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qj(t){var e,r,n,i,a,l,c=Wj(),d=Hj(),h=wie(),p=Zr(Zr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Zl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Zl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Zl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Zl.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Zl.verticalFill,x:Te(t.x)?t.x:h.left,y:Te(t.y)?t.y:h.top,width:Te(t.width)?t.width:h.width,height:Te(t.height)?t.height:h.height}),m=p.x,y=p.y,x=p.width,k=p.height,_=p.syncWithTicks,b=p.horizontalValues,A=p.verticalValues,E=yie(),P=xie();if(!Te(x)||x<=0||!Te(k)||k<=0||!Te(m)||m!==+m||!Te(y)||y!==+y)return null;var O=p.verticalCoordinatesGenerator||Oae,N=p.horizontalCoordinatesGenerator||Rae,I=p.horizontalPoints,T=p.verticalPoints;if((!I||!I.length)&&Qe(N)){var C=b&&b.length,L=N({yAxis:P?Zr(Zr({},P),{},{ticks:C?b:P.ticks}):void 0,width:c,height:d,offset:h},C?!0:_);Li(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ol(L),"]")),Array.isArray(L)&&(I=L)}if((!T||!T.length)&&Qe(O)){var M=A&&A.length,R=O({xAxis:E?Zr(Zr({},E),{},{ticks:M?A:E.ticks}):void 0,width:c,height:d,offset:h},M?!0:_);Li(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ol(R),"]")),Array.isArray(R)&&(T=R)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Tae,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(Aae,zo({},p,{offset:h,horizontalPoints:I,xAxis:E,yAxis:P})),K.createElement(Pae,zo({},p,{offset:h,verticalPoints:T,xAxis:E,yAxis:P})),K.createElement(Cae,zo({},p,{horizontalPoints:I})),K.createElement(Iae,zo({},p,{verticalPoints:T})))}Qj.displayName="CartesianGrid";function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Mae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I6(n.key),n)}}function Lae(t,e,r){return e&&Dae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ae(t,e,r){return e=Wm(e),Fae(t,P6()?Reflect.construct(e,r||[],Wm(t).constructor):e.apply(t,r))}function Fae(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vae(t)}function Vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P6=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function Bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rk(t,e)}function Rk(t,e){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rk(t,e)}function C6(t,e,r){return e=I6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I6(t){var e=Uae(t,"string");return Gc(e)=="symbol"?e:e+""}function Uae(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mk.apply(this,arguments)}function qae(t){var e=t.xAxisId,r=Wj(),n=Hj(),i=y6(e);return i==null?null:z.createElement(uu,Mk({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return $a(l,!0)}}))}var Vh=function(t){function e(){return Mae(this,e),$ae(this,e,arguments)}return Bae(e,t),Lae(e,[{key:"render",value:function(){return z.createElement(qae,this.props)}}])}(z.Component);C6(Vh,"displayName","XAxis");C6(Vh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M6(n.key),n)}}function Hae(t,e,r){return e&&Wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=Hm(e),Kae(t,O6()?Reflect.construct(e,r||[],Hm(t).constructor):e.apply(t,r))}function Kae(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hm(t)}function Xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dk(t,e)}function R6(t,e,r){return e=M6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M6(t){var e=Qae(t,"string");return Kc(e)=="symbol"?e:e+""}function Qae(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lk.apply(this,arguments)}var Jae=function(e){var r=e.yAxisId,n=Wj(),i=Hj(),a=x6(r);return a==null?null:z.createElement(uu,Lk({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return $a(c,!0)}}))},Bh=function(t){function e(){return zae(this,e),Gae(this,e,arguments)}return Xae(e,t),Hae(e,[{key:"render",value:function(){return z.createElement(Jae,this.props)}}])}(z.Component);R6(Bh,"displayName","YAxis");R6(Bh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ER(t){return rse(t)||tse(t)||ese(t)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function tse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rse(t){if(Array.isArray(t))return $k(t)}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fk=function(e,r,n,i,a){var l=pi(e,Kj),c=pi(e,Q0),d=[].concat(ER(l),ER(c)),h=pi(e,Z0),p="".concat(i,"Id"),m=i[0],y=r;if(d.length&&(y=d.reduce(function(_,b){if(b.props[p]===n&&la(b.props,"extendDomain")&&Te(b.props[m])){var A=b.props[m];return[Math.min(_[0],A),Math.max(_[1],A)]}return _},y)),h.length){var x="".concat(m,"1"),k="".concat(m,"2");y=h.reduce(function(_,b){if(b.props[p]===n&&la(b.props,"extendDomain")&&Te(b.props[x])&&Te(b.props[k])){var A=b.props[x],E=b.props[k];return[Math.min(_[0],A,E),Math.max(_[1],A,E)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,b){return Te(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},zw={exports:{}},TR;function nse(){return TR||(TR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function a(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,y),k=r?r+h:h;return d._events[k]?d._events[k].fn?d._events[k]=[d._events[k],x]:d._events[k].push(x):(d._events[k]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,k=new Array(x);y<x;y++)k[y]=m[y].fn;return k},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,y,x,k){var _=r?r+h:h;if(!this._events[_])return!1;var b=this._events[_],A=arguments.length,E,P;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),A){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,k),!0}for(P=1,E=new Array(A-1);P<A;P++)E[P-1]=arguments[P];b.fn.apply(b.context,E)}else{var O=b.length,N;for(P=0;P<O;P++)switch(b[P].once&&this.removeListener(h,b[P].fn,void 0,!0),A){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,p);break;case 3:b[P].fn.call(b[P].context,p,m);break;case 4:b[P].fn.call(b[P].context,p,m,y);break;default:if(!E)for(N=1,E=new Array(A-1);N<A;N++)E[N-1]=arguments[N];b[P].fn.apply(b[P].context,E)}}return!0},c.prototype.on=function(h,p,m){return a(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return a(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,y){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var k=this._events[x];if(k.fn)k.fn===p&&(!y||k.once)&&(!m||k.context===m)&&l(this,x);else{for(var _=0,b=[],A=k.length;_<A;_++)(k[_].fn!==p||y&&!k[_].once||m&&k[_].context!==m)&&b.push(k[_]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(zw)),zw.exports}var ise=nse();const ase=yt(ise);var Ww=new ase,Hw="recharts.syncMouseEvents";function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ose(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D6(n.key),n)}}function lse(t,e,r){return e&&ose(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gw(t,e,r){return e=D6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D6(t){var e=cse(t,"string");return fh(e)=="symbol"?e:e+""}function cse(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var use=function(){function t(){sse(this,t),Gw(this,"activeIndex",0),Gw(this,"coordinateList",[]),Gw(this,"layout","horizontal")}return lse(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,l=r.container,c=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,l=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+d+h,y=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function dse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Te(n)&&Te(i))return!0}return!1}function hse(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function L6(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,l=Pt(e,r,n,i),c=Pt(e,r,n,a);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function fse(t,e,r){var n,i,a,l;if(t==="horizontal")n=e.x,a=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,y=Pt(c,d,h,m),x=Pt(c,d,p,m);n=y.x,i=y.y,a=x.x,l=x.y}else return L6(e);return[{x:n,y:i},{x:a,y:l}]}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){pse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pse(t,e,r){return e=mse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mse(t){var e=gse(t,"string");return ph(e)=="symbol"?e:e+""}function gse(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vse(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,l=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!l||y!=="ScatterChart"&&i!=="axis")return null;var k,_=lk;if(y==="ScatterChart")k=l,_=Jte;else if(y==="BarChart")k=hse(m,l,d,p),_=Vj;else if(m==="radial"){var b=L6(l),A=b.cx,E=b.cy,P=b.radius,O=b.startAngle,N=b.endAngle;k={cx:A,cy:E,startAngle:O,endAngle:N,innerRadius:P,outerRadius:P},_=Fj}else k={points:fse(m,l,d)},_=lk;var I=_p(_p(_p(_p({stroke:"#ccc",pointerEvents:"none"},d),k),Ye(x,!1)),{},{payload:c,payloadIndex:h,className:rt("recharts-tooltip-cursor",x.className)});return z.isValidElement(x)?z.cloneElement(x,I):z.createElement(_,I)}var yse=["item"],xse=["children","className","width","height","style","compact","title","desc"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cc.apply(this,arguments)}function PR(t,e){return _se(t)||wse(t,e)||F6(t,e)||bse()}function bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function _se(t){if(Array.isArray(t))return t}function CR(t,e){if(t==null)return{};var r=kse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V6(n.key),n)}}function Nse(t,e,r){return e&&Sse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ese(t,e,r){return e=Gm(e),Tse(t,$6()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function Tse(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ase(t)}function Ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vk(t,e)}function Vk(t,e){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(t,e)}function Xc(t){return Ose(t)||Ise(t)||F6(t)||Cse()}function Cse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6(t,e){if(t){if(typeof t=="string")return Bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(t,e)}}function Ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ose(t){if(Array.isArray(t))return Bk(t)}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){He(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function He(t,e,r){return e=V6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V6(t){var e=Rse(t,"string");return Yc(e)=="symbol"?e:e+""}function Rse(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mse={xAxis:["bottom","top"],yAxis:["left","right"]},Dse={width:"100%",height:"100%"},B6={x:0,y:0};function kp(t){return t}var Lse=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},$se=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var l=a.coordinate,c=i.radius;return ve(ve(ve({},i),Pt(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var d=a.coordinate,h=i.angle;return ve(ve(ve({},i),Pt(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return B6},eg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,l=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(Xc(c),Xc(h)):c},[]);return l.length>0?l:e&&e.length&&Te(i)&&Te(a)?e.slice(i,a+1):[]};function U6(t){return t==="number"?[0,"auto"]:void 0}var Uk=function(e,r,n,i){var a=e.graphicalItems,l=e.tooltipAxis,c=eg(r,e);return n<0||!a||!a.length||n>=c.length?null:a.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?c:m;y=k_(x,l.dataKey,i)}else y=m&&m[n]||c[n];return y?[].concat(Xc(d),[DL(h,y)]):d},[])},OR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},l=Lse(a,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=kJ(l,c,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,y=Uk(e,r,p,m),x=$se(n,c,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Fse=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=PL(p,a);return n.reduce(function(k,_){var b,A=_.type.defaultProps!==void 0?ve(ve({},_.type.defaultProps),_.props):_.props,E=A.type,P=A.dataKey,O=A.allowDataOverflow,N=A.allowDuplicatedCategory,I=A.scale,T=A.ticks,C=A.includeHidden,L=A[l];if(k[L])return k;var M=eg(e.data,{graphicalItems:i.filter(function(X){var Y,le=l in X.props?X.props[l]:(Y=X.type.defaultProps)===null||Y===void 0?void 0:Y[l];return le===L}),dataStartIndex:d,dataEndIndex:h}),R=M.length,F,$,ee;dse(A.domain,O,E)&&(F=nk(A.domain,null,O),x&&(E==="number"||I!=="auto")&&(ee=yd(M,P,"category")));var ie=U6(E);if(!F||F.length===0){var Q,se=(Q=A.domain)!==null&&Q!==void 0?Q:ie;if(P){if(F=yd(M,P,E),E==="category"&&x){var te=vz(F);N&&te?($=F,F=Mm(0,R)):N||(F=MI(se,F,_).reduce(function(X,Y){return X.indexOf(Y)>=0?X:[].concat(Xc(X),[Y])},[]))}else if(E==="category")N?F=F.filter(function(X){return X!==""&&!it(X)}):F=MI(se,F,_).reduce(function(X,Y){return X.indexOf(Y)>=0||Y===""||it(Y)?X:[].concat(Xc(X),[Y])},[]);else if(E==="number"){var Z=TJ(M,i.filter(function(X){var Y,le,ge=l in X.props?X.props[l]:(Y=X.type.defaultProps)===null||Y===void 0?void 0:Y[l],he="hide"in X.props?X.props.hide:(le=X.type.defaultProps)===null||le===void 0?void 0:le.hide;return ge===L&&(C||!he)}),P,a,p);Z&&(F=Z)}x&&(E==="number"||I!=="auto")&&(ee=yd(M,P,"category"))}else x?F=Mm(0,R):c&&c[L]&&c[L].hasStack&&E==="number"?F=y==="expand"?[0,1]:ML(c[L].stackGroups,d,h):F=AL(M,i.filter(function(X){var Y=l in X.props?X.props[l]:X.type.defaultProps[l],le="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return Y===L&&(C||!le)}),E,p,!0);if(E==="number")F=Fk(m,F,L,a,T),se&&(F=nk(se,F,O));else if(E==="category"&&se){var re=se,W=F.every(function(X){return re.indexOf(X)>=0});W&&(F=re)}}return ve(ve({},k),{},He({},L,ve(ve({},A),{},{axisType:a,domain:F,categoricalDomain:ee,duplicateDomain:$,originalDomain:(b=A.domain)!==null&&b!==void 0?b:ie,isCategorical:x,layout:p})))},{})},Vse=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=eg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),x=y.length,k=PL(p,a),_=-1;return n.reduce(function(b,A){var E=A.type.defaultProps!==void 0?ve(ve({},A.type.defaultProps),A.props):A.props,P=E[l],O=U6("number");if(!b[P]){_++;var N;return k?N=Mm(0,x):c&&c[P]&&c[P].hasStack?(N=ML(c[P].stackGroups,d,h),N=Fk(m,N,P,a)):(N=nk(O,AL(y,n.filter(function(I){var T,C,L=l in I.props?I.props[l]:(T=I.type.defaultProps)===null||T===void 0?void 0:T[l],M="hide"in I.props?I.props.hide:(C=I.type.defaultProps)===null||C===void 0?void 0:C.hide;return L===P&&!M}),"number",p),i.defaultProps.allowDataOverflow),N=Fk(m,N,P,a)),ve(ve({},b),{},He({},P,ve(ve({axisType:a},i.defaultProps),{},{hide:!0,orientation:Yn(Mse,"".concat(a,".").concat(_%2),null),domain:N,originalDomain:O,isCategorical:k,layout:p})))}return b},{})},Bse=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,l=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=pi(p,a),x={};return y&&y.length?x=Fse(e,{axes:y,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(x=Vse(e,{Axis:a,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),x},Use=function(e){var r=Fs(e),n=$a(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:km(r,n)}},RR=function(e){var r=e.children,n=e.defaultShowTooltip,i=qn(r,Bc),a=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},qse=function(e){return!e||!e.length?!1:e.some(function(r){var n=Va(r&&r.type);return n&&n.indexOf("Bar")>=0})},MR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},zse=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,l=a===void 0?{}:a,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,p=n.height,m=n.children,y=n.margin||{},x=qn(m,Bc),k=qn(m,Hs),_=Object.keys(d).reduce(function(N,I){var T=d[I],C=T.orientation;return!T.mirror&&!T.hide?ve(ve({},N),{},He({},C,N[C]+T.width)):N},{left:y.left||0,right:y.right||0}),b=Object.keys(l).reduce(function(N,I){var T=l[I],C=T.orientation;return!T.mirror&&!T.hide?ve(ve({},N),{},He({},C,Yn(N,"".concat(C))+T.height)):N},{top:y.top||0,bottom:y.bottom||0}),A=ve(ve({},b),_),E=A.bottom;x&&(A.bottom+=x.props.height||Bc.defaultProps.height),k&&r&&(A=NJ(A,i,n,r));var P=h-A.left-A.right,O=p-A.top-A.bottom;return ve(ve({brushBottom:E},A),{},{width:Math.max(P,0),height:Math.max(O,0)})},Wse=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},q6=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(A,E){var P=E.graphicalItems,O=E.stackGroups,N=E.offset,I=E.updateId,T=E.dataStartIndex,C=E.dataEndIndex,L=A.barSize,M=A.layout,R=A.barGap,F=A.barCategoryGap,$=A.maxBarSize,ee=MR(M),ie=ee.numericAxisName,Q=ee.cateAxisName,se=qse(P),te=[];return P.forEach(function(Z,re){var W=eg(A.data,{graphicalItems:[Z],dataStartIndex:T,dataEndIndex:C}),X=Z.type.defaultProps!==void 0?ve(ve({},Z.type.defaultProps),Z.props):Z.props,Y=X.dataKey,le=X.maxBarSize,ge=X["".concat(ie,"Id")],he=X["".concat(Q,"Id")],de={},be=d.reduce(function(It,Ir){var nn=E["".concat(Ir.axisType,"Map")],or=X["".concat(Ir.axisType,"Id")];nn&&nn[or]||Ir.axisType==="zAxis"||sl();var Cn=nn[or];return ve(ve({},It),{},He(He({},Ir.axisType,Cn),"".concat(Ir.axisType,"Ticks"),$a(Cn)))},de),q=be[Q],me=be["".concat(Q,"Ticks")],xe=O&&O[ge]&&O[ge].hasStack&&LJ(Z,O[ge].stackGroups),U=Va(Z.type).indexOf("Bar")>=0,ue=km(q,me),_e=[],Ie=se&&jJ({barSize:L,stackGroups:O,totalSize:Wse(be,Q)});if(U){var Ue,Qt,pr=it(le)?$:le,rn=(Ue=(Qt=km(q,me,!0))!==null&&Qt!==void 0?Qt:pr)!==null&&Ue!==void 0?Ue:0;_e=SJ({barGap:R,barCategoryGap:F,bandSize:rn!==ue?rn:ue,sizeList:Ie[he],maxBarSize:pr}),rn!==ue&&(_e=_e.map(function(It){return ve(ve({},It),{},{position:ve(ve({},It.position),{},{offset:It.position.offset-rn/2})})}))}var Ct=Z&&Z.type&&Z.type.getComposedData;Ct&&te.push({props:ve(ve({},Ct(ve(ve({},be),{},{displayedData:W,props:A,dataKey:Y,item:Z,bandSize:ue,barPosition:_e,offset:N,stackedData:xe,layout:M,dataStartIndex:T,dataEndIndex:C}))),{},He(He(He({key:Z.key||"item-".concat(re)},ie,be[ie]),Q,be[Q]),"animationId",I)),childIndex:Az(Z,A.children),item:Z})}),te},x=function(A,E){var P=A.props,O=A.dataStartIndex,N=A.dataEndIndex,I=A.updateId;if(!XA({props:P}))return null;var T=P.children,C=P.layout,L=P.stackOffset,M=P.data,R=P.reverseStackOrder,F=MR(C),$=F.numericAxisName,ee=F.cateAxisName,ie=pi(T,n),Q=MJ(M,ie,"".concat($,"Id"),"".concat(ee,"Id"),L,R),se=d.reduce(function(X,Y){var le="".concat(Y.axisType,"Map");return ve(ve({},X),{},He({},le,Bse(P,ve(ve({},Y),{},{graphicalItems:ie,stackGroups:Y.axisType===$&&Q,dataStartIndex:O,dataEndIndex:N}))))},{}),te=zse(ve(ve({},se),{},{props:P,graphicalItems:ie}),E?.legendBBox);Object.keys(se).forEach(function(X){se[X]=p(P,se[X],te,X.replace("Map",""),r)});var Z=se["".concat(ee,"Map")],re=Use(Z),W=y(P,ve(ve({},se),{},{dataStartIndex:O,dataEndIndex:N,updateId:I,graphicalItems:ie,stackGroups:Q,offset:te}));return ve(ve({formattedGraphicalItems:W,graphicalItems:ie,offset:te,stackGroups:Q},re),se)},k=function(b){function A(E){var P,O,N;return jse(this,A),N=Ese(this,A,[E]),He(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(N,"accessibilityManager",new use),He(N,"handleLegendBBoxUpdate",function(I){if(I){var T=N.state,C=T.dataStartIndex,L=T.dataEndIndex,M=T.updateId;N.setState(ve({legendBBox:I},x({props:N.props,dataStartIndex:C,dataEndIndex:L,updateId:M},ve(ve({},N.state),{},{legendBBox:I}))))}}),He(N,"handleReceiveSyncEvent",function(I,T,C){if(N.props.syncId===I){if(C===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),He(N,"handleBrushChange",function(I){var T=I.startIndex,C=I.endIndex;if(T!==N.state.dataStartIndex||C!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return ve({dataStartIndex:T,dataEndIndex:C},x({props:N.props,dataStartIndex:T,dataEndIndex:C,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),He(N,"handleMouseEnter",function(I){var T=N.getMouseInfo(I);if(T){var C=ve(ve({},T),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var L=N.props.onMouseEnter;Qe(L)&&L(C,I)}}),He(N,"triggeredAfterMouseMove",function(I){var T=N.getMouseInfo(I),C=T?ve(ve({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var L=N.props.onMouseMove;Qe(L)&&L(C,I)}),He(N,"handleItemMouseEnter",function(I){N.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),He(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),He(N,"handleMouseMove",function(I){I.persist(),N.throttleTriggeredAfterMouseMove(I)}),He(N,"handleMouseLeave",function(I){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var C=N.props.onMouseLeave;Qe(C)&&C(T,I)}),He(N,"handleOuterEvent",function(I){var T=Tz(I),C=Yn(N.props,"".concat(T));if(T&&Qe(C)){var L,M;/.*touch.*/i.test(T)?M=N.getMouseInfo(I.changedTouches[0]):M=N.getMouseInfo(I),C((L=M)!==null&&L!==void 0?L:{},I)}}),He(N,"handleClick",function(I){var T=N.getMouseInfo(I);if(T){var C=ve(ve({},T),{},{isTooltipActive:!0});N.setState(C),N.triggerSyncEvent(C);var L=N.props.onClick;Qe(L)&&L(C,I)}}),He(N,"handleMouseDown",function(I){var T=N.props.onMouseDown;if(Qe(T)){var C=N.getMouseInfo(I);T(C,I)}}),He(N,"handleMouseUp",function(I){var T=N.props.onMouseUp;if(Qe(T)){var C=N.getMouseInfo(I);T(C,I)}}),He(N,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),He(N,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseDown(I.changedTouches[0])}),He(N,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseUp(I.changedTouches[0])}),He(N,"handleDoubleClick",function(I){var T=N.props.onDoubleClick;if(Qe(T)){var C=N.getMouseInfo(I);T(C,I)}}),He(N,"handleContextMenu",function(I){var T=N.props.onContextMenu;if(Qe(T)){var C=N.getMouseInfo(I);T(C,I)}}),He(N,"triggerSyncEvent",function(I){N.props.syncId!==void 0&&Ww.emit(Hw,N.props.syncId,I,N.eventEmitterSymbol)}),He(N,"applySyncEvent",function(I){var T=N.props,C=T.layout,L=T.syncMethod,M=N.state.updateId,R=I.dataStartIndex,F=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)N.setState(ve({dataStartIndex:R,dataEndIndex:F},x({props:N.props,dataStartIndex:R,dataEndIndex:F,updateId:M},N.state)));else if(I.activeTooltipIndex!==void 0){var $=I.chartX,ee=I.chartY,ie=I.activeTooltipIndex,Q=N.state,se=Q.offset,te=Q.tooltipTicks;if(!se)return;if(typeof L=="function")ie=L(te,I);else if(L==="value"){ie=-1;for(var Z=0;Z<te.length;Z++)if(te[Z].value===I.activeLabel){ie=Z;break}}var re=ve(ve({},se),{},{x:se.left,y:se.top}),W=Math.min($,re.x+re.width),X=Math.min(ee,re.y+re.height),Y=te[ie]&&te[ie].value,le=Uk(N.state,N.props.data,ie),ge=te[ie]?{x:C==="horizontal"?te[ie].coordinate:W,y:C==="horizontal"?X:te[ie].coordinate}:B6;N.setState(ve(ve({},I),{},{activeLabel:Y,activeCoordinate:ge,activePayload:le,activeTooltipIndex:ie}))}else N.setState(I)}),He(N,"renderCursor",function(I){var T,C=N.state,L=C.isTooltipActive,M=C.activeCoordinate,R=C.activePayload,F=C.offset,$=C.activeTooltipIndex,ee=C.tooltipAxisBandSize,ie=N.getTooltipEventType(),Q=(T=I.props.active)!==null&&T!==void 0?T:L,se=N.props.layout,te=I.key||"_recharts-cursor";return K.createElement(vse,{key:te,activeCoordinate:M,activePayload:R,activeTooltipIndex:$,chartName:r,element:I,isActive:Q,layout:se,offset:F,tooltipAxisBandSize:ee,tooltipEventType:ie})}),He(N,"renderPolarAxis",function(I,T,C){var L=Yn(I,"type.axisType"),M=Yn(N.state,"".concat(L,"Map")),R=I.type.defaultProps,F=R!==void 0?ve(ve({},R),I.props):I.props,$=M&&M[F["".concat(L,"Id")]];return z.cloneElement(I,ve(ve({},$),{},{className:rt(L,$.className),key:I.key||"".concat(T,"-").concat(C),ticks:$a($,!0)}))}),He(N,"renderPolarGrid",function(I){var T=I.props,C=T.radialLines,L=T.polarAngles,M=T.polarRadius,R=N.state,F=R.radiusAxisMap,$=R.angleAxisMap,ee=Fs(F),ie=Fs($),Q=ie.cx,se=ie.cy,te=ie.innerRadius,Z=ie.outerRadius;return z.cloneElement(I,{polarAngles:Array.isArray(L)?L:$a(ie,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(M)?M:$a(ee,!0).map(function(re){return re.coordinate}),cx:Q,cy:se,innerRadius:te,outerRadius:Z,key:I.key||"polar-grid",radialLines:C})}),He(N,"renderLegend",function(){var I=N.state.formattedGraphicalItems,T=N.props,C=T.children,L=T.width,M=T.height,R=N.props.margin||{},F=L-(R.left||0)-(R.right||0),$=EL({children:C,formattedGraphicalItems:I,legendWidth:F,legendContent:h});if(!$)return null;var ee=$.item,ie=CR($,yse);return z.cloneElement(ee,ve(ve({},ie),{},{chartWidth:L,chartHeight:M,margin:R,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),He(N,"renderTooltip",function(){var I,T=N.props,C=T.children,L=T.accessibilityLayer,M=qn(C,di);if(!M)return null;var R=N.state,F=R.isTooltipActive,$=R.activeCoordinate,ee=R.activePayload,ie=R.activeLabel,Q=R.offset,se=(I=M.props.active)!==null&&I!==void 0?I:F;return z.cloneElement(M,{viewBox:ve(ve({},Q),{},{x:Q.left,y:Q.top}),active:se,label:ie,payload:se?ee:[],coordinate:$,accessibilityLayer:L})}),He(N,"renderBrush",function(I){var T=N.props,C=T.margin,L=T.data,M=N.state,R=M.offset,F=M.dataStartIndex,$=M.dataEndIndex,ee=M.updateId;return z.cloneElement(I,{key:I.key||"_recharts-brush",onChange:yp(N.handleBrushChange,I.props.onChange),data:L,x:Te(I.props.x)?I.props.x:R.left,y:Te(I.props.y)?I.props.y:R.top+R.height+R.brushBottom-(C.bottom||0),width:Te(I.props.width)?I.props.width:R.width,startIndex:F,endIndex:$,updateId:"brush-".concat(ee)})}),He(N,"renderReferenceElement",function(I,T,C){if(!I)return null;var L=N,M=L.clipPathId,R=N.state,F=R.xAxisMap,$=R.yAxisMap,ee=R.offset,ie=I.type.defaultProps||{},Q=I.props,se=Q.xAxisId,te=se===void 0?ie.xAxisId:se,Z=Q.yAxisId,re=Z===void 0?ie.yAxisId:Z;return z.cloneElement(I,{key:I.key||"".concat(T,"-").concat(C),xAxis:F[te],yAxis:$[re],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:M})}),He(N,"renderActivePoints",function(I){var T=I.item,C=I.activePoint,L=I.basePoint,M=I.childIndex,R=I.isRange,F=[],$=T.props.key,ee=T.item.type.defaultProps!==void 0?ve(ve({},T.item.type.defaultProps),T.item.props):T.item.props,ie=ee.activeDot,Q=ee.dataKey,se=ve(ve({index:M,dataKey:Q,cx:C.x,cy:C.y,r:4,fill:$j(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ye(ie,!1)),Zp(ie));return F.push(A.renderActiveDot(ie,se,"".concat($,"-activePoint-").concat(M))),L?F.push(A.renderActiveDot(ie,ve(ve({},se),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(M))):R&&F.push(null),F}),He(N,"renderGraphicChild",function(I,T,C){var L=N.filterFormatItem(I,T,C);if(!L)return null;var M=N.getTooltipEventType(),R=N.state,F=R.isTooltipActive,$=R.tooltipAxis,ee=R.activeTooltipIndex,ie=R.activeLabel,Q=N.props.children,se=qn(Q,di),te=L.props,Z=te.points,re=te.isRange,W=te.baseLine,X=L.item.type.defaultProps!==void 0?ve(ve({},L.item.type.defaultProps),L.item.props):L.item.props,Y=X.activeDot,le=X.hide,ge=X.activeBar,he=X.activeShape,de=!!(!le&&F&&se&&(Y||ge||he)),be={};M!=="axis"&&se&&se.props.trigger==="click"?be={onClick:yp(N.handleItemMouseEnter,I.props.onClick)}:M!=="axis"&&(be={onMouseLeave:yp(N.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:yp(N.handleItemMouseEnter,I.props.onMouseEnter)});var q=z.cloneElement(I,ve(ve({},L.props),be));function me(Ir){return typeof $.dataKey=="function"?$.dataKey(Ir.payload):null}if(de)if(ee>=0){var xe,U;if($.dataKey&&!$.allowDuplicatedCategory){var ue=typeof $.dataKey=="function"?me:"payload.".concat($.dataKey.toString());xe=k_(Z,ue,ie),U=re&&W&&k_(W,ue,ie)}else xe=Z?.[ee],U=re&&W&&W[ee];if(he||ge){var _e=I.props.activeIndex!==void 0?I.props.activeIndex:ee;return[z.cloneElement(I,ve(ve(ve({},L.props),be),{},{activeIndex:_e})),null,null]}if(!it(xe))return[q].concat(Xc(N.renderActivePoints({item:L,activePoint:xe,basePoint:U,childIndex:ee,isRange:re})))}else{var Ie,Ue=(Ie=N.getItemByXY(N.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:q},Qt=Ue.graphicalItem,pr=Qt.item,rn=pr===void 0?I:pr,Ct=Qt.childIndex,It=ve(ve(ve({},L.props),be),{},{activeIndex:Ct});return[z.cloneElement(rn,It),null,null]}return re?[q,null,null]:[q,null]}),He(N,"renderCustomized",function(I,T,C){return z.cloneElement(I,ve(ve({key:"recharts-customized-".concat(C)},N.props),N.state))}),He(N,"renderMap",{CartesianGrid:{handler:kp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:kp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:kp},YAxis:{handler:kp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((P=E.id)!==null&&P!==void 0?P:Rh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=N3(N.triggeredAfterMouseMove,(O=E.throttleDelay)!==null&&O!==void 0?O:1e3/60),N.state={},N}return Pse(A,b),Nse(A,[{key:"componentDidMount",value:function(){var P,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,O=P.children,N=P.data,I=P.height,T=P.layout,C=qn(O,di);if(C){var L=C.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,R=Uk(this.state,N,L,M),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+I)/2,ee=T==="horizontal",ie=ee?{x:F,y:$}:{y:F,x:$},Q=this.state.formattedGraphicalItems.find(function(te){var Z=te.item;return Z.type.name==="Scatter"});Q&&(ie=ve(ve({},ie),Q.props.points[L].tooltipPosition),R=Q.props.points[L].tooltipPayload);var se={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:M,activePayload:R,activeCoordinate:ie};this.setState(se),this.renderCursor(C),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var N,I;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(P){S_([qn(P.children,di)],[qn(this.props.children,di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=qn(this.props.children,di);if(P&&typeof P.props.shared=="boolean"){var O=P.props.shared?"axis":"item";return c.indexOf(O)>=0?O:a}return a}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var O=this.container,N=O.getBoundingClientRect(),I=mK(N),T={chartX:Math.round(P.pageX-I.left),chartY:Math.round(P.pageY-I.top)},C=N.width/O.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,C);if(!L)return null;var M=this.state,R=M.xAxisMap,F=M.yAxisMap,$=this.getTooltipEventType(),ee=OR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&R&&F){var ie=Fs(R).scale,Q=Fs(F).scale,se=ie&&ie.invert?ie.invert(T.chartX):null,te=Q&&Q.invert?Q.invert(T.chartY):null;return ve(ve({},T),{},{xValue:se,yValue:te},ee)}return ee?ve(ve({},T),ee):null}},{key:"inRange",value:function(P,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,T=P/N,C=O/N;if(I==="horizontal"||I==="vertical"){var L=this.state.offset,M=T>=L.left&&T<=L.left+L.width&&C>=L.top&&C<=L.top+L.height;return M?{x:T,y:C}:null}var R=this.state,F=R.angleAxisMap,$=R.radiusAxisMap;if(F&&$){var ee=Fs(F);return $I({x:T,y:C},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,O=this.getTooltipEventType(),N=qn(P,di),I={};N&&O==="axis"&&(N.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Zp(this.props,this.handleOuterEvent);return ve(ve({},T),I)}},{key:"addListener",value:function(){Ww.on(Hw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ww.removeListener(Hw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,O,N){for(var I=this.state.formattedGraphicalItems,T=0,C=I.length;T<C;T++){var L=I[T];if(L.item===P||L.props.key===P.key||O===Va(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,O=this.state.offset,N=O.left,I=O.top,T=O.height,C=O.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:N,y:I,height:T,width:C})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(O,N){var I=PR(N,2),T=I[0],C=I[1];return ve(ve({},O),{},He({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(O,N){var I=PR(N,2),T=I[0],C=I[1];return ve(ve({},O),{},He({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(P){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[P])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(P){var O=this.state,N=O.formattedGraphicalItems,I=O.activeItem;if(N&&N.length)for(var T=0,C=N.length;T<C;T++){var L=N[T],M=L.props,R=L.item,F=R.type.defaultProps!==void 0?ve(ve({},R.type.defaultProps),R.props):R.props,$=Va(R.type);if($==="Bar"){var ee=(M.data||[]).find(function(te){return Ite(P,te)});if(ee)return{graphicalItem:L,payload:ee}}else if($==="RadialBar"){var ie=(M.data||[]).find(function(te){return $I(P,te)});if(ie)return{graphicalItem:L,payload:ie}}else if(G0(L,I)||K0(L,I)||lh(L,I)){var Q=tne({graphicalItem:L,activeTooltipItem:I,itemData:F.data}),se=F.activeIndex===void 0?Q:F.activeIndex;return{graphicalItem:ve(ve({},L),{},{childIndex:se}),payload:lh(L,I)?F.data[Q]:L.props.data[Q]}}}return null}},{key:"render",value:function(){var P=this;if(!XA(this))return null;var O=this.props,N=O.children,I=O.className,T=O.width,C=O.height,L=O.style,M=O.compact,R=O.title,F=O.desc,$=CR(O,xse),ee=Ye($,!1);if(M)return K.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(E_,cc({},ee,{width:T,height:C,title:R,desc:F}),this.renderClipPath(),JA(N,this.renderMap)));if(this.props.accessibilityLayer){var ie,Q;ee.tabIndex=(ie=this.props.tabIndex)!==null&&ie!==void 0?ie:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(te){P.accessibilityManager.keyboardEvent(te)},ee.onFocus=function(){P.accessibilityManager.focus()}}var se=this.parseEventsOfWrapper();return K.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",cc({className:rt("recharts-wrapper",I),style:ve({position:"relative",cursor:"default",width:T,height:C},L)},se,{ref:function(Z){P.container=Z}}),K.createElement(E_,cc({},ee,{width:T,height:C,title:R,desc:F,style:Dse}),this.renderClipPath(),JA(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);He(k,"displayName",r),He(k,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),He(k,"getDerivedStateFromProps",function(b,A){var E=b.dataKey,P=b.data,O=b.children,N=b.width,I=b.height,T=b.layout,C=b.stackOffset,L=b.margin,M=A.dataStartIndex,R=A.dataEndIndex;if(A.updateId===void 0){var F=RR(b);return ve(ve(ve({},F),{},{updateId:0},x(ve(ve({props:b},F),{},{updateId:0}),A)),{},{prevDataKey:E,prevData:P,prevWidth:N,prevHeight:I,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:O})}if(E!==A.prevDataKey||P!==A.prevData||N!==A.prevWidth||I!==A.prevHeight||T!==A.prevLayout||C!==A.prevStackOffset||!gc(L,A.prevMargin)){var $=RR(b),ee={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},ie=ve(ve({},OR(A,P,T)),{},{updateId:A.updateId+1}),Q=ve(ve(ve({},$),ee),ie);return ve(ve(ve({},Q),x(ve({props:b},Q),A)),{},{prevDataKey:E,prevData:P,prevWidth:N,prevHeight:I,prevLayout:T,prevStackOffset:C,prevMargin:L,prevChildren:O})}if(!S_(O,A.prevChildren)){var se,te,Z,re,W=qn(O,Bc),X=W&&(se=(te=W.props)===null||te===void 0?void 0:te.startIndex)!==null&&se!==void 0?se:M,Y=W&&(Z=(re=W.props)===null||re===void 0?void 0:re.endIndex)!==null&&Z!==void 0?Z:R,le=X!==M||Y!==R,ge=!it(P),he=ge&&!le?A.updateId:A.updateId+1;return ve(ve({updateId:he},x(ve(ve({props:b},A),{},{updateId:he,dataStartIndex:X,dataEndIndex:Y}),A)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:Y})}return null}),He(k,"renderActiveDot",function(b,A,E){var P;return z.isValidElement(b)?P=z.cloneElement(b,A):Qe(b)?P=b(A):P=K.createElement(Bj,A),K.createElement(bt,{className:"recharts-active-dot",key:E},P)});var _=z.forwardRef(function(A,E){return K.createElement(k,cc({},A,{ref:E}))});return _.displayName=k.displayName,_},z6=q6({chartName:"BarChart",GraphicalChild:da,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vh},{axisType:"yAxis",AxisComp:Bh}],formatAxisMap:iie}),Hse=q6({chartName:"PieChart",GraphicalChild:ts,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:H0},{axisType:"radiusAxis",AxisComp:z0}],formatAxisMap:GJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Gse={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Kse=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[l,c]=z.useState(20),[d,h]=z.useState("single-member-llc"),[p,m]=z.useState("quarterly"),[y,x]=z.useState(!1);z.useEffect(()=>{c(Gse[d])},[d]);const k=z.useMemo(()=>{const P=new Date;let O,N;switch(p){case"weekly":O=new Date(P.setDate(P.getDate()-P.getDay())),N=new Date(P.setDate(P.getDate()-P.getDay()+6));break;case"monthly":O=new Date(P.getFullYear(),P.getMonth(),1),N=new Date(P.getFullYear(),P.getMonth()+1,0);break;case"quarterly":const I=Math.floor(P.getMonth()/3);O=new Date(P.getFullYear(),I*3,1),N=new Date(P.getFullYear(),I*3+3,0);break;case"yearly":O=new Date(P.getFullYear(),0,1),N=new Date(P.getFullYear(),11,31);break;default:O=new Date,N=new Date}return{start:O,end:N}},[p]),_=z.useMemo(()=>{const P=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=k.start&&$<=k.end}),O=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,N=(k.end-k.start)/(1e3*60*60*24*30.44),I=O*N,T=P.reduce((F,$)=>F+($.revenue||0),0),C=P.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=T-C,M=L-I,R=M>0?M*(l/100):0;return{netProfit:M,estimatedTax:R,grossProfit:L,periodOperatingExpenses:I}},[t,e,r,l,k]),b=z.useMemo(()=>n.filter(P=>{const O=new Date(P.date);return O>=k.start&&O<=k.end}).reduce((P,O)=>P+(O.amount||0),0),[n,k]),A=_.estimatedTax-b,E=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":b}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),o.jsxs("select",{id:"filingStatus",value:d,onChange:P=>h(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[o.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),o.jsx("option",{value:"s-corp",children:"S-Corporation"}),o.jsx("option",{value:"c-corp",children:"C-Corporation"}),o.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),o.jsx("input",{id:"taxRate",type:"number",value:l,onChange:P=>c(parseFloat(P.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[o.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),o.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),o.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),o.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[o.jsx(Qi,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:"blue"}),o.jsx(Qi,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),o.jsx(Qi,{title:"Overpayment / (Underpayment)",value:`${A<0?"-":""}$${Math.abs(A).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Ur,{}),color:A<0?"green":"red",subtext:A<0?"You have overpaid":"Remaining balance due"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",o.jsx(Jp,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&o.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Gross Profit (from Jobs):"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"- Est. Operating Expenses:"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),o.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),o.jsxs("div",{className:"flex justify-between font-bold",children:[o.jsx("span",{children:"= Estimated Net Profit:"})," ",o.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:["x Tax Rate (",l,"%):"]})," ",o.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[o.jsx(k4,{size:20}),o.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),o.jsx(fj,{width:"100%",height:200,children:o.jsxs(z6,{data:E,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[o.jsx(Qj,{strokeDasharray:"3 3"}),o.jsx(Vh,{type:"number"}),o.jsx(Bh,{type:"category",dataKey:"name",hide:!0}),o.jsx(di,{formatter:P=>`$${P.toLocaleString()}`}),o.jsx(Hs,{}),o.jsx(da,{dataKey:"Estimated Tax",fill:"#f97316"}),o.jsx(da,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),o.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Record Payment"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Date"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-right",children:"Amount"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:n.map(P=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:P.date}),o.jsx("td",{className:"p-3",children:P.notes}),o.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(P.amount||0).toFixed(2)]}),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>i("taxPayment",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>a("taxPayment",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(sr,{size:16})})]})]},P.id))})]})})]})]})},Yse=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=z.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=c.getDay(),p=d.getDate(),m=[];for(let _=0;_<h;_++)m.push(null);for(let _=1;_<=p;_++)m.push(new Date(n.getFullYear(),n.getMonth(),_));const y=z.useMemo(()=>{const _={};return t.forEach(b=>{const A=new Date(b.date).toISOString().split("T")[0];_[A]||(_[A]=[]),_[A].push({...b,type:"job"})}),e.forEach(b=>{const A=new Date(b.date).toISOString().split("T")[0];_[A]||(_[A]=[]),_[A].push({...b,type:"task"})}),_},[t,e]),x=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},k=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:o.jsx(w4,{})}),o.jsxs("h2",{className:"text-xl font-bold",children:[l[n.getMonth()]," ",n.getFullYear()]}),o.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:o.jsx(U1,{})})]}),o.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[o.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add Task"]}),o.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add Job"]})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(_=>o.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:_},_)),m.map((_,b)=>o.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${_?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>_&&r("task",{date:_.toISOString().split("T")[0]}),children:[_&&o.jsx("span",{className:"text-xs font-semibold",children:_.getDate()}),_&&y[_.toISOString().split("T")[0]]?.map(A=>o.jsx("div",{onClick:E=>{E.stopPropagation(),r(A.type,A)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${A.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:A.name||A.title},A.id))]},b))]})]})},Xse=({item:t=null,type:e,onSave:r,onClose:n,debts:i=[],clients:a=[],vehicles:l=[]})=>{const[c,d]=z.useState({}),[h,p]=z.useState(null);z.useEffect(()=>{if(t)d(t);else{const b=m(e);d(b)}},[t,e]);const m=b=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[b]||{},y=b=>{const{name:A,value:E,type:P,checked:O}=b.target;d(N=>({...N,[A]:P==="checkbox"?O:E}))},x=b=>{if(b.preventDefault(),!c.name&&!c.title&&!c.billTo&&!c.customer){alert("Please fill in the required fields.");return}const A={...c};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(O=>{A[O]!==void 0&&A[O]!==""&&(A[O]=parseFloat(A[O])||0)}),e==="client"){if(A.isParent&&A.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}A.isParent?(A.companyType="parent",A.parentId=null):A.parentId?A.companyType="child":A.companyType="regular"}if(e==="invoice"){if(A.invoiceNumber||(A.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),A.transactionDate&&A.netTerms&&!A.dueDate){const O=new Date(A.transactionDate);let N=30;A.netTerms.includes("45")?N=45:A.netTerms.includes("15")?N=15:A.netTerms.includes("Due on Receipt")&&(N=0);const I=new Date(O);I.setDate(I.getDate()+N),A.dueDate=I.toISOString().split("T")[0]}A.status=A.invoiceStatus==="Paid"?"Paid":"Unpaid",A.net=A.grandTotal,A.invNum=A.invoiceNumber,A.jobNo=A.jobNumber,!A.grandTotal&&A.net&&(A.grandTotal=A.net)}r(A,h)},k=a.filter(b=>(b.isParent||b.companyType==="parent")&&(!t||b.id!==t.id)),_=()=>{switch(e){case"bill":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),o.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:c.dueDay||1,onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:c.category||"Utilities",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Utilities",children:"Utilities"}),o.jsx("option",{value:"Insurance",children:"Insurance"}),o.jsx("option",{value:"Vehicle",children:"Vehicle"}),o.jsx("option",{value:"Software",children:"Software"}),o.jsx("option",{value:"Overhead",children:"Overhead"}),o.jsx("option",{value:"Equipment",children:"Equipment"}),o.jsx("option",{value:"Marketing",children:"Marketing"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isAutoPay",checked:c.isAutoPay||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),o.jsx("input",{type:"text",name:"creditor",value:c.creditor||"",onChange:y,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),o.jsxs("select",{name:"debtType",value:c.debtType||"Credit Card",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Credit Card",children:"Credit Card"}),o.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),o.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),o.jsx("option",{value:"Mortgage",children:"Mortgage"}),o.jsx("option",{value:"Student Loan",children:"Student Loan"}),o.jsx("option",{value:"Business Loan",children:"Business Loan"}),o.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:c.totalAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),o.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:c.paidAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),o.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:c.interestRate||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),o.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:c.minimumPayment||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),o.jsx("input",{type:"date",name:"dueDate",value:c.dueDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.totalAmount||c.paidAmount)&&o.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),o.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(c.totalAmount)||0)-(parseFloat(c.paidAmount)||0)).toFixed(2)]})]}),o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(c.totalAmount>0?(parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100:0,100)}%`}})}),o.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[c.totalAmount>0?((parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),o.jsxs("select",{name:"type",value:c.type||"monthly",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"monthly",children:"Monthly"}),o.jsx("option",{value:"weekly",children:"Weekly"}),o.jsx("option",{value:"quarterly",children:"Quarterly"}),o.jsx("option",{value:"annually",children:"Annually"}),o.jsx("option",{value:"one-time",children:"One-time"}),o.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"paused",children:"Paused"})]})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),c.amount&&parseFloat(c.amount)>0&&c.type&&o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[c.type||"Monthly",":"]}),o.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),o.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const b=parseFloat(c.amount);switch(c.type){case"weekly":return(b*4.33).toFixed(2);case"quarterly":return(b/3).toFixed(2);case"annually":return(b/12).toFixed(2);case"monthly":default:return b.toFixed(2)}})()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const b=parseFloat(c.amount);let A;switch(c.type){case"weekly":A=b*4.33;break;case"quarterly":A=b/3;break;case"annually":A=b/12;break;case"monthly":default:A=b;break}return(A*12).toLocaleString()})()]})]})]})]})]});case"weekly":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),o.jsxs("select",{name:"category",value:c.category||"Other",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Payroll",children:"Payroll"}),o.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),o.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),o.jsx("option",{value:"Utilities",children:"Utilities"}),o.jsx("option",{value:"Insurance",children:"Insurance"}),o.jsx("option",{value:"Marketing",children:"Marketing"}),o.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),o.jsx("option",{value:"Supplies",children:"Supplies"}),o.jsx("option",{value:"Contractors",children:"Contractors"}),o.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.amount&&parseFloat(c.amount)>0&&o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),o.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),o.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(c.amount)*4.33).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(c.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),o.jsxs("select",{name:"make",value:c.make||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Select Make"}),o.jsx("option",{value:"FORD",children:"Ford"}),o.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),o.jsx("option",{value:"GMC",children:"GMC"}),o.jsx("option",{value:"TOYOTA",children:"Toyota"}),o.jsx("option",{value:"HONDA",children:"Honda"}),o.jsx("option",{value:"NISSAN",children:"Nissan"}),o.jsx("option",{value:"RAM",children:"Ram"}),o.jsx("option",{value:"DODGE",children:"Dodge"}),o.jsx("option",{value:"JEEP",children:"Jeep"}),o.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),o.jsx("option",{value:"KIA",children:"Kia"}),o.jsx("option",{value:"MAZDA",children:"Mazda"}),o.jsx("option",{value:"SUBARU",children:"Subaru"}),o.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),o.jsx("option",{value:"BMW",children:"BMW"}),o.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),o.jsx("option",{value:"AUDI",children:"Audi"}),o.jsx("option",{value:"LEXUS",children:"Lexus"}),o.jsx("option",{value:"ACURA",children:"Acura"}),o.jsx("option",{value:"INFINITI",children:"Infiniti"}),o.jsx("option",{value:"CADILLAC",children:"Cadillac"}),o.jsx("option",{value:"LINCOLN",children:"Lincoln"}),o.jsx("option",{value:"BUICK",children:"Buick"}),o.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),o.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),o.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:y,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),o.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:c.year||new Date().getFullYear(),onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),o.jsx("input",{type:"text",name:"color",value:c.color||"",onChange:y,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"maintenance",children:"In Maintenance"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"sold",children:"Sold"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),o.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:y,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),o.jsx("input",{type:"text",name:"licensePlate",value:c.licensePlate||"",onChange:y,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),o.jsx("input",{type:"number",min:"0",name:"currentMileage",value:c.currentMileage||"",onChange:y,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),o.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:c.lastServiceMileage||"",onChange:y,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),o.jsx("input",{type:"date",name:"registrationExpiry",value:c.registrationExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),o.jsx("input",{type:"date",name:"insuranceExpiry",value:c.insuranceExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),o.jsx("input",{type:"date",name:"nextServiceDue",value:c.nextServiceDue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.name||c.make||c.model)&&o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Vehicle Preview"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:c.name||"Unnamed Vehicle"}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c.year," ",c.make," ",c.model,c.color&&` (${c.color})`]}),c.licensePlate&&o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",c.licensePlate]}),c.currentMileage&&o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(c.currentMileage).toLocaleString()," miles"]}),o.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",o.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${c.status==="active"?"bg-green-100 text-green-800":c.status==="maintenance"?"bg-yellow-100 text-yellow-800":c.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status||"active"})]})]})]})]});case"client":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),o.jsx("textarea",{name:"address",value:c.address||"",onChange:y,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx(pc,{size:16}),"Company Structure & Hierarchy"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:c.isParent||!1,onChange:y,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(sa,{size:14}),"This is a parent company"]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!c.isParent&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),o.jsxs("select",{name:"parentId",value:c.parentId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"",children:"-- Independent Company --"}),k.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]}),k.length===0&&o.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(k4,{size:12,className:"mt-0.5 flex-shrink-0"}),o.jsx("div",{children:c.isParent?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Can have multiple child locations/subsidiaries"}),o.jsx("li",{children:" Appears in hierarchy view with all child companies"}),o.jsx("li",{children:" Useful for corporate clients with multiple locations"})]})]}):c.parentId?o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" This location will be grouped under the parent company"}),o.jsx("li",{children:" Jobs and invoices can be tracked separately"}),o.jsx("li",{children:" Parent company can see consolidated reports"})]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsx("li",{children:" Standalone client with no parent/child relationships"}),o.jsx("li",{children:" Can be converted to parent company later if needed"}),o.jsx("li",{children:" Most common setup for individual businesses"})]})]})})]})}),(c.isParent||c.parentId)&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[o.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),c.isParent?o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[o.jsx(pc,{size:12}),c.name||"New Parent Company"]}),o.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:" Child companies can be added later"})]}):c.parentId&&o.jsxs("div",{className:"text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[o.jsx(pc,{size:12}),k.find(b=>b.id===c.parentId)?.name||"Parent Company"]}),o.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[o.jsx("span",{children:""}),o.jsx(sa,{size:10}),c.name||"New Child Location"]})]})]})]})]})]});case"job":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),o.jsx("input",{type:"number",step:"0.01",name:"revenue",value:c.revenue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),o.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:c.materialCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),o.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:c.laborCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),o.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),o.jsxs("select",{name:"clientId",value:c.clientId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"",children:"Select Client"}),a.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]})]})]})]});case"maintenanceLog":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),o.jsxs("select",{name:"vehicleId",value:c.vehicleId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"",children:"Select Vehicle"}),l.map(b=>o.jsxs("option",{value:b.id,children:[b.name||"Unnamed"," - ",b.make," ",b.model]},b.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),o.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),o.jsxs("select",{name:"type",value:c.type||"Oil Change",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[o.jsx("option",{value:"Oil Change",children:"Oil Change"}),o.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),o.jsx("option",{value:"Brake Service",children:"Brake Service"}),o.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),o.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),o.jsx("option",{value:"Inspection",children:"Inspection"}),o.jsx("option",{value:"A/C Service",children:"A/C Service"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),o.jsx("input",{type:"number",step:"0.01",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),o.jsx("input",{type:"number",name:"mileage",value:c.mileage||"",onChange:y,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),o.jsx("input",{type:"number",name:"nextServiceMileage",value:c.nextServiceMileage||"",onChange:y,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" AppSheet Invoice Data"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),o.jsx("input",{type:"text",name:"invoiceNumber",value:c.invoiceNumber||"",onChange:y,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),o.jsx("input",{type:"text",name:"jobNumber",value:c.jobNumber||"",onChange:y,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),o.jsx("input",{type:"text",name:"customer",value:c.customer||"",onChange:y,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),o.jsx("input",{type:"text",name:"billTo",value:c.billTo||"",onChange:y,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:c.grandTotal||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:c.totalCost||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),o.jsxs("select",{name:"netTerms",value:c.netTerms||"Net 30",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Net 15",children:"Net 15"}),o.jsx("option",{value:"Net 30",children:"Net 30"}),o.jsx("option",{value:"Net 45",children:"Net 45"}),o.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),o.jsx("input",{type:"text",name:"serviceAddress",value:c.serviceAddress||"",onChange:y,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),o.jsx("textarea",{name:"description",value:c.description||"",onChange:y,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),o.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),o.jsx("input",{type:"date",name:"completedOn",value:c.completedOn||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),o.jsxs("select",{name:"invoiceStatus",value:c.invoiceStatus||"Open",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Open",children:"Open"}),o.jsx("option",{value:"Paid",children:"Paid"}),o.jsx("option",{value:"Overdue",children:"Overdue"}),o.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),o.jsxs("select",{name:"locationType",value:c.locationType||"Commercial",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Commercial",children:"Commercial"}),o.jsx("option",{value:"Residential",children:"Residential"}),o.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),o.jsxs("select",{name:"jobType",value:c.jobType||"Service Call",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Service Call",children:"Service Call"}),o.jsx("option",{value:"Installation",children:"Installation"}),o.jsx("option",{value:"Maintenance",children:"Maintenance"}),o.jsx("option",{value:"Repair",children:"Repair"}),o.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),c.grandTotal&&parseFloat(c.grandTotal)>0&&o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[o.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:" Invoice Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),o.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(c.grandTotal||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),o.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(c.totalCost||0).toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),o.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(c.grandTotal||0)-parseFloat(c.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),o.jsx("input",{type:"number",min:"0",name:"quantity",value:c.quantity||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),o.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),o.jsx("input",{type:"text",name:"title",value:c.title||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isComplete",checked:c.isComplete||!1,onChange:y,className:"mr-2"}),o.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),o.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),o.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),o.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),o.jsxs("select",{name:"type",value:c.type||"revenue",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"revenue",children:"Revenue"}),o.jsx("option",{value:"profit",children:"Profit"}),o.jsx("option",{value:"clients",children:"New Clients"}),o.jsx("option",{value:"jobs",children:"Completed Jobs"}),o.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),o.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:c.targetValue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),o.jsx("input",{type:"date",name:"deadline",value:c.deadline?c.deadline.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return o.jsxs("div",{children:["Form not implemented for type: ",e]})}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),o.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(ru,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[o.jsxs("div",{className:"space-y-4",children:[_(),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{name:"notes",value:c.notes||"",onChange:y,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),o.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b=>p(b.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsxs("button",{onClick:x,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},Qse=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,y]=z.useState("All"),[x,k]=z.useState("All"),[_,b]=z.useState(!1),A=[{key:"status",header:"Status",render:M=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(M.id,M.status),children:M.status==="Paid"?o.jsx(Di,{className:"text-green-500",size:20}):o.jsx(_4,{className:"text-slate-400 dark:text-slate-600",size:20})}),o.jsx(E,{status:M.invoiceStatus||M.status})]})},{key:"invoiceNumber",header:"Invoice #",render:M=>o.jsxs("div",{className:M.status==="Paid"?"opacity-60":"",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:M.invoiceNumber||`INV-${M.id}`}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",M.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:M=>o.jsxs("div",{className:M.status==="Paid"?"opacity-60":"",children:[o.jsx("div",{className:`font-medium ${M.status==="Paid"?"line-through":""}`,children:M.customer}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.billTo&&M.billTo!==M.customer?`Bill to: ${M.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:M=>o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(P,{jobType:M.jobType}),o.jsx(O,{priority:M.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:M=>o.jsxs("div",{className:`text-right ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsxs("div",{className:`font-mono font-bold ${M.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(M.grandTotal?.toString().replace(/[$,]/g,"")||M.grandTotal||0).toFixed(2)]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:M=>o.jsxs("div",{className:`text-center ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsx("div",{className:M.status==="Paid"?"line-through":"",children:M.dueDate||"N/A"}),M.daysElapsed>0&&M.status!=="Paid"&&o.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[M.daysElapsed," days elapsed"]}),N(M)&&o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:M=>o.jsxs("div",{className:`max-w-xs ${M.status==="Paid"?"opacity-60":""}`,children:[o.jsx("div",{className:"text-sm truncate",title:M.description,children:M.description||"No description"}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:M.serviceAddress&&o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(z1,{size:10}),o.jsx("span",{className:"truncate",children:M.serviceAddress})]})})]})}],E=({status:M})=>{const R=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${R(M)}`,children:M||"Unknown"})},P=({jobType:M})=>{const R=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${R(M)}`,children:M||"N/A"})},O=({priority:M})=>{if(!M)return null;const R=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return o.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${R(M)}`,children:M})},N=M=>M.status==="Paid"||!M.dueDate?!1:new Date(M.dueDate)<new Date,I=z.useMemo(()=>{const M=t.reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),R=t.filter(Q=>Q.status==="Paid"||Q.invoiceStatus==="Paid"),F=R.reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),ee=t.filter(Q=>Q.status!=="Paid"&&Q.invoiceStatus!=="Paid").reduce((Q,se)=>{const te=parseFloat(se.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+te},0),ie=t.filter(Q=>N(Q));return{totalInvoices:t.length,totalAmount:M,paidAmount:F,outstandingAmount:ee,overdueCount:ie.length,paidCount:R.length}},[t]),T=z.useMemo(()=>t.filter(M=>{const R=!i||String(M.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(M.customer||"").toLowerCase().includes(i.toLowerCase())||String(M.vehicleId||"").toLowerCase().includes(i.toLowerCase()),F=m==="all"||M.status===m,$=x==="all"||M.priority===x;return R&&F&&$}),[t,i,m,x]),C=M=>{M.target.checked?c(T.map(R=>R.id)):c([])},L=()=>{const M=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],R=T.map(Q=>[Q.invoiceNumber||`INV-${Q.id}`,Q.jobNumber||"",Q.customer||"",Q.billTo||"",Q.grandTotal||"",Q.totalCost||"",Q.netTerms||"",Q.transactionDate||"",Q.dueDate||"",Q.paymentDate||"",Q.completedOn||"",Q.invoiceStatus||Q.status||"",Q.terms||"",Q.priority||"",Q.description||"",Q.serviceAddress||"",Q.locationType||"",Q.jobType||"",Q.lineItems||"",Q.payments||"",Q.daysElapsed||0,Q.company||"Mechanical Temp",Q.division||"HVAC & Refrigeration"]),F=[M,...R].map(Q=>Q.map(se=>`"${se}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),ee=URL.createObjectURL($),ie=document.createElement("a");ie.href=ee,ie.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ie.click(),URL.revokeObjectURL(ee)};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(BT,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),o.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),o.jsxs("button",{onClick:()=>b(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[o.jsx(BT,{size:16}),"Sync Now"]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(Kn,{className:"text-slate-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:I.totalInvoices}),o.jsxs("div",{className:"text-sm text-slate-500",children:["$",I.totalAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(Di,{className:"text-green-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:I.paidCount}),o.jsxs("div",{className:"text-sm text-green-600",children:["$",I.paidAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(m0,{className:"text-orange-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-I.paidCount}),o.jsxs("div",{className:"text-sm text-orange-600",children:["$",I.outstandingAmount.toLocaleString()]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[o.jsx(g0,{className:"text-red-500",size:16}),o.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),o.jsx("div",{className:"text-2xl font-bold text-red-600",children:I.overdueCount}),o.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:M=>a(M.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.jsxs("select",{value:m,onChange:M=>y(M.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[o.jsx("option",{value:"All",children:"All Status"}),o.jsx("option",{value:"Paid",children:"Paid"}),o.jsx("option",{value:"Sent",children:"Sent"}),o.jsx("option",{value:"Open",children:"Open"}),o.jsx("option",{value:"Overdue",children:"Overdue"})]}),o.jsxs("select",{value:x,onChange:M=>k(M.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[o.jsx("option",{value:"All",children:"All Priority"}),o.jsx("option",{value:"ER",children:"Emergency"}),o.jsx("option",{value:"URG",children:"Urgent"}),o.jsx("option",{value:"STD",children:"Standard"})]}),l.length>0&&o.jsxs("button",{onClick:()=>n("invoice",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(sr,{size:16})," Delete (",l.length,")"]}),o.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:M=>d(M.target.files[0],"invoice")}),o.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Export AppSheet CSV"]}),o.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add New"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:C,checked:l.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),A.map(M=>o.jsx("th",{className:`p-3 ${M.className||""}`,children:M.header},M.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:T.map(M=>o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${M.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:l.includes(M.id),onChange:()=>{c(R=>R.includes(M.id)?R.filter(F=>F!==M.id):[...R,M.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),A.map(R=>o.jsx("td",{className:`p-3 ${R.className||""}`,children:R.render(M)},R.key)),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:o.jsx(m8,{size:16})}),o.jsx("button",{onClick:()=>e("invoice",M),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("invoice",M.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:o.jsx(sr,{size:16})})]})})]},M.id))})]})}),T.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Kn,{className:"mx-auto text-slate-400 mb-4",size:48}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},Jse=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,y]=z.useState("name"),[x,k]=z.useState("asc"),[_,b]=z.useState("all"),[A,E]=z.useState("all"),[P,O]=z.useState("hierarchy"),[N,I]=z.useState(new Set),[T,C]=z.useState(!1),[L,M]=z.useState(!1),[R,F]=z.useState(""),[$,ee]=z.useState(null),ie=z.useMemo(()=>t.filter(U=>!U.parentId||U.parentId===""),[t]),Q=z.useMemo(()=>t.filter(U=>!U.parentId||U.parentId===""),[t]),se=z.useMemo(()=>{let U=t.filter(ue=>{const _e=(ue.name||"").toLowerCase().includes(i.toLowerCase())||(ue.address||"").toLowerCase().includes(i.toLowerCase())||(ue.email||"").toLowerCase().includes(i.toLowerCase())||(ue.phone||"").includes(i),Ie=_==="all"||_==="parent"&&(!ue.parentId||ue.parentId==="")||_==="location"&&ue.parentId&&ue.parentId!==""||_==="unassigned"&&(!ue.parentId||ue.parentId==="")||_==="active"&&ue.status==="Active"||_==="inactive"&&ue.status==="Inactive",Ue=A==="all"||ue.parentId===A||ue.id===A;return _e&&Ie&&Ue});return U.sort((ue,_e)=>{let Ie=ue[m]||"",Ue=_e[m]||"";return m==="name"&&(Ie=Ie.toLowerCase(),Ue=Ue.toLowerCase()),x==="asc"?Ie<Ue?-1:Ie>Ue?1:0:Ie>Ue?-1:Ie<Ue?1:0}),U},[t,i,m,x,_,A]),te=z.useMemo(()=>se.filter(ue=>!ue.parentId||ue.parentId==="").map(ue=>({...ue,children:se.filter(_e=>_e.parentId===ue.id)})),[se]),Z=U=>{m===U?k(x==="asc"?"desc":"asc"):(y(U),k("asc"))},re=U=>{const ue=new Set(N);ue.has(U)?ue.delete(U):ue.add(U),I(ue)},W=U=>{U.target.checked?c(se.map(ue=>ue.id)):c([])},X=()=>{if(l.length>0&&R){const U=l.map(ue=>({id:ue,parentId:R}));p&&p("client",U),c([]),M(!1),F("")}},Y=()=>{if(l.length>0){const U=l.map(ue=>({id:ue,parentId:""}));p&&p("client",U),c([])}},le=(U,ue)=>{ee(ue),U.dataTransfer.effectAllowed="move"},ge=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},he=(U,ue)=>{if(U.preventDefault(),$&&$.id!==ue.id){const _e={id:$.id,parentId:ue.id};p&&p("client",[_e])}ee(null)},de=U=>{const ue=t.filter(_e=>_e.parentId===U.id).map(_e=>_e.id);c(_e=>{const Ie=new Set([..._e,U.id,...ue]);return Array.from(Ie)})},be=({client:U,isChild:ue=!1,parent:_e=null})=>o.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${ue?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${l.includes(U.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!ue,onDragStart:Ie=>le(Ie,U),onDragOver:ge,onDrop:Ie=>!ue&&he(Ie,U),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("input",{type:"checkbox",checked:l.includes(U.id),onChange:()=>{c(Ie=>Ie.includes(U.id)?Ie.filter(Ue=>Ue!==U.id):[...Ie,U.id])},className:"rounded"}),ue?o.jsx(pc,{className:"h-4 w-4 text-blue-500"}):o.jsx(DT,{className:"h-5 w-5 text-purple-600"}),o.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:U.name}),U.status&&o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:U.status}),ue&&_e&&o.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",_e.name]})]}),o.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[U.address&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(z1,{className:"h-4 w-4"}),o.jsx("span",{children:U.address})]}),U.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(VT,{className:"h-4 w-4"}),o.jsx("span",{children:U.phone})]}),U.email&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($T,{className:"h-4 w-4"}),o.jsx("span",{children:U.email})]})]})]}),o.jsxs("div",{className:"flex gap-1 ml-4",children:[!ue&&o.jsx("button",{onClick:()=>de(U),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:o.jsx(sa,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>e("client",U),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:o.jsx(mn,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>r("client",U.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:o.jsx(sr,{className:"h-4 w-4"})})]})]})}),q=()=>o.jsxs("div",{className:"space-y-6",children:[Q.length>0&&o.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[o.jsx(sa,{className:"h-5 w-5"}),"Unassigned Clients (",Q.filter(U=>se.includes(U)).length,")"]}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),o.jsx("div",{className:"space-y-2",children:Q.filter(U=>se.includes(U)).map(U=>o.jsx(be,{client:U},U.id))})]}),te.filter(U=>U.children.length>0).map(U=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>re(U.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:N.has(U.id)?o.jsx(Jp,{className:"h-4 w-4"}):o.jsx(U1,{className:"h-4 w-4"})}),o.jsx("div",{className:"flex-1",children:o.jsx(be,{client:U})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[U.children.length," locations"]}),o.jsx("button",{onClick:()=>de(U),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),N.has(U.id)&&o.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:U.children.map(ue=>o.jsx(be,{client:ue,isChild:!0,parent:U},ue.id))})]},U.id))]}),me=()=>o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:W})}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>Z("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?o.jsx(Vo,{className:"h-3 w-3"}):o.jsx(Fo,{className:"h-3 w-3"}))]})}),o.jsx("th",{className:"p-3",children:"Type"}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>Z("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?o.jsx(Vo,{className:"h-3 w-3"}):o.jsx(Fo,{className:"h-3 w-3"}))]})}),o.jsx("th",{className:"p-3",children:"Contact"}),o.jsx("th",{className:"p-3",children:"Parent Company"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:se.map(U=>{const ue=ie.find(Ie=>Ie.id===U.parentId),_e=l.includes(U.id);return o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{c(Ie=>Ie.includes(U.id)?Ie.filter(Ue=>Ue!==U.id):[...Ie,U.id])}})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[U.parentId?o.jsx(pc,{className:"h-4 w-4 text-blue-500"}):o.jsx(DT,{className:"h-4 w-4 text-purple-600"}),o.jsx("span",{className:"font-medium",children:U.name})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:U.parentId?"Location":"Parent"})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{children:U.address})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"space-y-1",children:[U.phone&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx(VT,{className:"h-3 w-3"}),o.jsx("span",{children:U.phone})]}),U.email&&o.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[o.jsx($T,{className:"h-3 w-3"}),o.jsx("span",{children:U.email})]})]})}),o.jsx("td",{className:"p-3",children:ue?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(h8,{className:"h-3 w-3 text-slate-400"}),o.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue.name})]}):o.jsx("span",{className:"text-xs text-slate-400",children:""})}),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>e("client",U),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("client",U.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(sr,{size:16})})]})]},U.id)})})]})}),xe=()=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:se.map(U=>{const ue=ie.find(_e=>_e.id===U.parentId);return o.jsx(be,{client:U,isChild:!!U.parentId,parent:ue},U.id)})});return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[se.length," of ",t.length," clients",l.length>0&&`  ${l.length} selected`]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(v8,{size:16})," Assign Parent (",l.length,")"]}),o.jsxs("button",{onClick:Y,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(N8,{size:16})," Remove Parent"]}),o.jsxs("button",{onClick:()=>n("client",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(sr,{size:16})," Delete (",l.length,")"]})]}),o.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:U=>d(U.target.files[0],"client")}),o.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Export CSV"]}),o.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add New"]})]})]}),L&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),o.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-slate-600",children:o.jsx(ru,{className:"h-5 w-5"})})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",l.length," selected clients to a parent company:"]}),o.jsxs("select",{value:R,onChange:U=>F(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[o.jsx("option",{value:"",children:"Select Parent Company"}),ie.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>M(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{onClick:X,disabled:!R,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),o.jsxs("button",{onClick:()=>C(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[o.jsx(tu,{className:"h-4 w-4"}),"Filters",o.jsx(Jp,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),o.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[o.jsx("button",{onClick:()=>O("hierarchy"),className:`px-3 py-2 text-sm ${P==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:o.jsx(S8,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>O("list"),className:`px-3 py-2 text-sm ${P==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:o.jsx(y8,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>O("cards"),className:`px-3 py-2 text-sm ${P==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:o.jsx(g8,{className:"h-4 w-4"})})]})]}),T&&o.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),o.jsxs("select",{value:_,onChange:U=>b(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Clients"}),o.jsx("option",{value:"parent",children:"Parent Companies Only"}),o.jsx("option",{value:"location",children:"Store Locations Only"}),o.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),o.jsx("option",{value:"active",children:"Active Only"}),o.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),o.jsxs("select",{value:A,onChange:U=>E(U.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Companies"}),ie.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:m,onChange:U=>y(U.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[o.jsx("option",{value:"name",children:"Name"}),o.jsx("option",{value:"address",children:"Address"}),o.jsx("option",{value:"phone",children:"Phone"}),o.jsx("option",{value:"email",children:"Email"})]}),o.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?o.jsx(Vo,{className:"h-4 w-4"}):o.jsx(Fo,{className:"h-4 w-4"})})]})]})]})}),o.jsx("div",{className:"min-h-[400px]",children:se.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(sa,{className:"h-12 w-12 mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),o.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||A!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):o.jsxs(o.Fragment,{children:[P==="hierarchy"&&o.jsx(q,{}),P==="list"&&o.jsx(me,{}),P==="cards"&&o.jsx(xe,{})]})})]})},Zse=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:a,jobs:l=[]})=>{const[c,d]=z.useState("all"),[h,p]=z.useState("grid"),[m,y]=z.useState("name"),[x,k]=z.useState("asc"),[_,b]=z.useState([]),[A,E]=z.useState(!1),[P,O]=z.useState(null),[N,I]=z.useState(!1),[T,C]=z.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];z.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const M=({onImport:Y})=>{const le=z.useRef(null),ge=he=>{const de=he.target.files[0];de&&(Y(de),he.target.value="")};return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:le,type:"file",accept:".csv",onChange:ge,style:{display:"none"}}),o.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[o.jsx(ro,{size:16}),"Import Vehicles"]})]})},R=Y=>{if(!Y){alert("Please select a file.");return}const le=new FileReader;le.onload=ge=>{try{const de=ge.target.result.split(`
`).filter(xe=>xe.trim());if(de.length<2){alert("CSV file must have at least a header row and one data row.");return}const be=xe=>{const U=[];let ue="",_e=!1;for(let Ie=0;Ie<xe.length;Ie++){const Ue=xe[Ie];Ue==='"'?_e=!_e:Ue===","&&!_e?(U.push(ue.trim()),ue=""):ue+=Ue}return U.push(ue.trim()),U},q=be(de[0]).map(xe=>xe.replace(/"/g,"").trim().toLowerCase()),me=[];for(let xe=1;xe<de.length;xe++){const U=be(de[xe]),ue={};q.forEach((_e,Ie)=>{const Ue=U[Ie]?U[Ie].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?ue.name=Ue:_e.includes("make")?ue.make=Ue.toUpperCase():_e.includes("model")?ue.model=Ue:_e.includes("year")?ue.year=Ue:_e.includes("license")||_e.includes("plate")?ue.licensePlate=Ue:_e.includes("vin")?ue.vin=Ue:_e.includes("mileage")||_e.includes("miles")?ue.currentMileage=parseInt(Ue)||0:_e.includes("status")?ue.status=Ue.toLowerCase()||"active":_e.includes("notes")&&(ue.notes=Ue)}),(ue.name||ue.make&&ue.model)&&(ue.name=ue.name||`${ue.make} ${ue.model}`,ue.status=ue.status||"active",me.push(ue))}if(me.length===0){alert("No valid vehicle records found in the CSV file.");return}me.forEach(xe=>{r("vehicle",xe)}),alert(`Found ${me.length} vehicles to import. Please review and save each one.`)}catch(he){console.error("Error parsing CSV:",he),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(Y)},F=()=>{if(_.length===0){alert("No vehicles to export.");return}const Y=_.map(q=>({"Vehicle Name":q.name||"",Make:q.make||"",Model:q.model||"",Year:q.year||"","License Plate":q.licensePlate||"",VIN:q.vin||"","Current Mileage":q.currentMileage||0,Status:q.status||"active",Notes:q.notes||"","Date Added":q.createdAt?new Date(q.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(Y[0]),ge=[le.join(","),...Y.map(q=>le.map(me=>{const xe=q[me];return typeof xe=="string"&&(xe.includes(",")||xe.includes('"')||xe.includes(`
`))?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de),console.log(`Exported ${_.length} vehicles to CSV`)},$=()=>{const Y=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(Y[0]),ge=[le.join(","),...Y.map(q=>le.map(me=>q[me]).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download="vehicle-import-template.csv",document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de)},ee=async(Y,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",Y,le),E(!0);try{const ge=_.filter(he=>he.id!==Y);b(ge),await n("vehicle",Y),console.log("Vehicle deleted successfully")}catch(ge){console.error("Delete failed, reverting UI:",ge),b([...t]),alert("Failed to delete vehicle: "+ge.message)}finally{E(!1)}}},ie=()=>{let Y=0;return _.forEach(le=>{L.forEach(ge=>{if(ge.interval>0){const he=e.filter(me=>me.vehicleId===le.id&&me.serviceType===ge.value).sort((me,xe)=>new Date(xe.date)-new Date(me.date))[0],de=le.currentMileage||0,be=he&&he.mileage||0;de-be>=ge.interval&&Y++}})}),Y},Q=z.useMemo(()=>{const Y=_.filter(U=>!U.status||U.status==="active"),le=_.reduce((U,ue)=>U+(ue.currentMileage||0),0),ge=_.length>0?le/_.length:0,he=new Date().getFullYear(),de=_.reduce((U,ue)=>U+(he-parseInt(ue.year||he)),0),be=_.length>0?de/_.length:0,q=_.filter(U=>(U.currentMileage||0)>1e5).length,me=e.filter(U=>U.date&&new Date(U.date).getFullYear()===he).reduce((U,ue)=>U+(ue.cost||0),0),xe=ie();return{totalVehicles:_.length,activeVehicles:Y.length,avgMileage:Math.round(ge),avgAge:be.toFixed(1),highMileageVehicles:q,totalMaintenanceCost:me,overdueMaintenance:xe}},[_,e]),se=Y=>{const le=[],ge=Y.currentMileage||0;return L.forEach(he=>{if(he.interval>0){const de=e.filter(xe=>xe.vehicleId===Y.id&&xe.serviceType===he.value).sort((xe,U)=>new Date(U.date)-new Date(xe.date))[0],be=de&&de.mileage||0,q=ge-be,me=he.interval-q;q>=he.interval?le.push({type:"overdue",service:he.label,mileage:Math.abs(me),severity:"high"}):me<=1e3&&me>0&&le.push({type:"due_soon",service:he.label,mileage:me,severity:"medium"})}}),le.sort((he,de)=>de.severity==="high"?1:-1)},te=z.useMemo(()=>{let Y=_;return i&&(Y=Y.filter(ge=>ge.name?.toLowerCase().includes(i.toLowerCase())||ge.make?.toLowerCase().includes(i.toLowerCase())||ge.model?.toLowerCase().includes(i.toLowerCase())||ge.licensePlate?.toLowerCase().includes(i.toLowerCase())||ge.vin?.toLowerCase().includes(i.toLowerCase()))),c!=="all"&&(Y=Y.filter(ge=>(ge.status||"active")===c)),[...Y].sort((ge,he)=>{let de,be;switch(m){case"name":de=ge.name||"",be=he.name||"";break;case"mileage":de=ge.currentMileage||0,be=he.currentMileage||0;break;case"year":de=parseInt(ge.year||0),be=parseInt(he.year||0);break;case"make":de=ge.make||"",be=he.make||"";break;default:de=ge.name||"",be=he.name||""}return typeof de=="string"?x==="asc"?de.localeCompare(be):be.localeCompare(de):x==="asc"?de-be:be-de})},[_,i,c,m,x]),Z=Y=>{const le=Y.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:Di,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Nc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:LT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},re=({title:Y,value:le,icon:ge,color:he,subtext:de,onClick:be})=>o.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${be?"cursor-pointer hover:border-blue-300":""}`,onClick:be,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Y}),o.jsx("p",{className:"text-2xl font-bold "+he,children:le}),de&&o.jsx("p",{className:"text-xs text-slate-400",children:de})]}),o.jsx(ge,{size:24,className:he})]})}),W=()=>{const[Y,le]=z.useState({vehicleId:P?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),ge=L.find(de=>de.value===Y.serviceType),he=de=>{de.preventDefault();const be={...Y,cost:parseFloat(Y.cost)||0,mileage:parseInt(Y.mileage)||0,nextServiceMileage:parseInt(Y.nextServiceMileage)||0,createdAt:new Date().toISOString()};!be.nextServiceMileage&&ge?.interval&&(be.nextServiceMileage=be.mileage+ge.interval),r("maintenanceLog",be),I(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return z.useEffect(()=>{ge&&le(de=>({...de,cost:de.cost||ge.cost.toString(),description:de.description||ge.label}))},[ge]),N?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(Xl,{className:"text-blue-500",size:24}),"Add Service Record"]}),o.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(LT,{size:24})})]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),o.jsxs("select",{value:Y.vehicleId,onChange:de=>le(be=>({...be,vehicleId:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Vehicle"}),_.map(de=>o.jsxs("option",{value:de.id,children:[de.name||"Unnamed"," - ",de.make," ",de.model]},de.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),o.jsxs("select",{value:Y.serviceType,onChange:de=>le(be=>({...be,serviceType:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[o.jsx("option",{value:"",children:"Select Service"}),L.map(de=>o.jsxs("option",{value:de.value,children:[de.label," (",de.category,")"]},de.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),o.jsx("input",{type:"date",value:Y.date,onChange:de=>le(be=>({...be,date:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),o.jsx("input",{type:"number",value:Y.mileage,onChange:de=>le(be=>({...be,mileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),o.jsx("input",{type:"number",step:"0.01",value:Y.cost,onChange:de=>le(be=>({...be,cost:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),o.jsx("input",{type:"number",value:Y.nextServiceMileage,onChange:de=>le(be=>({...be,nextServiceMileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:ge?`Auto: ${(parseInt(Y.mileage)||0)+ge.interval}`:"Optional"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:Y.description,onChange:de=>le(be=>({...be,description:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{value:Y.notes,onChange:de=>le(be=>({...be,notes:de.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{type:"button",onClick:he,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},X=()=>{const Y=[...e].sort((le,ge)=>new Date(ge.date)-new Date(le.date));return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(Xl,{className:"text-blue-500",size:24}),"Maintenance History"]}),o.jsxs("button",{onClick:()=>{O(null),I(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Id,{size:18}),"Add Service"]})]}),Y.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Date"}),o.jsx("th",{className:"p-3",children:"Vehicle"}),o.jsx("th",{className:"p-3",children:"Service"}),o.jsx("th",{className:"p-3",children:"Mileage"}),o.jsx("th",{className:"p-3",children:"Cost"}),o.jsx("th",{className:"p-3",children:"Next Due"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:Y.map(le=>{const ge=_.find(de=>de.id===le.vehicleId),he=L.find(de=>de.value===le.serviceType);return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:ge?.name||"Unknown Vehicle"}),o.jsxs("div",{className:"text-xs text-slate-500",children:[ge?.make," ",ge?.model]})]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:he?.label||le.serviceType}),le.description&&o.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),o.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),o.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),o.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:o.jsx(sr,{size:16})})]})})]},le.id)})})]})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Xl,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),o.jsx("button",{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[o.jsx(p0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(M,{onImport:R}),o.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[o.jsx(q1,{size:16}),"Export Vehicles"]}),o.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[o.jsx(Kn,{size:16}),"CSV Template"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[o.jsx(re,{title:"Total Vehicles",value:Q.totalVehicles,icon:up,color:"text-blue-500"}),o.jsx(re,{title:"Active Fleet",value:Q.activeVehicles,icon:Di,color:"text-green-500",subtext:(Q.activeVehicles/(Q.totalVehicles||1)*100).toFixed(0)+"% active"}),o.jsx(re,{title:"Avg Mileage",value:Q.avgMileage.toLocaleString(),icon:z1,color:"text-purple-500",subtext:"miles per vehicle"}),o.jsx(re,{title:"Fleet Age",value:Q.avgAge+" yrs",icon:m0,color:"text-orange-500",subtext:"average age"}),o.jsx(re,{title:"High Mileage",value:Q.highMileageVehicles,icon:gi,color:"text-amber-500",subtext:">100k miles"}),o.jsx(re,{title:"Maintenance Cost",value:"$"+Q.totalMaintenanceCost.toLocaleString(),icon:Ur,color:"text-emerald-500",subtext:"this year"}),o.jsx(re,{title:"Overdue Services",value:Q.overdueMaintenance,icon:g0,color:Q.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>C("maintenance")})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:o.jsxs("nav",{className:"flex",children:[o.jsx("button",{onClick:()=>C("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(up,{size:18}),"Vehicles (",_.length,")"]})}),o.jsx("button",{onClick:()=>C("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xl,{size:18}),"Maintenance (",e.length,")",Q.overdueMaintenance>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Q.overdueMaintenance})]})})]})}),o.jsx("div",{className:"p-6",children:T==="vehicles"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),o.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&o.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?o.jsx(Kn,{size:16}):o.jsx(up,{size:16}),h==="grid"?"Table View":"Grid View"]}),o.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Id,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:Y=>a(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{size:18,className:"text-slate-400"}),o.jsxs("select",{value:c,onChange:Y=>d(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"maintenance",children:"In Maintenance"}),o.jsx("option",{value:"retired",children:"Retired"})]}),o.jsxs("select",{value:m,onChange:Y=>y(Y.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"name",children:"Sort by Name"}),o.jsx("option",{value:"mileage",children:"Sort by Mileage"}),o.jsx("option",{value:"year",children:"Sort by Year"}),o.jsx("option",{value:"make",children:"Sort by Make"})]}),o.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:o.jsx(gi,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),_.length>0?h==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:te.map(Y=>{const le=Z(Y),ge=se(Y);return o.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(A?" opacity-50":""),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(le.icon,{size:24,className:le.color}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:Y.name||"Unnamed Vehicle"}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),o.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>{O(Y),I(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:A,children:o.jsx(Xl,{size:16})}),o.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:A,children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>ee(Y.id,Y.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:A,children:o.jsx(sr,{size:16})})]})]}),ge.length>0&&o.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(__,{size:16,className:"text-amber-600"}),o.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),o.jsxs("div",{className:"space-y-1",children:[ge.slice(0,2).map((he,de)=>o.jsx("div",{className:"text-xs",children:o.jsxs("span",{className:he.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[he.service,": ",he.type==="overdue"?`${he.mileage} miles overdue`:`due in ${he.mileage} miles`]})},de)),ge.length>2&&o.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",ge.length-2," more alerts"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),o.jsxs("span",{className:"font-medium",children:[Y.make||"N/A"," ",Y.model||"N/A"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),o.jsx("span",{className:"font-medium",children:Y.year||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),o.jsx("span",{className:"font-medium",children:Y.licensePlate||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),o.jsxs("span",{className:"font-medium",children:[(Y.currentMileage||0).toLocaleString()," mi"]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),o.jsx("span",{className:"font-medium text-xs",children:Y.vin||"N/A"})]})]})]},Y.id)})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3",children:"Vehicle"}),o.jsx("th",{className:"p-3",children:"Make/Model"}),o.jsx("th",{className:"p-3",children:"Year"}),o.jsx("th",{className:"p-3",children:"License"}),o.jsx("th",{className:"p-3",children:"Mileage"}),o.jsx("th",{className:"p-3",children:"Alerts"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:te.map(Y=>{const le=Z(Y),ge=se(Y);return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(A?" opacity-50":""),children:[o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(le.icon,{size:16,className:le.color}),o.jsx("span",{className:"text-xs",children:le.label})]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:Y.name||"Unnamed"}),Y.vin&&o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",Y.vin.slice(-6)]})]})}),o.jsxs("td",{className:"p-3",children:[Y.make||"N/A"," ",Y.model||"N/A"]}),o.jsx("td",{className:"p-3",children:Y.year||"N/A"}),o.jsx("td",{className:"p-3",children:Y.licensePlate||"N/A"}),o.jsx("td",{className:"p-3 font-mono",children:(Y.currentMileage||0).toLocaleString()}),o.jsx("td",{className:"p-3",children:ge.length>0?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(__,{size:14,className:"text-amber-500"}),o.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[ge.length," alert",ge.length>1?"s":""]})]}):o.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>{O(Y),I(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:A,children:o.jsx(Xl,{size:16})}),o.jsx("button",{onClick:()=>r("vehicle",Y),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:A,children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>ee(Y.id,Y.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:A,children:o.jsx(sr,{size:16})})]})})]},Y.id)})})]})}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:o.jsx(up,{size:40,className:"text-slate-400 dark:text-slate-500"})}),o.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),o.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:A,children:"Add Your First Vehicle"})]})]}):o.jsx(X,{})})]}),o.jsx(W,{}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},eoe=()=>{const[t,e]=z.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=z.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[i,a]=z.useState(0),[l,c]=z.useState(2.75),[d,h]=z.useState(0);z.useEffect(()=>{const E=Object.values(t).map(P=>parseFloat(P)||0).reduce((P,O)=>P+O,0);a(E)},[t]),z.useEffect(()=>{const E=Object.values(r).reduce((P,O)=>P+O,0)/6;E<=.5?c(2+E*1.5):E<=1.5?c(2.75+(E-.5)*.75):c(3.5+(E-1.5)*2)},[r]),z.useEffect(()=>{h(i*l)},[i,l]);const p=(A,E)=>{e(P=>({...P,[A]:E}))},m=(A,E)=>{n(P=>({...P,[A]:E}))},y=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(A),x=()=>l<2.75?"Conservative Range":l<3.5?"Average Range":"Premium Range",k=()=>l<2.75?"text-red-600 dark:text-red-400":l<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",_=()=>{const E=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",y(parseFloat(t.netProfit)||0)],["Owner Salary",y(parseFloat(t.ownerSalary)||0)],["Owner Perks",y(parseFloat(t.ownerPerks)||0)],["Depreciation",y(parseFloat(t.depreciation)||0)],["Amortization",y(parseFloat(t.amortization)||0)],["Interest Expense",y(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",y(i)],[""],["Valuation Results"],["SDE",y(i)],["Multiple",l.toFixed(2)+"x"],["Estimated Business Value",y(d)]].map(I=>I.join(",")).join(`
`),P=new Blob([E],{type:"text/csv"}),O=window.URL.createObjectURL(P),N=document.createElement("a");N.href=O,N.download="hvac-business-valuation.csv",N.click(),window.URL.revokeObjectURL(O)},b=[{field:"recurringRevenue",title:"Recurring Revenue",icon:o.jsx(gi,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:o.jsx(sa,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:o.jsx(pc,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:o.jsx(Ur,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:o.jsx(sa,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:o.jsx(k8,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[o.jsx("div",{className:"bg-blue-600 text-white p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mc,{className:"w-8 h-8"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),o.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),o.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:A,label:E,desc:P})=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:E}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P})]}),o.jsx("div",{className:"w-32",children:o.jsx("input",{type:"number",value:t[A],onChange:O=>p(A,O.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},A))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(i)})]})})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),o.jsx("span",{className:"font-semibold",children:y(i)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),o.jsxs("span",{className:`font-semibold ${k()}`,children:[l.toFixed(2),"x (",x(),")"]})]}),o.jsx("div",{className:"border-t pt-2",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),o.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y(d)})]})})]}),o.jsxs("button",{onClick:_,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[o.jsx(q1,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),o.jsx("div",{className:"space-y-6",children:b.map(({field:A,title:E,icon:P,options:O})=>o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[P,o.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:E})]}),o.jsx("div",{className:"space-y-2",children:O.map((N,I)=>o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[o.jsx("input",{type:"radio",name:A,value:I,checked:r[A]===I,onChange:T=>m(A,parseInt(T.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),o.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${I===0?"text-red-600 dark:text-red-400":I===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:N})]},I))})]},A))}),o.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000  3.5 = $700,000 estimated value."})]}),o.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:o.jsxs("p",{children:[o.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},toe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:x=>o.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>o.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>o.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=z.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=x=>{x.target.checked?c(m.map(k=>k.id)):c([])};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),l.length>0&&o.jsxs("button",{onClick:()=>n("inventory",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(sr,{size:16})," Delete (",l.length,")"]}),o.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),o.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]}),o.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Export to CSV"]}),o.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add New"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>o.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:m.map(x=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[o.jsx("td",{className:"p-3",children:o.jsx("input",{type:"checkbox",checked:l.includes(x.id),onChange:()=>{c(k=>k.includes(x.id)?k.filter(_=>_!==x.id):[...k,x.id])}})}),p.map(k=>o.jsx("td",{className:`p-3 ${k.className||""}`,children:k.render(x)},k.key)),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(sr,{size:16})})]})]},x.id))})]})})]})},roe=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=z.useMemo(()=>t.map(c=>{const d=e.filter(m=>m.clientId===c.id),h=d.reduce((m,y)=>m+(y.revenue||0),0),p=d.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:c.name,netProfit:h-p}}).sort((c,d)=>d.netProfit-c.netProfit),[t,e]),a=z.useMemo(()=>{const c={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);c[p]||(c[p]={revenue:0,expenses:0}),c[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);c[m]||(c[m]={revenue:0,expenses:0}),c[m].expenses+=h.amount||0}}),Object.keys(c).map(h=>({month:h,Revenue:c[h].revenue,Expenses:c[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),l=z.useMemo(()=>n.map(c=>({name:c.name,totalValue:(c.quantity||0)*(c.cost||0)})).sort((c,d)=>d.totalValue-c.totalValue),[n]);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),o.jsx(fj,{width:"100%",height:300,children:o.jsxs(z6,{data:a,children:[o.jsx(Qj,{strokeDasharray:"3 3"}),o.jsx(Vh,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bh,{stroke:"#64748b",tickFormatter:c=>`$${c/1e3}k`}),o.jsx(di,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:c=>`$${c.toLocaleString()}`}),o.jsx(Hs,{}),o.jsx(da,{dataKey:"Revenue",fill:"#22c55e"}),o.jsx(da,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Client"}),o.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),o.jsx("tbody",{children:i.map(c=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:c.name}),o.jsxs("td",{className:`p-3 text-right font-mono ${c.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",c.netProfit.toFixed(2)]})]},c.name))})]})})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Item"}),o.jsx("th",{className:"p-3 text-center",children:"Quantity"}),o.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),o.jsx("tbody",{children:l.map(c=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsx("td",{className:"p-3 font-medium",children:c.name}),o.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===c.name)?.quantity}),o.jsxs("td",{className:"p-3 text-right font-mono",children:["$",c.totalValue.toFixed(2)]})]},c.name))})]})})]})]})},noe=({bills:t,paidStatus:e,onClose:r})=>{const n=z.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(l=>{if(e[l.id])return!1;const c=new Date(i.getFullYear(),i.getMonth(),l.dueDay);return c>=i&&c<=a})},[t,e]);return n.length===0?null:o.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(__,{size:20,className:"mr-3"}),o.jsxs("div",{children:[o.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),o.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>o.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),o.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:o.jsx(ru,{size:18})})]})},ioe=({data:t,onSliceClick:e})=>{const[r,n]=z.useState(0),i=z.useCallback((l,c)=>{n(c)},[n]),a=l=>{const{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x,payload:k}=l;return o.jsxs("g",{className:"cursor-pointer",onClick:()=>e(k.name),children:[o.jsx("text",{x:c,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:k.name}),o.jsx(Fj,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x})]})};return o.jsx(fj,{width:"100%",height:300,children:o.jsxs(Hse,{children:[o.jsx(di,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:l=>`$${l.toFixed(2)}`}),o.jsx(ts,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:l=>e(l.name),children:t.map((l,c)=>o.jsx(A0,{fill:l.color},`cell-${c}`))})]})})},aoe=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=x=>{if(x==null||x==="")return 0;const k=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(k)?0:k},l=t.filter(x=>x.status==="Unpaid"),c=l.reduce((x,k)=>x+a(k.grandTotal),0),d=e.reduce((x,k)=>x+a(k.amount),0),h=r.reduce((x,k)=>x+a(k.amount),0)*4.33,p=d+h,m=a(n)+c-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const k=parseFloat(x);k>=0?i(k):alert("Please enter a positive number for the balance.")}};return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",a(n).toLocaleString()]})]}),o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),o.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",c.toLocaleString()]})]}),o.jsx(gi,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[l.length," unpaid invoices"]})]}),o.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),o.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),o.jsx(S4,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),o.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),o.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?o.jsx(gi,{className:"text-green-600 dark:text-green-400",size:24}):o.jsx(Nc,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:l.length>0?l.map((x,k)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),o.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",a(x.grandTotal).toLocaleString()]})]},k)):o.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),o.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),o.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",h.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[o.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),o.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&o.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nc,{className:"text-red-600 dark:text-red-400",size:20}),o.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),o.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),a(n)===0&&o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:20}),o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),o.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},soe=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:c,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),o.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>a(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>l(m.target.files[0],n)}),o.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[o.jsx(ro,{size:16})," Import CSV"]})]}),o.jsxs("button",{onClick:()=>c(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Export to CSV"]}),o.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16})," Add New"]})]})]}),n==="debt"&&p&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>o.jsxs("li",{children:[m.name," ",o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),o.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>o.jsxs("li",{children:[m.name," ",o.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[r.map(m=>o.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:e.map(m=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>o.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(m)},y.key)),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(sr,{size:16})})]})]},m.id))})]})})]}),ooe=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:c})=>{const d=[{key:"name",header:"Job/Client",render:h=>o.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>o.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>o.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return o.jsx(soe,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:l,handleExportCSV:c,openModal:r,handleDelete:n})},loe=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=z.useMemo(()=>{const c=t.filter(E=>{if(!E.date)return!1;const P=new Date(E.date);return P>=i.start&&P<=i.end}),d=c.reduce((E,P)=>E+(P.revenue||0),0),h=c.reduce((E,P)=>E+(P.materialCost||0)+(P.laborCost||0),0),p=d-h,m=(i.end-i.start)/(1e3*60*60*24*30.44),y=e.reduce((E,P)=>{const O=P.category||"Uncategorized";return E[O]=(E[O]||0)+P.amount,E},{}),x=r.reduce((E,P)=>E+P.amount,0)*m;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const k=Object.values(y).reduce((E,P)=>E+P,0),_=p-k,b=d>0?p/d*100:0,A=d>0?_/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:k,expensesByCategory:y,netProfit:_,grossProfitMargin:b,netProfitMargin:A}},[t,e,r,i]),l=()=>{const c={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",c)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l()}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[o.jsx("span",{children:"Total Revenue"}),o.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),o.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),o.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[o.jsx("span",{children:"Gross Profit"}),o.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[o.jsx("span",{children:"Gross Profit Margin"}),o.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),o.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),o.jsx("div",{className:"p-3 font-semibold",children:o.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([c,d])=>o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:c}),o.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},c)),o.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[o.jsx("span",{children:"Total Operating Expenses"}),o.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),o.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),o.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[o.jsx("span",{children:"Net Profit"}),o.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[o.jsx("span",{children:"Net Profit Margin"}),o.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},coe=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:a,handleExportCSV:l,debtPayoffStrategies:c={avalanche:[],snowball:[]}})=>{const[d,h]=z.useState("overview"),[p,m]=z.useState("avalanche"),[y,x]=z.useState(500),k=z.useMemo(()=>{const N=t.reduce((R,F)=>R+(F.totalAmount||0),0),I=t.reduce((R,F)=>R+(F.paidAmount||0),0),T=N-I,C=t.length>0?t.reduce((R,F)=>R+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(R=>R.interestRate||0)),M=Math.min(...t.map(R=>(R.totalAmount||0)-(R.paidAmount||0)));return{totalDebt:N,totalPaid:I,totalRemaining:T,avgInterestRate:C,highestInterest:L,lowestBalance:M===1/0?0:M,payoffProgress:N>0?I/N*100:0}},[t]),_=N=>{const I=c[N]||[];let T=[],C=0,L=y;return I.forEach((M,R)=>{const F=(M.totalAmount||0)-(M.paidAmount||0),$=(M.interestRate||0)/100/12;if(F>0&&L>0){const ee=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));T.push({...M,monthsToPayoff:isFinite(ee)?ee:0,order:R+1,remaining:F}),C=Math.max(C,ee)}}),{timeline:T,totalMonthsToPayoff:C}},b=_("avalanche"),A=_("snowball"),E=z.useMemo(()=>n?t.filter(N=>N.name?.toLowerCase().includes(n.toLowerCase())||N.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),P=N=>(N.totalAmount||0)-(N.paidAmount||0)<=0?"text-green-600 dark:text-green-400":N.interestRate>20?"text-red-600 dark:text-red-400":N.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",O=N=>N.interestRate>20?o.jsx(Nc,{className:"text-red-500",size:16}):N.interestRate>10?o.jsx(gi,{className:"text-yellow-500",size:16}):o.jsx(Di,{className:"text-green-500",size:16});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),"Import"]}),o.jsxs("button",{onClick:()=>l&&l(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(q1,{size:16}),"Export"]}),o.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(mi,{size:18}),"Add Debt"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),o.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",k.totalDebt.toLocaleString()]})]}),o.jsx(Hv,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",k.totalRemaining.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalPaid.toLocaleString()]})]}),o.jsx(Di,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.payoffProgress.toFixed(1),"% complete"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[k.avgInterestRate.toFixed(1),"%"]})]}),o.jsx(j4,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",k.highestInterest,"%"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(N=>N.totalAmount-N.paidAmount>0).length})]}),o.jsx(p0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(Hv,{size:16}),"Overview"]}),o.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(Od,{size:16}),"Payoff Strategies"]}),o.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(mc,{size:16}),"Calculator"]})]})}),d==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:E.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(Hv,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),o.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),o.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:E.map(N=>{const I=(N.totalAmount||0)-(N.paidAmount||0),T=N.totalAmount>0?(N.paidAmount||0)/N.totalAmount*100:0;return o.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[O(N),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),N.creditor&&o.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:N.creditor})]})]})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("span",{className:`font-mono font-semibold ${P(N)}`,children:[(N.interestRate||0).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(N.totalAmount||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(N.paidAmount||0).toLocaleString()]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",I.toLocaleString()]})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),o.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>e("debt",N),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("debt",N.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:o.jsx(sr,{size:16})})]})})]},N.id)})})]})})})]}),d==="strategies"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(S4,{className:"text-purple-600",size:20}),o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),o.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(E8,{className:"text-purple-600",size:20}),o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",A.totalMonthsToPayoff," months"]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:y,onChange:N=>x(parseFloat(N.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),o.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:A.timeline).map((N,I)=>o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:N.order}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:N.name}),o.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",N.remaining.toLocaleString()," remaining at ",N.interestRate,"%"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[N.monthsToPayoff," months"]}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},N.id))})]})]}),d==="calculator"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),o.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[o.jsx(mc,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Advanced debt calculator coming soon!"}),o.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},uoe=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,l]=z.useState("all"),[c,d]=z.useState("all"),[h,p]=z.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=z.useMemo(()=>t.filter(N=>{const I=N.name.toLowerCase().includes(n.toLowerCase())||N.notes&&N.notes.toLowerCase().includes(n.toLowerCase()),T=a==="all"||N.type===a,C=c==="all"||N.status===c;return I&&T&&C}).sort((N,I)=>{if(h.key==="amount"){const T=parseFloat(N.amount)||0,C=parseFloat(I.amount)||0;return h.direction==="asc"?T-C:C-T}return h.key==="name"?h.direction==="asc"?N.name.localeCompare(I.name):I.name.localeCompare(N.name):0}),[t,n,a,c,h]),k=z.useMemo(()=>{const O=t.filter(R=>R.status!=="completed"&&R.status!=="paused"),I=O.map(R=>{const F=parseFloat(R.amount)||0;switch(R.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((R,F)=>R+F,0),T=I*12,C=t.reduce((R,F)=>{const $=F.type||"monthly",ee=parseFloat(F.amount)||0;return R[$]=(R[$]||0)+ee,R},{}),L=t.reduce((R,F)=>{const $=F.status||"active";return R[$]=(R[$]||0)+1,R},{}),M=t.reduce((R,F)=>{const $=parseFloat(F.amount)||0;return $>R.amount?{name:F.name,amount:$}:R},{name:"None",amount:0});return{totalMonthlyIncome:I,totalAnnualIncome:T,typeBreakdown:C,statusBreakdown:L,highestIncome:M,activeCount:O.length,totalCount:t.length,averageIncome:O.length>0?I/O.length:0}},[t]),_=O=>{p(N=>({key:O,direction:N.key===O&&N.direction==="desc"?"asc":"desc"}))},b=O=>{switch(O){case"active":return o.jsx(Di,{size:14,className:"text-green-500"});case"pending":return o.jsx(m0,{size:14,className:"text-yellow-500"});case"completed":return o.jsx(Di,{size:14,className:"text-blue-500"});case"paused":return o.jsx(Nc,{size:14,className:"text-red-500"});default:return o.jsx(Di,{size:14,className:"text-green-500"})}},A=O=>{const N={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return N[O]||N.monthly},E=(O,N)=>{const I=parseFloat(O)||0;switch(N){case"weekly":return I*4.33;case"quarterly":return I/3;case"annually":return I/12;case"monthly":default:return I}},P=()=>{if(t.length===0){alert("No income sources to export.");return}try{const O=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],N=t.map(M=>[M.name||"",(parseFloat(M.amount)||0).toFixed(2),M.type||"monthly",E(M.amount,M.type).toFixed(2),(E(M.amount,M.type)*12).toFixed(2),M.status||"active",M.isRecurring?"Yes":"No",M.notes||""]),I=[O.join(","),...N.map(M=>M.map(R=>typeof R=="string"&&R.includes(",")?`"${R}"`:R).join(","))].join(`
`),T=new Blob([I],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a"),L=URL.createObjectURL(T);C.setAttribute("href",L),C.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),C.style.visibility="hidden",document.body.appendChild(C),C.click(),document.body.removeChild(C),alert(`Successfully exported ${t.length} income sources!`)}catch(O){console.error("Error exporting CSV:",O),alert("Failed to export CSV: "+O.message)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalMonthlyIncome.toLocaleString()]})]}),o.jsx(Ur,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.activeCount," active sources"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",k.totalAnnualIncome.toLocaleString()]})]}),o.jsx(gi,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",k.averageIncome.toLocaleString()]})]}),o.jsx(p0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),o.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:k.highestIncome.name})]}),o.jsx(Od,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",k.highestIncome.amount.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16}),"Export CSV"]}),o.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16}),"Add Income Source"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:O=>i(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{className:"text-slate-400",size:16}),o.jsx("select",{value:a,onChange:O=>l(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(O=>o.jsx("option",{value:O,children:O==="all"?"All Types":O.charAt(0).toUpperCase()+O.slice(1).replace("-"," ")},O))}),o.jsx("select",{value:c,onChange:O=>d(O.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(O=>o.jsx("option",{value:O,children:O==="all"?"All Status":O.charAt(0).toUpperCase()+O.slice(1)},O))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&o.jsx("span",{children:h.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&o.jsx("span",{children:h.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3",children:"Type"}),o.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),o.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3",children:"Recurring"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(O=>{const N=parseFloat(O.amount)||0,I=E(N,O.type),T=I*12;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:O.name})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",N.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${A(O.type)}`,children:(O.type||"monthly").replace("-"," ")})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",I.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),o.jsx("td",{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-1",children:[b(O.status),o.jsx("span",{className:"text-xs capitalize",children:O.status||"active"})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:O.isRecurring?"Yes":"No"})}),o.jsx("td",{className:"p-3 max-w-xs",children:o.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:O.notes&&O.notes.length>30?`${O.notes.substring(0,30)}...`:O.notes||""})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>e("income",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("income",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:o.jsx(sr,{size:16})})]})})]},O.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"||c!=="all"?o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ga,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No income sources match your search criteria"}),o.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ur,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No income sources added yet"}),o.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),o.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[o.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((O,N)=>O+E(N.amount,N.type),0).toFixed(2)]}),o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((O,N)=>O+E(N.amount,N.type),0)*12).toLocaleString()]})]})]})})]}),k.totalCount>=1&&k.highestIncome.amount>k.totalMonthlyIncome*.7&&o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nc,{className:"text-amber-600 dark:text-amber-400",size:20}),o.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),o.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",k.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},doe=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,a]=z.useState(null),[l,c]=z.useState(!1),[d,h]=z.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=E=>{a(E)},m=E=>{r(E),a(null)},y=()=>{a(null)},x=E=>E>=100?"from-green-500 to-emerald-500":E>=80?"from-green-500 to-green-600":E>=50?"from-yellow-500 to-orange-500":E>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",k=E=>{const P=new Date,N=new Date(E)-P,I=Math.ceil(N/(1e3*60*60*24));return I<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:I===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:I===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:I<=7?{text:`${I} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:I<=30?{text:`${I} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${I} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=E=>{const P=E.target-E.current,O=Math.ceil((new Date(E.deadline)-new Date)/(1e3*60*60*24));return O>0?Math.ceil(P/O):0},b=(E,P)=>{console.log("Update goal progress:",E,P)},A=E=>{E.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),c(!1))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:o.jsx(Od,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(E=>E.progress>=100).length," of ",t.length," completed"]})]})]}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(Id,{size:16}),"Add Goal"]})]}),t.length>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:o.jsx(Di,{className:"text-green-600 dark:text-green-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),o.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(E=>E.progress>=100).length})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:o.jsx(gi,{className:"text-blue-600 dark:text-blue-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),o.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(E=>E.progress>0&&E.progress<100).length})]})]})}),o.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:o.jsx(m0,{className:"text-orange-600 dark:text-orange-400",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),o.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((E,P)=>E+(P.targetValue||0),0).toLocaleString()]})]})]})})]}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:o.jsx(Od,{size:32,className:"opacity-50"})}),o.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),o.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),o.jsx("button",{onClick:()=>c(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(E=>{const P=E.progress||0,O=P>=100,N=(E.targetValue||0)-(E.current||0),I=k(E.deadline),T=x(P),C=I.text==="Overdue",L=_({target:E.targetValue||0,current:E.current||0,deadline:E.deadline});return o.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${O?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":C?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==E.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:E.name}),O&&o.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),E.type&&o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":E.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":E.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":E.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:E.type||"savings"}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${I.bgColor} ${I.color}`,children:I.text})]}),E.description&&o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:E.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.current||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.targetValue||0).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",N>0?N.toLocaleString():"0"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),o.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx("button",{onClick:()=>b(E.id,(E.current||0)+(E.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:o.jsx(Id,{size:18})}),o.jsx("button",{onClick:()=>b(E.id,Math.max(0,(E.current||0)-(E.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:o.jsx(w8,{size:18})}),o.jsx("button",{onClick:()=>p(E.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:o.jsx(sr,{size:18})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center text-sm",children:[o.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),o.jsxs("span",{className:`font-bold ${O?"text-green-600":"text-cyan-600"}`,children:[P.toFixed(1),"%"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:o.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(P,100)}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),P>15&&o.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:o.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(E.current||0).toLocaleString()]})})]}),o.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[o.jsxs("span",{children:["Deadline: ",new Date(E.deadline).toLocaleDateString()]}),!O&&N>0&&L>0&&o.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:o.jsx(sr,{className:"text-red-600 dark:text-red-400",size:24})}),o.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',E.name,'"?']}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex gap-3 justify-center",children:[o.jsx("button",{onClick:()=>m(E.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),o.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},E.id)})})]}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),o.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:o.jsx(ru,{size:20})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),o.jsxs("select",{value:d.type,onChange:E=>h({...d,type:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[o.jsx("option",{value:"savings",children:" Savings Goal"}),o.jsx("option",{value:"debt",children:" Debt Payoff"}),o.jsx("option",{value:"investment",children:" Investment Target"}),o.jsx("option",{value:"purchase",children:" Large Purchase"}),o.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),o.jsx("input",{type:"text",value:d.name,onChange:E=>h({...d,name:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),o.jsx("textarea",{value:d.description,onChange:E=>h({...d,description:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),o.jsx("input",{type:"number",value:d.current,onChange:E=>h({...d,current:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),o.jsx("input",{type:"number",value:d.target,onChange:E=>h({...d,target:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),o.jsx("input",{type:"date",value:d.deadline,onChange:E=>h({...d,deadline:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),o.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},hoe=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,l]=z.useState("all"),[c,d]=z.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=z.useMemo(()=>t.filter(_=>{const b=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),A=a==="all"||_.category===a;return b&&A}).sort((_,b)=>{if(c.key==="amount"){const A=parseFloat(_.amount)||0,E=parseFloat(b.amount)||0;return c.direction==="asc"?A-E:E-A}return c.key==="name"?c.direction==="asc"?_.name.localeCompare(b.name):b.name.localeCompare(_.name):0}),[t,n,a,c]),m=z.useMemo(()=>{const k=t.reduce((N,I)=>N+(parseFloat(I.amount)||0),0),_=k*4.33,b=k*52,A=t.reduce((N,I)=>(parseFloat(I.amount)||0)>N?parseFloat(I.amount)||0:N,0),E=t.length>0?k/t.length:0,P=t.reduce((N,I)=>{const T=I.category||"Other";return N[T]=(N[T]||0)+(parseFloat(I.amount)||0),N},{}),O=Object.entries(P).reduce((N,[I,T])=>T>(N.amount||0)?{category:I,amount:T}:N,{category:"None",amount:0});return{totalWeekly:k,totalMonthly:_,totalAnnual:b,highestCost:A,averageCost:E,categoryTotals:P,topCategory:O,itemCount:t.length}},[t]),y=k=>{d(_=>({key:k,direction:_.key===k&&_.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const k=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(O=>[O.name||"",(parseFloat(O.amount)||0).toFixed(2),((parseFloat(O.amount)||0)*4.33).toFixed(2),((parseFloat(O.amount)||0)*52).toFixed(2),O.category||"Other",O.notes||""]),b=[k.join(","),..._.map(O=>O.map(N=>typeof N=="string"&&N.includes(",")?`"${N}"`:N).join(","))].join(`
`),A=new Blob([b],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),P=URL.createObjectURL(A);E.setAttribute("href",P),E.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),alert(`Successfully exported ${t.length} weekly costs!`)}catch(k){console.error("Error exporting CSV:",k),alert("Failed to export CSV: "+k.message)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),o.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),o.jsx(p8,{className:"text-red-600 dark:text-red-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),o.jsx(gi,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),o.jsx(p0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),o.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),o.jsx(Ur,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16}),"Export CSV"]}),o.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(mi,{size:16}),"Add Weekly Cost"]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:k=>i(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{className:"text-slate-400",size:16}),o.jsx("select",{value:a,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(k=>o.jsx("option",{value:k,children:k==="all"?"All Categories":k},k))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",c.key==="name"&&o.jsx("span",{children:c.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3",children:"Category"}),o.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",c.key==="amount"&&o.jsx("span",{children:c.direction==="asc"?"":""})]})}),o.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),o.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(k=>{const _=parseFloat(k.amount)||0,b=_*4.33,A=_*52;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.name})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:k.category||"Other"})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),o.jsx("td",{className:"p-3 text-right",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",A.toLocaleString()]})}),o.jsx("td",{className:"p-3 max-w-xs",children:o.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:k.notes&&k.notes.length>50?`${k.notes.substring(0,50)}...`:k.notes||""})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>e("weekly",k),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("weekly",k.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:o.jsx(sr,{size:16})})]})})]},k.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"?o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ga,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No weekly costs match your search criteria"}),o.jsx("button",{onClick:()=>{i(""),l("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(Ur,{size:24,className:"text-slate-400"}),o.jsx("span",{children:"No weekly costs added yet"}),o.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&o.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),o.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[o.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0).toFixed(2)]}),o.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),o.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((k,_)=>k+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(g0,{className:"text-amber-600 dark:text-amber-400",size:20}),o.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),o.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},foe=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],poe=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],moe=({userId:t,db:e,appId:r})=>{const[n,i]=z.useState(foe),[a,l]=z.useState(0),[c,d]=z.useState(poe),[h,p]=z.useState(0),[m,y]=z.useState(0),[x,k]=z.useState([]),[_,b]=z.useState("employees"),[A,E]=z.useState(!1),[P,O]=z.useState(null),[N,I]=z.useState(""),[T,C]=z.useState("all"),[L,M]=z.useState("all"),[R,F]=z.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});z.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const q=ic(e,"artifacts",r,"users",t,"employees"),me=Op(q,xe=>{const U=xe.docs.map(ue=>({id:ue.id,...ue.data()}));console.log("Employees loaded from Firebase:",U),k(U)},xe=>{console.error("Error fetching employees:",xe)});return()=>me()},[t,e,r]);const $=z.useMemo(()=>x.filter(q=>{const me=q.name.toLowerCase().includes(N.toLowerCase())||q.position.toLowerCase().includes(N.toLowerCase())||q.email.toLowerCase().includes(N.toLowerCase()),xe=T==="all"||q.status===T,U=L==="all"||q.department===L;return me&&xe&&U}),[x,N,T,L]),ee=z.useMemo(()=>{const q=x.filter(ue=>ue.status==="active");let me=0,xe=0,U=0;return q.forEach(ue=>{if(ue.payType==="salary"?me+=(ue.baseSalary||0)/12:(me+=(ue.hourlyRate||0)*(ue.hoursWorked||0),U+=ue.hoursWorked||0),ue.incentiveType==="percent"){const _e=n.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=ue.salesAmount*(_e.rate/100))}else if(ue.incentiveType==="hourly"){const _e=c.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=(ue.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:q.length,totalEmployeeCount:x.length,totalBasePay:me,totalIncentives:xe,totalPayroll:me+xe,averagePay:q.length>0?(me+xe)/q.length:0,totalHours:U}},[x,n,c]),ie=z.useMemo(()=>["all",...[...new Set(x.map(me=>me.department))]],[x]),Q=z.useMemo(()=>{const q=n.find(me=>a>=me.min&&a<=me.max);return q?a*(q.rate/100):0},[a,n]),se=z.useMemo(()=>{const q=c.find(me=>h>=me.min&&h<=me.max);return!q||!m?0:m*q.bonus},[h,m,c]),te=(q,me,xe)=>{const U=[...n];U[q][me]=parseFloat(xe)||0,i(U)},Z=(q,me,xe)=>{const U=[...c];U[q][me]=parseFloat(xe)||0,d(U)},re=(q,me)=>{F(xe=>({...xe,[q]:me}))},W=async()=>{if(console.log("Adding employee:",R),!R.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const q=ic(e,"artifacts",r,"users",t,"employees");await r4(q,{...R,baseSalary:parseFloat(R.baseSalary)||0,hourlyRate:parseFloat(R.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:Ls()}),console.log("Employee saved to Firebase successfully!"),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),E(!1)}catch(q){console.error("Error adding employee:",q),alert("Failed to add employee: "+q.message)}},X=q=>{F(q),O(q.id),E(!0)},Y=async()=>{if(!(!t||!e||!P))try{const q=En(e,"artifacts",r,"users",t,"employees",P);await Qp(q,{...R,baseSalary:parseFloat(R.baseSalary)||0,hourlyRate:parseFloat(R.hourlyRate)||0,modifiedAt:Ls()}),O(null),E(!1),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(q){console.error("Error updating employee:",q),alert("Failed to update employee: "+q.message)}},le=async q=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const me=En(e,"artifacts",r,"users",t,"employees",q);await t4(me),console.log("Employee deleted from Firebase")}catch(me){console.error("Error deleting employee:",me),alert("Failed to delete employee: "+me.message)}},ge=async(q,me,xe)=>{if(!(!t||!e))try{const U=En(e,"artifacts",r,"users",t,"employees",q);await Qp(U,{[me]:parseFloat(xe)||0,modifiedAt:Ls()})}catch(U){console.error("Error updating employee data:",U)}},he=q=>{if(q.incentiveType==="percent"){const me=n.find(xe=>q.salesAmount>=xe.min&&q.salesAmount<=xe.max);return me?q.salesAmount*(me.rate/100):0}else if(q.incentiveType==="hourly"){const me=c.find(xe=>q.salesAmount>=xe.min&&q.salesAmount<=xe.max);return me?(q.hoursWorked||0)*me.bonus:0}return 0},de=q=>q.payType==="salary"?(q.baseSalary||0)/12:(q.hourlyRate||0)*(q.hoursWorked||0),be=q=>{switch(q){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),o.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),o.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>b("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(sa,{size:16}),"Employees"]}),o.jsxs("button",{onClick:()=>b("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(mc,{size:16}),"Payroll"]}),o.jsxs("button",{onClick:()=>b("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[o.jsx(gi,{size:16}),"Incentive Calculator"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:ee.activeEmployeeCount})]}),o.jsx(sa,{className:"text-blue-600 dark:text-blue-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",ee.totalEmployeeCount," total"]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),o.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",ee.totalBasePay.toLocaleString()]})]}),o.jsx(Ur,{className:"text-green-600 dark:text-green-400",size:24})]}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",ee.averagePay.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),o.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",ee.totalIncentives.toLocaleString()]})]}),o.jsx(gi,{className:"text-purple-600 dark:text-purple-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",ee.totalPayroll.toLocaleString()]})]}),o.jsx(mc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),_==="employees"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),o.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),E(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(Id,{size:16}),"Add Employee"]})]}),x.length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(sa,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),o.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),o.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),E(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search employees...",value:N,onChange:q=>I(q.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{className:"text-slate-400",size:16}),o.jsxs("select",{value:T,onChange:q=>C(q.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"terminated",children:"Terminated"})]}),o.jsx("select",{value:L,onChange:q=>M(q.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:ie.map(q=>o.jsx("option",{value:q,children:q==="all"?"All Departments":q},q))})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Employee"}),o.jsx("th",{className:"p-3",children:"Department"}),o.jsx("th",{className:"p-3",children:"Pay Type"}),o.jsx("th",{className:"p-3",children:"Base Pay"}),o.jsx("th",{className:"p-3",children:"Incentive Type"}),o.jsx("th",{className:"p-3",children:"Status"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{className:"text-sm",children:$.map(q=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[o.jsx("td",{className:"p-3",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:q.name}),o.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:q.position}),o.jsx("div",{className:"text-xs text-slate-400",children:q.email})]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:q.department})}),o.jsxs("td",{className:"p-3",children:[o.jsx("span",{className:"capitalize",children:q.payType}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:q.payType==="salary"?`$${q.baseSalary.toLocaleString()}/year`:`$${q.hourlyRate}/hour`})]}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",de(q).toLocaleString()]})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:"capitalize",children:q.incentiveType})}),o.jsx("td",{className:"p-3",children:o.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${be(q.status)}`,children:q.status})}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>X(q),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>le(q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:o.jsx(sr,{size:16})})]})})]},q.id))})]})})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:P?"Edit Employee":"Add New Employee"})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",value:R.name,onChange:q=>re("name",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),o.jsx("input",{type:"text",value:R.position,onChange:q=>re("position",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:R.email,onChange:q=>re("email",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:R.phone,onChange:q=>re("phone",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),o.jsxs("select",{value:R.department,onChange:q=>re("department",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"Operations",children:"Operations"}),o.jsx("option",{value:"Sales",children:"Sales"}),o.jsx("option",{value:"Administration",children:"Administration"}),o.jsx("option",{value:"Management",children:"Management"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),o.jsxs("select",{value:R.payType,onChange:q=>re("payType",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"salary",children:"Salary"}),o.jsx("option",{value:"hourly",children:"Hourly"})]})]}),R.payType==="salary"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),o.jsx("input",{type:"number",value:R.baseSalary,onChange:q=>re("baseSalary",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),o.jsx("input",{type:"number",step:"0.01",value:R.hourlyRate,onChange:q=>re("hourlyRate",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),o.jsxs("select",{value:R.incentiveType,onChange:q=>re("incentiveType",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"percent",children:"Percentage"}),o.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),o.jsxs("select",{value:R.status,onChange:q=>re("status",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"}),o.jsx("option",{value:"terminated",children:"Terminated"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),o.jsx("input",{type:"date",value:R.hireDate,onChange:q=>re("hireDate",q.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),o.jsx("textarea",{value:R.notes,onChange:q=>re("notes",q.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),o.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>{E(!1),O(null),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),P?Y():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:P?"Update Employee":"Add Employee"})]})]})})]}),_==="payroll"&&o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),x.filter(q=>q.status==="active").length===0?o.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[o.jsx(mc,{size:48,className:"mx-auto mb-4 opacity-50"}),o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),o.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Employee"}),o.jsx("th",{className:"p-3",children:"Hours"}),o.jsx("th",{className:"p-3",children:"Sales"}),o.jsx("th",{className:"p-3",children:"Base Pay"}),o.jsx("th",{className:"p-3",children:"Incentive"}),o.jsx("th",{className:"p-3",children:"Total Pay"})]})}),o.jsx("tbody",{className:"text-sm",children:x.filter(q=>q.status==="active").map(q=>{const me=de(q),xe=he(q),U=me+xe;return o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[o.jsxs("td",{className:"p-3",children:[o.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:q.name}),o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:q.position})]}),o.jsx("td",{className:"p-3",children:q.payType==="hourly"?o.jsx("input",{type:"number",value:q.hoursWorked||"",onChange:ue=>ge(q.id,"hoursWorked",ue.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):o.jsx("span",{className:"text-slate-400",children:""})}),o.jsx("td",{className:"p-3",children:q.incentiveType!=="none"?o.jsx("input",{type:"number",value:q.salesAmount||"",onChange:ue=>ge(q.id,"salesAmount",ue.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):o.jsx("span",{className:"text-slate-400",children:""})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",me.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",xe.toFixed(2)]})}),o.jsx("td",{className:"p-3",children:o.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",U.toFixed(2)]})})]},q.id)})})]})})]}),_==="incentives"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Sales Bracket"}),o.jsx("th",{className:"p-2",children:"% Scale"})]})}),o.jsx("tbody",{children:n.map((q,me)=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",q.min.toLocaleString(),q.max===1/0?"+":` - $${q.max.toLocaleString()}`]}),o.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[o.jsx("input",{type:"number",value:q.rate,onChange:xe=>te(me,"rate",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},me))})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:a,onChange:q=>l(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),o.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",Q.toFixed(2)]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"Sales Bracket"}),o.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),o.jsx("tbody",{children:c.map((q,me)=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",q.min.toLocaleString(),q.max===1/0?"+":` - $${q.max.toLocaleString()}`]}),o.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",o.jsx("input",{type:"number",value:q.bonus,onChange:xe=>Z(me,"bonus",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},me))})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"number",value:h,onChange:q=>p(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),o.jsx("input",{type:"number",value:m,onChange:q=>y(parseFloat(q.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),o.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),o.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",se.toFixed(2)]})]})]})]})]})]})]})]})},goe=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:l,handleDelete:c,handleEnhancedExportCSV:d})=>{const[h,p]=z.useState(""),[m,y]=z.useState("dueDay"),[x,k]=z.useState("asc"),[_,b]=z.useState("all"),[A,E]=z.useState("all"),[P,O]=z.useState("all"),[N,I]=z.useState(!1),T=new Date,C=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(C.getTime()+6*24*60*60*1e3),M=new Date(L.getTime()+1*24*60*60*1e3),R=new Date(M.getTime()+6*24*60*60*1e3),F=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),ee=z.useMemo(()=>{let Z=t.filter(re=>{if(r&&re.category!==r||h&&!re.name.toLowerCase().includes(h.toLowerCase())||_==="paid"&&!e[re.id]||_==="unpaid"&&e[re.id]||P==="under100"&&re.amount>=100||P==="100to500"&&(re.amount<100||re.amount>500)||P==="over500"&&re.amount<=500)return!1;if(A!=="all"&&re.dueDay){const W=new Date(T.getFullYear(),T.getMonth(),re.dueDay);switch(W<T&&W.setMonth(W.getMonth()+1),A){case"overdue":if(W>=T)return!1;break;case"thisWeek":if(W<C||W>L)return!1;break;case"nextWeek":if(W<M||W>R)return!1;break;case"thisMonth":if(W<F||W>$)return!1;break}}return!0});return Z.sort((re,W)=>{let X=re[m],Y=W[m];m==="status"&&(X=e[re.id]?"paid":"unpaid",Y=e[W.id]?"paid":"unpaid"),typeof X=="string"&&(X=X.toLowerCase(),Y=Y.toLowerCase());let le=0;return X<Y&&(le=-1),X>Y&&(le=1),x==="desc"?-le:le}),Z},[t,r,h,_,A,P,m,x,e,T]),ie=Z=>{m===Z?k(x==="asc"?"desc":"asc"):(y(Z),k("asc"))},Q=()=>{p(""),y("dueDay"),k("asc"),b("all"),E("all"),O("all"),n(null)},se=z.useMemo(()=>{let Z=0;return h&&Z++,r&&Z++,_!=="all"&&Z++,A!=="all"&&Z++,P!=="all"&&Z++,Z},[h,r,_,A,P]),te=({type:Z,label:re})=>{const W=K.useRef(null);return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:W,type:"file",accept:".csv",onChange:X=>{X.target.files[0]&&(window.handleEnhancedCSVImport?.(X.target.files[0],Z),X.target.value="")},style:{display:"none"}}),o.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),re]})]})};return o.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&o.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),se>0&&o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[se," filter",se!==1?"s":""," active"]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(te,{type:"bill",label:"Import"}),o.jsxs("button",{onClick:()=>d(ee,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Export"]})]})]}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:Z=>p(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&o.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:o.jsx(ru,{size:16})})]}),o.jsxs("button",{onClick:()=>I(!N),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${N?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[o.jsx(tu,{size:16}),"Filters",o.jsx(Jp,{className:`transition-transform ${N?"rotate-180":""}`,size:16})]}),se>0&&o.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),N&&o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),o.jsxs("select",{value:`${m}-${x}`,onChange:Z=>{const[re,W]=Z.target.value.split("-");y(re),k(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),o.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),o.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),o.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),o.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),o.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),o.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),o.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),o.jsxs("select",{value:_,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Bills"}),o.jsx("option",{value:"unpaid",children:"Unpaid Only"}),o.jsx("option",{value:"paid",children:"Paid Only"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),o.jsxs("select",{value:A,onChange:Z=>E(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Dates"}),o.jsx("option",{value:"overdue",children:"Overdue"}),o.jsx("option",{value:"thisWeek",children:"This Week"}),o.jsx("option",{value:"nextWeek",children:"Next Week"}),o.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),o.jsxs("select",{value:P,onChange:Z=>O(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[o.jsx("option",{value:"all",children:"All Amounts"}),o.jsx("option",{value:"under100",children:"Under $100"}),o.jsx("option",{value:"100to500",children:"$100 - $500"}),o.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ee.length," of ",t.length," bills",se>0&&` with ${se} filter${se!==1?"s":""} applied`]})})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>ie("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?o.jsx(Vo,{size:14}):o.jsx(Fo,{size:14}))]})}),o.jsx("th",{className:"p-3",children:o.jsxs("button",{onClick:()=>ie("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?o.jsx(Vo,{size:14}):o.jsx(Fo,{size:14}))]})}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3",children:"Receipt"}),o.jsx("th",{className:"p-3 text-right",children:o.jsxs("button",{onClick:()=>ie("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?o.jsx(Vo,{size:14}):o.jsx(Fo,{size:14}))]})}),o.jsx("th",{className:"p-3 text-center",children:o.jsxs("button",{onClick:()=>ie("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?o.jsx(Vo,{size:14}):o.jsx(Fo,{size:14}))]})}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:ee.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),o.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),o.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ee.map(Z=>o.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Z.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[o.jsx("td",{className:"p-3",children:o.jsx("button",{onClick:()=>i(Z.id),className:"hover:scale-110 transition-transform",children:e[Z.id]?o.jsx(Di,{className:"text-green-500",size:20}):o.jsx(_4,{className:"text-slate-400 dark:text-slate-600",size:20})})}),o.jsxs("td",{className:`p-3 font-medium ${e[Z.id]?"line-through":""}`,children:[Z.name,Z.category&&o.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Z.category})]}),o.jsx("td",{className:"p-3 text-center",children:Z.notes&&o.jsxs("div",{className:"group relative flex justify-center",children:[o.jsx(b8,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),o.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Z.notes})]})}),o.jsx("td",{className:"p-3 text-center",children:Z.attachmentURL?o.jsx("a",{href:Z.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:o.jsx(FT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):o.jsx(FT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),o.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Z.amount||0).toFixed(2)]}),o.jsx("td",{className:"p-3 text-center font-medium",children:Z.dueDay}),o.jsx("td",{className:"p-3 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("button",{onClick:()=>l("bill",Z),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>c("bill",Z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:o.jsx(sr,{size:16})})]})})]},Z.id))})]})}),o.jsxs("button",{onClick:()=>l("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[o.jsx(mi,{size:18}),"Add New Bill"]})]})},voe=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const l=t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(i.toLowerCase())));return o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(CSVImportButton,{type:"recurring",label:"Import"}),o.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16}),"Export"]}),o.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[o.jsx(mi,{size:18}),"Add Recurring Work"]})]})]}),o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:c=>a(c.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-3",children:"Work Name"}),o.jsx("th",{className:"p-3",children:"Client ID"}),o.jsx("th",{className:"p-3 text-right",children:"Revenue"}),o.jsx("th",{className:"p-3",children:"Frequency"}),o.jsx("th",{className:"p-3",children:"Next Due Date"}),o.jsx("th",{className:"p-3",children:"Notes"}),o.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),o.jsx("tbody",{children:l.map(c=>o.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[o.jsx("td",{className:"p-3 font-medium",children:c.name}),o.jsx("td",{className:"p-3",children:c.clientId}),o.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(c.revenue||0).toFixed(2)]}),o.jsx("td",{className:"p-3",children:c.frequency}),o.jsx("td",{className:"p-3",children:c.nextDueDate}),o.jsx("td",{className:"p-3 text-sm text-slate-500",children:c.notes}),o.jsxs("td",{className:"p-3 text-center",children:[o.jsx("button",{onClick:()=>e("recurring",c),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:o.jsx(mn,{size:16})}),o.jsx("button",{onClick:()=>r("recurring",c.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:o.jsx(sr,{size:16})})]})]},c.id))})]})})]})},yoe={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Bn="hvac-finance-dashboard",Jj=GR(yoe),DR=PM(Jj),Lr=O7(Jj),xoe=i8(Jj),Kw=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=K.useRef(null);return o.jsxs("div",{className:"inline-block",children:[o.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),o.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(ro,{size:16}),e]})]})},boe=()=>{const[t,e]=z.useState(null),[r,n]=z.useState(!0),[i,a]=z.useState([]),[l,c]=z.useState([]),[d,h]=z.useState([]),[p,m]=z.useState([]),[y,x]=z.useState([]),[k,_]=z.useState([]),[b,A]=z.useState([]),[E,P]=z.useState([]),[O,N]=z.useState([]),[I,T]=z.useState([]),[C,L]=z.useState([]),[M,R]=z.useState([]),[F,$]=z.useState([]),[ee,ie]=z.useState([]),[Q,se]=z.useState({}),[te,Z]=z.useState(!1),[re,W]=z.useState(null),[X,Y]=z.useState("bill"),[le,ge]=z.useState({key:"dueDay",direction:"ascending"}),[he,de]=z.useState("dashboard"),[be,q]=z.useState(null),[me,xe]=z.useState(0),[U,ue]=z.useState({start:new Date,end:new Date}),[_e,Ie]=z.useState("monthly"),[Ue,Qt]=z.useState(!0),[pr,rn]=z.useState("dark"),[Ct,It]=z.useState(""),[Ir,nn]=z.useState([]),[or,Cn]=z.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[zt,Wt]=z.useState({}),xi=(pe,ye)=>{if(!pe||!t)return alert("Please select a file and ensure you're logged in.");const Fe=new FileReader;Fe.onload=Pe=>{try{const Vt=Pe.target.result.split(`
`).filter(Gt=>Gt.trim());if(Vt.length<2)return alert("CSV file must have at least a header row and one data row.");const Ht=Gt=>{const zr=[];let nr="",vn=!1;for(let yn=0;yn<Gt.length;yn++){const Rt=Gt[yn];Rt==='"'?vn=!vn:Rt===","&&!vn?(zr.push(nr.trim()),nr=""):nr+=Rt}return zr.push(nr.trim()),zr},pt=Ht(Vt[0]).map(Gt=>Gt.replace(/"/g,"").trim()),_t=Vt.slice(1,6).map(Gt=>{const zr=Ht(Gt);return pt.reduce((nr,vn,yn)=>{let Rt=zr[yn]||"";return Rt=Rt.replace(/"/g,"").trim(),nr[vn]=Rt&&!isNaN(Rt)&&Rt!==""?parseFloat(Rt):Rt,nr},{})}),tt=Vt.slice(1).map(Gt=>{const zr=Ht(Gt);return pt.reduce((nr,vn,yn)=>{let Rt=zr[yn]||"";return Rt=Rt.replace(/"/g,"").trim(),nr[vn]=Rt&&!isNaN(Rt)&&Rt!==""?parseFloat(Rt):Rt,nr},{})});Cn({show:!0,data:_t,headers:pt,type:ye,fileName:pe.name,fullData:tt}),Bi(ye,pt)}catch(Ge){console.error("Error parsing CSV:",Ge),alert("Error parsing CSV file.")}},Fe.readAsText(pe)};z.useEffect(()=>(window.handleEnhancedCSVImport=xi,()=>{delete window.handleEnhancedCSVImport}),[t]);const mt=(pe,ye)=>{for(const Fe of ye){const Pe=pe.find(Ge=>Ge.toLowerCase().includes(Fe.toLowerCase()));if(Pe)return Pe}return pe[0]||""},Bi=(pe,ye)=>{const Fe={job:{name:mt(ye,["name","job name","title","description"]),revenue:mt(ye,["revenue","amount","total","price"]),materialCost:mt(ye,["material cost","materials"]),laborCost:mt(ye,["labor cost","labor"]),date:mt(ye,["date","completed"]),notes:mt(ye,["notes","comments"]),clientId:mt(ye,["client","customer id"])},client:{name:mt(ye,["name","customer name","company"]),address:mt(ye,["address","location"]),phone:mt(ye,["phone","contact"]),email:mt(ye,["email"])},invoice:{billTo:mt(ye,["bill to","customer","client"]),customer:mt(ye,["customer","company"]),jobNo:mt(ye,["job no","job id"]),completedOn:mt(ye,["completed","date"]),net:mt(ye,["net","amount","subtotal"]),grandTotal:mt(ye,["grand total","total"]),status:mt(ye,["status","paid"])},recurring:{name:mt(ye,["name","work name","title"]),clientId:mt(ye,["client id","customer id"]),revenue:mt(ye,["revenue","amount","price"]),frequency:mt(ye,["frequency","schedule"]),nextDueDate:mt(ye,["next due","due date"]),notes:mt(ye,["notes","details"])}};Wt(Fe[pe]||{})},ma=async()=>{if(!or.fullData.length)return alert("No data to import.");const{type:pe,fullData:ye,fileName:Fe}=or;try{const Ge={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory",recurring:"recurringWork"}[pe];if(!Ge)return alert("Invalid import type.");const Vt=qv(Lr),Ht=ic(Lr,"artifacts",Bn,"users",t,Ge);let pt=0;if(ye.forEach(_t=>{const tt={};if(Object.entries(zt).forEach(([zr,nr])=>{nr&&_t[nr]!==void 0&&_t[nr]!==""&&(tt[zr]=_t[nr])}),pe==="job"?(tt.date=tt.date||new Date().toISOString(),tt.revenue=tt.revenue||0,tt.materialCost=tt.materialCost||0,tt.laborCost=tt.laborCost||0):pe==="invoice"?(tt.status=tt.status||"Unpaid",tt.net=tt.net||0,tt.grandTotal=tt.grandTotal||tt.net||0):pe==="recurring"&&(tt.revenue=tt.revenue||0,tt.frequency=tt.frequency||"Monthly",tt.nextDueDate=tt.nextDueDate||new Date().toISOString().split("T")[0]),pe==="job"&&tt.name||pe==="client"&&tt.name||pe==="invoice"&&(tt.billTo||tt.customer)||pe==="inventory"&&tt.name||pe==="recurring"&&tt.name){const zr=En(Ht);Vt.set(zr,{...tt,importedFrom:Fe,importedAt:Ls(),createdAt:Ls()}),pt++}}),pt===0)return alert("No valid records found to import.");await Vt.commit(),alert(`Successfully imported ${pt} ${Ge} from ${Fe}!`),Cn({show:!1,data:[],headers:[],type:"",fileName:""}),Wt({})}catch(Pe){console.error("Error importing CSV:",Pe),alert(`Failed to import CSV: ${Pe.message}`)}},ga=()=>or.show?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",or.fileName]}),o.jsx("button",{onClick:()=>Cn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:o.jsx(ru,{size:24})})]}),o.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",or.fullData?.length||0," records. Showing first 5 for preview."]})]}),o.jsxs("div",{className:"p-6 overflow-y-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(zt).map(pe=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[pe,":"]}),o.jsxs("select",{value:zt[pe]||"",onChange:ye=>Wt(Fe=>({...Fe,[pe]:ye.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[o.jsx("option",{value:"",children:"-- Skip Field --"}),or.headers.map(ye=>o.jsx("option",{value:ye,children:ye},ye))]})]},pe))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[o.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:o.jsx("tr",{children:or.headers.map(pe=>o.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:pe},pe))})}),o.jsx("tbody",{children:or.data.map((pe,ye)=>o.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:or.headers.map(Fe=>o.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(pe[Fe]||"")},Fe))},ye))})]})})]})]}),o.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 mt-auto",children:[o.jsx("button",{onClick:()=>Cn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),o.jsxs("button",{onClick:ma,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",or.fullData?.length||0," Records"]})]})]})}):null;z.useEffect(()=>{document.documentElement.classList.toggle("dark",pr==="dark")},[pr]);const oo=()=>rn(pr==="light"?"dark":"light");z.useEffect(()=>{const pe=new Date;let ye,Fe;if(_e==="monthly")ye=new Date(pe.getFullYear(),pe.getMonth(),1),Fe=new Date(pe.getFullYear(),pe.getMonth()+1,0);else if(_e==="quarterly"){const Pe=Math.floor(pe.getMonth()/3);ye=new Date(pe.getFullYear(),Pe*3,1),Fe=new Date(pe.getFullYear(),Pe*3+3,0)}else ye=new Date(pe.getFullYear(),0,1),Fe=new Date(pe.getFullYear(),11,31);ue({start:ye,end:Fe})},[_e]);const va=z.useMemo(()=>U.start.getFullYear()+"-"+String(U.start.getMonth()+1).padStart(2,"0"),[U]);z.useEffect(()=>{const pe=DV(DR,ye=>{e(ye?ye.uid:null),n(!1)});return()=>pe()},[]),z.useEffect(()=>{if(!t)return;const ye=Object.entries({bills:a,debts:c,incomes:h,weeklyCosts:m,jobs:x,tasks:_,invoices:A,taxPayments:P,goals:N,clients:T,inventory:L,vehicles:R,maintenanceLogs:$,recurringWork:ie}).map(([Pe,Ge])=>Op(U7(ic(Lr,"artifacts",Bn,"users",t,Pe)),Vt=>{Ge(Vt.docs.map(Ht=>({id:Ht.id,...Ht.data()})))},Vt=>console.error(`Error fetching ${Pe}:`,Vt))),Fe=Op(En(Lr,"artifacts",Bn,"users",t,"paidStatus",va),Pe=>{se(Pe.exists()?Pe.data().status:{})},Pe=>console.error("Error fetching paid status:",Pe));return()=>{ye.forEach(Pe=>Pe()),Fe()}},[t,va]),z.useEffect(()=>{if(!t)return;const pe=Op(En(Lr,"artifacts",Bn,"users",t,"settings","currentBalance"),ye=>{xe(ye.exists()&&ye.data().amount||0)},ye=>console.error("Error fetching current balance:",ye));return()=>pe()},[t]);const Xn=z.useMemo(()=>y.filter(pe=>{if(!pe.date)return!1;const ye=new Date(pe.date);return ye>=U.start&&ye<=U.end}),[y,U]),rs=z.useMemo(()=>i.filter(pe=>!be||pe.category===be),[i,be]),bi=z.useMemo(()=>{const pe=d.reduce((pt,_t)=>pt+(_t.amount||0),0),ye=i.reduce((pt,_t)=>pt+(_t.amount||0),0),Fe=p.reduce((pt,_t)=>pt+(_t.amount||0),0)*4.33,Pe=ye+Fe,Ge=pe-Pe,Vt=l.reduce((pt,_t)=>pt+((_t.totalAmount||0)-(_t.paidAmount||0)),0),Ht=i.filter(pt=>Q[pt.id]).reduce((pt,_t)=>pt+_t.amount,0);return{totalIncome:pe,totalOutflow:Pe,netCashFlow:Ge,paidThisMonth:Ht,totalDebt:Vt,totalMonthlyBills:ye,projectedMonthlyWeekly:Fe}},[i,l,d,p,Q]),In=z.useMemo(()=>{const pe=Xn.reduce((Pe,Ge)=>Pe+(Ge.revenue||0),0),ye=Xn.reduce((Pe,Ge)=>Pe+(Ge.materialCost||0)+(Ge.laborCost||0),0),Fe=pe-ye;return{revenue:pe,cogs:ye,grossProfit:Fe}},[Xn]),ns=z.useMemo(()=>{const pe=i.reduce((Fe,Pe)=>{const Ge=Pe.category||"Uncategorized";return Fe[Ge]=(Fe[Ge]||0)+Pe.amount,Fe},{}),ye=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(pe).map(([Fe,Pe],Ge)=>({name:Fe,value:Pe,color:ye[Ge%ye.length]})).sort((Fe,Pe)=>Pe.value-Fe.value)},[i]),is=z.useMemo(()=>{let ye={bills:rs,debts:l,incomes:d,weeklyCosts:p,jobs:y,goals:O,clients:I,inventory:C,vehicles:M,invoices:b,recurring:ee}[he]||[];return Ct&&(ye=ye.filter(Fe=>Object.values(Fe).some(Pe=>Pe&&String(Pe).toLowerCase().includes(Ct.toLowerCase())))),[...ye].sort((Fe,Pe)=>le.key?Fe[le.key]<Pe[le.key]?le.direction==="ascending"?-1:1:Fe[le.key]>Pe[le.key]?le.direction==="ascending"?1:-1:0:0)},[rs,l,d,p,y,O,I,C,M,b,ee,le,he,Ct]),gn=z.useMemo(()=>{const pe=l.map(Pe=>({...Pe,remaining:Pe.totalAmount-Pe.paidAmount})).filter(Pe=>Pe.remaining>0),ye=[...pe].sort((Pe,Ge)=>Ge.interestRate-Pe.interestRate),Fe=[...pe].sort((Pe,Ge)=>Pe.remaining-Ge.remaining);return{avalanche:ye,snowball:Fe}},[l]),Qn=z.useMemo(()=>O.map(pe=>{let ye=0;if(pe.type==="debt"){const Fe=l.find(Pe=>Pe.id===pe.targetId);Fe&&(ye=Fe.paidAmount/Fe.totalAmount*100)}else pe.type==="revenue"&&(ye=y.reduce((Pe,Ge)=>Pe+(Ge.revenue||0),0)/pe.targetValue*100);return{...pe,progress:Math.min(ye,100)}}),[O,l,y]),as=pe=>ge(ye=>({key:pe,direction:ye.key===pe&&ye.direction==="ascending"?"descending":"ascending"})),Jn=async pe=>{t&&await PT(En(Lr,"artifacts",Bn,"users",t,"paidStatus",va),{status:{...Q,[pe]:!Q[pe]}},{merge:!0})},lo=async(pe,ye)=>{if(!t)return;const Fe=ye==="Paid"?"Unpaid":"Paid";await Qp(En(Lr,"artifacts",Bn,"users",t,"invoices",pe),{status:Fe})},Jt=(pe,ye=null)=>{Y(pe),W(ye),Z(!0)},co=async pe=>{if(!t)return alert("Please log in to update the balance.");try{await PT(En(Lr,"artifacts",Bn,"users",t,"settings","currentBalance"),{amount:pe,updatedAt:Ls()},{merge:!0})}catch(ye){console.error("Failed to update current balance:",ye),alert("Failed to update balance: "+ye.message)}},wi=async(pe,ye)=>{if(!t)return;const Pe={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[X];if(!Pe)return alert("Invalid modal type for saving.");const Ge=["artifacts",Bn,"users",t,Pe],Vt={...pe,modifiedAt:Ls()};if(ye){const Ht=n8(xoe,`receipts/${t}/${Date.now()}-${ye.name}`);try{await t8(Ht,ye),Vt.attachmentURL=await r8(Ht)}catch(pt){return console.error("File upload failed:",pt),alert("File upload failed. Please try again.")}}try{re?.id?await Qp(En(Lr,...Ge,re.id),Vt):await r4(ic(Lr,...Ge),{...Vt,createdAt:Ls()}),Z(!1),W(null)}catch(Ht){console.error("Error saving item:",Ht),alert("Failed to save item.")}},kr=async(pe,ye)=>{if(!t||!window.confirm("Delete this item?"))return;const Pe={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[pe];if(!Pe)return alert("Invalid item type for deletion.");try{await t4(En(Lr,"artifacts",Bn,"users",t,Pe,ye))}catch(Ge){console.error(`Error deleting ${pe}:`,Ge),alert(`Failed to delete ${pe}. Error: ${Ge.message}`)}},Ot=async(pe,ye)=>{if(!t||!ye.length||!window.confirm(`Delete ${ye.length} selected items?`))return;const Pe={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[pe];if(!Pe)return alert("Invalid bulk delete type.");try{const Ge=qv(Lr);ye.forEach(Vt=>{Ge.delete(En(Lr,"artifacts",Bn,"users",t,Pe,Vt)),pe==="vehicle"&&F.filter(pt=>pt.vehicleId===Vt).forEach(pt=>Ge.delete(En(Lr,"artifacts",Bn,"users",t,"maintenanceLogs",pt.id)))}),await Ge.commit(),nn([])}catch(Ge){console.error(`Error bulk deleting ${pe}s:`,Ge),alert(`Failed to delete ${pe}s. Please try again.`)}},ss=async()=>{if(!(!t||!window.confirm("Clear all your business data? This is irreversible.")))try{const pe=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","recurringWork","paidStatus","system","settings"];for(const ye of pe){const Fe=await W7(ic(Lr,"artifacts",Bn,"users",t,ye));if(!Fe.empty){const Pe=qv(Lr);Fe.docs.forEach(Ge=>Pe.delete(Ge.ref)),await Pe.commit()}}alert("All business data has been cleared.")}catch(pe){console.error("Failed to clear data:",pe),alert("Failed to clear data: "+pe.message)}};if(r)return o.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return o.jsx(T8,{setUserId:e});const On=()=>o.jsxs(o.Fragment,{children:[Ue&&o.jsx(noe,{bills:i,paidStatus:Q,onClose:()=>Qt(!1)}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx(Qi,{title:"Total Monthly Income",value:`$${bi.totalIncome.toLocaleString()}`,icon:o.jsx(f8,{size:24}),color:"green"}),o.jsx(Qi,{title:"Total Monthly Outflow",value:`$${bi.totalOutflow.toLocaleString()}`,icon:o.jsx(d8,{size:24}),color:"red"}),o.jsx(Qi,{title:"Projected Net",value:`$${bi.netCashFlow.toLocaleString()}`,icon:o.jsx(Ur,{size:24}),color:bi.netCashFlow>=0?"cyan":"amber"}),o.jsx(Qi,{title:"Outstanding Debt",value:`$${bi.totalDebt.toLocaleString()}`,icon:o.jsx(g0,{size:24}),color:"orange"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx(Qi,{title:"Gross Profit Margin",value:`${In.revenue>0?(In.grossProfit/In.revenue*100).toFixed(1):"0.0"}%`,icon:o.jsx(j4,{size:24}),color:"teal",subtext:"For selected period"}),o.jsx(Qi,{title:"Avg. Job Revenue",value:`$${(In.revenue/(Xn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(gi,{size:24}),color:"indigo",subtext:`${Xn.length} jobs`}),o.jsx(Qi,{title:"Avg. Job Profit",value:`$${(In.grossProfit/(Xn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:o.jsx(Od,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[o.jsx(goe,{bills:i,paidStatus:Q,selectedCategory:be,setSelectedCategory:q,handleTogglePaid:Jn,handleSort:as,openModal:Jt,handleDelete:kr,handleEnhancedExportCSV}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),o.jsx(ioe,{data:ns,onSliceClick:q})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Kw,{type:"job",label:"Import Jobs"}),o.jsx(Kw,{type:"client",label:"Import Customers"}),o.jsx(Kw,{type:"invoice",label:"Import Invoices"})]}),o.jsxs("button",{onClick:exportAppSheetTemplate,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(Kn,{size:16})," Download CSV Template"]}),o.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[o.jsx("p",{children:" Export data from AppSheet as CSV"}),o.jsx("p",{children:" Use Import buttons to map fields"}),o.jsx("p",{children:" Download template for reference"})]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome!"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{children:" Use the navigation tabs to add clients, jobs, vehicles, and more."}),o.jsx("p",{children:" Track your finances and business performance from the dashboard."})]})]}),o.jsxs("button",{onClick:ss,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(sr,{size:16})," Clear All Data"]})]})]})]})]})]});return o.jsxs("div",{className:`${pr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[o.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[o.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:oo,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:pr==="light"?o.jsx(_8,{size:20}):o.jsx(j8,{size:20})}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[o.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[o.jsx("button",{onClick:()=>Ie("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),o.jsx("button",{onClick:()=>Ie("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),o.jsx("button",{onClick:()=>Ie("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[o.jsx("button",{onClick:()=>{const pe=new Date(U.start);_e==="monthly"?pe.setMonth(pe.getMonth()-1):_e==="quarterly"?pe.setMonth(pe.getMonth()-3):pe.setFullYear(pe.getFullYear()-1);let ye;_e==="monthly"?ye=new Date(pe.getFullYear(),pe.getMonth()+1,0):_e==="quarterly"?ye=new Date(pe.getFullYear(),pe.getMonth()+3,0):ye=new Date(pe.getFullYear(),11,31),ue({start:pe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:o.jsx(w4,{size:16})}),o.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&U.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((U.start.getMonth()+1)/3)} ${U.start.getFullYear()}`,_e==="yearly"&&U.start.getFullYear().toString()]}),o.jsx("button",{onClick:()=>{const pe=new Date(U.start);_e==="monthly"?pe.setMonth(pe.getMonth()+1):_e==="quarterly"?pe.setMonth(pe.getMonth()+3):pe.setFullYear(pe.getFullYear()+1);let ye;_e==="monthly"?ye=new Date(pe.getFullYear(),pe.getMonth()+1,0):_e==="quarterly"?ye=new Date(pe.getFullYear(),pe.getMonth()+3,0):ye=new Date(pe.getFullYear(),11,31),ue({start:pe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:o.jsx(U1,{size:16})})]})]}),o.jsxs("button",{onClick:()=>LV(DR),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[o.jsx(x8,{size:16})," Logout"]})]})]}),o.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[o.jsx("button",{onClick:()=>de("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),o.jsx("button",{onClick:()=>de("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),o.jsx("button",{onClick:()=>de("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),o.jsx("button",{onClick:()=>de("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),o.jsx("button",{onClick:()=>de("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),o.jsx("button",{onClick:()=>de("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),o.jsx("button",{onClick:()=>de("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),o.jsx("button",{onClick:()=>de("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),o.jsx("button",{onClick:()=>de("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),o.jsx("button",{onClick:()=>de("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),o.jsx("button",{onClick:()=>de("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),o.jsx("button",{onClick:()=>de("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),o.jsx("button",{onClick:()=>de("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),o.jsx("button",{onClick:()=>de("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),o.jsx("button",{onClick:()=>de("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),o.jsx("button",{onClick:()=>de("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Valuation"}),o.jsx("button",{onClick:()=>de("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"}),o.jsx("button",{onClick:()=>de("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"})]}),o.jsxs("main",{children:[he==="dashboard"&&On(),he==="reports"&&o.jsx(roe,{clients:I,jobs:y,bills:i,inventory:C}),he==="valuation"&&o.jsx(eoe,{}),he==="calendar"&&o.jsx(Yse,{jobs:y,tasks:k,openModal:Jt}),he==="invoices"&&o.jsx(Qse,{invoices:b,openModal:Jt,handleDelete:kr,handleBulkDelete:Ot,selectedIds:Ir,setSelectedIds:nn,searchTerm:Ct,setSearchTerm:It,handleImportCSV,handleExportCSV,handleToggleInvoicePaid:lo}),he==="tax"&&o.jsx(Kse,{jobs:y,bills:i,weeklyCosts:p,taxPayments:E,openModal:Jt,handleDelete:kr}),he==="pnl"&&o.jsx(loe,{jobs:y,bills:i,weeklyCosts:p,reportingPeriod:_e,dateRange:U}),he==="forecast"&&o.jsx(aoe,{invoices:b,bills:i,weeklyCosts:p,currentBankBalance:me,setCurrentBankBalance:co}),he==="goals"&&o.jsx(doe,{goalsWithProgress:Qn,openModal:Jt,onDeleteGoal:pe=>kr("goal",pe),onEditGoal:pe=>Jt("goal",pe)}),he==="incentives"&&o.jsx(moe,{userId:t,db:Lr,appId:Bn}),he==="clients"&&o.jsx(Jse,{clients:I,openModal:Jt,handleDelete:kr,handleBulkDelete:Ot,selectedIds:Ir,setSelectedIds:nn,searchTerm:Ct,setSearchTerm:It,handleImportCSV,handleExportCSV,handleBulkUpdate:pe=>handleBulkUpdate("client",pe)}),he==="jobs"&&o.jsx(ooe,{jobs:y,clients:I,openModal:Jt,handleDelete:kr,searchTerm:Ct,setSearchTerm:It}),he==="recurring"&&o.jsx(voe,{recurringWork:is,openModal:Jt,handleDelete:kr,handleEnhancedExportCSV,searchTerm:Ct,setSearchTerm:It}),he==="vehicles"&&o.jsx(Zse,{vehicles:M,maintenanceLogs:F,openModal:Jt,handleDelete:kr,searchTerm:Ct,setSearchTerm:It}),he==="inventory"&&o.jsx(toe,{inventory:C,openModal:Jt,handleDelete:kr,handleBulkDelete:Ot,selectedIds:Ir,setSelectedIds:nn,searchTerm:Ct,setSearchTerm:It}),he==="debts"&&o.jsx(coe,{debts:l,openModal:Jt,handleDelete:kr,searchTerm:Ct,setSearchTerm:It,debtPayoffStrategies:gn}),he==="incomes"&&o.jsx(uoe,{incomes:d,openModal:Jt,handleDelete:kr}),he==="weeklyCosts"&&o.jsx(hoe,{weeklyCosts:p,openModal:Jt,handleDelete:kr})]}),o.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:o.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",o.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),o.jsx(ga,{}),te&&o.jsx(Xse,{item:re,type:X,onSave:wi,onClose:()=>Z(!1),debts:l,clients:I,vehicles:M})]})};nF.createRoot(document.getElementById("root")).render(o.jsx(K.StrictMode,{children:o.jsx(boe,{})}));
