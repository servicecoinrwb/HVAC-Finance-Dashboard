(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var my={exports:{}},ud={},gy={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function NV(){if(lC)return at;lC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function x(W,Q,H){this.props=W,this.context=Q,this.refs=_,this.updater=H||w}x.prototype.isReactComponent={},x.prototype.setState=function(W,Q){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Q,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function C(){}C.prototype=x.prototype;function j(W,Q,H){this.props=W,this.context=Q,this.refs=_,this.updater=H||w}var A=j.prototype=new C;A.constructor=j,b(A,x.prototype),A.isPureReactComponent=!0;var P=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function M(W,Q,H){var oe,X={},ue=null,le=null;if(Q!=null)for(oe in Q.ref!==void 0&&(le=Q.ref),Q.key!==void 0&&(ue=""+Q.key),Q)S.call(Q,oe)&&!T.hasOwnProperty(oe)&&(X[oe]=Q[oe]);var pe=arguments.length-2;if(pe===1)X.children=H;else if(1<pe){for(var z=Array(pe),ae=0;ae<pe;ae++)z[ae]=arguments[ae+2];X.children=z}if(W&&W.defaultProps)for(oe in pe=W.defaultProps,pe)X[oe]===void 0&&(X[oe]=pe[oe]);return{$$typeof:t,type:W,key:ue,ref:le,props:X,_owner:E.current}}function L(W,Q){return{$$typeof:t,type:W.type,key:Q,ref:W.ref,props:W.props,_owner:W._owner}}function R(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function D(W){var Q={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(H){return Q[H]})}var V=/\/+/g;function F(W,Q){return typeof W=="object"&&W!==null&&W.key!=null?D(""+W.key):Q.toString(36)}function Z(W,Q,H,oe,X){var ue=typeof W;(ue==="undefined"||ue==="boolean")&&(W=null);var le=!1;if(W===null)le=!0;else switch(ue){case"string":case"number":le=!0;break;case"object":switch(W.$$typeof){case t:case e:le=!0}}if(le)return le=W,X=X(le),W=oe===""?"."+F(le,0):oe,P(X)?(H="",W!=null&&(H=W.replace(V,"$&/")+"/"),Z(X,Q,H,"",function(ae){return ae})):X!=null&&(R(X)&&(X=L(X,H+(!X.key||le&&le.key===X.key?"":(""+X.key).replace(V,"$&/")+"/")+W)),Q.push(X)),1;if(le=0,oe=oe===""?".":oe+":",P(W))for(var pe=0;pe<W.length;pe++){ue=W[pe];var z=oe+F(ue,pe);le+=Z(ue,Q,H,z,X)}else if(z=g(W),typeof z=="function")for(W=z.call(W),pe=0;!(ue=W.next()).done;)ue=ue.value,z=oe+F(ue,pe++),le+=Z(ue,Q,H,z,X);else if(ue==="object")throw Q=String(W),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return le}function te(W,Q,H){if(W==null)return W;var oe=[],X=0;return Z(W,oe,"","",function(ue){return Q.call(H,ue,X++)}),oe}function J(W){if(W._status===-1){var Q=W._result;Q=Q(),Q.then(function(H){(W._status===0||W._status===-1)&&(W._status=1,W._result=H)},function(H){(W._status===0||W._status===-1)&&(W._status=2,W._result=H)}),W._status===-1&&(W._status=0,W._result=Q)}if(W._status===1)return W._result.default;throw W._result}var ee={current:null},K={transition:null},Y={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:E};function re(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:te,forEach:function(W,Q,H){te(W,function(){Q.apply(this,arguments)},H)},count:function(W){var Q=0;return te(W,function(){Q++}),Q},toArray:function(W){return te(W,function(Q){return Q})||[]},only:function(W){if(!R(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},at.Component=x,at.Fragment=r,at.Profiler=i,at.PureComponent=j,at.StrictMode=n,at.Suspense=d,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,at.act=re,at.cloneElement=function(W,Q,H){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var oe=b({},W.props),X=W.key,ue=W.ref,le=W._owner;if(Q!=null){if(Q.ref!==void 0&&(ue=Q.ref,le=E.current),Q.key!==void 0&&(X=""+Q.key),W.type&&W.type.defaultProps)var pe=W.type.defaultProps;for(z in Q)S.call(Q,z)&&!T.hasOwnProperty(z)&&(oe[z]=Q[z]===void 0&&pe!==void 0?pe[z]:Q[z])}var z=arguments.length-2;if(z===1)oe.children=H;else if(1<z){pe=Array(z);for(var ae=0;ae<z;ae++)pe[ae]=arguments[ae+2];oe.children=pe}return{$$typeof:t,type:W.type,key:X,ref:ue,props:oe,_owner:le}},at.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},at.createElement=M,at.createFactory=function(W){var Q=M.bind(null,W);return Q.type=W,Q},at.createRef=function(){return{current:null}},at.forwardRef=function(W){return{$$typeof:c,render:W}},at.isValidElement=R,at.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:J}},at.memo=function(W,Q){return{$$typeof:h,type:W,compare:Q===void 0?null:Q}},at.startTransition=function(W){var Q=K.transition;K.transition={};try{W()}finally{K.transition=Q}},at.unstable_act=re,at.useCallback=function(W,Q){return ee.current.useCallback(W,Q)},at.useContext=function(W){return ee.current.useContext(W)},at.useDebugValue=function(){},at.useDeferredValue=function(W){return ee.current.useDeferredValue(W)},at.useEffect=function(W,Q){return ee.current.useEffect(W,Q)},at.useId=function(){return ee.current.useId()},at.useImperativeHandle=function(W,Q,H){return ee.current.useImperativeHandle(W,Q,H)},at.useInsertionEffect=function(W,Q){return ee.current.useInsertionEffect(W,Q)},at.useLayoutEffect=function(W,Q){return ee.current.useLayoutEffect(W,Q)},at.useMemo=function(W,Q){return ee.current.useMemo(W,Q)},at.useReducer=function(W,Q,H){return ee.current.useReducer(W,Q,H)},at.useRef=function(W){return ee.current.useRef(W)},at.useState=function(W){return ee.current.useState(W)},at.useSyncExternalStore=function(W,Q,H){return ee.current.useSyncExternalStore(W,Q,H)},at.useTransition=function(){return ee.current.useTransition()},at.version="18.3.1",at}var cC;function $j(){return cC||(cC=1,gy.exports=NV()),gy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function EV(){if(uC)return ud;uC=1;var t=$j(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,d,h){var p,m={},g=null,w=null;h!==void 0&&(g=""+h),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(w=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:g,ref:w,props:m,_owner:i.current}}return ud.Fragment=r,ud.jsx=o,ud.jsxs=o,ud}var dC;function CV(){return dC||(dC=1,my.exports=EV()),my.exports}var a=CV(),k=$j();const ne=Nt(k);var Op={},vy={exports:{}},Un={},yy={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hC;function TV(){return hC||(hC=1,function(t){function e(K,Y){var re=K.length;K.push(Y);e:for(;0<re;){var W=re-1>>>1,Q=K[W];if(0<i(Q,Y))K[W]=Y,K[re]=Q,re=W;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var Y=K[0],re=K.pop();if(re!==Y){K[0]=re;e:for(var W=0,Q=K.length,H=Q>>>1;W<H;){var oe=2*(W+1)-1,X=K[oe],ue=oe+1,le=K[ue];if(0>i(X,re))ue<Q&&0>i(le,X)?(K[W]=le,K[ue]=re,W=ue):(K[W]=X,K[oe]=re,W=oe);else if(ue<Q&&0>i(le,re))K[W]=le,K[ue]=re,W=ue;else break e}}return Y}function i(K,Y){var re=K.sortIndex-Y.sortIndex;return re!==0?re:K.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],p=1,m=null,g=3,w=!1,b=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(K){for(var Y=r(h);Y!==null;){if(Y.callback===null)n(h);else if(Y.startTime<=K)n(h),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=r(h)}}function P(K){if(_=!1,A(K),!b)if(r(d)!==null)b=!0,J(S);else{var Y=r(h);Y!==null&&ee(P,Y.startTime-K)}}function S(K,Y){b=!1,_&&(_=!1,C(M),M=-1),w=!0;var re=g;try{for(A(Y),m=r(d);m!==null&&(!(m.expirationTime>Y)||K&&!D());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var Q=W(m.expirationTime<=Y);Y=t.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(d)&&n(d),A(Y)}else n(d);m=r(d)}if(m!==null)var H=!0;else{var oe=r(h);oe!==null&&ee(P,oe.startTime-Y),H=!1}return H}finally{m=null,g=re,w=!1}}var E=!1,T=null,M=-1,L=5,R=-1;function D(){return!(t.unstable_now()-R<L)}function V(){if(T!==null){var K=t.unstable_now();R=K;var Y=!0;try{Y=T(!0,K)}finally{Y?F():(E=!1,T=null)}}else E=!1}var F;if(typeof j=="function")F=function(){j(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,te=Z.port2;Z.port1.onmessage=V,F=function(){te.postMessage(null)}}else F=function(){x(V,0)};function J(K){T=K,E||(E=!0,F())}function ee(K,Y){M=x(function(){K(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,J(S))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var re=g;g=Y;try{return K()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,Y){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=g;g=K;try{return Y()}finally{g=re}},t.unstable_scheduleCallback=function(K,Y,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,K){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=re+Q,K={id:p++,callback:Y,priorityLevel:K,startTime:re,expirationTime:Q,sortIndex:-1},re>W?(K.sortIndex=re,e(h,K),r(d)===null&&K===r(h)&&(_?(C(M),M=-1):_=!0,ee(P,re-W))):(K.sortIndex=Q,e(d,K),b||w||(b=!0,J(S))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var Y=g;return function(){var re=g;g=Y;try{return K.apply(this,arguments)}finally{g=re}}}}(xy)),xy}var fC;function AV(){return fC||(fC=1,yy.exports=TV()),yy.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function PV(){if(pC)return Un;pC=1;var t=$j(),e=AV();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,u){o(l,u),o(l+"Capture",u)}function o(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(l){return d.call(m,l)?!0:d.call(p,l)?!1:h.test(l)?m[l]=!0:(p[l]=!0,!1)}function w(l,u,f,y){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,f,y){if(u===null||typeof u>"u"||w(l,u,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(l,u,f,y,N,I,B){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=y,this.attributeNamespace=N,this.mustUseProperty=f,this.propertyName=l,this.type=u,this.sanitizeURL=I,this.removeEmptyString=B}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];x[u]=new _(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(C,j);x[u]=new _(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(C,j);x[u]=new _(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(C,j);x[u]=new _(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function A(l,u,f,y){var N=x.hasOwnProperty(u)?x[u]:null;(N!==null?N.type!==0:y||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,f,N,y)&&(f=null),y||N===null?g(u)&&(f===null?l.removeAttribute(u):l.setAttribute(u,""+f)):N.mustUseProperty?l[N.propertyName]=f===null?N.type===3?!1:"":f:(u=N.attributeName,y=N.attributeNamespace,f===null?l.removeAttribute(u):(N=N.type,f=N===3||N===4&&f===!0?"":""+f,y?l.setAttributeNS(y,u,f):l.setAttribute(u,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=K&&l[K]||l["@@iterator"],typeof l=="function"?l:null)}var re=Object.assign,W;function Q(l){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var H=!1;function oe(l,u){if(!l||H)return"";H=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ge){var y=ge}Reflect.construct(l,[],u)}else{try{u.call()}catch(ge){y=ge}l.call(u.prototype)}else{try{throw Error()}catch(ge){y=ge}l()}}catch(ge){if(ge&&y&&typeof ge.stack=="string"){for(var N=ge.stack.split(`
`),I=y.stack.split(`
`),B=N.length-1,G=I.length-1;1<=B&&0<=G&&N[B]!==I[G];)G--;for(;1<=B&&0<=G;B--,G--)if(N[B]!==I[G]){if(B!==1||G!==1)do if(B--,G--,0>G||N[B]!==I[G]){var ie=`
`+N[B].replace(" at new "," at ");return l.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",l.displayName)),ie}while(1<=B&&0<=G);break}}}finally{H=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?Q(l):""}function X(l){switch(l.tag){case 5:return Q(l.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return l=oe(l.type,!1),l;case 11:return l=oe(l.type.render,!1),l;case 1:return l=oe(l.type,!0),l;default:return""}}function ue(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case E:return"Portal";case L:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case Z:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case D:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case V:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case te:return u=l.displayName||null,u!==null?u:ue(l.type)||"Memo";case J:u=l._payload,l=l._init;try{return ue(l(u))}catch{}}return null}function le(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(u);case 8:return u===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function pe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function z(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ae(l){var u=z(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),y=""+l[u];if(!l.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var N=f.get,I=f.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return N.call(this)},set:function(B){y=""+B,I.call(this,B)}}),Object.defineProperty(l,u,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(B){y=""+B},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function me(l){l._valueTracker||(l._valueTracker=ae(l))}function q(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var f=u.getValue(),y="";return l&&(y=z(l)?l.checked?"true":"false":l.value),l=y,l!==f?(u.setValue(l),!0):!1}function fe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function _e(l,u){var f=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function Ee(l,u){var f=u.defaultValue==null?"":u.defaultValue,y=u.checked!=null?u.checked:u.defaultChecked;f=pe(u.value!=null?u.value:f),l._wrapperState={initialChecked:y,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function qe(l,u){u=u.checked,u!=null&&A(l,"checked",u,!1)}function Mt(l,u){qe(l,u);var f=pe(u.value),y=u.type;if(f!=null)y==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(y==="submit"||y==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?gr(l,u.type,f):u.hasOwnProperty("defaultValue")&&gr(l,u.type,pe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function or(l,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var y=u.type;if(!(y!=="submit"&&y!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,f||u===l.value||(l.value=u),l.defaultValue=u}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function gr(l,u,f){(u!=="number"||fe(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Pt=Array.isArray;function kt(l,u,f,y){if(l=l.options,u){u={};for(var N=0;N<f.length;N++)u["$"+f[N]]=!0;for(f=0;f<l.length;f++)N=u.hasOwnProperty("$"+l[f].value),l[f].selected!==N&&(l[f].selected=N),N&&y&&(l[f].defaultSelected=!0)}else{for(f=""+pe(f),u=null,N=0;N<l.length;N++){if(l[N].value===f){l[N].selected=!0,y&&(l[N].defaultSelected=!0);return}u!==null||l[N].disabled||(u=l[N])}u!==null&&(u.selected=!0)}}function vr(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function yr(l,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(Pt(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}l._wrapperState={initialValue:pe(f)}}function rr(l,u){var f=pe(u.value),y=pe(u.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),u.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),y!=null&&(l.defaultValue=""+y)}function sn(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function $t(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ot(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?$t(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var an,dt=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,y,N){MSApp.execUnsafeLocalFunction(function(){return l(u,f,y,N)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=an.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Kn(l,u){if(u){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=u;return}}l.textContent=u}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(l){fi.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),Mn[u]=Mn[l]})});function Sr(l,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||Mn.hasOwnProperty(l)&&Mn[l]?(""+u).trim():u+"px"}function os(l,u){l=l.style;for(var f in u)if(u.hasOwnProperty(f)){var y=f.indexOf("--")===0,N=Sr(f,u[f],y);f==="float"&&(f="cssFloat"),y?l.setProperty(f,N):l[f]=N}}var pi=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mi(l,u){if(u){if(pi[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function zr(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function qr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var bn=null,Wr=null,wn=null;function Qn(l){if(l=Yu(l)){if(typeof bn!="function")throw Error(r(280));var u=l.stateNode;u&&(u=Hf(u),bn(l.stateNode,l.type,u))}}function _n(l){Wr?wn?wn.push(l):wn=[l]:Wr=l}function gi(){if(Wr){var l=Wr,u=wn;if(wn=Wr=null,Qn(l),u)for(l=0;l<u.length;l++)Qn(u[l])}}function vi(l,u){return l(u)}function yi(){}var Rt=!1;function Ls(l,u,f){if(Rt)return l(u,f);Rt=!0;try{return vi(l,u,f)}finally{Rt=!1,(Wr!==null||wn!==null)&&(yi(),gi())}}function Et(l,u){var f=l.stateNode;if(f===null)return null;var y=Hf(f);if(y===null)return null;f=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var Fe=!1;if(c)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Fe=!1}function Ds(l,u,f,y,N,I,B,G,ie){var ge=Array.prototype.slice.call(arguments,3);try{u.apply(f,ge)}catch(Se){this.onError(Se)}}var $s=!1,ve=null,be=!1,Ue=null,Oe={onError:function(l){$s=!0,ve=l}};function Ke(l,u,f,y,N,I,B,G,ie){$s=!1,ve=null,Ds.apply(Oe,arguments)}function Ft(l,u,f,y,N,I,B,G,ie){if(Ke.apply(this,arguments),$s){if($s){var ge=ve;$s=!1,ve=null}else throw Error(r(198));be||(be=!0,Ue=ge)}}function lt(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function vt(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Jt(l){if(lt(l)!==l)throw Error(r(188))}function st(l){var u=l.alternate;if(!u){if(u=lt(l),u===null)throw Error(r(188));return u!==l?null:l}for(var f=l,y=u;;){var N=f.return;if(N===null)break;var I=N.alternate;if(I===null){if(y=N.return,y!==null){f=y;continue}break}if(N.child===I.child){for(I=N.child;I;){if(I===f)return Jt(N),l;if(I===y)return Jt(N),u;I=I.sibling}throw Error(r(188))}if(f.return!==y.return)f=N,y=I;else{for(var B=!1,G=N.child;G;){if(G===f){B=!0,f=N,y=I;break}if(G===y){B=!0,y=N,f=I;break}G=G.sibling}if(!B){for(G=I.child;G;){if(G===f){B=!0,f=I,y=N;break}if(G===y){B=!0,y=I,f=N;break}G=G.sibling}if(!B)throw Error(r(189))}}if(f.alternate!==y)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:u}function Vt(l){return l=st(l),l!==null?Bt(l):null}function Bt(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Bt(l);if(u!==null)return u;l=l.sibling}return null}var lr=e.unstable_scheduleCallback,Xn=e.unstable_cancelCallback,xi=e.unstable_shouldYield,nr=e.unstable_requestPaint,Ut=e.unstable_now,bf=e.unstable_getCurrentPriorityLevel,Eo=e.unstable_ImmediatePriority,_a=e.unstable_UserBlockingPriority,bi=e.unstable_NormalPriority,Ou=e.unstable_LowPriority,wf=e.unstable_IdlePriority,Co=null,Jn=null;function _f(l){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Co,l,void 0,(l.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:jf,Iu=Math.log,kf=Math.LN2;function jf(l){return l>>>=0,l===0?32:31-(Iu(l)/kf|0)|0}var Dl=64,$l=4194304;function ka(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function To(l,u){var f=l.pendingLanes;if(f===0)return 0;var y=0,N=l.suspendedLanes,I=l.pingedLanes,B=f&268435455;if(B!==0){var G=B&~N;G!==0?y=ka(G):(I&=B,I!==0&&(y=ka(I)))}else B=f&~N,B!==0?y=ka(B):I!==0&&(y=ka(I));if(y===0)return 0;if(u!==0&&u!==y&&(u&N)===0&&(N=y&-y,I=u&-u,N>=I||N===16&&(I&4194240)!==0))return u;if((y&4)!==0&&(y|=f&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=y;0<u;)f=31-jn(u),N=1<<f,y|=l[f],u&=~N;return y}function W0(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(l,u){for(var f=l.suspendedLanes,y=l.pingedLanes,N=l.expirationTimes,I=l.pendingLanes;0<I;){var B=31-jn(I),G=1<<B,ie=N[B];ie===-1?((G&f)===0||(G&y)!==0)&&(N[B]=W0(G,u)):ie<=u&&(l.expiredLanes|=G),I&=~G}}function Zn(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ao(){var l=Dl;return Dl<<=1,(Dl&4194240)===0&&(Dl=64),l}function ja(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function Sa(l,u,f){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-jn(u),l[u]=f}function Lt(l,u){var f=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var y=l.eventTimes;for(l=l.expirationTimes;0<f;){var N=31-jn(f),I=1<<N;u[N]=0,y[N]=-1,l[N]=-1,f&=~I}}function Na(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var y=31-jn(f),N=1<<y;N&u|l[y]&u&&(l[y]|=u),f&=~N}}var ht=0;function Ea(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Sf,Fl,Nf,Ef,Cf,Mu=!1,ls=[],Hr=null,Bi=null,Ui=null,Ca=new Map,wi=new Map,cs=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tf(l,u){switch(l){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Ca.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(u.pointerId)}}function Rn(l,u,f,y,N,I){return l===null||l.nativeEvent!==I?(l={blockedOn:u,domEventName:f,eventSystemFlags:y,nativeEvent:I,targetContainers:[N]},u!==null&&(u=Yu(u),u!==null&&Fl(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),l)}function G0(l,u,f,y,N){switch(u){case"focusin":return Hr=Rn(Hr,l,u,f,y,N),!0;case"dragenter":return Bi=Rn(Bi,l,u,f,y,N),!0;case"mouseover":return Ui=Rn(Ui,l,u,f,y,N),!0;case"pointerover":var I=N.pointerId;return Ca.set(I,Rn(Ca.get(I)||null,l,u,f,y,N)),!0;case"gotpointercapture":return I=N.pointerId,wi.set(I,Rn(wi.get(I)||null,l,u,f,y,N)),!0}return!1}function Af(l){var u=Ro(l.target);if(u!==null){var f=lt(u);if(f!==null){if(u=f.tag,u===13){if(u=vt(f),u!==null){l.blockedOn=u,Cf(l.priority,function(){Nf(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Vs(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var f=Vl(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var y=new f.constructor(f.type,f);Yn=y,f.target.dispatchEvent(y),Yn=null}else return u=Yu(f),u!==null&&Fl(u),l.blockedOn=f,!1;u.shift()}return!0}function Po(l,u,f){Vs(l)&&f.delete(u)}function Pf(){Mu=!1,Hr!==null&&Vs(Hr)&&(Hr=null),Bi!==null&&Vs(Bi)&&(Bi=null),Ui!==null&&Vs(Ui)&&(Ui=null),Ca.forEach(Po),wi.forEach(Po)}function zi(l,u){l.blockedOn===u&&(l.blockedOn=null,Mu||(Mu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pf)))}function qi(l){function u(N){return zi(N,l)}if(0<ls.length){zi(ls[0],l);for(var f=1;f<ls.length;f++){var y=ls[f];y.blockedOn===l&&(y.blockedOn=null)}}for(Hr!==null&&zi(Hr,l),Bi!==null&&zi(Bi,l),Ui!==null&&zi(Ui,l),Ca.forEach(u),wi.forEach(u),f=0;f<cs.length;f++)y=cs[f],y.blockedOn===l&&(y.blockedOn=null);for(;0<cs.length&&(f=cs[0],f.blockedOn===null);)Af(f),f.blockedOn===null&&cs.shift()}var Bs=P.ReactCurrentBatchConfig,Ta=!0;function Zt(l,u,f,y){var N=ht,I=Bs.transition;Bs.transition=null;try{ht=1,Ru(l,u,f,y)}finally{ht=N,Bs.transition=I}}function K0(l,u,f,y){var N=ht,I=Bs.transition;Bs.transition=null;try{ht=4,Ru(l,u,f,y)}finally{ht=N,Bs.transition=I}}function Ru(l,u,f,y){if(Ta){var N=Vl(l,u,f,y);if(N===null)sv(l,u,y,Oo,f),Tf(l,y);else if(G0(N,l,u,f,y))y.stopPropagation();else if(Tf(l,y),u&4&&-1<H0.indexOf(l)){for(;N!==null;){var I=Yu(N);if(I!==null&&Sf(I),I=Vl(l,u,f,y),I===null&&sv(l,u,y,Oo,f),I===N)break;N=I}N!==null&&y.stopPropagation()}else sv(l,u,y,null,f)}}var Oo=null;function Vl(l,u,f,y){if(Oo=null,l=qr(y),l=Ro(l),l!==null)if(u=lt(l),u===null)l=null;else if(f=u.tag,f===13){if(l=vt(u),l!==null)return l;l=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Oo=l,null}function Lu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bf()){case Eo:return 1;case _a:return 4;case bi:case Ou:return 16;case wf:return 536870912;default:return 16}default:return 16}}var ei=null,Bl=null,Ln=null;function Du(){if(Ln)return Ln;var l,u=Bl,f=u.length,y,N="value"in ei?ei.value:ei.textContent,I=N.length;for(l=0;l<f&&u[l]===N[l];l++);var B=f-l;for(y=1;y<=B&&u[f-y]===N[I-y];y++);return Ln=N.slice(l,1<y?1-y:void 0)}function Ul(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function us(){return!0}function $u(){return!1}function Gr(l){function u(f,y,N,I,B){this._reactName=f,this._targetInst=N,this.type=y,this.nativeEvent=I,this.target=B,this.currentTarget=null;for(var G in l)l.hasOwnProperty(G)&&(f=l[G],this[G]=f?f(I):I[G]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?us:$u,this.isPropagationStopped=$u,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),u}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Gr(Wi),ds=re({},Wi,{view:0,detail:0}),Y0=Gr(ds),ql,Us,Aa,Io=re({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Aa&&(Aa&&l.type==="mousemove"?(ql=l.screenX-Aa.screenX,Us=l.screenY-Aa.screenY):Us=ql=0,Aa=l),ql)},movementY:function(l){return"movementY"in l?l.movementY:Us}}),Wl=Gr(Io),Fu=re({},Io,{dataTransfer:0}),Of=Gr(Fu),Hl=re({},ds,{relatedTarget:0}),Gl=Gr(Hl),If=re({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),zs=Gr(If),Mf=re({},Wi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Rf=Gr(Mf),Lf=re({},Wi,{data:0}),Vu=Gr(Lf),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $f(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Df[l])?!!u[l]:!1}function hs(){return $f}var v=re({},ds,{key:function(l){if(l.key){var u=Kl[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ul(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Sn[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(l){return l.type==="keypress"?Ul(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ul(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),O=Gr(v),$=re({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Gr($),ce=re({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),ye=Gr(ce),Pe=re({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ct=Gr(Pe),Nr=re({},Io,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),mt=Gr(Nr),Rr=[9,13,27,32],xr=c&&"CompositionEvent"in window,_i=null;c&&"documentMode"in document&&(_i=document.documentMode);var ti=c&&"TextEvent"in window&&!_i,Mo=c&&(!xr||_i&&8<_i&&11>=_i),Yl=" ",rN=!1;function nN(l,u){switch(l){case"keyup":return Rr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iN(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ql=!1;function kF(l,u){switch(l){case"compositionend":return iN(u);case"keypress":return u.which!==32?null:(rN=!0,Yl);case"textInput":return l=u.data,l===Yl&&rN?null:l;default:return null}}function jF(l,u){if(Ql)return l==="compositionend"||!xr&&nN(l,u)?(l=Du(),Ln=Bl=ei=null,Ql=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Mo&&u.locale!=="ko"?null:u.data;default:return null}}var SF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sN(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!SF[l.type]:u==="textarea"}function aN(l,u,f,y){_n(y),u=zf(u,"onChange"),0<u.length&&(f=new zl("onChange","change",null,f,y),l.push({event:f,listeners:u}))}var Bu=null,Uu=null;function NF(l){jN(l,0)}function Ff(l){var u=tc(l);if(q(u))return l}function EF(l,u){if(l==="change")return u}var oN=!1;if(c){var Q0;if(c){var X0="oninput"in document;if(!X0){var lN=document.createElement("div");lN.setAttribute("oninput","return;"),X0=typeof lN.oninput=="function"}Q0=X0}else Q0=!1;oN=Q0&&(!document.documentMode||9<document.documentMode)}function cN(){Bu&&(Bu.detachEvent("onpropertychange",uN),Uu=Bu=null)}function uN(l){if(l.propertyName==="value"&&Ff(Uu)){var u=[];aN(u,Uu,l,qr(l)),Ls(NF,u)}}function CF(l,u,f){l==="focusin"?(cN(),Bu=u,Uu=f,Bu.attachEvent("onpropertychange",uN)):l==="focusout"&&cN()}function TF(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ff(Uu)}function AF(l,u){if(l==="click")return Ff(u)}function PF(l,u){if(l==="input"||l==="change")return Ff(u)}function OF(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Hi=typeof Object.is=="function"?Object.is:OF;function zu(l,u){if(Hi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var N=f[y];if(!d.call(u,N)||!Hi(l[N],u[N]))return!1}return!0}function dN(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function hN(l,u){var f=dN(l);l=0;for(var y;f;){if(f.nodeType===3){if(y=l+f.textContent.length,l<=u&&y>=u)return{node:f,offset:u-l};l=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=dN(f)}}function fN(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?fN(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function pN(){for(var l=window,u=fe();u instanceof l.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)l=u.contentWindow;else break;u=fe(l.document)}return u}function J0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function IF(l){var u=pN(),f=l.focusedElem,y=l.selectionRange;if(u!==f&&f&&f.ownerDocument&&fN(f.ownerDocument.documentElement,f)){if(y!==null&&J0(f)){if(u=y.start,l=y.end,l===void 0&&(l=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(l,f.value.length);else if(l=(u=f.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var N=f.textContent.length,I=Math.min(y.start,N);y=y.end===void 0?I:Math.min(y.end,N),!l.extend&&I>y&&(N=y,y=I,I=N),N=hN(f,I);var B=hN(f,y);N&&B&&(l.rangeCount!==1||l.anchorNode!==N.node||l.anchorOffset!==N.offset||l.focusNode!==B.node||l.focusOffset!==B.offset)&&(u=u.createRange(),u.setStart(N.node,N.offset),l.removeAllRanges(),I>y?(l.addRange(u),l.extend(B.node,B.offset)):(u.setEnd(B.node,B.offset),l.addRange(u)))}}for(u=[],l=f;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)l=u[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var MF=c&&"documentMode"in document&&11>=document.documentMode,Xl=null,Z0=null,qu=null,ev=!1;function mN(l,u,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ev||Xl==null||Xl!==fe(y)||(y=Xl,"selectionStart"in y&&J0(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),qu&&zu(qu,y)||(qu=y,y=zf(Z0,"onSelect"),0<y.length&&(u=new zl("onSelect","select",null,u,f),l.push({event:u,listeners:y}),u.target=Xl)))}function Vf(l,u){var f={};return f[l.toLowerCase()]=u.toLowerCase(),f["Webkit"+l]="webkit"+u,f["Moz"+l]="moz"+u,f}var Jl={animationend:Vf("Animation","AnimationEnd"),animationiteration:Vf("Animation","AnimationIteration"),animationstart:Vf("Animation","AnimationStart"),transitionend:Vf("Transition","TransitionEnd")},tv={},gN={};c&&(gN=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function Bf(l){if(tv[l])return tv[l];if(!Jl[l])return l;var u=Jl[l],f;for(f in u)if(u.hasOwnProperty(f)&&f in gN)return tv[l]=u[f];return l}var vN=Bf("animationend"),yN=Bf("animationiteration"),xN=Bf("animationstart"),bN=Bf("transitionend"),wN=new Map,_N="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(l,u){wN.set(l,u),s(u,[l])}for(var rv=0;rv<_N.length;rv++){var nv=_N[rv],RF=nv.toLowerCase(),LF=nv[0].toUpperCase()+nv.slice(1);Pa(RF,"on"+LF)}Pa(vN,"onAnimationEnd"),Pa(yN,"onAnimationIteration"),Pa(xN,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(bN,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function kN(l,u,f){var y=l.type||"unknown-event";l.currentTarget=f,Ft(y,u,void 0,l),l.currentTarget=null}function jN(l,u){u=(u&4)!==0;for(var f=0;f<l.length;f++){var y=l[f],N=y.event;y=y.listeners;e:{var I=void 0;if(u)for(var B=y.length-1;0<=B;B--){var G=y[B],ie=G.instance,ge=G.currentTarget;if(G=G.listener,ie!==I&&N.isPropagationStopped())break e;kN(N,G,ge),I=ie}else for(B=0;B<y.length;B++){if(G=y[B],ie=G.instance,ge=G.currentTarget,G=G.listener,ie!==I&&N.isPropagationStopped())break e;kN(N,G,ge),I=ie}}}if(be)throw l=Ue,be=!1,Ue=null,l}function Gt(l,u){var f=u[dv];f===void 0&&(f=u[dv]=new Set);var y=l+"__bubble";f.has(y)||(SN(u,l,2,!1),f.add(y))}function iv(l,u,f){var y=0;u&&(y|=4),SN(f,l,y,u)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Hu(l){if(!l[Uf]){l[Uf]=!0,n.forEach(function(f){f!=="selectionchange"&&(DF.has(f)||iv(f,!1,l),iv(f,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Uf]||(u[Uf]=!0,iv("selectionchange",!1,u))}}function SN(l,u,f,y){switch(Lu(u)){case 1:var N=Zt;break;case 4:N=K0;break;default:N=Ru}f=N.bind(null,u,f,l),N=void 0,!Fe||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),y?N!==void 0?l.addEventListener(u,f,{capture:!0,passive:N}):l.addEventListener(u,f,!0):N!==void 0?l.addEventListener(u,f,{passive:N}):l.addEventListener(u,f,!1)}function sv(l,u,f,y,N){var I=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var G=y.stateNode.containerInfo;if(G===N||G.nodeType===8&&G.parentNode===N)break;if(B===4)for(B=y.return;B!==null;){var ie=B.tag;if((ie===3||ie===4)&&(ie=B.stateNode.containerInfo,ie===N||ie.nodeType===8&&ie.parentNode===N))return;B=B.return}for(;G!==null;){if(B=Ro(G),B===null)return;if(ie=B.tag,ie===5||ie===6){y=I=B;continue e}G=G.parentNode}}y=y.return}Ls(function(){var ge=I,Se=qr(f),Ce=[];e:{var je=wN.get(l);if(je!==void 0){var Ie=zl,$e=l;switch(l){case"keypress":if(Ul(f)===0)break e;case"keydown":case"keyup":Ie=O;break;case"focusin":$e="focus",Ie=Gl;break;case"focusout":$e="blur",Ie=Gl;break;case"beforeblur":case"afterblur":Ie=Gl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=ye;break;case vN:case yN:case xN:Ie=zs;break;case bN:Ie=Ct;break;case"scroll":Ie=Y0;break;case"wheel":Ie=mt;break;case"copy":case"cut":case"paste":Ie=Rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=U}var Ve=(u&4)!==0,pr=!Ve&&l==="scroll",de=Ve?je!==null?je+"Capture":null:je;Ve=[];for(var se=ge,he;se!==null;){he=se;var Te=he.stateNode;if(he.tag===5&&Te!==null&&(he=Te,de!==null&&(Te=Et(se,de),Te!=null&&Ve.push(Gu(se,Te,he)))),pr)break;se=se.return}0<Ve.length&&(je=new Ie(je,$e,null,f,Se),Ce.push({event:je,listeners:Ve}))}}if((u&7)===0){e:{if(je=l==="mouseover"||l==="pointerover",Ie=l==="mouseout"||l==="pointerout",je&&f!==Yn&&($e=f.relatedTarget||f.fromElement)&&(Ro($e)||$e[qs]))break e;if((Ie||je)&&(je=Se.window===Se?Se:(je=Se.ownerDocument)?je.defaultView||je.parentWindow:window,Ie?($e=f.relatedTarget||f.toElement,Ie=ge,$e=$e?Ro($e):null,$e!==null&&(pr=lt($e),$e!==pr||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ie=null,$e=ge),Ie!==$e)){if(Ve=Wl,Te="onMouseLeave",de="onMouseEnter",se="mouse",(l==="pointerout"||l==="pointerover")&&(Ve=U,Te="onPointerLeave",de="onPointerEnter",se="pointer"),pr=Ie==null?je:tc(Ie),he=$e==null?je:tc($e),je=new Ve(Te,se+"leave",Ie,f,Se),je.target=pr,je.relatedTarget=he,Te=null,Ro(Se)===ge&&(Ve=new Ve(de,se+"enter",$e,f,Se),Ve.target=he,Ve.relatedTarget=pr,Te=Ve),pr=Te,Ie&&$e)t:{for(Ve=Ie,de=$e,se=0,he=Ve;he;he=Zl(he))se++;for(he=0,Te=de;Te;Te=Zl(Te))he++;for(;0<se-he;)Ve=Zl(Ve),se--;for(;0<he-se;)de=Zl(de),he--;for(;se--;){if(Ve===de||de!==null&&Ve===de.alternate)break t;Ve=Zl(Ve),de=Zl(de)}Ve=null}else Ve=null;Ie!==null&&NN(Ce,je,Ie,Ve,!1),$e!==null&&pr!==null&&NN(Ce,pr,$e,Ve,!0)}}e:{if(je=ge?tc(ge):window,Ie=je.nodeName&&je.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&je.type==="file")var ze=EF;else if(sN(je))if(oN)ze=PF;else{ze=TF;var He=CF}else(Ie=je.nodeName)&&Ie.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ze=AF);if(ze&&(ze=ze(l,ge))){aN(Ce,ze,f,Se);break e}He&&He(l,je,ge),l==="focusout"&&(He=je._wrapperState)&&He.controlled&&je.type==="number"&&gr(je,"number",je.value)}switch(He=ge?tc(ge):window,l){case"focusin":(sN(He)||He.contentEditable==="true")&&(Xl=He,Z0=ge,qu=null);break;case"focusout":qu=Z0=Xl=null;break;case"mousedown":ev=!0;break;case"contextmenu":case"mouseup":case"dragend":ev=!1,mN(Ce,f,Se);break;case"selectionchange":if(MF)break;case"keydown":case"keyup":mN(Ce,f,Se)}var Ge;if(xr)e:{switch(l){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Ql?nN(l,f)&&(Je="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Je="onCompositionStart");Je&&(Mo&&f.locale!=="ko"&&(Ql||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Ql&&(Ge=Du()):(ei=Se,Bl="value"in ei?ei.value:ei.textContent,Ql=!0)),He=zf(ge,Je),0<He.length&&(Je=new Vu(Je,l,null,f,Se),Ce.push({event:Je,listeners:He}),Ge?Je.data=Ge:(Ge=iN(f),Ge!==null&&(Je.data=Ge)))),(Ge=ti?kF(l,f):jF(l,f))&&(ge=zf(ge,"onBeforeInput"),0<ge.length&&(Se=new Vu("onBeforeInput","beforeinput",null,f,Se),Ce.push({event:Se,listeners:ge}),Se.data=Ge))}jN(Ce,u)})}function Gu(l,u,f){return{instance:l,listener:u,currentTarget:f}}function zf(l,u){for(var f=u+"Capture",y=[];l!==null;){var N=l,I=N.stateNode;N.tag===5&&I!==null&&(N=I,I=Et(l,f),I!=null&&y.unshift(Gu(l,I,N)),I=Et(l,u),I!=null&&y.push(Gu(l,I,N))),l=l.return}return y}function Zl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function NN(l,u,f,y,N){for(var I=u._reactName,B=[];f!==null&&f!==y;){var G=f,ie=G.alternate,ge=G.stateNode;if(ie!==null&&ie===y)break;G.tag===5&&ge!==null&&(G=ge,N?(ie=Et(f,I),ie!=null&&B.unshift(Gu(f,ie,G))):N||(ie=Et(f,I),ie!=null&&B.push(Gu(f,ie,G)))),f=f.return}B.length!==0&&l.push({event:u,listeners:B})}var $F=/\r\n?/g,FF=/\u0000|\uFFFD/g;function EN(l){return(typeof l=="string"?l:""+l).replace($F,`
`).replace(FF,"")}function qf(l,u,f){if(u=EN(u),EN(l)!==u&&f)throw Error(r(425))}function Wf(){}var av=null,ov=null;function lv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cv=typeof setTimeout=="function"?setTimeout:void 0,VF=typeof clearTimeout=="function"?clearTimeout:void 0,CN=typeof Promise=="function"?Promise:void 0,BF=typeof queueMicrotask=="function"?queueMicrotask:typeof CN<"u"?function(l){return CN.resolve(null).then(l).catch(UF)}:cv;function UF(l){setTimeout(function(){throw l})}function uv(l,u){var f=u,y=0;do{var N=f.nextSibling;if(l.removeChild(f),N&&N.nodeType===8)if(f=N.data,f==="/$"){if(y===0){l.removeChild(N),qi(u);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=N}while(f);qi(u)}function Oa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function TN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return l;u--}else f==="/$"&&u++}l=l.previousSibling}return null}var ec=Math.random().toString(36).slice(2),fs="__reactFiber$"+ec,Ku="__reactProps$"+ec,qs="__reactContainer$"+ec,dv="__reactEvents$"+ec,zF="__reactListeners$"+ec,qF="__reactHandles$"+ec;function Ro(l){var u=l[fs];if(u)return u;for(var f=l.parentNode;f;){if(u=f[qs]||f[fs]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(l=TN(l);l!==null;){if(f=l[fs])return f;l=TN(l)}return u}l=f,f=l.parentNode}return null}function Yu(l){return l=l[fs]||l[qs],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function tc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Hf(l){return l[Ku]||null}var hv=[],rc=-1;function Ia(l){return{current:l}}function Kt(l){0>rc||(l.current=hv[rc],hv[rc]=null,rc--)}function zt(l,u){rc++,hv[rc]=l.current,l.current=u}var Ma={},on=Ia(Ma),Dn=Ia(!1),Lo=Ma;function nc(l,u){var f=l.type.contextTypes;if(!f)return Ma;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var N={},I;for(I in f)N[I]=u[I];return y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=N),N}function $n(l){return l=l.childContextTypes,l!=null}function Gf(){Kt(Dn),Kt(on)}function AN(l,u,f){if(on.current!==Ma)throw Error(r(168));zt(on,u),zt(Dn,f)}function PN(l,u,f){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var N in y)if(!(N in u))throw Error(r(108,le(l)||"Unknown",N));return re({},f,y)}function Kf(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ma,Lo=on.current,zt(on,l),zt(Dn,Dn.current),!0}function ON(l,u,f){var y=l.stateNode;if(!y)throw Error(r(169));f?(l=PN(l,u,Lo),y.__reactInternalMemoizedMergedChildContext=l,Kt(Dn),Kt(on),zt(on,l)):Kt(Dn),zt(Dn,f)}var Ws=null,Yf=!1,fv=!1;function IN(l){Ws===null?Ws=[l]:Ws.push(l)}function WF(l){Yf=!0,IN(l)}function Ra(){if(!fv&&Ws!==null){fv=!0;var l=0,u=ht;try{var f=Ws;for(ht=1;l<f.length;l++){var y=f[l];do y=y(!0);while(y!==null)}Ws=null,Yf=!1}catch(N){throw Ws!==null&&(Ws=Ws.slice(l+1)),lr(Eo,Ra),N}finally{ht=u,fv=!1}}return null}var ic=[],sc=0,Qf=null,Xf=0,ki=[],ji=0,Do=null,Hs=1,Gs="";function $o(l,u){ic[sc++]=Xf,ic[sc++]=Qf,Qf=l,Xf=u}function MN(l,u,f){ki[ji++]=Hs,ki[ji++]=Gs,ki[ji++]=Do,Do=l;var y=Hs;l=Gs;var N=32-jn(y)-1;y&=~(1<<N),f+=1;var I=32-jn(u)+N;if(30<I){var B=N-N%5;I=(y&(1<<B)-1).toString(32),y>>=B,N-=B,Hs=1<<32-jn(u)+N|f<<N|y,Gs=I+l}else Hs=1<<I|f<<N|y,Gs=l}function pv(l){l.return!==null&&($o(l,1),MN(l,1,0))}function mv(l){for(;l===Qf;)Qf=ic[--sc],ic[sc]=null,Xf=ic[--sc],ic[sc]=null;for(;l===Do;)Do=ki[--ji],ki[ji]=null,Gs=ki[--ji],ki[ji]=null,Hs=ki[--ji],ki[ji]=null}var ri=null,ni=null,er=!1,Gi=null;function RN(l,u){var f=Ci(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=l,u=l.deletions,u===null?(l.deletions=[f],l.flags|=16):u.push(f)}function LN(l,u){switch(l.tag){case 5:var f=l.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ri=l,ni=Oa(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ri=l,ni=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Do!==null?{id:Hs,overflow:Gs}:null,l.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=Ci(18,null,null,0),f.stateNode=u,f.return=l,l.child=f,ri=l,ni=null,!0):!1;default:return!1}}function gv(l){return(l.mode&1)!==0&&(l.flags&128)===0}function vv(l){if(er){var u=ni;if(u){var f=u;if(!LN(l,u)){if(gv(l))throw Error(r(418));u=Oa(f.nextSibling);var y=ri;u&&LN(l,u)?RN(y,f):(l.flags=l.flags&-4097|2,er=!1,ri=l)}}else{if(gv(l))throw Error(r(418));l.flags=l.flags&-4097|2,er=!1,ri=l}}}function DN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ri=l}function Jf(l){if(l!==ri)return!1;if(!er)return DN(l),er=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!lv(l.type,l.memoizedProps)),u&&(u=ni)){if(gv(l))throw $N(),Error(r(418));for(;u;)RN(l,u),u=Oa(u.nextSibling)}if(DN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(u===0){ni=Oa(l.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}l=l.nextSibling}ni=null}}else ni=ri?Oa(l.stateNode.nextSibling):null;return!0}function $N(){for(var l=ni;l;)l=Oa(l.nextSibling)}function ac(){ni=ri=null,er=!1}function yv(l){Gi===null?Gi=[l]:Gi.push(l)}var HF=P.ReactCurrentBatchConfig;function Qu(l,u,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var y=f.stateNode}if(!y)throw Error(r(147,l));var N=y,I=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===I?u.ref:(u=function(B){var G=N.refs;B===null?delete G[I]:G[I]=B},u._stringRef=I,u)}if(typeof l!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,l))}return l}function Zf(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function FN(l){var u=l._init;return u(l._payload)}function VN(l){function u(de,se){if(l){var he=de.deletions;he===null?(de.deletions=[se],de.flags|=16):he.push(se)}}function f(de,se){if(!l)return null;for(;se!==null;)u(de,se),se=se.sibling;return null}function y(de,se){for(de=new Map;se!==null;)se.key!==null?de.set(se.key,se):de.set(se.index,se),se=se.sibling;return de}function N(de,se){return de=za(de,se),de.index=0,de.sibling=null,de}function I(de,se,he){return de.index=he,l?(he=de.alternate,he!==null?(he=he.index,he<se?(de.flags|=2,se):he):(de.flags|=2,se)):(de.flags|=1048576,se)}function B(de){return l&&de.alternate===null&&(de.flags|=2),de}function G(de,se,he,Te){return se===null||se.tag!==6?(se=cy(he,de.mode,Te),se.return=de,se):(se=N(se,he),se.return=de,se)}function ie(de,se,he,Te){var ze=he.type;return ze===T?Se(de,se,he.props.children,Te,he.key):se!==null&&(se.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===J&&FN(ze)===se.type)?(Te=N(se,he.props),Te.ref=Qu(de,se,he),Te.return=de,Te):(Te=kp(he.type,he.key,he.props,null,de.mode,Te),Te.ref=Qu(de,se,he),Te.return=de,Te)}function ge(de,se,he,Te){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=uy(he,de.mode,Te),se.return=de,se):(se=N(se,he.children||[]),se.return=de,se)}function Se(de,se,he,Te,ze){return se===null||se.tag!==7?(se=Ho(he,de.mode,Te,ze),se.return=de,se):(se=N(se,he),se.return=de,se)}function Ce(de,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=cy(""+se,de.mode,he),se.return=de,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return he=kp(se.type,se.key,se.props,null,de.mode,he),he.ref=Qu(de,null,se),he.return=de,he;case E:return se=uy(se,de.mode,he),se.return=de,se;case J:var Te=se._init;return Ce(de,Te(se._payload),he)}if(Pt(se)||Y(se))return se=Ho(se,de.mode,he,null),se.return=de,se;Zf(de,se)}return null}function je(de,se,he,Te){var ze=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return ze!==null?null:G(de,se,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case S:return he.key===ze?ie(de,se,he,Te):null;case E:return he.key===ze?ge(de,se,he,Te):null;case J:return ze=he._init,je(de,se,ze(he._payload),Te)}if(Pt(he)||Y(he))return ze!==null?null:Se(de,se,he,Te,null);Zf(de,he)}return null}function Ie(de,se,he,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return de=de.get(he)||null,G(se,de,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case S:return de=de.get(Te.key===null?he:Te.key)||null,ie(se,de,Te,ze);case E:return de=de.get(Te.key===null?he:Te.key)||null,ge(se,de,Te,ze);case J:var He=Te._init;return Ie(de,se,he,He(Te._payload),ze)}if(Pt(Te)||Y(Te))return de=de.get(he)||null,Se(se,de,Te,ze,null);Zf(se,Te)}return null}function $e(de,se,he,Te){for(var ze=null,He=null,Ge=se,Je=se=0,$r=null;Ge!==null&&Je<he.length;Je++){Ge.index>Je?($r=Ge,Ge=null):$r=Ge.sibling;var xt=je(de,Ge,he[Je],Te);if(xt===null){Ge===null&&(Ge=$r);break}l&&Ge&&xt.alternate===null&&u(de,Ge),se=I(xt,se,Je),He===null?ze=xt:He.sibling=xt,He=xt,Ge=$r}if(Je===he.length)return f(de,Ge),er&&$o(de,Je),ze;if(Ge===null){for(;Je<he.length;Je++)Ge=Ce(de,he[Je],Te),Ge!==null&&(se=I(Ge,se,Je),He===null?ze=Ge:He.sibling=Ge,He=Ge);return er&&$o(de,Je),ze}for(Ge=y(de,Ge);Je<he.length;Je++)$r=Ie(Ge,de,Je,he[Je],Te),$r!==null&&(l&&$r.alternate!==null&&Ge.delete($r.key===null?Je:$r.key),se=I($r,se,Je),He===null?ze=$r:He.sibling=$r,He=$r);return l&&Ge.forEach(function(qa){return u(de,qa)}),er&&$o(de,Je),ze}function Ve(de,se,he,Te){var ze=Y(he);if(typeof ze!="function")throw Error(r(150));if(he=ze.call(he),he==null)throw Error(r(151));for(var He=ze=null,Ge=se,Je=se=0,$r=null,xt=he.next();Ge!==null&&!xt.done;Je++,xt=he.next()){Ge.index>Je?($r=Ge,Ge=null):$r=Ge.sibling;var qa=je(de,Ge,xt.value,Te);if(qa===null){Ge===null&&(Ge=$r);break}l&&Ge&&qa.alternate===null&&u(de,Ge),se=I(qa,se,Je),He===null?ze=qa:He.sibling=qa,He=qa,Ge=$r}if(xt.done)return f(de,Ge),er&&$o(de,Je),ze;if(Ge===null){for(;!xt.done;Je++,xt=he.next())xt=Ce(de,xt.value,Te),xt!==null&&(se=I(xt,se,Je),He===null?ze=xt:He.sibling=xt,He=xt);return er&&$o(de,Je),ze}for(Ge=y(de,Ge);!xt.done;Je++,xt=he.next())xt=Ie(Ge,de,Je,xt.value,Te),xt!==null&&(l&&xt.alternate!==null&&Ge.delete(xt.key===null?Je:xt.key),se=I(xt,se,Je),He===null?ze=xt:He.sibling=xt,He=xt);return l&&Ge.forEach(function(SV){return u(de,SV)}),er&&$o(de,Je),ze}function pr(de,se,he,Te){if(typeof he=="object"&&he!==null&&he.type===T&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case S:e:{for(var ze=he.key,He=se;He!==null;){if(He.key===ze){if(ze=he.type,ze===T){if(He.tag===7){f(de,He.sibling),se=N(He,he.props.children),se.return=de,de=se;break e}}else if(He.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===J&&FN(ze)===He.type){f(de,He.sibling),se=N(He,he.props),se.ref=Qu(de,He,he),se.return=de,de=se;break e}f(de,He);break}else u(de,He);He=He.sibling}he.type===T?(se=Ho(he.props.children,de.mode,Te,he.key),se.return=de,de=se):(Te=kp(he.type,he.key,he.props,null,de.mode,Te),Te.ref=Qu(de,se,he),Te.return=de,de=Te)}return B(de);case E:e:{for(He=he.key;se!==null;){if(se.key===He)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){f(de,se.sibling),se=N(se,he.children||[]),se.return=de,de=se;break e}else{f(de,se);break}else u(de,se);se=se.sibling}se=uy(he,de.mode,Te),se.return=de,de=se}return B(de);case J:return He=he._init,pr(de,se,He(he._payload),Te)}if(Pt(he))return $e(de,se,he,Te);if(Y(he))return Ve(de,se,he,Te);Zf(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(f(de,se.sibling),se=N(se,he),se.return=de,de=se):(f(de,se),se=cy(he,de.mode,Te),se.return=de,de=se),B(de)):f(de,se)}return pr}var oc=VN(!0),BN=VN(!1),ep=Ia(null),tp=null,lc=null,xv=null;function bv(){xv=lc=tp=null}function wv(l){var u=ep.current;Kt(ep),l._currentValue=u}function _v(l,u,f){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===f)break;l=l.return}}function cc(l,u){tp=l,xv=lc=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Fn=!0),l.firstContext=null)}function Si(l){var u=l._currentValue;if(xv!==l)if(l={context:l,memoizedValue:u,next:null},lc===null){if(tp===null)throw Error(r(308));lc=l,tp.dependencies={lanes:0,firstContext:l}}else lc=lc.next=l;return u}var Fo=null;function kv(l){Fo===null?Fo=[l]:Fo.push(l)}function UN(l,u,f,y){var N=u.interleaved;return N===null?(f.next=f,kv(u)):(f.next=N.next,N.next=f),u.interleaved=f,Ks(l,y)}function Ks(l,u){l.lanes|=u;var f=l.alternate;for(f!==null&&(f.lanes|=u),f=l,l=l.return;l!==null;)l.childLanes|=u,f=l.alternate,f!==null&&(f.childLanes|=u),f=l,l=l.return;return f.tag===3?f.stateNode:null}var La=!1;function jv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zN(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ys(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Da(l,u,f){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(yt&2)!==0){var N=y.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),y.pending=u,Ks(l,f)}return N=y.interleaved,N===null?(u.next=u,kv(y)):(u.next=N.next,N.next=u),y.interleaved=u,Ks(l,f)}function rp(l,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var y=u.lanes;y&=l.pendingLanes,f|=y,u.lanes=f,Na(l,f)}}function qN(l,u){var f=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var N=null,I=null;if(f=f.firstBaseUpdate,f!==null){do{var B={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};I===null?N=I=B:I=I.next=B,f=f.next}while(f!==null);I===null?N=I=u:I=I.next=u}else N=I=u;f={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:I,shared:y.shared,effects:y.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}function np(l,u,f,y){var N=l.updateQueue;La=!1;var I=N.firstBaseUpdate,B=N.lastBaseUpdate,G=N.shared.pending;if(G!==null){N.shared.pending=null;var ie=G,ge=ie.next;ie.next=null,B===null?I=ge:B.next=ge,B=ie;var Se=l.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==B&&(G===null?Se.firstBaseUpdate=ge:G.next=ge,Se.lastBaseUpdate=ie))}if(I!==null){var Ce=N.baseState;B=0,Se=ge=ie=null,G=I;do{var je=G.lane,Ie=G.eventTime;if((y&je)===je){Se!==null&&(Se=Se.next={eventTime:Ie,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var $e=l,Ve=G;switch(je=u,Ie=f,Ve.tag){case 1:if($e=Ve.payload,typeof $e=="function"){Ce=$e.call(Ie,Ce,je);break e}Ce=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=Ve.payload,je=typeof $e=="function"?$e.call(Ie,Ce,je):$e,je==null)break e;Ce=re({},Ce,je);break e;case 2:La=!0}}G.callback!==null&&G.lane!==0&&(l.flags|=64,je=N.effects,je===null?N.effects=[G]:je.push(G))}else Ie={eventTime:Ie,lane:je,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(ge=Se=Ie,ie=Ce):Se=Se.next=Ie,B|=je;if(G=G.next,G===null){if(G=N.shared.pending,G===null)break;je=G,G=je.next,je.next=null,N.lastBaseUpdate=je,N.shared.pending=null}}while(!0);if(Se===null&&(ie=Ce),N.baseState=ie,N.firstBaseUpdate=ge,N.lastBaseUpdate=Se,u=N.shared.interleaved,u!==null){N=u;do B|=N.lane,N=N.next;while(N!==u)}else I===null&&(N.shared.lanes=0);Uo|=B,l.lanes=B,l.memoizedState=Ce}}function WN(l,u,f){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],N=y.callback;if(N!==null){if(y.callback=null,y=f,typeof N!="function")throw Error(r(191,N));N.call(y)}}}var Xu={},ps=Ia(Xu),Ju=Ia(Xu),Zu=Ia(Xu);function Vo(l){if(l===Xu)throw Error(r(174));return l}function Sv(l,u){switch(zt(Zu,u),zt(Ju,l),zt(ps,Xu),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ot(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Ot(u,l)}Kt(ps),zt(ps,u)}function uc(){Kt(ps),Kt(Ju),Kt(Zu)}function HN(l){Vo(Zu.current);var u=Vo(ps.current),f=Ot(u,l.type);u!==f&&(zt(Ju,l),zt(ps,f))}function Nv(l){Ju.current===l&&(Kt(ps),Kt(Ju))}var ir=Ia(0);function ip(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ev=[];function Cv(){for(var l=0;l<Ev.length;l++)Ev[l]._workInProgressVersionPrimary=null;Ev.length=0}var sp=P.ReactCurrentDispatcher,Tv=P.ReactCurrentBatchConfig,Bo=0,sr=null,Er=null,Lr=null,ap=!1,ed=!1,td=0,GF=0;function ln(){throw Error(r(321))}function Av(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!Hi(l[f],u[f]))return!1;return!0}function Pv(l,u,f,y,N,I){if(Bo=I,sr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,sp.current=l===null||l.memoizedState===null?XF:JF,l=f(y,N),ed){I=0;do{if(ed=!1,td=0,25<=I)throw Error(r(301));I+=1,Lr=Er=null,u.updateQueue=null,sp.current=ZF,l=f(y,N)}while(ed)}if(sp.current=cp,u=Er!==null&&Er.next!==null,Bo=0,Lr=Er=sr=null,ap=!1,u)throw Error(r(300));return l}function Ov(){var l=td!==0;return td=0,l}function ms(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?sr.memoizedState=Lr=l:Lr=Lr.next=l,Lr}function Ni(){if(Er===null){var l=sr.alternate;l=l!==null?l.memoizedState:null}else l=Er.next;var u=Lr===null?sr.memoizedState:Lr.next;if(u!==null)Lr=u,Er=l;else{if(l===null)throw Error(r(310));Er=l,l={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Lr===null?sr.memoizedState=Lr=l:Lr=Lr.next=l}return Lr}function rd(l,u){return typeof u=="function"?u(l):u}function Iv(l){var u=Ni(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var y=Er,N=y.baseQueue,I=f.pending;if(I!==null){if(N!==null){var B=N.next;N.next=I.next,I.next=B}y.baseQueue=N=I,f.pending=null}if(N!==null){I=N.next,y=y.baseState;var G=B=null,ie=null,ge=I;do{var Se=ge.lane;if((Bo&Se)===Se)ie!==null&&(ie=ie.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),y=ge.hasEagerState?ge.eagerState:l(y,ge.action);else{var Ce={lane:Se,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ie===null?(G=ie=Ce,B=y):ie=ie.next=Ce,sr.lanes|=Se,Uo|=Se}ge=ge.next}while(ge!==null&&ge!==I);ie===null?B=y:ie.next=G,Hi(y,u.memoizedState)||(Fn=!0),u.memoizedState=y,u.baseState=B,u.baseQueue=ie,f.lastRenderedState=y}if(l=f.interleaved,l!==null){N=l;do I=N.lane,sr.lanes|=I,Uo|=I,N=N.next;while(N!==l)}else N===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Mv(l){var u=Ni(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var y=f.dispatch,N=f.pending,I=u.memoizedState;if(N!==null){f.pending=null;var B=N=N.next;do I=l(I,B.action),B=B.next;while(B!==N);Hi(I,u.memoizedState)||(Fn=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),f.lastRenderedState=I}return[I,y]}function GN(){}function KN(l,u){var f=sr,y=Ni(),N=u(),I=!Hi(y.memoizedState,N);if(I&&(y.memoizedState=N,Fn=!0),y=y.queue,Rv(XN.bind(null,f,y,l),[l]),y.getSnapshot!==u||I||Lr!==null&&Lr.memoizedState.tag&1){if(f.flags|=2048,nd(9,QN.bind(null,f,y,N,u),void 0,null),Dr===null)throw Error(r(349));(Bo&30)!==0||YN(f,u,N)}return N}function YN(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},u=sr.updateQueue,u===null?(u={lastEffect:null,stores:null},sr.updateQueue=u,u.stores=[l]):(f=u.stores,f===null?u.stores=[l]:f.push(l))}function QN(l,u,f,y){u.value=f,u.getSnapshot=y,JN(u)&&ZN(l)}function XN(l,u,f){return f(function(){JN(u)&&ZN(l)})}function JN(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!Hi(l,f)}catch{return!0}}function ZN(l){var u=Ks(l,1);u!==null&&Xi(u,l,1,-1)}function eE(l){var u=ms();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:l},u.queue=l,l=l.dispatch=QF.bind(null,sr,l),[u.memoizedState,l]}function nd(l,u,f,y){return l={tag:l,create:u,destroy:f,deps:y,next:null},u=sr.updateQueue,u===null?(u={lastEffect:null,stores:null},sr.updateQueue=u,u.lastEffect=l.next=l):(f=u.lastEffect,f===null?u.lastEffect=l.next=l:(y=f.next,f.next=l,l.next=y,u.lastEffect=l)),l}function tE(){return Ni().memoizedState}function op(l,u,f,y){var N=ms();sr.flags|=l,N.memoizedState=nd(1|u,f,void 0,y===void 0?null:y)}function lp(l,u,f,y){var N=Ni();y=y===void 0?null:y;var I=void 0;if(Er!==null){var B=Er.memoizedState;if(I=B.destroy,y!==null&&Av(y,B.deps)){N.memoizedState=nd(u,f,I,y);return}}sr.flags|=l,N.memoizedState=nd(1|u,f,I,y)}function rE(l,u){return op(8390656,8,l,u)}function Rv(l,u){return lp(2048,8,l,u)}function nE(l,u){return lp(4,2,l,u)}function iE(l,u){return lp(4,4,l,u)}function sE(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function aE(l,u,f){return f=f!=null?f.concat([l]):null,lp(4,4,sE.bind(null,u,l),f)}function Lv(){}function oE(l,u){var f=Ni();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Av(u,y[1])?y[0]:(f.memoizedState=[l,u],l)}function lE(l,u){var f=Ni();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&Av(u,y[1])?y[0]:(l=l(),f.memoizedState=[l,u],l)}function cE(l,u,f){return(Bo&21)===0?(l.baseState&&(l.baseState=!1,Fn=!0),l.memoizedState=f):(Hi(f,u)||(f=Ao(),sr.lanes|=f,Uo|=f,l.baseState=!0),u)}function KF(l,u){var f=ht;ht=f!==0&&4>f?f:4,l(!0);var y=Tv.transition;Tv.transition={};try{l(!1),u()}finally{ht=f,Tv.transition=y}}function uE(){return Ni().memoizedState}function YF(l,u,f){var y=Ba(l);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},dE(l))hE(u,f);else if(f=UN(l,u,f,y),f!==null){var N=En();Xi(f,l,y,N),fE(f,u,y)}}function QF(l,u,f){var y=Ba(l),N={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(dE(l))hE(u,N);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var B=u.lastRenderedState,G=I(B,f);if(N.hasEagerState=!0,N.eagerState=G,Hi(G,B)){var ie=u.interleaved;ie===null?(N.next=N,kv(u)):(N.next=ie.next,ie.next=N),u.interleaved=N;return}}catch{}finally{}f=UN(l,u,N,y),f!==null&&(N=En(),Xi(f,l,y,N),fE(f,u,y))}}function dE(l){var u=l.alternate;return l===sr||u!==null&&u===sr}function hE(l,u){ed=ap=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function fE(l,u,f){if((f&4194240)!==0){var y=u.lanes;y&=l.pendingLanes,f|=y,u.lanes=f,Na(l,f)}}var cp={readContext:Si,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},XF={readContext:Si,useCallback:function(l,u){return ms().memoizedState=[l,u===void 0?null:u],l},useContext:Si,useEffect:rE,useImperativeHandle:function(l,u,f){return f=f!=null?f.concat([l]):null,op(4194308,4,sE.bind(null,u,l),f)},useLayoutEffect:function(l,u){return op(4194308,4,l,u)},useInsertionEffect:function(l,u){return op(4,2,l,u)},useMemo:function(l,u){var f=ms();return u=u===void 0?null:u,l=l(),f.memoizedState=[l,u],l},useReducer:function(l,u,f){var y=ms();return u=f!==void 0?f(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=YF.bind(null,sr,l),[y.memoizedState,l]},useRef:function(l){var u=ms();return l={current:l},u.memoizedState=l},useState:eE,useDebugValue:Lv,useDeferredValue:function(l){return ms().memoizedState=l},useTransition:function(){var l=eE(!1),u=l[0];return l=KF.bind(null,l[1]),ms().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,f){var y=sr,N=ms();if(er){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Dr===null)throw Error(r(349));(Bo&30)!==0||YN(y,u,f)}N.memoizedState=f;var I={value:f,getSnapshot:u};return N.queue=I,rE(XN.bind(null,y,I,l),[l]),y.flags|=2048,nd(9,QN.bind(null,y,I,f,u),void 0,null),f},useId:function(){var l=ms(),u=Dr.identifierPrefix;if(er){var f=Gs,y=Hs;f=(y&~(1<<32-jn(y)-1)).toString(32)+f,u=":"+u+"R"+f,f=td++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=GF++,u=":"+u+"r"+f.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},JF={readContext:Si,useCallback:oE,useContext:Si,useEffect:Rv,useImperativeHandle:aE,useInsertionEffect:nE,useLayoutEffect:iE,useMemo:lE,useReducer:Iv,useRef:tE,useState:function(){return Iv(rd)},useDebugValue:Lv,useDeferredValue:function(l){var u=Ni();return cE(u,Er.memoizedState,l)},useTransition:function(){var l=Iv(rd)[0],u=Ni().memoizedState;return[l,u]},useMutableSource:GN,useSyncExternalStore:KN,useId:uE,unstable_isNewReconciler:!1},ZF={readContext:Si,useCallback:oE,useContext:Si,useEffect:Rv,useImperativeHandle:aE,useInsertionEffect:nE,useLayoutEffect:iE,useMemo:lE,useReducer:Mv,useRef:tE,useState:function(){return Mv(rd)},useDebugValue:Lv,useDeferredValue:function(l){var u=Ni();return Er===null?u.memoizedState=l:cE(u,Er.memoizedState,l)},useTransition:function(){var l=Mv(rd)[0],u=Ni().memoizedState;return[l,u]},useMutableSource:GN,useSyncExternalStore:KN,useId:uE,unstable_isNewReconciler:!1};function Ki(l,u){if(l&&l.defaultProps){u=re({},u),l=l.defaultProps;for(var f in l)u[f]===void 0&&(u[f]=l[f]);return u}return u}function Dv(l,u,f,y){u=l.memoizedState,f=f(y,u),f=f==null?u:re({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var up={isMounted:function(l){return(l=l._reactInternals)?lt(l)===l:!1},enqueueSetState:function(l,u,f){l=l._reactInternals;var y=En(),N=Ba(l),I=Ys(y,N);I.payload=u,f!=null&&(I.callback=f),u=Da(l,I,N),u!==null&&(Xi(u,l,N,y),rp(u,l,N))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var y=En(),N=Ba(l),I=Ys(y,N);I.tag=1,I.payload=u,f!=null&&(I.callback=f),u=Da(l,I,N),u!==null&&(Xi(u,l,N,y),rp(u,l,N))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=En(),y=Ba(l),N=Ys(f,y);N.tag=2,u!=null&&(N.callback=u),u=Da(l,N,y),u!==null&&(Xi(u,l,y,f),rp(u,l,y))}};function pE(l,u,f,y,N,I,B){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,I,B):u.prototype&&u.prototype.isPureReactComponent?!zu(f,y)||!zu(N,I):!0}function mE(l,u,f){var y=!1,N=Ma,I=u.contextType;return typeof I=="object"&&I!==null?I=Si(I):(N=$n(u)?Lo:on.current,y=u.contextTypes,I=(y=y!=null)?nc(l,N):Ma),u=new u(f,I),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=up,l.stateNode=u,u._reactInternals=l,y&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=N,l.__reactInternalMemoizedMaskedChildContext=I),u}function gE(l,u,f,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==l&&up.enqueueReplaceState(u,u.state,null)}function $v(l,u,f,y){var N=l.stateNode;N.props=f,N.state=l.memoizedState,N.refs={},jv(l);var I=u.contextType;typeof I=="object"&&I!==null?N.context=Si(I):(I=$n(u)?Lo:on.current,N.context=nc(l,I)),N.state=l.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(Dv(l,u,I,f),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(u=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),u!==N.state&&up.enqueueReplaceState(N,N.state,null),np(l,f,N,y),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308)}function dc(l,u){try{var f="",y=u;do f+=X(y),y=y.return;while(y);var N=f}catch(I){N=`
Error generating stack: `+I.message+`
`+I.stack}return{value:l,source:u,stack:N,digest:null}}function Fv(l,u,f){return{value:l,source:null,stack:f??null,digest:u??null}}function Vv(l,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var eV=typeof WeakMap=="function"?WeakMap:Map;function vE(l,u,f){f=Ys(-1,f),f.tag=3,f.payload={element:null};var y=u.value;return f.callback=function(){vp||(vp=!0,ty=y),Vv(l,u)},f}function yE(l,u,f){f=Ys(-1,f),f.tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var N=u.value;f.payload=function(){return y(N)},f.callback=function(){Vv(l,u)}}var I=l.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(f.callback=function(){Vv(l,u),typeof y!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})}),f}function xE(l,u,f){var y=l.pingCache;if(y===null){y=l.pingCache=new eV;var N=new Set;y.set(u,N)}else N=y.get(u),N===void 0&&(N=new Set,y.set(u,N));N.has(f)||(N.add(f),l=pV.bind(null,l,u,f),u.then(l,l))}function bE(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function wE(l,u,f,y,N){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=Ys(-1,1),u.tag=2,Da(f,u,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=N,l)}var tV=P.ReactCurrentOwner,Fn=!1;function Nn(l,u,f,y){u.child=l===null?BN(u,null,f,y):oc(u,l.child,f,y)}function _E(l,u,f,y,N){f=f.render;var I=u.ref;return cc(u,N),y=Pv(l,u,f,y,I,N),f=Ov(),l!==null&&!Fn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,Qs(l,u,N)):(er&&f&&pv(u),u.flags|=1,Nn(l,u,y,N),u.child)}function kE(l,u,f,y,N){if(l===null){var I=f.type;return typeof I=="function"&&!ly(I)&&I.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=I,jE(l,u,I,y,N)):(l=kp(f.type,null,y,u,u.mode,N),l.ref=u.ref,l.return=u,u.child=l)}if(I=l.child,(l.lanes&N)===0){var B=I.memoizedProps;if(f=f.compare,f=f!==null?f:zu,f(B,y)&&l.ref===u.ref)return Qs(l,u,N)}return u.flags|=1,l=za(I,y),l.ref=u.ref,l.return=u,u.child=l}function jE(l,u,f,y,N){if(l!==null){var I=l.memoizedProps;if(zu(I,y)&&l.ref===u.ref)if(Fn=!1,u.pendingProps=y=I,(l.lanes&N)!==0)(l.flags&131072)!==0&&(Fn=!0);else return u.lanes=l.lanes,Qs(l,u,N)}return Bv(l,u,f,y,N)}function SE(l,u,f){var y=u.pendingProps,N=y.children,I=l!==null?l.memoizedState:null;if(y.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(fc,ii),ii|=f;else{if((f&1073741824)===0)return l=I!==null?I.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,zt(fc,ii),ii|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=I!==null?I.baseLanes:f,zt(fc,ii),ii|=y}else I!==null?(y=I.baseLanes|f,u.memoizedState=null):y=f,zt(fc,ii),ii|=y;return Nn(l,u,N,f),u.child}function NE(l,u){var f=u.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function Bv(l,u,f,y,N){var I=$n(f)?Lo:on.current;return I=nc(u,I),cc(u,N),f=Pv(l,u,f,y,I,N),y=Ov(),l!==null&&!Fn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~N,Qs(l,u,N)):(er&&y&&pv(u),u.flags|=1,Nn(l,u,f,N),u.child)}function EE(l,u,f,y,N){if($n(f)){var I=!0;Kf(u)}else I=!1;if(cc(u,N),u.stateNode===null)hp(l,u),mE(u,f,y),$v(u,f,y,N),y=!0;else if(l===null){var B=u.stateNode,G=u.memoizedProps;B.props=G;var ie=B.context,ge=f.contextType;typeof ge=="object"&&ge!==null?ge=Si(ge):(ge=$n(f)?Lo:on.current,ge=nc(u,ge));var Se=f.getDerivedStateFromProps,Ce=typeof Se=="function"||typeof B.getSnapshotBeforeUpdate=="function";Ce||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==y||ie!==ge)&&gE(u,B,y,ge),La=!1;var je=u.memoizedState;B.state=je,np(u,y,B,N),ie=u.memoizedState,G!==y||je!==ie||Dn.current||La?(typeof Se=="function"&&(Dv(u,f,Se,y),ie=u.memoizedState),(G=La||pE(u,f,G,y,je,ie,ge))?(Ce||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(u.flags|=4194308)):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=ie),B.props=y,B.state=ie,B.context=ge,y=G):(typeof B.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{B=u.stateNode,zN(l,u),G=u.memoizedProps,ge=u.type===u.elementType?G:Ki(u.type,G),B.props=ge,Ce=u.pendingProps,je=B.context,ie=f.contextType,typeof ie=="object"&&ie!==null?ie=Si(ie):(ie=$n(f)?Lo:on.current,ie=nc(u,ie));var Ie=f.getDerivedStateFromProps;(Se=typeof Ie=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(G!==Ce||je!==ie)&&gE(u,B,y,ie),La=!1,je=u.memoizedState,B.state=je,np(u,y,B,N);var $e=u.memoizedState;G!==Ce||je!==$e||Dn.current||La?(typeof Ie=="function"&&(Dv(u,f,Ie,y),$e=u.memoizedState),(ge=La||pE(u,f,ge,y,je,$e,ie)||!1)?(Se||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(y,$e,ie),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(y,$e,ie)),typeof B.componentDidUpdate=="function"&&(u.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof B.componentDidUpdate!="function"||G===l.memoizedProps&&je===l.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&je===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=$e),B.props=y,B.state=$e,B.context=ie,y=ge):(typeof B.componentDidUpdate!="function"||G===l.memoizedProps&&je===l.memoizedState||(u.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&je===l.memoizedState||(u.flags|=1024),y=!1)}return Uv(l,u,f,y,I,N)}function Uv(l,u,f,y,N,I){NE(l,u);var B=(u.flags&128)!==0;if(!y&&!B)return N&&ON(u,f,!1),Qs(l,u,I);y=u.stateNode,tV.current=u;var G=B&&typeof f.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&B?(u.child=oc(u,l.child,null,I),u.child=oc(u,null,G,I)):Nn(l,u,G,I),u.memoizedState=y.state,N&&ON(u,f,!0),u.child}function CE(l){var u=l.stateNode;u.pendingContext?AN(l,u.pendingContext,u.pendingContext!==u.context):u.context&&AN(l,u.context,!1),Sv(l,u.containerInfo)}function TE(l,u,f,y,N){return ac(),yv(N),u.flags|=256,Nn(l,u,f,y),u.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function qv(l){return{baseLanes:l,cachePool:null,transitions:null}}function AE(l,u,f){var y=u.pendingProps,N=ir.current,I=!1,B=(u.flags&128)!==0,G;if((G=B)||(G=l!==null&&l.memoizedState===null?!1:(N&2)!==0),G?(I=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(N|=1),zt(ir,N&1),l===null)return vv(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(B=y.children,l=y.fallback,I?(y=u.mode,I=u.child,B={mode:"hidden",children:B},(y&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=B):I=jp(B,y,0,null),l=Ho(l,y,f,null),I.return=u,l.return=u,I.sibling=l,u.child=I,u.child.memoizedState=qv(f),u.memoizedState=zv,l):Wv(u,B));if(N=l.memoizedState,N!==null&&(G=N.dehydrated,G!==null))return rV(l,u,B,y,G,N,f);if(I){I=y.fallback,B=u.mode,N=l.child,G=N.sibling;var ie={mode:"hidden",children:y.children};return(B&1)===0&&u.child!==N?(y=u.child,y.childLanes=0,y.pendingProps=ie,u.deletions=null):(y=za(N,ie),y.subtreeFlags=N.subtreeFlags&14680064),G!==null?I=za(G,I):(I=Ho(I,B,f,null),I.flags|=2),I.return=u,y.return=u,y.sibling=I,u.child=y,y=I,I=u.child,B=l.child.memoizedState,B=B===null?qv(f):{baseLanes:B.baseLanes|f,cachePool:null,transitions:B.transitions},I.memoizedState=B,I.childLanes=l.childLanes&~f,u.memoizedState=zv,y}return I=l.child,l=I.sibling,y=za(I,{mode:"visible",children:y.children}),(u.mode&1)===0&&(y.lanes=f),y.return=u,y.sibling=null,l!==null&&(f=u.deletions,f===null?(u.deletions=[l],u.flags|=16):f.push(l)),u.child=y,u.memoizedState=null,y}function Wv(l,u){return u=jp({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function dp(l,u,f,y){return y!==null&&yv(y),oc(u,l.child,null,f),l=Wv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function rV(l,u,f,y,N,I,B){if(f)return u.flags&256?(u.flags&=-257,y=Fv(Error(r(422))),dp(l,u,B,y)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(I=y.fallback,N=u.mode,y=jp({mode:"visible",children:y.children},N,0,null),I=Ho(I,N,B,null),I.flags|=2,y.return=u,I.return=u,y.sibling=I,u.child=y,(u.mode&1)!==0&&oc(u,l.child,null,B),u.child.memoizedState=qv(B),u.memoizedState=zv,I);if((u.mode&1)===0)return dp(l,u,B,null);if(N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var G=y.dgst;return y=G,I=Error(r(419)),y=Fv(I,y,void 0),dp(l,u,B,y)}if(G=(B&l.childLanes)!==0,Fn||G){if(y=Dr,y!==null){switch(B&-B){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(y.suspendedLanes|B))!==0?0:N,N!==0&&N!==I.retryLane&&(I.retryLane=N,Ks(l,N),Xi(y,l,N,-1))}return oy(),y=Fv(Error(r(421))),dp(l,u,B,y)}return N.data==="$?"?(u.flags|=128,u.child=l.child,u=mV.bind(null,l),N._reactRetry=u,null):(l=I.treeContext,ni=Oa(N.nextSibling),ri=u,er=!0,Gi=null,l!==null&&(ki[ji++]=Hs,ki[ji++]=Gs,ki[ji++]=Do,Hs=l.id,Gs=l.overflow,Do=u),u=Wv(u,y.children),u.flags|=4096,u)}function PE(l,u,f){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),_v(l.return,u,f)}function Hv(l,u,f,y,N){var I=l.memoizedState;I===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:N}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=f,I.tailMode=N)}function OE(l,u,f){var y=u.pendingProps,N=y.revealOrder,I=y.tail;if(Nn(l,u,y.children,f),y=ir.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&PE(l,f,u);else if(l.tag===19)PE(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(zt(ir,y),(u.mode&1)===0)u.memoizedState=null;else switch(N){case"forwards":for(f=u.child,N=null;f!==null;)l=f.alternate,l!==null&&ip(l)===null&&(N=f),f=f.sibling;f=N,f===null?(N=u.child,u.child=null):(N=f.sibling,f.sibling=null),Hv(u,!1,N,f,I);break;case"backwards":for(f=null,N=u.child,u.child=null;N!==null;){if(l=N.alternate,l!==null&&ip(l)===null){u.child=N;break}l=N.sibling,N.sibling=f,f=N,N=l}Hv(u,!0,f,null,I);break;case"together":Hv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function hp(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Qs(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),Uo|=u.lanes,(f&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,f=za(l,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,f=f.sibling=za(l,l.pendingProps),f.return=u;f.sibling=null}return u.child}function nV(l,u,f){switch(u.tag){case 3:CE(u),ac();break;case 5:HN(u);break;case 1:$n(u.type)&&Kf(u);break;case 4:Sv(u,u.stateNode.containerInfo);break;case 10:var y=u.type._context,N=u.memoizedProps.value;zt(ep,y._currentValue),y._currentValue=N;break;case 13:if(y=u.memoizedState,y!==null)return y.dehydrated!==null?(zt(ir,ir.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?AE(l,u,f):(zt(ir,ir.current&1),l=Qs(l,u,f),l!==null?l.sibling:null);zt(ir,ir.current&1);break;case 19:if(y=(f&u.childLanes)!==0,(l.flags&128)!==0){if(y)return OE(l,u,f);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),zt(ir,ir.current),y)break;return null;case 22:case 23:return u.lanes=0,SE(l,u,f)}return Qs(l,u,f)}var IE,Gv,ME,RE;IE=function(l,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Gv=function(){},ME=function(l,u,f,y){var N=l.memoizedProps;if(N!==y){l=u.stateNode,Vo(ps.current);var I=null;switch(f){case"input":N=_e(l,N),y=_e(l,y),I=[];break;case"select":N=re({},N,{value:void 0}),y=re({},y,{value:void 0}),I=[];break;case"textarea":N=vr(l,N),y=vr(l,y),I=[];break;default:typeof N.onClick!="function"&&typeof y.onClick=="function"&&(l.onclick=Wf)}mi(f,y);var B;f=null;for(ge in N)if(!y.hasOwnProperty(ge)&&N.hasOwnProperty(ge)&&N[ge]!=null)if(ge==="style"){var G=N[ge];for(B in G)G.hasOwnProperty(B)&&(f||(f={}),f[B]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?I||(I=[]):(I=I||[]).push(ge,null));for(ge in y){var ie=y[ge];if(G=N?.[ge],y.hasOwnProperty(ge)&&ie!==G&&(ie!=null||G!=null))if(ge==="style")if(G){for(B in G)!G.hasOwnProperty(B)||ie&&ie.hasOwnProperty(B)||(f||(f={}),f[B]="");for(B in ie)ie.hasOwnProperty(B)&&G[B]!==ie[B]&&(f||(f={}),f[B]=ie[B])}else f||(I||(I=[]),I.push(ge,f)),f=ie;else ge==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,G=G?G.__html:void 0,ie!=null&&G!==ie&&(I=I||[]).push(ge,ie)):ge==="children"?typeof ie!="string"&&typeof ie!="number"||(I=I||[]).push(ge,""+ie):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ie!=null&&ge==="onScroll"&&Gt("scroll",l),I||G===ie||(I=[])):(I=I||[]).push(ge,ie))}f&&(I=I||[]).push("style",f);var ge=I;(u.updateQueue=ge)&&(u.flags|=4)}},RE=function(l,u,f,y){f!==y&&(u.flags|=4)};function id(l,u){if(!er)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function cn(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,y=0;if(u)for(var N=l.child;N!==null;)f|=N.lanes|N.childLanes,y|=N.subtreeFlags&14680064,y|=N.flags&14680064,N.return=l,N=N.sibling;else for(N=l.child;N!==null;)f|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=l,N=N.sibling;return l.subtreeFlags|=y,l.childLanes=f,u}function iV(l,u,f){var y=u.pendingProps;switch(mv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(u),null;case 1:return $n(u.type)&&Gf(),cn(u),null;case 3:return y=u.stateNode,uc(),Kt(Dn),Kt(on),Cv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(l===null||l.child===null)&&(Jf(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Gi!==null&&(iy(Gi),Gi=null))),Gv(l,u),cn(u),null;case 5:Nv(u);var N=Vo(Zu.current);if(f=u.type,l!==null&&u.stateNode!=null)ME(l,u,f,y,N),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(r(166));return cn(u),null}if(l=Vo(ps.current),Jf(u)){y=u.stateNode,f=u.type;var I=u.memoizedProps;switch(y[fs]=u,y[Ku]=I,l=(u.mode&1)!==0,f){case"dialog":Gt("cancel",y),Gt("close",y);break;case"iframe":case"object":case"embed":Gt("load",y);break;case"video":case"audio":for(N=0;N<Wu.length;N++)Gt(Wu[N],y);break;case"source":Gt("error",y);break;case"img":case"image":case"link":Gt("error",y),Gt("load",y);break;case"details":Gt("toggle",y);break;case"input":Ee(y,I),Gt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!I.multiple},Gt("invalid",y);break;case"textarea":yr(y,I),Gt("invalid",y)}mi(f,I),N=null;for(var B in I)if(I.hasOwnProperty(B)){var G=I[B];B==="children"?typeof G=="string"?y.textContent!==G&&(I.suppressHydrationWarning!==!0&&qf(y.textContent,G,l),N=["children",G]):typeof G=="number"&&y.textContent!==""+G&&(I.suppressHydrationWarning!==!0&&qf(y.textContent,G,l),N=["children",""+G]):i.hasOwnProperty(B)&&G!=null&&B==="onScroll"&&Gt("scroll",y)}switch(f){case"input":me(y),or(y,I,!0);break;case"textarea":me(y),sn(y);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(y.onclick=Wf)}y=N,u.updateQueue=y,y!==null&&(u.flags|=4)}else{B=N.nodeType===9?N:N.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=$t(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=B.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof y.is=="string"?l=B.createElement(f,{is:y.is}):(l=B.createElement(f),f==="select"&&(B=l,y.multiple?B.multiple=!0:y.size&&(B.size=y.size))):l=B.createElementNS(l,f),l[fs]=u,l[Ku]=y,IE(l,u,!1,!1),u.stateNode=l;e:{switch(B=zr(f,y),f){case"dialog":Gt("cancel",l),Gt("close",l),N=y;break;case"iframe":case"object":case"embed":Gt("load",l),N=y;break;case"video":case"audio":for(N=0;N<Wu.length;N++)Gt(Wu[N],l);N=y;break;case"source":Gt("error",l),N=y;break;case"img":case"image":case"link":Gt("error",l),Gt("load",l),N=y;break;case"details":Gt("toggle",l),N=y;break;case"input":Ee(l,y),N=_e(l,y),Gt("invalid",l);break;case"option":N=y;break;case"select":l._wrapperState={wasMultiple:!!y.multiple},N=re({},y,{value:void 0}),Gt("invalid",l);break;case"textarea":yr(l,y),N=vr(l,y),Gt("invalid",l);break;default:N=y}mi(f,N),G=N;for(I in G)if(G.hasOwnProperty(I)){var ie=G[I];I==="style"?os(l,ie):I==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&dt(l,ie)):I==="children"?typeof ie=="string"?(f!=="textarea"||ie!=="")&&Kn(l,ie):typeof ie=="number"&&Kn(l,""+ie):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?ie!=null&&I==="onScroll"&&Gt("scroll",l):ie!=null&&A(l,I,ie,B))}switch(f){case"input":me(l),or(l,y,!1);break;case"textarea":me(l),sn(l);break;case"option":y.value!=null&&l.setAttribute("value",""+pe(y.value));break;case"select":l.multiple=!!y.multiple,I=y.value,I!=null?kt(l,!!y.multiple,I,!1):y.defaultValue!=null&&kt(l,!!y.multiple,y.defaultValue,!0);break;default:typeof N.onClick=="function"&&(l.onclick=Wf)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return cn(u),null;case 6:if(l&&u.stateNode!=null)RE(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(f=Vo(Zu.current),Vo(ps.current),Jf(u)){if(y=u.stateNode,f=u.memoizedProps,y[fs]=u,(I=y.nodeValue!==f)&&(l=ri,l!==null))switch(l.tag){case 3:qf(y.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&qf(y.nodeValue,f,(l.mode&1)!==0)}I&&(u.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[fs]=u,u.stateNode=y}return cn(u),null;case 13:if(Kt(ir),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(er&&ni!==null&&(u.mode&1)!==0&&(u.flags&128)===0)$N(),ac(),u.flags|=98560,I=!1;else if(I=Jf(u),y!==null&&y.dehydrated!==null){if(l===null){if(!I)throw Error(r(318));if(I=u.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[fs]=u}else ac(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;cn(u),I=!1}else Gi!==null&&(iy(Gi),Gi=null),I=!0;if(!I)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(y=y!==null,y!==(l!==null&&l.memoizedState!==null)&&y&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(ir.current&1)!==0?Cr===0&&(Cr=3):oy())),u.updateQueue!==null&&(u.flags|=4),cn(u),null);case 4:return uc(),Gv(l,u),l===null&&Hu(u.stateNode.containerInfo),cn(u),null;case 10:return wv(u.type._context),cn(u),null;case 17:return $n(u.type)&&Gf(),cn(u),null;case 19:if(Kt(ir),I=u.memoizedState,I===null)return cn(u),null;if(y=(u.flags&128)!==0,B=I.rendering,B===null)if(y)id(I,!1);else{if(Cr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(B=ip(l),B!==null){for(u.flags|=128,id(I,!1),y=B.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),u.subtreeFlags=0,y=f,f=u.child;f!==null;)I=f,l=y,I.flags&=14680066,B=I.alternate,B===null?(I.childLanes=0,I.lanes=l,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=B.childLanes,I.lanes=B.lanes,I.child=B.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=B.memoizedProps,I.memoizedState=B.memoizedState,I.updateQueue=B.updateQueue,I.type=B.type,l=B.dependencies,I.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return zt(ir,ir.current&1|2),u.child}l=l.sibling}I.tail!==null&&Ut()>pc&&(u.flags|=128,y=!0,id(I,!1),u.lanes=4194304)}else{if(!y)if(l=ip(B),l!==null){if(u.flags|=128,y=!0,f=l.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),id(I,!0),I.tail===null&&I.tailMode==="hidden"&&!B.alternate&&!er)return cn(u),null}else 2*Ut()-I.renderingStartTime>pc&&f!==1073741824&&(u.flags|=128,y=!0,id(I,!1),u.lanes=4194304);I.isBackwards?(B.sibling=u.child,u.child=B):(f=I.last,f!==null?f.sibling=B:u.child=B,I.last=B)}return I.tail!==null?(u=I.tail,I.rendering=u,I.tail=u.sibling,I.renderingStartTime=Ut(),u.sibling=null,f=ir.current,zt(ir,y?f&1|2:f&1),u):(cn(u),null);case 22:case 23:return ay(),y=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==y&&(u.flags|=8192),y&&(u.mode&1)!==0?(ii&1073741824)!==0&&(cn(u),u.subtreeFlags&6&&(u.flags|=8192)):cn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function sV(l,u){switch(mv(u),u.tag){case 1:return $n(u.type)&&Gf(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return uc(),Kt(Dn),Kt(on),Cv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Nv(u),null;case 13:if(Kt(ir),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));ac()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Kt(ir),null;case 4:return uc(),null;case 10:return wv(u.type._context),null;case 22:case 23:return ay(),null;case 24:return null;default:return null}}var fp=!1,un=!1,aV=typeof WeakSet=="function"?WeakSet:Set,Me=null;function hc(l,u){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){cr(l,u,y)}else f.current=null}function Kv(l,u,f){try{f()}catch(y){cr(l,u,y)}}var LE=!1;function oV(l,u){if(av=Ta,l=pN(),J0(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var N=y.anchorOffset,I=y.focusNode;y=y.focusOffset;try{f.nodeType,I.nodeType}catch{f=null;break e}var B=0,G=-1,ie=-1,ge=0,Se=0,Ce=l,je=null;t:for(;;){for(var Ie;Ce!==f||N!==0&&Ce.nodeType!==3||(G=B+N),Ce!==I||y!==0&&Ce.nodeType!==3||(ie=B+y),Ce.nodeType===3&&(B+=Ce.nodeValue.length),(Ie=Ce.firstChild)!==null;)je=Ce,Ce=Ie;for(;;){if(Ce===l)break t;if(je===f&&++ge===N&&(G=B),je===I&&++Se===y&&(ie=B),(Ie=Ce.nextSibling)!==null)break;Ce=je,je=Ce.parentNode}Ce=Ie}f=G===-1||ie===-1?null:{start:G,end:ie}}else f=null}f=f||{start:0,end:0}}else f=null;for(ov={focusedElem:l,selectionRange:f},Ta=!1,Me=u;Me!==null;)if(u=Me,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Me=l;else for(;Me!==null;){u=Me;try{var $e=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var Ve=$e.memoizedProps,pr=$e.memoizedState,de=u.stateNode,se=de.getSnapshotBeforeUpdate(u.elementType===u.type?Ve:Ki(u.type,Ve),pr);de.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var he=u.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){cr(u,u.return,Te)}if(l=u.sibling,l!==null){l.return=u.return,Me=l;break}Me=u.return}return $e=LE,LE=!1,$e}function sd(l,u,f){var y=u.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var N=y=y.next;do{if((N.tag&l)===l){var I=N.destroy;N.destroy=void 0,I!==void 0&&Kv(u,f,I)}N=N.next}while(N!==y)}}function pp(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&l)===l){var y=f.create;f.destroy=y()}f=f.next}while(f!==u)}}function Yv(l){var u=l.ref;if(u!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof u=="function"?u(l):u.current=l}}function DE(l){var u=l.alternate;u!==null&&(l.alternate=null,DE(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[fs],delete u[Ku],delete u[dv],delete u[zF],delete u[qF])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function $E(l){return l.tag===5||l.tag===3||l.tag===4}function FE(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||$E(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Qv(l,u,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(l,u):f.insertBefore(l,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(l,f)):(u=f,u.appendChild(l)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Wf));else if(y!==4&&(l=l.child,l!==null))for(Qv(l,u,f),l=l.sibling;l!==null;)Qv(l,u,f),l=l.sibling}function Xv(l,u,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?f.insertBefore(l,u):f.appendChild(l);else if(y!==4&&(l=l.child,l!==null))for(Xv(l,u,f),l=l.sibling;l!==null;)Xv(l,u,f),l=l.sibling}var Kr=null,Yi=!1;function $a(l,u,f){for(f=f.child;f!==null;)VE(l,u,f),f=f.sibling}function VE(l,u,f){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Co,f)}catch{}switch(f.tag){case 5:un||hc(f,u);case 6:var y=Kr,N=Yi;Kr=null,$a(l,u,f),Kr=y,Yi=N,Kr!==null&&(Yi?(l=Kr,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):Kr.removeChild(f.stateNode));break;case 18:Kr!==null&&(Yi?(l=Kr,f=f.stateNode,l.nodeType===8?uv(l.parentNode,f):l.nodeType===1&&uv(l,f),qi(l)):uv(Kr,f.stateNode));break;case 4:y=Kr,N=Yi,Kr=f.stateNode.containerInfo,Yi=!0,$a(l,u,f),Kr=y,Yi=N;break;case 0:case 11:case 14:case 15:if(!un&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){N=y=y.next;do{var I=N,B=I.destroy;I=I.tag,B!==void 0&&((I&2)!==0||(I&4)!==0)&&Kv(f,u,B),N=N.next}while(N!==y)}$a(l,u,f);break;case 1:if(!un&&(hc(f,u),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(G){cr(f,u,G)}$a(l,u,f);break;case 21:$a(l,u,f);break;case 22:f.mode&1?(un=(y=un)||f.memoizedState!==null,$a(l,u,f),un=y):$a(l,u,f);break;default:$a(l,u,f)}}function BE(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new aV),u.forEach(function(y){var N=gV.bind(null,l,y);f.has(y)||(f.add(y),y.then(N,N))})}}function Qi(l,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var N=f[y];try{var I=l,B=u,G=B;e:for(;G!==null;){switch(G.tag){case 5:Kr=G.stateNode,Yi=!1;break e;case 3:Kr=G.stateNode.containerInfo,Yi=!0;break e;case 4:Kr=G.stateNode.containerInfo,Yi=!0;break e}G=G.return}if(Kr===null)throw Error(r(160));VE(I,B,N),Kr=null,Yi=!1;var ie=N.alternate;ie!==null&&(ie.return=null),N.return=null}catch(ge){cr(N,u,ge)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)UE(u,l),u=u.sibling}function UE(l,u){var f=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Qi(u,l),gs(l),y&4){try{sd(3,l,l.return),pp(3,l)}catch(Ve){cr(l,l.return,Ve)}try{sd(5,l,l.return)}catch(Ve){cr(l,l.return,Ve)}}break;case 1:Qi(u,l),gs(l),y&512&&f!==null&&hc(f,f.return);break;case 5:if(Qi(u,l),gs(l),y&512&&f!==null&&hc(f,f.return),l.flags&32){var N=l.stateNode;try{Kn(N,"")}catch(Ve){cr(l,l.return,Ve)}}if(y&4&&(N=l.stateNode,N!=null)){var I=l.memoizedProps,B=f!==null?f.memoizedProps:I,G=l.type,ie=l.updateQueue;if(l.updateQueue=null,ie!==null)try{G==="input"&&I.type==="radio"&&I.name!=null&&qe(N,I),zr(G,B);var ge=zr(G,I);for(B=0;B<ie.length;B+=2){var Se=ie[B],Ce=ie[B+1];Se==="style"?os(N,Ce):Se==="dangerouslySetInnerHTML"?dt(N,Ce):Se==="children"?Kn(N,Ce):A(N,Se,Ce,ge)}switch(G){case"input":Mt(N,I);break;case"textarea":rr(N,I);break;case"select":var je=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!I.multiple;var Ie=I.value;Ie!=null?kt(N,!!I.multiple,Ie,!1):je!==!!I.multiple&&(I.defaultValue!=null?kt(N,!!I.multiple,I.defaultValue,!0):kt(N,!!I.multiple,I.multiple?[]:"",!1))}N[Ku]=I}catch(Ve){cr(l,l.return,Ve)}}break;case 6:if(Qi(u,l),gs(l),y&4){if(l.stateNode===null)throw Error(r(162));N=l.stateNode,I=l.memoizedProps;try{N.nodeValue=I}catch(Ve){cr(l,l.return,Ve)}}break;case 3:if(Qi(u,l),gs(l),y&4&&f!==null&&f.memoizedState.isDehydrated)try{qi(u.containerInfo)}catch(Ve){cr(l,l.return,Ve)}break;case 4:Qi(u,l),gs(l);break;case 13:Qi(u,l),gs(l),N=l.child,N.flags&8192&&(I=N.memoizedState!==null,N.stateNode.isHidden=I,!I||N.alternate!==null&&N.alternate.memoizedState!==null||(ey=Ut())),y&4&&BE(l);break;case 22:if(Se=f!==null&&f.memoizedState!==null,l.mode&1?(un=(ge=un)||Se,Qi(u,l),un=ge):Qi(u,l),gs(l),y&8192){if(ge=l.memoizedState!==null,(l.stateNode.isHidden=ge)&&!Se&&(l.mode&1)!==0)for(Me=l,Se=l.child;Se!==null;){for(Ce=Me=Se;Me!==null;){switch(je=Me,Ie=je.child,je.tag){case 0:case 11:case 14:case 15:sd(4,je,je.return);break;case 1:hc(je,je.return);var $e=je.stateNode;if(typeof $e.componentWillUnmount=="function"){y=je,f=je.return;try{u=y,$e.props=u.memoizedProps,$e.state=u.memoizedState,$e.componentWillUnmount()}catch(Ve){cr(y,f,Ve)}}break;case 5:hc(je,je.return);break;case 22:if(je.memoizedState!==null){WE(Ce);continue}}Ie!==null?(Ie.return=je,Me=Ie):WE(Ce)}Se=Se.sibling}e:for(Se=null,Ce=l;;){if(Ce.tag===5){if(Se===null){Se=Ce;try{N=Ce.stateNode,ge?(I=N.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(G=Ce.stateNode,ie=Ce.memoizedProps.style,B=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,G.style.display=Sr("display",B))}catch(Ve){cr(l,l.return,Ve)}}}else if(Ce.tag===6){if(Se===null)try{Ce.stateNode.nodeValue=ge?"":Ce.memoizedProps}catch(Ve){cr(l,l.return,Ve)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===l)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===l)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===l)break e;Se===Ce&&(Se=null),Ce=Ce.return}Se===Ce&&(Se=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:Qi(u,l),gs(l),y&4&&BE(l);break;case 21:break;default:Qi(u,l),gs(l)}}function gs(l){var u=l.flags;if(u&2){try{e:{for(var f=l.return;f!==null;){if($E(f)){var y=f;break e}f=f.return}throw Error(r(160))}switch(y.tag){case 5:var N=y.stateNode;y.flags&32&&(Kn(N,""),y.flags&=-33);var I=FE(l);Xv(l,I,N);break;case 3:case 4:var B=y.stateNode.containerInfo,G=FE(l);Qv(l,G,B);break;default:throw Error(r(161))}}catch(ie){cr(l,l.return,ie)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function lV(l,u,f){Me=l,zE(l)}function zE(l,u,f){for(var y=(l.mode&1)!==0;Me!==null;){var N=Me,I=N.child;if(N.tag===22&&y){var B=N.memoizedState!==null||fp;if(!B){var G=N.alternate,ie=G!==null&&G.memoizedState!==null||un;G=fp;var ge=un;if(fp=B,(un=ie)&&!ge)for(Me=N;Me!==null;)B=Me,ie=B.child,B.tag===22&&B.memoizedState!==null?HE(N):ie!==null?(ie.return=B,Me=ie):HE(N);for(;I!==null;)Me=I,zE(I),I=I.sibling;Me=N,fp=G,un=ge}qE(l)}else(N.subtreeFlags&8772)!==0&&I!==null?(I.return=N,Me=I):qE(l)}}function qE(l){for(;Me!==null;){var u=Me;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:un||pp(5,u);break;case 1:var y=u.stateNode;if(u.flags&4&&!un)if(f===null)y.componentDidMount();else{var N=u.elementType===u.type?f.memoizedProps:Ki(u.type,f.memoizedProps);y.componentDidUpdate(N,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var I=u.updateQueue;I!==null&&WN(u,I,y);break;case 3:var B=u.updateQueue;if(B!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}WN(u,B,f)}break;case 5:var G=u.stateNode;if(f===null&&u.flags&4){f=G;var ie=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&f.focus();break;case"img":ie.src&&(f.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ge=u.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var Ce=Se.dehydrated;Ce!==null&&qi(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}un||u.flags&512&&Yv(u)}catch(je){cr(u,u.return,je)}}if(u===l){Me=null;break}if(f=u.sibling,f!==null){f.return=u.return,Me=f;break}Me=u.return}}function WE(l){for(;Me!==null;){var u=Me;if(u===l){Me=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Me=f;break}Me=u.return}}function HE(l){for(;Me!==null;){var u=Me;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{pp(4,u)}catch(ie){cr(u,f,ie)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var N=u.return;try{y.componentDidMount()}catch(ie){cr(u,N,ie)}}var I=u.return;try{Yv(u)}catch(ie){cr(u,I,ie)}break;case 5:var B=u.return;try{Yv(u)}catch(ie){cr(u,B,ie)}}}catch(ie){cr(u,u.return,ie)}if(u===l){Me=null;break}var G=u.sibling;if(G!==null){G.return=u.return,Me=G;break}Me=u.return}}var cV=Math.ceil,mp=P.ReactCurrentDispatcher,Jv=P.ReactCurrentOwner,Ei=P.ReactCurrentBatchConfig,yt=0,Dr=null,br=null,Yr=0,ii=0,fc=Ia(0),Cr=0,ad=null,Uo=0,gp=0,Zv=0,od=null,Vn=null,ey=0,pc=1/0,Xs=null,vp=!1,ty=null,Fa=null,yp=!1,Va=null,xp=0,ld=0,ry=null,bp=-1,wp=0;function En(){return(yt&6)!==0?Ut():bp!==-1?bp:bp=Ut()}function Ba(l){return(l.mode&1)===0?1:(yt&2)!==0&&Yr!==0?Yr&-Yr:HF.transition!==null?(wp===0&&(wp=Ao()),wp):(l=ht,l!==0||(l=window.event,l=l===void 0?16:Lu(l.type)),l)}function Xi(l,u,f,y){if(50<ld)throw ld=0,ry=null,Error(r(185));Sa(l,f,y),((yt&2)===0||l!==Dr)&&(l===Dr&&((yt&2)===0&&(gp|=f),Cr===4&&Ua(l,Yr)),Bn(l,y),f===1&&yt===0&&(u.mode&1)===0&&(pc=Ut()+500,Yf&&Ra()))}function Bn(l,u){var f=l.callbackNode;Fs(l,u);var y=To(l,l===Dr?Yr:0);if(y===0)f!==null&&Xn(f),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(f!=null&&Xn(f),u===1)l.tag===0?WF(KE.bind(null,l)):IN(KE.bind(null,l)),BF(function(){(yt&6)===0&&Ra()}),f=null;else{switch(Ea(y)){case 1:f=Eo;break;case 4:f=_a;break;case 16:f=bi;break;case 536870912:f=wf;break;default:f=bi}f=rC(f,GE.bind(null,l))}l.callbackPriority=u,l.callbackNode=f}}function GE(l,u){if(bp=-1,wp=0,(yt&6)!==0)throw Error(r(327));var f=l.callbackNode;if(mc()&&l.callbackNode!==f)return null;var y=To(l,l===Dr?Yr:0);if(y===0)return null;if((y&30)!==0||(y&l.expiredLanes)!==0||u)u=_p(l,y);else{u=y;var N=yt;yt|=2;var I=QE();(Dr!==l||Yr!==u)&&(Xs=null,pc=Ut()+500,qo(l,u));do try{hV();break}catch(G){YE(l,G)}while(!0);bv(),mp.current=I,yt=N,br!==null?u=0:(Dr=null,Yr=0,u=Cr)}if(u!==0){if(u===2&&(N=Zn(l),N!==0&&(y=N,u=ny(l,N))),u===1)throw f=ad,qo(l,0),Ua(l,y),Bn(l,Ut()),f;if(u===6)Ua(l,y);else{if(N=l.current.alternate,(y&30)===0&&!uV(N)&&(u=_p(l,y),u===2&&(I=Zn(l),I!==0&&(y=I,u=ny(l,I))),u===1))throw f=ad,qo(l,0),Ua(l,y),Bn(l,Ut()),f;switch(l.finishedWork=N,l.finishedLanes=y,u){case 0:case 1:throw Error(r(345));case 2:Wo(l,Vn,Xs);break;case 3:if(Ua(l,y),(y&130023424)===y&&(u=ey+500-Ut(),10<u)){if(To(l,0)!==0)break;if(N=l.suspendedLanes,(N&y)!==y){En(),l.pingedLanes|=l.suspendedLanes&N;break}l.timeoutHandle=cv(Wo.bind(null,l,Vn,Xs),u);break}Wo(l,Vn,Xs);break;case 4:if(Ua(l,y),(y&4194240)===y)break;for(u=l.eventTimes,N=-1;0<y;){var B=31-jn(y);I=1<<B,B=u[B],B>N&&(N=B),y&=~I}if(y=N,y=Ut()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*cV(y/1960))-y,10<y){l.timeoutHandle=cv(Wo.bind(null,l,Vn,Xs),y);break}Wo(l,Vn,Xs);break;case 5:Wo(l,Vn,Xs);break;default:throw Error(r(329))}}}return Bn(l,Ut()),l.callbackNode===f?GE.bind(null,l):null}function ny(l,u){var f=od;return l.current.memoizedState.isDehydrated&&(qo(l,u).flags|=256),l=_p(l,u),l!==2&&(u=Vn,Vn=f,u!==null&&iy(u)),l}function iy(l){Vn===null?Vn=l:Vn.push.apply(Vn,l)}function uV(l){for(var u=l;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var N=f[y],I=N.getSnapshot;N=N.value;try{if(!Hi(I(),N))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ua(l,u){for(u&=~Zv,u&=~gp,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var f=31-jn(u),y=1<<f;l[f]=-1,u&=~y}}function KE(l){if((yt&6)!==0)throw Error(r(327));mc();var u=To(l,0);if((u&1)===0)return Bn(l,Ut()),null;var f=_p(l,u);if(l.tag!==0&&f===2){var y=Zn(l);y!==0&&(u=y,f=ny(l,y))}if(f===1)throw f=ad,qo(l,0),Ua(l,u),Bn(l,Ut()),f;if(f===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Wo(l,Vn,Xs),Bn(l,Ut()),null}function sy(l,u){var f=yt;yt|=1;try{return l(u)}finally{yt=f,yt===0&&(pc=Ut()+500,Yf&&Ra())}}function zo(l){Va!==null&&Va.tag===0&&(yt&6)===0&&mc();var u=yt;yt|=1;var f=Ei.transition,y=ht;try{if(Ei.transition=null,ht=1,l)return l()}finally{ht=y,Ei.transition=f,yt=u,(yt&6)===0&&Ra()}}function ay(){ii=fc.current,Kt(fc)}function qo(l,u){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,VF(f)),br!==null)for(f=br.return;f!==null;){var y=f;switch(mv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&Gf();break;case 3:uc(),Kt(Dn),Kt(on),Cv();break;case 5:Nv(y);break;case 4:uc();break;case 13:Kt(ir);break;case 19:Kt(ir);break;case 10:wv(y.type._context);break;case 22:case 23:ay()}f=f.return}if(Dr=l,br=l=za(l.current,null),Yr=ii=u,Cr=0,ad=null,Zv=gp=Uo=0,Vn=od=null,Fo!==null){for(u=0;u<Fo.length;u++)if(f=Fo[u],y=f.interleaved,y!==null){f.interleaved=null;var N=y.next,I=f.pending;if(I!==null){var B=I.next;I.next=N,y.next=B}f.pending=y}Fo=null}return l}function YE(l,u){do{var f=br;try{if(bv(),sp.current=cp,ap){for(var y=sr.memoizedState;y!==null;){var N=y.queue;N!==null&&(N.pending=null),y=y.next}ap=!1}if(Bo=0,Lr=Er=sr=null,ed=!1,td=0,Jv.current=null,f===null||f.return===null){Cr=1,ad=u,br=null;break}e:{var I=l,B=f.return,G=f,ie=u;if(u=Yr,G.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var ge=ie,Se=G,Ce=Se.tag;if((Se.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var je=Se.alternate;je?(Se.updateQueue=je.updateQueue,Se.memoizedState=je.memoizedState,Se.lanes=je.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Ie=bE(B);if(Ie!==null){Ie.flags&=-257,wE(Ie,B,G,I,u),Ie.mode&1&&xE(I,ge,u),u=Ie,ie=ge;var $e=u.updateQueue;if($e===null){var Ve=new Set;Ve.add(ie),u.updateQueue=Ve}else $e.add(ie);break e}else{if((u&1)===0){xE(I,ge,u),oy();break e}ie=Error(r(426))}}else if(er&&G.mode&1){var pr=bE(B);if(pr!==null){(pr.flags&65536)===0&&(pr.flags|=256),wE(pr,B,G,I,u),yv(dc(ie,G));break e}}I=ie=dc(ie,G),Cr!==4&&(Cr=2),od===null?od=[I]:od.push(I),I=B;do{switch(I.tag){case 3:I.flags|=65536,u&=-u,I.lanes|=u;var de=vE(I,ie,u);qN(I,de);break e;case 1:G=ie;var se=I.type,he=I.stateNode;if((I.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Fa===null||!Fa.has(he)))){I.flags|=65536,u&=-u,I.lanes|=u;var Te=yE(I,G,u);qN(I,Te);break e}}I=I.return}while(I!==null)}JE(f)}catch(ze){u=ze,br===f&&f!==null&&(br=f=f.return);continue}break}while(!0)}function QE(){var l=mp.current;return mp.current=cp,l===null?cp:l}function oy(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Dr===null||(Uo&268435455)===0&&(gp&268435455)===0||Ua(Dr,Yr)}function _p(l,u){var f=yt;yt|=2;var y=QE();(Dr!==l||Yr!==u)&&(Xs=null,qo(l,u));do try{dV();break}catch(N){YE(l,N)}while(!0);if(bv(),yt=f,mp.current=y,br!==null)throw Error(r(261));return Dr=null,Yr=0,Cr}function dV(){for(;br!==null;)XE(br)}function hV(){for(;br!==null&&!xi();)XE(br)}function XE(l){var u=tC(l.alternate,l,ii);l.memoizedProps=l.pendingProps,u===null?JE(l):br=u,Jv.current=null}function JE(l){var u=l;do{var f=u.alternate;if(l=u.return,(u.flags&32768)===0){if(f=iV(f,u,ii),f!==null){br=f;return}}else{if(f=sV(f,u),f!==null){f.flags&=32767,br=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Cr=6,br=null;return}}if(u=u.sibling,u!==null){br=u;return}br=u=l}while(u!==null);Cr===0&&(Cr=5)}function Wo(l,u,f){var y=ht,N=Ei.transition;try{Ei.transition=null,ht=1,fV(l,u,f,y)}finally{Ei.transition=N,ht=y}return null}function fV(l,u,f,y){do mc();while(Va!==null);if((yt&6)!==0)throw Error(r(327));f=l.finishedWork;var N=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var I=f.lanes|f.childLanes;if(Lt(l,I),l===Dr&&(br=Dr=null,Yr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||yp||(yp=!0,rC(bi,function(){return mc(),null})),I=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||I){I=Ei.transition,Ei.transition=null;var B=ht;ht=1;var G=yt;yt|=4,Jv.current=null,oV(l,f),UE(f,l),IF(ov),Ta=!!av,ov=av=null,l.current=f,lV(f),nr(),yt=G,ht=B,Ei.transition=I}else l.current=f;if(yp&&(yp=!1,Va=l,xp=N),I=l.pendingLanes,I===0&&(Fa=null),_f(f.stateNode),Bn(l,Ut()),u!==null)for(y=l.onRecoverableError,f=0;f<u.length;f++)N=u[f],y(N.value,{componentStack:N.stack,digest:N.digest});if(vp)throw vp=!1,l=ty,ty=null,l;return(xp&1)!==0&&l.tag!==0&&mc(),I=l.pendingLanes,(I&1)!==0?l===ry?ld++:(ld=0,ry=l):ld=0,Ra(),null}function mc(){if(Va!==null){var l=Ea(xp),u=Ei.transition,f=ht;try{if(Ei.transition=null,ht=16>l?16:l,Va===null)var y=!1;else{if(l=Va,Va=null,xp=0,(yt&6)!==0)throw Error(r(331));var N=yt;for(yt|=4,Me=l.current;Me!==null;){var I=Me,B=I.child;if((Me.flags&16)!==0){var G=I.deletions;if(G!==null){for(var ie=0;ie<G.length;ie++){var ge=G[ie];for(Me=ge;Me!==null;){var Se=Me;switch(Se.tag){case 0:case 11:case 15:sd(8,Se,I)}var Ce=Se.child;if(Ce!==null)Ce.return=Se,Me=Ce;else for(;Me!==null;){Se=Me;var je=Se.sibling,Ie=Se.return;if(DE(Se),Se===ge){Me=null;break}if(je!==null){je.return=Ie,Me=je;break}Me=Ie}}}var $e=I.alternate;if($e!==null){var Ve=$e.child;if(Ve!==null){$e.child=null;do{var pr=Ve.sibling;Ve.sibling=null,Ve=pr}while(Ve!==null)}}Me=I}}if((I.subtreeFlags&2064)!==0&&B!==null)B.return=I,Me=B;else e:for(;Me!==null;){if(I=Me,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:sd(9,I,I.return)}var de=I.sibling;if(de!==null){de.return=I.return,Me=de;break e}Me=I.return}}var se=l.current;for(Me=se;Me!==null;){B=Me;var he=B.child;if((B.subtreeFlags&2064)!==0&&he!==null)he.return=B,Me=he;else e:for(B=se;Me!==null;){if(G=Me,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:pp(9,G)}}catch(ze){cr(G,G.return,ze)}if(G===B){Me=null;break e}var Te=G.sibling;if(Te!==null){Te.return=G.return,Me=Te;break e}Me=G.return}}if(yt=N,Ra(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Co,l)}catch{}y=!0}return y}finally{ht=f,Ei.transition=u}}return!1}function ZE(l,u,f){u=dc(f,u),u=vE(l,u,1),l=Da(l,u,1),u=En(),l!==null&&(Sa(l,1,u),Bn(l,u))}function cr(l,u,f){if(l.tag===3)ZE(l,l,f);else for(;u!==null;){if(u.tag===3){ZE(u,l,f);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Fa===null||!Fa.has(y))){l=dc(f,l),l=yE(u,l,1),u=Da(u,l,1),l=En(),u!==null&&(Sa(u,1,l),Bn(u,l));break}}u=u.return}}function pV(l,u,f){var y=l.pingCache;y!==null&&y.delete(u),u=En(),l.pingedLanes|=l.suspendedLanes&f,Dr===l&&(Yr&f)===f&&(Cr===4||Cr===3&&(Yr&130023424)===Yr&&500>Ut()-ey?qo(l,0):Zv|=f),Bn(l,u)}function eC(l,u){u===0&&((l.mode&1)===0?u=1:(u=$l,$l<<=1,($l&130023424)===0&&($l=4194304)));var f=En();l=Ks(l,u),l!==null&&(Sa(l,u,f),Bn(l,f))}function mV(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),eC(l,f)}function gV(l,u){var f=0;switch(l.tag){case 13:var y=l.stateNode,N=l.memoizedState;N!==null&&(f=N.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(u),eC(l,f)}var tC;tC=function(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps||Dn.current)Fn=!0;else{if((l.lanes&f)===0&&(u.flags&128)===0)return Fn=!1,nV(l,u,f);Fn=(l.flags&131072)!==0}else Fn=!1,er&&(u.flags&1048576)!==0&&MN(u,Xf,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;hp(l,u),l=u.pendingProps;var N=nc(u,on.current);cc(u,f),N=Pv(null,u,y,l,N,f);var I=Ov();return u.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,$n(y)?(I=!0,Kf(u)):I=!1,u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,jv(u),N.updater=up,u.stateNode=N,N._reactInternals=u,$v(u,y,l,f),u=Uv(null,u,y,!0,I,f)):(u.tag=0,er&&I&&pv(u),Nn(null,u,N,f),u=u.child),u;case 16:y=u.elementType;e:{switch(hp(l,u),l=u.pendingProps,N=y._init,y=N(y._payload),u.type=y,N=u.tag=yV(y),l=Ki(y,l),N){case 0:u=Bv(null,u,y,l,f);break e;case 1:u=EE(null,u,y,l,f);break e;case 11:u=_E(null,u,y,l,f);break e;case 14:u=kE(null,u,y,Ki(y.type,l),f);break e}throw Error(r(306,y,""))}return u;case 0:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ki(y,N),Bv(l,u,y,N,f);case 1:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ki(y,N),EE(l,u,y,N,f);case 3:e:{if(CE(u),l===null)throw Error(r(387));y=u.pendingProps,I=u.memoizedState,N=I.element,zN(l,u),np(u,y,null,f);var B=u.memoizedState;if(y=B.element,I.isDehydrated)if(I={element:y,isDehydrated:!1,cache:B.cache,pendingSuspenseBoundaries:B.pendingSuspenseBoundaries,transitions:B.transitions},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){N=dc(Error(r(423)),u),u=TE(l,u,y,f,N);break e}else if(y!==N){N=dc(Error(r(424)),u),u=TE(l,u,y,f,N);break e}else for(ni=Oa(u.stateNode.containerInfo.firstChild),ri=u,er=!0,Gi=null,f=BN(u,null,y,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ac(),y===N){u=Qs(l,u,f);break e}Nn(l,u,y,f)}u=u.child}return u;case 5:return HN(u),l===null&&vv(u),y=u.type,N=u.pendingProps,I=l!==null?l.memoizedProps:null,B=N.children,lv(y,N)?B=null:I!==null&&lv(y,I)&&(u.flags|=32),NE(l,u),Nn(l,u,B,f),u.child;case 6:return l===null&&vv(u),null;case 13:return AE(l,u,f);case 4:return Sv(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=oc(u,null,y,f):Nn(l,u,y,f),u.child;case 11:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ki(y,N),_E(l,u,y,N,f);case 7:return Nn(l,u,u.pendingProps,f),u.child;case 8:return Nn(l,u,u.pendingProps.children,f),u.child;case 12:return Nn(l,u,u.pendingProps.children,f),u.child;case 10:e:{if(y=u.type._context,N=u.pendingProps,I=u.memoizedProps,B=N.value,zt(ep,y._currentValue),y._currentValue=B,I!==null)if(Hi(I.value,B)){if(I.children===N.children&&!Dn.current){u=Qs(l,u,f);break e}}else for(I=u.child,I!==null&&(I.return=u);I!==null;){var G=I.dependencies;if(G!==null){B=I.child;for(var ie=G.firstContext;ie!==null;){if(ie.context===y){if(I.tag===1){ie=Ys(-1,f&-f),ie.tag=2;var ge=I.updateQueue;if(ge!==null){ge=ge.shared;var Se=ge.pending;Se===null?ie.next=ie:(ie.next=Se.next,Se.next=ie),ge.pending=ie}}I.lanes|=f,ie=I.alternate,ie!==null&&(ie.lanes|=f),_v(I.return,f,u),G.lanes|=f;break}ie=ie.next}}else if(I.tag===10)B=I.type===u.type?null:I.child;else if(I.tag===18){if(B=I.return,B===null)throw Error(r(341));B.lanes|=f,G=B.alternate,G!==null&&(G.lanes|=f),_v(B,f,u),B=I.sibling}else B=I.child;if(B!==null)B.return=I;else for(B=I;B!==null;){if(B===u){B=null;break}if(I=B.sibling,I!==null){I.return=B.return,B=I;break}B=B.return}I=B}Nn(l,u,N.children,f),u=u.child}return u;case 9:return N=u.type,y=u.pendingProps.children,cc(u,f),N=Si(N),y=y(N),u.flags|=1,Nn(l,u,y,f),u.child;case 14:return y=u.type,N=Ki(y,u.pendingProps),N=Ki(y.type,N),kE(l,u,y,N,f);case 15:return jE(l,u,u.type,u.pendingProps,f);case 17:return y=u.type,N=u.pendingProps,N=u.elementType===y?N:Ki(y,N),hp(l,u),u.tag=1,$n(y)?(l=!0,Kf(u)):l=!1,cc(u,f),mE(u,y,N),$v(u,y,N,f),Uv(null,u,y,!0,l,f);case 19:return OE(l,u,f);case 22:return SE(l,u,f)}throw Error(r(156,u.tag))};function rC(l,u){return lr(l,u)}function vV(l,u,f,y){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(l,u,f,y){return new vV(l,u,f,y)}function ly(l){return l=l.prototype,!(!l||!l.isReactComponent)}function yV(l){if(typeof l=="function")return ly(l)?1:0;if(l!=null){if(l=l.$$typeof,l===V)return 11;if(l===te)return 14}return 2}function za(l,u){var f=l.alternate;return f===null?(f=Ci(l.tag,u,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function kp(l,u,f,y,N,I){var B=2;if(y=l,typeof l=="function")ly(l)&&(B=1);else if(typeof l=="string")B=5;else e:switch(l){case T:return Ho(f.children,N,I,u);case M:B=8,N|=8;break;case L:return l=Ci(12,f,u,N|2),l.elementType=L,l.lanes=I,l;case F:return l=Ci(13,f,u,N),l.elementType=F,l.lanes=I,l;case Z:return l=Ci(19,f,u,N),l.elementType=Z,l.lanes=I,l;case ee:return jp(f,N,I,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:B=10;break e;case D:B=9;break e;case V:B=11;break e;case te:B=14;break e;case J:B=16,y=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=Ci(B,f,u,N),u.elementType=l,u.type=y,u.lanes=I,u}function Ho(l,u,f,y){return l=Ci(7,l,y,u),l.lanes=f,l}function jp(l,u,f,y){return l=Ci(22,l,y,u),l.elementType=ee,l.lanes=f,l.stateNode={isHidden:!1},l}function cy(l,u,f){return l=Ci(6,l,null,u),l.lanes=f,l}function uy(l,u,f){return u=Ci(4,l.children!==null?l.children:[],l.key,u),u.lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function xV(l,u,f,y,N){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=y,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function dy(l,u,f,y,N,I,B,G,ie){return l=new xV(l,u,f,G,ie),u===1?(u=1,I===!0&&(u|=8)):u=0,I=Ci(3,null,null,u),l.current=I,I.stateNode=l,I.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},jv(I),l}function bV(l,u,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:y==null?null:""+y,children:l,containerInfo:u,implementation:f}}function nC(l){if(!l)return Ma;l=l._reactInternals;e:{if(lt(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if($n(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var f=l.type;if($n(f))return PN(l,f,u)}return u}function iC(l,u,f,y,N,I,B,G,ie){return l=dy(f,y,!0,l,N,I,B,G,ie),l.context=nC(null),f=l.current,y=En(),N=Ba(f),I=Ys(y,N),I.callback=u??null,Da(f,I,N),l.current.lanes=N,Sa(l,N,y),Bn(l,y),l}function Sp(l,u,f,y){var N=u.current,I=En(),B=Ba(N);return f=nC(f),u.context===null?u.context=f:u.pendingContext=f,u=Ys(I,B),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Da(N,u,B),l!==null&&(Xi(l,N,B,I),rp(l,N,B)),B}function Np(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function sC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function hy(l,u){sC(l,u),(l=l.alternate)&&sC(l,u)}function wV(){return null}var aC=typeof reportError=="function"?reportError:function(l){console.error(l)};function fy(l){this._internalRoot=l}Ep.prototype.render=fy.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));Sp(l,u,null,null)},Ep.prototype.unmount=fy.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;zo(function(){Sp(null,l,null,null)}),u[qs]=null}};function Ep(l){this._internalRoot=l}Ep.prototype.unstable_scheduleHydration=function(l){if(l){var u=Ef();l={blockedOn:null,target:l,priority:u};for(var f=0;f<cs.length&&u!==0&&u<cs[f].priority;f++);cs.splice(f,0,l),f===0&&Af(l)}};function py(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Cp(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function oC(){}function _V(l,u,f,y,N){if(N){if(typeof y=="function"){var I=y;y=function(){var ge=Np(B);I.call(ge)}}var B=iC(u,y,l,0,null,!1,!1,"",oC);return l._reactRootContainer=B,l[qs]=B.current,Hu(l.nodeType===8?l.parentNode:l),zo(),B}for(;N=l.lastChild;)l.removeChild(N);if(typeof y=="function"){var G=y;y=function(){var ge=Np(ie);G.call(ge)}}var ie=dy(l,0,!1,null,null,!1,!1,"",oC);return l._reactRootContainer=ie,l[qs]=ie.current,Hu(l.nodeType===8?l.parentNode:l),zo(function(){Sp(u,ie,f,y)}),ie}function Tp(l,u,f,y,N){var I=f._reactRootContainer;if(I){var B=I;if(typeof N=="function"){var G=N;N=function(){var ie=Np(B);G.call(ie)}}Sp(u,B,l,N)}else B=_V(f,u,l,N,y);return Np(B)}Sf=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var f=ka(u.pendingLanes);f!==0&&(Na(u,f|1),Bn(u,Ut()),(yt&6)===0&&(pc=Ut()+500,Ra()))}break;case 13:zo(function(){var y=Ks(l,1);if(y!==null){var N=En();Xi(y,l,1,N)}}),hy(l,1)}},Fl=function(l){if(l.tag===13){var u=Ks(l,134217728);if(u!==null){var f=En();Xi(u,l,134217728,f)}hy(l,134217728)}},Nf=function(l){if(l.tag===13){var u=Ba(l),f=Ks(l,u);if(f!==null){var y=En();Xi(f,l,u,y)}hy(l,u)}},Ef=function(){return ht},Cf=function(l,u){var f=ht;try{return ht=l,u()}finally{ht=f}},bn=function(l,u,f){switch(u){case"input":if(Mt(l,f),u=f.name,f.type==="radio"&&u!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var y=f[u];if(y!==l&&y.form===l.form){var N=Hf(y);if(!N)throw Error(r(90));q(y),Mt(y,N)}}}break;case"textarea":rr(l,f);break;case"select":u=f.value,u!=null&&kt(l,!!f.multiple,u,!1)}},vi=sy,yi=zo;var kV={usingClientEntryPoint:!1,Events:[Yu,tc,Hf,_n,gi,sy]},cd={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jV={bundleType:cd.bundleType,version:cd.version,rendererPackageName:cd.rendererPackageName,rendererConfig:cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Vt(l),l===null?null:l.stateNode},findFiberByHostInstance:cd.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{Co=Ap.inject(jV),Jn=Ap}catch{}}return Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kV,Un.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(u))throw Error(r(200));return bV(l,u,null,f)},Un.createRoot=function(l,u){if(!py(l))throw Error(r(299));var f=!1,y="",N=aC;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=dy(l,1,!1,null,null,f,!1,y,N),l[qs]=u.current,Hu(l.nodeType===8?l.parentNode:l),new fy(u)},Un.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Vt(u),l=l===null?null:l.stateNode,l},Un.flushSync=function(l){return zo(l)},Un.hydrate=function(l,u,f){if(!Cp(u))throw Error(r(200));return Tp(null,l,u,!0,f)},Un.hydrateRoot=function(l,u,f){if(!py(l))throw Error(r(405));var y=f!=null&&f.hydratedSources||null,N=!1,I="",B=aC;if(f!=null&&(f.unstable_strictMode===!0&&(N=!0),f.identifierPrefix!==void 0&&(I=f.identifierPrefix),f.onRecoverableError!==void 0&&(B=f.onRecoverableError)),u=iC(u,null,l,1,f??null,N,!1,I,B),l[qs]=u.current,Hu(l),y)for(l=0;l<y.length;l++)f=y[l],N=f._getVersion,N=N(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,N]:u.mutableSourceEagerHydrationData.push(f,N);return new Ep(u)},Un.render=function(l,u,f){if(!Cp(u))throw Error(r(200));return Tp(null,l,u,!1,f)},Un.unmountComponentAtNode=function(l){if(!Cp(l))throw Error(r(40));return l._reactRootContainer?(zo(function(){Tp(null,null,l,!1,function(){l._reactRootContainer=null,l[qs]=null})}),!0):!1},Un.unstable_batchedUpdates=sy,Un.unstable_renderSubtreeIntoContainer=function(l,u,f,y){if(!Cp(f))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Tp(l,u,f,!1,y)},Un.version="18.3.1-next-f1338f8080-20240426",Un}var mC;function XL(){if(mC)return vy.exports;mC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vy.exports=PV(),vy.exports}var gC;function OV(){if(gC)return Op;gC=1;var t=XL();return Op.createRoot=t.createRoot,Op.hydrateRoot=t.hydrateRoot,Op}var IV=OV();const MV=Nt(IV);var vC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},RV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],c=t[r++],d=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let g=(c&15)<<2|h>>6,w=h&63;d||(w=64,o||(g=64)),n.push(r[p],r[m],r[g],r[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new LV;const g=s<<2|c>>4;if(n.push(g),h!==64){const w=c<<4&240|h>>2;if(n.push(w),m!==64){const b=h<<6&192|m;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DV=function(t){const e=JL(t);return ZL.encodeByteArray(e,!0)},pm=function(t){return DV(t).replace(/\./g,"")},eD=function(t){try{return ZL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=()=>$V().__FIREBASE_DEFAULTS__,VV=()=>{if(typeof process>"u"||typeof vC>"u")return;const t=vC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eD(t[1]);return e&&JSON.parse(e)},$g=()=>{try{return FV()||VV()||BV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tD=t=>{var e,r;return(r=(e=$g())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},rD=t=>{const e=tD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},nD=()=>{var t;return(t=$g())===null||t===void 0?void 0:t.config},iD=t=>{var e;return(e=$g())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pm(JSON.stringify(r)),pm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function qV(){var t;const e=(t=$g())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function GV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KV(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YV(){return!qV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QV(){try{return typeof indexedDB=="object"}catch{return!1}}function XV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="FirebaseError";class Os extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=JV,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wh.prototype.create)}}class Wh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZV(s,n):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Os(i,c,n)}}function ZV(t,e){return t.replace(eB,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const eB=/\{\$([^}]+)}/g;function tB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(yC(s)&&yC(o)){if(!mm(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function yC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Sd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function rB(t,e){const r=new nB(t,e);return r.subscribe.bind(r)}class nB{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");iB(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=by),i.error===void 0&&(i.error=by),i.complete===void 0&&(i.complete=by);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iB(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function by(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class mo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new UV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oB(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:aB(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aB(t){return t===Xo?void 0:t}function oB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new sB(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ft||(ft={}));const cB={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},uB=ft.INFO,dB={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},hB=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=dB[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fj{constructor(e){this.name=e,this._logLevel=uB,this._logHandler=hB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...e),this._logHandler(this,ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...e),this._logHandler(this,ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...e),this._logHandler(this,ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...e),this._logHandler(this,ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...e),this._logHandler(this,ft.ERROR,...e)}}const fB=(t,e)=>e.some(r=>t instanceof r);let xC,bC;function pB(){return xC||(xC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mB(){return bC||(bC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aD=new WeakMap,U_=new WeakMap,oD=new WeakMap,wy=new WeakMap,Vj=new WeakMap;function gB(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(oo(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&aD.set(r,t)}).catch(()=>{}),Vj.set(e,t),e}function vB(t){if(U_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});U_.set(t,e)}let z_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return U_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return oo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yB(t){z_=t(z_)}function xB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(_y(this),e,...r);return oD.set(n,e.sort?e.sort():[e]),oo(n)}:mB().includes(t)?function(...e){return t.apply(_y(this),e),oo(aD.get(this))}:function(...e){return oo(t.apply(_y(this),e))}}function bB(t){return typeof t=="function"?xB(t):(t instanceof IDBTransaction&&vB(t),fB(t,pB())?new Proxy(t,z_):t)}function oo(t){if(t instanceof IDBRequest)return gB(t);if(wy.has(t))return wy.get(t);const e=bB(t);return e!==t&&(wy.set(t,e),Vj.set(e,t)),e}const _y=t=>Vj.get(t);function wB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=oo(o);return n&&o.addEventListener("upgradeneeded",d=>{n(oo(o.result),d.oldVersion,d.newVersion,oo(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const _B=["get","getKey","getAll","getAllKeys","count"],kB=["put","add","delete","clear"],ky=new Map;function wC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ky.get(e))return ky.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=kB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||_B.includes(r)))return;const s=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&d.done]))[0]};return ky.set(e,s),s}yB(t=>({...t,get:(e,r,n)=>wC(e,r)||t.get(e,r,n),has:(e,r)=>!!wC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(SB(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function SB(t){const e=t.getComponent();return e?.type==="VERSION"}const q_="@firebase/app",_C="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Fj("@firebase/app"),NB="@firebase/app-compat",EB="@firebase/analytics-compat",CB="@firebase/analytics",TB="@firebase/app-check-compat",AB="@firebase/app-check",PB="@firebase/auth",OB="@firebase/auth-compat",IB="@firebase/database",MB="@firebase/data-connect",RB="@firebase/database-compat",LB="@firebase/functions",DB="@firebase/functions-compat",$B="@firebase/installations",FB="@firebase/installations-compat",VB="@firebase/messaging",BB="@firebase/messaging-compat",UB="@firebase/performance",zB="@firebase/performance-compat",qB="@firebase/remote-config",WB="@firebase/remote-config-compat",HB="@firebase/storage",GB="@firebase/storage-compat",KB="@firebase/firestore",YB="@firebase/vertexai-preview",QB="@firebase/firestore-compat",XB="firebase",JB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="[DEFAULT]",ZB={[q_]:"fire-core",[NB]:"fire-core-compat",[CB]:"fire-analytics",[EB]:"fire-analytics-compat",[AB]:"fire-app-check",[TB]:"fire-app-check-compat",[PB]:"fire-auth",[OB]:"fire-auth-compat",[IB]:"fire-rtdb",[MB]:"fire-data-connect",[RB]:"fire-rtdb-compat",[LB]:"fire-fn",[DB]:"fire-fn-compat",[$B]:"fire-iid",[FB]:"fire-iid-compat",[VB]:"fire-fcm",[BB]:"fire-fcm-compat",[UB]:"fire-perf",[zB]:"fire-perf-compat",[qB]:"fire-rc",[WB]:"fire-rc-compat",[HB]:"fire-gcs",[GB]:"fire-gcs-compat",[KB]:"fire-fst",[QB]:"fire-fst-compat",[YB]:"fire-vertex","fire-js":"fire-js",[XB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,eU=new Map,H_=new Map;function kC(t,e){try{t.container.addComponent(e)}catch(r){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pl(t){const e=t.name;if(H_.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;H_.set(e,t);for(const r of gm.values())kC(r,t);for(const r of eU.values())kC(r,t);return!0}function Fg(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ys(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Wh("app","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=JB;function lD(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:W_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(r||(r=nD()),!r)throw lo.create("no-options");const s=gm.get(i);if(s){if(mm(r,s.options)&&mm(n,s.config))return s;throw lo.create("duplicate-app",{appName:i})}const o=new lB(i);for(const d of H_.values())o.addComponent(d);const c=new rU(r,n,o);return gm.set(i,c),c}function Bj(t=W_){const e=gm.get(t);if(!e&&t===W_&&nD())return lD();if(!e)throw lo.create("no-app",{appName:t});return e}function ws(t,e,r){var n;let i=(n=ZB[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(c.join(" "));return}pl(new mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU="firebase-heartbeat-database",iU=1,Kd="firebase-heartbeat-store";let jy=null;function cD(){return jy||(jy=wB(nU,iU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(r){console.warn(r)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),jy}async function sU(t){try{const r=(await cD()).transaction(Kd),n=await r.objectStore(Kd).get(uD(t));return await r.done,n}catch(e){if(e instanceof Os)ca.warn(e.message);else{const r=lo.create("idb-get",{originalErrorMessage:e?.message});ca.warn(r.message)}}}async function jC(t,e){try{const n=(await cD()).transaction(Kd,"readwrite");await n.objectStore(Kd).put(e,uD(t)),await n.done}catch(r){if(r instanceof Os)ca.warn(r.message);else{const n=lo.create("idb-set",{originalErrorMessage:r?.message});ca.warn(n.message)}}}function uD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=1024,oU=30*24*60*60*1e3;class lU{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uU(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=oU}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ca.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=SC(),{heartbeatsToSend:n,unsentEntries:i}=cU(this._heartbeatsCache.heartbeats),s=pm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ca.warn(r),""}}}function SC(){return new Date().toISOString().substring(0,10)}function cU(t,e=aU){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NC(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),NC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QV()?XV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sU(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return jC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return jC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NC(t){return pm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){pl(new mo("platform-logger",e=>new jB(e),"PRIVATE")),pl(new mo("heartbeat",e=>new lU(e),"PRIVATE")),ws(q_,_C,t),ws(q_,_C,"esm2017"),ws("fire-js","")}dU("");var hU="firebase",fU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(hU,fU,"app");function Uj(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function dD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pU=dD,hD=new Wh("auth","Firebase",dD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Fj("@firebase/auth");function mU(t,...e){vm.logLevel<=ft.WARN&&vm.warn(`Auth (${El}): ${t}`,...e)}function rm(t,...e){vm.logLevel<=ft.ERROR&&vm.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,...e){throw zj(t,...e)}function _s(t,...e){return zj(t,...e)}function fD(t,e,r){const n=Object.assign(Object.assign({},pU()),{[e]:r});return new Wh("auth","Firebase",n).create(e,{appName:t.name})}function aa(t){return fD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return hD.create(t,...e)}function Qe(t,e,...r){if(!t)throw zj(e,...r)}function ea(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rm(e),new Error(e)}function ua(t,e){t||ea(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gU(){return EC()==="http:"||EC()==="https:"}function EC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gU()||HV()||"connection"in navigator)?navigator.onLine:!0}function yU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,r){this.shortDelay=e,this.longDelay=r,ua(r>e,"Short delay should be less than long delay!"),this.isMobile=zV()||GV()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){ua(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Gh(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bo(t,e,r,n,i={}){return mD(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=Hh(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},s);return WV()||(h.referrerPolicy="no-referrer"),pD.fetch()(gD(t,t.config.apiHost,r,c),h)})}async function mD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},xU),e);try{const i=new _U(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ip(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Ip(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw Ip(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw fD(t,p,h);is(t,p)}}catch(i){if(i instanceof Os)throw i;is(t,"network-request-failed",{message:String(i)})}}async function Kh(t,e,r,n,i={}){const s=await bo(t,e,r,n,i);return"mfaPendingCredential"in s&&is(t,"multi-factor-auth-required",{_serverResponse:s}),s}function gD(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?qj(t.config,i):`${t.config.apiScheme}://${i}`}function wU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(_s(this.auth,"network-request-failed")),bU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ip(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=_s(t,e,n);return i.customData._tokenResponse=r,i}function CC(t){return t!==void 0&&t.enterprise!==void 0}class kU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return wU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jU(t,e){return bo(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e){return bo(t,"POST","/v1/accounts:delete",e)}async function vD(t,e){return bo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NU(t,e=!1){const r=Xt(t),n=await r.getIdToken(e),i=Wj(n);Qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:n,authTime:Rd(Sy(i.auth_time)),issuedAtTime:Rd(Sy(i.iat)),expirationTime:Rd(Sy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Sy(t){return Number(t)*1e3}function Wj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return rm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eD(r);return i?JSON.parse(i):(rm("Failed to decode base64 JWT payload"),null)}catch(i){return rm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function TC(t){const e=Wj(t);return Qe(e,"internal-error"),Qe(typeof e.exp<"u","internal-error"),Qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Os&&EU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function EU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Yd(t,vD(r,{idToken:n}));Qe(i?.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yD(s.providerUserInfo):[],c=AU(t.providerData,o),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!c?.length,p=d?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new K_(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function TU(t){const e=Xt(t);await ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AU(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function yD(t){return t.map(e=>{var{providerId:r}=e,n=Uj(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,e){const r=await mD(t,{},async()=>{const n=Hh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gD(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",pD.fetch()(o,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function OU(t,e){return bo(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qe(e.idToken,"internal-error"),Qe(typeof e.idToken<"u","internal-error"),Qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Qe(e.length!==0,"internal-error");const r=TC(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await PU(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new Ac;return n&&(Qe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Qe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ac,this.toJSON())}_performRefresh(){return ea("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,e){Qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ta{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Uj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new K_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Yd(this,this.stsTokenManager.getToken(this.auth,e));return Qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return NU(this,e)}reload(){return TU(this)}_assign(e){this!==e&&(Qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ym(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await Yd(this,SU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,o,c,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(i=r.email)!==null&&i!==void 0?i:void 0,w=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(c=r.tenantId)!==null&&c!==void 0?c:void 0,x=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=r.createdAt)!==null&&h!==void 0?h:void 0,j=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:P,isAnonymous:S,providerData:E,stsTokenManager:T}=r;Qe(A&&T,e,"internal-error");const M=Ac.fromJSON(this.name,T);Qe(typeof A=="string",e,"internal-error"),Wa(m,e.name),Wa(g,e.name),Qe(typeof P=="boolean",e,"internal-error"),Qe(typeof S=="boolean",e,"internal-error"),Wa(w,e.name),Wa(b,e.name),Wa(_,e.name),Wa(x,e.name),Wa(C,e.name),Wa(j,e.name);const L=new ta({uid:A,auth:e,email:g,emailVerified:P,displayName:m,isAnonymous:S,photoURL:b,phoneNumber:w,tenantId:_,stsTokenManager:M,createdAt:C,lastLoginAt:j});return E&&Array.isArray(E)&&(L.providerData=E.map(R=>Object.assign({},R))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ac;i.updateFromServerResponse(r);const s=new ta({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ym(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Qe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ac;c.updateFromIdToken(n);const d=new ta({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new K_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Map;function ra(t){ua(t instanceof Function,"Expected a class definition");let e=AC.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}xD.type="NONE";const PC=xD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,r){return`firebase:${t}:${e}:${r}`}class Pc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=nm(this.userKey,i.apiKey,s),this.fullPersistenceKey=nm("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Pc(ra(PC),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ra(PC);const o=nm(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(o);if(p){const m=ta._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Pc(s,e,n):(s=d[0],c&&await s._set(o,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Pc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SD(e))return"Blackberry";if(ND(e))return"Webos";if(wD(e))return"Safari";if((e.includes("chrome/")||_D(e))&&!e.includes("edge/"))return"Chrome";if(jD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function bD(t=yn()){return/firefox\//i.test(t)}function wD(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _D(t=yn()){return/crios\//i.test(t)}function kD(t=yn()){return/iemobile/i.test(t)}function jD(t=yn()){return/android/i.test(t)}function SD(t=yn()){return/blackberry/i.test(t)}function ND(t=yn()){return/webos/i.test(t)}function Hj(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IU(t=yn()){var e;return Hj(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MU(){return KV()&&document.documentMode===10}function ED(t=yn()){return Hj(t)||jD(t)||ND(t)||SD(t)||/windows phone/i.test(t)||kD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e=[]){let r;switch(t){case"Browser":r=OC(yn());break;case"Worker":r=`${OC(yn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${El}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,c)=>{try{const d=e(s);o(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e={}){return bo(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=6;class $U{constructor(e){var r,n,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:DU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IC(this),this.idTokenSubscription=new IC(this),this.beforeStateQueue=new RU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ra(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Pc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await vD(this,{idToken:e}),n=await ta._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ys(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ym(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(aa(this));const r=e?Xt(e):null;return r&&Qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LU(this),r=new $U(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await OU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ra(e)||this._popupRedirectResolver;Qe(r,this,"argument-error"),this.redirectPersistenceManager=await Pc.create(this,[ra(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&mU(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Cl(t){return Xt(t)}class IC{constructor(e){this.auth=e,this.observer=null,this.addObserver=rB(r=>this.observer=r)}get next(){return Qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VU(t){Vg=t}function TD(t){return Vg.loadJS(t)}function BU(){return Vg.recaptchaEnterpriseScript}function UU(){return Vg.gapiScript}function zU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qU="recaptcha-enterprise",WU="NO_RECAPTCHA";class HU{constructor(e){this.type=qU,this.auth=Cl(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{jU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new kU(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(s,o,c){const d=window.grecaptcha;CC(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(WU)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(c=>{if(!r&&CC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=BU();d.length!==0&&(d+=c),TD(d).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function MC(t,e,r,n=!1){const i=new HU(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Y_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await MC(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await MC(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e){const r=Fg(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(mm(s,e??{}))return i;is(i,"already-initialized")}return r.initialize({options:e})}function KU(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ra);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function YU(t,e,r){const n=Cl(t);Qe(n._canInitEmulator,n,"emulator-config-failed"),Qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=AD(e),{host:o,port:c}=QU(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),XU()}function AD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QU(t){const e=AD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:RC(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:RC(o)}}}function RC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ea("not implemented")}_getIdTokenResponse(e){return ea("not implemented")}_linkToIdToken(e,r){return ea("not implemented")}_getReauthenticationResolver(e){return ea("not implemented")}}async function JU(t,e){return bo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){return Kh(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function t9(t,e){return Kh(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Gj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Qd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Qd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,r,"signInWithPassword",ZU);case"emailLink":return e9(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Y_(e,n,"signUpPassword",JU);case"emailLink":return t9(e,{idToken:r,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t,e){return Kh(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="http://localhost";class ml extends Gj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ml(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):is("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Uj(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ml(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Oc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Oc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Oc(e,r)}buildRequest(){const e={requestUri:r9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Hh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i9(t){const e=Sd(Nd(t)).link,r=e?Sd(Nd(e)).deep_link_id:null,n=Sd(Nd(t)).deep_link_id;return(n?Sd(Nd(n)).link:null)||n||r||e||t}class Kj{constructor(e){var r,n,i,s,o,c;const d=Sd(Nd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=n9((i=d.mode)!==null&&i!==void 0?i:null);Qe(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=i9(e);try{return new Kj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(e,r){return Qd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Kj.parseLink(r);return Qe(n,"argument-error"),Qd._fromEmailAndCode(e,n.code,n.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends PD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Yh{constructor(){super("facebook.com")}static credential(e){return ml._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ml._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ja.credential(r,n)}catch{return null}}}Ja.GOOGLE_SIGN_IN_METHOD="google.com";Ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Yh{constructor(){super("github.com")}static credential(e){return ml._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Yh{constructor(){super("twitter.com")}static credential(e,r){return ml._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return eo.credential(r,n)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return Kh(t,"POST","/v1/accounts:signUp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ta._fromIdTokenResponse(e,n,i),o=LC(n);return new gl({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=LC(n);return new gl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function LC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Os{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,xm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new xm(e,r,n,i)}}function OD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xm._fromErrorAndOperation(t,s,e,n):s})}async function a9(t,e,r=!1){const n=await Yd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return gl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e,r=!1){const{auth:n}=t;if(ys(n.app))return Promise.reject(aa(n));const i="reauthenticate";try{const s=await Yd(t,OD(n,i,e,t),r);Qe(s.idToken,n,"internal-error");const o=Wj(s.idToken);Qe(o,n,"internal-error");const{sub:c}=o;return Qe(t.uid===c,n,"user-mismatch"),gl._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&is(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e,r=!1){if(ys(t.app))return Promise.reject(aa(t));const n="signIn",i=await OD(t,n,e),s=await gl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function l9(t,e){return ID(Cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t){const e=Cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c9(t,e,r){if(ys(t.app))return Promise.reject(aa(t));const n=Cl(t),o=await Y_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s9).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&MD(t),d}),c=await gl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function u9(t,e,r){return ys(t.app)?Promise.reject(aa(t)):l9(Xt(t),yu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&MD(t),n})}function d9(t,e,r,n){return Xt(t).onIdTokenChanged(e,r,n)}function h9(t,e,r){return Xt(t).beforeAuthStateChanged(e,r)}function f9(t,e,r,n){return Xt(t).onAuthStateChanged(e,r,n)}function p9(t){return Xt(t).signOut()}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=1e3,g9=10;class LD extends RD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ED(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);MU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},m9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}LD.type="LOCAL";const v9=LD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends RD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}DD.type="SESSION";const $D=DD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Bg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(o).map(async h=>h(r.origin,s)),d=await y9(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,d)=>{const h=Yj("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(){return window}function b9(t){ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function w9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k9(){return FD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebaseLocalStorageDb",j9=1,wm="firebaseLocalStorage",BD="fbase_key";class Qh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ug(t,e){return t.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function S9(){const t=indexedDB.deleteDatabase(VD);return new Qh(t).toPromise()}function Q_(){const t=indexedDB.open(VD,j9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(wm,{keyPath:BD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(wm)?e(n):(n.close(),await S9(),e(await Q_()))})})}async function DC(t,e,r){const n=Ug(t,!0).put({[BD]:e,value:r});return new Qh(n).toPromise()}async function N9(t,e){const r=Ug(t,!1).get(e),n=await new Qh(r).toPromise();return n===void 0?null:n.value}function $C(t,e){const r=Ug(t,!0).delete(e);return new Qh(r).toPromise()}const E9=800,C9=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>C9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bg._getInstance(k9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await w9(),!this.activeServiceWorker)return;this.sender=new x9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q_();return await DC(e,bm,"1"),await $C(e,bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>DC(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>N9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$C(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ug(i,!1).getAll();return new Qh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const T9=UD;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e){return e?ra(e):(Qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj extends Gj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Oc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Oc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function P9(t){return ID(t.auth,new Qj(t),t.bypassAuthState)}function O9(t){const{auth:e,user:r}=t;return Qe(r,e,"internal-error"),o9(r,new Qj(t),t.bypassAuthState)}async function I9(t){const{auth:e,user:r}=t;return Qe(r,e,"internal-error"),a9(r,new Qj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P9;case"linkViaPopup":case"linkViaRedirect":return I9;case"reauthViaPopup":case"reauthViaRedirect":return O9;default:is(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new Gh(2e3,1e4);class _c extends zD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qe(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=Yj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M9.get())};e()}}_c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="pendingRedirect",im=new Map;class L9 extends zD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=im.get(this.auth._key());if(!e){try{const n=await D9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}im.set(this.auth._key(),e)}return this.bypassAuthState||im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D9(t,e){const r=V9(e),n=F9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function $9(t,e){im.set(t._key(),e)}function F9(t){return ra(t._redirectPersistence)}function V9(t){return nm(R9,t.config.apiKey,t.name)}async function B9(t,e,r=!1){if(ys(t.app))return Promise.reject(aa(t));const n=Cl(t),i=A9(n,e),o=await new L9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=10*60*1e3;class z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(_s(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U9&&this.cachedEventUids.clear(),this.cachedEventUids.has(FC(e))}saveEventToCache(e){this.cachedEventUids.add(FC(e)),this.lastProcessedEventTime=Date.now()}}function FC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function q9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t,e={}){return bo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G9=/^https?/;async function K9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W9(t);for(const r of e)try{if(Y9(r))return}catch{}is(t,"unauthorized-domain")}function Y9(t){const e=G_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!G9.test(r))return!1;if(H9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=new Gh(3e4,6e4);function VC(){const t=ks().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function X9(t){return new Promise((e,r)=>{var n,i,s;function o(){VC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VC(),r(_s(t,"network-request-failed"))},timeout:Q9.get()})}if(!((i=(n=ks().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ks().gapi)===null||s===void 0)&&s.load)o();else{const c=zU("iframefcb");return ks()[c]=()=>{gapi.load?o():r(_s(t,"network-request-failed"))},TD(`${UU()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw sm=null,e})}let sm=null;function J9(t){return sm=sm||X9(t),sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Gh(5e3,15e3),e8="__/auth/iframe",t8="emulator/auth/iframe",r8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i8(t){const e=t.config;Qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?qj(e,t8):`https://${t.config.authDomain}/${e8}`,n={apiKey:e.apiKey,appName:t.name,v:El},i=n8.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Hh(n).slice(1)}`}async function s8(t){const e=await J9(t),r=ks().gapi;return Qe(r,t,"internal-error"),e.open({where:document.body,url:i8(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r8,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=_s(t,"network-request-failed"),c=ks().setTimeout(()=>{s(o)},Z9.get());function d(){ks().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o8=500,l8=600,c8="_blank",u8="http://localhost";class BC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d8(t,e,r,n=o8,i=l8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},a8),{width:n.toString(),height:i.toString(),top:s,left:o}),h=yn().toLowerCase();r&&(c=_D(h)?c8:r),bD(h)&&(e=e||u8,d.scrollbars="yes");const p=Object.entries(d).reduce((g,[w,b])=>`${g}${w}=${b},`,"");if(IU(h)&&c!=="_self")return h8(e||"",c),new BC(null);const m=window.open(e||"",c,p);Qe(m,t,"popup-blocked");try{m.focus()}catch{}return new BC(m)}function h8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="__/auth/handler",p8="emulator/auth/handler",m8=encodeURIComponent("fac");async function UC(t,e,r,n,i,s){Qe(t.config.authDomain,t,"auth-domain-config-required"),Qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:El,eventId:i};if(e instanceof PD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof Yh){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${m8}=${encodeURIComponent(d)}`:"";return`${g8(t)}?${Hh(c).slice(1)}${h}`}function g8({config:t}){return t.emulator?qj(t,p8):`https://${t.authDomain}/${f8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="webStorageSupport";class v8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$D,this._completeRedirectFn=B9,this._overrideRedirectResult=$9}async _openPopup(e,r,n,i){var s;ua((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await UC(e,r,n,G_(),i);return d8(e,o,Yj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await UC(e,r,n,G_(),i);return b9(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(ua(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await s8(e),n=new z9(e);return r.register("authEvent",i=>(Qe(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ny,{type:Ny},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Ny];o!==void 0&&r(!!o),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=K9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ED()||wD()||Hj()}}const y8=v8;var zC="@firebase/auth",qC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w8(t){pl(new mo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Qe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CD(t)},h=new FU(n,i,s,d);return KU(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),pl(new mo("auth-internal",e=>{const r=Cl(e.getProvider("auth").getImmediate());return(n=>new x8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(zC,qC,b8(t)),ws(zC,qC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=5*60,k8=iD("authIdTokenMaxAge")||_8;let WC=null;const j8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>k8)return;const i=r?.token;WC!==i&&(WC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WD(t=Bj()){const e=Fg(t,"auth");if(e.isInitialized())return e.getImmediate();const r=GU(t,{popupRedirectResolver:y8,persistence:[T9,v9,$D]}),n=iD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=j8(s.toString());h9(r,o,()=>o(r.currentUser)),d9(r,c=>o(c))}}const i=tD("auth");return i&&YU(r,`http://${i}`),r}function S8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}VU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=_s("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",S8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w8("Browser");var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cl,HD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,M){function L(){}L.prototype=M.prototype,T.D=M.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(R,D,V){for(var F=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)F[Z-2]=arguments[Z];return M.prototype[D].apply(R,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,M,L){L||(L=0);var R=Array(16);if(typeof M=="string")for(var D=0;16>D;++D)R[D]=M.charCodeAt(L++)|M.charCodeAt(L++)<<8|M.charCodeAt(L++)<<16|M.charCodeAt(L++)<<24;else for(D=0;16>D;++D)R[D]=M[L++]|M[L++]<<8|M[L++]<<16|M[L++]<<24;M=T.g[0],L=T.g[1],D=T.g[2];var V=T.g[3],F=M+(V^L&(D^V))+R[0]+3614090360&4294967295;M=L+(F<<7&4294967295|F>>>25),F=V+(D^M&(L^D))+R[1]+3905402710&4294967295,V=M+(F<<12&4294967295|F>>>20),F=D+(L^V&(M^L))+R[2]+606105819&4294967295,D=V+(F<<17&4294967295|F>>>15),F=L+(M^D&(V^M))+R[3]+3250441966&4294967295,L=D+(F<<22&4294967295|F>>>10),F=M+(V^L&(D^V))+R[4]+4118548399&4294967295,M=L+(F<<7&4294967295|F>>>25),F=V+(D^M&(L^D))+R[5]+1200080426&4294967295,V=M+(F<<12&4294967295|F>>>20),F=D+(L^V&(M^L))+R[6]+2821735955&4294967295,D=V+(F<<17&4294967295|F>>>15),F=L+(M^D&(V^M))+R[7]+4249261313&4294967295,L=D+(F<<22&4294967295|F>>>10),F=M+(V^L&(D^V))+R[8]+1770035416&4294967295,M=L+(F<<7&4294967295|F>>>25),F=V+(D^M&(L^D))+R[9]+2336552879&4294967295,V=M+(F<<12&4294967295|F>>>20),F=D+(L^V&(M^L))+R[10]+4294925233&4294967295,D=V+(F<<17&4294967295|F>>>15),F=L+(M^D&(V^M))+R[11]+2304563134&4294967295,L=D+(F<<22&4294967295|F>>>10),F=M+(V^L&(D^V))+R[12]+1804603682&4294967295,M=L+(F<<7&4294967295|F>>>25),F=V+(D^M&(L^D))+R[13]+4254626195&4294967295,V=M+(F<<12&4294967295|F>>>20),F=D+(L^V&(M^L))+R[14]+2792965006&4294967295,D=V+(F<<17&4294967295|F>>>15),F=L+(M^D&(V^M))+R[15]+1236535329&4294967295,L=D+(F<<22&4294967295|F>>>10),F=M+(D^V&(L^D))+R[1]+4129170786&4294967295,M=L+(F<<5&4294967295|F>>>27),F=V+(L^D&(M^L))+R[6]+3225465664&4294967295,V=M+(F<<9&4294967295|F>>>23),F=D+(M^L&(V^M))+R[11]+643717713&4294967295,D=V+(F<<14&4294967295|F>>>18),F=L+(V^M&(D^V))+R[0]+3921069994&4294967295,L=D+(F<<20&4294967295|F>>>12),F=M+(D^V&(L^D))+R[5]+3593408605&4294967295,M=L+(F<<5&4294967295|F>>>27),F=V+(L^D&(M^L))+R[10]+38016083&4294967295,V=M+(F<<9&4294967295|F>>>23),F=D+(M^L&(V^M))+R[15]+3634488961&4294967295,D=V+(F<<14&4294967295|F>>>18),F=L+(V^M&(D^V))+R[4]+3889429448&4294967295,L=D+(F<<20&4294967295|F>>>12),F=M+(D^V&(L^D))+R[9]+568446438&4294967295,M=L+(F<<5&4294967295|F>>>27),F=V+(L^D&(M^L))+R[14]+3275163606&4294967295,V=M+(F<<9&4294967295|F>>>23),F=D+(M^L&(V^M))+R[3]+4107603335&4294967295,D=V+(F<<14&4294967295|F>>>18),F=L+(V^M&(D^V))+R[8]+1163531501&4294967295,L=D+(F<<20&4294967295|F>>>12),F=M+(D^V&(L^D))+R[13]+2850285829&4294967295,M=L+(F<<5&4294967295|F>>>27),F=V+(L^D&(M^L))+R[2]+4243563512&4294967295,V=M+(F<<9&4294967295|F>>>23),F=D+(M^L&(V^M))+R[7]+1735328473&4294967295,D=V+(F<<14&4294967295|F>>>18),F=L+(V^M&(D^V))+R[12]+2368359562&4294967295,L=D+(F<<20&4294967295|F>>>12),F=M+(L^D^V)+R[5]+4294588738&4294967295,M=L+(F<<4&4294967295|F>>>28),F=V+(M^L^D)+R[8]+2272392833&4294967295,V=M+(F<<11&4294967295|F>>>21),F=D+(V^M^L)+R[11]+1839030562&4294967295,D=V+(F<<16&4294967295|F>>>16),F=L+(D^V^M)+R[14]+4259657740&4294967295,L=D+(F<<23&4294967295|F>>>9),F=M+(L^D^V)+R[1]+2763975236&4294967295,M=L+(F<<4&4294967295|F>>>28),F=V+(M^L^D)+R[4]+1272893353&4294967295,V=M+(F<<11&4294967295|F>>>21),F=D+(V^M^L)+R[7]+4139469664&4294967295,D=V+(F<<16&4294967295|F>>>16),F=L+(D^V^M)+R[10]+3200236656&4294967295,L=D+(F<<23&4294967295|F>>>9),F=M+(L^D^V)+R[13]+681279174&4294967295,M=L+(F<<4&4294967295|F>>>28),F=V+(M^L^D)+R[0]+3936430074&4294967295,V=M+(F<<11&4294967295|F>>>21),F=D+(V^M^L)+R[3]+3572445317&4294967295,D=V+(F<<16&4294967295|F>>>16),F=L+(D^V^M)+R[6]+76029189&4294967295,L=D+(F<<23&4294967295|F>>>9),F=M+(L^D^V)+R[9]+3654602809&4294967295,M=L+(F<<4&4294967295|F>>>28),F=V+(M^L^D)+R[12]+3873151461&4294967295,V=M+(F<<11&4294967295|F>>>21),F=D+(V^M^L)+R[15]+530742520&4294967295,D=V+(F<<16&4294967295|F>>>16),F=L+(D^V^M)+R[2]+3299628645&4294967295,L=D+(F<<23&4294967295|F>>>9),F=M+(D^(L|~V))+R[0]+4096336452&4294967295,M=L+(F<<6&4294967295|F>>>26),F=V+(L^(M|~D))+R[7]+1126891415&4294967295,V=M+(F<<10&4294967295|F>>>22),F=D+(M^(V|~L))+R[14]+2878612391&4294967295,D=V+(F<<15&4294967295|F>>>17),F=L+(V^(D|~M))+R[5]+4237533241&4294967295,L=D+(F<<21&4294967295|F>>>11),F=M+(D^(L|~V))+R[12]+1700485571&4294967295,M=L+(F<<6&4294967295|F>>>26),F=V+(L^(M|~D))+R[3]+2399980690&4294967295,V=M+(F<<10&4294967295|F>>>22),F=D+(M^(V|~L))+R[10]+4293915773&4294967295,D=V+(F<<15&4294967295|F>>>17),F=L+(V^(D|~M))+R[1]+2240044497&4294967295,L=D+(F<<21&4294967295|F>>>11),F=M+(D^(L|~V))+R[8]+1873313359&4294967295,M=L+(F<<6&4294967295|F>>>26),F=V+(L^(M|~D))+R[15]+4264355552&4294967295,V=M+(F<<10&4294967295|F>>>22),F=D+(M^(V|~L))+R[6]+2734768916&4294967295,D=V+(F<<15&4294967295|F>>>17),F=L+(V^(D|~M))+R[13]+1309151649&4294967295,L=D+(F<<21&4294967295|F>>>11),F=M+(D^(L|~V))+R[4]+4149444226&4294967295,M=L+(F<<6&4294967295|F>>>26),F=V+(L^(M|~D))+R[11]+3174756917&4294967295,V=M+(F<<10&4294967295|F>>>22),F=D+(M^(V|~L))+R[2]+718787259&4294967295,D=V+(F<<15&4294967295|F>>>17),F=L+(V^(D|~M))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+M&4294967295,T.g[1]=T.g[1]+(D+(F<<21&4294967295|F>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}n.prototype.u=function(T,M){M===void 0&&(M=T.length);for(var L=M-this.blockSize,R=this.B,D=this.h,V=0;V<M;){if(D==0)for(;V<=L;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<M;)if(R[D++]=T.charCodeAt(V++),D==this.blockSize){i(this,R),D=0;break}}else for(;V<M;)if(R[D++]=T[V++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=M},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var M=1;M<T.length-8;++M)T[M]=0;var L=8*this.o;for(M=T.length-8;M<T.length;++M)T[M]=L&255,L/=256;for(this.u(T),T=Array(16),M=L=0;4>M;++M)for(var R=0;32>R;R+=8)T[L++]=this.g[M]>>>R&255;return T};function s(T,M){var L=c;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=M(T)}function o(T,M){this.h=M;for(var L=[],R=!0,D=T.length-1;0<=D;D--){var V=T[D]|0;R&&V==M||(L[D]=V,R=!1)}this.g=L}var c={};function d(T){return-128<=T&&128>T?s(T,function(M){return new o([M|0],0>M?-1:0)}):new o([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return x(h(-T));for(var M=[],L=1,R=0;T>=L;R++)M[R]=T/L|0,L*=4294967296;return new o(M,0)}function p(T,M){if(T.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T.charAt(0)=="-")return x(p(T.substring(1),M));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(M,8)),R=m,D=0;D<T.length;D+=8){var V=Math.min(8,T.length-D),F=parseInt(T.substring(D,D+V),M);8>V?(V=h(Math.pow(M,V)),R=R.j(V).add(h(F))):(R=R.j(L),R=R.add(h(F)))}return R}var m=d(0),g=d(1),w=d(16777216);t=o.prototype,t.m=function(){if(_(this))return-x(this).m();for(var T=0,M=1,L=0;L<this.g.length;L++){var R=this.i(L);T+=(0<=R?R:4294967296+R)*M,M*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(_(this))return"-"+x(this).toString(T);for(var M=h(Math.pow(T,6)),L=this,R="";;){var D=P(L,M).g;L=C(L,D.j(M));var V=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=D,b(L))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var M=0;M<T.g.length;M++)if(T.g[M]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=C(this,T),_(T)?-1:b(T)?0:1};function x(T){for(var M=T.g.length,L=[],R=0;R<M;R++)L[R]=~T.g[R];return new o(L,~T.h).add(g)}t.abs=function(){return _(this)?x(this):this},t.add=function(T){for(var M=Math.max(this.g.length,T.g.length),L=[],R=0,D=0;D<=M;D++){var V=R+(this.i(D)&65535)+(T.i(D)&65535),F=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);R=F>>>16,V&=65535,F&=65535,L[D]=F<<16|V}return new o(L,L[L.length-1]&-2147483648?-1:0)};function C(T,M){return T.add(x(M))}t.j=function(T){if(b(this)||b(T))return m;if(_(this))return _(T)?x(this).j(x(T)):x(x(this).j(T));if(_(T))return x(this.j(x(T)));if(0>this.l(w)&&0>T.l(w))return h(this.m()*T.m());for(var M=this.g.length+T.g.length,L=[],R=0;R<2*M;R++)L[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<T.g.length;D++){var V=this.i(R)>>>16,F=this.i(R)&65535,Z=T.i(D)>>>16,te=T.i(D)&65535;L[2*R+2*D]+=F*te,j(L,2*R+2*D),L[2*R+2*D+1]+=V*te,j(L,2*R+2*D+1),L[2*R+2*D+1]+=F*Z,j(L,2*R+2*D+1),L[2*R+2*D+2]+=V*Z,j(L,2*R+2*D+2)}for(R=0;R<M;R++)L[R]=L[2*R+1]<<16|L[2*R];for(R=M;R<2*M;R++)L[R]=0;return new o(L,0)};function j(T,M){for(;(T[M]&65535)!=T[M];)T[M+1]+=T[M]>>>16,T[M]&=65535,M++}function A(T,M){this.g=T,this.h=M}function P(T,M){if(b(M))throw Error("division by zero");if(b(T))return new A(m,m);if(_(T))return M=P(x(T),M),new A(x(M.g),x(M.h));if(_(M))return M=P(T,x(M)),new A(x(M.g),M.h);if(30<T.g.length){if(_(T)||_(M))throw Error("slowDivide_ only works with positive integers.");for(var L=g,R=M;0>=R.l(T);)L=S(L),R=S(R);var D=E(L,1),V=E(R,1);for(R=E(R,2),L=E(L,2);!b(R);){var F=V.add(R);0>=F.l(T)&&(D=D.add(L),V=F),R=E(R,1),L=E(L,1)}return M=C(T,D.j(M)),new A(D,M)}for(D=m;0<=T.l(M);){for(L=Math.max(1,Math.floor(T.m()/M.m())),R=Math.ceil(Math.log(L)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=h(L),F=V.j(M);_(F)||0<F.l(T);)L-=R,V=h(L),F=V.j(M);b(V)&&(V=g),D=D.add(V),T=C(T,F)}return new A(D,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var M=Math.max(this.g.length,T.g.length),L=[],R=0;R<M;R++)L[R]=this.i(R)&T.i(R);return new o(L,this.h&T.h)},t.or=function(T){for(var M=Math.max(this.g.length,T.g.length),L=[],R=0;R<M;R++)L[R]=this.i(R)|T.i(R);return new o(L,this.h|T.h)},t.xor=function(T){for(var M=Math.max(this.g.length,T.g.length),L=[],R=0;R<M;R++)L[R]=this.i(R)^T.i(R);return new o(L,this.h^T.h)};function S(T){for(var M=T.g.length+1,L=[],R=0;R<M;R++)L[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(L,T.h)}function E(T,M){var L=M>>5;M%=32;for(var R=T.g.length-L,D=[],V=0;V<R;V++)D[V]=0<M?T.i(V+L)>>>M|T.i(V+L+1)<<32-M:T.i(V+L);return new o(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,HD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,cl=o}).apply(typeof HC<"u"?HC:typeof self<"u"?self:typeof window<"u"?window:{});var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GD,Ed,KD,am,X_,YD,QD,XD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,O,$){return v==Array.prototype||v==Object.prototype||(v[O]=$.value),v};function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mp=="object"&&Mp];for(var O=0;O<v.length;++O){var $=v[O];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var n=r(this);function i(v,O){if(O)e:{var $=n;v=v.split(".");for(var U=0;U<v.length-1;U++){var ce=v[U];if(!(ce in $))break e;$=$[ce]}v=v[v.length-1],U=$[v],O=O(U),O!=U&&O!=null&&e($,v,{configurable:!0,writable:!0,value:O})}}function s(v,O){v instanceof String&&(v+="");var $=0,U=!1,ce={next:function(){if(!U&&$<v.length){var ye=$++;return{value:O(ye,v[ye]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(v){return v||function(){return s(this,function(O,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(v){var O=typeof v;return O=O!="object"?O:v?Array.isArray(v)?"array":O:"null",O=="array"||O=="object"&&typeof v.length=="number"}function h(v){var O=typeof v;return O=="object"&&v!=null||O=="function"}function p(v,O,$){return v.call.apply(v.bind,arguments)}function m(v,O,$){if(!v)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,U),v.apply(O,ce)}}return function(){return v.apply(O,arguments)}}function g(v,O,$){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function w(v,O){var $=Array.prototype.slice.call(arguments,1);return function(){var U=$.slice();return U.push.apply(U,arguments),v.apply(this,U)}}function b(v,O){function $(){}$.prototype=O.prototype,v.aa=O.prototype,v.prototype=new $,v.prototype.constructor=v,v.Qb=function(U,ce,ye){for(var Pe=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)Pe[Ct-2]=arguments[Ct];return O.prototype[ce].apply(U,Pe)}}function _(v){const O=v.length;if(0<O){const $=Array(O);for(let U=0;U<O;U++)$[U]=v[U];return $}return[]}function x(v,O){for(let $=1;$<arguments.length;$++){const U=arguments[$];if(d(U)){const ce=v.length||0,ye=U.length||0;v.length=ce+ye;for(let Pe=0;Pe<ye;Pe++)v[ce+Pe]=U[Pe]}else v.push(U)}}class C{constructor(O,$){this.i=O,this.j=$,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function j(v){return/^[\s\xa0]*$/.test(v)}function A(){var v=c.navigator;return v&&(v=v.userAgent)?v:""}function P(v){return P[" "](v),v}P[" "]=function(){};var S=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function E(v,O,$){for(const U in v)O.call($,v[U],U,v)}function T(v,O){for(const $ in v)O.call(void 0,v[$],$,v)}function M(v){const O={};for(const $ in v)O[$]=v[$];return O}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(v,O){let $,U;for(let ce=1;ce<arguments.length;ce++){U=arguments[ce];for($ in U)v[$]=U[$];for(let ye=0;ye<L.length;ye++)$=L[ye],Object.prototype.hasOwnProperty.call(U,$)&&(v[$]=U[$])}}function D(v){var O=1;v=v.split(":");const $=[];for(;0<O&&v.length;)$.push(v.shift()),O--;return v.length&&$.push(v.join(":")),$}function V(v){c.setTimeout(()=>{throw v},0)}function F(){var v=Y;let O=null;return v.g&&(O=v.g,v.g=v.g.next,v.g||(v.h=null),O.next=null),O}class Z{constructor(){this.h=this.g=null}add(O,$){const U=te.get();U.set(O,$),this.h?this.h.next=U:this.g=U,this.h=U}}var te=new C(()=>new J,v=>v.reset());class J{constructor(){this.next=this.g=this.h=null}set(O,$){this.h=O,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,K=!1,Y=new Z,re=()=>{const v=c.Promise.resolve(void 0);ee=()=>{v.then(W)}};var W=()=>{for(var v;v=F();){try{v.h.call(v.g)}catch($){V($)}var O=te;O.j(v),100>O.h&&(O.h++,v.next=O.g,O.g=v)}K=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(v,O){this.type=v,this.g=this.target=O,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var v=!1,O=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const $=()=>{};c.addEventListener("test",$,O),c.removeEventListener("test",$,O)}catch{}return v}();function X(v,O){if(H.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var $=this.type=v.type,U=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=O,O=v.relatedTarget){if(S){e:{try{P(O.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(O=null)}}else $=="mouseover"?O=v.fromElement:$=="mouseout"&&(O=v.toElement);this.relatedTarget=O,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ue[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&X.aa.h.call(this)}}b(X,H);var ue={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),pe=0;function z(v,O,$,U,ce){this.listener=v,this.proxy=null,this.src=O,this.type=$,this.capture=!!U,this.ha=ce,this.key=++pe,this.da=this.fa=!1}function ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function me(v){this.src=v,this.g={},this.h=0}me.prototype.add=function(v,O,$,U,ce){var ye=v.toString();v=this.g[ye],v||(v=this.g[ye]=[],this.h++);var Pe=fe(v,O,U,ce);return-1<Pe?(O=v[Pe],$||(O.fa=!1)):(O=new z(O,this.src,ye,!!U,ce),O.fa=$,v.push(O)),O};function q(v,O){var $=O.type;if($ in v.g){var U=v.g[$],ce=Array.prototype.indexOf.call(U,O,void 0),ye;(ye=0<=ce)&&Array.prototype.splice.call(U,ce,1),ye&&(ae(O),v.g[$].length==0&&(delete v.g[$],v.h--))}}function fe(v,O,$,U){for(var ce=0;ce<v.length;++ce){var ye=v[ce];if(!ye.da&&ye.listener==O&&ye.capture==!!$&&ye.ha==U)return ce}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ee={};function qe(v,O,$,U,ce){if(Array.isArray(O)){for(var ye=0;ye<O.length;ye++)qe(v,O[ye],$,U,ce);return null}return $=sn($),v&&v[le]?v.K(O,$,h(U)?!!U.capture:!1,ce):Mt(v,O,$,!1,U,ce)}function Mt(v,O,$,U,ce,ye){if(!O)throw Error("Invalid event type");var Pe=h(ce)?!!ce.capture:!!ce,Ct=yr(v);if(Ct||(v[_e]=Ct=new me(v)),$=Ct.add(O,$,U,Pe,ye),$.proxy)return $;if(U=or(),$.proxy=U,U.src=v,U.listener=$,v.addEventListener)oe||(ce=Pe),ce===void 0&&(ce=!1),v.addEventListener(O.toString(),U,ce);else if(v.attachEvent)v.attachEvent(kt(O.toString()),U);else if(v.addListener&&v.removeListener)v.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return $}function or(){function v($){return O.call(v.src,v.listener,$)}const O=vr;return v}function gr(v,O,$,U,ce){if(Array.isArray(O))for(var ye=0;ye<O.length;ye++)gr(v,O[ye],$,U,ce);else U=h(U)?!!U.capture:!!U,$=sn($),v&&v[le]?(v=v.i,O=String(O).toString(),O in v.g&&(ye=v.g[O],$=fe(ye,$,U,ce),-1<$&&(ae(ye[$]),Array.prototype.splice.call(ye,$,1),ye.length==0&&(delete v.g[O],v.h--)))):v&&(v=yr(v))&&(O=v.g[O.toString()],v=-1,O&&(v=fe(O,$,U,ce)),($=-1<v?O[v]:null)&&Pt($))}function Pt(v){if(typeof v!="number"&&v&&!v.da){var O=v.src;if(O&&O[le])q(O.i,v);else{var $=v.type,U=v.proxy;O.removeEventListener?O.removeEventListener($,U,v.capture):O.detachEvent?O.detachEvent(kt($),U):O.addListener&&O.removeListener&&O.removeListener(U),($=yr(O))?(q($,v),$.h==0&&($.src=null,O[_e]=null)):ae(v)}}}function kt(v){return v in Ee?Ee[v]:Ee[v]="on"+v}function vr(v,O){if(v.da)v=!0;else{O=new X(O,this);var $=v.listener,U=v.ha||v.src;v.fa&&Pt(v),v=$.call(U,O)}return v}function yr(v){return v=v[_e],v instanceof me?v:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(v){return typeof v=="function"?v:(v[rr]||(v[rr]=function(O){return v.handleEvent(O)}),v[rr])}function $t(){Q.call(this),this.i=new me(this),this.M=this,this.F=null}b($t,Q),$t.prototype[le]=!0,$t.prototype.removeEventListener=function(v,O,$,U){gr(this,v,O,$,U)};function Ot(v,O){var $,U=v.F;if(U)for($=[];U;U=U.F)$.push(U);if(v=v.M,U=O.type||O,typeof O=="string")O=new H(O,v);else if(O instanceof H)O.target=O.target||v;else{var ce=O;O=new H(U,v),R(O,ce)}if(ce=!0,$)for(var ye=$.length-1;0<=ye;ye--){var Pe=O.g=$[ye];ce=an(Pe,U,!0,O)&&ce}if(Pe=O.g=v,ce=an(Pe,U,!0,O)&&ce,ce=an(Pe,U,!1,O)&&ce,$)for(ye=0;ye<$.length;ye++)Pe=O.g=$[ye],ce=an(Pe,U,!1,O)&&ce}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var v=this.i,O;for(O in v.g){for(var $=v.g[O],U=0;U<$.length;U++)ae($[U]);delete v.g[O],v.h--}}this.F=null},$t.prototype.K=function(v,O,$,U){return this.i.add(String(v),O,!1,$,U)},$t.prototype.L=function(v,O,$,U){return this.i.add(String(v),O,!0,$,U)};function an(v,O,$,U){if(O=v.i.g[String(O)],!O)return!0;O=O.concat();for(var ce=!0,ye=0;ye<O.length;++ye){var Pe=O[ye];if(Pe&&!Pe.da&&Pe.capture==$){var Ct=Pe.listener,Nr=Pe.ha||Pe.src;Pe.fa&&q(v.i,Pe),ce=Ct.call(Nr,U)!==!1&&ce}}return ce&&!U.defaultPrevented}function dt(v,O,$){if(typeof v=="function")$&&(v=g(v,$));else if(v&&typeof v.handleEvent=="function")v=g(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:c.setTimeout(v,O||0)}function Kn(v){v.g=dt(()=>{v.g=null,v.i&&(v.i=!1,Kn(v))},v.l);const O=v.h;v.h=null,v.m.apply(null,O)}class Mn extends Q{constructor(O,$){super(),this.m=O,this.l=$,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Kn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(v){Q.call(this),this.h=v,this.g={}}b(fi,Q);var Sr=[];function os(v){E(v.g,function(O,$){this.g.hasOwnProperty($)&&Pt(O)},v),v.g={}}fi.prototype.N=function(){fi.aa.N.call(this),os(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=c.JSON.stringify,mi=c.JSON.parse,zr=class{stringify(v){return c.JSON.stringify(v,void 0)}parse(v){return c.JSON.parse(v,void 0)}};function Yn(){}Yn.prototype.h=null;function qr(v){return v.h||(v.h=v.i())}function bn(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wn(){H.call(this,"d")}b(wn,H);function Qn(){H.call(this,"c")}b(Qn,H);var _n={},gi=null;function vi(){return gi=gi||new $t}_n.La="serverreachability";function yi(v){H.call(this,_n.La,v)}b(yi,H);function Rt(v){const O=vi();Ot(O,new yi(O))}_n.STAT_EVENT="statevent";function Ls(v,O){H.call(this,_n.STAT_EVENT,v),this.stat=O}b(Ls,H);function Et(v){const O=vi();Ot(O,new Ls(O,v))}_n.Ma="timingevent";function Fe(v,O){H.call(this,_n.Ma,v),this.size=O}b(Fe,H);function kn(v,O){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){v()},O)}function Ds(){this.g=!0}Ds.prototype.xa=function(){this.g=!1};function $s(v,O,$,U,ce,ye){v.info(function(){if(v.g)if(ye)for(var Pe="",Ct=ye.split("&"),Nr=0;Nr<Ct.length;Nr++){var mt=Ct[Nr].split("=");if(1<mt.length){var Rr=mt[0];mt=mt[1];var xr=Rr.split("_");Pe=2<=xr.length&&xr[1]=="type"?Pe+(Rr+"="+mt+"&"):Pe+(Rr+"=redacted&")}}else Pe=null;else Pe=ye;return"XMLHTTP REQ ("+U+") [attempt "+ce+"]: "+O+`
`+$+`
`+Pe})}function ve(v,O,$,U,ce,ye,Pe){v.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ce+"]: "+O+`
`+$+`
`+ye+" "+Pe})}function be(v,O,$,U){v.info(function(){return"XMLHTTP TEXT ("+O+"): "+Oe(v,$)+(U?" "+U:"")})}function Ue(v,O){v.info(function(){return"TIMEOUT: "+O})}Ds.prototype.info=function(){};function Oe(v,O){if(!v.g)return O;if(!O)return null;try{var $=JSON.parse(O);if($){for(v=0;v<$.length;v++)if(Array.isArray($[v])){var U=$[v];if(!(2>U.length)){var ce=U[1];if(Array.isArray(ce)&&!(1>ce.length)){var ye=ce[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Pe=1;Pe<ce.length;Pe++)ce[Pe]=""}}}}return pi($)}catch{return O}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ft={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lt;function vt(){}b(vt,Yn),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},lt=new vt;function Jt(v,O,$,U){this.j=v,this.i=O,this.l=$,this.R=U||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}var Vt={},Bt={};function lr(v,O,$){v.L=1,v.v=Na(Zn(O)),v.m=$,v.P=!0,Xn(v,null)}function Xn(v,O){v.F=Date.now(),Ut(v),v.A=Zn(v.v);var $=v.A,U=v.R;Array.isArray(U)||(U=[String(U)]),Ca($.i,"t",U),v.C=0,$=v.j.J,v.h=new st,v.g=Lf(v.j,$?O:null,!v.m),0<v.O&&(v.M=new Mn(g(v.Y,v,v.g),v.O)),O=v.U,$=v.g,U=v.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(Sr[0]=ce.toString()),ce=Sr);for(var ye=0;ye<ce.length;ye++){var Pe=qe($,ce[ye],U||O.handleEvent,!1,O.h||O);if(!Pe)break;O.g[Pe.key]=Pe}O=v.H?M(v.H):{},v.m?(v.u||(v.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,O)):(v.u="GET",v.g.ea(v.A,v.u,null,O)),Rt(),$s(v.i,v.u,v.A,v.l,v.R,v.m)}Jt.prototype.ca=function(v){v=v.target;const O=this.M;O&&Ln(v)==3?O.j():this.Y(v)},Jt.prototype.Y=function(v){try{if(v==this.g)e:{const xr=Ln(this.g);var O=this.g.Ba();const _i=this.g.Z();if(!(3>xr)&&(xr!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||xr!=4||O==7||(O==8||0>=_i?Rt(3):Rt(2)),Eo(this);var $=this.g.Z();this.X=$;t:if(xi(this)){var U=Du(this.g);v="";var ce=U.length,ye=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),_a(this);var Pe="";break t}this.h.i=new c.TextDecoder}for(O=0;O<ce;O++)this.h.h=!0,v+=this.h.i.decode(U[O],{stream:!(ye&&O==ce-1)});U.length=0,this.h.g+=v,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=$==200,ve(this.i,this.u,this.A,this.l,this.R,xr,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,Nr=this.g;if((Ct=Nr.g?Nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ct)){var mt=Ct;break t}}mt=null}if($=mt)be(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ou(this,$);else{this.o=!1,this.s=3,Et(12),bi(this),_a(this);break e}}if(this.P){$=!0;let ti;for(;!this.J&&this.C<Pe.length;)if(ti=nr(this,Pe),ti==Bt){xr==4&&(this.s=4,Et(14),$=!1),be(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==Vt){this.s=4,Et(15),be(this.i,this.l,Pe,"[Invalid Chunk]"),$=!1;break}else be(this.i,this.l,ti,null),Ou(this,ti);if(xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xr!=4||Pe.length!=0||this.h.h||(this.s=1,Et(16),$=!1),this.o=this.o&&$,!$)be(this.i,this.l,Pe,"[Invalid Chunked Response]"),bi(this),_a(this);else if(0<Pe.length&&!this.W){this.W=!0;var Rr=this.j;Rr.g==this&&Rr.ba&&!Rr.M&&(Rr.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Fu(Rr),Rr.M=!0,Et(11))}}else be(this.i,this.l,Pe,null),Ou(this,Pe);xr==4&&bi(this),this.o&&!this.J&&(xr==4?Gl(this.j,this):(this.o=!1,Ut(this)))}else Ul(this.g),$==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),bi(this),_a(this)}}}catch{}finally{}};function xi(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function nr(v,O){var $=v.C,U=O.indexOf(`
`,$);return U==-1?Bt:($=Number(O.substring($,U)),isNaN($)?Vt:(U+=1,U+$>O.length?Bt:(O=O.slice(U,U+$),v.C=U+$,O)))}Jt.prototype.cancel=function(){this.J=!0,bi(this)};function Ut(v){v.S=Date.now()+v.I,bf(v,v.I)}function bf(v,O){if(v.B!=null)throw Error("WatchDog timer not null");v.B=kn(g(v.ba,v),O)}function Eo(v){v.B&&(c.clearTimeout(v.B),v.B=null)}Jt.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Ue(this.i,this.A),this.L!=2&&(Rt(),Et(17)),bi(this),this.s=2,_a(this)):bf(this,this.S-v)};function _a(v){v.j.G==0||v.J||Gl(v.j,v)}function bi(v){Eo(v);var O=v.M;O&&typeof O.ma=="function"&&O.ma(),v.M=null,os(v.U),v.g&&(O=v.g,v.g=null,O.abort(),O.ma())}function Ou(v,O){try{var $=v.j;if($.G!=0&&($.g==v||jn($.h,v))){if(!v.K&&jn($.h,v)&&$.G==3){try{var U=$.Da.g.parse(O)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ce=U;if(ce[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<v.F)Hl($),Wi($);else break e;Wl($),Et(18)}}else $.za=ce[1],0<$.za-$.T&&37500>ce[2]&&$.F&&$.v==0&&!$.C&&($.C=kn(g($.Za,$),6e3));if(1>=_f($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else zs($,11)}else if((v.K||$.g==v)&&Hl($),!j(O))for(ce=$.Da.g.parse(O),O=0;O<ce.length;O++){let mt=ce[O];if($.T=mt[0],mt=mt[1],$.G==2)if(mt[0]=="c"){$.K=mt[1],$.ia=mt[2];const Rr=mt[3];Rr!=null&&($.la=Rr,$.j.info("VER="+$.la));const xr=mt[4];xr!=null&&($.Aa=xr,$.j.info("SVER="+$.Aa));const _i=mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(U=1.5*_i,$.L=U,$.j.info("backChannelRequestTimeoutMs_="+U)),U=$;const ti=v.g;if(ti){const Mo=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var ye=U.h;ye.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Iu(ye,ye.h),ye.h=null))}if(U.D){const Yl=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(U.ya=Yl,Lt(U.I,U.D,Yl))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-v.F,$.j.info("Handshake RTT: "+$.R+"ms")),U=$;var Pe=v;if(U.qa=Rf(U,U.J?U.ia:null,U.W),Pe.K){kf(U.h,Pe);var Ct=Pe,Nr=U.L;Nr&&(Ct.I=Nr),Ct.B&&(Eo(Ct),Ut(Ct)),U.g=Pe}else Io(U);0<$.i.length&&ds($)}else mt[0]!="stop"&&mt[0]!="close"||zs($,7);else $.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?zs($,7):Gr($):mt[0]!="noop"&&$.l&&$.l.ta(mt),$.v=0)}}Rt(4)}catch{}}var wf=class{constructor(v,O){this.g=v,this.map=O}};function Co(v){this.l=v||10,c.PerformanceNavigationTiming?(v=c.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jn(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function _f(v){return v.h?1:v.g?v.g.size:0}function jn(v,O){return v.h?v.h==O:v.g?v.g.has(O):!1}function Iu(v,O){v.g?v.g.add(O):v.h=O}function kf(v,O){v.h&&v.h==O?v.h=null:v.g&&v.g.has(O)&&v.g.delete(O)}Co.prototype.cancel=function(){if(this.i=jf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function jf(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let O=v.i;for(const $ of v.g.values())O=O.concat($.D);return O}return _(v.i)}function Dl(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(d(v)){for(var O=[],$=v.length,U=0;U<$;U++)O.push(v[U]);return O}O=[],$=0;for(U in v)O[$++]=v[U];return O}function $l(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(d(v)||typeof v=="string"){var O=[];v=v.length;for(var $=0;$<v;$++)O.push($);return O}O=[],$=0;for(const U in v)O[$++]=U;return O}}}function ka(v,O){if(v.forEach&&typeof v.forEach=="function")v.forEach(O,void 0);else if(d(v)||typeof v=="string")Array.prototype.forEach.call(v,O,void 0);else for(var $=$l(v),U=Dl(v),ce=U.length,ye=0;ye<ce;ye++)O.call(void 0,U[ye],$&&$[ye],v)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W0(v,O){if(v){v=v.split("&");for(var $=0;$<v.length;$++){var U=v[$].indexOf("="),ce=null;if(0<=U){var ye=v[$].substring(0,U);ce=v[$].substring(U+1)}else ye=v[$];O(ye,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Fs(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Fs){this.h=v.h,Ao(this,v.j),this.o=v.o,this.g=v.g,ja(this,v.s),this.l=v.l;var O=v.i,$=new ls;$.i=O.i,O.g&&($.g=new Map(O.g),$.h=O.h),Sa(this,$),this.m=v.m}else v&&(O=String(v).match(To))?(this.h=!1,Ao(this,O[1]||"",!0),this.o=ht(O[2]||""),this.g=ht(O[3]||"",!0),ja(this,O[4]),this.l=ht(O[5]||"",!0),Sa(this,O[6]||"",!0),this.m=ht(O[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Fs.prototype.toString=function(){var v=[],O=this.j;O&&v.push(Ea(O,Fl,!0),":");var $=this.g;return($||O=="file")&&(v.push("//"),(O=this.o)&&v.push(Ea(O,Fl,!0),"@"),v.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&v.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&v.push("/"),v.push(Ea($,$.charAt(0)=="/"?Ef:Nf,!0))),($=this.i.toString())&&v.push("?",$),($=this.m)&&v.push("#",Ea($,Mu)),v.join("")};function Zn(v){return new Fs(v)}function Ao(v,O,$){v.j=$?ht(O,!0):O,v.j&&(v.j=v.j.replace(/:$/,""))}function ja(v,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);v.s=O}else v.s=null}function Sa(v,O,$){O instanceof ls?(v.i=O,cs(v.i,v.h)):($||(O=Ea(O,Cf)),v.i=new ls(O,v.h))}function Lt(v,O,$){v.i.set(O,$)}function Na(v){return Lt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function ht(v,O){return v?O?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ea(v,O,$){return typeof v=="string"?(v=encodeURI(v).replace(O,Sf),$&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Sf(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Fl=/[#\/\?@]/g,Nf=/[#\?:]/g,Ef=/[#\?]/g,Cf=/[#\?@]/g,Mu=/#/g;function ls(v,O){this.h=this.g=null,this.i=v||null,this.j=!!O}function Hr(v){v.g||(v.g=new Map,v.h=0,v.i&&W0(v.i,function(O,$){v.add(decodeURIComponent(O.replace(/\+/g," ")),$)}))}t=ls.prototype,t.add=function(v,O){Hr(this),this.i=null,v=wi(this,v);var $=this.g.get(v);return $||this.g.set(v,$=[]),$.push(O),this.h+=1,this};function Bi(v,O){Hr(v),O=wi(v,O),v.g.has(O)&&(v.i=null,v.h-=v.g.get(O).length,v.g.delete(O))}function Ui(v,O){return Hr(v),O=wi(v,O),v.g.has(O)}t.forEach=function(v,O){Hr(this),this.g.forEach(function($,U){$.forEach(function(ce){v.call(O,ce,U,this)},this)},this)},t.na=function(){Hr(this);const v=Array.from(this.g.values()),O=Array.from(this.g.keys()),$=[];for(let U=0;U<O.length;U++){const ce=v[U];for(let ye=0;ye<ce.length;ye++)$.push(O[U])}return $},t.V=function(v){Hr(this);let O=[];if(typeof v=="string")Ui(this,v)&&(O=O.concat(this.g.get(wi(this,v))));else{v=Array.from(this.g.values());for(let $=0;$<v.length;$++)O=O.concat(v[$])}return O},t.set=function(v,O){return Hr(this),this.i=null,v=wi(this,v),Ui(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[O]),this.h+=1,this},t.get=function(v,O){return v?(v=this.V(v),0<v.length?String(v[0]):O):O};function Ca(v,O,$){Bi(v,O),0<$.length&&(v.i=null,v.g.set(wi(v,O),_($)),v.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],O=Array.from(this.g.keys());for(var $=0;$<O.length;$++){var U=O[$];const ye=encodeURIComponent(String(U)),Pe=this.V(U);for(U=0;U<Pe.length;U++){var ce=ye;Pe[U]!==""&&(ce+="="+encodeURIComponent(String(Pe[U]))),v.push(ce)}}return this.i=v.join("&")};function wi(v,O){return O=String(O),v.j&&(O=O.toLowerCase()),O}function cs(v,O){O&&!v.j&&(Hr(v),v.i=null,v.g.forEach(function($,U){var ce=U.toLowerCase();U!=ce&&(Bi(this,U),Ca(this,ce,$))},v)),v.j=O}function H0(v,O){const $=new Ds;if(c.Image){const U=new Image;U.onload=w(Rn,$,"TestLoadImage: loaded",!0,O,U),U.onerror=w(Rn,$,"TestLoadImage: error",!1,O,U),U.onabort=w(Rn,$,"TestLoadImage: abort",!1,O,U),U.ontimeout=w(Rn,$,"TestLoadImage: timeout",!1,O,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=v}else O(!1)}function Tf(v,O){const $=new Ds,U=new AbortController,ce=setTimeout(()=>{U.abort(),Rn($,"TestPingServer: timeout",!1,O)},1e4);fetch(v,{signal:U.signal}).then(ye=>{clearTimeout(ce),ye.ok?Rn($,"TestPingServer: ok",!0,O):Rn($,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(ce),Rn($,"TestPingServer: error",!1,O)})}function Rn(v,O,$,U,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),U($)}catch{}}function G0(){this.g=new zr}function Af(v,O,$){const U=$||"";try{ka(v,function(ce,ye){let Pe=ce;h(ce)&&(Pe=pi(ce)),O.push(U+ye+"="+encodeURIComponent(Pe))})}catch(ce){throw O.push(U+"type="+encodeURIComponent("_badmap")),ce}}function Vs(v){this.l=v.Ub||null,this.j=v.eb||!1}b(Vs,Yn),Vs.prototype.g=function(){return new Po(this.l,this.j)},Vs.prototype.i=function(v){return function(){return v}}({});function Po(v,O){$t.call(this),this.D=v,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Po,$t),t=Po.prototype,t.open=function(v,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=O,this.readyState=1,qi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(O.body=v),(this.D||c).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},t.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pf(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pf(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}t.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var O=v.value?v.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!v.done}))&&(this.response=this.responseText+=O)}v.done?zi(this):qi(this),this.readyState==3&&Pf(this)}},t.Ra=function(v){this.g&&(this.response=this.responseText=v,zi(this))},t.Qa=function(v){this.g&&(this.response=v,zi(this))},t.ga=function(){this.g&&zi(this)};function zi(v){v.readyState=4,v.l=null,v.j=null,v.v=null,qi(v)}t.setRequestHeader=function(v,O){this.u.append(v,O)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],O=this.h.entries();for(var $=O.next();!$.done;)$=$.value,v.push($[0]+": "+$[1]),$=O.next();return v.join(`\r
`)};function qi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Bs(v){let O="";return E(v,function($,U){O+=U,O+=":",O+=$,O+=`\r
`}),O}function Ta(v,O,$){e:{for(U in $){var U=!1;break e}U=!0}U||($=Bs($),typeof v=="string"?$!=null&&encodeURIComponent(String($)):Lt(v,O,$))}function Zt(v){$t.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Zt,$t);var K0=/^https?$/i,Ru=["POST","PUT"];t=Zt.prototype,t.Ha=function(v){this.J=v},t.ea=function(v,O,$,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);O=O?O.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lt.g(),this.v=this.o?qr(this.o):qr(lt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(O,String(v),!0),this.B=!1}catch(ye){Oo(this,ye);return}if(v=$||"",$=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ce in U)$.set(ce,U[ce]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ye of U.keys())$.set(ye,U.get(ye));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from($.keys()).find(ye=>ye.toLowerCase()=="content-type"),ce=c.FormData&&v instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ru,O,void 0))||U||ce||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Pe]of $)this.g.setRequestHeader(ye,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bl(this),this.u=!0,this.g.send(v),this.u=!1}catch(ye){Oo(this,ye)}};function Oo(v,O){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=O,v.m=5,Vl(v),ei(v)}function Vl(v){v.A||(v.A=!0,Ot(v,"complete"),Ot(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ot(this,"complete"),Ot(this,"abort"),ei(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lu(this):this.bb())},t.bb=function(){Lu(this)};function Lu(v){if(v.h&&typeof o<"u"&&(!v.v[1]||Ln(v)!=4||v.Z()!=2)){if(v.u&&Ln(v)==4)dt(v.Ea,0,v);else if(Ot(v,"readystatechange"),Ln(v)==4){v.h=!1;try{const Pe=v.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var $;if(!($=O)){var U;if(U=Pe===0){var ce=String(v.D).match(To)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),U=!K0.test(ce?ce.toLowerCase():"")}$=U}if($)Ot(v,"complete"),Ot(v,"success");else{v.m=6;try{var ye=2<Ln(v)?v.g.statusText:""}catch{ye=""}v.l=ye+" ["+v.Z()+"]",Vl(v)}}finally{ei(v)}}}}function ei(v,O){if(v.g){Bl(v);const $=v.g,U=v.v[0]?()=>{}:null;v.g=null,v.v=null,O||Ot(v,"ready");try{$.onreadystatechange=U}catch{}}}function Bl(v){v.I&&(c.clearTimeout(v.I),v.I=null)}t.isActive=function(){return!!this.g};function Ln(v){return v.g?v.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(v){if(this.g){var O=this.g.responseText;return v&&O.indexOf(v)==0&&(O=O.substring(v.length)),mi(O)}};function Du(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Ul(v){const O={};v=(v.g&&2<=Ln(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<v.length;U++){if(j(v[U]))continue;var $=D(v[U]);const ce=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const ye=O[ce]||[];O[ce]=ye,ye.push($)}T(O,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function us(v,O,$){return $&&$.internalChannelParams&&$.internalChannelParams[v]||O}function $u(v){this.Aa=0,this.i=[],this.j=new Ds,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=us("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=us("baseRetryDelayMs",5e3,v),this.cb=us("retryDelaySeedMs",1e4,v),this.Wa=us("forwardChannelMaxRetries",2,v),this.wa=us("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Co(v&&v.concurrentRequestLimit),this.Da=new G0,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$u.prototype,t.la=8,t.G=1,t.connect=function(v,O,$,U){Et(0),this.W=v,this.H=O||{},$&&U!==void 0&&(this.H.OSID=$,this.H.OAID=U),this.F=this.X,this.I=Rf(this,null,this.W),ds(this)};function Gr(v){if(zl(v),v.G==3){var O=v.U++,$=Zn(v.I);if(Lt($,"SID",v.K),Lt($,"RID",O),Lt($,"TYPE","terminate"),Us(v,$),O=new Jt(v,v.j,O),O.L=2,O.v=Na(Zn($)),$=!1,c.navigator&&c.navigator.sendBeacon)try{$=c.navigator.sendBeacon(O.v.toString(),"")}catch{}!$&&c.Image&&(new Image().src=O.v,$=!0),$||(O.g=Lf(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Ut(O)}Mf(v)}function Wi(v){v.g&&(Fu(v),v.g.cancel(),v.g=null)}function zl(v){Wi(v),v.u&&(c.clearTimeout(v.u),v.u=null),Hl(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&c.clearTimeout(v.s),v.s=null)}function ds(v){if(!Jn(v.h)&&!v.s){v.s=!0;var O=v.Ga;ee||re(),K||(ee(),K=!0),Y.add(O,v),v.B=0}}function Y0(v,O){return _f(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=O.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=kn(g(v.Ga,v,O),If(v,v.B)),v.B++,!0)}t.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const ce=new Jt(this,this.j,v);let ye=this.o;if(this.S&&(ye?(ye=M(ye),R(ye,this.S)):ye=this.S),this.m!==null||this.O||(ce.H=ye,ye=null),this.P)e:{for(var O=0,$=0;$<this.i.length;$++){t:{var U=this.i[$];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(O+=U,4096<O){O=$;break e}if(O===4096||$===this.i.length-1){O=$+1;break e}}O=1e3}else O=1e3;O=Aa(this,ce,O),$=Zn(this.I),Lt($,"RID",v),Lt($,"CVER",22),this.D&&Lt($,"X-HTTP-Session-Id",this.D),Us(this,$),ye&&(this.O?O="headers="+encodeURIComponent(String(Bs(ye)))+"&"+O:this.m&&Ta($,this.m,ye)),Iu(this.h,ce),this.Ua&&Lt($,"TYPE","init"),this.P?(Lt($,"$req",O),Lt($,"SID","null"),ce.T=!0,lr(ce,$,null)):lr(ce,$,O),this.G=2}}else this.G==3&&(v?ql(this,v):this.i.length==0||Jn(this.h)||ql(this))};function ql(v,O){var $;O?$=O.l:$=v.U++;const U=Zn(v.I);Lt(U,"SID",v.K),Lt(U,"RID",$),Lt(U,"AID",v.T),Us(v,U),v.m&&v.o&&Ta(U,v.m,v.o),$=new Jt(v,v.j,$,v.B+1),v.m===null&&($.H=v.o),O&&(v.i=O.D.concat(v.i)),O=Aa(v,$,1e3),$.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Iu(v.h,$),lr($,U,O)}function Us(v,O){v.H&&E(v.H,function($,U){Lt(O,U,$)}),v.l&&ka({},function($,U){Lt(O,U,$)})}function Aa(v,O,$){$=Math.min(v.i.length,$);var U=v.l?g(v.l.Na,v.l,v):null;e:{var ce=v.i;let ye=-1;for(;;){const Pe=["count="+$];ye==-1?0<$?(ye=ce[0].g,Pe.push("ofs="+ye)):ye=0:Pe.push("ofs="+ye);let Ct=!0;for(let Nr=0;Nr<$;Nr++){let mt=ce[Nr].g;const Rr=ce[Nr].map;if(mt-=ye,0>mt)ye=Math.max(0,ce[Nr].g-100),Ct=!1;else try{Af(Rr,Pe,"req"+mt+"_")}catch{U&&U(Rr)}}if(Ct){U=Pe.join("&");break e}}}return v=v.i.splice(0,$),O.D=v,U}function Io(v){if(!v.g&&!v.u){v.Y=1;var O=v.Fa;ee||re(),K||(ee(),K=!0),Y.add(O,v),v.v=0}}function Wl(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=kn(g(v.Fa,v),If(v,v.v)),v.v++,!0)}t.Fa=function(){if(this.u=null,Of(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=kn(g(this.ab,this),v)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Wi(this),Of(this))};function Fu(v){v.A!=null&&(c.clearTimeout(v.A),v.A=null)}function Of(v){v.g=new Jt(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var O=Zn(v.qa);Lt(O,"RID","rpc"),Lt(O,"SID",v.K),Lt(O,"AID",v.T),Lt(O,"CI",v.F?"0":"1"),!v.F&&v.ja&&Lt(O,"TO",v.ja),Lt(O,"TYPE","xmlhttp"),Us(v,O),v.m&&v.o&&Ta(O,v.m,v.o),v.L&&(v.g.I=v.L);var $=v.g;v=v.ia,$.L=1,$.v=Na(Zn(O)),$.m=null,$.P=!0,Xn($,v)}t.Za=function(){this.C!=null&&(this.C=null,Wi(this),Wl(this),Et(19))};function Hl(v){v.C!=null&&(c.clearTimeout(v.C),v.C=null)}function Gl(v,O){var $=null;if(v.g==O){Hl(v),Fu(v),v.g=null;var U=2}else if(jn(v.h,O))$=O.D,kf(v.h,O),U=1;else return;if(v.G!=0){if(O.o)if(U==1){$=O.m?O.m.length:0,O=Date.now()-O.F;var ce=v.B;U=vi(),Ot(U,new Fe(U,$)),ds(v)}else Io(v);else if(ce=O.s,ce==3||ce==0&&0<O.X||!(U==1&&Y0(v,O)||U==2&&Wl(v)))switch($&&0<$.length&&(O=v.h,O.i=O.i.concat($)),ce){case 1:zs(v,5);break;case 4:zs(v,10);break;case 3:zs(v,6);break;default:zs(v,2)}}}function If(v,O){let $=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||($*=2),$*O}function zs(v,O){if(v.j.info("Error code "+O),O==2){var $=g(v.fb,v),U=v.Xa;const ce=!U;U=new Fs(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ao(U,"https"),Na(U),ce?H0(U.toString(),$):Tf(U.toString(),$)}else Et(2);v.G=0,v.l&&v.l.sa(O),Mf(v),zl(v)}t.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Mf(v){if(v.G=0,v.ka=[],v.l){const O=jf(v.h);(O.length!=0||v.i.length!=0)&&(x(v.ka,O),x(v.ka,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.ra()}}function Rf(v,O,$){var U=$ instanceof Fs?Zn($):new Fs($);if(U.g!="")O&&(U.g=O+"."+U.g),ja(U,U.s);else{var ce=c.location;U=ce.protocol,O=O?O+"."+ce.hostname:ce.hostname,ce=+ce.port;var ye=new Fs(null);U&&Ao(ye,U),O&&(ye.g=O),ce&&ja(ye,ce),$&&(ye.l=$),U=ye}return $=v.D,O=v.ya,$&&O&&Lt(U,$,O),Lt(U,"VER",v.la),Us(v,U),U}function Lf(v,O,$){if(O&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=v.Ca&&!v.pa?new Zt(new Vs({eb:$})):new Zt(v.pa),O.Ha(v.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}t=Vu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kl(){}Kl.prototype.g=function(v,O){return new Sn(v,O)};function Sn(v,O){$t.call(this),this.g=new $u(O),this.l=v,this.h=O&&O.messageUrlParams||null,v=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(v?v["X-WebChannel-Content-Type"]=O.messageContentType:v={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(v?v["X-WebChannel-Client-Profile"]=O.va:v={"X-WebChannel-Client-Profile":O.va}),this.g.S=v,(v=O&&O.Sb)&&!j(v)&&(this.g.m=v),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!j(O)&&(this.g.D=O,v=this.h,v!==null&&O in v&&(v=this.h,O in v&&delete v[O])),this.j=new hs(this)}b(Sn,$t),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Gr(this.g)},Sn.prototype.o=function(v){var O=this.g;if(typeof v=="string"){var $={};$.__data__=v,v=$}else this.u&&($={},$.__data__=pi(v),v=$);O.i.push(new wf(O.Ya++,v)),O.G==3&&ds(O)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Gr(this.g),delete this.g,Sn.aa.N.call(this)};function Df(v){wn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var O=v.__sm__;if(O){e:{for(const $ in O){v=$;break e}v=void 0}(this.i=v)&&(v=this.i,O=O!==null&&v in O?O[v]:void 0),this.data=O}else this.data=v}b(Df,wn);function $f(){Qn.call(this),this.status=1}b($f,Qn);function hs(v){this.g=v}b(hs,Vu),hs.prototype.ua=function(){Ot(this.g,"a")},hs.prototype.ta=function(v){Ot(this.g,new Df(v))},hs.prototype.sa=function(v){Ot(this.g,new $f)},hs.prototype.ra=function(){Ot(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,XD=function(){return new Kl},QD=function(){return vi()},YD=_n,X_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,am=Ke,Ft.COMPLETE="complete",KD=Ft,bn.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Ed=bn,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,GD=Zt}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});const GC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Fj("@firebase/firestore");function dd(){return vl.logLevel}function Be(t,...e){if(vl.logLevel<=ft.DEBUG){const r=e.map(Xj);vl.debug(`Firestore (${xu}): ${t}`,...r)}}function da(t,...e){if(vl.logLevel<=ft.ERROR){const r=e.map(Xj);vl.error(`Firestore (${xu}): ${t}`,...r)}}function Fc(t,...e){if(vl.logLevel<=ft.WARN){const r=e.map(Xj);vl.warn(`Firestore (${xu}): ${t}`,...r)}}function Xj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t="Unexpected state"){const e=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+t;throw da(e),new Error(e)}function At(t,e){t||et()}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Os{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(fn.UNAUTHENTICATED))}shutdown(){}}class E8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class C8{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){At(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let s=new co;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new co,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new co)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(At(typeof n.accessToken=="string"),new JD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string"),new fn(e)}}class T8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new T8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){At(this.o===void 0);const n=s=>{s.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(At(typeof r.token=="string"),this.R=r.token,new P8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=I8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function wt(t,e){return t<e?-1:t>e?1:0}function Vc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Or(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tt(e)}static min(){return new tt(new Or(0,0))}static max(){return new tt(new Or(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,r,n){r===void 0?r=0:r>e.length&&et(),n===void 0?n=e.length-r:n>e.length-r&&et(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Xd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),o=r.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Qt extends Xd{construct(e,r,n){return new Qt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Qt(r)}static emptyPath(){return new Qt([])}}const M8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Xd{construct(e,r,n){return new Zr(e,r,n)}static isValidIdentifier(e){return M8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Re(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(n+=c,i++):(s(),i++)}if(s(),o)throw new Re(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(r)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(Qt.fromString(e))}static fromName(e){return new We(Qt.fromString(e).popFirst(5))}static empty(){return new We(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Qt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Qt(e.slice()))}}function R8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=tt.fromTimestamp(n===1e9?new Or(r+1,0):new Or(r,n));return new go(i,We.empty(),e)}function L8(t){return new go(t.readTime,t.key,-1)}class go{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new go(tt.min(),We.empty(),-1)}static max(){return new go(tt.max(),We.empty(),-1)}}function D8(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=We.comparator(t.documentKey,e.documentKey),r!==0?r:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==$8)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ne((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.reject(r)}static resolve(e){return new Ne((r,n)=>{r(e)})}static reject(e){return new Ne((r,n)=>{n(e)})}static waitFor(e){return new Ne((r,n)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&r()},d=>n(d))}),o=!0,s===i&&r()})}static or(e){let r=Ne.resolve(!1);for(const n of e)r=r.next(i=>i?Ne.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Ne((n,i)=>{const s=e.length,o=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;r(e[h]).next(p=>{o[h]=p,++c,c===s&&n(o)},p=>i(p))}})}static doWhile(e,r){return new Ne((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function V8(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jj.oe=-1;function zg(t){return t==null}function _m(t){return t===0&&1/t==-1/0}function B8(t){return typeof t=="number"&&Number.isInteger(t)&&!_m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Tl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function e4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,r){this.comparator=e,this.root=r||Jr.EMPTY}insert(e,r){return new ar(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}}class Rp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Jr.RED,this.left=i??Jr.EMPTY,this.right=s??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Jr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Jr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1;Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Jr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new YC(this.data.getIterator())}getIteratorFrom(e){return new YC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new en(this.comparator);return r.data=e,r}}class YC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new ci([])}unionWith(e){let r=new en(Zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ci(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Vc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t4("Invalid base64 string: "+s):s}}(e);return new nn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new nn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const U8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(At(!!t),typeof t=="string"){let e=0;const r=U8.exec(t);if(At(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mr(t.seconds),nanos:mr(t.nanos)}}function mr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yl(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function e1(t){const e=t.mapValue.fields.__previous_value__;return Zj(e)?e1(e):e}function Jd(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,r,n,i,s,o,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Zd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Zd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp={mapValue:{}};function xl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zj(t)?4:W8(t)?9007199254740991:q8(t)?10:11:et()}function Cs(t,e){if(t===e)return!0;const r=xl(t);if(r!==xl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jd(t).isEqual(Jd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vo(i.timestampValue),c=vo(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yl(i.bytesValue).isEqual(yl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mr(i.geoPointValue.latitude)===mr(s.geoPointValue.latitude)&&mr(i.geoPointValue.longitude)===mr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mr(i.integerValue)===mr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mr(i.doubleValue),c=mr(s.doubleValue);return o===c?_m(o)===_m(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Vc(t.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(KC(o)!==KC(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Cs(o[d],c[d])))return!1;return!0}(t,e);default:return et()}}function eh(t,e){return(t.values||[]).find(r=>Cs(r,e))!==void 0}function Bc(t,e){if(t===e)return 0;const r=xl(t),n=xl(e);if(r!==n)return wt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const c=mr(s.integerValue||s.doubleValue),d=mr(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return QC(t.timestampValue,e.timestampValue);case 4:return QC(Jd(t),Jd(e));case 5:return wt(t.stringValue,e.stringValue);case 6:return function(s,o){const c=yl(s),d=yl(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const c=s.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=wt(c[h],d[h]);if(p!==0)return p}return wt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const c=wt(mr(s.latitude),mr(o.latitude));return c!==0?c:wt(mr(s.longitude),mr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XC(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,d,h,p;const m=s.fields||{},g=o.fields||{},w=(c=m.value)===null||c===void 0?void 0:c.arrayValue,b=(d=g.value)===null||d===void 0?void 0:d.arrayValue,_=wt(((h=w?.values)===null||h===void 0?void 0:h.length)||0,((p=b?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:XC(w,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Lp.mapValue&&o===Lp.mapValue)return 0;if(s===Lp.mapValue)return 1;if(o===Lp.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const g=wt(d[m],p[m]);if(g!==0)return g;const w=Bc(c[d[m]],h[p[m]]);if(w!==0)return w}return wt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw et()}}function QC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const r=vo(t),n=vo(e),i=wt(r.seconds,n.seconds);return i!==0?i:wt(r.nanos,n.nanos)}function XC(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Bc(r[i],n[i]);if(s)return s}return wt(r.length,n.length)}function Uc(t){return J_(t)}function J_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=vo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return yl(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return We.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=J_(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${J_(r.fields[o])}`;return i+"}"}(t.mapValue):et()}function JC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z_(t){return!!t&&"integerValue"in t}function t1(t){return!!t&&"arrayValue"in t}function ZC(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function om(t){return!!t&&"mapValue"in t}function q8(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ld(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ld(t.arrayValue.values[r]);return e}return Object.assign({},t)}function W8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!om(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(r)}setAll(e){let r=Zr.emptyPath(),n={},i=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}o?n[c.lastSegment()]=Ld(o):i.push(c.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());om(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Tl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Wn(Ld(this.value))}}function r4(t){const e=[];return Tl(t.fields,(r,n)=>{const i=new Zr([r]);if(om(n)){const s=r4(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,r,n,i,s,o,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new pn(e,0,tt.min(),tt.min(),tt.min(),Wn.empty(),0)}static newFoundDocument(e,r,n,i){return new pn(e,1,r,tt.min(),n,i,0)}static newNoDocument(e,r){return new pn(e,2,r,tt.min(),tt.min(),Wn.empty(),0)}static newUnknownDocument(e,r){return new pn(e,3,r,tt.min(),tt.min(),Wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,r){this.position=e,this.inclusive=r}}function tT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=We.comparator(We.fromName(o.referenceValue),r.key):n=Bc(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function rT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Cs(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,r="asc"){this.field=e,this.dir=r}}function H8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n4=class{};class kr extends n4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new K8(e,r,n):r==="array-contains"?new X8(e,n):r==="in"?new J8(e,n):r==="not-in"?new Z8(e,n):r==="array-contains-any"?new ez(e,n):new kr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Y8(e,n):new Q8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Bc(r,this.value)):r!==null&&xl(this.value)===xl(r)&&this.matchesComparison(Bc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends n4{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ss(e,r)}matches(e){return i4(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function i4(t){return t.op==="and"}function s4(t){return G8(t)&&i4(t)}function G8(t){for(const e of t.filters)if(e instanceof ss)return!1;return!0}function ek(t){if(t instanceof kr)return t.field.canonicalString()+t.op.toString()+Uc(t.value);if(s4(t))return t.filters.map(e=>ek(e)).join(",");{const e=t.filters.map(r=>ek(r)).join(",");return`${t.op}(${e})`}}function a4(t,e){return t instanceof kr?function(n,i){return i instanceof kr&&n.op===i.op&&n.field.isEqual(i.field)&&Cs(n.value,i.value)}(t,e):t instanceof ss?function(n,i){return i instanceof ss&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,c)=>s&&a4(o,i.filters[c]),!0):!1}(t,e):void et()}function o4(t){return t instanceof kr?function(r){return`${r.field.canonicalString()} ${r.op} ${Uc(r.value)}`}(t):t instanceof ss?function(r){return r.op.toString()+" {"+r.getFilters().map(o4).join(" ,")+"}"}(t):"Filter"}class K8 extends kr{constructor(e,r,n){super(e,r,n),this.key=We.fromName(n.referenceValue)}matches(e){const r=We.comparator(e.key,this.key);return this.matchesComparison(r)}}class Y8 extends kr{constructor(e,r){super(e,"in",r),this.keys=l4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Q8 extends kr{constructor(e,r){super(e,"not-in",r),this.keys=l4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function l4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>We.fromName(n.referenceValue))}class X8 extends kr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return t1(r)&&eh(r.arrayValue,this.value)}}class J8 extends kr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&eh(this.value.arrayValue,r)}}class Z8 extends kr{constructor(e,r){super(e,"not-in",r)}matches(e){if(eh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!eh(this.value.arrayValue,r)}}class ez extends kr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!t1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>eh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,r=null,n=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}}function nT(t,e=null,r=[],n=[],i=null,s=null,o=null){return new tz(t,e,r,n,i,s,o)}function r1(t){const e=rt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ek(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),zg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Uc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Uc(n)).join(",")),e.ue=r}return e.ue}function n1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!H8(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!a4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rT(t.startAt,e.startAt)&&rT(t.endAt,e.endAt)}function tk(t){return We.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r=null,n=[],i=[],s=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rz(t,e,r,n,i,s,o,c){return new Zh(t,e,r,n,i,s,o,c)}function i1(t){return new Zh(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c4(t){return t.collectionGroup!==null}function Dd(t){const e=rt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new en(Zr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new jm(s,n))}),r.has(Zr.keyField().canonicalString())||e.ce.push(new jm(Zr.keyField(),n))}return e.ce}function js(t){const e=rt(t);return e.le||(e.le=nz(e,Dd(t))),e.le}function nz(t,e){if(t.limitType==="F")return nT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jm(i.field,s)});const r=t.endAt?new km(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new km(t.startAt.position,t.startAt.inclusive):null;return nT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function rk(t,e){const r=t.filters.concat([e]);return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function nk(t,e,r){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function qg(t,e){return n1(js(t),js(e))&&t.limitType===e.limitType}function u4(t){return`${r1(js(t))}|lt:${t.limitType}`}function xc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>o4(i)).join(", ")}]`),zg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Uc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Uc(i)).join(",")),`Target(${n})`}(js(t))}; limitType=${t.limitType})`}function Wg(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):We.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Dd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,c,d){const h=tT(o,c,d);return o.inclusive?h<=0:h<0}(n.startAt,Dd(n),i)||n.endAt&&!function(o,c,d){const h=tT(o,c,d);return o.inclusive?h>=0:h>0}(n.endAt,Dd(n),i))}(t,e)}function iz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function d4(t){return(e,r)=>{let n=!1;for(const i of Dd(t)){const s=sz(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function sz(t,e,r){const n=t.field.isKeyField()?We.comparator(e.key,r.key):function(s,o,c){const d=o.data.field(s),h=c.data.field(s);return d!==null&&h!==null?Bc(d,h):et()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return e4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new ar(We.comparator);function ha(){return az}const h4=new ar(We.comparator);function Cd(...t){let e=h4;for(const r of t)e=e.insert(r.key,r);return e}function f4(t){let e=h4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function rl(){return $d()}function p4(){return $d()}function $d(){return new bu(t=>t.toString(),(t,e)=>t.isEqual(e))}const oz=new ar(We.comparator),lz=new en(We.comparator);function ct(...t){let e=lz;for(const r of t)e=e.add(r);return e}const cz=new en(wt);function uz(){return cz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(e)?"-0":e}}function m4(t){return{integerValue:""+t}}function dz(t,e){return B8(e)?m4(e):s1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function hz(t,e,r){return t instanceof th?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zj(s)&&(s=e1(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(r,e):t instanceof rh?v4(t,e):t instanceof nh?y4(t,e):function(i,s){const o=g4(i,s),c=sT(o)+sT(i.Pe);return Z_(o)&&Z_(i.Pe)?m4(c):s1(i.serializer,c)}(t,e)}function fz(t,e,r){return t instanceof rh?v4(t,e):t instanceof nh?y4(t,e):r}function g4(t,e){return t instanceof Sm?function(n){return Z_(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class th extends Hg{}class rh extends Hg{constructor(e){super(),this.elements=e}}function v4(t,e){const r=x4(e);for(const n of t.elements)r.some(i=>Cs(i,n))||r.push(n);return{arrayValue:{values:r}}}class nh extends Hg{constructor(e){super(),this.elements=e}}function y4(t,e){let r=x4(e);for(const n of t.elements)r=r.filter(i=>!Cs(i,n));return{arrayValue:{values:r}}}class Sm extends Hg{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function sT(t){return mr(t.integerValue||t.doubleValue)}function x4(t){return t1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,r){this.field=e,this.transform=r}}function mz(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof rh&&i instanceof rh||n instanceof nh&&i instanceof nh?Vc(n.elements,i.elements,Cs):n instanceof Sm&&i instanceof Sm?Cs(n.Pe,i.Pe):n instanceof th&&i instanceof th}(t.transform,e.transform)}class gz{constructor(e,r){this.version=e,this.transformResults=r}}class On{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function b4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kg(t.key,On.none()):new ef(t.key,t.data,On.none());{const r=t.data,n=Wn.empty();let i=new en(Zr.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new wo(t.key,n,new ci(i.toArray()),On.none())}}function vz(t,e,r){t instanceof ef?function(i,s,o){const c=i.value.clone(),d=oT(i.fieldTransforms,s,o.transformResults);c.setAll(d),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof wo?function(i,s,o){if(!lm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=oT(i.fieldTransforms,s,o.transformResults),d=s.data;d.setAll(w4(i)),d.setAll(c),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Fd(t,e,r,n){return t instanceof ef?function(s,o,c,d){if(!lm(s.precondition,o))return c;const h=s.value.clone(),p=lT(s.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof wo?function(s,o,c,d){if(!lm(s.precondition,o))return c;const h=lT(s.fieldTransforms,d,o),p=o.data;return p.setAll(w4(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(s,o,c){return lm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function yz(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=g4(n.transform,i||null);s!=null&&(r===null&&(r=Wn.empty()),r.set(n.field,s))}return r||null}function aT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Vc(n,i,(s,o)=>mz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ef extends Gg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Gg{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w4(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function oT(t,e,r){const n=new Map;At(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);n.set(s.field,fz(o,c,r[i]))}return n}function lT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,hz(s,o,e))}return n}class Kg extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xz extends Gg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vz(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Fd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Fd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=p4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=r.has(i.key)?null:c;const d=b4(o,c);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(tt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ct())}isEqual(e){return this.batchId===e.batchId&&Vc(this.mutations,e.mutations,(r,n)=>aT(r,n))&&Vc(this.baseMutations,e.baseMutations,(r,n)=>aT(r,n))}}class a1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){At(e.mutations.length===n.length);let i=function(){return oz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new a1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr,gt;function kz(t){switch(t){default:return et();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function _4(t){if(t===void 0)return da("GRPC error has no .code"),ke.UNKNOWN;switch(t){case wr.OK:return ke.OK;case wr.CANCELLED:return ke.CANCELLED;case wr.UNKNOWN:return ke.UNKNOWN;case wr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case wr.INTERNAL:return ke.INTERNAL;case wr.UNAVAILABLE:return ke.UNAVAILABLE;case wr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case wr.NOT_FOUND:return ke.NOT_FOUND;case wr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case wr.ABORTED:return ke.ABORTED;case wr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case wr.DATA_LOSS:return ke.DATA_LOSS;default:return et()}}(gt=wr||(wr={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new cl([4294967295,4294967295],0);function cT(t){const e=jz().encode(t),r=new HD;return r.update(e),new Uint8Array(r.digest())}function uT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cl([r,n],0),new cl([i,s],0)]}class o1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Td(`Invalid padding: ${r}`);if(n<0)throw new Td(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Td(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=cl.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(cl.fromNumber(n)));return i.compare(Sz)===1&&(i=new cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=cT(e),[n,i]=uT(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o1(s,i,r);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const r=cT(e),[n,i]=uT(r);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,i,s);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,tf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Yg(tt.min(),i,new ar(wt),ha(),ct())}}class tf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new tf(n,r,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class k4{constructor(e,r){this.targetId=e,this.me=r}}class j4{constructor(e,r,n=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class dT{constructor(){this.fe=0,this.ge=fT(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ct(),r=ct(),n=ct();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:et()}}),new tf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=fT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Nz{constructor(e){this.Le=e,this.Be=new Map,this.ke=ha(),this.qe=hT(),this.Qe=new ar(wt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:et()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(tk(s))if(n===0){const o=new We(s.path);this.Ue(r,o,pn.newNoDocument(o,tt.min()))}else At(n===1);else{const o=this.Ye(r);if(o!==n){const c=this.Ze(e),d=c?this.Xe(c,e,o):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,c;try{o=yl(n).toUint8Array()}catch(d){if(d instanceof t4)return Fc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new o1(o,i,s)}catch(d){return Fc(d instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,o)=>{const c=this.Je(o);if(c){if(s.current&&tk(c.target)){const d=new We(c.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,pn.newNoDocument(d,e))}s.be&&(r.set(o,s.ve()),s.Ce())}});let n=ct();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Yg(e,r,this.Qe,this.ke,n);return this.ke=ha(),this.qe=hT(),this.Qe=new ar(wt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new dT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new en(wt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Be("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function hT(){return new ar(We.comparator)}function fT(){return new ar(We.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Cz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tz={and:"AND",or:"OR"};class Az{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ik(t,e){return t.useProto3Json||zg(e)?e:{value:e}}function Nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Pz(t,e){return Nm(t,e.toTimestamp())}function Ss(t){return At(!!t),tt.fromTimestamp(function(r){const n=vo(r);return new Or(n.seconds,n.nanos)}(t))}function l1(t,e){return sk(t,e).canonicalString()}function sk(t,e){const r=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function N4(t){const e=Qt.fromString(t);return At(P4(e)),e}function ak(t,e){return l1(t.databaseId,e.path)}function Ey(t,e){const r=N4(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new We(C4(r))}function E4(t,e){return l1(t.databaseId,e)}function Oz(t){const e=N4(t);return e.length===4?Qt.emptyPath():C4(e)}function ok(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C4(t){return At(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pT(t,e,r){return{name:ak(t,e),fields:r.value.mapValue.fields}}function Iz(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:et()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(At(p===void 0||typeof p=="string"),nn.fromBase64String(p||"")):(At(p===void 0||p instanceof Buffer||p instanceof Uint8Array),nn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){const p=h.code===void 0?ke.UNKNOWN:_4(h.code);return new Re(p,h.message||"")}(o);r=new j4(n,i,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ey(t,n.document.name),s=Ss(n.document.updateTime),o=n.document.createTime?Ss(n.document.createTime):tt.min(),c=new Wn({mapValue:{fields:n.document.fields}}),d=pn.newFoundDocument(i,s,o,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new cm(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Ey(t,n.document),s=n.readTime?Ss(n.readTime):tt.min(),o=pn.newNoDocument(i,s),c=n.removedTargetIds||[];r=new cm([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Ey(t,n.document),s=n.removedTargetIds||[];r=new cm([],s,i,null)}else{if(!("filter"in e))return et();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new _z(i,s),c=n.targetId;r=new k4(c,o)}}return r}function Mz(t,e){let r;if(e instanceof ef)r={update:pT(t,e.key,e.value)};else if(e instanceof Kg)r={delete:ak(t,e.key)};else if(e instanceof wo)r={update:pT(t,e.key,e.data),updateMask:zz(e.fieldMask)};else{if(!(e instanceof xz))return et();r={verify:ak(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const c=o.transform;if(c instanceof th)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof rh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sm)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw et()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Pz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:et()}(t,e.precondition)),r}function Rz(t,e){return t&&t.length>0?(At(e!==void 0),t.map(r=>function(i,s){let o=i.updateTime?Ss(i.updateTime):Ss(s);return o.isEqual(tt.min())&&(o=Ss(s)),new gz(o,i.transformResults||[])}(r,e))):[]}function Lz(t,e){return{documents:[E4(t,e.path)]}}function Dz(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=E4(t,i);const s=function(h){if(h.length!==0)return A4(ss.create(h,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:bc(g.field),direction:Vz(g.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=ik(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:i}}function $z(t){let e=Oz(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){At(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=function(m){const g=T4(m);return g instanceof ss&&s4(g)?g.getFilters():[g]}(r.where));let o=[];r.orderBy&&(o=function(m){return m.map(g=>function(b){return new jm(wc(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(r.orderBy));let c=null;r.limit&&(c=function(m){let g;return g=typeof m=="object"?m.value:m,zg(g)?null:g}(r.limit));let d=null;r.startAt&&(d=function(m){const g=!!m.before,w=m.values||[];return new km(w,g)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const g=!m.before,w=m.values||[];return new km(w,g)}(r.endAt)),rz(e,i,o,s,c,"F",d,h)}function Fz(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function T4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=wc(r.unaryFilter.field);return kr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=wc(r.unaryFilter.field);return kr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wc(r.unaryFilter.field);return kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wc(r.unaryFilter.field);return kr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(t):t.fieldFilter!==void 0?function(r){return kr.create(wc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ss.create(r.compositeFilter.filters.map(n=>T4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et()}}(r.compositeFilter.op))}(t):et()}function Vz(t){return Ez[t]}function Bz(t){return Cz[t]}function Uz(t){return Tz[t]}function bc(t){return{fieldPath:t.canonicalString()}}function wc(t){return Zr.fromServerFormat(t.fieldPath)}function A4(t){return t instanceof kr?function(r){if(r.op==="=="){if(eT(r.value))return{unaryFilter:{field:bc(r.field),op:"IS_NAN"}};if(ZC(r.value))return{unaryFilter:{field:bc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eT(r.value))return{unaryFilter:{field:bc(r.field),op:"IS_NOT_NAN"}};if(ZC(r.value))return{unaryFilter:{field:bc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(r.field),op:Bz(r.op),value:r.value}}}(t):t instanceof ss?function(r){const n=r.getFilters().map(i=>A4(i));return n.length===1?n[0]:{compositeFilter:{op:Uz(r.op),filters:n}}}(t):et()}function zz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function P4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,r,n,i,s=tt.min(),o=tt.min(),c=nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.ct=e}}function Wz(t){const e=$z({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nk(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.un=new Gz}addToCollectionParentIndex(e,r){return this.un.add(r),Ne.resolve()}getCollectionParents(e,r){return Ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ne.resolve()}deleteFieldIndex(e,r){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,r){return Ne.resolve()}getDocumentsMatchingTarget(e,r){return Ne.resolve(null)}getIndexType(e,r){return Ne.resolve(0)}getFieldIndexes(e,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,r){return Ne.resolve(go.min())}getMinOffsetFromCollectionGroup(e,r){return Ne.resolve(go.min())}updateCollectionGroup(e,r,n){return Ne.resolve()}updateIndexEntries(e,r){return Ne.resolve()}}class Gz{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new en(Qt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new en(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zc(0)}static kn(){return new zc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.changes=new bu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Fd(n.mutation,i,ci.empty(),Or.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ct()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ct()){const i=rl();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=Cd();return s.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=rl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ct()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,n,i){let s=ha();const o=$d(),c=function(){return $d()}();return r.forEach((d,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof wo)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Fd(p.mutation,h,p.mutation.getFieldMask(),Or.now())):o.set(h.key,ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,p)=>o.set(h,p)),r.forEach((h,p)=>{var m;return c.set(h,new Yz(p,(m=o.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const n=$d();let i=new ar((o,c)=>o-c),s=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||ci.empty();p=c.applyToLocalView(h,p),n.set(d,p);const m=(i.get(c.batchId)||ct()).add(d);i=i.insert(c.batchId,m)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,m=p4();p.forEach(g=>{if(!s.has(g)){const w=b4(r.get(g),n.get(g));w!==null&&m.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ne.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return We.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):c4(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Ne.resolve(rl());let c=-1,d=s;return o.next(h=>Ne.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?Ne.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{d=d.insert(p,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,ct())).next(p=>({batchId:c,changes:f4(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new We(r)).next(n=>{let i=Cd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=Cd();return this.indexManager.getCollectionParents(e,s).next(c=>Ne.forEach(c,d=>{const h=function(m,g){return new Zh(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(p=>{p.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,pn.newInvalidDocument(p)))});let c=Cd();return o.forEach((d,h)=>{const p=s.get(d);p!==void 0&&Fd(p.mutation,h,ci.empty(),Or.now()),Wg(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ss(i.createTime)}}(r)),Ne.resolve()}getNamedQuery(e,r){return Ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:Wz(i.bundledQuery),readTime:Ss(i.readTime)}}(r)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.overlays=new ar(We.comparator),this.Ir=new Map}getOverlay(e,r){return Ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=rl();return Ne.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),Ne.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),Ne.resolve()}getOverlaysForCollection(e,r,n){const i=rl(),s=r.length+1,o=new We(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new ar((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=s.get(h.largestBatchId);p===null&&(p=rl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=rl(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return Ne.resolve(c)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new wz(r,n));let s=this.Ir.get(r);s===void 0&&(s=ct(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.Tr=new en(Fr.Er),this.dr=new en(Fr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Fr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Fr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new We(new Qt([])),n=new Fr(r,e),i=new Fr(r,e+1),s=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new We(new Qt([])),n=new Fr(r,e),i=new Fr(r,e+1);let s=ct();return this.dr.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new Fr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Fr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return We.comparator(e.key,r.key)||wt(e.wr,r.wr)}static Ar(e,r){return wt(e.wr,r.wr)||We.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new en(Fr.Er)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bz(s,r,n,i);this.mutationQueue.push(o);for(const c of i)this.br=this.br.add(new Fr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,r){return Ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Fr(r,0),i=new Fr(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],o=>{const c=this.Dr(o.wr);s.push(c)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new en(wt);return r.forEach(i=>{const s=new Fr(i,0),o=new Fr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{n=n.add(c.wr)})}),Ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;We.isDocumentKey(s)||(s=s.child(""));const o=new Fr(new We(s),0);let c=new en(wt);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.wr)),!0)},o),Ne.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){At(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ne.forEach(r.mutations,i=>{const s=new Fr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Fr(r,0),i=this.br.firstAfterOrEqual(n);return Ne.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.Mr=e,this.docs=function(){return new ar(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ne.resolve(n?n.document.mutableCopy():pn.newInvalidDocument(r))}getEntries(e,r){let n=ha();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),Ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=ha();const o=r.path,c=new We(o.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||D8(L8(p),n)<=0||(i.has(p.key)||Wg(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,r,n,i){et()}Or(e,r){return Ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new r7(this)}getSize(e){return Ne.resolve(this.size)}}class r7 extends Kz{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.persistence=e,this.Nr=new bu(r=>r1(r),n1),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new c1,this.targetCount=0,this.kr=zc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new zc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ne.resolve()}updateTargetData(e,r){return this.Kn(r),Ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ne.resolve(n)}containsKey(e,r){return Ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Jj(0),this.Kr=!1,this.Kr=!0,this.$r=new Zz,this.referenceDelegate=e(this),this.Ur=new n7(this),this.indexManager=new Hz,this.remoteDocumentCache=function(i){return new t7(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new qz(r),this.Gr=new Xz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Jz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new e7(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Be("MemoryPersistence","Starting transaction:",e);const i=new s7(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return Ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class s7 extends F8{constructor(e){super(),this.currentSequenceNumber=e}}class u1{constructor(e){this.persistence=e,this.Jr=new c1,this.Yr=null}static Zr(e){return new u1(e)}get Xr(){if(this.Yr)return this.Yr;throw et()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Xr,n=>{const i=We.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,tt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ne.or([()=>Ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ct(),i=ct();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new d1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YV()?8:V8(yn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new a7;return this.Xi(e,r,o).next(c=>{if(s.result=c,this.zi)return this.es(e,r,o,c.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(dd()<=ft.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",xc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ne.resolve()):(dd()<=ft.DEBUG&&Be("QueryEngine","Query:",xc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(dd()<=ft.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",xc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(r))):Ne.resolve())}Yi(e,r){if(iT(r))return Ne.resolve(null);let n=js(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=nk(r,null,"F"),n=js(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=ct(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,o,d.readTime)?this.Yi(e,nk(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,i){return iT(r)||i.isEqual(tt.min())?Ne.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const o=this.ts(r,s);return this.ns(r,o,n,i)?Ne.resolve(null):(dd()<=ft.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(r)),this.rs(e,o,r,R8(i,-1)).next(c=>c))})}ts(e,r){let n=new en(d4(e));return r.forEach((i,s)=>{Wg(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return dd()<=ft.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",xc(r)),this.Ji.getDocumentsMatchingQuery(e,r,go.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new ar(wt),this._s=new bu(s=>r1(s),n1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function c7(t,e,r,n){return new l7(t,e,r,n)}async function O4(t,e){const r=rt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],c=[];let d=ct();for(const h of i){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})}function u7(t,e){const r=rt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const m=h.batch,g=m.keys();let w=Ne.resolve();return g.forEach(b=>{w=w.next(()=>p.getEntry(d,b)).next(_=>{const x=h.docVersions.get(b);At(x!==null),_.version.compareTo(x)<0&&(m.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),p.addEntry(_)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=ct();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function I4(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function d7(t,e){const r=rt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const c=[];e.targetChanges.forEach((p,m)=>{const g=i.get(m);if(!g)return;c.push(r.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(s,p.addedDocuments,m)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(nn.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,n)),i=i.insert(m,w),function(_,x,C){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,w,p)&&c.push(r.Ur.updateTargetData(s,w))});let d=ha(),h=ct();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(h7(s,o,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(tt.min())){const p=r.Ur.getLastRemoteSnapshotVersion(s).next(m=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(p)}return Ne.waitFor(c).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(r.os=i,s))}function h7(t,e,r){let n=ct(),i=ct();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=ha();return r.forEach((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:o,Is:i}})}function f7(t,e){const r=rt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function p7(t,e){const r=rt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,Ne.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new io(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function lk(t,e,r){const n=rt(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Jh(o))throw o;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function mT(t,e,r){const n=rt(t);let i=tt.min(),s=ct();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,h,p){const m=rt(d),g=m._s.get(p);return g!==void 0?Ne.resolve(m.os.get(g)):m.Ur.getTargetData(h,p)}(n,o,js(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,c.targetId).next(d=>{s=d})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:tt.min(),r?s:ct())).next(c=>(m7(n,iz(e),c),{documents:c,Ts:s})))}function m7(t,e,r){let n=t.us.get(e)||tt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class gT{constructor(){this.activeTargetIds=uz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g7{constructor(){this.so=new gT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function Cy(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class b7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,o){const c=Cy(),d=this.xo(r,n.toUriEncodedString());Be("RestConnection",`Sending RPC '${r}' ${c}:`,d,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(r,d,h,i).then(p=>(Be("RestConnection",`Received RPC '${r}' ${c}: `,p),p),p=>{throw Fc("RestConnection",`RPC '${r}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,s,o,c){return this.Mo(r,n,i,s,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>r[o]=s),i&&i.headers.forEach((s,o)=>r[o]=s)}xo(r,n){const i=y7[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Cy();return new Promise((o,c)=>{const d=new GD;d.setWithCredentials(!0),d.listenOnce(KD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case am.NO_ERROR:const p=d.getResponseJson();Be(dn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case am.TIMEOUT:Be(dn,`RPC '${e}' ${s} timed out`),c(new Re(ke.DEADLINE_EXCEEDED,"Request time out"));break;case am.HTTP_ERROR:const m=d.getStatus();if(Be(dn,`RPC '${e}' ${s} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g?.error;if(w&&w.status&&w.message){const b=function(x){const C=x.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(C)>=0?C:ke.UNKNOWN}(w.status);c(new Re(b,w.message))}else c(new Re(ke.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(ke.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Be(dn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Be(dn,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const i=Cy(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XD(),c=QD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=s.join("");Be(dn,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=o.createWebChannel(p,d);let g=!1,w=!1;const b=new x7({Io:x=>{w?Be(dn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(g||(Be(dn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Be(dn,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},To:()=>m.close()}),_=(x,C,j)=>{x.listen(C,A=>{try{j(A)}catch(P){setTimeout(()=>{throw P},0)}})};return _(m,Ed.EventType.OPEN,()=>{w||(Be(dn,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),_(m,Ed.EventType.CLOSE,()=>{w||(w=!0,Be(dn,`RPC '${e}' stream ${i} transport closed`),b.So())}),_(m,Ed.EventType.ERROR,x=>{w||(w=!0,Fc(dn,`RPC '${e}' stream ${i} transport errored:`,x),b.So(new Re(ke.UNAVAILABLE,"The operation could not be completed")))}),_(m,Ed.EventType.MESSAGE,x=>{var C;if(!w){const j=x.data[0];At(!!j);const A=j,P=A.error||((C=A[0])===null||C===void 0?void 0:C.error);if(P){Be(dn,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let E=function(L){const R=wr[L];if(R!==void 0)return _4(R)}(S),T=P.message;E===void 0&&(E=ke.INTERNAL,T="Unknown error status: "+S+" with message "+P.message),w=!0,b.So(new Re(E,T)),m.close()}else Be(dn,`RPC '${e}' stream ${i} received:`,j),b.bo(j)}}),_(c,YD.STAT_EVENT,x=>{x.stat===X_.PROXY?Be(dn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===X_.NOPROXY&&Be(dn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new Az(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,r,n,i,s,o,c,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new M4(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ke.RESOURCE_EXHAUSTED?(da(r.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Re(ke.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w7 extends R4{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Iz(this.serializer,e),n=function(s){if(!("targetChange"in s))return tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?tt.min():o.readTime?Ss(o.readTime):tt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ok(this.serializer),r.addTarget=function(s,o){let c;const d=o.target;if(c=tk(d)?{documents:Lz(s,d)}:{query:Dz(s,d)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=S4(s,o.resumeToken);const h=ik(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(tt.min())>0){c.readTime=Nm(s,o.snapshotVersion.toTimestamp());const h=ik(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=Fz(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ok(this.serializer),r.removeTarget=e,this.a_(r)}}class _7 extends R4{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Rz(e.writeResults,e.commitTime),n=Ss(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ok(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Mz(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Re(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,sk(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(ke.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,sk(r,n),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ke.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class j7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(da(r),this.D_=!1):Be("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{n.enqueueAndForget(async()=>{Al(this)&&(Be("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=rt(d);h.L_.add(4),await rf(h),h.q_.set("Unknown"),h.L_.delete(4),await Xg(h)}(this))})}),this.q_=new j7(n,i)}}async function Xg(t){if(Al(t))for(const e of t.B_)await e(!0)}async function rf(t){for(const e of t.B_)await e(!1)}function L4(t,e){const r=rt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),m1(r)?p1(r):wu(r).r_()&&f1(r,e))}function h1(t,e){const r=rt(t),n=wu(r);r.N_.delete(e),n.r_()&&D4(r,e),r.N_.size===0&&(n.r_()?n.o_():Al(r)&&r.q_.set("Unknown"))}function f1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}wu(t).A_(e)}function D4(t,e){t.Q_.xe(e),wu(t).R_(e)}function p1(t){t.Q_=new Nz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wu(t).start(),t.q_.v_()}function m1(t){return Al(t)&&!wu(t).n_()&&t.N_.size>0}function Al(t){return rt(t).L_.size===0}function $4(t){t.Q_=void 0}async function N7(t){t.q_.set("Online")}async function E7(t){t.N_.forEach((e,r)=>{f1(t,e)})}async function C7(t,e){$4(t),m1(t)?(t.q_.M_(e),p1(t)):t.q_.set("Unknown")}async function T7(t,e,r){if(t.q_.set("Online"),e instanceof j4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))}(t,e)}catch(n){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Em(t,n)}else if(e instanceof cm?t.Q_.Ke(e):e instanceof k4?t.Q_.He(e):t.Q_.We(e),!r.isEqual(tt.min()))try{const n=await I4(t.localStore);r.compareTo(n)>=0&&await function(s,o){const c=s.Q_.rt(o);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,h)=>{const p=s.N_.get(d);if(!p)return;s.N_.set(d,p.withResumeToken(nn.EMPTY_BYTE_STRING,p.snapshotVersion)),D4(s,d);const m=new io(p.target,d,h,p.sequenceNumber);f1(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Be("RemoteStore","Failed to raise snapshot:",n),await Em(t,n)}}async function Em(t,e,r){if(!Jh(e))throw e;t.L_.add(1),await rf(t),t.q_.set("Offline"),r||(r=()=>I4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Be("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Xg(t)})}function F4(t,e){return e().catch(r=>Em(t,r,e))}async function Jg(t){const e=rt(t),r=yo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;A7(e);)try{const i=await f7(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,P7(e,i)}catch(i){await Em(e,i)}V4(e)&&B4(e)}function A7(t){return Al(t)&&t.O_.length<10}function P7(t,e){t.O_.push(e);const r=yo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function V4(t){return Al(t)&&!yo(t).n_()&&t.O_.length>0}function B4(t){yo(t).start()}async function O7(t){yo(t).p_()}async function I7(t){const e=yo(t);for(const r of t.O_)e.m_(r.mutations)}async function M7(t,e,r){const n=t.O_.shift(),i=a1.from(n,e,r);await F4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jg(t)}async function R7(t,e){e&&yo(t).V_&&await async function(n,i){if(function(o){return kz(o)&&o!==ke.ABORTED}(i.code)){const s=n.O_.shift();yo(n).s_(),await F4(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jg(n)}}(t,e),V4(t)&&B4(t)}async function yT(t,e){const r=rt(t);r.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const n=Al(r);r.L_.add(3),await rf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Xg(r)}async function L7(t,e){const r=rt(t);e?(r.L_.delete(2),await Xg(r)):e||(r.L_.add(2),await rf(r),r.q_.set("Unknown"))}function wu(t){return t.K_||(t.K_=function(r,n,i){const s=rt(r);return s.w_(),new w7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:N7.bind(null,t),Ro:E7.bind(null,t),mo:C7.bind(null,t),d_:T7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),m1(t)?p1(t):t.q_.set("Unknown")):(await t.K_.stop(),$4(t))})),t.K_}function yo(t){return t.U_||(t.U_=function(r,n,i){const s=rt(r);return s.w_(),new _7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:O7.bind(null,t),mo:R7.bind(null,t),f_:I7.bind(null,t),g_:M7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jg(t)):(await t.U_.stop(),t.O_.length>0&&(Be("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,c=new g1(e,r,o,i,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v1(t,e){if(da("AsyncQueue",`${e}: ${t}`),Jh(t))return new Re(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.comparator=e?(r,n)=>e(r,n)||We.comparator(r.key,n.key):(r,n)=>We.comparator(r.key,n.key),this.keyedMap=Cd(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Ic(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ic)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ic;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.W_=new ar(We.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):et():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class qc{constructor(e,r,n,i,s,o,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new qc(e,r,Ic.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class $7{constructor(){this.queries=bT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=rt(r),s=i.queries;i.queries=bT(),s.forEach((o,c)=>{for(const d of c.j_)d.onError(n)})})(this,new Re(ke.ABORTED,"Firestore shutting down"))}}function bT(){return new bu(t=>u4(t),qg)}async function U4(t,e){const r=rt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new D7,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const c=v1(o,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&y1(r)}async function z4(t,e){const r=rt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function F7(t,e){const r=rt(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const c of o.j_)c.X_(i)&&(n=!0);o.z_=i}}n&&y1(r)}function V7(t,e,r){const n=rt(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function y1(t){t.Y_.forEach(e=>{e.next()})}var ck,wT;(wT=ck||(ck={})).ea="default",wT.Cache="cache";class q4{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new qc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ck.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.key=e}}class H4{constructor(e){this.key=e}}class B7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ct(),this.mutatedKeys=ct(),this.Aa=d4(e),this.Ra=new Ic(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new xT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const g=i.get(p),w=Wg(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;g&&w?g.data.isEqual(w.data)?b!==_&&(n.track({type:3,doc:w}),x=!0):this.ga(g,w)||(n.track({type:2,doc:w}),x=!0,(d&&this.Aa(w,d)>0||h&&this.Aa(w,h)<0)&&(c=!0)):!g&&w?(n.track({type:0,doc:w}),x=!0):g&&!w&&(n.track({type:1,doc:g}),x=!0,(d||h)&&(c=!0)),x&&(w?(o=o.add(w),s=_?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{Ra:o,fa:n,ns:c,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(w,b){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return _(w)-_(b)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),i=i!=null&&i;const c=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,h=d!==this.Ea;return this.Ea=d,o.length!==0||h?{snapshot:new qc(this.query,e.Ra,s,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ct(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new H4(n))}),this.da.forEach(n=>{e.has(n)||r.push(new W4(n))}),r}ba(e){this.Ta=e.Ts,this.da=ct();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return qc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class U7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class z7{constructor(e){this.key=e,this.va=!1}}class q7{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new bu(c=>u4(c),qg),this.Ma=new Map,this.xa=new Set,this.Oa=new ar(We.comparator),this.Na=new Map,this.La=new c1,this.Ba={},this.ka=new Map,this.qa=zc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W7(t,e,r=!0){const n=J4(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await G4(n,e,r,!0),i}async function H7(t,e){const r=J4(t);await G4(r,e,!0,!1)}async function G4(t,e,r,n){const i=await p7(t.localStore,js(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let c;return n&&(c=await G7(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&L4(t.remoteStore,i),c}async function G7(t,e,r,n,i){t.Ka=(m,g,w)=>async function(_,x,C,j){let A=x.view.ma(C);A.ns&&(A=await mT(_.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,A)));const P=j&&j.targetChanges.get(x.targetId),S=j&&j.targetMismatches.get(x.targetId)!=null,E=x.view.applyChanges(A,_.isPrimaryClient,P,S);return kT(_,x.targetId,E.wa),E.snapshot}(t,m,g,w);const s=await mT(t.localStore,e,!0),o=new B7(e,s.Ts),c=o.ma(s.documents),d=tf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);kT(t,r,h.wa);const p=new U7(e,r,o);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function K7(t,e,r){const n=rt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(o=>!qg(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await lk(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&h1(n.remoteStore,i.targetId),uk(n,i.targetId)}).catch(Xh)):(uk(n,i.targetId),await lk(n.localStore,i.targetId,!0))}async function Y7(t,e){const r=rt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),h1(r.remoteStore,n.targetId))}async function Q7(t,e,r){const n=nq(t);try{const i=await function(o,c){const d=rt(o),h=Or.now(),p=c.reduce((w,b)=>w.add(b.key),ct());let m,g;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let b=ha(),_=ct();return d.cs.getEntries(w,p).next(x=>{b=x,b.forEach((C,j)=>{j.isValidDocument()||(_=_.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,b)).next(x=>{m=x;const C=[];for(const j of c){const A=yz(j,m.get(j.key).overlayedDocument);A!=null&&C.push(new wo(j.key,A,r4(A.value.mapValue),On.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,C,c)}).next(x=>{g=x;const C=x.applyToLocalDocumentSet(m,_);return d.documentOverlayCache.saveOverlays(w,x.batchId,C)})}).then(()=>({batchId:g.batchId,changes:f4(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let h=o.Ba[o.currentUser.toKey()];h||(h=new ar(wt)),h=h.insert(c,d),o.Ba[o.currentUser.toKey()]=h}(n,i.batchId,r),await nf(n,i.changes),await Jg(n.remoteStore)}catch(i){const s=v1(i,"Failed to persist write");r.reject(s)}}async function K4(t,e){const r=rt(t);try{const n=await d7(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Na.get(s);o&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?At(o.va):i.removedDocuments.size>0&&(At(o.va),o.va=!1))}),await nf(r,n,e)}catch(n){await Xh(n)}}function _T(t,e,r){const n=rt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,o)=>{const c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=rt(o);d.onlineState=c;let h=!1;d.queries.forEach((p,m)=>{for(const g of m.j_)g.Z_(c)&&(h=!0)}),h&&y1(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function X7(t,e,r){const n=rt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let o=new ar(We.comparator);o=o.insert(s,pn.newNoDocument(s,tt.min()));const c=ct().add(s),d=new Yg(tt.min(),new Map,new ar(wt),o,c);await K4(n,d),n.Oa=n.Oa.remove(s),n.Na.delete(e),x1(n)}else await lk(n.localStore,e,!1).then(()=>uk(n,e,r)).catch(Xh)}async function J7(t,e){const r=rt(t),n=e.batch.batchId;try{const i=await u7(r.localStore,e);Q4(r,n,null),Y4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await nf(r,i)}catch(i){await Xh(i)}}async function Z7(t,e,r){const n=rt(t);try{const i=await function(o,c){const d=rt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(m=>(At(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);Q4(n,e,r),Y4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await nf(n,i)}catch(i){await Xh(i)}}function Y4(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function Q4(t,e,r){const n=rt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function uk(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||X4(t,n)})}function X4(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(h1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),x1(t))}function kT(t,e,r){for(const n of r)n instanceof W4?(t.La.addReference(n.key,e),eq(t,n)):n instanceof H4?(Be("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||X4(t,n.key)):et()}function eq(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Be("SyncEngine","New document in limbo: "+r),t.xa.add(n),x1(t))}function x1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new We(Qt.fromString(e)),n=t.qa.next();t.Na.set(n,new z7(r)),t.Oa=t.Oa.insert(r,n),L4(t.remoteStore,new io(js(i1(r.path)),n,"TargetPurposeLimboResolution",Jj.oe))}}async function nf(t,e,r){const n=rt(t),i=[],s=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{o.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){i.push(h);const m=d1.Wi(d.targetId,h);s.push(m)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(d,h){const p=rt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(h,g=>Ne.forEach(g.$i,w=>p.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>Ne.forEach(g.Ui,w=>p.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!Jh(m))throw m;Be("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const w=p.os.get(g),b=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(b);p.os=p.os.insert(g,_)}}}(n.localStore,s))}async function tq(t,e){const r=rt(t);if(!r.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const n=await O4(r.localStore,e);r.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(d=>{d.reject(new Re(ke.CANCELLED,o))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nf(r,n.hs)}}function rq(t,e){const r=rt(t),n=r.Na.get(e);if(n&&n.va)return ct().add(n.key);{let i=ct();const s=r.Ma.get(e);if(!s)return i;for(const o of s){const c=r.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function J4(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X7.bind(null,e),e.Ca.d_=F7.bind(null,e.eventManager),e.Ca.$a=V7.bind(null,e.eventManager),e}function nq(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z7.bind(null,e),e}class Cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return c7(this.persistence,new o7,e.initialUser,this.serializer)}Ga(e){return new i7(u1.Zr,this.serializer)}Wa(e){return new g7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cm.provider={build:()=>new Cm};class dk{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_T(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tq.bind(null,this.syncEngine),await L7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $7}()}createDatastore(e){const r=Qg(e.databaseInfo.databaseId),n=function(s){return new b7(s)}(e.databaseInfo);return function(s,o,c,d){return new k7(s,o,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,c){return new S7(n,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>_T(this.syncEngine,r,0),function(){return vT.D()?new vT:new v7}())}createSyncEngine(e,r){return function(i,s,o,c,d,h,p){const m=new q7(i,s,o,c,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=rt(i);Be("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await rf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}dk.provider={build:()=>new dk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=ZD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Be("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=v1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await O4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await sq(t);Be("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>yT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>yT(e.remoteStore,i)),t._onlineComponents=e}async function sq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Fc("Error using user provided cache. Falling back to memory cache: "+r),await Ay(t,new Cm)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),await Ay(t,new Cm);return t._offlineComponents}async function e3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),await jT(t,t._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),await jT(t,new dk))),t._onlineComponents}function aq(t){return e3(t).then(e=>e.syncEngine)}async function hk(t){const e=await e3(t),r=e.eventManager;return r.onListen=W7.bind(null,e.syncEngine),r.onUnlisten=K7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=H7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Y7.bind(null,e.syncEngine),r}function oq(t,e,r={}){const n=new co;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,c,d,h){const p=new Z4({next:g=>{p.Za(),o.enqueueAndForget(()=>z4(s,m)),g.fromCache&&d.source==="server"?h.reject(new Re(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new q4(c,p,{includeMetadataChanges:!0,_a:!0});return U4(s,m)}(await hk(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e,r){if(!r)throw new Re(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lq(t,e,r,n){if(e===!0&&n===!0)throw new Re(ke.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function NT(t){if(!We.isDocumentKey(t))throw new Re(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(We.isDocumentKey(t))throw new Re(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et()}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zg(t);throw new Re(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Re(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Re(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Re(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new N8;switch(n.type){case"firstParty":return new A8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ST.get(r);n&&(Be("ComponentProvider","Removing Datastore"),ST.delete(r),n.terminate())}(this),Promise.resolve()}}function cq(t,e,r,n={}){var i;const s=(t=di(t,e0))._getSettings(),o=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=fn.MOCK_USER;else{c=sD(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fn(h)}t._authCredentials=new E8(new JD(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pl(this.firestore,e,this._query)}}class In{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class uo extends Pl{constructor(e,r,n){super(e,r,i1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new We(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function kc(t,e,...r){if(t=Xt(t),r3("collection","path",e),t instanceof e0){const n=Qt.fromString(e,...r);return ET(n),new uo(t,null,n)}{if(!(t instanceof In||t instanceof uo))throw new Re(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Qt.fromString(e,...r));return ET(n),new uo(t.firestore,null,n)}}function qn(t,e,...r){if(t=Xt(t),arguments.length===1&&(e=ZD.newId()),r3("doc","path",e),t instanceof e0){const n=Qt.fromString(e,...r);return NT(n),new In(t,null,new We(n))}{if(!(t instanceof In||t instanceof uo))throw new Re(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Qt.fromString(e,...r));return NT(n),new In(t.firestore,t instanceof uo?t.converter:null,new We(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new M4(this,"async_queue_retry"),this.Vu=()=>{const n=Ty();n&&Be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ty();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ty();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new co;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jh(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw da("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=g1.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&et()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function AT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends e0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new TT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function uq(t,e){const r=typeof t=="object"?t:Bj(),n=typeof t=="string"?t:"(default)",i=Fg(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=rD("firestore");s&&cq(i,...s)}return i}function t0(t){if(t._terminated)throw new Re(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dq(t),t._firestoreClient}function dq(t){var e,r,n;const i=t._freezeSettings(),s=function(c,d,h,p){return new z8(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,t3(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iq(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wc(nn.fromBase64String(e))}catch(r){throw new Re(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wc(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=/^__.*__$/;class fq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,r,this.fieldTransforms):new ef(e,this.data,r,this.fieldTransforms)}}class n3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new wo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function i3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class _1{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Tm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(i3(this.Cu)&&hq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pq{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Qg(e)}Qu(e,r,n,i=!1){return new _1({Cu:e,methodName:r,qu:n,path:Zr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(t){const e=t._freezeSettings(),r=Qg(t._databaseId);return new pq(t._databaseId,!!e.ignoreUndefinedProperties,r)}function k1(t,e,r,n,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);S1("Data must be an object, but it was:",o,n);const c=o3(n,o);let d,h;if(s.merge)d=new ci(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const g=fk(e,m,r);if(!o.contains(g))throw new Re(ke.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);c3(p,g)||p.push(g)}d=new ci(p),h=o.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=o.fieldTransforms;return new fq(new Wn(c),d,h)}class n0 extends r0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n0}}class j1 extends r0{_toFieldTransform(e){return new pz(e.path,new th)}isEqual(e){return e instanceof j1}}function s3(t,e,r,n){const i=t.Qu(1,e,r);S1("Data must be an object, but it was:",i,n);const s=[],o=Wn.empty();Tl(n,(d,h)=>{const p=N1(e,d,r);h=Xt(h);const m=i.Nu(p);if(h instanceof n0)s.push(p);else{const g=of(h,m);g!=null&&(s.push(p),o.set(p,g))}});const c=new ci(s);return new n3(o,c,i.fieldTransforms)}function a3(t,e,r,n,i,s){const o=t.Qu(1,e,r),c=[fk(e,n,r)],d=[i];if(s.length%2!=0)throw new Re(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(fk(e,s[g])),d.push(s[g+1]);const h=[],p=Wn.empty();for(let g=c.length-1;g>=0;--g)if(!c3(h,c[g])){const w=c[g];let b=d[g];b=Xt(b);const _=o.Nu(w);if(b instanceof n0)h.push(w);else{const x=of(b,_);x!=null&&(h.push(w),p.set(w,x))}}const m=new ci(h);return new n3(p,m,o.fieldTransforms)}function mq(t,e,r,n=!1){return of(r,t.Qu(n?4:3,e))}function of(t,e){if(l3(t=Xt(t)))return S1("Unsupported field value:",e,t),o3(t,e);if(t instanceof r0)return function(n,i){if(!i3(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const c of n){let d=of(c,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Xt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dz(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Or.fromDate(n);return{timestampValue:Nm(i.serializer,s)}}if(n instanceof Or){const s=new Or(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nm(i.serializer,s)}}if(n instanceof b1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wc)return{bytesValue:S4(i.serializer,n._byteString)};if(n instanceof In){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof w1)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return s1(c.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Zg(n)}`)}(t,e)}function o3(t,e){const r={};return e4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(t,(n,i)=>{const s=of(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function l3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Or||t instanceof b1||t instanceof Wc||t instanceof In||t instanceof r0||t instanceof w1)}function S1(t,e,r){if(!l3(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Zg(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function fk(t,e,r){if((e=Xt(e))instanceof sf)return e._internalPath;if(typeof e=="string")return N1(t,e);throw Tm("Field path arguments must be of type string or ",t,!1,void 0,r)}const gq=new RegExp("[~\\*/\\[\\]]");function N1(t,e,r){if(e.search(gq)>=0)throw Tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new sf(...e.split("."))._internalPath}catch{throw Tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Tm(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||o)&&(d+=" (found",s&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new Re(ke.INVALID_ARGUMENT,c+t+d)}function c3(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(d3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class vq extends u3{data(){return super.data()}}function d3(t,e){return typeof e=="string"?N1(t,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E1{}class yq extends E1{}function xq(t,e,...r){let n=[];e instanceof E1&&n.push(e),n=n.concat(r),function(s){const o=s.filter(d=>d instanceof T1).length,c=s.filter(d=>d instanceof C1).length;if(o>1||o>0&&c>0)throw new Re(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class C1 extends yq{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new C1(e,r,n)}_apply(e){const r=this._parse(e);return f3(e._query,r),new Pl(e.firestore,e.converter,rk(e._query,r))}_parse(e){const r=af(e.firestore);return function(s,o,c,d,h,p,m){let g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){OT(m,p);const w=[];for(const b of m)w.push(PT(d,s,b));g={arrayValue:{values:w}}}else g=PT(d,s,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||OT(m,p),g=mq(c,o,m,p==="in"||p==="not-in");return kr.create(h,p,g)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class T1 extends E1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new T1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ss.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const c=s.getFlattenedFilters();for(const d of c)f3(o,d),o=rk(o,d)}(e._query,r),new Pl(e.firestore,e.converter,rk(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function PT(t,e,r){if(typeof(r=Xt(r))=="string"){if(r==="")throw new Re(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c4(e)&&r.indexOf("/")!==-1)throw new Re(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Qt.fromString(r));if(!We.isDocumentKey(n))throw new Re(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return JC(t,new We(n))}if(r instanceof In)return JC(t,r._key);throw new Re(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(r)}.`)}function OT(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f3(t,e){const r=function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Re(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bq{convertValue(e,r="none"){switch(xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw et()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Tl(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>mr(o.doubleValue));return new w1(s)}convertGeoPoint(e){return new b1(mr(e.latitude),mr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=e1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const r=vo(e);return new Or(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Qt.fromString(e);At(P4(n));const i=new Zd(n.get(1),n.get(3)),s=new We(n.popFirst(5));return i.isEqual(r)||da(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p3 extends u3{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(d3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class um extends p3{data(e={}){return super.data(e)}}class m3{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ad(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new um(this._firestore,this._userDataWriter,n.key,n,new Ad(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new um(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ad(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const d=new um(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ad(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:wq(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}class P1 extends bq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,r)}}function _q(t){t=di(t,Pl);const e=di(t.firestore,fa),r=t0(e),n=new P1(e);return h3(t._query),oq(r,t._query).then(i=>new m3(e,n,t,i))}function IT(t,e,r){t=di(t,In);const n=di(t.firestore,fa),i=A1(t.converter,e,r);return lf(n,[k1(af(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,On.none())])}function Am(t,e,r,...n){t=di(t,In);const i=di(t.firestore,fa),s=af(i);let o;return o=typeof(e=Xt(e))=="string"||e instanceof sf?a3(s,"updateDoc",t._key,e,r,n):s3(s,"updateDoc",t._key,e),lf(i,[o.toMutation(t._key,On.exists(!0))])}function g3(t){return lf(di(t.firestore,fa),[new Kg(t._key,On.none())])}function v3(t,e){const r=di(t.firestore,fa),n=qn(t),i=A1(t.converter,e);return lf(r,[k1(af(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,On.exists(!1))]).then(()=>n)}function dm(t,...e){var r,n,i;t=Xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||AT(e[o])||(s=e[o],o++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(AT(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,h,p;if(t instanceof In)h=di(t.firestore,fa),p=i1(t._key.path),d={next:m=>{e[o]&&e[o](kq(h,t,m))},error:e[o+1],complete:e[o+2]};else{const m=di(t,Pl);h=di(m.firestore,fa),p=m._query;const g=new P1(h);d={next:w=>{e[o]&&e[o](new m3(h,g,m,w))},error:e[o+1],complete:e[o+2]},h3(t._query)}return function(g,w,b,_){const x=new Z4(_),C=new q4(w,x,b);return g.asyncQueue.enqueueAndForget(async()=>U4(await hk(g),C)),()=>{x.Za(),g.asyncQueue.enqueueAndForget(async()=>z4(await hk(g),C))}}(t0(h),p,c,d)}function lf(t,e){return function(n,i){const s=new co;return n.asyncQueue.enqueueAndForget(async()=>Q7(await aq(n),i,s)),s.promise}(t0(t),e)}function kq(t,e,r){const n=r.docs.get(e._key),i=new P1(t);return new p3(t,i,e._key,n,new Ad(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=af(e)}set(e,r,n){this._verifyNotCommitted();const i=Py(e,this._firestore),s=A1(i.converter,r,n),o=k1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(o.toMutation(i._key,On.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=Py(e,this._firestore);let o;return o=typeof(r=Xt(r))=="string"||r instanceof sf?a3(this._dataReader,"WriteBatch.update",s._key,r,n,i):s3(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(o.toMutation(s._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Py(e,this._firestore);return this._mutations=this._mutations.concat(new Kg(r._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Py(t,e){if((t=Xt(t)).firestore!==e)throw new Re(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function to(){return new j1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){return t0(t=di(t,fa)),new jq(t,e=>lf(t,e))}(function(e,r=!0){(function(i){xu=i})(El),pl(new mo("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new fa(new C8(n.getProvider("auth-internal")),new O8(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:r},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ws(GC,"4.7.3",e),ws(GC,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebasestorage.googleapis.com",x3="storageBucket",Sq=2*60*1e3,Nq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Os{constructor(e,r,n=0){super(Iy(e),`Firebase Storage: ${r} (${Iy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Iy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function Iy(t){return"storage/"+t}function O1(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(hr.UNKNOWN,t)}function Eq(t){return new fr(hr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Cq(t){return new fr(hr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tq(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fr(hr.UNAUTHENTICATED,t)}function Aq(){return new fr(hr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Pq(t){return new fr(hr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Oq(){return new fr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Iq(){return new fr(hr.CANCELED,"User canceled the upload/download.")}function Mq(t){return new fr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function Rq(t){return new fr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Lq(){return new fr(hr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x3+"' property when initializing the app?")}function Dq(){return new fr(hr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $q(){return new fr(hr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Fq(t){return new fr(hr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pk(t){return new fr(hr.INVALID_ARGUMENT,t)}function b3(){return new fr(hr.APP_DELETED,"The Firebase app was deleted.")}function Vq(t){return new fr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vd(t,e){return new fr(hr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hd(t){throw new fr(hr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ui.makeFromUrl(e,r)}catch{return new ui(e,"")}if(n.path==="")return n;throw Rq(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),b={bucket:1,path:3},_=r===y3?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",C=new RegExp(`^https?://${_}/${i}/${x}`,"i"),A=[{regex:c,indices:d,postModify:s},{regex:w,indices:b,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let P=0;P<A.length;P++){const S=A[P],E=S.regex.exec(e);if(E){const T=E[S.indices.bucket];let M=E[S.indices.path];M||(M=""),n=new ui(T,M),S.postModify(n);break}}if(n==null)throw Mq(e);return n}}class Bq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t,e,r){let n=1,i=null,s=null,o=!1,c=0;function d(){return c===2}let h=!1;function p(...x){h||(h=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(w,d())},x)}function g(){s&&clearTimeout(s)}function w(x,...C){if(h){g();return}if(x){g(),p.call(null,x,...C);return}if(d()||o){g(),p.call(null,x,...C);return}n<64&&(n*=2);let A;c===1?(c=2,A=0):A=(n+Math.random())*1e3,m(A)}let b=!1;function _(x){b||(b=!0,g(),!h&&(i!==null?(x||(c=2),clearTimeout(i),m(0)):x||(c=1)))}return m(0),s=setTimeout(()=>{o=!0,_(!0)},r),_}function zq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){return t!==void 0}function Wq(t){return typeof t=="object"&&!Array.isArray(t)}function I1(t){return typeof t=="string"||t instanceof String}function MT(t){return M1()&&t instanceof Blob}function M1(){return typeof Blob<"u"}function RT(t,e,r,n){if(n<e)throw pk(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw pk(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function w3(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var ul;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ul||(ul={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,r,n,i,s,o,c,d,h,p,m,g=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,b)=>{this.resolve_=w,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new $p(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const c=s.getErrorCode()===ul.NO_ERROR,d=s.getStatus();if(!c||Hq(d,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===ul.ABORT;n(!1,new $p(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new $p(h,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());qq(d)?s(d):s()}catch(d){o(d)}else if(c!==null){const d=O1();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?b3():Iq();o(d)}else{const d=Oq();o(d)}};this.canceled_?r(!1,new $p(!1,null,!0)):this.backoffId_=Uq(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $p{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Kq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Yq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Xq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Jq(t,e,r,n,i,s,o=!0){const c=w3(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return Qq(h,e),Kq(h,r),Yq(h,s),Xq(h,n),new Gq(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eW(...t){const e=Zq();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(M1())return new Blob(t);throw new fr(hr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tW(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t){if(typeof atob>"u")throw Fq("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class My{constructor(e,r){this.data=e,this.contentType=r||null}}function nW(t,e){switch(t){case xs.RAW:return new My(_3(e));case xs.BASE64:case xs.BASE64URL:return new My(k3(t,e));case xs.DATA_URL:return new My(sW(e),aW(e))}throw O1()}function _3(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,o=t.charCodeAt(++r);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function iW(t){let e;try{e=decodeURIComponent(t)}catch{throw Vd(xs.DATA_URL,"Malformed data URL.")}return _3(e)}function k3(t,e){switch(t){case xs.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xs.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=rW(e)}catch(i){throw i.message.includes("polyfill")?i:Vd(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class j3{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Vd(xs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=oW(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function sW(t){const e=new j3(t);return e.base64?k3(xs.BASE64,e.rest):iW(e.rest)}function aW(t){return new j3(t).contentType}function oW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,r){let n=0,i="";MT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(MT(this.data_)){const n=this.data_,i=tW(n,e,r);return i===null?null:new ro(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new ro(n,!0)}}static getBlob(...e){if(M1()){const r=e.map(n=>n instanceof ro?n.data_:n);return new ro(eW.apply(null,r))}else{const r=e.map(o=>I1(o)?nW(xs.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new ro(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){let e;try{e=JSON.parse(t)}catch{return null}return Wq(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cW(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function N3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(t,e){return e}class Cn{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||uW}}let Fp=null;function dW(t){return!I1(t)||t.length<2?t:N3(t)}function E3(){if(Fp)return Fp;const t=[];t.push(new Cn("bucket")),t.push(new Cn("generation")),t.push(new Cn("metageneration")),t.push(new Cn("name","fullPath",!0));function e(s,o){return dW(o)}const r=new Cn("name");r.xform=e,t.push(r);function n(s,o){return o!==void 0?Number(o):o}const i=new Cn("size");return i.xform=n,t.push(i),t.push(new Cn("timeCreated")),t.push(new Cn("updated")),t.push(new Cn("md5Hash",null,!0)),t.push(new Cn("cacheControl",null,!0)),t.push(new Cn("contentDisposition",null,!0)),t.push(new Cn("contentEncoding",null,!0)),t.push(new Cn("contentLanguage",null,!0)),t.push(new Cn("contentType",null,!0)),t.push(new Cn("metadata","customMetadata",!0)),Fp=t,Fp}function hW(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new ui(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function fW(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const o=r[s];n[o.local]=o.xform(n,e[o.server])}return hW(n,t),n}function C3(t,e,r){const n=S3(e);return n===null?null:fW(t,n,r)}function pW(t,e,r,n){const i=S3(e);if(i===null||!I1(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const p=t.bucket,m=t.fullPath,g="/b/"+o(p)+"/o/"+o(m),w=R1(g,r,n),b=w3({alt:"media",token:h});return w+b})[0]}function mW(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class T3{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(!t)throw O1()}function gW(t,e){function r(n,i){const s=C3(t,i,e);return A3(s!==null),s}return r}function vW(t,e){function r(n,i){const s=C3(t,i,e);return A3(s!==null),pW(s,i,t.host,t._protocol)}return r}function P3(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Aq():i=Tq():r.getStatus()===402?i=Cq(t.bucket):r.getStatus()===403?i=Pq(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function yW(t){const e=P3(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=Eq(t.path)),s.serverResponse=i.serverResponse,s}return r}function xW(t,e,r){const n=e.fullServerUrl(),i=R1(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new T3(i,s,vW(t,r),o);return c.errorHandler=yW(e),c}function bW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wW(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=bW(null,e)),n}function _W(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let A="";for(let P=0;P<2;P++)A=A+Math.random().toString().slice(2);return A}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=wW(e,n,i),p=mW(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+d+"--",w=ro.getBlob(m,n,g);if(w===null)throw Dq();const b={name:h.fullPath},_=R1(s,t.host,t._protocol),x="POST",C=t.maxUploadRetryTime,j=new T3(_,x,gW(t,r),C);return j.urlParams=b,j.headers=o,j.body=w.uploadData(),j.errorHandler=P3(e),j}class kW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ul.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ul.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ul.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw hd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jW extends kW{initXhr(){this.xhr_.responseType="text"}}function O3(){return new jW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,r){this._service=e,r instanceof ui?this._location=r:this._location=ui.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new bl(e,r)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N3(this._location.path)}get storage(){return this._service}get parent(){const e=lW(this._location.path);if(e===null)return null;const r=new ui(this._location.bucket,e);return new bl(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Vq(e)}}function SW(t,e,r){t._throwIfRoot("uploadBytes");const n=_W(t.storage,t._location,E3(),new ro(e,!0),r);return t.storage.makeRequestWithTokens(n,O3).then(i=>({metadata:i,ref:t}))}function NW(t){t._throwIfRoot("getDownloadURL");const e=xW(t.storage,t._location,E3());return t.storage.makeRequestWithTokens(e,O3).then(r=>{if(r===null)throw $q();return r})}function EW(t,e){const r=cW(t._location.path,e),n=new ui(t._location.bucket,r);return new bl(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){return/^[A-Za-z]+:\/\//.test(t)}function TW(t,e){return new bl(t,e)}function I3(t,e){if(t instanceof L1){const r=t;if(r._bucket==null)throw Lq();const n=new bl(r,r._bucket);return e!=null?I3(n,e):n}else return e!==void 0?EW(t,e):t}function AW(t,e){if(e&&CW(e)){if(t instanceof L1)return TW(t,e);throw pk("To use ref(service, url), the first argument must be a Storage instance.")}else return I3(t,e)}function LT(t,e){const r=e?.[x3];return r==null?null:ui.makeFromBucketSpec(r,t)}function PW(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:sD(i,t.app.options.projectId))}class L1{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=y3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sq,this._maxUploadRetryTime=Nq,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i,this._host):this._bucket=LT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=LT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){RT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){RT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bl(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new Bq(b3());{const o=Jq(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const DT="@firebase/storage",$T="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="storage";function OW(t,e,r){return t=Xt(t),SW(t,e,r)}function IW(t){return t=Xt(t),NW(t)}function MW(t,e){return t=Xt(t),AW(t,e)}function RW(t=Bj(),e){t=Xt(t);const n=Fg(t,M3).getImmediate({identifier:e}),i=rD("storage");return i&&LW(n,...i),n}function LW(t,e,r,n={}){PW(t,e,r,n)}function DW(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new L1(r,n,i,e,El)}function $W(){pl(new mo(M3,DW,"PUBLIC").setMultipleInstances(!0)),ws(DT,$T,""),ws(DT,$T,"esm2017")}$W();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R3=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...c},d)=>k.createElement("svg",{ref:d,...VW,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:R3("lucide",i),...c},[...o.map(([h,p])=>k.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=k.forwardRef(({className:n,...i},s)=>k.createElement(BW,{ref:s,iconNode:e,className:R3(`lucide-${FW(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=De("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=De("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=De("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=De("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=De("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=De("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=De("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=De("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=De("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=De("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=De("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=De("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lH=({setUserId:t})=>{const[e,r]=k.useState(!0),[n,i]=k.useState(""),[s,o]=k.useState(""),[c,d]=k.useState(""),[h,p]=k.useState(!1),m=WD(),g=async w=>{w.preventDefault(),d(""),p(!0);try{e?await u9(m,n,s):await c9(m,n,s)}catch(b){d(b.message)}finally{p(!1)}};return a.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(tn,{className:"mx-auto h-12 w-auto text-cyan-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:w=>i(w.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:w=>o(w.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsx("p",{className:"text-sm text-red-700",children:c})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",a.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},vs=({title:t,value:e,icon:r,color:n,subtext:i})=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),a.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function z3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=z3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=z3(t))&&(n&&(n+=" "),n+=e);return n}var Ly,UT;function Gn(){if(UT)return Ly;UT=1;var t=Array.isArray;return Ly=t,Ly}var Dy,zT;function q3(){if(zT)return Dy;zT=1;var t=typeof Pp=="object"&&Pp&&Pp.Object===Object&&Pp;return Dy=t,Dy}var $y,qT;function Ms(){if(qT)return $y;qT=1;var t=q3(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return $y=r,$y}var Fy,WT;function uf(){if(WT)return Fy;WT=1;var t=Ms(),e=t.Symbol;return Fy=e,Fy}var Vy,HT;function cH(){if(HT)return Vy;HT=1;var t=uf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var c=r.call(o,i),d=o[i];try{o[i]=void 0;var h=!0}catch{}var p=n.call(o);return h&&(c?o[i]=d:delete o[i]),p}return Vy=s,Vy}var By,GT;function uH(){if(GT)return By;GT=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return By=r,By}var Uy,KT;function ya(){if(KT)return Uy;KT=1;var t=uf(),e=cH(),r=uH(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(c){return c==null?c===void 0?i:n:s&&s in Object(c)?e(c):r(c)}return Uy=o,Uy}var zy,YT;function xa(){if(YT)return zy;YT=1;function t(e){return e!=null&&typeof e=="object"}return zy=t,zy}var qy,QT;function _u(){if(QT)return qy;QT=1;var t=ya(),e=xa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return qy=n,qy}var Wy,XT;function V1(){if(XT)return Wy;XT=1;var t=Gn(),e=_u(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Wy=i,Wy}var Hy,JT;function ko(){if(JT)return Hy;JT=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Hy=t,Hy}var Gy,ZT;function B1(){if(ZT)return Gy;ZT=1;var t=ya(),e=ko(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(c){if(!e(c))return!1;var d=t(c);return d==n||d==i||d==r||d==s}return Gy=o,Gy}var Ky,eA;function dH(){if(eA)return Ky;eA=1;var t=Ms(),e=t["__core-js_shared__"];return Ky=e,Ky}var Yy,tA;function hH(){if(tA)return Yy;tA=1;var t=dH(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Yy=r,Yy}var Qy,rA;function W3(){if(rA)return Qy;rA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Qy=r,Qy}var Xy,nA;function fH(){if(nA)return Xy;nA=1;var t=B1(),e=hH(),r=ko(),n=W3(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,h=c.hasOwnProperty,p=RegExp("^"+d.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var w=t(g)?p:s;return w.test(n(g))}return Xy=m,Xy}var Jy,iA;function pH(){if(iA)return Jy;iA=1;function t(e,r){return e?.[r]}return Jy=t,Jy}var Zy,sA;function Il(){if(sA)return Zy;sA=1;var t=fH(),e=pH();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return Zy=r,Zy}var ex,aA;function o0(){if(aA)return ex;aA=1;var t=Il(),e=t(Object,"create");return ex=e,ex}var tx,oA;function mH(){if(oA)return tx;oA=1;var t=o0();function e(){this.__data__=t?t(null):{},this.size=0}return tx=e,tx}var rx,lA;function gH(){if(lA)return rx;lA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return rx=t,rx}var nx,cA;function vH(){if(cA)return nx;cA=1;var t=o0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var c=o[s];return c===e?void 0:c}return n.call(o,s)?o[s]:void 0}return nx=i,nx}var ix,uA;function yH(){if(uA)return ix;uA=1;var t=o0(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return ix=n,ix}var sx,dA;function xH(){if(dA)return sx;dA=1;var t=o0(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return sx=r,sx}var ax,hA;function bH(){if(hA)return ax;hA=1;var t=mH(),e=gH(),r=vH(),n=yH(),i=xH();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,ax=s,ax}var ox,fA;function wH(){if(fA)return ox;fA=1;function t(){this.__data__=[],this.size=0}return ox=t,ox}var lx,pA;function U1(){if(pA)return lx;pA=1;function t(e,r){return e===r||e!==e&&r!==r}return lx=t,lx}var cx,mA;function l0(){if(mA)return cx;mA=1;var t=U1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return cx=e,cx}var ux,gA;function _H(){if(gA)return ux;gA=1;var t=l0(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var c=s.length-1;return o==c?s.pop():r.call(s,o,1),--this.size,!0}return ux=n,ux}var dx,vA;function kH(){if(vA)return dx;vA=1;var t=l0();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return dx=e,dx}var hx,yA;function jH(){if(yA)return hx;yA=1;var t=l0();function e(r){return t(this.__data__,r)>-1}return hx=e,hx}var fx,xA;function SH(){if(xA)return fx;xA=1;var t=l0();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return fx=e,fx}var px,bA;function c0(){if(bA)return px;bA=1;var t=wH(),e=_H(),r=kH(),n=jH(),i=SH();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,px=s,px}var mx,wA;function z1(){if(wA)return mx;wA=1;var t=Il(),e=Ms(),r=t(e,"Map");return mx=r,mx}var gx,_A;function NH(){if(_A)return gx;_A=1;var t=bH(),e=c0(),r=z1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return gx=n,gx}var vx,kA;function EH(){if(kA)return vx;kA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return vx=t,vx}var yx,jA;function u0(){if(jA)return yx;jA=1;var t=EH();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return yx=e,yx}var xx,SA;function CH(){if(SA)return xx;SA=1;var t=u0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return xx=e,xx}var bx,NA;function TH(){if(NA)return bx;NA=1;var t=u0();function e(r){return t(this,r).get(r)}return bx=e,bx}var wx,EA;function AH(){if(EA)return wx;EA=1;var t=u0();function e(r){return t(this,r).has(r)}return wx=e,wx}var _x,CA;function PH(){if(CA)return _x;CA=1;var t=u0();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return _x=e,_x}var kx,TA;function q1(){if(TA)return kx;TA=1;var t=NH(),e=CH(),r=TH(),n=AH(),i=PH();function s(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var h=o[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,kx=s,kx}var jx,AA;function H3(){if(AA)return jx;AA=1;var t=q1(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,c=i?i.apply(this,o):o[0],d=s.cache;if(d.has(c))return d.get(c);var h=n.apply(this,o);return s.cache=d.set(c,h)||d,h};return s.cache=new(r.Cache||t),s}return r.Cache=t,jx=r,jx}var Sx,PA;function OH(){if(PA)return Sx;PA=1;var t=H3(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Sx=r,Sx}var Nx,OA;function IH(){if(OA)return Nx;OA=1;var t=OH(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,c,d,h){s.push(d?h.replace(r,"$1"):c||o)}),s});return Nx=n,Nx}var Ex,IA;function W1(){if(IA)return Ex;IA=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return Ex=t,Ex}var Cx,MA;function MH(){if(MA)return Cx;MA=1;var t=uf(),e=W1(),r=Gn(),n=_u(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return e(c,o)+"";if(n(c))return s?s.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Cx=o,Cx}var Tx,RA;function G3(){if(RA)return Tx;RA=1;var t=MH();function e(r){return r==null?"":t(r)}return Tx=e,Tx}var Ax,LA;function K3(){if(LA)return Ax;LA=1;var t=Gn(),e=V1(),r=IH(),n=G3();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return Ax=i,Ax}var Px,DA;function d0(){if(DA)return Px;DA=1;var t=_u();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Px=e,Px}var Ox,$A;function H1(){if($A)return Ox;$A=1;var t=K3(),e=d0();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return Ox=r,Ox}var Ix,FA;function Y3(){if(FA)return Ix;FA=1;var t=H1();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Ix=e,Ix}var RH=Y3();const hi=Nt(RH);var Mx,VA;function LH(){if(VA)return Mx;VA=1;function t(e){return e==null}return Mx=t,Mx}var DH=LH();const ot=Nt(DH);var Rx,BA;function $H(){if(BA)return Rx;BA=1;var t=ya(),e=Gn(),r=xa(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return Rx=i,Rx}var FH=$H();const wl=Nt(FH);var VH=B1();const Ze=Nt(VH);var BH=ko();const ku=Nt(BH);var Lx={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA;function UH(){if(UA)return jt;UA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function _(x){if(typeof x=="object"&&x!==null){var C=x.$$typeof;switch(C){case t:switch(x=x.type,x){case r:case i:case n:case h:case p:return x;default:switch(x=x&&x.$$typeof,x){case c:case o:case d:case g:case m:case s:return x;default:return C}}case e:return C}}}return jt.ContextConsumer=o,jt.ContextProvider=s,jt.Element=t,jt.ForwardRef=d,jt.Fragment=r,jt.Lazy=g,jt.Memo=m,jt.Portal=e,jt.Profiler=i,jt.StrictMode=n,jt.Suspense=h,jt.SuspenseList=p,jt.isAsyncMode=function(){return!1},jt.isConcurrentMode=function(){return!1},jt.isContextConsumer=function(x){return _(x)===o},jt.isContextProvider=function(x){return _(x)===s},jt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},jt.isForwardRef=function(x){return _(x)===d},jt.isFragment=function(x){return _(x)===r},jt.isLazy=function(x){return _(x)===g},jt.isMemo=function(x){return _(x)===m},jt.isPortal=function(x){return _(x)===e},jt.isProfiler=function(x){return _(x)===i},jt.isStrictMode=function(x){return _(x)===n},jt.isSuspense=function(x){return _(x)===h},jt.isSuspenseList=function(x){return _(x)===p},jt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===h||x===p||x===w||typeof x=="object"&&x!==null&&(x.$$typeof===g||x.$$typeof===m||x.$$typeof===s||x.$$typeof===o||x.$$typeof===d||x.$$typeof===b||x.getModuleId!==void 0)},jt.typeOf=_,jt}var zA;function zH(){return zA||(zA=1,Lx.exports=UH()),Lx.exports}var qH=zH(),Dx,qA;function Q3(){if(qA)return Dx;qA=1;var t=ya(),e=xa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Dx=n,Dx}var $x,WA;function WH(){if(WA)return $x;WA=1;var t=Q3();function e(r){return t(r)&&r!=+r}return $x=e,$x}var HH=WH();const df=Nt(HH);var GH=Q3();const KH=Nt(GH);var Tn=function(e){return e===0?0:e>0?1:-1},sl=function(e){return wl(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return KH(e)&&!df(e)},YH=function(e){return ot(e)},Pr=function(e){return Ae(e)||wl(e)},QH=0,hf=function(e){var r=++QH;return"".concat(e||"").concat(r)},An=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!wl(e))return n;var s;if(sl(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return df(s)&&(s=n),i&&s>r&&(s=r),s},no=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},XH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ka=function(e,r){return Ae(e)&&Ae(r)?function(n){return e+n*(r-e)}:function(){return r}};function gk(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):hi(n,e))===r})}var JH=function(e,r){return Ae(e)&&Ae(r)?e-r:wl(e)&&wl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Rc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vk(t){"@babel/helpers - typeof";return vk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vk(t)}var ZH=["viewBox","children"],eG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HA=["points","pathLength"],Fx={svg:ZH,polygon:HA,polyline:HA},G1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(k.isValidElement(e)&&(n=e.props),!ku(n))return null;var i={};return Object.keys(n).forEach(function(s){G1.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},tG=function(e,r,n){return function(i){return e(r,n,i),null}},_l=function(e,r,n){if(!ku(e)||vk(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];G1.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=tG(o,r,n))}),i},rG=["children"],nG=["children"];function GA(t,e){if(t==null)return{};var r=iG(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YA=null,Vx=null,K1=function t(e){if(e===YA&&Array.isArray(Vx))return Vx;var r=[];return k.Children.forEach(e,function(n){ot(n)||(qH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Vx=r,YA=e,r};function Di(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return oa(i)}):n=[oa(e)],K1(t).forEach(function(i){var s=hi(i,"type.displayName")||hi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function ai(t,e){var r=Di(t,e);return r&&r[0]}var QA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Ae(n)||n<=0||!Ae(i)||i<=0)},sG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aG=function(e){return e&&e.type&&wl(e.type)&&sG.indexOf(e.type)>=0},oG=function(e,r,n,i){var s,o=(s=Fx?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ze(e)&&(i&&o.includes(r)||eG.includes(r))||n&&G1.includes(r)},Xe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(k.isValidElement(e)&&(i=e.props),!ku(i))return null;var s={};return Object.keys(i).forEach(function(o){var c;oG((c=i)===null||c===void 0?void 0:c[o],o,r,n)&&(s[o]=i[o])}),s},yk=function t(e,r){if(e===r)return!0;var n=k.Children.count(e);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return XA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!XA(s,o))return!1}return!0},XA=function(e,r){if(ot(e)&&ot(r))return!0;if(!ot(e)&&!ot(r)){var n=e.props||{},i=n.children,s=GA(n,rG),o=r.props||{},c=o.children,d=GA(o,nG);return i&&c?Rc(s,d)&&yk(i,c):!i&&!c?Rc(s,d):!1}return!1},JA=function(e,r){var n=[],i={};return K1(e).forEach(function(s,o){if(aG(s))n.push(s);else if(s){var c=oa(s.type),d=r[c]||{},h=d.handler,p=d.once;if(h&&(!p||!i[c])){var m=h(s,c,o);n.push(m),i[c]=!0}}}),n},lG=function(e){var r=e&&e.type;return r&&KA[r]?KA[r]:null},cG=function(e,r){return K1(r).indexOf(e)},uG=["children","width","height","viewBox","className","style","title","desc"];function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xk.apply(this,arguments)}function dG(t,e){if(t==null)return{};var r=hG(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bk(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,c=t.title,d=t.desc,h=dG(t,uG),p=i||{width:r,height:n,x:0,y:0},m=it("recharts-surface",s);return ne.createElement("svg",xk({},Xe(h,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,d),e)}var fG=["children","className"];function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wk.apply(this,arguments)}function pG(t,e){if(t==null)return{};var r=mG(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tt=ne.forwardRef(function(t,e){var r=t.children,n=t.className,i=pG(t,fG),s=it("recharts-layer",n);return ne.createElement("g",wk({className:s},Xe(i,!0),{ref:e}),r)}),ns=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Bx,ZA;function gG(){if(ZA)return Bx;ZA=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Bx=t,Bx}var Ux,eP;function vG(){if(eP)return Ux;eP=1;var t=gG();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return Ux=e,Ux}var zx,tP;function X3(){if(tP)return zx;tP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+t+i+s+"]");function d(h){return c.test(h)}return zx=d,zx}var qx,rP;function yG(){if(rP)return qx;rP=1;function t(e){return e.split("")}return qx=t,qx}var Wx,nP;function xG(){if(nP)return Wx;nP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",c="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",b=h+"?",_="["+s+"]?",x="(?:"+w+"(?:"+[p,m,g].join("|")+")"+_+b+")*",C=_+b+x,j="(?:"+[p+c+"?",c,m,g,o].join("|")+")",A=RegExp(d+"(?="+d+")|"+j+C,"g");function P(S){return S.match(A)||[]}return Wx=P,Wx}var Hx,iP;function bG(){if(iP)return Hx;iP=1;var t=yG(),e=X3(),r=xG();function n(i){return e(i)?r(i):t(i)}return Hx=n,Hx}var Gx,sP;function wG(){if(sP)return Gx;sP=1;var t=vG(),e=X3(),r=bG(),n=G3();function i(s){return function(o){o=n(o);var c=e(o)?r(o):void 0,d=c?c[0]:o.charAt(0),h=c?t(c,1).join(""):o.slice(1);return d[s]()+h}}return Gx=i,Gx}var Kx,aP;function _G(){if(aP)return Kx;aP=1;var t=wG(),e=t("toUpperCase");return Kx=e,Kx}var kG=_G();const h0=Nt(kG);function Wt(t){return function(){return t}}const J3=Math.cos,Rm=Math.sin,as=Math.sqrt,Lm=Math.PI,f0=2*Lm,_k=Math.PI,kk=2*_k,Jo=1e-6,jG=kk-Jo;function Z3(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function SG(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Z3;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NG{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Z3:SG(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,d=n-e,h=i-r,p=o-e,m=c-r,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Jo)if(!(Math.abs(m*d-h*p)>Jo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let w=n-o,b=i-c,_=d*d+h*h,x=w*w+b*b,C=Math.sqrt(_),j=Math.sqrt(g),A=s*Math.tan((_k-Math.acos((_+g-x)/(2*C*j)))/2),P=A/j,S=A/C;Math.abs(P-1)>Jo&&this._append`L${e+P*p},${r+P*m}`,this._append`A${s},${s},0,0,${+(m*w>p*b)},${this._x1=e+S*d},${this._y1=r+S*h}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=e+c,p=r+d,m=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Jo||Math.abs(this._y1-p)>Jo)&&this._append`L${h},${p}`,n&&(g<0&&(g=g%kk+kk),g>jG?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:g>Jo&&this._append`A${n},${n},0,${+(g>=_k)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Y1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new NG(e)}function Q1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e6(t){this._context=t}e6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function p0(t){return new e6(t)}function t6(t){return t[0]}function r6(t){return t[1]}function n6(t,e){var r=Wt(!0),n=null,i=p0,s=null,o=Y1(c);t=typeof t=="function"?t:t===void 0?t6:Wt(t),e=typeof e=="function"?e:e===void 0?r6:Wt(e);function c(d){var h,p=(d=Q1(d)).length,m,g=!1,w;for(n==null&&(s=i(w=o())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,h,d),+e(m,h,d));if(w)return s=null,w+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Wt(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wt(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Wt(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),c):n},c}function Bp(t,e,r){var n=null,i=Wt(!0),s=null,o=p0,c=null,d=Y1(h);t=typeof t=="function"?t:t===void 0?t6:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?r6:Wt(+r);function h(m){var g,w,b,_=(m=Q1(m)).length,x,C=!1,j,A=new Array(_),P=new Array(_);for(s==null&&(c=o(j=d())),g=0;g<=_;++g){if(!(g<_&&i(x=m[g],g,m))===C)if(C=!C)w=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=w;--b)c.point(A[b],P[b]);c.lineEnd(),c.areaEnd()}C&&(A[g]=+t(x,g,m),P[g]=+e(x,g,m),c.point(n?+n(x,g,m):A[g],r?+r(x,g,m):P[g]))}if(j)return c=null,j+""||null}function p(){return n6().defined(i).curve(o).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Wt(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Wt(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Wt(!!m),h):i},h.curve=function(m){return arguments.length?(o=m,s!=null&&(c=o(s)),h):o},h.context=function(m){return arguments.length?(m==null?s=c=null:c=o(s=m),h):s},h}class i6{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function EG(t){return new i6(t,!0)}function CG(t){return new i6(t,!1)}const X1={draw(t,e){const r=as(e/Lm);t.moveTo(r,0),t.arc(0,0,r,0,f0)}},TG={draw(t,e){const r=as(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},s6=as(1/3),AG=s6*2,PG={draw(t,e){const r=as(e/AG),n=r*s6;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},OG={draw(t,e){const r=as(e),n=-r/2;t.rect(n,n,r,r)}},IG=.8908130915292852,a6=Rm(Lm/10)/Rm(7*Lm/10),MG=Rm(f0/10)*a6,RG=-J3(f0/10)*a6,LG={draw(t,e){const r=as(e*IG),n=MG*r,i=RG*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=f0*s/5,c=J3(o),d=Rm(o);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*i,d*n+c*i)}t.closePath()}},Yx=as(3),DG={draw(t,e){const r=-as(e/(Yx*3));t.moveTo(0,r*2),t.lineTo(-Yx*r,-r),t.lineTo(Yx*r,-r),t.closePath()}},Ti=-.5,Ai=as(3)/2,jk=1/as(12),$G=(jk/2+1)*3,FG={draw(t,e){const r=as(e/$G),n=r/2,i=r*jk,s=n,o=r*jk+r,c=-s,d=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(c,d),t.lineTo(Ti*n-Ai*i,Ai*n+Ti*i),t.lineTo(Ti*s-Ai*o,Ai*s+Ti*o),t.lineTo(Ti*c-Ai*d,Ai*c+Ti*d),t.lineTo(Ti*n+Ai*i,Ti*i-Ai*n),t.lineTo(Ti*s+Ai*o,Ti*o-Ai*s),t.lineTo(Ti*c+Ai*d,Ti*d-Ai*c),t.closePath()}};function VG(t,e){let r=null,n=Y1(i);t=typeof t=="function"?t:Wt(t||X1),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Wt(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Dm(){}function $m(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function o6(t){this._context=t}o6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BG(t){return new o6(t)}function l6(t){this._context=t}l6.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UG(t){return new l6(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zG(t){return new c6(t)}function u6(t){this._context=t}u6.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qG(t){return new u6(t)}function oP(t){return t<0?-1:1}function lP(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(s*i+o*n)/(n+i);return(oP(s)+oP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function cP(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Qx(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,c=(s-n)/3;t._context.bezierCurveTo(n+c,i+c*e,s-c,o-c*r,s,o)}function Fm(t){this._context=t}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qx(this,this._t0,cP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qx(this,cP(this,r=lP(this,t,e)),r);break;default:Qx(this,this._t0,r=lP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function d6(t){this._context=new h6(t)}(d6.prototype=Object.create(Fm.prototype)).point=function(t,e){Fm.prototype.point.call(this,e,t)};function h6(t){this._context=t}h6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function WG(t){return new Fm(t)}function HG(t){return new d6(t)}function f6(t){this._context=t}f6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=uP(t),i=uP(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uP(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function GG(t){return new f6(t)}function m0(t,e){this._context=t,this._t=e}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function KG(t){return new m0(t,.5)}function YG(t){return new m0(t,0)}function QG(t){return new m0(t,1)}function Kc(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,c=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Sk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XG(t,e){return t[e]}function JG(t){const e=[];return e.key=t,e}function ZG(){var t=Wt([]),e=Sk,r=Kc,n=XG;function i(s){var o=Array.from(t.apply(this,arguments),JG),c,d=o.length,h=-1,p;for(const m of s)for(c=0,++h;c<d;++c)(o[c][h]=[0,+n(m,o[c].key,h,s)]).data=m;for(c=0,p=Q1(e(o));c<d;++c)o[p[c]].index=c;return r(o,p),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Wt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Wt(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Sk:typeof s=="function"?s:Wt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??Kc,i):r},i}function eK(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Kc(t,e)}}function tK(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Kc(t,e)}}function rK(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var c=0,d=0,h=0;c<o;++c){for(var p=t[e[c]],m=p[n][1]||0,g=p[n-1][1]||0,w=(m-g)/2,b=0;b<c;++b){var _=t[e[b]],x=_[n][1]||0,C=_[n-1][1]||0;w+=x-C}d+=m,h+=w*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Kc(t,e)}}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var nK=["type","size","sizeType"];function Nk(){return Nk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nk.apply(this,arguments)}function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){iK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iK(t,e,r){return e=sK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sK(t){var e=aK(t,"string");return oh(e)=="symbol"?e:e+""}function aK(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oK(t,e){if(t==null)return{};var r=lK(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var p6={symbolCircle:X1,symbolCross:TG,symbolDiamond:PG,symbolSquare:OG,symbolStar:LG,symbolTriangle:DG,symbolWye:FG},cK=Math.PI/180,uK=function(e){var r="symbol".concat(h0(e));return p6[r]||X1},dK=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*cK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hK=function(e,r){p6["symbol".concat(h0(e))]=r},J1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,c=o===void 0?"area":o,d=oK(e,nK),h=hP(hP({},d),{},{type:n,size:s,sizeType:c}),p=function(){var x=uK(n),C=VG().type(x).size(dK(s,c,n));return C()},m=h.className,g=h.cx,w=h.cy,b=Xe(h,!0);return g===+g&&w===+w&&s===+s?ne.createElement("path",Nk({},b,{className:it("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(w,")"),d:p()})):null};J1.registerSymbol=hK;function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ek.apply(this,arguments)}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){lh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g6(n.key),n)}}function gK(t,e,r){return e&&mK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vK(t,e,r){return e=Vm(e),yK(t,m6()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function yK(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xK(t)}function xK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function bK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ck(t,e)}function Ck(t,e){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ck(t,e)}function lh(t,e,r){return e=g6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g6(t){var e=wK(t,"string");return Yc(e)=="symbol"?e:e+""}function wK(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pi=32,Z1=function(t){function e(){return pK(this,e),vK(this,e,arguments)}return bK(e,t),gK(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Pi/2,o=Pi/6,c=Pi/3,d=n.inactive?i:n.color;if(n.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Pi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Pi,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ne.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(n.legendIcon)){var h=fK({},n);return delete h.legendIcon,ne.cloneElement(n.legendIcon,h)}return ne.createElement(J1,{fill:d,cx:s,cy:s,size:Pi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,c=i.layout,d=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Pi,height:Pi},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(w,b){var _=w.formatter||d,x=it(lh(lh({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",w.inactive));if(w.type==="none")return null;var C=Ze(w.value)?null:w.value;ns(!Ze(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=w.inactive?h:w.color;return ne.createElement("li",Ek({className:x,style:m,key:"legend-item-".concat(b)},_l(n.props,w,b)),ne.createElement(bk,{width:o,height:o,viewBox:p,style:g},n.renderIcon(w)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},_?_(C,w,b):C))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(k.PureComponent);lh(Z1,"displayName","Legend");lh(Z1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Xx,pP;function _K(){if(pP)return Xx;pP=1;var t=c0();function e(){this.__data__=new t,this.size=0}return Xx=e,Xx}var Jx,mP;function kK(){if(mP)return Jx;mP=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Jx=t,Jx}var Zx,gP;function jK(){if(gP)return Zx;gP=1;function t(e){return this.__data__.get(e)}return Zx=t,Zx}var eb,vP;function SK(){if(vP)return eb;vP=1;function t(e){return this.__data__.has(e)}return eb=t,eb}var tb,yP;function NK(){if(yP)return tb;yP=1;var t=c0(),e=z1(),r=q1(),n=200;function i(s,o){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([s,o]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(s,o),this.size=c.size,this}return tb=i,tb}var rb,xP;function v6(){if(xP)return rb;xP=1;var t=c0(),e=_K(),r=kK(),n=jK(),i=SK(),s=NK();function o(c){var d=this.__data__=new t(c);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,rb=o,rb}var nb,bP;function EK(){if(bP)return nb;bP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return nb=e,nb}var ib,wP;function CK(){if(wP)return ib;wP=1;function t(e){return this.__data__.has(e)}return ib=t,ib}var sb,_P;function y6(){if(_P)return sb;_P=1;var t=q1(),e=EK(),r=CK();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,sb=n,sb}var ab,kP;function x6(){if(kP)return ab;kP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return ab=t,ab}var ob,jP;function b6(){if(jP)return ob;jP=1;function t(e,r){return e.has(r)}return ob=t,ob}var lb,SP;function w6(){if(SP)return lb;SP=1;var t=y6(),e=x6(),r=b6(),n=1,i=2;function s(o,c,d,h,p,m){var g=d&n,w=o.length,b=c.length;if(w!=b&&!(g&&b>w))return!1;var _=m.get(o),x=m.get(c);if(_&&x)return _==c&&x==o;var C=-1,j=!0,A=d&i?new t:void 0;for(m.set(o,c),m.set(c,o);++C<w;){var P=o[C],S=c[C];if(h)var E=g?h(S,P,C,c,o,m):h(P,S,C,o,c,m);if(E!==void 0){if(E)continue;j=!1;break}if(A){if(!e(c,function(T,M){if(!r(A,M)&&(P===T||p(P,T,d,h,m)))return A.push(M)})){j=!1;break}}else if(!(P===S||p(P,S,d,h,m))){j=!1;break}}return m.delete(o),m.delete(c),j}return lb=s,lb}var cb,NP;function TK(){if(NP)return cb;NP=1;var t=Ms(),e=t.Uint8Array;return cb=e,cb}var ub,EP;function AK(){if(EP)return ub;EP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return ub=t,ub}var db,CP;function eS(){if(CP)return db;CP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return db=t,db}var hb,TP;function PK(){if(TP)return hb;TP=1;var t=uf(),e=TK(),r=U1(),n=w6(),i=AK(),s=eS(),o=1,c=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",w="[object RegExp]",b="[object Set]",_="[object String]",x="[object Symbol]",C="[object ArrayBuffer]",j="[object DataView]",A=t?t.prototype:void 0,P=A?A.valueOf:void 0;function S(E,T,M,L,R,D,V){switch(M){case j:if(E.byteLength!=T.byteLength||E.byteOffset!=T.byteOffset)return!1;E=E.buffer,T=T.buffer;case C:return!(E.byteLength!=T.byteLength||!D(new e(E),new e(T)));case d:case h:case g:return r(+E,+T);case p:return E.name==T.name&&E.message==T.message;case w:case _:return E==T+"";case m:var F=i;case b:var Z=L&o;if(F||(F=s),E.size!=T.size&&!Z)return!1;var te=V.get(E);if(te)return te==T;L|=c,V.set(E,T);var J=n(F(E),F(T),L,R,D,V);return V.delete(E),J;case x:if(P)return P.call(E)==P.call(T)}return!1}return hb=S,hb}var fb,AP;function _6(){if(AP)return fb;AP=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return fb=t,fb}var pb,PP;function OK(){if(PP)return pb;PP=1;var t=_6(),e=Gn();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return pb=r,pb}var mb,OP;function IK(){if(OP)return mb;OP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var c=e[n];r(c,n,e)&&(o[s++]=c)}return o}return mb=t,mb}var gb,IP;function MK(){if(IP)return gb;IP=1;function t(){return[]}return gb=t,gb}var vb,MP;function RK(){if(MP)return vb;MP=1;var t=IK(),e=MK(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(c){return n.call(o,c)}))}:e;return vb=s,vb}var yb,RP;function LK(){if(RP)return yb;RP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return yb=t,yb}var xb,LP;function DK(){if(LP)return xb;LP=1;var t=ya(),e=xa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return xb=n,xb}var bb,DP;function tS(){if(DP)return bb;DP=1;var t=DK(),e=xa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return bb=s,bb}var Pd={exports:{}},wb,$P;function $K(){if($P)return wb;$P=1;function t(){return!1}return wb=t,wb}Pd.exports;var FP;function k6(){return FP||(FP=1,function(t,e){var r=Ms(),n=$K(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,c=o?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(Pd,Pd.exports)),Pd.exports}var _b,VP;function rS(){if(VP)return _b;VP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return _b=r,_b}var kb,BP;function nS(){if(BP)return kb;BP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return kb=e,kb}var jb,UP;function FK(){if(UP)return jb;UP=1;var t=ya(),e=nS(),r=xa(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",w="[object Set]",b="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",C="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",R="[object Uint32Array]",D={};D[j]=D[A]=D[P]=D[S]=D[E]=D[T]=D[M]=D[L]=D[R]=!0,D[n]=D[i]=D[x]=D[s]=D[C]=D[o]=D[c]=D[d]=D[h]=D[p]=D[m]=D[g]=D[w]=D[b]=D[_]=!1;function V(F){return r(F)&&e(F.length)&&!!D[t(F)]}return jb=V,jb}var Sb,zP;function j6(){if(zP)return Sb;zP=1;function t(e){return function(r){return e(r)}}return Sb=t,Sb}var Od={exports:{}};Od.exports;var qP;function VK(){return qP||(qP=1,function(t,e){var r=q3(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=c}(Od,Od.exports)),Od.exports}var Nb,WP;function S6(){if(WP)return Nb;WP=1;var t=FK(),e=j6(),r=VK(),n=r&&r.isTypedArray,i=n?e(n):t;return Nb=i,Nb}var Eb,HP;function BK(){if(HP)return Eb;HP=1;var t=LK(),e=tS(),r=Gn(),n=k6(),i=rS(),s=S6(),o=Object.prototype,c=o.hasOwnProperty;function d(h,p){var m=r(h),g=!m&&e(h),w=!m&&!g&&n(h),b=!m&&!g&&!w&&s(h),_=m||g||w||b,x=_?t(h.length,String):[],C=x.length;for(var j in h)(p||c.call(h,j))&&!(_&&(j=="length"||w&&(j=="offset"||j=="parent")||b&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,C)))&&x.push(j);return x}return Eb=d,Eb}var Cb,GP;function UK(){if(GP)return Cb;GP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Cb=e,Cb}var Tb,KP;function N6(){if(KP)return Tb;KP=1;function t(e,r){return function(n){return e(r(n))}}return Tb=t,Tb}var Ab,YP;function zK(){if(YP)return Ab;YP=1;var t=N6(),e=t(Object.keys,Object);return Ab=e,Ab}var Pb,QP;function qK(){if(QP)return Pb;QP=1;var t=UK(),e=zK(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var c in Object(s))n.call(s,c)&&c!="constructor"&&o.push(c);return o}return Pb=i,Pb}var Ob,XP;function ff(){if(XP)return Ob;XP=1;var t=B1(),e=nS();function r(n){return n!=null&&e(n.length)&&!t(n)}return Ob=r,Ob}var Ib,JP;function g0(){if(JP)return Ib;JP=1;var t=BK(),e=qK(),r=ff();function n(i){return r(i)?t(i):e(i)}return Ib=n,Ib}var Mb,ZP;function WK(){if(ZP)return Mb;ZP=1;var t=OK(),e=RK(),r=g0();function n(i){return t(i,r,e)}return Mb=n,Mb}var Rb,e2;function HK(){if(e2)return Rb;e2=1;var t=WK(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,c,d,h,p){var m=c&e,g=t(s),w=g.length,b=t(o),_=b.length;if(w!=_&&!m)return!1;for(var x=w;x--;){var C=g[x];if(!(m?C in o:n.call(o,C)))return!1}var j=p.get(s),A=p.get(o);if(j&&A)return j==o&&A==s;var P=!0;p.set(s,o),p.set(o,s);for(var S=m;++x<w;){C=g[x];var E=s[C],T=o[C];if(d)var M=m?d(T,E,C,o,s,p):d(E,T,C,s,o,p);if(!(M===void 0?E===T||h(E,T,c,d,p):M)){P=!1;break}S||(S=C=="constructor")}if(P&&!S){var L=s.constructor,R=o.constructor;L!=R&&"constructor"in s&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof R=="function"&&R instanceof R)&&(P=!1)}return p.delete(s),p.delete(o),P}return Rb=i,Rb}var Lb,t2;function GK(){if(t2)return Lb;t2=1;var t=Il(),e=Ms(),r=t(e,"DataView");return Lb=r,Lb}var Db,r2;function KK(){if(r2)return Db;r2=1;var t=Il(),e=Ms(),r=t(e,"Promise");return Db=r,Db}var $b,n2;function E6(){if(n2)return $b;n2=1;var t=Il(),e=Ms(),r=t(e,"Set");return $b=r,$b}var Fb,i2;function YK(){if(i2)return Fb;i2=1;var t=Il(),e=Ms(),r=t(e,"WeakMap");return Fb=r,Fb}var Vb,s2;function QK(){if(s2)return Vb;s2=1;var t=GK(),e=z1(),r=KK(),n=E6(),i=YK(),s=ya(),o=W3(),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",w=o(t),b=o(e),_=o(r),x=o(n),C=o(i),j=s;return(t&&j(new t(new ArrayBuffer(1)))!=g||e&&j(new e)!=c||r&&j(r.resolve())!=h||n&&j(new n)!=p||i&&j(new i)!=m)&&(j=function(A){var P=s(A),S=P==d?A.constructor:void 0,E=S?o(S):"";if(E)switch(E){case w:return g;case b:return c;case _:return h;case x:return p;case C:return m}return P}),Vb=j,Vb}var Bb,a2;function XK(){if(a2)return Bb;a2=1;var t=v6(),e=w6(),r=PK(),n=HK(),i=QK(),s=Gn(),o=k6(),c=S6(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,w=g.hasOwnProperty;function b(_,x,C,j,A,P){var S=s(_),E=s(x),T=S?p:i(_),M=E?p:i(x);T=T==h?m:T,M=M==h?m:M;var L=T==m,R=M==m,D=T==M;if(D&&o(_)){if(!o(x))return!1;S=!0,L=!1}if(D&&!L)return P||(P=new t),S||c(_)?e(_,x,C,j,A,P):r(_,x,T,C,j,A,P);if(!(C&d)){var V=L&&w.call(_,"__wrapped__"),F=R&&w.call(x,"__wrapped__");if(V||F){var Z=V?_.value():_,te=F?x.value():x;return P||(P=new t),A(Z,te,C,j,P)}}return D?(P||(P=new t),n(_,x,C,j,A,P)):!1}return Bb=b,Bb}var Ub,o2;function iS(){if(o2)return Ub;o2=1;var t=XK(),e=xa();function r(n,i,s,o,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,c)}return Ub=r,Ub}var zb,l2;function JK(){if(l2)return zb;l2=1;var t=v6(),e=iS(),r=1,n=2;function i(s,o,c,d){var h=c.length,p=h,m=!d;if(s==null)return!p;for(s=Object(s);h--;){var g=c[h];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++h<p;){g=c[h];var w=g[0],b=s[w],_=g[1];if(m&&g[2]){if(b===void 0&&!(w in s))return!1}else{var x=new t;if(d)var C=d(b,_,w,s,o,x);if(!(C===void 0?e(_,b,r|n,d,x):C))return!1}}return!0}return zb=i,zb}var qb,c2;function C6(){if(c2)return qb;c2=1;var t=ko();function e(r){return r===r&&!t(r)}return qb=e,qb}var Wb,u2;function ZK(){if(u2)return Wb;u2=1;var t=C6(),e=g0();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],c=n[o];i[s]=[o,c,t(c)]}return i}return Wb=r,Wb}var Hb,d2;function T6(){if(d2)return Hb;d2=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Hb=t,Hb}var Gb,h2;function eY(){if(h2)return Gb;h2=1;var t=JK(),e=ZK(),r=T6();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return Gb=n,Gb}var Kb,f2;function tY(){if(f2)return Kb;f2=1;function t(e,r){return e!=null&&r in Object(e)}return Kb=t,Kb}var Yb,p2;function rY(){if(p2)return Yb;p2=1;var t=K3(),e=tS(),r=Gn(),n=rS(),i=nS(),s=d0();function o(c,d,h){d=t(d,c);for(var p=-1,m=d.length,g=!1;++p<m;){var w=s(d[p]);if(!(g=c!=null&&h(c,w)))break;c=c[w]}return g||++p!=m?g:(m=c==null?0:c.length,!!m&&i(m)&&n(w,m)&&(r(c)||e(c)))}return Yb=o,Yb}var Qb,m2;function nY(){if(m2)return Qb;m2=1;var t=tY(),e=rY();function r(n,i){return n!=null&&e(n,i,t)}return Qb=r,Qb}var Xb,g2;function iY(){if(g2)return Xb;g2=1;var t=iS(),e=Y3(),r=nY(),n=V1(),i=C6(),s=T6(),o=d0(),c=1,d=2;function h(p,m){return n(p)&&i(m)?s(o(p),m):function(g){var w=e(g,p);return w===void 0&&w===m?r(g,p):t(m,w,c|d)}}return Xb=h,Xb}var Jb,v2;function ju(){if(v2)return Jb;v2=1;function t(e){return e}return Jb=t,Jb}var Zb,y2;function sY(){if(y2)return Zb;y2=1;function t(e){return function(r){return r?.[e]}}return Zb=t,Zb}var ew,x2;function aY(){if(x2)return ew;x2=1;var t=H1();function e(r){return function(n){return t(n,r)}}return ew=e,ew}var tw,b2;function oY(){if(b2)return tw;b2=1;var t=sY(),e=aY(),r=V1(),n=d0();function i(s){return r(s)?t(n(s)):e(s)}return tw=i,tw}var rw,w2;function Rs(){if(w2)return rw;w2=1;var t=eY(),e=iY(),r=ju(),n=Gn(),i=oY();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return rw=s,rw}var nw,_2;function A6(){if(_2)return nw;_2=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return nw=t,nw}var iw,k2;function lY(){if(k2)return iw;k2=1;function t(e){return e!==e}return iw=t,iw}var sw,j2;function cY(){if(j2)return sw;j2=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return sw=t,sw}var aw,S2;function uY(){if(S2)return aw;S2=1;var t=A6(),e=lY(),r=cY();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return aw=n,aw}var ow,N2;function dY(){if(N2)return ow;N2=1;var t=uY();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return ow=e,ow}var lw,E2;function hY(){if(E2)return lw;E2=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return lw=t,lw}var cw,C2;function fY(){if(C2)return cw;C2=1;function t(){}return cw=t,cw}var uw,T2;function pY(){if(T2)return uw;T2=1;var t=E6(),e=fY(),r=eS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return uw=i,uw}var dw,A2;function mY(){if(A2)return dw;A2=1;var t=y6(),e=dY(),r=hY(),n=b6(),i=pY(),s=eS(),o=200;function c(d,h,p){var m=-1,g=e,w=d.length,b=!0,_=[],x=_;if(p)b=!1,g=r;else if(w>=o){var C=h?null:i(d);if(C)return s(C);b=!1,g=n,x=new t}else x=h?[]:_;e:for(;++m<w;){var j=d[m],A=h?h(j):j;if(j=p||j!==0?j:0,b&&A===A){for(var P=x.length;P--;)if(x[P]===A)continue e;h&&x.push(A),_.push(j)}else g(x,A,p)||(x!==_&&x.push(A),_.push(j))}return _}return dw=c,dw}var hw,P2;function gY(){if(P2)return hw;P2=1;var t=Rs(),e=mY();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return hw=r,hw}var vY=gY();const O2=Nt(vY);function P6(t,e,r){return e===!0?O2(t,r):Ze(e)?O2(t,e):t}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var yY=["ref"];function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){v0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I6(n.key),n)}}function bY(t,e,r){return e&&M2(t.prototype,e),r&&M2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wY(t,e,r){return e=Bm(e),_Y(t,O6()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function _Y(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kY(t)}function kY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function jY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tk(t,e)}function Tk(t,e){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tk(t,e)}function v0(t,e,r){return e=I6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I6(t){var e=SY(t,"string");return Qc(e)=="symbol"?e:e+""}function SY(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NY(t,e){if(t==null)return{};var r=EY(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CY(t){return t.value}function TY(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var r=NY(e,yY);return ne.createElement(Z1,r)}var R2=1,ho=function(t){function e(){var r;xY(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=wY(this,e,[].concat(i)),v0(r,"lastBoundingBox",{width:-1,height:-1}),r}return jY(e,t),bY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>R2||Math.abs(i.height-this.lastBoundingBox.height)>R2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,c=i.verticalAlign,d=i.margin,h=i.chartWidth,p=i.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var w=this.getBBoxSnapshot();m={left:((h||0)-w.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var b=this.getBBoxSnapshot();g={top:((p||0)-b.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Js(Js({},m),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,c=i.height,d=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=Js(Js({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return ne.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(w){n.wrapperNode=w}},TY(s,Js(Js({},this.props),{},{payload:P6(p,h,CY)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Js(Js({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Ae(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(k.PureComponent);v0(ho,"displayName","Legend");v0(ho,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fw,L2;function AY(){if(L2)return fw;L2=1;var t=uf(),e=tS(),r=Gn(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return fw=i,fw}var pw,D2;function M6(){if(D2)return pw;D2=1;var t=_6(),e=AY();function r(n,i,s,o,c){var d=-1,h=n.length;for(s||(s=e),c||(c=[]);++d<h;){var p=n[d];i>0&&s(p)?i>1?r(p,i-1,s,o,c):t(c,p):o||(c[c.length]=p)}return c}return pw=r,pw}var mw,$2;function PY(){if($2)return mw;$2=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),c=i(r),d=c.length;d--;){var h=c[e?d:++s];if(n(o[h],h,o)===!1)break}return r}}return mw=t,mw}var gw,F2;function OY(){if(F2)return gw;F2=1;var t=PY(),e=t();return gw=e,gw}var vw,V2;function R6(){if(V2)return vw;V2=1;var t=OY(),e=g0();function r(n,i){return n&&t(n,i,e)}return vw=r,vw}var yw,B2;function IY(){if(B2)return yw;B2=1;var t=ff();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,c=n?o:-1,d=Object(i);(n?c--:++c<o)&&s(d[c],c,d)!==!1;);return i}}return yw=e,yw}var xw,U2;function sS(){if(U2)return xw;U2=1;var t=R6(),e=IY(),r=e(t);return xw=r,xw}var bw,z2;function L6(){if(z2)return bw;z2=1;var t=sS(),e=ff();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(c,d,h){o[++s]=i(c,d,h)}),o}return bw=r,bw}var ww,q2;function MY(){if(q2)return ww;q2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return ww=t,ww}var _w,W2;function RY(){if(W2)return _w;W2=1;var t=_u();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,c=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!c&&r>n||c&&d&&p&&!h&&!m||s&&d&&p||!i&&p||!o)return 1;if(!s&&!c&&!m&&r<n||m&&i&&o&&!s&&!c||h&&i&&o||!d&&o||!p)return-1}return 0}return _w=e,_w}var kw,H2;function LY(){if(H2)return kw;H2=1;var t=RY();function e(r,n,i){for(var s=-1,o=r.criteria,c=n.criteria,d=o.length,h=i.length;++s<d;){var p=t(o[s],c[s]);if(p){if(s>=h)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return r.index-n.index}return kw=e,kw}var jw,G2;function DY(){if(G2)return jw;G2=1;var t=W1(),e=H1(),r=Rs(),n=L6(),i=MY(),s=j6(),o=LY(),c=ju(),d=Gn();function h(p,m,g){m.length?m=t(m,function(_){return d(_)?function(x){return e(x,_.length===1?_[0]:_)}:_}):m=[c];var w=-1;m=t(m,s(r));var b=n(p,function(_,x,C){var j=t(m,function(A){return A(_)});return{criteria:j,index:++w,value:_}});return i(b,function(_,x){return o(_,x,g)})}return jw=h,jw}var Sw,K2;function $Y(){if(K2)return Sw;K2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Sw=t,Sw}var Nw,Y2;function FY(){if(Y2)return Nw;Y2=1;var t=$Y(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,c=-1,d=e(o.length-i,0),h=Array(d);++c<d;)h[c]=o[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=o[c];return p[i]=s(h),t(n,this,p)}}return Nw=r,Nw}var Ew,Q2;function VY(){if(Q2)return Ew;Q2=1;function t(e){return function(){return e}}return Ew=t,Ew}var Cw,X2;function D6(){if(X2)return Cw;X2=1;var t=Il(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Cw=e,Cw}var Tw,J2;function BY(){if(J2)return Tw;J2=1;var t=VY(),e=D6(),r=ju(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return Tw=n,Tw}var Aw,Z2;function UY(){if(Z2)return Aw;Z2=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var c=r(),d=e-(c-o);if(o=c,d>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Aw=n,Aw}var Pw,eO;function zY(){if(eO)return Pw;eO=1;var t=BY(),e=UY(),r=e(t);return Pw=r,Pw}var Ow,tO;function qY(){if(tO)return Ow;tO=1;var t=ju(),e=FY(),r=zY();function n(i,s){return r(e(i,s,t),i+"")}return Ow=n,Ow}var Iw,rO;function y0(){if(rO)return Iw;rO=1;var t=U1(),e=ff(),r=rS(),n=ko();function i(s,o,c){if(!n(c))return!1;var d=typeof o;return(d=="number"?e(c)&&r(o,c.length):d=="string"&&o in c)?t(c[o],s):!1}return Iw=i,Iw}var Mw,nO;function WY(){if(nO)return Mw;nO=1;var t=M6(),e=DY(),r=qY(),n=y0(),i=r(function(s,o){if(s==null)return[];var c=o.length;return c>1&&n(s,o[0],o[1])?o=[]:c>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return Mw=i,Mw}var HY=WY();const aS=Nt(HY);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Ak(){return Ak=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ak.apply(this,arguments)}function GY(t,e){return XY(t)||QY(t,e)||YY(t,e)||KY()}function KY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YY(t,e){if(t){if(typeof t=="string")return iO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(t,e)}}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function XY(t){if(Array.isArray(t))return t}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){JY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JY(t,e,r){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZY(t){var e=eQ(t,"string");return ch(e)=="symbol"?e:e+""}function eQ(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tQ(t){return Array.isArray(t)&&Pr(t[0])&&Pr(t[1])?t.join(" ~ "):t}var rQ=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,c=o===void 0?{}:o,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,g=e.itemSorter,w=e.wrapperClassName,b=e.labelClassName,_=e.label,x=e.labelFormatter,C=e.accessibilityLayer,j=C===void 0?!1:C,A=function(){if(p&&p.length){var V={padding:0,margin:0},F=(g?aS(p,g):p).map(function(Z,te){if(Z.type==="none")return null;var J=Rw({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},c),ee=Z.formatter||m||tQ,K=Z.value,Y=Z.name,re=K,W=Y;if(ee&&re!=null&&W!=null){var Q=ee(K,Y,Z,te,p);if(Array.isArray(Q)){var H=GY(Q,2);re=H[0],W=H[1]}else re=Q}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:J},Pr(W)?ne.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Pr(W)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},re),ne.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:V},F)}return null},P=Rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Rw({margin:0},h),E=!ot(_),T=E?_:"",M=it("recharts-default-tooltip",w),L=it("recharts-tooltip-label",b);E&&x&&p!==void 0&&p!==null&&(T=x(_,p));var R=j?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",Ak({className:M,style:P},R),ne.createElement("p",{className:L,style:S},ne.isValidElement(T)?T:"".concat(T)),A())};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Up(t,e,r){return e=nQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nQ(t){var e=iQ(t,"string");return uh(e)=="symbol"?e:e+""}function iQ(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fd="recharts-tooltip-wrapper",sQ={visibility:"hidden"};function aQ(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return it(fd,Up(Up(Up(Up({},"".concat(fd,"-right"),Ae(r)&&e&&Ae(e.x)&&r>=e.x),"".concat(fd,"-left"),Ae(r)&&e&&Ae(e.x)&&r<e.x),"".concat(fd,"-bottom"),Ae(n)&&e&&Ae(e.y)&&n>=e.y),"".concat(fd,"-top"),Ae(n)&&e&&Ae(e.y)&&n<e.y))}function aO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(s&&Ae(s[n]))return s[n];var p=r[n]-c-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var g=p,w=d[n];return g<w?Math.max(m,d[n]):Math.max(p,d[n])}var b=m+c,_=d[n]+h;return b>_?Math.max(p,d[n]):Math.max(m,d[n])}function oQ(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function lQ(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,p,m;return o.height>0&&o.width>0&&r?(p=aO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=aO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=oQ({translateX:p,translateY:m,useTranslate3d:c})):h=sQ,{cssProperties:h,cssClasses:aQ({translateX:p,translateY:m,coordinate:r})}}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function oO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(r),!0).forEach(function(n){Ok(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F6(n.key),n)}}function dQ(t,e,r){return e&&uQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQ(t,e,r){return e=Um(e),fQ(t,$6()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function fQ(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pQ(t)}function pQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function mQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pk(t,e)}function Pk(t,e){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pk(t,e)}function Ok(t,e,r){return e=F6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F6(t){var e=gQ(t,"string");return Xc(e)=="symbol"?e:e+""}function gQ(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cO=1,vQ=function(t){function e(){var r;cQ(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=hQ(this,e,[].concat(i)),Ok(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ok(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return mQ(e,t),dQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cO||Math.abs(n.height-this.state.lastBoundingBox.height)>cO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,g=i.isAnimationActive,w=i.offset,b=i.position,_=i.reverseDirection,x=i.useTranslate3d,C=i.viewBox,j=i.wrapperStyle,A=lQ({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:w,position:b,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:C}),P=A.cssClasses,S=A.cssProperties,E=lO(lO({transition:g&&s?"transform ".concat(c,"ms ").concat(d):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},j);return ne.createElement("div",{tabIndex:-1,className:P,style:E,ref:function(M){n.wrapperNode=M}},h)}}])}(k.PureComponent),yQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Su={isSsr:yQ()};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){oS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B6(n.key),n)}}function wQ(t,e,r){return e&&bQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Q(t,e,r){return e=zm(e),kQ(t,V6()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function kQ(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jQ(t)}function jQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function SQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ik(t,e)}function oS(t,e,r){return e=B6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B6(t){var e=NQ(t,"string");return Jc(e)=="symbol"?e:e+""}function NQ(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EQ(t){return t.dataKey}function CQ(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(rQ,e)}var Mi=function(t){function e(){return xQ(this,e),_Q(this,e,arguments)}return SQ(e,t),wQ(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,c=i.animationDuration,d=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,g=i.isAnimationActive,w=i.offset,b=i.payload,_=i.payloadUniqBy,x=i.position,C=i.reverseDirection,j=i.useTranslate3d,A=i.viewBox,P=i.wrapperStyle,S=b??[];m&&S.length&&(S=P6(b.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,EQ));var E=S.length>0;return ne.createElement(vQ,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:g,active:s,coordinate:p,hasPayload:E,offset:w,position:x,reverseDirection:C,useTranslate3d:j,viewBox:A,wrapperStyle:P},CQ(h,dO(dO({},this.props),{},{payload:S})))}}])}(k.PureComponent);oS(Mi,"displayName","Tooltip");oS(Mi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lw,hO;function TQ(){if(hO)return Lw;hO=1;var t=Ms(),e=function(){return t.Date.now()};return Lw=e,Lw}var Dw,fO;function AQ(){if(fO)return Dw;fO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Dw=e,Dw}var $w,pO;function PQ(){if(pO)return $w;pO=1;var t=AQ(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return $w=r,$w}var Fw,mO;function U6(){if(mO)return Fw;mO=1;var t=PQ(),e=ko(),r=_u(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||o.test(h)?c(h.slice(2),m?2:8):i.test(h)?n:+h}return Fw=d,Fw}var Vw,gO;function OQ(){if(gO)return Vw;gO=1;var t=ko(),e=TQ(),r=U6(),n="Expected a function",i=Math.max,s=Math.min;function o(c,d,h){var p,m,g,w,b,_,x=0,C=!1,j=!1,A=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(C=!!h.leading,j="maxWait"in h,g=j?i(r(h.maxWait)||0,d):g,A="trailing"in h?!!h.trailing:A);function P(F){var Z=p,te=m;return p=m=void 0,x=F,w=c.apply(te,Z),w}function S(F){return x=F,b=setTimeout(M,d),C?P(F):w}function E(F){var Z=F-_,te=F-x,J=d-Z;return j?s(J,g-te):J}function T(F){var Z=F-_,te=F-x;return _===void 0||Z>=d||Z<0||j&&te>=g}function M(){var F=e();if(T(F))return L(F);b=setTimeout(M,E(F))}function L(F){return b=void 0,A&&p?P(F):(p=m=void 0,w)}function R(){b!==void 0&&clearTimeout(b),x=0,p=_=m=b=void 0}function D(){return b===void 0?w:L(e())}function V(){var F=e(),Z=T(F);if(p=arguments,m=this,_=F,Z){if(b===void 0)return S(_);if(j)return clearTimeout(b),b=setTimeout(M,d),P(_)}return b===void 0&&(b=setTimeout(M,d)),w}return V.cancel=R,V.flush=D,V}return Vw=o,Vw}var Bw,vO;function IQ(){if(vO)return Bw;vO=1;var t=OQ(),e=ko(),r="Expected a function";function n(i,s,o){var c=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),t(i,s,{leading:c,maxWait:s,trailing:d})}return Bw=n,Bw}var MQ=IQ();const z6=Nt(MQ);function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){RQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RQ(t,e,r){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LQ(t){var e=DQ(t,"string");return dh(e)=="symbol"?e:e+""}function DQ(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Q(t,e){return UQ(t)||BQ(t,e)||VQ(t,e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VQ(t,e){if(t){if(typeof t=="string")return xO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(t,e)}}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function UQ(t){if(Array.isArray(t))return t}var lS=k.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,g=t.maxHeight,w=t.children,b=t.debounce,_=b===void 0?0:b,x=t.id,C=t.className,j=t.onResize,A=t.style,P=A===void 0?{}:A,S=k.useRef(null),E=k.useRef();E.current=j,k.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=k.useState({containerWidth:i.width,containerHeight:i.height}),M=$Q(T,2),L=M[0],R=M[1],D=k.useCallback(function(F,Z){R(function(te){var J=Math.round(F),ee=Math.round(Z);return te.containerWidth===J&&te.containerHeight===ee?te:{containerWidth:J,containerHeight:ee}})},[]);k.useEffect(function(){var F=function(Y){var re,W=Y[0].contentRect,Q=W.width,H=W.height;D(Q,H),(re=E.current)===null||re===void 0||re.call(E,Q,H)};_>0&&(F=z6(F,_,{trailing:!0,leading:!1}));var Z=new ResizeObserver(F),te=S.current.getBoundingClientRect(),J=te.width,ee=te.height;return D(J,ee),Z.observe(S.current),function(){Z.disconnect()}},[D,_]);var V=k.useMemo(function(){var F=L.containerWidth,Z=L.containerHeight;if(F<0||Z<0)return null;ns(sl(o)||sl(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),ns(!r||r>0,"The aspect(%s) must be greater than zero.",r);var te=sl(o)?F:o,J=sl(d)?Z:d;r&&r>0&&(te?J=te/r:J&&(te=J*r),g&&J>g&&(J=g)),ns(te>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,J,o,d,p,m,r);var ee=!Array.isArray(w)&&oa(w.type).endsWith("Chart");return ne.Children.map(w,function(K){return ne.isValidElement(K)?k.cloneElement(K,zp({width:te,height:J},ee?{style:zp({height:"100%",width:"100%",maxHeight:J,maxWidth:te},K.props.style)}:{})):K})},[r,w,d,g,m,p,L,o]);return ne.createElement("div",{id:x?"".concat(x):void 0,className:it("recharts-responsive-container",C),style:zp(zp({},P),{},{width:o,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:S},V)}),x0=function(e){return null};x0.displayName="Cell";function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){zQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zQ(t,e,r){return e=qQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qQ(t){var e=WQ(t,"string");return hh(e)=="symbol"?e:e+""}function WQ(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gc={widthCache:{},cacheCount:0},HQ=2e3,GQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wO="recharts_measurement_span";function KQ(t){var e=Mk({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Bd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Su.isSsr)return{width:0,height:0};var n=KQ(r),i=JSON.stringify({text:e,copyStyle:n});if(gc.widthCache[i])return gc.widthCache[i];try{var s=document.getElementById(wO);s||(s=document.createElement("span"),s.setAttribute("id",wO),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Mk(Mk({},GQ),n);Object.assign(s.style,o),s.textContent="".concat(e);var c=s.getBoundingClientRect(),d={width:c.width,height:c.height};return gc.widthCache[i]=d,++gc.cacheCount>HQ&&(gc.cacheCount=0,gc.widthCache={}),d}catch{return{width:0,height:0}}},YQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function qm(t,e){return ZQ(t)||JQ(t,e)||XQ(t,e)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return _O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _O(t,e)}}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function ZQ(t){if(Array.isArray(t))return t}function eX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rX(n.key),n)}}function tX(t,e,r){return e&&kO(t.prototype,e),r&&kO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rX(t){var e=nX(t,"string");return fh(e)=="symbol"?e:e+""}function nX(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aX=Object.keys(q6),jc="NaN";function oX(t,e){return t*q6[e]}var qp=function(){function t(e,r){eX(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!iX.test(r)&&(this.num=NaN,this.unit=""),aX.includes(r)&&(this.num=oX(e,r),this.unit="px")}return tX(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=sX.exec(r))!==null&&n!==void 0?n:[],s=qm(i,3),o=s[1],c=s[2];return new t(parseFloat(o),c??"")}}])}();function W6(t){if(t.includes(jc))return jc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=jO.exec(e))!==null&&r!==void 0?r:[],i=qm(n,4),s=i[1],o=i[2],c=i[3],d=qp.parse(s??""),h=qp.parse(c??""),p=o==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return jc;e=e.replace(jO,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=SO.exec(e))!==null&&m!==void 0?m:[],w=qm(g,4),b=w[1],_=w[2],x=w[3],C=qp.parse(b??""),j=qp.parse(x??""),A=_==="+"?C.add(j):C.subtract(j);if(A.isNaN())return jc;e=e.replace(SO,A.toString())}return e}var NO=/\(([^()]*)\)/;function lX(t){for(var e=t;e.includes("(");){var r=NO.exec(e),n=qm(r,2),i=n[1];e=e.replace(NO,W6(i))}return e}function cX(t){var e=t.replace(/\s+/g,"");return e=lX(e),e=W6(e),e}function uX(t){try{return cX(t)}catch{return jc}}function Uw(t){var e=uX(t.slice(5,-1));return e===jc?"":e}var dX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hX=["dx","dy","angle","className","breakAll"];function Rk(){return Rk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rk.apply(this,arguments)}function EO(t,e){if(t==null)return{};var r=fX(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CO(t,e){return vX(t)||gX(t,e)||mX(t,e)||pX()}function pX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(t,e){if(t){if(typeof t=="string")return TO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(t,e)}}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function vX(t){if(Array.isArray(t))return t}var H6=/[ \f\n\r\t\v\u2028\u2029]+/,G6=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ot(r)||(n?s=r.toString().split(""):s=r.toString().split(H6));var o=s.map(function(d){return{word:d,width:Bd(d,i).width}}),c=n?0:Bd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},yX=function(e,r,n,i,s){var o=e.maxLines,c=e.children,d=e.style,h=e.breakAll,p=Ae(o),m=c,g=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(J,ee){var K=ee.word,Y=ee.width,re=J[J.length-1];if(re&&(i==null||s||re.width+Y+n<Number(i)))re.words.push(K),re.width+=Y+n;else{var W={words:[K],width:Y};J.push(W)}return J},[])},w=g(r),b=function(te){return te.reduce(function(J,ee){return J.width>ee.width?J:ee})};if(!p)return w;for(var _="",x=function(te){var J=m.slice(0,te),ee=G6({breakAll:h,style:d,children:J+_}).wordsWithComputedWidth,K=g(ee),Y=K.length>o||b(K).width>Number(i);return[Y,K]},C=0,j=m.length-1,A=0,P;C<=j&&A<=m.length-1;){var S=Math.floor((C+j)/2),E=S-1,T=x(E),M=CO(T,2),L=M[0],R=M[1],D=x(S),V=CO(D,1),F=V[0];if(!L&&!F&&(C=S+1),L&&F&&(j=S-1),!L&&F){P=R;break}A++}return P||w},AO=function(e){var r=ot(e)?[]:e.toString().split(H6);return[{words:r}]},xX=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,c=e.maxLines;if((r||n)&&!Su.isSsr){var d,h,p=G6({breakAll:o,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,h=g}else return AO(i);return yX({breakAll:o,children:i,maxLines:c,style:s},d,h,r,n)}return AO(i)},PO="#808080",kl=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,c=o===void 0?"1em":o,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,g=e.textAnchor,w=g===void 0?"start":g,b=e.verticalAnchor,_=b===void 0?"end":b,x=e.fill,C=x===void 0?PO:x,j=EO(e,dX),A=k.useMemo(function(){return xX({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:m,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,m,j.style,j.width]),P=j.dx,S=j.dy,E=j.angle,T=j.className,M=j.breakAll,L=EO(j,hX);if(!Pr(n)||!Pr(s))return null;var R=n+(Ae(P)?P:0),D=s+(Ae(S)?S:0),V;switch(_){case"start":V=Uw("calc(".concat(h,")"));break;case"middle":V=Uw("calc(".concat((A.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:V=Uw("calc(".concat(A.length-1," * -").concat(c,")"));break}var F=[];if(m){var Z=A[0].width,te=j.width;F.push("scale(".concat((Ae(te)?te/Z:1)/Z,")"))}return E&&F.push("rotate(".concat(E,", ").concat(R,", ").concat(D,")")),F.length&&(L.transform=F.join(" ")),ne.createElement("text",Rk({},Xe(L,!0),{x:R,y:D,className:it("recharts-text",T),textAnchor:w,fill:C.includes("url")?PO:C}),A.map(function(J,ee){var K=J.words.join(M?"":" ");return ne.createElement("tspan",{x:R,dy:ee===0?V:c,key:"".concat(K,"-").concat(ee)},K)}))};function fo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cS(t){let e,r,n;t.length!==2?(e=fo,r=(c,d)=>fo(t(c),d),n=(c,d)=>t(c)-d):(e=t===fo||t===bX?t:wX,r=t,n=t);function i(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function o(c,d,h=0,p=c.length){const m=i(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:i,center:o,right:s}}function wX(){return 0}function K6(t){return t===null?NaN:+t}function*_X(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kX=cS(fo),pf=kX.right;cS(K6).center;class OO extends Map{constructor(e,r=NX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(IO(this,e))}has(e){return super.has(IO(this,e))}set(e,r){return super.set(jX(this,e),r)}delete(e){return super.delete(SX(this,e))}}function IO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function jX({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function SX({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function NX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EX(t=fo){if(t===fo)return Y6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Y6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const CX=Math.sqrt(50),TX=Math.sqrt(10),AX=Math.sqrt(2);function Wm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=CX?10:s>=TX?5:s>=AX?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*o,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?Wm(t,e,r*2):[c,d,h]}function Lk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Wm(e,t,r):Wm(t,e,r);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)d[h]=(s-h)/-o;else for(let h=0;h<c;++h)d[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)d[h]=(i+h)/-o;else for(let h=0;h<c;++h)d[h]=(i+h)*o;return d}function Dk(t,e,r){return e=+e,t=+t,r=+r,Wm(t,e,r)[2]}function $k(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Dk(e,t,r):Dk(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function MO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Q6(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Y6:EX(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),w=Math.max(r,Math.floor(e-h*m/d+g)),b=Math.min(n,Math.floor(e+(d-h)*m/d+g));Q6(t,e,w,b,i)}const s=t[e];let o=r,c=n;for(pd(t,r,e),i(t[n],s)>0&&pd(t,r,n);o<c;){for(pd(t,o,c),++o,--c;i(t[o],s)<0;)++o;for(;i(t[c],s)>0;)--c}i(t[r],s)===0?pd(t,r,c):(++c,pd(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function pd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function PX(t,e,r){if(t=Float64Array.from(_X(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return RO(t);if(e>=1)return MO(t);var n,i=(n-1)*e,s=Math.floor(i),o=MO(Q6(t,s).subarray(0,s+1)),c=RO(t.subarray(s+1));return o+(c-o)*(i-s)}}function OX(t,e,r=K6){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),c=+r(t[s+1],s+1,t);return o+(c-o)*(i-s)}}function IX(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Vi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ba(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Fk=Symbol("implicit");function uS(){var t=new OO,e=[],r=[],n=Fk;function i(s){let o=t.get(s);if(o===void 0){if(n!==Fk)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new OO;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return uS(e,r).unknown(n)},Vi.apply(i,arguments),i}function ph(){var t=uS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var g=e().length,w=i<n,b=w?i:n,_=w?n:i;s=(_-b)/Math.max(1,g-d+h*2),c&&(s=Math.floor(s)),b+=(_-b-s*(g-d))*p,o=s*(1-d),c&&(b=Math.round(b),o=Math.round(o));var x=IX(g).map(function(C){return b+s*C});return r(w?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,c=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),m()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},t.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return ph(e(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(p)},Vi.apply(m(),arguments)}function X6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return X6(e())},t}function Ud(){return X6(ph.apply(null,arguments).paddingInner(1))}function dS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function J6(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function mf(){}var mh=.7,Hm=1/mh,Lc="\\s*([+-]?\\d+)\\s*",gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MX=/^#([0-9a-f]{3,8})$/,RX=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),LX=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),DX=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${gh}\\)$`),$X=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${gh}\\)$`),FX=new RegExp(`^hsl\\(${gh},${Ns},${Ns}\\)$`),VX=new RegExp(`^hsla\\(${gh},${Ns},${Ns},${gh}\\)$`),LO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dS(mf,vh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DO,formatHex:DO,formatHex8:BX,formatHsl:UX,formatRgb:$O,toString:$O});function DO(){return this.rgb().formatHex()}function BX(){return this.rgb().formatHex8()}function UX(){return Z6(this).formatHsl()}function $O(){return this.rgb().formatRgb()}function vh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=MX.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?FO(e):r===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Wp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Wp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RX.exec(t))?new Hn(e[1],e[2],e[3],1):(e=LX.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DX.exec(t))?Wp(e[1],e[2],e[3],e[4]):(e=$X.exec(t))?Wp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FX.exec(t))?UO(e[1],e[2]/100,e[3]/100,1):(e=VX.exec(t))?UO(e[1],e[2]/100,e[3]/100,e[4]):LO.hasOwnProperty(t)?FO(LO[t]):t==="transparent"?new Hn(NaN,NaN,NaN,0):null}function FO(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function Wp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Hn(t,e,r,n)}function zX(t){return t instanceof mf||(t=vh(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function Vk(t,e,r,n){return arguments.length===1?zX(t):new Hn(t,e,r,n??1)}function Hn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}dS(Hn,Vk,J6(mf,{brighter(t){return t=t==null?Hm:Math.pow(Hm,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(hl(this.r),hl(this.g),hl(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VO,formatHex:VO,formatHex8:qX,formatRgb:BO,toString:BO}));function VO(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function qX(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function BO(){const t=Gm(this.opacity);return`${t===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${t===1?")":`, ${t})`}`}function Gm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=hl(t),(t<16?"0":"")+t.toString(16)}function UO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,r,n)}function Z6(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof mf||(t=vh(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,c=s-i,d=(s+i)/2;return c?(e===s?o=(r-n)/c+(r<n)*6:r===s?o=(n-e)/c+2:o=(e-r)/c+4,c/=d<.5?s+i:2-s-i,o*=60):c=d>0&&d<1?0:o,new es(o,c,d,t.opacity)}function WX(t,e,r,n){return arguments.length===1?Z6(t):new es(t,e,r,n??1)}function es(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}dS(es,WX,J6(mf,{brighter(t){return t=t==null?Hm:Math.pow(Hm,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mh:Math.pow(mh,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Hn(zw(t>=240?t-240:t+120,i,n),zw(t,i,n),zw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new es(zO(this.h),Hp(this.s),Hp(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gm(this.opacity);return`${t===1?"hsl(":"hsla("}${zO(this.h)}, ${Hp(this.s)*100}%, ${Hp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zO(t){return t=(t||0)%360,t<0?t+360:t}function Hp(t){return Math.max(0,Math.min(1,t||0))}function zw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const hS=t=>()=>t;function HX(t,e){return function(r){return t+r*e}}function GX(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function KX(t){return(t=+t)==1?e$:function(e,r){return r-e?GX(e,r,t):hS(isNaN(e)?r:e)}}function e$(t,e){var r=e-t;return r?HX(t,r):hS(isNaN(t)?e:t)}const qO=function t(e){var r=KX(e);function n(i,s){var o=r((i=Vk(i)).r,(s=Vk(s)).r),c=r(i.g,s.g),d=r(i.b,s.b),h=e$(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=d(p),i.opacity=h(p),i+""}}return n.gamma=t,n}(1);function YX(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function QX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XX(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Nu(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(c){for(o=0;o<n;++o)s[o]=i[o](c);return s}}function JX(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Km(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ZX(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Nu(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Bk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qw=new RegExp(Bk.source,"g");function eJ(t){return function(){return t}}function tJ(t){return function(e){return t(e)+""}}function rJ(t,e){var r=Bk.lastIndex=qw.lastIndex=0,n,i,s,o=-1,c=[],d=[];for(t=t+"",e=e+"";(n=Bk.exec(t))&&(i=qw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),c[o]?c[o]+=s:c[++o]=s),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:Km(n,i)})),r=qw.lastIndex;return r<e.length&&(s=e.slice(r),c[o]?c[o]+=s:c[++o]=s),c.length<2?d[0]?tJ(d[0].x):eJ(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function Nu(t,e){var r=typeof e,n;return e==null||r==="boolean"?hS(e):(r==="number"?Km:r==="string"?(n=vh(e))?(e=n,qO):rJ:e instanceof vh?qO:e instanceof Date?JX:QX(e)?YX:Array.isArray(e)?XX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZX:Km)(t,e)}function fS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nJ(t,e){e===void 0&&(e=t,t=Nu);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[c](o-c)}}function iJ(t){return function(){return t}}function Ym(t){return+t}var WO=[0,1];function Pn(t){return t}function Uk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:iJ(isNaN(e)?NaN:.5)}function sJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function aJ(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=Uk(i,n),s=r(o,s)):(n=Uk(n,i),s=r(s,o)),function(c){return s(n(c))}}function oJ(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=Uk(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(c){var d=pf(t,c,1,n)-1;return s[d](i[d](c))}}function gf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function b0(){var t=WO,e=WO,r=Nu,n,i,s,o=Pn,c,d,h;function p(){var g=Math.min(t.length,e.length);return o!==Pn&&(o=sJ(t[0],t[g-1])),c=g>2?oJ:aJ,d=h=null,m}function m(g){return g==null||isNaN(g=+g)?s:(d||(d=c(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(i((h||(h=c(e,t.map(n),Km)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Ym),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=fS,p()},m.clamp=function(g){return arguments.length?(o=g?!0:Pn,p()):o!==Pn},m.interpolate=function(g){return arguments.length?(r=g,p()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,w){return n=g,i=w,p()}}function pS(){return b0()(Pn,Pn)}function lJ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Zc(t){return t=Qm(Math.abs(t)),t?t[1]:NaN}function cJ(t,e){return function(r,n){for(var i=r.length,s=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[o=(o+1)%t.length];return s.reverse().join(e)}}function uJ(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yh(t){if(!(e=dJ.exec(t)))throw new Error("invalid format: "+t);var e;return new mS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yh.prototype=mS.prototype;function mS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hJ(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var t$;function fJ(t,e){var r=Qm(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(t$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qm(t,Math.max(0,e+s-1))[0]}function HO(t,e){var r=Qm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const GO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lJ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>HO(t*100,e),r:HO,s:fJ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KO(t){return t}var YO=Array.prototype.map,QO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pJ(t){var e=t.grouping===void 0||t.thousands===void 0?KO:cJ(YO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?KO:uJ(YO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=yh(m);var g=m.fill,w=m.align,b=m.sign,_=m.symbol,x=m.zero,C=m.width,j=m.comma,A=m.precision,P=m.trim,S=m.type;S==="n"?(j=!0,S="g"):GO[S]||(A===void 0&&(A=12),P=!0,S="g"),(x||g==="0"&&w==="=")&&(x=!0,g="0",w="=");var E=_==="$"?r:_==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",T=_==="$"?n:/[%p]/.test(S)?o:"",M=GO[S],L=/[defgprs%]/.test(S);A=A===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(D){var V=E,F=T,Z,te,J;if(S==="c")F=M(D)+F,D="";else{D=+D;var ee=D<0||1/D<0;if(D=isNaN(D)?d:M(Math.abs(D),A),P&&(D=hJ(D)),ee&&+D==0&&b!=="+"&&(ee=!1),V=(ee?b==="("?b:c:b==="-"||b==="("?"":b)+V,F=(S==="s"?QO[8+t$/3]:"")+F+(ee&&b==="("?")":""),L){for(Z=-1,te=D.length;++Z<te;)if(J=D.charCodeAt(Z),48>J||J>57){F=(J===46?i+D.slice(Z+1):D.slice(Z))+F,D=D.slice(0,Z);break}}}j&&!x&&(D=e(D,1/0));var K=V.length+D.length+F.length,Y=K<C?new Array(C-K+1).join(g):"";switch(j&&x&&(D=e(Y+D,Y.length?C-F.length:1/0),Y=""),w){case"<":D=V+D+F+Y;break;case"=":D=V+Y+D+F;break;case"^":D=Y.slice(0,K=Y.length>>1)+V+D+F+Y.slice(K);break;default:D=Y+V+D+F;break}return s(D)}return R.toString=function(){return m+""},R}function p(m,g){var w=h((m=yh(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Zc(g)/3)))*3,_=Math.pow(10,-b),x=QO[8+b/3];return function(C){return w(_*C)+x}}return{format:h,formatPrefix:p}}var Gp,gS,r$;mJ({thousands:",",grouping:[3],currency:["$",""]});function mJ(t){return Gp=pJ(t),gS=Gp.format,r$=Gp.formatPrefix,Gp}function gJ(t){return Math.max(0,-Zc(Math.abs(t)))}function vJ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zc(e)/3)))*3-Zc(Math.abs(t)))}function yJ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zc(e)-Zc(t))+1}function n$(t,e,r,n){var i=$k(t,e,r),s;switch(n=yh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=vJ(i,o))&&(n.precision=s),r$(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=yJ(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gJ(i))&&(n.precision=s-(n.type==="%")*2);break}}return gS(n)}function jo(t){var e=t.domain;return t.ticks=function(r){var n=e();return Lk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return n$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],c=n[s],d,h,p=10;for(c<o&&(h=o,o=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=Dk(o,c,r),h===d)return n[i]=o,n[s]=c,e(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function Xm(){var t=pS();return t.copy=function(){return gf(t,Xm())},Vi.apply(t,arguments),jo(t)}function i$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Ym),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return i$(t).unknown(e)},t=arguments.length?Array.from(t,Ym):[0,1],jo(r)}function s$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function XO(t){return Math.log(t)}function JO(t){return Math.exp(t)}function xJ(t){return-Math.log(-t)}function bJ(t){return-Math.exp(-t)}function wJ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _J(t){return t===10?wJ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kJ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZO(t){return(e,r)=>-t(-e,r)}function vS(t){const e=t(XO,JO),r=e.domain;let n=10,i,s;function o(){return i=kJ(n),s=_J(n),r()[0]<0?(i=ZO(i),s=ZO(s),t(xJ,bJ)):t(XO,JO),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=i(h),w=i(p),b,_;const x=c==null?10:+c;let C=[];if(!(n%1)&&w-g<x){if(g=Math.floor(g),w=Math.ceil(w),h>0){for(;g<=w;++g)for(b=1;b<n;++b)if(_=g<0?b/s(-g):b*s(g),!(_<h)){if(_>p)break;C.push(_)}}else for(;g<=w;++g)for(b=n-1;b>=1;--b)if(_=g>0?b/s(-g):b*s(g),!(_<h)){if(_>p)break;C.push(_)}C.length*2<x&&(C=Lk(h,p,x))}else C=Lk(g,w,Math.min(w-g,x)).map(s);return m?C.reverse():C},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yh(d)).precision==null&&(d.trim=!0),d=gS(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(s$(r(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function a$(){const t=vS(b0()).domain([1,10]);return t.copy=()=>gf(t,a$()).base(t.base()),Vi.apply(t,arguments),t}function eI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yS(t){var e=1,r=t(eI(e),tI(e));return r.constant=function(n){return arguments.length?t(eI(e=+n),tI(e)):e},jo(r)}function o$(){var t=yS(b0());return t.copy=function(){return gf(t,o$()).constant(t.constant())},Vi.apply(t,arguments)}function rI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jJ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SJ(t){return t<0?-t*t:t*t}function xS(t){var e=t(Pn,Pn),r=1;function n(){return r===1?t(Pn,Pn):r===.5?t(jJ,SJ):t(rI(r),rI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},jo(e)}function bS(){var t=xS(b0());return t.copy=function(){return gf(t,bS()).exponent(t.exponent())},Vi.apply(t,arguments),t}function NJ(){return bS.apply(null,arguments).exponent(.5)}function nI(t){return Math.sign(t)*t*t}function EJ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function l$(){var t=pS(),e=[0,1],r=!1,n;function i(s){var o=EJ(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(nI(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Ym)).map(nI)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return l$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vi.apply(i,arguments),jo(i)}function c$(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=OX(t,o/c);return s}function s(o){return o==null||isNaN(o=+o)?n:e[pf(r,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(fo),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return c$().domain(t).range(e).unknown(n)},Vi.apply(s,arguments)}function u$(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[pf(n,d,0,r)]:s}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return u$().domain([t,e]).range(i).unknown(s)},Vi.apply(jo(o),arguments)}function d$(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[pf(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return d$().domain(t).range(e).unknown(r)},Vi.apply(i,arguments)}const Ww=new Date,Hw=new Date;function Mr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<o);return d},i.filter=s=>Mr(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Ww.setTime(+s),Hw.setTime(+o),t(Ww),t(Hw),Math.floor(r(Ww,Hw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Jm=Mr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Jm);Jm.range;const na=1e3,Li=na*60,ia=Li*60,pa=ia*24,wS=pa*7,iI=pa*30,Gw=pa*365,ol=Mr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCSeconds());ol.range;const _S=Mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*na)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getMinutes());_S.range;const kS=Mr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Li)},(t,e)=>(e-t)/Li,t=>t.getUTCMinutes());kS.range;const jS=Mr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*na-t.getMinutes()*Li)},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getHours());jS.range;const SS=Mr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ia)},(t,e)=>(e-t)/ia,t=>t.getUTCHours());SS.range;const vf=Mr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Li)/pa,t=>t.getDate()-1);vf.range;const w0=Mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>t.getUTCDate()-1);w0.range;const h$=Mr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/pa,t=>Math.floor(t/pa));h$.range;function Ml(t){return Mr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Li)/wS)}const _0=Ml(0),Zm=Ml(1),CJ=Ml(2),TJ=Ml(3),eu=Ml(4),AJ=Ml(5),PJ=Ml(6);_0.range;Zm.range;CJ.range;TJ.range;eu.range;AJ.range;PJ.range;function Rl(t){return Mr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/wS)}const k0=Rl(0),eg=Rl(1),OJ=Rl(2),IJ=Rl(3),tu=Rl(4),MJ=Rl(5),RJ=Rl(6);k0.range;eg.range;OJ.range;IJ.range;tu.range;MJ.range;RJ.range;const NS=Mr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NS.range;const ES=Mr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ES.range;const ma=Mr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ma.range;const ga=Mr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ga.range;function f$(t,e,r,n,i,s){const o=[[ol,1,na],[ol,5,5*na],[ol,15,15*na],[ol,30,30*na],[s,1,Li],[s,5,5*Li],[s,15,15*Li],[s,30,30*Li],[i,1,ia],[i,3,3*ia],[i,6,6*ia],[i,12,12*ia],[n,1,pa],[n,2,2*pa],[r,1,wS],[e,1,iI],[e,3,3*iI],[t,1,Gw]];function c(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const w=m&&typeof m.range=="function"?m:d(h,p,m),b=w?w.range(h,+p+1):[];return g?b.reverse():b}function d(h,p,m){const g=Math.abs(p-h)/m,w=cS(([,,x])=>x).right(o,g);if(w===o.length)return t.every($k(h/Gw,p/Gw,m));if(w===0)return Jm.every(Math.max($k(h,p,m),1));const[b,_]=o[g/o[w-1][2]<o[w][2]/g?w-1:w];return b.every(_)}return[c,d]}const[LJ,DJ]=f$(ga,ES,k0,h$,SS,kS),[$J,FJ]=f$(ma,NS,_0,vf,jS,_S);function Kw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function md(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function VJ(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,h=gd(i),p=vd(i),m=gd(s),g=vd(s),w=gd(o),b=vd(o),_=gd(c),x=vd(c),C=gd(d),j=vd(d),A={a:ee,A:K,b:Y,B:re,c:null,d:uI,e:uI,f:cZ,g:xZ,G:wZ,H:aZ,I:oZ,j:lZ,L:p$,m:uZ,M:dZ,p:W,q:Q,Q:fI,s:pI,S:hZ,u:fZ,U:pZ,V:mZ,w:gZ,W:vZ,x:null,X:null,y:yZ,Y:bZ,Z:_Z,"%":hI},P={a:H,A:oe,b:X,B:ue,c:null,d:dI,e:dI,f:NZ,g:LZ,G:$Z,H:kZ,I:jZ,j:SZ,L:g$,m:EZ,M:CZ,p:le,q:pe,Q:fI,s:pI,S:TZ,u:AZ,U:PZ,V:OZ,w:IZ,W:MZ,x:null,X:null,y:RZ,Y:DZ,Z:FZ,"%":hI},S={a:R,A:D,b:V,B:F,c:Z,d:lI,e:lI,f:rZ,g:oI,G:aI,H:cI,I:cI,j:JJ,L:tZ,m:XJ,M:ZJ,p:L,q:QJ,Q:iZ,s:sZ,S:eZ,u:WJ,U:HJ,V:GJ,w:qJ,W:KJ,x:te,X:J,y:oI,Y:aI,Z:YJ,"%":nZ};A.x=E(r,A),A.X=E(n,A),A.c=E(e,A),P.x=E(r,P),P.X=E(n,P),P.c=E(e,P);function E(z,ae){return function(me){var q=[],fe=-1,_e=0,Ee=z.length,qe,Mt,or;for(me instanceof Date||(me=new Date(+me));++fe<Ee;)z.charCodeAt(fe)===37&&(q.push(z.slice(_e,fe)),(Mt=sI[qe=z.charAt(++fe)])!=null?qe=z.charAt(++fe):Mt=qe==="e"?" ":"0",(or=ae[qe])&&(qe=or(me,Mt)),q.push(qe),_e=fe+1);return q.push(z.slice(_e,fe)),q.join("")}}function T(z,ae){return function(me){var q=md(1900,void 0,1),fe=M(q,z,me+="",0),_e,Ee;if(fe!=me.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ae&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(_e=Yw(md(q.y,0,1)),Ee=_e.getUTCDay(),_e=Ee>4||Ee===0?eg.ceil(_e):eg(_e),_e=w0.offset(_e,(q.V-1)*7),q.y=_e.getUTCFullYear(),q.m=_e.getUTCMonth(),q.d=_e.getUTCDate()+(q.w+6)%7):(_e=Kw(md(q.y,0,1)),Ee=_e.getDay(),_e=Ee>4||Ee===0?Zm.ceil(_e):Zm(_e),_e=vf.offset(_e,(q.V-1)*7),q.y=_e.getFullYear(),q.m=_e.getMonth(),q.d=_e.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ee="Z"in q?Yw(md(q.y,0,1)).getUTCDay():Kw(md(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ee+5)%7:q.w+q.U*7-(Ee+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Yw(q)):Kw(q)}}function M(z,ae,me,q){for(var fe=0,_e=ae.length,Ee=me.length,qe,Mt;fe<_e;){if(q>=Ee)return-1;if(qe=ae.charCodeAt(fe++),qe===37){if(qe=ae.charAt(fe++),Mt=S[qe in sI?ae.charAt(fe++):qe],!Mt||(q=Mt(z,me,q))<0)return-1}else if(qe!=me.charCodeAt(q++))return-1}return q}function L(z,ae,me){var q=h.exec(ae.slice(me));return q?(z.p=p.get(q[0].toLowerCase()),me+q[0].length):-1}function R(z,ae,me){var q=w.exec(ae.slice(me));return q?(z.w=b.get(q[0].toLowerCase()),me+q[0].length):-1}function D(z,ae,me){var q=m.exec(ae.slice(me));return q?(z.w=g.get(q[0].toLowerCase()),me+q[0].length):-1}function V(z,ae,me){var q=C.exec(ae.slice(me));return q?(z.m=j.get(q[0].toLowerCase()),me+q[0].length):-1}function F(z,ae,me){var q=_.exec(ae.slice(me));return q?(z.m=x.get(q[0].toLowerCase()),me+q[0].length):-1}function Z(z,ae,me){return M(z,e,ae,me)}function te(z,ae,me){return M(z,r,ae,me)}function J(z,ae,me){return M(z,n,ae,me)}function ee(z){return o[z.getDay()]}function K(z){return s[z.getDay()]}function Y(z){return d[z.getMonth()]}function re(z){return c[z.getMonth()]}function W(z){return i[+(z.getHours()>=12)]}function Q(z){return 1+~~(z.getMonth()/3)}function H(z){return o[z.getUTCDay()]}function oe(z){return s[z.getUTCDay()]}function X(z){return d[z.getUTCMonth()]}function ue(z){return c[z.getUTCMonth()]}function le(z){return i[+(z.getUTCHours()>=12)]}function pe(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var ae=E(z+="",A);return ae.toString=function(){return z},ae},parse:function(z){var ae=T(z+="",!1);return ae.toString=function(){return z},ae},utcFormat:function(z){var ae=E(z+="",P);return ae.toString=function(){return z},ae},utcParse:function(z){var ae=T(z+="",!0);return ae.toString=function(){return z},ae}}}var sI={"-":"",_:" ",0:"0"},Ur=/^\s*\d+/,BJ=/^%/,UJ=/[\\^$*+?|[\]().{}]/g;function _t(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function zJ(t){return t.replace(UJ,"\\$&")}function gd(t){return new RegExp("^(?:"+t.map(zJ).join("|")+")","i")}function vd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function qJ(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function WJ(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function HJ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function GJ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function KJ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function aI(t,e,r){var n=Ur.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function oI(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YJ(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QJ(t,e,r){var n=Ur.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function XJ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function lI(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function JJ(t,e,r){var n=Ur.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function cI(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ZJ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function eZ(t,e,r){var n=Ur.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function tZ(t,e,r){var n=Ur.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function rZ(t,e,r){var n=Ur.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nZ(t,e,r){var n=BJ.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function iZ(t,e,r){var n=Ur.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function sZ(t,e,r){var n=Ur.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function uI(t,e){return _t(t.getDate(),e,2)}function aZ(t,e){return _t(t.getHours(),e,2)}function oZ(t,e){return _t(t.getHours()%12||12,e,2)}function lZ(t,e){return _t(1+vf.count(ma(t),t),e,3)}function p$(t,e){return _t(t.getMilliseconds(),e,3)}function cZ(t,e){return p$(t,e)+"000"}function uZ(t,e){return _t(t.getMonth()+1,e,2)}function dZ(t,e){return _t(t.getMinutes(),e,2)}function hZ(t,e){return _t(t.getSeconds(),e,2)}function fZ(t){var e=t.getDay();return e===0?7:e}function pZ(t,e){return _t(_0.count(ma(t)-1,t),e,2)}function m$(t){var e=t.getDay();return e>=4||e===0?eu(t):eu.ceil(t)}function mZ(t,e){return t=m$(t),_t(eu.count(ma(t),t)+(ma(t).getDay()===4),e,2)}function gZ(t){return t.getDay()}function vZ(t,e){return _t(Zm.count(ma(t)-1,t),e,2)}function yZ(t,e){return _t(t.getFullYear()%100,e,2)}function xZ(t,e){return t=m$(t),_t(t.getFullYear()%100,e,2)}function bZ(t,e){return _t(t.getFullYear()%1e4,e,4)}function wZ(t,e){var r=t.getDay();return t=r>=4||r===0?eu(t):eu.ceil(t),_t(t.getFullYear()%1e4,e,4)}function _Z(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_t(e/60|0,"0",2)+_t(e%60,"0",2)}function dI(t,e){return _t(t.getUTCDate(),e,2)}function kZ(t,e){return _t(t.getUTCHours(),e,2)}function jZ(t,e){return _t(t.getUTCHours()%12||12,e,2)}function SZ(t,e){return _t(1+w0.count(ga(t),t),e,3)}function g$(t,e){return _t(t.getUTCMilliseconds(),e,3)}function NZ(t,e){return g$(t,e)+"000"}function EZ(t,e){return _t(t.getUTCMonth()+1,e,2)}function CZ(t,e){return _t(t.getUTCMinutes(),e,2)}function TZ(t,e){return _t(t.getUTCSeconds(),e,2)}function AZ(t){var e=t.getUTCDay();return e===0?7:e}function PZ(t,e){return _t(k0.count(ga(t)-1,t),e,2)}function v$(t){var e=t.getUTCDay();return e>=4||e===0?tu(t):tu.ceil(t)}function OZ(t,e){return t=v$(t),_t(tu.count(ga(t),t)+(ga(t).getUTCDay()===4),e,2)}function IZ(t){return t.getUTCDay()}function MZ(t,e){return _t(eg.count(ga(t)-1,t),e,2)}function RZ(t,e){return _t(t.getUTCFullYear()%100,e,2)}function LZ(t,e){return t=v$(t),_t(t.getUTCFullYear()%100,e,2)}function DZ(t,e){return _t(t.getUTCFullYear()%1e4,e,4)}function $Z(t,e){var r=t.getUTCDay();return t=r>=4||r===0?tu(t):tu.ceil(t),_t(t.getUTCFullYear()%1e4,e,4)}function FZ(){return"+0000"}function hI(){return"%"}function fI(t){return+t}function pI(t){return Math.floor(+t/1e3)}var vc,y$,x$;VZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VZ(t){return vc=VJ(t),y$=vc.format,vc.parse,x$=vc.utcFormat,vc.utcParse,vc}function BZ(t){return new Date(t)}function UZ(t){return t instanceof Date?+t:+new Date(+t)}function CS(t,e,r,n,i,s,o,c,d,h){var p=pS(),m=p.invert,g=p.domain,w=h(".%L"),b=h(":%S"),_=h("%I:%M"),x=h("%I %p"),C=h("%a %d"),j=h("%b %d"),A=h("%B"),P=h("%Y");function S(E){return(d(E)<E?w:c(E)<E?b:o(E)<E?_:s(E)<E?x:n(E)<E?i(E)<E?C:j:r(E)<E?A:P)(E)}return p.invert=function(E){return new Date(m(E))},p.domain=function(E){return arguments.length?g(Array.from(E,UZ)):g().map(BZ)},p.ticks=function(E){var T=g();return t(T[0],T[T.length-1],E??10)},p.tickFormat=function(E,T){return T==null?S:h(T)},p.nice=function(E){var T=g();return(!E||typeof E.range!="function")&&(E=e(T[0],T[T.length-1],E??10)),E?g(s$(T,E)):p},p.copy=function(){return gf(p,CS(t,e,r,n,i,s,o,c,d,h))},p}function zZ(){return Vi.apply(CS($J,FJ,ma,NS,_0,vf,jS,_S,ol,y$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qZ(){return Vi.apply(CS(LJ,DJ,ga,ES,k0,w0,SS,kS,ol,x$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j0(){var t=0,e=1,r,n,i,s,o=Pn,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:o(i===0?.5:(m=(s(m)-r)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(o=m,h):o};function p(m){return function(g){var w,b;return arguments.length?([w,b]=g,o=m(w,b),h):[o(0),o(1)]}}return h.range=p(Nu),h.rangeRound=p(fS),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),h}}function So(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function b$(){var t=jo(j0()(Pn));return t.copy=function(){return So(t,b$())},ba.apply(t,arguments)}function w$(){var t=vS(j0()).domain([1,10]);return t.copy=function(){return So(t,w$()).base(t.base())},ba.apply(t,arguments)}function _$(){var t=yS(j0());return t.copy=function(){return So(t,_$()).constant(t.constant())},ba.apply(t,arguments)}function TS(){var t=xS(j0());return t.copy=function(){return So(t,TS()).exponent(t.exponent())},ba.apply(t,arguments)}function WZ(){return TS.apply(null,arguments).exponent(.5)}function k$(){var t=[],e=Pn;function r(n){if(n!=null&&!isNaN(n=+n))return e((pf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>PX(t,s/n))},r.copy=function(){return k$(e).domain(t)},ba.apply(r,arguments)}function S0(){var t=0,e=.5,r=1,n=1,i,s,o,c,d,h=Pn,p,m=!1,g;function w(_){return isNaN(_=+_)?g:(_=.5+((_=+p(_))-s)*(n*_<n*s?c:d),h(m?Math.max(0,Math.min(1,_)):_))}w.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),s=p(e=+e),o=p(r=+r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,w):[t,e,r]},w.clamp=function(_){return arguments.length?(m=!!_,w):m},w.interpolator=function(_){return arguments.length?(h=_,w):h};function b(_){return function(x){var C,j,A;return arguments.length?([C,j,A]=x,h=nJ(_,[C,j,A]),w):[h(0),h(.5),h(1)]}}return w.range=b(Nu),w.rangeRound=b(fS),w.unknown=function(_){return arguments.length?(g=_,w):g},function(_){return p=_,i=_(t),s=_(e),o=_(r),c=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,w}}function j$(){var t=jo(S0()(Pn));return t.copy=function(){return So(t,j$())},ba.apply(t,arguments)}function S$(){var t=vS(S0()).domain([.1,1,10]);return t.copy=function(){return So(t,S$()).base(t.base())},ba.apply(t,arguments)}function N$(){var t=yS(S0());return t.copy=function(){return So(t,N$()).constant(t.constant())},ba.apply(t,arguments)}function AS(){var t=xS(S0());return t.copy=function(){return So(t,AS()).exponent(t.exponent())},ba.apply(t,arguments)}function HZ(){return AS.apply(null,arguments).exponent(.5)}const mI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ph,scaleDiverging:j$,scaleDivergingLog:S$,scaleDivergingPow:AS,scaleDivergingSqrt:HZ,scaleDivergingSymlog:N$,scaleIdentity:i$,scaleImplicit:Fk,scaleLinear:Xm,scaleLog:a$,scaleOrdinal:uS,scalePoint:Ud,scalePow:bS,scaleQuantile:c$,scaleQuantize:u$,scaleRadial:l$,scaleSequential:b$,scaleSequentialLog:w$,scaleSequentialPow:TS,scaleSequentialQuantile:k$,scaleSequentialSqrt:WZ,scaleSequentialSymlog:_$,scaleSqrt:NJ,scaleSymlog:o$,scaleThreshold:d$,scaleTime:zZ,scaleUtc:qZ,tickFormat:n$},Symbol.toStringTag,{value:"Module"}));var Qw,gI;function N0(){if(gI)return Qw;gI=1;var t=_u();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var c=r[s],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):i(d,h)))var h=d,p=c}return p}return Qw=e,Qw}var Xw,vI;function E$(){if(vI)return Xw;vI=1;function t(e,r){return e>r}return Xw=t,Xw}var Jw,yI;function GZ(){if(yI)return Jw;yI=1;var t=N0(),e=E$(),r=ju();function n(i){return i&&i.length?t(i,r,e):void 0}return Jw=n,Jw}var KZ=GZ();const E0=Nt(KZ);var Zw,xI;function C$(){if(xI)return Zw;xI=1;function t(e,r){return e<r}return Zw=t,Zw}var e_,bI;function YZ(){if(bI)return e_;bI=1;var t=N0(),e=C$(),r=ju();function n(i){return i&&i.length?t(i,r,e):void 0}return e_=n,e_}var QZ=YZ();const C0=Nt(QZ);var t_,wI;function XZ(){if(wI)return t_;wI=1;var t=W1(),e=Rs(),r=L6(),n=Gn();function i(s,o){var c=n(s)?t:r;return c(s,e(o,3))}return t_=i,t_}var r_,_I;function JZ(){if(_I)return r_;_I=1;var t=M6(),e=XZ();function r(n,i){return t(e(n,i),1)}return r_=r,r_}var ZZ=JZ();const eee=Nt(ZZ);var n_,kI;function tee(){if(kI)return n_;kI=1;var t=iS();function e(r,n){return t(r,n)}return n_=e,n_}var ree=tee();const T0=Nt(ree);var Eu=1e9,nee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OS,tr=!0,Fi="[DecimalError] ",fl=Fi+"Invalid argument: ",PS=Fi+"Exponent out of range: ",Cu=Math.floor,Zo=Math.pow,iee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,li,Vr=1e7,Yt=7,T$=9007199254740991,tg=Cu(T$/Yt),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Yt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(t){return la(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,r=e.constructor;return Dt(la(e,new r(t),0,1),r.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return jr(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(li))throw Error(Fi+"NaN");if(r.s<1)throw Error(Fi+(r.s?"NaN":"-Infinity"));return r.eq(li)?new n(0):(tr=!1,e=la(xh(r,s),xh(t,s),s),tr=!0,Dt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O$(e,t):A$(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fi+"NaN");return r.s?(tr=!1,e=la(r,t,0,1).times(t),tr=!0,r.minus(e)):Dt(new n(r),i)};Le.naturalExponential=Le.exp=function(){return P$(this)};Le.naturalLogarithm=Le.ln=function(){return xh(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A$(e,t):O$(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fl+t);if(e=jr(i)+1,n=i.d.length-1,r=n*Yt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Le.squareRoot=Le.sqrt=function(){var t,e,r,n,i,s,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Fi+"NaN")}for(t=jr(c),tr=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=bs(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(la(c,s,o+2)).times(.5),bs(s.d).slice(0,o)===(e=bs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Dt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(e!="9999")break;o+=4}return tr=!0,Dt(n,r)};Le.times=Le.mul=function(t){var e,r,n,i,s,o,c,d,h,p=this,m=p.constructor,g=p.d,w=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=g.length,h=w.length,d<h&&(s=g,g=w,w=s,o=d,d=h,h=o),s=[],o=d+h,n=o;n--;)s.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)c=s[i]+w[n]*g[i-n-1]+e,s[i--]=c%Vr|0,e=c/Vr|0;s[i]=(s[i]+e)%Vr|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,tr?Dt(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(As(t,0,Eu),e===void 0?e=n.rounding:As(e,0,8),Dt(r,t+jr(r)+1,e))};Le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=jl(n,!0):(As(t,0,Eu),e===void 0?e=i.rounding:As(e,0,8),n=Dt(new i(n),t+1,e),r=jl(n,!0,t+1)),r};Le.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?jl(i):(As(t,0,Eu),e===void 0?e=s.rounding:As(e,0,8),n=Dt(new s(i),t+jr(i)+1,e),r=jl(n.abs(),!1,t+jr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),jr(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,r,n,i,s,o,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(li);if(c=new d(c),!c.s){if(t.s<1)throw Error(Fi+"Infinity");return c}if(c.eq(li))return c;if(n=d.precision,t.eq(li))return Dt(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=c.s,o){if((r=p<0?-p:p)<=T$){for(i=new d(li),e=Math.ceil(n/Yt+4),tr=!1;r%2&&(i=i.times(c),SI(i.d,e)),r=Cu(r/2),r!==0;)c=c.times(c),SI(c.d,e);return tr=!0,t.s<0?new d(li).div(i):Dt(i,n)}}else if(s<0)throw Error(Fi+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,tr=!1,i=t.times(xh(c,n+h)),tr=!0,i=P$(i),i.s=s,i};Le.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=jr(i),n=jl(i,r<=s.toExpNeg||r>=s.toExpPos)):(As(t,1,Eu),e===void 0?e=s.rounding:As(e,0,8),i=Dt(new s(i),t,e),r=jr(i),n=jl(i,t<=r||r<=s.toExpNeg,t)),n};Le.toSignificantDigits=Le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(As(t,1,Eu),e===void 0?e=n.rounding:As(e,0,8)),Dt(new n(r),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jr(t),r=t.constructor;return jl(t,e<=r.toExpNeg||e>=r.toExpPos)};function A$(t,e){var r,n,i,s,o,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),tr?Dt(e,m):e;if(d=t.d,h=e.d,o=t.e,i=e.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,c=h.length):(n=h,i=o,c=d.length),o=Math.ceil(m/Yt),c=o>c?o+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,n=h,h=d,d=n),r=0;s;)r=(d[--s]=d[s]+h[s]+r)/Vr|0,d[s]%=Vr;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,tr?Dt(e,m):e}function As(t,e,r){if(t!==~~t||t<e||t>r)throw Error(fl+t)}function bs(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Yt-n.length,r&&(s+=Ya(r)),s+=n;o=t[e],n=o+"",r=Yt-n.length,r&&(s+=Ya(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var la=function(){function t(n,i){var s,o=0,c=n.length;for(n=n.slice();c--;)s=n[c]*i+o,n[c]=s%Vr|0,o=s/Vr|0;return o&&n.unshift(o),n}function e(n,i,s,o){var c,d;if(s!=o)d=s>o?1:-1;else for(c=d=0;c<s;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Vr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var c,d,h,p,m,g,w,b,_,x,C,j,A,P,S,E,T,M,L=n.constructor,R=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Fi+"Division by zero");for(d=n.e-i.e,T=V.length,S=D.length,w=new L(R),b=w.d=[],h=0;V[h]==(D[h]||0);)++h;if(V[h]>(D[h]||0)&&--d,s==null?j=s=L.precision:o?j=s+(jr(n)-jr(i))+1:j=s,j<0)return new L(0);if(j=j/Yt+2|0,h=0,T==1)for(p=0,V=V[0],j++;(h<S||p)&&j--;h++)A=p*Vr+(D[h]||0),b[h]=A/V|0,p=A%V|0;else{for(p=Vr/(V[0]+1)|0,p>1&&(V=t(V,p),D=t(D,p),T=V.length,S=D.length),P=T,_=D.slice(0,T),x=_.length;x<T;)_[x++]=0;M=V.slice(),M.unshift(0),E=V[0],V[1]>=Vr/2&&++E;do p=0,c=e(V,_,T,x),c<0?(C=_[0],T!=x&&(C=C*Vr+(_[1]||0)),p=C/E|0,p>1?(p>=Vr&&(p=Vr-1),m=t(V,p),g=m.length,x=_.length,c=e(m,_,g,x),c==1&&(p--,r(m,T<g?M:V,g))):(p==0&&(c=p=1),m=V.slice()),g=m.length,g<x&&m.unshift(0),r(_,m,x),c==-1&&(x=_.length,c=e(V,_,T,x),c<1&&(p++,r(_,T<x?M:V,x))),x=_.length):c===0&&(p++,_=[0]),b[h++]=p,c&&_[0]?_[x++]=D[P]||0:(_=[D[P]],x=1);while((P++<S||_[0]!==void 0)&&j--)}return b[0]||b.shift(),w.e=d,Dt(w,o?s+jr(w)+1:s)}}();function P$(t,e){var r,n,i,s,o,c,d=0,h=0,p=t.constructor,m=p.precision;if(jr(t)>16)throw Error(PS+jr(t));if(!t.s)return new p(li);for(tr=!1,c=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(n=Math.log(Zo(2,h))/Math.LN10*2+5|0,c+=n,r=i=s=new p(li),p.precision=c;;){if(i=Dt(i.times(t),c),r=r.times(++d),o=s.plus(la(i,r,c)),bs(o.d).slice(0,c)===bs(s.d).slice(0,c)){for(;h--;)s=Dt(s.times(s),c);return p.precision=m,e==null?(tr=!0,Dt(s,m)):s}s=o}}function jr(t){for(var e=t.e*Yt,r=t.d[0];r>=10;r/=10)e++;return e}function i_(t,e,r){if(e>t.LN10.sd())throw tr=!0,r&&(t.precision=r),Error(Fi+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Ya(t){for(var e="";t--;)e+="0";return e}function xh(t,e){var r,n,i,s,o,c,d,h,p,m=1,g=10,w=t,b=w.d,_=w.constructor,x=_.precision;if(w.s<1)throw Error(Fi+(w.s?"NaN":"-Infinity"));if(w.eq(li))return new _(0);if(e==null?(tr=!1,h=x):h=e,w.eq(10))return e==null&&(tr=!0),i_(_,h);if(h+=g,_.precision=h,r=bs(b),n=r.charAt(0),s=jr(w),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(t),r=bs(w.d),n=r.charAt(0),m++;s=jr(w),n>1?(w=new _("0."+r),s++):w=new _(n+"."+r.slice(1))}else return d=i_(_,h+2,x).times(s+""),w=xh(new _(n+"."+r.slice(1)),h-g).plus(d),_.precision=x,e==null?(tr=!0,Dt(w,x)):w;for(c=o=w=la(w.minus(li),w.plus(li),h),p=Dt(w.times(w),h),i=3;;){if(o=Dt(o.times(p),h),d=c.plus(la(o,new _(i),h)),bs(d.d).slice(0,h)===bs(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(i_(_,h+2,x).times(s+""))),c=la(c,new _(m),h),_.precision=x,e==null?(tr=!0,Dt(c,x)):c;c=d,i+=2}}function jI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Cu(r/Yt),t.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Yt;n<i;)t.d.push(+e.slice(n,n+=Yt));e=e.slice(n),n=Yt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),tr&&(t.e>tg||t.e<-tg))throw Error(PS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,r){var n,i,s,o,c,d,h,p,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Yt,i=e,h=m[p=0];else{if(p=Math.ceil((n+1)/Yt),s=m.length,p>=s)return t;for(h=s=m[p],o=1;s>=10;s/=10)o++;n%=Yt,i=n-Yt+o}if(r!==void 0&&(s=Zo(10,o-i-1),c=h/s%10|0,d=e<0||m[p+1]!==void 0||h%s,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/Zo(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(s=jr(t),m.length=1,e=e-s-1,m[0]=Zo(10,(Yt-e%Yt)%Yt),t.e=Cu(-e/Yt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,s=1,p--):(m.length=p+1,s=Zo(10,Yt-n),m[p]=i>0?(h/Zo(10,o-i)%Zo(10,i)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Vr&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Vr)break;m[p--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(tr&&(t.e>tg||t.e<-tg))throw Error(PS+jr(t));return t}function O$(t,e){var r,n,i,s,o,c,d,h,p,m,g=t.constructor,w=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),tr?Dt(e,w):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),o=h-n,o){for(p=o<0,p?(r=d,o=-o,c=m.length):(r=m,n=h,c=d.length),i=Math.max(Math.ceil(w/Yt),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}o=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,i=m.length-c;i>0;--i)d[c++]=0;for(i=m.length;i>o;){if(d[--i]<m[i]){for(s=i;s&&d[--s]===0;)d[s]=Vr-1;--d[s],d[i]+=Vr}d[i]-=m[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,tr?Dt(e,w):e):new g(0)}function jl(t,e,r){var n,i=jr(t),s=bs(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ya(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ya(-i-1)+s,r&&(n=r-o)>0&&(s+=Ya(n))):i>=o?(s+=Ya(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Ya(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Ya(n))),t.s<0?"-"+s:s}function SI(t,e){if(t.length>e)return t.length=e,!0}function I$(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(fl+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return jI(o,s.toString())}else if(typeof s!="string")throw Error(fl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,iee.test(s))jI(o,s);else throw Error(fl+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=I$,i.config=i.set=see,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function see(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,r,n,i=["precision",1,Eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Cu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(fl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fl+r+": "+n);return this}var OS=I$(nee);li=new OS(1);const It=OS;function aee(t){return uee(t)||cee(t)||lee(t)||oee()}function oee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lee(t,e){if(t){if(typeof t=="string")return zk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(t,e)}}function cee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uee(t){if(Array.isArray(t))return zk(t)}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dee=function(e){return e},M$={},R$=function(e){return e===M$},NI=function(e){return function r(){return arguments.length===0||arguments.length===1&&R$(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hee=function t(e,r){return e===1?r:NI(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(c){return c!==M$}).length;return o>=e?r.apply(void 0,i):t(e-o,NI(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=i.map(function(m){return R$(m)?d.shift():m});return r.apply(void 0,aee(p).concat(d))}))})},A0=function(e){return hee(e.length,e)},qk=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},fee=A0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),pee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return dee;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(c,d){return d(c)},s.apply(void 0,arguments))}},Wk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},L$=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(c,d){return c===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function mee(t){var e;return t===0?e=1:e=Math.floor(new It(t).abs().log(10).toNumber())+1,e}function gee(t,e,r){for(var n=new It(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var vee=A0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),yee=A0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),xee=A0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const P0={rangeStep:gee,getDigitCount:mee,interpolateNumber:vee,uninterpolateNumber:yee,uninterpolateTruncation:xee};function Hk(t){return _ee(t)||wee(t)||D$(t)||bee()}function bee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _ee(t){if(Array.isArray(t))return Gk(t)}function bh(t,e){return See(t)||jee(t,e)||D$(t,e)||kee()}function kee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(t,e){if(t){if(typeof t=="string")return Gk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(t,e)}}function Gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),c;!(n=(c=o.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function See(t){if(Array.isArray(t))return t}function $$(t){var e=bh(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function F$(t,e,r){if(t.lte(0))return new It(0);var n=P0.getDigitCount(t.toNumber()),i=new It(10).pow(n),s=t.div(i),o=n!==1?.05:.1,c=new It(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return e?d:new It(Math.ceil(d))}function Nee(t,e,r){var n=1,i=new It(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new It(10).pow(P0.getDigitCount(t)-1),i=new It(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new It(Math.floor(t)))}else t===0?i=new It(Math.floor((e-1)/2)):r||(i=new It(Math.floor(t)));var o=Math.floor((e-1)/2),c=pee(fee(function(d){return i.add(new It(d-o).mul(n)).toNumber()}),qk);return c(0,e)}function V$(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var s=F$(new It(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new It(0):(o=new It(t).add(e).div(2),o=o.sub(new It(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new It(e).sub(o).div(s).toNumber()),h=c+d+1;return h>r?V$(t,e,r,n,i+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:s,tickMin:o.sub(new It(c).mul(s)),tickMax:o.add(new It(d).mul(s))})}function Eee(t){var e=bh(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),c=$$([r,n]),d=bh(c,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(Hk(qk(0,i-1).map(function(){return 1/0}))):[].concat(Hk(qk(0,i-1).map(function(){return-1/0})),[p]);return r>n?Wk(m):m}if(h===p)return Nee(h,i,s);var g=V$(h,p,o,s),w=g.step,b=g.tickMin,_=g.tickMax,x=P0.rangeStep(b,_.add(new It(.1).mul(w)),w);return r>n?Wk(x):x}function Cee(t,e){var r=bh(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$$([n,i]),c=bh(o,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,i];if(d===h)return[d];var p=Math.max(e,2),m=F$(new It(h).sub(d).div(p-1),s,0),g=[].concat(Hk(P0.rangeStep(new It(d),new It(h).sub(new It(.99).mul(m)),m)),[h]);return n>i?Wk(g):g}var Tee=L$(Eee),Aee=L$(Cee),Pee="Invariant failed";function Sl(t,e){throw new Error(Pee)}var Oee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rg.apply(this,arguments)}function Iee(t,e){return Dee(t)||Lee(t,e)||Ree(t,e)||Mee()}function Mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ree(t,e){if(t){if(typeof t=="string")return EI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(t,e)}}function EI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Dee(t){if(Array.isArray(t))return t}function $ee(t,e){if(t==null)return{};var r=Fee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z$(n.key),n)}}function Uee(t,e,r){return e&&Bee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zee(t,e,r){return e=ng(e),qee(t,B$()?Reflect.construct(e,r||[],ng(t).constructor):e.apply(t,r))}function qee(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(t)}function Wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ng(t)}function Hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kk(t,e)}function Kk(t,e){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kk(t,e)}function U$(t,e,r){return e=z$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z$(t){var e=Gee(t,"string");return ru(e)=="symbol"?e:e+""}function Gee(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O0=function(t){function e(){return Vee(this,e),zee(this,e,arguments)}return Hee(e,t),Uee(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,g=$ee(n,Oee),w=Xe(g,!1);this.props.direction==="x"&&p.type!=="number"&&Sl();var b=d.map(function(_){var x=h(_,c),C=x.x,j=x.y,A=x.value,P=x.errorVal;if(!P)return null;var S=[],E,T;if(Array.isArray(P)){var M=Iee(P,2);E=M[0],T=M[1]}else E=T=P;if(s==="vertical"){var L=p.scale,R=j+i,D=R+o,V=R-o,F=L(A-E),Z=L(A+T);S.push({x1:Z,y1:D,x2:Z,y2:V}),S.push({x1:F,y1:R,x2:Z,y2:R}),S.push({x1:F,y1:D,x2:F,y2:V})}else if(s==="horizontal"){var te=m.scale,J=C+i,ee=J-o,K=J+o,Y=te(A-E),re=te(A+T);S.push({x1:ee,y1:re,x2:K,y2:re}),S.push({x1:J,y1:Y,x2:J,y2:re}),S.push({x1:ee,y1:Y,x2:K,y2:Y})}return ne.createElement(Tt,rg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},w),S.map(function(W){return ne.createElement("line",rg({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ne.createElement(Tt,{className:"recharts-errorBars"},b)}}])}(ne.Component);U$(O0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U$(O0,"displayName","ErrorBar");function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Kee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kee(t,e,r){return e=Yee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yee(t){var e=Qee(t,"string");return wh(e)=="symbol"?e:e+""}function Qee(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q$=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=ai(r,ho);if(!o)return null;var c=ho.defaultProps,d=c!==void 0?Go(Go({},c),o.props):{},h;return o.props&&o.props.payload?h=o.props&&o.props.payload:s==="children"?h=(n||[]).reduce(function(p,m){var g=m.item,w=m.props,b=w.sectors||w.data||[];return p.concat(b.map(function(_){return{type:o.props.iconType||g.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):h=(n||[]).map(function(p){var m=p.item,g=m.type.defaultProps,w=g!==void 0?Go(Go({},g),m.props):{},b=w.dataKey,_=w.name,x=w.legendType,C=w.hide;return{inactive:C,dataKey:b,type:d.iconType||x||"square",color:IS(m),value:_||b,payload:w}}),Go(Go(Go({},d),ho.getWithHeight(o,i)),{},{payload:h,item:o})};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function TI(t){return ete(t)||Zee(t)||Jee(t)||Xee()}function Xee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(t,e){if(t){if(typeof t=="string")return Yk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yk(t,e)}}function Zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ete(t){if(Array.isArray(t))return Yk(t)}function Yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dc(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=rte(t,"string");return _h(e)=="symbol"?e:e+""}function rte(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gn(t,e,r){return ot(t)||ot(e)?r:Pr(e)?hi(t,e,r):Ze(e)?e(t):r}function zd(t,e,r,n){var i=eee(t,function(c){return gn(c,e)});if(r==="number"){var s=i.filter(function(c){return Ae(c)||parseFloat(c)});return s.length?[C0(s),E0(s)]:[1/0,-1/0]}var o=n?i.filter(function(c){return!ot(c)}):i;return o.map(function(c){return Pr(c)||c instanceof Date?c:""})}var nte=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,g=h>=c-1?i[0].coordinate:i[h+1].coordinate,w=void 0;if(Tn(m-p)!==Tn(g-m)){var b=[];if(Tn(g-m)===Tn(d[1]-d[0])){w=g;var _=m+d[1]-d[0];b[0]=Math.min(_,(_+p)/2),b[1]=Math.max(_,(_+p)/2)}else{w=p;var x=g+d[1]-d[0];b[0]=Math.min(m,(x+m)/2),b[1]=Math.max(m,(x+m)/2)}var C=[Math.min(m,(w+m)/2),Math.max(m,(w+m)/2)];if(e>C[0]&&e<=C[1]||e>=b[0]&&e<=b[1]){o=i[h].index;break}}else{var j=Math.min(p,g),A=Math.max(p,g);if(e>(j+m)/2&&e<=(A+m)/2){o=i[h].index;break}}}else for(var P=0;P<c;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<c-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===c-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){o=n[P].index;break}return o},IS=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ur(ur({},e.type.defaultProps),e.props):e.props,o=s.stroke,c=s.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},ite=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},c=Object.keys(s),d=0,h=c.length;d<h;d++)for(var p=s[c[d]].stackGroups,m=Object.keys(p),g=0,w=m.length;g<w;g++){var b=p[m[g]],_=b.items,x=b.cateAxisId,C=_.filter(function(T){return oa(T.type).indexOf("Bar")>=0});if(C&&C.length){var j=C[0].type.defaultProps,A=j!==void 0?ur(ur({},j),C[0].props):C[0].props,P=A.barSize,S=A[x];o[S]||(o[S]=[]);var E=ot(P)?r:P;o[S].push({item:C[0],stackList:C.slice(1),barSize:ot(E)?void 0:An(E,n,0)})}}return o},ste=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,c=e.maxBarSize,d=o.length;if(d<1)return null;var h=An(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,w=i/d,b=o.reduce(function(P,S){return P+S.barSize||0},0);b+=(d-1)*h,b>=i&&(b-=(d-1)*h,h=0),b>=i&&w>0&&(g=!0,w*=.9,b=d*w);var _=(i-b)/2>>0,x={offset:_-h,size:0};p=o.reduce(function(P,S){var E={item:S.item,position:{offset:x.offset+x.size+h,size:g?w:S.barSize}},T=[].concat(TI(P),[E]);return x=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){T.push({item:M,position:x})}),T},m)}else{var C=An(n,i,0,!0);i-2*C-(d-1)*h<=0&&(h=0);var j=(i-2*C-(d-1)*h)/d;j>1&&(j>>=0);var A=c===+c?Math.min(j,c):j;p=o.reduce(function(P,S,E){var T=[].concat(TI(P),[{item:S.item,position:{offset:C+(j+h)*E+(j-A)/2,size:A}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){T.push({item:M,position:T[T.length-1].position})}),T},m)}return p},ate=function(e,r,n,i){var s=n.children,o=n.width,c=n.margin,d=o-(c.left||0)-(c.right||0),h=q$({children:s,legendWidth:d});if(h){var p=i||{},m=p.width,g=p.height,w=h.align,b=h.verticalAlign,_=h.layout;if((_==="vertical"||_==="horizontal"&&b==="middle")&&w!=="center"&&Ae(e[w]))return ur(ur({},e),{},Dc({},w,e[w]+(m||0)));if((_==="horizontal"||_==="vertical"&&w==="center")&&b!=="middle"&&Ae(e[b]))return ur(ur({},e),{},Dc({},b,e[b]+(g||0)))}return e},ote=function(e,r,n){return ot(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},W$=function(e,r,n,i,s){var o=r.props.children,c=Di(o,O0).filter(function(h){return ote(i,s,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=gn(p,n);if(ot(m))return h;var g=Array.isArray(m)?[C0(m),E0(m)]:[m,m],w=d.reduce(function(b,_){var x=gn(p,_,0),C=g[0]-Math.abs(Array.isArray(x)?x[0]:x),j=g[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(C,b[0]),Math.max(j,b[1])]},[1/0,-1/0]);return[Math.min(w[0],h[0]),Math.max(w[1],h[1])]},[1/0,-1/0])}return null},lte=function(e,r,n,i,s){var o=r.map(function(c){return W$(e,c,n,s,i)}).filter(function(c){return!ot(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},H$=function(e,r,n,i,s){var o=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&W$(e,d,h,i)||zd(e,h,n,s)});if(n==="number")return o.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,d.push(h[p]));return d},[])},G$=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},K$=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var s,o,c=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate});return s||c.push(r),o||c.push(n),c},sa=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,c=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?Tn(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:i(g)+h,value:m,offset:h}});return p.filter(function(m){return!df(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:i(m)+h,value:m,index:g,offset:h}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,g){return{coordinate:i(m)+h,value:s?s[m]:m,index:g,offset:h}})},s_=new WeakMap,Kp=function(e,r){if(typeof r!="function")return e;s_.has(e)||s_.set(e,new WeakMap);var n=s_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Y$=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,c=e.axisType;if(i==="auto")return o==="radial"&&c==="radiusAxis"?{scale:ph(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Xm(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ud(),realScaleType:"point"}:s==="category"?{scale:ph(),realScaleType:"band"}:{scale:Xm(),realScaleType:"linear"};if(wl(i)){var d="scale".concat(h0(i));return{scale:(mI[d]||Ud)(),realScaleType:mI[d]?d:"point"}}return Ze(i)?{scale:i}:{scale:Ud(),realScaleType:"point"}},PI=1e-4,Q$=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-PI,o=Math.max(i[0],i[1])+PI,c=e(r[0]),d=e(r[n-1]);(c<s||c>o||d<s||d>o)&&e.domain([r[0],r[n-1]])}},cte=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},ute=function(e,r){if(!r||r.length!==2||!Ae(r[0])||!Ae(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Ae(e[0])||e[0]<n)&&(s[0]=n),(!Ae(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},dte=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,c=0;c<r;++c){var d=df(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+d,o=e[c][n][1])}},hte=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var c=df(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},fte={sign:dte,expand:eK,none:Kc,silhouette:tK,wiggle:rK,positive:hte},pte=function(e,r,n){var i=r.map(function(c){return c.props.dataKey}),s=fte[n],o=ZG().keys(i).value(function(c,d){return+gn(c,d,0)}).order(Sk).offset(s);return o(e)},mte=function(e,r,n,i,s,o){if(!e)return null;var c=o?r.reverse():r,d={},h=c.reduce(function(m,g){var w,b=(w=g.type)!==null&&w!==void 0&&w.defaultProps?ur(ur({},g.type.defaultProps),g.props):g.props,_=b.stackId,x=b.hide;if(x)return m;var C=b[n],j=m[C]||{hasStack:!1,stackGroups:{}};if(Pr(_)){var A=j.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(g),j.hasStack=!0,j.stackGroups[_]=A}else j.stackGroups[hf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return ur(ur({},m),{},Dc({},C,j))},d),p={};return Object.keys(h).reduce(function(m,g){var w=h[g];if(w.hasStack){var b={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(_,x){var C=w.stackGroups[x];return ur(ur({},_),{},Dc({},x,{numericAxisId:n,cateAxisId:i,items:C.items,stackedData:pte(e,C.items,s)}))},b)}return ur(ur({},m),{},Dc({},g,w))},p)},X$=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=Tee(h,s,c);return e.domain([C0(p),E0(p)]),{niceTicks:p}}if(s&&i==="number"){var m=e.domain(),g=Aee(m,s,c);return{niceTicks:g}}return null},OI=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+i:null;var d=gn(o,r.dataKey,r.domain[c]);return ot(d)?null:r.scale(d)-s/2+i},gte=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},vte=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ur(ur({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Pr(s)){var o=r[s];if(o){var c=o.items.indexOf(e);return c>=0?o.stackedData[c]:null}}return null},yte=function(e){return e.reduce(function(r,n){return[C0(n.concat([r[0]]).filter(Ae)),E0(n.concat([r[1]]).filter(Ae))]},[1/0,-1/0])},J$=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],c=o.stackedData,d=c.reduce(function(h,p){var m=yte(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},II=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qk=function(e,r,n){if(Ze(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Ae(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(II.test(e[0])){var s=+II.exec(e[0])[1];i[0]=r[0]-s}else Ze(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Ae(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(MI.test(e[1])){var o=+MI.exec(e[1])[1];i[1]=r[1]+o}else Ze(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ig=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=aS(r,function(m){return m.coordinate}),o=1/0,c=1,d=s.length;c<d;c++){var h=s[c],p=s[c-1];o=Math.min((h.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},RI=function(e,r,n){return!e||!e.length||T0(e,hi(n,"type.defaultProps.domain"))?r:e},Z$=function(e,r){var n=e.type.defaultProps?ur(ur({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return ur(ur({},Xe(e,!1)),{},{dataKey:i,unit:o,formatter:c,name:s||i,color:IS(e),value:gn(r,i),type:d,payload:r,chartType:h,hide:p})};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function LI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(r),!0).forEach(function(n){e5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e5(t,e,r){return e=xte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xte(t){var e=bte(t,"string");return kh(e)=="symbol"?e:e+""}function bte(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t,e){return Ste(t)||jte(t,e)||kte(t,e)||_te()}function _te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kte(t,e){if(t){if(typeof t=="string")return DI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(t,e)}}function DI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Ste(t){if(Array.isArray(t))return t}var sg=Math.PI/180,Nte=function(e){return e*180/Math.PI},Ht=function(e,r,n,i){return{x:e+Math.cos(-sg*i)*n,y:r+Math.sin(-sg*i)*n}},t5=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ete=function(e,r,n,i,s){var o=e.width,c=e.height,d=e.startAngle,h=e.endAngle,p=An(e.cx,o,o/2),m=An(e.cy,c,c/2),g=t5(o,c,n),w=An(e.innerRadius,g,0),b=An(e.outerRadius,g,g*.8),_=Object.keys(r);return _.reduce(function(x,C){var j=r[C],A=j.domain,P=j.reversed,S;if(ot(j.range))i==="angleAxis"?S=[d,h]:i==="radiusAxis"&&(S=[w,b]),P&&(S=[S[1],S[0]]);else{S=j.range;var E=S,T=wte(E,2);d=T[0],h=T[1]}var M=Y$(j,s),L=M.realScaleType,R=M.scale;R.domain(A).range(S),Q$(R);var D=X$(R,Zs(Zs({},j),{},{realScaleType:L})),V=Zs(Zs(Zs({},j),D),{},{range:S,radius:b,realScaleType:L,scale:R,cx:p,cy:m,innerRadius:w,outerRadius:b,startAngle:d,endAngle:h});return Zs(Zs({},x),{},e5({},C,V))},{})},Cte=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},Tte=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,c=Cte({x:n,y:i},{x:s,y:o});if(c<=0)return{radius:c};var d=(n-s)/c,h=Math.acos(d);return i>o&&(h=2*Math.PI-h),{radius:c,angle:Nte(h),angleInRadian:h}},Ate=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},Pte=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),c=Math.min(s,o);return e+c*360},$I=function(e,r){var n=e.x,i=e.y,s=Tte({x:n,y:i},r),o=s.radius,c=s.angle,d=r.innerRadius,h=r.outerRadius;if(o<d||o>h)return!1;if(o===0)return!0;var p=Ate(r),m=p.startAngle,g=p.endAngle,w=c,b;if(m<=g){for(;w>g;)w-=360;for(;w<m;)w+=360;b=w>=m&&w<=g}else{for(;w>m;)w-=360;for(;w<g;)w+=360;b=w>=g&&w<=m}return b?Zs(Zs({},r),{},{radius:o,angle:Pte(w,r)}):null},r5=function(e){return!k.isValidElement(e)&&!Ze(e)&&typeof e!="boolean"?e.className:""};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}var Ote=["offset"];function Ite(t){return Dte(t)||Lte(t)||Rte(t)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Lte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dte(t){if(Array.isArray(t))return Xk(t)}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $te(t,e){if(t==null)return{};var r=Fte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(r),!0).forEach(function(n){Vte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vte(t,e,r){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bte(t){var e=Ute(t,"string");return jh(e)=="symbol"?e:e+""}function Ute(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sh.apply(this,arguments)}var zte=function(e){var r=e.value,n=e.formatter,i=ot(e.children)?r:e.children;return Ze(n)?n(i):i},qte=function(e,r){var n=Tn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Wte=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,c=e.className,d=s,h=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,w=d.startAngle,b=d.endAngle,_=d.clockWise,x=(m+g)/2,C=qte(w,b),j=C>=0?1:-1,A,P;i==="insideStart"?(A=w+j*o,P=_):i==="insideEnd"?(A=b-j*o,P=!_):i==="end"&&(A=b+j*o,P=_),P=C<=0?P:!P;var S=Ht(h,p,x,A),E=Ht(h,p,x,A+(P?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(E.x,",").concat(E.y),M=ot(e.id)?hf("recharts-radial-line-"):e.id;return ne.createElement("text",Sh({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:M,d:T})),ne.createElement("textPath",{xlinkHref:"#".concat(M)},r))},Hte=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,c=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,g=(p+m)/2;if(i==="outside"){var w=Ht(o,c,h+n,g),b=w.x,_=w.y;return{x:b,y:_,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(d+h)/2,C=Ht(o,c,x,g),j=C.x,A=C.y;return{x:j,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Gte=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,c=o.x,d=o.y,h=o.width,p=o.height,m=p>=0?1:-1,g=m*i,w=m>0?"end":"start",b=m>0?"start":"end",_=h>=0?1:-1,x=_*i,C=_>0?"end":"start",j=_>0?"start":"end";if(s==="top"){var A={x:c+h/2,y:d-m*i,textAnchor:"middle",verticalAnchor:w};return Ar(Ar({},A),n?{height:Math.max(d-n.y,0),width:h}:{})}if(s==="bottom"){var P={x:c+h/2,y:d+p+g,textAnchor:"middle",verticalAnchor:b};return Ar(Ar({},P),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(s==="left"){var S={x:c-x,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return Ar(Ar({},S),n?{width:Math.max(S.x-n.x,0),height:p}:{})}if(s==="right"){var E={x:c+h+x,y:d+p/2,textAnchor:j,verticalAnchor:"middle"};return Ar(Ar({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:p}:{})}var T=n?{width:h,height:p}:{};return s==="insideLeft"?Ar({x:c+x,y:d+p/2,textAnchor:j,verticalAnchor:"middle"},T):s==="insideRight"?Ar({x:c+h-x,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},T):s==="insideTop"?Ar({x:c+h/2,y:d+g,textAnchor:"middle",verticalAnchor:b},T):s==="insideBottom"?Ar({x:c+h/2,y:d+p-g,textAnchor:"middle",verticalAnchor:w},T):s==="insideTopLeft"?Ar({x:c+x,y:d+g,textAnchor:j,verticalAnchor:b},T):s==="insideTopRight"?Ar({x:c+h-x,y:d+g,textAnchor:C,verticalAnchor:b},T):s==="insideBottomLeft"?Ar({x:c+x,y:d+p-g,textAnchor:j,verticalAnchor:w},T):s==="insideBottomRight"?Ar({x:c+h-x,y:d+p-g,textAnchor:C,verticalAnchor:w},T):ku(s)&&(Ae(s.x)||sl(s.x))&&(Ae(s.y)||sl(s.y))?Ar({x:c+An(s.x,h),y:d+An(s.y,p),textAnchor:"end",verticalAnchor:"end"},T):Ar({x:c+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Kte=function(e){return"cx"in e&&Ae(e.cx)};function Br(t){var e=t.offset,r=e===void 0?5:e,n=$te(t,Ote),i=Ar({offset:r},n),s=i.viewBox,o=i.position,c=i.value,d=i.children,h=i.content,p=i.className,m=p===void 0?"":p,g=i.textBreakAll;if(!s||ot(c)&&ot(d)&&!k.isValidElement(h)&&!Ze(h))return null;if(k.isValidElement(h))return k.cloneElement(h,i);var w;if(Ze(h)){if(w=k.createElement(h,i),k.isValidElement(w))return w}else w=zte(i);var b=Kte(s),_=Xe(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Wte(i,w,_);var x=b?Hte(i):Gte(i);return ne.createElement(kl,Sh({className:it("recharts-label",m)},_,x,{breakAll:g}),w)}Br.displayName="Label";var n5=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,g=e.y,w=e.top,b=e.left,_=e.width,x=e.height,C=e.clockWise,j=e.labelViewBox;if(j)return j;if(Ae(_)&&Ae(x)){if(Ae(m)&&Ae(g))return{x:m,y:g,width:_,height:x};if(Ae(w)&&Ae(b))return{x:w,y:b,width:_,height:x}}return Ae(m)&&Ae(g)?{x:m,y:g,width:0,height:0}:Ae(r)&&Ae(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:h||0,outerRadius:p||d||c||0,clockWise:C}:e.viewBox?e.viewBox:{}},Yte=function(e,r){return e?e===!0?ne.createElement(Br,{key:"label-implicit",viewBox:r}):Pr(e)?ne.createElement(Br,{key:"label-implicit",viewBox:r,value:e}):k.isValidElement(e)?e.type===Br?k.cloneElement(e,{key:"label-implicit",viewBox:r}):ne.createElement(Br,{key:"label-implicit",content:e,viewBox:r}):Ze(e)?ne.createElement(Br,{key:"label-implicit",content:e,viewBox:r}):ku(e)?ne.createElement(Br,Sh({viewBox:r},e,{key:"label-implicit"})):null:null},Qte=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=n5(e),o=Di(i,Br).map(function(d,h){return k.cloneElement(d,{viewBox:r||s,key:"label-".concat(h)})});if(!n)return o;var c=Yte(e.label,r||s);return[c].concat(Ite(o))};Br.parseViewBox=n5;Br.renderCallByParent=Qte;var a_,VI;function Xte(){if(VI)return a_;VI=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return a_=t,a_}var Jte=Xte();const Zte=Nt(Jte);function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}var ere=["valueAccessor"],tre=["data","dataKey","clockWise","id","textBreakAll"];function rre(t){return are(t)||sre(t)||ire(t)||nre()}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(t,e){if(t){if(typeof t=="string")return Jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(t,e)}}function sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function are(t){if(Array.isArray(t))return Jk(t)}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){ore(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ore(t,e,r){return e=lre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lre(t){var e=cre(t,"string");return Nh(e)=="symbol"?e:e+""}function cre(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zI(t,e){if(t==null)return{};var r=ure(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ure(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dre=function(e){return Array.isArray(e.value)?Zte(e.value):e.value};function po(t){var e=t.valueAccessor,r=e===void 0?dre:e,n=zI(t,ere),i=n.data,s=n.dataKey,o=n.clockWise,c=n.id,d=n.textBreakAll,h=zI(n,tre);return!i||!i.length?null:ne.createElement(Tt,{className:"recharts-label-list"},i.map(function(p,m){var g=ot(s)?r(p,m):gn(p&&p.payload,s),w=ot(c)?{}:{id:"".concat(c,"-").concat(m)};return ne.createElement(Br,ag({},Xe(p,!0),h,w,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:Br.parseViewBox(ot(o)?p:UI(UI({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}po.displayName="LabelList";function hre(t,e){return t?t===!0?ne.createElement(po,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Ze(t)?ne.createElement(po,{key:"labelList-implicit",data:e,content:t}):ku(t)?ne.createElement(po,ag({data:e},t,{key:"labelList-implicit"})):null:null}function fre(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Di(n,po).map(function(o,c){return k.cloneElement(o,{data:e,key:"labelList-".concat(c)})});if(!r)return i;var s=hre(t.label,e);return[s].concat(rre(i))}po.renderCallByParent=fre;function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function Zk(){return Zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zk.apply(this,arguments)}function qI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=gre(t,"string");return Eh(e)=="symbol"?e:e+""}function gre(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vre=function(e,r){var n=Tn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Yp=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(c?1:-1)+i,m=Math.asin(d/p)/sg,g=h?s:s+o*m,w=Ht(r,n,p,g),b=Ht(r,n,i,g),_=h?s-o*m:s,x=Ht(r,n,p*Math.cos(m*sg),_);return{center:w,circleTangency:b,lineTangency:x,theta:m}},i5=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,c=e.endAngle,d=vre(o,c),h=o+d,p=Ht(r,n,s,o),m=Ht(r,n,s,h),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var w=Ht(r,n,i,o),b=Ht(r,n,i,h);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(w.x,",").concat(w.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},yre=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=Tn(p-h),g=Yp({cx:r,cy:n,radius:s,angle:h,sign:m,cornerRadius:o,cornerIsExternal:d}),w=g.circleTangency,b=g.lineTangency,_=g.theta,x=Yp({cx:r,cy:n,radius:s,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:d}),C=x.circleTangency,j=x.lineTangency,A=x.theta,P=d?Math.abs(h-p):Math.abs(h-p)-_-A;if(P<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):i5({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p});var S="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var E=Yp({cx:r,cy:n,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=E.circleTangency,M=E.lineTangency,L=E.theta,R=Yp({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=R.circleTangency,V=R.lineTangency,F=R.theta,Z=d?Math.abs(h-p):Math.abs(h-p)-L-F;if(Z<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},xre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MS=function(e){var r=WI(WI({},xre),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,g=r.className;if(o<s||p===m)return null;var w=it("recharts-sector",g),b=o-s,_=An(c,b,0,!0),x;return _>0&&Math.abs(p-m)<360?x=yre({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(_,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):x=i5({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:p,endAngle:m}),ne.createElement("path",Zk({},Xe(r,!0),{className:w,d:x,role:"img"}))};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function ej(){return ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ej.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){bre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bre(t,e,r){return e=wre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wre(t){var e=_re(t,"string");return Ch(e)=="symbol"?e:e+""}function _re(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KI={curveBasisClosed:UG,curveBasisOpen:zG,curveBasis:BG,curveBumpX:EG,curveBumpY:CG,curveLinearClosed:qG,curveLinear:p0,curveMonotoneX:WG,curveMonotoneY:HG,curveNatural:GG,curveStep:KG,curveStepAfter:QG,curveStepBefore:YG},Qp=function(e){return e.x===+e.x&&e.y===+e.y},yd=function(e){return e.x},xd=function(e){return e.y},kre=function(e,r){if(Ze(e))return e;var n="curve".concat(h0(e));return(n==="curveMonotone"||n==="curveBump")&&r?KI["".concat(n).concat(r==="vertical"?"Y":"X")]:KI[n]||p0},jre=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=kre(n,c),m=h?s.filter(function(_){return Qp(_)}):s,g;if(Array.isArray(o)){var w=h?o.filter(function(_){return Qp(_)}):o,b=m.map(function(_,x){return GI(GI({},_),{},{base:w[x]})});return c==="vertical"?g=Bp().y(xd).x1(yd).x0(function(_){return _.base.x}):g=Bp().x(yd).y1(xd).y0(function(_){return _.base.y}),g.defined(Qp).curve(p),g(b)}return c==="vertical"&&Ae(o)?g=Bp().y(xd).x1(yd).x0(o):Ae(o)?g=Bp().x(yd).y1(xd).y0(o):g=n6().x(yd).y(xd),g.defined(Qp).curve(p),g(m)},tj=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?jre(e):i;return k.createElement("path",ej({},Xe(e,!1),Mm(e),{className:it("recharts-curve",r),d:o,ref:s}))},o_={exports:{}},l_,YI;function Sre(){if(YI)return l_;YI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return l_=t,l_}var c_,QI;function Nre(){if(QI)return c_;QI=1;var t=Sre();function e(){}function r(){}return r.resetWarningCache=e,c_=function(){function n(o,c,d,h,p,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},c_}var XI;function Ere(){return XI||(XI=1,o_.exports=Nre()()),o_.exports}var Cre=Ere();const St=Nt(Cre);var Tre=Object.getOwnPropertyNames,Are=Object.getOwnPropertySymbols,Pre=Object.prototype.hasOwnProperty;function JI(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function Xp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),c=s.get(n);if(o&&c)return o===n&&c===r;s.set(r,n),s.set(n,r);var d=t(r,n,i);return s.delete(r),s.delete(n),d}}function ZI(t){return Tre(t).concat(Are(t))}var Ore=Object.hasOwn||function(t,e){return Pre.call(t,e)};function Ll(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ire="__v",Mre="__o",Rre="_owner",eM=Object.getOwnPropertyDescriptor,tM=Object.keys;function Lre(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Dre(t,e){return Ll(t.getTime(),e.getTime())}function $re(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Fre(t,e){return t===e}function rM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,c,d=0;(o=s.next())&&!o.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var g=o.value,w=c.value;if(r.equals(g[0],w[0],d,m,t,e,r)&&r.equals(g[1],w[1],g[0],w[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}var Vre=Ll;function Bre(t,e,r){var n=tM(t),i=n.length;if(tM(e).length!==i)return!1;for(;i-- >0;)if(!s5(t,e,r,n[i]))return!1;return!0}function bd(t,e,r){var n=ZI(t),i=n.length;if(ZI(e).length!==i)return!1;for(var s,o,c;i-- >0;)if(s=n[i],!s5(t,e,r,s)||(o=eM(t,s),c=eM(e,s),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function Ure(t,e){return Ll(t.valueOf(),e.valueOf())}function zre(t,e){return t.source===e.source&&t.flags===e.flags}function nM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,c;(o=s.next())&&!o.done;){for(var d=e.values(),h=!1,p=0;(c=d.next())&&!c.done;){if(!i[p]&&r.equals(o.value,c.value,o.value,c.value,t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function qre(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Wre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function s5(t,e,r,n){return(n===Rre||n===Mre||n===Ire)&&(t.$$typeof||e.$$typeof)?!0:Ore(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Hre="[object Arguments]",Gre="[object Boolean]",Kre="[object Date]",Yre="[object Error]",Qre="[object Map]",Xre="[object Number]",Jre="[object Object]",Zre="[object RegExp]",ene="[object Set]",tne="[object String]",rne="[object URL]",nne=Array.isArray,iM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,sM=Object.assign,ine=Object.prototype.toString.call.bind(Object.prototype.toString);function sne(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(b,_,x){if(b===_)return!0;if(b==null||_==null)return!1;var C=typeof b;if(C!==typeof _)return!1;if(C!=="object")return C==="number"?o(b,_,x):C==="function"?i(b,_,x):!1;var j=b.constructor;if(j!==_.constructor)return!1;if(j===Object)return c(b,_,x);if(nne(b))return e(b,_,x);if(iM!=null&&iM(b))return m(b,_,x);if(j===Date)return r(b,_,x);if(j===RegExp)return h(b,_,x);if(j===Map)return s(b,_,x);if(j===Set)return p(b,_,x);var A=ine(b);return A===Kre?r(b,_,x):A===Zre?h(b,_,x):A===Qre?s(b,_,x):A===ene?p(b,_,x):A===Jre?typeof b.then!="function"&&typeof _.then!="function"&&c(b,_,x):A===rne?g(b,_,x):A===Yre?n(b,_,x):A===Hre?c(b,_,x):A===Gre||A===Xre||A===tne?d(b,_,x):!1}}function ane(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?bd:Lre,areDatesEqual:Dre,areErrorsEqual:$re,areFunctionsEqual:Fre,areMapsEqual:n?JI(rM,bd):rM,areNumbersEqual:Vre,areObjectsEqual:n?bd:Bre,arePrimitiveWrappersEqual:Ure,areRegExpsEqual:zre,areSetsEqual:n?JI(nM,bd):nM,areTypedArraysEqual:n?bd:qre,areUrlsEqual:Wre};if(r&&(i=sM({},i,r(i))),e){var s=Xp(i.areArraysEqual),o=Xp(i.areMapsEqual),c=Xp(i.areObjectsEqual),d=Xp(i.areSetsEqual);i=sM({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:d})}return i}function one(t){return function(e,r,n,i,s,o,c){return t(e,r,c)}}function lne(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,g=m===void 0?e?new WeakMap:void 0:m,w=p.meta;return r(d,h,{cache:g,equals:i,meta:w,strict:s})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,h){return r(d,h,o)}}var cne=No();No({strict:!0});No({circular:!0});No({circular:!0,strict:!0});No({createInternalComparator:function(){return Ll}});No({strict:!0,createInternalComparator:function(){return Ll}});No({circular:!0,createInternalComparator:function(){return Ll}});No({circular:!0,createInternalComparator:function(){return Ll},strict:!0});function No(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,c=ane(t),d=sne(c),h=n?n(d):one(d);return lne({circular:r,comparator:d,createState:i,equals:h,strict:o})}function une(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function aM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):une(i)};requestAnimationFrame(n)}function rj(t){"@babel/helpers - typeof";return rj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rj(t)}function dne(t){return mne(t)||pne(t)||fne(t)||hne()}function hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return oM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oM(t,e)}}function oM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mne(t){if(Array.isArray(t))return t}function gne(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,c=dne(o),d=c[0],h=c.slice(1);if(typeof d=="number"){aM(i.bind(null,h),d);return}i(d),aM(i.bind(null,h));return}rj(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function lM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(r),!0).forEach(function(n){a5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a5(t,e,r){return e=vne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vne(t){var e=yne(t,"string");return Th(e)==="symbol"?e:String(e)}function yne(t,e){if(Th(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xne=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},bne=function(e){return e},wne=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qd=function(e,r){return Object.keys(r).reduce(function(n,i){return cM(cM({},n),{},a5({},i,e(i,r[i])))},{})},uM=function(e,r,n){return e.map(function(i){return"".concat(wne(i)," ").concat(r,"ms ").concat(n)}).join(",")};function _ne(t,e){return Sne(t)||jne(t,e)||o5(t,e)||kne()}function kne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Sne(t){if(Array.isArray(t))return t}function Nne(t){return Tne(t)||Cne(t)||o5(t)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5(t,e){if(t){if(typeof t=="string")return nj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nj(t,e)}}function Cne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tne(t){if(Array.isArray(t))return nj(t)}function nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var og=1e-4,l5=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},c5=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},dM=function(e,r){return function(n){var i=l5(e,r);return c5(i,n)}},Ane=function(e,r){return function(n){var i=l5(e,r),s=[].concat(Nne(i.map(function(o,c){return o*c}).slice(1)),[0]);return c5(s,n)}},hM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,c=1;break;case"ease":i=.25,s=.1,o=.25,c=1;break;case"ease-in":i=.42,s=0,o=1,c=1;break;case"ease-out":i=.42,s=0,o=.58,c=1;break;case"ease-in-out":i=0,s=0,o=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=_ne(h,4);i=p[0],s=p[1],o=p[2],c=p[3]}}}var m=dM(i,o),g=dM(s,c),w=Ane(i,o),b=function(C){return C>1?1:C<0?0:C},_=function(C){for(var j=C>1?1:C,A=j,P=0;P<8;++P){var S=m(A)-j,E=w(A);if(Math.abs(S-j)<og||E<og)return g(A);A=b(A-S/E)}return g(A)};return _.isStepper=!1,_},Pne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,c=o===void 0?17:o,d=function(p,m,g){var w=-(p-m)*n,b=g*s,_=g+(w-b)*c/1e3,x=g*c/1e3+p;return Math.abs(x-m)<og&&Math.abs(_)<og?[m,0]:[x,_]};return d.isStepper=!0,d.dt=c,d},One=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hM(i);case"spring":return Pne();default:if(i.split("(")[0]==="cubic-bezier")return hM(i)}return typeof i=="function"?i:null};function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function fM(t){return Rne(t)||Mne(t)||u5(t)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rne(t){if(Array.isArray(t))return sj(t)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){ij(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ij(t,e,r){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lne(t){var e=Dne(t,"string");return Ah(e)==="symbol"?e:String(e)}function Dne(t,e){if(Ah(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ne(t,e){return Bne(t)||Vne(t,e)||u5(t,e)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5(t,e){if(t){if(typeof t=="string")return sj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sj(t,e)}}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function Bne(t){if(Array.isArray(t))return t}var lg=function(e,r,n){return e+(r-e)*n},aj=function(e){var r=e.from,n=e.to;return r!==n},Une=function t(e,r,n){var i=qd(function(s,o){if(aj(o)){var c=e(o.from,o.to,o.velocity),d=$ne(c,2),h=d[0],p=d[1];return Xr(Xr({},o),{},{from:h,velocity:p})}return o},r);return n<1?qd(function(s,o){return aj(o)?Xr(Xr({},o),{},{velocity:lg(o.velocity,i[s].velocity,n),from:lg(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const zne=function(t,e,r,n,i){var s=xne(t,e),o=s.reduce(function(x,C){return Xr(Xr({},x),{},ij({},C,[t[C],e[C]]))},{}),c=s.reduce(function(x,C){return Xr(Xr({},x),{},ij({},C,{from:t[C],velocity:0,to:e[C]}))},{}),d=-1,h,p,m=function(){return null},g=function(){return qd(function(C,j){return j.from},c)},w=function(){return!Object.values(c).filter(aj).length},b=function(C){h||(h=C);var j=C-h,A=j/r.dt;c=Une(r,c,A),i(Xr(Xr(Xr({},t),e),g())),h=C,w()||(d=requestAnimationFrame(m))},_=function(C){p||(p=C);var j=(C-p)/n,A=qd(function(S,E){return lg.apply(void 0,fM(E).concat([r(j)]))},o);if(i(Xr(Xr(Xr({},t),e),A)),j<1)d=requestAnimationFrame(m);else{var P=qd(function(S,E){return lg.apply(void 0,fM(E).concat([r(1)]))},o);i(Xr(Xr(Xr({},t),e),P))}};return m=r.isStepper?b:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}var qne=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wne(t,e){if(t==null)return{};var r=Hne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hne(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function u_(t){return Qne(t)||Yne(t)||Kne(t)||Gne()}function Gne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kne(t,e){if(t){if(typeof t=="string")return oj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(t,e)}}function Yne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qne(t){if(Array.isArray(t))return oj(t)}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(r),!0).forEach(function(n){Id(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Id(t,e,r){return e=d5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d5(n.key),n)}}function Zne(t,e,r){return e&&Jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d5(t){var e=eie(t,"string");return nu(e)==="symbol"?e:String(e)}function eie(t,e){if(nu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lj(t,e)}function lj(t,e){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lj(t,e)}function rie(t){var e=nie();return function(){var n=cg(t),i;if(e){var s=cg(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return cj(this,i)}}function cj(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uj(t)}function uj(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}var va=function(t){tie(r,t);var e=rie(r);function r(n,i){var s;Xne(this,r),s=e.call(this,n,i);var o=s.props,c=o.isActive,d=o.attributeName,h=o.from,p=o.to,m=o.steps,g=o.children,w=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(uj(s)),s.changeStyle=s.changeStyle.bind(uj(s)),!c||w<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:p}),cj(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof g=="function")return s.state={style:h},cj(s);s.state={style:d?Id({},d,h):h}}else s.state={style:{}};return s}return Zne(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,c=s.canBegin,d=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,g=this.state.style;if(c){if(!o){var w={style:d?Id({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(w);return}if(!(cne(i.to,p)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=b||h?m:i.to;if(this.state&&g){var x={style:d?Id({},d,_):_};(d&&g[d]!==_||!d&&g!==_)&&this.setState(x)}this.runAnimation(Ji(Ji({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,c=i.to,d=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,g=i.onAnimationStart,w=zne(o,c,One(h),d,this.changeStyle),b=function(){s.stopJSAnimation=w()};this.manager.start([g,p,b,d,m])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,c=i.begin,d=i.onAnimationStart,h=o[0],p=h.style,m=h.duration,g=m===void 0?0:m,w=function(_,x,C){if(C===0)return _;var j=x.duration,A=x.easing,P=A===void 0?"ease":A,S=x.style,E=x.properties,T=x.onAnimationEnd,M=C>0?o[C-1]:x,L=E||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(u_(_),[s.runJSAnimation.bind(s,{from:M.style,to:S,duration:j,easing:P}),j]);var R=uM(L,j,P),D=Ji(Ji(Ji({},M.style),S),{},{transition:R});return[].concat(u_(_),[D,j,T]).filter(bne)};return this.manager.start([d].concat(u_(o.reduce(w,[p,Math.max(g,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=gne());var s=i.begin,o=i.duration,c=i.attributeName,d=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,g=i.steps,w=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof h=="function"||typeof w=="function"||h==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var _=c?Id({},c,d):d,x=uM(Object.keys(_),o,h);b.start([p,s,Ji(Ji({},_),{},{transition:x}),o,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Wne(i,qne),h=k.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||h===0||o<=0)return s;var m=function(w){var b=w.props,_=b.style,x=_===void 0?{}:_,C=b.className,j=k.cloneElement(w,Ji(Ji({},d),{},{style:Ji(Ji({},x),p),className:C}));return j};return h===1?m(k.Children.only(s)):ne.createElement("div",null,k.Children.map(s,function(g){return m(g)}))}}]),r}(k.PureComponent);va.displayName="Animate";va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};va.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};var Tu=XL();function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(this,arguments)}function iie(t,e){return lie(t)||oie(t,e)||aie(t,e)||sie()}function sie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(t,e){if(t){if(typeof t=="string")return gM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gM(t,e)}}function gM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function lie(t){if(Array.isArray(t))return t}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){cie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cie(t,e,r){return e=uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uie(t){var e=die(t,"string");return Ph(e)=="symbol"?e:e+""}function die(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xM=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),c=i>=0?1:-1,d=n>=0?1:-1,h=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,w=4;g<w;g++)m[g]=s[g]>o?o:s[g];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+i-c*m[3])),p+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);p="M ".concat(e,",").concat(r+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+d*b,",").concat(r,`
            L `).concat(e+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*b,`
            L `).concat(e+n,",").concat(r+i-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+n-d*b,",").concat(r+i,`
            L `).concat(e+d*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e,",").concat(r+i-c*b," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},hie=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(s,s+c),p=Math.max(s,s+c),m=Math.min(o,o+d),g=Math.max(o,o+d);return n>=h&&n<=p&&i>=m&&i<=g}return!1},fie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RS=function(e){var r=yM(yM({},fie),e),n=k.useRef(),i=k.useState(-1),s=iie(i,2),o=s[0],c=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,g=r.radius,w=r.className,b=r.animationEasing,_=r.animationDuration,x=r.animationBegin,C=r.isAnimationActive,j=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var A=it("recharts-rectangle",w);return j?ne.createElement(va,{canBegin:o>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:_,animationEasing:b,isActive:j},function(P){var S=P.width,E=P.height,T=P.x,M=P.y;return ne.createElement(va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,isActive:C,easing:b},ne.createElement("path",ug({},Xe(r,!0),{className:A,d:xM(T,M,S,E,g),ref:n})))}):ne.createElement("path",ug({},Xe(r,!0),{className:A,d:xM(d,h,p,m,g)}))},pie=["points","className","baseLinePoints","connectNulls"];function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sc.apply(this,arguments)}function mie(t,e){if(t==null)return{};var r=gie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bM(t){return bie(t)||xie(t)||yie(t)||vie()}function vie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(t,e){if(t){if(typeof t=="string")return dj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dj(t,e)}}function xie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bie(t){if(Array.isArray(t))return dj(t)}function dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wM=function(e){return e&&e.x===+e.x&&e.y===+e.y},wie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){wM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),wM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Wd=function(e,r){var n=wie(e);r&&(n=[n.reduce(function(s,o){return[].concat(bM(s),bM(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,c,d){return"".concat(o).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},_ie=function(e,r,n){var i=Wd(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Wd(r.reverse(),n).slice(1))},kie=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=mie(e,pie);if(!r||!r.length)return null;var c=it("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",h=_ie(r,i,s);return ne.createElement("g",{className:c},ne.createElement("path",Sc({},Xe(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:h})),d?ne.createElement("path",Sc({},Xe(o,!0),{fill:"none",d:Wd(r,s)})):null,d?ne.createElement("path",Sc({},Xe(o,!0),{fill:"none",d:Wd(i,s)})):null)}var p=Wd(r,s);return ne.createElement("path",Sc({},Xe(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:c,d:p}))};function hj(){return hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hj.apply(this,arguments)}var LS=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=it("recharts-dot",s);return r===+r&&n===+n&&i===+i?k.createElement("circle",hj({},Xe(e,!1),Mm(e),{className:o,cx:r,cy:n,r:i})):null};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}var jie=["x","y","top","left","width","height","className"];function fj(){return fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fj.apply(this,arguments)}function _M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(r),!0).forEach(function(n){Nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e,r){return e=Eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eie(t){var e=Cie(t,"string");return Oh(e)=="symbol"?e:e+""}function Cie(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tie(t,e){if(t==null)return{};var r=Aie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Pie=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Oie=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,c=o===void 0?0:o,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,g=e.height,w=g===void 0?0:g,b=e.className,_=Tie(e,jie),x=Sie({x:n,y:s,top:c,left:h,width:m,height:w},_);return!Ae(n)||!Ae(s)||!Ae(m)||!Ae(w)||!Ae(c)||!Ae(h)?null:ne.createElement("path",fj({},Xe(x,!0),{className:it("recharts-cross",b),d:Pie(n,s,m,w,c,h)}))},d_,kM;function Iie(){if(kM)return d_;kM=1;var t=N0(),e=E$(),r=Rs();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return d_=n,d_}var Mie=Iie();const Rie=Nt(Mie);var h_,jM;function Lie(){if(jM)return h_;jM=1;var t=N0(),e=Rs(),r=C$();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return h_=n,h_}var Die=Lie();const $ie=Nt(Die);var Fie=["cx","cy","angle","ticks","axisLine"],Vie=["ticks","tick","angle","tickFormatter","stroke"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hd.apply(this,arguments)}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){I0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NM(t,e){if(t==null)return{};var r=Bie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f5(n.key),n)}}function zie(t,e,r){return e&&EM(t.prototype,e),r&&EM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qie(t,e,r){return e=dg(e),Wie(t,h5()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function Wie(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hie(t)}function Hie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function Gie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pj(t,e)}function pj(t,e){return pj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pj(t,e)}function I0(t,e,r){return e=f5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f5(t){var e=Kie(t,"string");return iu(e)=="symbol"?e:e+""}function Kie(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M0=function(t){function e(){return Uie(this,e),qie(this,e,arguments)}return Gie(e,t),zie(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,c=s.cx,d=s.cy;return Ht(c,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,d=Rie(c,function(p){return p.coordinate||0}),h=$ie(c,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,c=n.ticks,d=n.axisLine,h=NM(n,Fie),p=c.reduce(function(b,_){return[Math.min(b[0],_.coordinate),Math.max(b[1],_.coordinate)]},[1/0,-1/0]),m=Ht(i,s,p[0],o),g=Ht(i,s,p[1],o),w=Ko(Ko(Ko({},Xe(h,!1)),{},{fill:"none"},Xe(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return ne.createElement("line",Hd({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.angle,d=i.tickFormatter,h=i.stroke,p=NM(i,Vie),m=this.getTickTextAnchor(),g=Xe(p,!1),w=Xe(o,!1),b=s.map(function(_,x){var C=n.getTickValueCoord(_),j=Ko(Ko(Ko(Ko({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(C.x,", ").concat(C.y,")")},g),{},{stroke:"none",fill:h},w),{},{index:x},C),{},{payload:_});return ne.createElement(Tt,Hd({className:it("recharts-polar-radius-axis-tick",r5(o)),key:"tick-".concat(_.coordinate)},_l(n.props,_,x)),e.renderTickItem(o,j,d?d(_.value,x):_.value))});return ne.createElement(Tt,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:ne.createElement(Tt,{className:it("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ne.isValidElement(n)?o=ne.cloneElement(n,i):Ze(n)?o=n(i):o=ne.createElement(kl,Hd({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(k.PureComponent);I0(M0,"displayName","PolarRadiusAxis");I0(M0,"axisType","radiusAxis");I0(M0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},el.apply(this,arguments)}function CM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(r),!0).forEach(function(n){R0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m5(n.key),n)}}function Qie(t,e,r){return e&&TM(t.prototype,e),r&&TM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xie(t,e,r){return e=hg(e),Jie(t,p5()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function Jie(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zie(t)}function Zie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mj(t,e)}function mj(t,e){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mj(t,e)}function R0(t,e,r){return e=m5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m5(t){var e=tse(t,"string");return su(e)=="symbol"?e:e+""}function tse(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rse=Math.PI/180,AM=1e-5,L0=function(t){function e(){return Yie(this,e),Xie(this,e,arguments)}return ese(e,t),Qie(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,c=i.radius,d=i.orientation,h=i.tickSize,p=h||8,m=Ht(s,o,c,n.coordinate),g=Ht(s,o,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*rse),o;return s>AM?o=i==="outer"?"start":"end":s<-AM?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,c=n.axisLine,d=n.axisLineType,h=Yo(Yo({},Xe(this.props,!1)),{},{fill:"none"},Xe(c,!1));if(d==="circle")return ne.createElement(LS,el({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:o}));var p=this.props.ticks,m=p.map(function(g){return Ht(i,s,o,g.coordinate)});return ne.createElement(kie,el({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,c=i.tickLine,d=i.tickFormatter,h=i.stroke,p=Xe(this.props,!1),m=Xe(o,!1),g=Yo(Yo({},p),{},{fill:"none"},Xe(c,!1)),w=s.map(function(b,_){var x=n.getTickLineCoord(b),C=n.getTickTextAnchor(b),j=Yo(Yo(Yo({textAnchor:C},p),{},{stroke:"none",fill:h},m),{},{index:_,payload:b,x:x.x2,y:x.y2});return ne.createElement(Tt,el({className:it("recharts-polar-angle-axis-tick",r5(o)),key:"tick-".concat(b.coordinate)},_l(n.props,b,_)),c&&ne.createElement("line",el({className:"recharts-polar-angle-axis-tick-line"},g,x)),o&&e.renderTickItem(o,j,d?d(b.value,_):b.value))});return ne.createElement(Tt,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:ne.createElement(Tt,{className:it("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return ne.isValidElement(n)?o=ne.cloneElement(n,i):Ze(n)?o=n(i):o=ne.createElement(kl,el({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(k.PureComponent);R0(L0,"displayName","PolarAngleAxis");R0(L0,"axisType","angleAxis");R0(L0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var f_,PM;function nse(){if(PM)return f_;PM=1;var t=N6(),e=t(Object.getPrototypeOf,Object);return f_=e,f_}var p_,OM;function ise(){if(OM)return p_;OM=1;var t=ya(),e=nse(),r=xa(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,c=s.hasOwnProperty,d=o.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var g=c.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==d}return p_=h,p_}var sse=ise();const ase=Nt(sse);var m_,IM;function ose(){if(IM)return m_;IM=1;var t=ya(),e=xa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return m_=n,m_}var lse=ose();const cse=Nt(lse);function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fg.apply(this,arguments)}function use(t,e){return pse(t)||fse(t,e)||hse(t,e)||dse()}function dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return MM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function pse(t){if(Array.isArray(t))return t}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach(function(n){mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mse(t,e,r){return e=gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=vse(t,"string");return Ih(e)=="symbol"?e:e+""}function vse(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DM=function(e,r,n,i,s){var o=n-i,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-o/2,",").concat(r+s),c+="L ".concat(e+n-o/2-i,",").concat(r+s),c+="L ".concat(e,",").concat(r," Z"),c},yse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xse=function(e){var r=LM(LM({},yse),e),n=k.useRef(),i=k.useState(-1),s=use(i,2),o=s[0],c=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&c(A)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,g=r.height,w=r.className,b=r.animationEasing,_=r.animationDuration,x=r.animationBegin,C=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var j=it("recharts-trapezoid",w);return C?ne.createElement(va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:h},duration:_,animationEasing:b,isActive:C},function(A){var P=A.upperWidth,S=A.lowerWidth,E=A.height,T=A.x,M=A.y;return ne.createElement(va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:_,easing:b},ne.createElement("path",fg({},Xe(r,!0),{className:j,d:DM(T,M,P,S,E),ref:n})))}):ne.createElement("g",null,ne.createElement("path",fg({},Xe(r,!0),{className:j,d:DM(d,h,p,m,g)})))},bse=["option","shapeType","propTransformer","activeClassName","isActive"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function wse(t,e){if(t==null)return{};var r=_se(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){kse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kse(t,e,r){return e=jse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=Sse(t,"string");return Mh(e)=="symbol"?e:e+""}function Sse(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){return pg(pg({},e),t)}function Ese(t,e){return t==="symbols"}function FM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ne.createElement(RS,r);case"trapezoid":return ne.createElement(xse,r);case"sector":return ne.createElement(MS,r);case"symbols":if(Ese(e))return ne.createElement(J1,r);break;default:return null}}function Cse(t){return k.isValidElement(t)?t.props:t}function g5(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Nse:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,c=t.isActive,d=wse(t,bse),h;if(k.isValidElement(e))h=k.cloneElement(e,pg(pg({},d),Cse(e)));else if(Ze(e))h=e(d);else if(ase(e)&&!cse(e)){var p=i(e,d);h=ne.createElement(FM,{shapeType:r,elementProps:p})}else{var m=d;h=ne.createElement(FM,{shapeType:r,elementProps:m})}return c?ne.createElement(Tt,{className:o},h):h}function D0(t,e){return e!=null&&"trapezoids"in t.props}function $0(t,e){return e!=null&&"sectors"in t.props}function Rh(t,e){return e!=null&&"points"in t.props}function Tse(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function Ase(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Pse(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ose(t,e){var r;return D0(t,e)?r=Tse:$0(t,e)?r=Ase:Rh(t,e)&&(r=Pse),r}function Ise(t,e){var r;return D0(t,e)?r="trapezoids":$0(t,e)?r="sectors":Rh(t,e)&&(r="points"),r}function Mse(t,e){if(D0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if($0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rh(t,e)?e.payload:{}}function Rse(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Ise(r,e),s=Mse(r,e),o=n.filter(function(d,h){var p=T0(s,d),m=r.props[i].filter(function(b){var _=Ose(r,e);return _(b,e)}),g=r.props[i].indexOf(m[m.length-1]),w=h===g;return p&&w}),c=n.indexOf(o[o.length-1]);return c}var hm;function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nc.apply(this,arguments)}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y5(n.key),n)}}function Dse(t,e,r){return e&&BM(t.prototype,e),r&&BM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $se(t,e,r){return e=mg(e),Fse(t,v5()?Reflect.construct(e,r||[],mg(t).constructor):e.apply(t,r))}function Fse(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vse(t)}function Vse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(t)}function Bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gj(t,e)}function gj(t,e){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gj(t,e)}function Ri(t,e,r){return e=y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y5(t){var e=Use(t,"string");return au(e)=="symbol"?e:e+""}function Use(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wa=function(t){function e(r){var n;return Lse(this,e),n=$se(this,e,[r]),Ri(n,"pieRef",null),Ri(n,"sectorRefs",[]),Ri(n,"id",hf("recharts-pie-")),Ri(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ze(i)&&i()}),Ri(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ze(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Bse(e,t),Dse(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,c=s.labelLine,d=s.dataKey,h=s.valueKey,p=Xe(this.props,!1),m=Xe(o,!1),g=Xe(c,!1),w=o&&o.offsetRadius||20,b=n.map(function(_,x){var C=(_.startAngle+_.endAngle)/2,j=Ht(_.cx,_.cy,_.outerRadius+w,C),A=qt(qt(qt(qt({},p),_),{},{stroke:"none"},m),{},{index:x,textAnchor:e.getTextAnchor(j.x,_.cx)},j),P=qt(qt(qt(qt({},p),_),{},{fill:"none",stroke:_.fill},g),{},{index:x,points:[Ht(_.cx,_.cy,_.outerRadius,C),j]}),S=d;return ot(d)&&ot(h)?S="value":ot(d)&&(S=h),ne.createElement(Tt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(x)},c&&e.renderLabelLineItem(c,P,"line"),e.renderLabelItem(o,A,gn(_,S)))});return ne.createElement(Tt,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,c=s.blendStroke,d=s.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(p),g=d&&i.hasActiveIndex()?d:null,w=m?o:g,b=qt(qt({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return ne.createElement(Tt,Nc({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},_l(i.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),ne.createElement(g5,Nc({option:w,isActive:m,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,g=m.prevSectors,w=m.prevIsAnimationActive;return ne.createElement(va,{begin:c,duration:d,isActive:o,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var _=b.t,x=[],C=s&&s[0],j=C.startAngle;return s.forEach(function(A,P){var S=g&&g[P],E=P>0?hi(A,"paddingAngle",0):0;if(S){var T=Ka(S.endAngle-S.startAngle,A.endAngle-A.startAngle),M=qt(qt({},A),{},{startAngle:j+E,endAngle:j+T(_)+E});x.push(M),j=M.endAngle}else{var L=A.endAngle,R=A.startAngle,D=Ka(0,L-R),V=D(_),F=qt(qt({},A),{},{startAngle:j+E,endAngle:j+V+E});x.push(F),j=F.endAngle}}),ne.createElement(Tt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!T0(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,c=i.className,d=i.label,h=i.cx,p=i.cy,m=i.innerRadius,g=i.outerRadius,w=i.isAnimationActive,b=this.state.isAnimationFinished;if(s||!o||!o.length||!Ae(h)||!Ae(p)||!Ae(m)||!Ae(g))return null;var _=it("recharts-pie",c);return ne.createElement(Tt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(C){n.pieRef=C}},this.renderSectors(),d&&this.renderLabels(o),Br.renderCallByParent(this.props,null,!1),(!w||b)&&po.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(ne.isValidElement(n))return ne.cloneElement(n,i);if(Ze(n))return n(i);var o=it("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ne.createElement(tj,Nc({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(ne.isValidElement(n))return ne.cloneElement(n,i);var o=s;if(Ze(n)&&(o=n(i),ne.isValidElement(o)))return o;var c=it("recharts-pie-label-text",typeof n!="boolean"&&!Ze(n)?n.className:"");return ne.createElement(kl,Nc({},i,{alignmentBaseline:"middle",className:c}),o)}}])}(k.PureComponent);hm=wa;Ri(wa,"displayName","Pie");Ri(wa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Su.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ri(wa,"parseDeltaAngle",function(t,e){var r=Tn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ri(wa,"getRealPieData",function(t){var e=t.data,r=t.children,n=Xe(t,!1),i=Di(r,x0);return e&&e.length?e.map(function(s,o){return qt(qt(qt({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return qt(qt({},n),s.props)}):[]});Ri(wa,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=t5(i,s),c=n+An(t.cx,i,i/2),d=r+An(t.cy,s,s/2),h=An(t.innerRadius,o,0),p=An(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});Ri(wa,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?qt(qt({},e.type.defaultProps),e.props):e.props,i=hm.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,g=n.tooltipType,w=Math.abs(n.minAngle),b=hm.parseCoordinateOfPie(n,r),_=hm.parseDeltaAngle(o,c),x=Math.abs(_),C=h;ot(h)&&ot(m)?(ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):ot(h)&&(ns(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=m);var j=i.filter(function(M){return gn(M,C,0)!==0}).length,A=(x>=360?j:j-1)*d,P=x-j*w-A,S=i.reduce(function(M,L){var R=gn(L,C,0);return M+(Ae(R)?R:0)},0),E;if(S>0){var T;E=i.map(function(M,L){var R=gn(M,C,0),D=gn(M,p,L),V=(Ae(R)?R:0)/S,F;L?F=T.endAngle+Tn(_)*d*(R!==0?1:0):F=o;var Z=F+Tn(_)*((R!==0?w:0)+V*P),te=(F+Z)/2,J=(b.innerRadius+b.outerRadius)/2,ee=[{name:D,value:R,payload:M,dataKey:C,type:g}],K=Ht(b.cx,b.cy,J,te);return T=qt(qt(qt({percent:V,cornerRadius:s,name:D,tooltipPayload:ee,midAngle:te,middleRadius:J,tooltipPosition:K},M),b),{},{value:gn(M,C),startAngle:F,endAngle:Z,payload:M,paddingAngle:Tn(_)*d}),T})}return qt(qt({},b),{},{sectors:E,data:i})});var g_,UM;function zse(){if(UM)return g_;UM=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var c=-1,d=e(t((i-n)/(s||1)),0),h=Array(d);d--;)h[o?d:++c]=n,n+=s;return h}return g_=r,g_}var v_,zM;function x5(){if(zM)return v_;zM=1;var t=U6(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return v_=n,v_}var y_,qM;function qse(){if(qM)return y_;qM=1;var t=zse(),e=y0(),r=x5();function n(i){return function(s,o,c){return c&&typeof c!="number"&&e(s,o,c)&&(o=c=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),c=c===void 0?s<o?1:-1:r(c),t(s,o,c,i)}}return y_=n,y_}var x_,WM;function Wse(){if(WM)return x_;WM=1;var t=qse(),e=t();return x_=e,x_}var Hse=Wse();const gg=Nt(Hse);function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){b5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b5(t,e,r){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gse(t){var e=Kse(t,"string");return Lh(e)=="symbol"?e:e+""}function Kse(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yse=["Webkit","Moz","O","ms"],Qse=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Yse.reduce(function(s,o){return GM(GM({},s),{},b5({},o+n,r))},{});return i[e]=r,i};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(this,arguments)}function KM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(r),!0).forEach(function(n){si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_5(n.key),n)}}function Jse(t,e,r){return e&&YM(t.prototype,e),r&&YM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zse(t,e,r){return e=yg(e),eae(t,w5()?Reflect.construct(e,r||[],yg(t).constructor):e.apply(t,r))}function eae(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(t)}function tae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(t)}function rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vj(t,e)}function vj(t,e){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vj(t,e)}function si(t,e,r){return e=_5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _5(t){var e=nae(t,"string");return ou(e)=="symbol"?e:e+""}function nae(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iae=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Ud().domain(gg(0,d)).range([s,s+o-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(i),scale:h,scaleValues:p}},QM=function(e){return e.changedTouches&&!!e.changedTouches.length},lu=function(t){function e(r){var n;return Xse(this,e),n=Zse(this,e,[r]),si(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),si(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),si(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,c=i.startIndex;o?.({endIndex:s,startIndex:c})}),n.detachDragEndListener()}),si(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),si(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),si(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),si(n,"handleSlideDragStart",function(i){var s=QM(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return rae(e,t),Jse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,p=h.length-1,m=Math.min(i,s),g=Math.max(i,s),w=e.getIndexInRange(o,m),b=e.getIndexInRange(o,g);return{startIndex:w-w%d,endIndex:b===p?p:b-b%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,c=i.dataKey,d=gn(s[n],c,n);return Ze(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,c=i.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,w=d.endIndex,b=d.onChange,_=n.pageX-s;_>0?_=Math.min(_,h+p-m-c,h+p-m-o):_<0&&(_=Math.max(_,h-o,h-c));var x=this.getIndex({startX:o+_,endX:c+_});(x.startIndex!==g||x.endIndex!==w)&&b&&b(x),this.setState({startX:o+_,endX:c+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=QM(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,c=i.endX,d=i.startX,h=this.state[o],p=this.props,m=p.x,g=p.width,w=p.travellerWidth,b=p.onChange,_=p.gap,x=p.data,C={startX:this.state.startX,endX:this.state.endX},j=n.pageX-s;j>0?j=Math.min(j,m+g-w-h):j<0&&(j=Math.max(j,m-h)),C[o]=h+j;var A=this.getIndex(C),P=A.startIndex,S=A.endIndex,E=function(){var M=x.length-1;return o==="startX"&&(c>d?P%_===0:S%_===0)||c<d&&S===M||o==="endX"&&(c>d?S%_===0:P%_===0)||c>d&&S===M};this.setState(si(si({},o,h+j),"brushMoveStartX",n.pageX),function(){b&&E()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,c=o.scaleValues,d=o.startX,h=o.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var g=m+n;if(!(g===-1||g>=c.length)){var w=c[g];i==="startX"&&w>=h||i==="endX"&&w<=d||this.setState(si({},i,w),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.fill,h=n.stroke;return ne.createElement("rect",{stroke:h,fill:d,x:i,y:s,width:o,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.data,h=n.children,p=n.padding,m=k.Children.only(h);return m?ne.cloneElement(m,{x:i,y:s,width:o,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,c=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,w=d.ariaLabel,b=d.data,_=d.startIndex,x=d.endIndex,C=Math.max(n,this.props.x),j=b_(b_({},Xe(this.props,!1)),{},{x:C,y:h,width:p,height:m}),A=w||"Min value: ".concat((s=b[_])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[x])===null||o===void 0?void 0:o.name);return ne.createElement(Tt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),c.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,j))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,c=s.height,d=s.stroke,h=s.travellerWidth,p=Math.min(n,i)+h,m=Math.max(Math.abs(i-n)-h,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,g=p.endX,w=5,b={pointerEvents:"none",fill:h};return ne.createElement(Tt,{className:"recharts-brush-texts"},ne.createElement(kl,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-w,y:o+c/2},b),this.getTextOfTick(i)),ne.createElement(kl,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+w,y:o+c/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,c=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,g=this.state,w=g.startX,b=g.endX,_=g.isTextActive,x=g.isSlideMoving,C=g.isTravellerMoving,j=g.isTravellerFocused;if(!i||!i.length||!Ae(c)||!Ae(d)||!Ae(h)||!Ae(p)||h<=0||p<=0)return null;var A=it("recharts-brush",s),P=ne.Children.count(o)===1,S=Qse("userSelect","none");return ne.createElement(Tt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(w,b),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(b,"endX"),(_||x||C||j||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,c=n.height,d=n.stroke,h=Math.floor(s+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:s,width:o,height:c,fill:d,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:h,x2:i+o-1,y2:h,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:h+2,x2:i+o-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return ne.isValidElement(n)?s=ne.cloneElement(n,i):Ze(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return b_({prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:o},s&&s.length?iae({data:s,width:o,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||c!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([c,c+o-d]);var g=i.scale.domain().map(function(w){return i.scale(w)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,c=s-1;c-o>1;){var d=Math.floor((o+c)/2);n[d]>i?c=d:o=d}return i>=n[c]?c:o}}])}(k.PureComponent);si(lu,"displayName","Brush");si(lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var w_,XM;function sae(){if(XM)return w_;XM=1;var t=sS();function e(r,n){var i;return t(r,function(s,o,c){return i=n(s,o,c),!i}),!!i}return w_=e,w_}var __,JM;function aae(){if(JM)return __;JM=1;var t=x6(),e=Rs(),r=sae(),n=Gn(),i=y0();function s(o,c,d){var h=n(o)?t:r;return d&&i(o,c,d)&&(c=void 0),h(o,e(c,3))}return __=s,__}var oae=aae();const lae=Nt(oae);var Es=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},k_,ZM;function cae(){if(ZM)return k_;ZM=1;var t=D6();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return k_=e,k_}var j_,eR;function uae(){if(eR)return j_;eR=1;var t=cae(),e=R6(),r=Rs();function n(i,s){var o={};return s=r(s,3),e(i,function(c,d,h){t(o,d,s(c,d,h))}),o}return j_=n,j_}var dae=uae();const hae=Nt(dae);var S_,tR;function fae(){if(tR)return S_;tR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return S_=t,S_}var N_,rR;function pae(){if(rR)return N_;rR=1;var t=sS();function e(r,n){var i=!0;return t(r,function(s,o,c){return i=!!n(s,o,c),i}),i}return N_=e,N_}var E_,nR;function mae(){if(nR)return E_;nR=1;var t=fae(),e=pae(),r=Rs(),n=Gn(),i=y0();function s(o,c,d){var h=n(o)?t:e;return d&&i(o,c,d)&&(c=void 0),h(o,r(c,3))}return E_=s,E_}var gae=mae();const k5=Nt(gae);var vae=["x","y"];function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function yj(){return yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yj.apply(this,arguments)}function iR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(r),!0).forEach(function(n){yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yae(t,e,r){return e=xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xae(t){var e=bae(t,"string");return Dh(e)=="symbol"?e:e+""}function bae(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wae(t,e){if(t==null)return{};var r=_ae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kae(t,e){var r=t.x,n=t.y,i=wae(t,vae),s="".concat(r),o=parseInt(s,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),g=parseInt(m,10);return wd(wd(wd(wd(wd({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:g,name:e.name,radius:e.radius})}function sR(t){return ne.createElement(g5,yj({shapeType:"rectangle",propTransformer:kae,activeClassName:"recharts-active-bar"},t))}var jae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Ae(n)||YH(n);return s?e(n,i):(s||Sl(),r)}},Sae=["value","background"],j5;function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function Nae(t,e){if(t==null)return{};var r=Eae(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N5(n.key),n)}}function Tae(t,e,r){return e&&oR(t.prototype,e),r&&oR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aae(t,e,r){return e=bg(e),Pae(t,S5()?Reflect.construct(e,r||[],bg(t).constructor):e.apply(t,r))}function Pae(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function Iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xj(t,e)}function xj(t,e){return xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xj(t,e)}function so(t,e,r){return e=N5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N5(t){var e=Mae(t,"string");return cu(e)=="symbol"?e:e+""}function Mae(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ps=function(t){function e(){var r;Cae(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Aae(this,e,[].concat(i)),so(r,"state",{isAnimationFinished:!1}),so(r,"id",hf("recharts-bar-")),so(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),so(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Iae(e,t),Tae(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,c=s.dataKey,d=s.activeIndex,h=s.activeBar,p=Xe(this.props,!1);return n&&n.map(function(m,g){var w=g===d,b=w?h:o,_=_r(_r(_r({},p),m),{},{isActive:w,option:b,index:g,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(Tt,xg({className:"recharts-bar-rectangle"},_l(i.props,m,g),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(g)}),ne.createElement(sR,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,c=i.isAnimationActive,d=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,g=this.state.prevData;return ne.createElement(va,{begin:d,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t,_=s.map(function(x,C){var j=g&&g[C];if(j){var A=Ka(j.x,x.x),P=Ka(j.y,x.y),S=Ka(j.width,x.width),E=Ka(j.height,x.height);return _r(_r({},x),{},{x:A(b),y:P(b),width:S(b),height:E(b)})}if(o==="horizontal"){var T=Ka(0,x.height),M=T(b);return _r(_r({},x),{},{y:x.y+x.height-M,height:M})}var L=Ka(0,x.width),R=L(b);return _r(_r({},x),{},{width:R})});return ne.createElement(Tt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!T0(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,c=i.activeIndex,d=Xe(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,g=Nae(h,Sae);if(!m)return null;var w=_r(_r(_r(_r(_r({},g),{},{fill:"#eee"},m),d),_l(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return ne.createElement(sR,xg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},w))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,c=s.xAxis,d=s.yAxis,h=s.layout,p=s.children,m=Di(p,O0);if(!m)return null;var g=h==="vertical"?o[0].height/2:o[0].width/2,w=function(x,C){var j=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:j,errorVal:gn(x,C)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Tt,b,m.map(function(_){return ne.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:c,yAxis:d,layout:h,offset:g,dataPointFormatter:w})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,c=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,g=n.height,w=n.isAnimationActive,b=n.background,_=n.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,C=it("recharts-bar",o),j=c&&c.allowDataOverflow,A=d&&d.allowDataOverflow,P=j||A,S=ot(_)?this.id:_;return ne.createElement(Tt,{className:C},j||A?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(S)},ne.createElement("rect",{x:j?h:h-m/2,y:A?p:p-g/2,width:j?m:m*2,height:A?g:g*2}))):null,ne.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!w||x)&&po.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(k.PureComponent);j5=Ps;so(Ps,"displayName","Bar");so(Ps,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(Ps,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,g=t.offset,w=cte(n,r);if(!w)return null;var b=e.layout,_=r.type.defaultProps,x=_!==void 0?_r(_r({},_),r.props):r.props,C=x.dataKey,j=x.children,A=x.minPointSize,P=b==="horizontal"?o:s,S=h?P.scale.domain():null,E=gte({numericAxis:P}),T=Di(j,x0),M=m.map(function(L,R){var D,V,F,Z,te,J;h?D=ute(h[p+R],S):(D=gn(L,C),Array.isArray(D)||(D=[E,D]));var ee=jae(A,j5.defaultProps.minPointSize)(D[1],R);if(b==="horizontal"){var K,Y=[o.scale(D[0]),o.scale(D[1])],re=Y[0],W=Y[1];V=OI({axis:s,ticks:c,bandSize:i,offset:w.offset,entry:L,index:R}),F=(K=W??re)!==null&&K!==void 0?K:void 0,Z=w.size;var Q=re-W;if(te=Number.isNaN(Q)?0:Q,J={x:V,y:o.y,width:Z,height:o.height},Math.abs(ee)>0&&Math.abs(te)<Math.abs(ee)){var H=Tn(te||ee)*(Math.abs(ee)-Math.abs(te));F-=H,te+=H}}else{var oe=[s.scale(D[0]),s.scale(D[1])],X=oe[0],ue=oe[1];if(V=X,F=OI({axis:o,ticks:d,bandSize:i,offset:w.offset,entry:L,index:R}),Z=ue-X,te=w.size,J={x:s.x,y:F,width:s.width,height:te},Math.abs(ee)>0&&Math.abs(Z)<Math.abs(ee)){var le=Tn(Z||ee)*(Math.abs(ee)-Math.abs(Z));Z+=le}}return _r(_r(_r({},L),{},{x:V,y:F,width:Z,height:te,value:h?D:D[1],payload:L,background:J},T&&T[R]&&T[R].props),{},{tooltipPayload:[Z$(r,L)],tooltipPosition:{x:V+Z/2,y:F+te/2}})});return _r({data:M,layout:b},g)});function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function Rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E5(n.key),n)}}function Lae(t,e,r){return e&&lR(t.prototype,e),r&&lR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){F0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F0(t,e,r){return e=E5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E5(t){var e=Dae(t,"string");return $h(e)=="symbol"?e:e+""}function Dae(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=function(e,r,n,i,s){var o=e.width,c=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!ai(h,Ps);return p.reduce(function(w,b){var _=r[b],x=_.orientation,C=_.domain,j=_.padding,A=j===void 0?{}:j,P=_.mirror,S=_.reversed,E="".concat(x).concat(P?"Mirror":""),T,M,L,R,D;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var V=C[1]-C[0],F=1/0,Z=_.categoricalDomain.sort(JH);if(Z.forEach(function(oe,X){X>0&&(F=Math.min((oe||0)-(Z[X-1]||0),F))}),Number.isFinite(F)){var te=F/V,J=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=te*J/2),_.padding==="no-gap"){var ee=An(e.barCategoryGap,te*J),K=te*J/2;T=K-ee-(K-ee)/J*ee}}}i==="xAxis"?M=[n.left+(A.left||0)+(T||0),n.left+n.width-(A.right||0)-(T||0)]:i==="yAxis"?M=d==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(T||0),n.top+n.height-(A.bottom||0)-(T||0)]:M=_.range,S&&(M=[M[1],M[0]]);var Y=Y$(_,s,g),re=Y.scale,W=Y.realScaleType;re.domain(C).range(M),Q$(re);var Q=X$(re,Zi(Zi({},_),{},{realScaleType:W}));i==="xAxis"?(D=x==="top"&&!P||x==="bottom"&&P,L=n.left,R=m[E]-D*_.height):i==="yAxis"&&(D=x==="left"&&!P||x==="right"&&P,L=m[E]-D*_.width,R=n.top);var H=Zi(Zi(Zi({},_),Q),{},{realScaleType:W,x:L,y:R,scale:re,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return H.bandSize=ig(H,Q),!_.hide&&i==="xAxis"?m[E]+=(D?-1:1)*H.height:_.hide||(m[E]+=(D?-1:1)*H.width),Zi(Zi({},w),{},F0({},b,H))},{})},C5=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Fae=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return C5({x:r,y:n},{x:i,y:s})},T5=function(){function t(e){Rae(this,t),this.scale=e}return Lae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();F0(T5,"EPS",1e-4);var DS=function(e){var r=Object.keys(e).reduce(function(n,i){return Zi(Zi({},n),{},F0({},i,T5.create(e[i])))},{});return Zi(Zi({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,c=s.position;return hae(i,function(d,h){return r[h].apply(d,{bandAware:o,position:c})})},isInRange:function(i){return k5(i,function(s,o){return r[o].isInRange(s)})}})};function Vae(t){return(t%180+180)%180}var Bae=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Vae(i),o=s*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},C_,uR;function Uae(){if(uR)return C_;uR=1;var t=Rs(),e=ff(),r=g0();function n(i){return function(s,o,c){var d=Object(s);if(!e(s)){var h=t(o,3);s=r(s),o=function(m){return h(d[m],m,d)}}var p=i(s,o,c);return p>-1?d[h?s[p]:p]:void 0}}return C_=n,C_}var T_,dR;function zae(){if(dR)return T_;dR=1;var t=x5();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return T_=e,T_}var A_,hR;function qae(){if(hR)return A_;hR=1;var t=A6(),e=Rs(),r=zae(),n=Math.max;function i(s,o,c){var d=s==null?0:s.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(s,e(o,3),h)}return A_=i,A_}var P_,fR;function Wae(){if(fR)return P_;fR=1;var t=Uae(),e=qae(),r=t(e);return P_=r,P_}var Hae=Wae();const Gae=Nt(Hae);var Kae=H3();const Yae=Nt(Kae);var Qae=Yae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),$S=k.createContext(void 0),FS=k.createContext(void 0),A5=k.createContext(void 0),P5=k.createContext({}),O5=k.createContext(void 0),I5=k.createContext(0),M5=k.createContext(0),pR=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,c=e.children,d=e.width,h=e.height,p=Qae(s);return ne.createElement($S.Provider,{value:n},ne.createElement(FS.Provider,{value:i},ne.createElement(P5.Provider,{value:s},ne.createElement(A5.Provider,{value:p},ne.createElement(O5.Provider,{value:o},ne.createElement(I5.Provider,{value:h},ne.createElement(M5.Provider,{value:d},c)))))))},Xae=function(){return k.useContext(O5)},R5=function(e){var r=k.useContext($S);r==null&&Sl();var n=r[e];return n==null&&Sl(),n},Jae=function(){var e=k.useContext($S);return no(e)},Zae=function(){var e=k.useContext(FS),r=Gae(e,function(n){return k5(n.domain,Number.isFinite)});return r||no(e)},L5=function(e){var r=k.useContext(FS);r==null&&Sl();var n=r[e];return n==null&&Sl(),n},eoe=function(){var e=k.useContext(A5);return e},toe=function(){return k.useContext(P5)},VS=function(){return k.useContext(M5)},BS=function(){return k.useContext(I5)};function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function noe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$5(n.key),n)}}function ioe(t,e,r){return e&&noe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function soe(t,e,r){return e=wg(e),aoe(t,D5()?Reflect.construct(e,r||[],wg(t).constructor):e.apply(t,r))}function aoe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ooe(t)}function ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(t)}function loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bj(t,e)}function bj(t,e){return bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bj(t,e)}function mR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mR(Object(r),!0).forEach(function(n){US(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function US(t,e,r){return e=$5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $5(t){var e=coe(t,"string");return uu(e)=="symbol"?e:e+""}function coe(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uoe(t,e){return poe(t)||foe(t,e)||hoe(t,e)||doe()}function doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hoe(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function foe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function poe(t){if(Array.isArray(t))return t}function wj(){return wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wj.apply(this,arguments)}var moe=function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Ze(e)?n=e(r):n=ne.createElement("line",wj({},r,{className:"recharts-reference-line-line"})),n},goe=function(e,r,n,i,s,o,c,d,h){var p=s.x,m=s.y,g=s.width,w=s.height;if(n){var b=h.y,_=e.y.apply(b,{position:o});if(Es(h,"discard")&&!e.y.isInRange(_))return null;var x=[{x:p+g,y:_},{x:p,y:_}];return d==="left"?x.reverse():x}if(r){var C=h.x,j=e.x.apply(C,{position:o});if(Es(h,"discard")&&!e.x.isInRange(j))return null;var A=[{x:j,y:m+w},{x:j,y:m}];return c==="top"?A.reverse():A}if(i){var P=h.segment,S=P.map(function(E){return e.apply(E,{position:o})});return Es(h,"discard")&&lae(S,function(E){return!e.isInRange(E)})?null:S}return null};function voe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,c=t.className,d=t.alwaysShow,h=Xae(),p=R5(i),m=L5(s),g=eoe();if(!h||!g)return null;ns(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=DS({x:p.scale,y:m.scale}),b=Pr(e),_=Pr(r),x=n&&n.length===2,C=goe(w,b,_,x,g,t.position,p.orientation,m.orientation,t);if(!C)return null;var j=uoe(C,2),A=j[0],P=A.x,S=A.y,E=j[1],T=E.x,M=E.y,L=Es(t,"hidden")?"url(#".concat(h,")"):void 0,R=gR(gR({clipPath:L},Xe(t,!0)),{},{x1:P,y1:S,x2:T,y2:M});return ne.createElement(Tt,{className:it("recharts-reference-line",c)},moe(o,R),Br.renderCallByParent(t,Fae({x1:P,y1:S,x2:T,y2:M})))}var zS=function(t){function e(){return roe(this,e),soe(this,e,arguments)}return loe(e,t),ioe(e,[{key:"render",value:function(){return ne.createElement(voe,this.props)}}])}(ne.Component);US(zS,"displayName","ReferenceLine");US(zS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _j(){return _j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_j.apply(this,arguments)}function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){V0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V5(n.key),n)}}function boe(t,e,r){return e&&xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,r){return e=_g(e),_oe(t,F5()?Reflect.construct(e,r||[],_g(t).constructor):e.apply(t,r))}function _oe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(t)}function koe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}function joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kj(t,e)}function kj(t,e){return kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kj(t,e)}function V0(t,e,r){return e=V5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5(t){var e=Soe(t,"string");return du(e)=="symbol"?e:e+""}function Soe(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Noe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=DS({x:i.scale,y:s.scale}),c=o.apply({x:r,y:n},{bandAware:!0});return Es(e,"discard")&&!o.isInRange(c)?null:c},B0=function(t){function e(){return yoe(this,e),woe(this,e,arguments)}return joe(e,t),boe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,c=n.alwaysShow,d=n.clipPathId,h=Pr(i),p=Pr(s);if(ns(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Noe(this.props);if(!m)return null;var g=m.x,w=m.y,b=this.props,_=b.shape,x=b.className,C=Es(this.props,"hidden")?"url(#".concat(d,")"):void 0,j=xR(xR({clipPath:C},Xe(this.props,!0)),{},{cx:g,cy:w});return ne.createElement(Tt,{className:it("recharts-reference-dot",x)},e.renderDot(_,j),Br.renderCallByParent(this.props,{x:g-o,y:w-o,width:2*o,height:2*o}))}}])}(ne.Component);V0(B0,"displayName","ReferenceDot");V0(B0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});V0(B0,"renderDot",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):Ze(t)?r=t(e):r=ne.createElement(LS,_j({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jj.apply(this,arguments)}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){U0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Coe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U5(n.key),n)}}function Toe(t,e,r){return e&&Coe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aoe(t,e,r){return e=kg(e),Poe(t,B5()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function Poe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ooe(t)}function Ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function Ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sj(t,e)}function Sj(t,e){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sj(t,e)}function U0(t,e,r){return e=U5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5(t){var e=Moe(t,"string");return hu(e)=="symbol"?e:e+""}function Moe(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Roe=function(e,r,n,i,s){var o=s.x1,c=s.x2,d=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var g=DS({x:p.scale,y:m.scale}),w={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(h,{position:"end"}):g.y.rangeMax};return Es(s,"discard")&&(!g.isInRange(w)||!g.isInRange(b))?null:C5(w,b)},z0=function(t){function e(){return Eoe(this,e),Aoe(this,e,arguments)}return Ioe(e,t),Toe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;ns(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Pr(i),g=Pr(s),w=Pr(o),b=Pr(c),_=this.props.shape;if(!m&&!g&&!w&&!b&&!_)return null;var x=Roe(m,g,w,b,this.props);if(!x&&!_)return null;var C=Es(this.props,"hidden")?"url(#".concat(p,")"):void 0;return ne.createElement(Tt,{className:it("recharts-reference-area",d)},e.renderRect(_,wR(wR({clipPath:C},Xe(this.props,!0)),x)),Br.renderCallByParent(this.props,x))}}])}(ne.Component);U0(z0,"displayName","ReferenceArea");U0(z0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});U0(z0,"renderRect",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):Ze(t)?r=t(e):r=ne.createElement(RS,jj({},e,{className:"recharts-reference-area-rect"})),r});function z5(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Loe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Bae(n,r)}function Doe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,c=t.height;return e===1?{start:n?i:s,end:n?i+o:s+c}:{start:n?i+o:s+c,end:n?i:s}}function jg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function $oe(t,e){return z5(t,e+1)}function Foe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,c=e.end,d=0,h=1,p=o,m=function(){var b=n?.[d];if(b===void 0)return{v:z5(n,h)};var _=d,x,C=function(){return x===void 0&&(x=r(b,_)),x},j=b.coordinate,A=d===0||jg(t,j,C,p,c);A||(d=0,p=o,h+=1),A&&(p=j+t*(C()/2+i),d+=h)},g;h<=s.length;)if(g=m(),g)return g.v;return[]}function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Uoe(t,"string");return Fh(e)=="symbol"?e:e+""}function Uoe(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zoe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,c=e.start,d=e.end,h=function(g){var w=s[g],b,_=function(){return b===void 0&&(b=r(w,g)),b};if(g===o-1){var x=t*(w.coordinate+t*_()/2-d);s[g]=w=hn(hn({},w),{},{tickCoord:x>0?w.coordinate-x*t:w.coordinate})}else s[g]=w=hn(hn({},w),{},{tickCoord:w.coordinate});var C=jg(t,w.tickCoord,_,c,d);C&&(d=w.tickCoord-t*(_()/2+i),s[g]=hn(hn({},w),{},{isShow:!0}))},p=o-1;p>=0;p--)h(p);return s}function qoe(t,e,r,n,i,s){var o=(n||[]).slice(),c=o.length,d=e.start,h=e.end;if(s){var p=n[c-1],m=r(p,c-1),g=t*(p.coordinate+t*m/2-h);o[c-1]=p=hn(hn({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var w=jg(t,p.tickCoord,function(){return m},d,h);w&&(h=p.tickCoord-t*(m/2+i),o[c-1]=hn(hn({},p),{},{isShow:!0}))}for(var b=s?c-1:c,_=function(j){var A=o[j],P,S=function(){return P===void 0&&(P=r(A,j)),P};if(j===0){var E=t*(A.coordinate-t*S()/2-d);o[j]=A=hn(hn({},A),{},{tickCoord:E<0?A.coordinate-E*t:A.coordinate})}else o[j]=A=hn(hn({},A),{},{tickCoord:A.coordinate});var T=jg(t,A.tickCoord,S,d,h);T&&(d=A.tickCoord+t*(S()/2+i),o[j]=hn(hn({},A),{},{isShow:!0}))},x=0;x<b;x++)_(x);return o}function qS(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(Ae(d)||Su.isSsr)return $oe(i,typeof d=="number"&&Ae(d)?d:0);var g=[],w=c==="top"||c==="bottom"?"width":"height",b=p&&w==="width"?Bd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(A,P){var S=Ze(h)?h(A.value,P):A.value;return w==="width"?Loe(Bd(S,{fontSize:e,letterSpacing:r}),b,m):Bd(S,{fontSize:e,letterSpacing:r})[w]},x=i.length>=2?Tn(i[1].coordinate-i[0].coordinate):1,C=Doe(s,x,w);return d==="equidistantPreserveStart"?Foe(x,C,_,i,o):(d==="preserveStart"||d==="preserveStartEnd"?g=qoe(x,C,_,i,o,d==="preserveStartEnd"):g=zoe(x,C,_,i,o),g.filter(function(j){return j.isShow}))}var Woe=["viewBox"],Hoe=["viewBox"],Goe=["ticks"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ec.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){WS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O_(t,e){if(t==null)return{};var r=Koe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Koe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W5(n.key),n)}}function Qoe(t,e,r){return e&&jR(t.prototype,e),r&&jR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,e,r){return e=Sg(e),Joe(t,q5()?Reflect.construct(e,r||[],Sg(t).constructor):e.apply(t,r))}function Joe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zoe(t)}function Zoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(t)}function ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nj(t,e)}function Nj(t,e){return Nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nj(t,e)}function WS(t,e,r){return e=W5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W5(t){var e=tle(t,"string");return fu(e)=="symbol"?e:e+""}function tle(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Au=function(t){function e(r){var n;return Yoe(this,e),n=Xoe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ele(e,t),Qoe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=O_(n,Woe),c=this.props,d=c.viewBox,h=O_(c,Hoe);return!Rc(s,d)||!Rc(o,h)||!Rc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,c=i.width,d=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,g=i.tickMargin,w,b,_,x,C,j,A=m?-1:1,P=n.tickSize||p,S=Ae(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":w=b=n.coordinate,x=o+ +!m*d,_=x-A*P,j=_-A*g,C=S;break;case"left":_=x=n.coordinate,b=s+ +!m*c,w=b-A*P,C=w-A*g,j=S;break;case"right":_=x=n.coordinate,b=s+ +m*c,w=b+A*P,C=w+A*g,j=S;break;default:w=b=n.coordinate,x=o+ +m*d,_=x+A*P,j=_+A*g,C=S;break}return{line:{x1:w,y1:_,x2:b,y2:x},tick:{x:C,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,c=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=Tr(Tr(Tr({},Xe(this.props,!1)),Xe(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!h||d==="bottom"&&h);m=Tr(Tr({},m),{},{x1:i,y1:s+g*c,x2:i+o,y2:s+g*c})}else{var w=+(d==="left"&&!h||d==="right"&&h);m=Tr(Tr({},m),{},{x1:i+w*o,y1:s,x2:i+w*o,y2:s+c})}return ne.createElement("line",Ec({},m,{className:it("recharts-cartesian-axis-line",hi(p,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,c=this.props,d=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,g=c.unit,w=qS(Tr(Tr({},this.props),{},{ticks:n}),i,s),b=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),x=Xe(this.props,!1),C=Xe(p,!1),j=Tr(Tr({},x),{},{fill:"none"},Xe(d,!1)),A=w.map(function(P,S){var E=o.getTickLineCoord(P),T=E.line,M=E.tick,L=Tr(Tr(Tr(Tr({textAnchor:b,verticalAnchor:_},x),{},{stroke:"none",fill:h},C),M),{},{index:S,payload:P,visibleTicksCount:w.length,tickFormatter:m});return ne.createElement(Tt,Ec({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},_l(o.props,P,S)),d&&ne.createElement("line",Ec({},j,T,{className:it("recharts-cartesian-axis-tick-line",hi(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Ze(m)?m(P.value,S):P.value).concat(g||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,c=i.height,d=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,g=m.ticks,w=O_(m,Goe),b=g;return Ze(d)&&(b=g&&g.length>0?d(this.props):d(w)),o<=0||c<=0||!b||!b.length?null:ne.createElement(Tt,{className:it("recharts-cartesian-axis",h),ref:function(x){n.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,c=it(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(n)?o=ne.cloneElement(n,Tr(Tr({},i),{},{className:c})):Ze(n)?o=n(Tr(Tr({},i),{},{className:c})):o=ne.createElement(kl,Ec({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(k.Component);WS(Au,"displayName","CartesianAxis");WS(Au,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rle=["x1","y1","x2","y2","key"],nle=["offset"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){ile(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ile(t,e,r){return e=sle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sle(t){var e=ale(t,"string");return Nl(e)=="symbol"?e:e+""}function ale(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ll.apply(this,arguments)}function NR(t,e){if(t==null)return{};var r=ole(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ole(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var lle=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,c=e.height,d=e.ry;return ne.createElement("rect",{x:i,y:s,ry:d,width:o,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function H5(t,e){var r;if(ne.isValidElement(t))r=ne.cloneElement(t,e);else if(Ze(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,c=e.key,d=NR(e,rle),h=Xe(d,!1);h.offset;var p=NR(h,nle);r=ne.createElement("line",ll({},p,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:c}))}return r}function cle(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var h=mn(mn({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return H5(i,h)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ule(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(c,d){var h=mn(mn({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return H5(i,h)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function dle(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=c.map(function(g){return Math.round(g+i-i)}).sort(function(g,w){return g-w});i!==p[0]&&p.unshift(0);var m=p.map(function(g,w){var b=!p[w+1],_=b?i+o-g:p[w+1]-g;if(_<=0)return null;var x=w%e.length;return ne.createElement("rect",{key:"react-".concat(w),y:g,x:n,height:_,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function hle(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(g){return Math.round(g+s-s)}).sort(function(g,w){return g-w});s!==p[0]&&p.unshift(0);var m=p.map(function(g,w){var b=!p[w+1],_=b?s+c-g:p[w+1]-g;if(_<=0)return null;var x=w%n.length;return ne.createElement("rect",{key:"react-".concat(w),x:g,y:o,width:_,height:d,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var fle=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return K$(qS(mn(mn(mn({},Au.defaultProps),n),{},{ticks:sa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},ple=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return K$(qS(mn(mn(mn({},Au.defaultProps),n),{},{ticks:sa(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},yc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function HS(t){var e,r,n,i,s,o,c=VS(),d=BS(),h=toe(),p=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:yc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:yc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:yc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:yc.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:yc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:yc.verticalFill,x:Ae(t.x)?t.x:h.left,y:Ae(t.y)?t.y:h.top,width:Ae(t.width)?t.width:h.width,height:Ae(t.height)?t.height:h.height}),m=p.x,g=p.y,w=p.width,b=p.height,_=p.syncWithTicks,x=p.horizontalValues,C=p.verticalValues,j=Jae(),A=Zae();if(!Ae(w)||w<=0||!Ae(b)||b<=0||!Ae(m)||m!==+m||!Ae(g)||g!==+g)return null;var P=p.verticalCoordinatesGenerator||fle,S=p.horizontalCoordinatesGenerator||ple,E=p.horizontalPoints,T=p.verticalPoints;if((!E||!E.length)&&Ze(S)){var M=x&&x.length,L=S({yAxis:A?mn(mn({},A),{},{ticks:M?x:A.ticks}):void 0,width:c,height:d,offset:h},M?!0:_);ns(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Nl(L),"]")),Array.isArray(L)&&(E=L)}if((!T||!T.length)&&Ze(P)){var R=C&&C.length,D=P({xAxis:j?mn(mn({},j),{},{ticks:R?C:j.ticks}):void 0,width:c,height:d,offset:h},R?!0:_);ns(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Nl(D),"]")),Array.isArray(D)&&(T=D)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(lle,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),ne.createElement(cle,ll({},p,{offset:h,horizontalPoints:E,xAxis:j,yAxis:A})),ne.createElement(ule,ll({},p,{offset:h,verticalPoints:T,xAxis:j,yAxis:A})),ne.createElement(dle,ll({},p,{horizontalPoints:E})),ne.createElement(hle,ll({},p,{verticalPoints:T})))}HS.displayName="CartesianGrid";function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y5(n.key),n)}}function vle(t,e,r){return e&&gle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yle(t,e,r){return e=Ng(e),xle(t,G5()?Reflect.construct(e,r||[],Ng(t).constructor):e.apply(t,r))}function xle(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(t)}function ble(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(t)}function wle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ej(t,e)}function Ej(t,e){return Ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ej(t,e)}function K5(t,e,r){return e=Y5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5(t){var e=_le(t,"string");return pu(e)=="symbol"?e:e+""}function _le(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cj.apply(this,arguments)}function kle(t){var e=t.xAxisId,r=VS(),n=BS(),i=R5(e);return i==null?null:k.createElement(Au,Cj({},i,{className:it("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return sa(o,!0)}}))}var yf=function(t){function e(){return mle(this,e),yle(this,e,arguments)}return wle(e,t),vle(e,[{key:"render",value:function(){return k.createElement(kle,this.props)}}])}(k.Component);K5(yf,"displayName","XAxis");K5(yf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J5(n.key),n)}}function Nle(t,e,r){return e&&Sle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,r){return e=Eg(e),Cle(t,Q5()?Reflect.construct(e,r||[],Eg(t).constructor):e.apply(t,r))}function Cle(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tle(t)}function Tle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(t)}function Ale(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tj(t,e)}function Tj(t,e){return Tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tj(t,e)}function X5(t,e,r){return e=J5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J5(t){var e=Ple(t,"string");return mu(e)=="symbol"?e:e+""}function Ple(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Aj(){return Aj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aj.apply(this,arguments)}var Ole=function(e){var r=e.yAxisId,n=VS(),i=BS(),s=L5(r);return s==null?null:k.createElement(Au,Aj({},s,{className:it("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(c){return sa(c,!0)}}))},xf=function(t){function e(){return jle(this,e),Ele(this,e,arguments)}return Ale(e,t),Nle(e,[{key:"render",value:function(){return k.createElement(Ole,this.props)}}])}(k.Component);X5(xf,"displayName","YAxis");X5(xf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ER(t){return Lle(t)||Rle(t)||Mle(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mle(t,e){if(t){if(typeof t=="string")return Pj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pj(t,e)}}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lle(t){if(Array.isArray(t))return Pj(t)}function Pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oj=function(e,r,n,i,s){var o=Di(e,zS),c=Di(e,B0),d=[].concat(ER(o),ER(c)),h=Di(e,z0),p="".concat(i,"Id"),m=i[0],g=r;if(d.length&&(g=d.reduce(function(_,x){if(x.props[p]===n&&Es(x.props,"extendDomain")&&Ae(x.props[m])){var C=x.props[m];return[Math.min(_[0],C),Math.max(_[1],C)]}return _},g)),h.length){var w="".concat(m,"1"),b="".concat(m,"2");g=h.reduce(function(_,x){if(x.props[p]===n&&Es(x.props,"extendDomain")&&Ae(x.props[w])&&Ae(x.props[b])){var C=x.props[w],j=x.props[b];return[Math.min(_[0],C,j),Math.max(_[1],C,j)]}return _},g)}return s&&s.length&&(g=s.reduce(function(_,x){return Ae(x)?[Math.min(_[0],x),Math.max(_[1],x)]:_},g)),g},I_={exports:{}},CR;function Dle(){return CR||(CR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,m||d,g),b=r?r+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],w]:d._events[b].push(w):(d._events[b]=w,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,w=m.length,b=new Array(w);g<w;g++)b[g]=m[g].fn;return b},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,g,w,b){var _=r?r+h:h;if(!this._events[_])return!1;var x=this._events[_],C=arguments.length,j,A;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),C){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,m),!0;case 4:return x.fn.call(x.context,p,m,g),!0;case 5:return x.fn.call(x.context,p,m,g,w),!0;case 6:return x.fn.call(x.context,p,m,g,w,b),!0}for(A=1,j=new Array(C-1);A<C;A++)j[A-1]=arguments[A];x.fn.apply(x.context,j)}else{var P=x.length,S;for(A=0;A<P;A++)switch(x[A].once&&this.removeListener(h,x[A].fn,void 0,!0),C){case 1:x[A].fn.call(x[A].context);break;case 2:x[A].fn.call(x[A].context,p);break;case 3:x[A].fn.call(x[A].context,p,m);break;case 4:x[A].fn.call(x[A].context,p,m,g);break;default:if(!j)for(S=1,j=new Array(C-1);S<C;S++)j[S-1]=arguments[S];x[A].fn.apply(x[A].context,j)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,g){var w=r?r+h:h;if(!this._events[w])return this;if(!p)return o(this,w),this;var b=this._events[w];if(b.fn)b.fn===p&&(!g||b.once)&&(!m||b.context===m)&&o(this,w);else{for(var _=0,x=[],C=b.length;_<C;_++)(b[_].fn!==p||g&&!b[_].once||m&&b[_].context!==m)&&x.push(b[_]);x.length?this._events[w]=x.length===1?x[0]:x:o(this,w)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(I_)),I_.exports}var $le=Dle();const Fle=Nt($le);var M_=new Fle,R_="recharts.syncMouseEvents";function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function Vle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ble(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z5(n.key),n)}}function Ule(t,e,r){return e&&Ble(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L_(t,e,r){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z5(t){var e=zle(t,"string");return Vh(e)=="symbol"?e:e+""}function zle(t,e){if(Vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qle=function(){function t(){Vle(this,t),L_(this,"activeIndex",0),L_(this,"coordinateList",[]),L_(this,"layout","horizontal")}return Ule(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,c=o===void 0?null:o,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,g=r.mouseHandlerCallback,w=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,c=i.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+d+h,g=o+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function Wle(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Ae(n)&&Ae(i))return!0}return!1}function Hle(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function eF(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Ht(e,r,n,i),c=Ht(e,r,n,s);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Gle(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,g=Ht(c,d,h,m),w=Ht(c,d,p,m);n=g.x,i=g.y,s=w.x,o=w.y}else return eF(e);return[{x:n,y:i},{x:s,y:o}]}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function TR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(r),!0).forEach(function(n){Kle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kle(t,e,r){return e=Yle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yle(t){var e=Qle(t,"string");return Bh(e)=="symbol"?e:e+""}function Qle(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xle(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,w=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!w||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,_=tj;if(g==="ScatterChart")b=o,_=Oie;else if(g==="BarChart")b=Hle(m,o,d,p),_=RS;else if(m==="radial"){var x=eF(o),C=x.cx,j=x.cy,A=x.radius,P=x.startAngle,S=x.endAngle;b={cx:C,cy:j,startAngle:P,endAngle:S,innerRadius:A,outerRadius:A},_=MS}else b={points:Gle(m,o,d)},_=tj;var E=Jp(Jp(Jp(Jp({stroke:"#ccc",pointerEvents:"none"},d),b),Xe(w,!1)),{},{payload:c,payloadIndex:h,className:it("recharts-tooltip-cursor",w.className)});return k.isValidElement(w)?k.cloneElement(w,E):k.createElement(_,E)}var Jle=["item"],Zle=["children","className","width","height","style","compact","title","desc"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cc.apply(this,arguments)}function AR(t,e){return rce(t)||tce(t,e)||rF(t,e)||ece()}function ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,c=[],d=!0,h=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function rce(t){if(Array.isArray(t))return t}function PR(t,e){if(t==null)return{};var r=nce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nF(n.key),n)}}function ace(t,e,r){return e&&sce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oce(t,e,r){return e=Cg(e),lce(t,tF()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function lce(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cce(t)}function cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ij(t,e)}function Ij(t,e){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ij(t,e)}function vu(t){return fce(t)||hce(t)||rF(t)||dce()}function dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(t,e){if(t){if(typeof t=="string")return Mj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mj(t,e)}}function hce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fce(t){if(Array.isArray(t))return Mj(t)}function Mj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ye(t,e,r){return e=nF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nF(t){var e=pce(t,"string");return gu(e)=="symbol"?e:e+""}function pce(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mce={xAxis:["bottom","top"],yAxis:["left","right"]},gce={width:"100%",height:"100%"},iF={x:0,y:0};function Zp(t){return t}var vce=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yce=function(e,r,n,i){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,c=i.radius;return xe(xe(xe({},i),Ht(i.cx,i.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,h=i.angle;return xe(xe(xe({},i),Ht(i.cx,i.cy,d,h)),{},{angle:h,radius:d})}return iF},q0=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(vu(c),vu(h)):c},[]);return o.length>0?o:e&&e.length&&Ae(i)&&Ae(s)?e.slice(i,s+1):[]};function sF(t){return t==="number"?[0,"auto"]:void 0}var Rj=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,c=q0(r,e);return n<0||!s||!s.length||n>=c.length?null:s.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var w=m===void 0?c:m;g=gk(w,o.dataKey,i)}else g=m&&m[n]||c[n];return g?[].concat(vu(d),[Z$(h,g)]):d},[])},IR=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=vce(s,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=nte(o,c,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,g=Rj(e,r,p,m),w=yce(n,c,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:w}}return null},xce=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,g=e.stackOffset,w=G$(p,s);return n.reduce(function(b,_){var x,C=_.type.defaultProps!==void 0?xe(xe({},_.type.defaultProps),_.props):_.props,j=C.type,A=C.dataKey,P=C.allowDataOverflow,S=C.allowDuplicatedCategory,E=C.scale,T=C.ticks,M=C.includeHidden,L=C[o];if(b[L])return b;var R=q0(e.data,{graphicalItems:i.filter(function(Q){var H,oe=o in Q.props?Q.props[o]:(H=Q.type.defaultProps)===null||H===void 0?void 0:H[o];return oe===L}),dataStartIndex:d,dataEndIndex:h}),D=R.length,V,F,Z;Wle(C.domain,P,j)&&(V=Qk(C.domain,null,P),w&&(j==="number"||E!=="auto")&&(Z=zd(R,A,"category")));var te=sF(j);if(!V||V.length===0){var J,ee=(J=C.domain)!==null&&J!==void 0?J:te;if(A){if(V=zd(R,A,j),j==="category"&&w){var K=XH(V);S&&K?(F=V,V=gg(0,D)):S||(V=RI(ee,V,_).reduce(function(Q,H){return Q.indexOf(H)>=0?Q:[].concat(vu(Q),[H])},[]))}else if(j==="category")S?V=V.filter(function(Q){return Q!==""&&!ot(Q)}):V=RI(ee,V,_).reduce(function(Q,H){return Q.indexOf(H)>=0||H===""||ot(H)?Q:[].concat(vu(Q),[H])},[]);else if(j==="number"){var Y=lte(R,i.filter(function(Q){var H,oe,X=o in Q.props?Q.props[o]:(H=Q.type.defaultProps)===null||H===void 0?void 0:H[o],ue="hide"in Q.props?Q.props.hide:(oe=Q.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return X===L&&(M||!ue)}),A,s,p);Y&&(V=Y)}w&&(j==="number"||E!=="auto")&&(Z=zd(R,A,"category"))}else w?V=gg(0,D):c&&c[L]&&c[L].hasStack&&j==="number"?V=g==="expand"?[0,1]:J$(c[L].stackGroups,d,h):V=H$(R,i.filter(function(Q){var H=o in Q.props?Q.props[o]:Q.type.defaultProps[o],oe="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return H===L&&(M||!oe)}),j,p,!0);if(j==="number")V=Oj(m,V,L,s,T),ee&&(V=Qk(ee,V,P));else if(j==="category"&&ee){var re=ee,W=V.every(function(Q){return re.indexOf(Q)>=0});W&&(V=re)}}return xe(xe({},b),{},Ye({},L,xe(xe({},C),{},{axisType:s,domain:V,categoricalDomain:Z,duplicateDomain:F,originalDomain:(x=C.domain)!==null&&x!==void 0?x:te,isCategorical:w,layout:p})))},{})},bce=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,g=q0(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),w=g.length,b=G$(p,s),_=-1;return n.reduce(function(x,C){var j=C.type.defaultProps!==void 0?xe(xe({},C.type.defaultProps),C.props):C.props,A=j[o],P=sF("number");if(!x[A]){_++;var S;return b?S=gg(0,w):c&&c[A]&&c[A].hasStack?(S=J$(c[A].stackGroups,d,h),S=Oj(m,S,A,s)):(S=Qk(P,H$(g,n.filter(function(E){var T,M,L=o in E.props?E.props[o]:(T=E.type.defaultProps)===null||T===void 0?void 0:T[o],R="hide"in E.props?E.props.hide:(M=E.type.defaultProps)===null||M===void 0?void 0:M.hide;return L===A&&!R}),"number",p),i.defaultProps.allowDataOverflow),S=Oj(m,S,A,s)),xe(xe({},x),{},Ye({},A,xe(xe({axisType:s},i.defaultProps),{},{hide:!0,orientation:hi(mce,"".concat(s,".").concat(_%2),null),domain:S,originalDomain:P,isCategorical:b,layout:p})))}return x},{})},wce=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),g=Di(p,s),w={};return g&&g.length?w=xce(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):o&&o.length&&(w=bce(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),w},_ce=function(e){var r=no(e),n=sa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ig(r,n)}},MR=function(e){var r=e.children,n=e.defaultShowTooltip,i=ai(r,lu),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},kce=function(e){return!e||!e.length?!1:e.some(function(r){var n=oa(r&&r.type);return n&&n.indexOf("Bar")>=0})},RR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jce=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,p=n.height,m=n.children,g=n.margin||{},w=ai(m,lu),b=ai(m,ho),_=Object.keys(d).reduce(function(S,E){var T=d[E],M=T.orientation;return!T.mirror&&!T.hide?xe(xe({},S),{},Ye({},M,S[M]+T.width)):S},{left:g.left||0,right:g.right||0}),x=Object.keys(o).reduce(function(S,E){var T=o[E],M=T.orientation;return!T.mirror&&!T.hide?xe(xe({},S),{},Ye({},M,hi(S,"".concat(M))+T.height)):S},{top:g.top||0,bottom:g.bottom||0}),C=xe(xe({},x),_),j=C.bottom;w&&(C.bottom+=w.props.height||lu.defaultProps.height),b&&r&&(C=ate(C,i,n,r));var A=h-C.left-C.right,P=p-C.top-C.bottom;return xe(xe({brushBottom:j},C),{},{width:Math.max(A,0),height:Math.max(P,0)})},Sce=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},aF=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,g=function(C,j){var A=j.graphicalItems,P=j.stackGroups,S=j.offset,E=j.updateId,T=j.dataStartIndex,M=j.dataEndIndex,L=C.barSize,R=C.layout,D=C.barGap,V=C.barCategoryGap,F=C.maxBarSize,Z=RR(R),te=Z.numericAxisName,J=Z.cateAxisName,ee=kce(A),K=[];return A.forEach(function(Y,re){var W=q0(C.data,{graphicalItems:[Y],dataStartIndex:T,dataEndIndex:M}),Q=Y.type.defaultProps!==void 0?xe(xe({},Y.type.defaultProps),Y.props):Y.props,H=Q.dataKey,oe=Q.maxBarSize,X=Q["".concat(te,"Id")],ue=Q["".concat(J,"Id")],le={},pe=d.reduce(function(kt,vr){var yr=j["".concat(vr.axisType,"Map")],rr=Q["".concat(vr.axisType,"Id")];yr&&yr[rr]||vr.axisType==="zAxis"||Sl();var sn=yr[rr];return xe(xe({},kt),{},Ye(Ye({},vr.axisType,sn),"".concat(vr.axisType,"Ticks"),sa(sn)))},le),z=pe[J],ae=pe["".concat(J,"Ticks")],me=P&&P[X]&&P[X].hasStack&&vte(Y,P[X].stackGroups),q=oa(Y.type).indexOf("Bar")>=0,fe=ig(z,ae),_e=[],Ee=ee&&ite({barSize:L,stackGroups:P,totalSize:Sce(pe,J)});if(q){var qe,Mt,or=ot(oe)?F:oe,gr=(qe=(Mt=ig(z,ae,!0))!==null&&Mt!==void 0?Mt:or)!==null&&qe!==void 0?qe:0;_e=ste({barGap:D,barCategoryGap:V,bandSize:gr!==fe?gr:fe,sizeList:Ee[ue],maxBarSize:or}),gr!==fe&&(_e=_e.map(function(kt){return xe(xe({},kt),{},{position:xe(xe({},kt.position),{},{offset:kt.position.offset-gr/2})})}))}var Pt=Y&&Y.type&&Y.type.getComposedData;Pt&&K.push({props:xe(xe({},Pt(xe(xe({},pe),{},{displayedData:W,props:C,dataKey:H,item:Y,bandSize:fe,barPosition:_e,offset:S,stackedData:me,layout:R,dataStartIndex:T,dataEndIndex:M}))),{},Ye(Ye(Ye({key:Y.key||"item-".concat(re)},te,pe[te]),J,pe[J]),"animationId",E)),childIndex:cG(Y,C.children),item:Y})}),K},w=function(C,j){var A=C.props,P=C.dataStartIndex,S=C.dataEndIndex,E=C.updateId;if(!QA({props:A}))return null;var T=A.children,M=A.layout,L=A.stackOffset,R=A.data,D=A.reverseStackOrder,V=RR(M),F=V.numericAxisName,Z=V.cateAxisName,te=Di(T,n),J=mte(R,te,"".concat(F,"Id"),"".concat(Z,"Id"),L,D),ee=d.reduce(function(Q,H){var oe="".concat(H.axisType,"Map");return xe(xe({},Q),{},Ye({},oe,wce(A,xe(xe({},H),{},{graphicalItems:te,stackGroups:H.axisType===F&&J,dataStartIndex:P,dataEndIndex:S}))))},{}),K=jce(xe(xe({},ee),{},{props:A,graphicalItems:te}),j?.legendBBox);Object.keys(ee).forEach(function(Q){ee[Q]=p(A,ee[Q],K,Q.replace("Map",""),r)});var Y=ee["".concat(Z,"Map")],re=_ce(Y),W=g(A,xe(xe({},ee),{},{dataStartIndex:P,dataEndIndex:S,updateId:E,graphicalItems:te,stackGroups:J,offset:K}));return xe(xe({formattedGraphicalItems:W,graphicalItems:te,offset:K,stackGroups:J},re),ee)},b=function(x){function C(j){var A,P,S;return ice(this,C),S=oce(this,C,[j]),Ye(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ye(S,"accessibilityManager",new qle),Ye(S,"handleLegendBBoxUpdate",function(E){if(E){var T=S.state,M=T.dataStartIndex,L=T.dataEndIndex,R=T.updateId;S.setState(xe({legendBBox:E},w({props:S.props,dataStartIndex:M,dataEndIndex:L,updateId:R},xe(xe({},S.state),{},{legendBBox:E}))))}}),Ye(S,"handleReceiveSyncEvent",function(E,T,M){if(S.props.syncId===E){if(M===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),Ye(S,"handleBrushChange",function(E){var T=E.startIndex,M=E.endIndex;if(T!==S.state.dataStartIndex||M!==S.state.dataEndIndex){var L=S.state.updateId;S.setState(function(){return xe({dataStartIndex:T,dataEndIndex:M},w({props:S.props,dataStartIndex:T,dataEndIndex:M,updateId:L},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:M})}}),Ye(S,"handleMouseEnter",function(E){var T=S.getMouseInfo(E);if(T){var M=xe(xe({},T),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var L=S.props.onMouseEnter;Ze(L)&&L(M,E)}}),Ye(S,"triggeredAfterMouseMove",function(E){var T=S.getMouseInfo(E),M=T?xe(xe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var L=S.props.onMouseMove;Ze(L)&&L(M,E)}),Ye(S,"handleItemMouseEnter",function(E){S.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ye(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ye(S,"handleMouseMove",function(E){E.persist(),S.throttleTriggeredAfterMouseMove(E)}),Ye(S,"handleMouseLeave",function(E){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var M=S.props.onMouseLeave;Ze(M)&&M(T,E)}),Ye(S,"handleOuterEvent",function(E){var T=lG(E),M=hi(S.props,"".concat(T));if(T&&Ze(M)){var L,R;/.*touch.*/i.test(T)?R=S.getMouseInfo(E.changedTouches[0]):R=S.getMouseInfo(E),M((L=R)!==null&&L!==void 0?L:{},E)}}),Ye(S,"handleClick",function(E){var T=S.getMouseInfo(E);if(T){var M=xe(xe({},T),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var L=S.props.onClick;Ze(L)&&L(M,E)}}),Ye(S,"handleMouseDown",function(E){var T=S.props.onMouseDown;if(Ze(T)){var M=S.getMouseInfo(E);T(M,E)}}),Ye(S,"handleMouseUp",function(E){var T=S.props.onMouseUp;if(Ze(T)){var M=S.getMouseInfo(E);T(M,E)}}),Ye(S,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ye(S,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseDown(E.changedTouches[0])}),Ye(S,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&S.handleMouseUp(E.changedTouches[0])}),Ye(S,"handleDoubleClick",function(E){var T=S.props.onDoubleClick;if(Ze(T)){var M=S.getMouseInfo(E);T(M,E)}}),Ye(S,"handleContextMenu",function(E){var T=S.props.onContextMenu;if(Ze(T)){var M=S.getMouseInfo(E);T(M,E)}}),Ye(S,"triggerSyncEvent",function(E){S.props.syncId!==void 0&&M_.emit(R_,S.props.syncId,E,S.eventEmitterSymbol)}),Ye(S,"applySyncEvent",function(E){var T=S.props,M=T.layout,L=T.syncMethod,R=S.state.updateId,D=E.dataStartIndex,V=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)S.setState(xe({dataStartIndex:D,dataEndIndex:V},w({props:S.props,dataStartIndex:D,dataEndIndex:V,updateId:R},S.state)));else if(E.activeTooltipIndex!==void 0){var F=E.chartX,Z=E.chartY,te=E.activeTooltipIndex,J=S.state,ee=J.offset,K=J.tooltipTicks;if(!ee)return;if(typeof L=="function")te=L(K,E);else if(L==="value"){te=-1;for(var Y=0;Y<K.length;Y++)if(K[Y].value===E.activeLabel){te=Y;break}}var re=xe(xe({},ee),{},{x:ee.left,y:ee.top}),W=Math.min(F,re.x+re.width),Q=Math.min(Z,re.y+re.height),H=K[te]&&K[te].value,oe=Rj(S.state,S.props.data,te),X=K[te]?{x:M==="horizontal"?K[te].coordinate:W,y:M==="horizontal"?Q:K[te].coordinate}:iF;S.setState(xe(xe({},E),{},{activeLabel:H,activeCoordinate:X,activePayload:oe,activeTooltipIndex:te}))}else S.setState(E)}),Ye(S,"renderCursor",function(E){var T,M=S.state,L=M.isTooltipActive,R=M.activeCoordinate,D=M.activePayload,V=M.offset,F=M.activeTooltipIndex,Z=M.tooltipAxisBandSize,te=S.getTooltipEventType(),J=(T=E.props.active)!==null&&T!==void 0?T:L,ee=S.props.layout,K=E.key||"_recharts-cursor";return ne.createElement(Xle,{key:K,activeCoordinate:R,activePayload:D,activeTooltipIndex:F,chartName:r,element:E,isActive:J,layout:ee,offset:V,tooltipAxisBandSize:Z,tooltipEventType:te})}),Ye(S,"renderPolarAxis",function(E,T,M){var L=hi(E,"type.axisType"),R=hi(S.state,"".concat(L,"Map")),D=E.type.defaultProps,V=D!==void 0?xe(xe({},D),E.props):E.props,F=R&&R[V["".concat(L,"Id")]];return k.cloneElement(E,xe(xe({},F),{},{className:it(L,F.className),key:E.key||"".concat(T,"-").concat(M),ticks:sa(F,!0)}))}),Ye(S,"renderPolarGrid",function(E){var T=E.props,M=T.radialLines,L=T.polarAngles,R=T.polarRadius,D=S.state,V=D.radiusAxisMap,F=D.angleAxisMap,Z=no(V),te=no(F),J=te.cx,ee=te.cy,K=te.innerRadius,Y=te.outerRadius;return k.cloneElement(E,{polarAngles:Array.isArray(L)?L:sa(te,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(R)?R:sa(Z,!0).map(function(re){return re.coordinate}),cx:J,cy:ee,innerRadius:K,outerRadius:Y,key:E.key||"polar-grid",radialLines:M})}),Ye(S,"renderLegend",function(){var E=S.state.formattedGraphicalItems,T=S.props,M=T.children,L=T.width,R=T.height,D=S.props.margin||{},V=L-(D.left||0)-(D.right||0),F=q$({children:M,formattedGraphicalItems:E,legendWidth:V,legendContent:h});if(!F)return null;var Z=F.item,te=PR(F,Jle);return k.cloneElement(Z,xe(xe({},te),{},{chartWidth:L,chartHeight:R,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ye(S,"renderTooltip",function(){var E,T=S.props,M=T.children,L=T.accessibilityLayer,R=ai(M,Mi);if(!R)return null;var D=S.state,V=D.isTooltipActive,F=D.activeCoordinate,Z=D.activePayload,te=D.activeLabel,J=D.offset,ee=(E=R.props.active)!==null&&E!==void 0?E:V;return k.cloneElement(R,{viewBox:xe(xe({},J),{},{x:J.left,y:J.top}),active:ee,label:te,payload:ee?Z:[],coordinate:F,accessibilityLayer:L})}),Ye(S,"renderBrush",function(E){var T=S.props,M=T.margin,L=T.data,R=S.state,D=R.offset,V=R.dataStartIndex,F=R.dataEndIndex,Z=R.updateId;return k.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Kp(S.handleBrushChange,E.props.onChange),data:L,x:Ae(E.props.x)?E.props.x:D.left,y:Ae(E.props.y)?E.props.y:D.top+D.height+D.brushBottom-(M.bottom||0),width:Ae(E.props.width)?E.props.width:D.width,startIndex:V,endIndex:F,updateId:"brush-".concat(Z)})}),Ye(S,"renderReferenceElement",function(E,T,M){if(!E)return null;var L=S,R=L.clipPathId,D=S.state,V=D.xAxisMap,F=D.yAxisMap,Z=D.offset,te=E.type.defaultProps||{},J=E.props,ee=J.xAxisId,K=ee===void 0?te.xAxisId:ee,Y=J.yAxisId,re=Y===void 0?te.yAxisId:Y;return k.cloneElement(E,{key:E.key||"".concat(T,"-").concat(M),xAxis:V[K],yAxis:F[re],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:R})}),Ye(S,"renderActivePoints",function(E){var T=E.item,M=E.activePoint,L=E.basePoint,R=E.childIndex,D=E.isRange,V=[],F=T.props.key,Z=T.item.type.defaultProps!==void 0?xe(xe({},T.item.type.defaultProps),T.item.props):T.item.props,te=Z.activeDot,J=Z.dataKey,ee=xe(xe({index:R,dataKey:J,cx:M.x,cy:M.y,r:4,fill:IS(T.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Xe(te,!1)),Mm(te));return V.push(C.renderActiveDot(te,ee,"".concat(F,"-activePoint-").concat(R))),L?V.push(C.renderActiveDot(te,xe(xe({},ee),{},{cx:L.x,cy:L.y}),"".concat(F,"-basePoint-").concat(R))):D&&V.push(null),V}),Ye(S,"renderGraphicChild",function(E,T,M){var L=S.filterFormatItem(E,T,M);if(!L)return null;var R=S.getTooltipEventType(),D=S.state,V=D.isTooltipActive,F=D.tooltipAxis,Z=D.activeTooltipIndex,te=D.activeLabel,J=S.props.children,ee=ai(J,Mi),K=L.props,Y=K.points,re=K.isRange,W=K.baseLine,Q=L.item.type.defaultProps!==void 0?xe(xe({},L.item.type.defaultProps),L.item.props):L.item.props,H=Q.activeDot,oe=Q.hide,X=Q.activeBar,ue=Q.activeShape,le=!!(!oe&&V&&ee&&(H||X||ue)),pe={};R!=="axis"&&ee&&ee.props.trigger==="click"?pe={onClick:Kp(S.handleItemMouseEnter,E.props.onClick)}:R!=="axis"&&(pe={onMouseLeave:Kp(S.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Kp(S.handleItemMouseEnter,E.props.onMouseEnter)});var z=k.cloneElement(E,xe(xe({},L.props),pe));function ae(vr){return typeof F.dataKey=="function"?F.dataKey(vr.payload):null}if(le)if(Z>=0){var me,q;if(F.dataKey&&!F.allowDuplicatedCategory){var fe=typeof F.dataKey=="function"?ae:"payload.".concat(F.dataKey.toString());me=gk(Y,fe,te),q=re&&W&&gk(W,fe,te)}else me=Y?.[Z],q=re&&W&&W[Z];if(ue||X){var _e=E.props.activeIndex!==void 0?E.props.activeIndex:Z;return[k.cloneElement(E,xe(xe(xe({},L.props),pe),{},{activeIndex:_e})),null,null]}if(!ot(me))return[z].concat(vu(S.renderActivePoints({item:L,activePoint:me,basePoint:q,childIndex:Z,isRange:re})))}else{var Ee,qe=(Ee=S.getItemByXY(S.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:z},Mt=qe.graphicalItem,or=Mt.item,gr=or===void 0?E:or,Pt=Mt.childIndex,kt=xe(xe(xe({},L.props),pe),{},{activeIndex:Pt});return[k.cloneElement(gr,kt),null,null]}return re?[z,null,null]:[z,null]}),Ye(S,"renderCustomized",function(E,T,M){return k.cloneElement(E,xe(xe({key:"recharts-customized-".concat(M)},S.props),S.state))}),Ye(S,"renderMap",{CartesianGrid:{handler:Zp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Zp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Zp},YAxis:{handler:Zp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((A=j.id)!==null&&A!==void 0?A:hf("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=z6(S.triggeredAfterMouseMove,(P=j.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return uce(C,x),ace(C,[{key:"componentDidMount",value:function(){var A,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,P=A.children,S=A.data,E=A.height,T=A.layout,M=ai(P,Mi);if(M){var L=M.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=Rj(this.state,S,L,R),V=this.state.tooltipTicks[L].coordinate,F=(this.state.offset.top+E)/2,Z=T==="horizontal",te=Z?{x:V,y:F}:{y:V,x:F},J=this.state.formattedGraphicalItems.find(function(K){var Y=K.item;return Y.type.name==="Scatter"});J&&(te=xe(xe({},te),J.props.points[L].tooltipPosition),D=J.props.points[L].tooltipPayload);var ee={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:te};this.setState(ee),this.renderCursor(M),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var S,E;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(A){yk([ai(A.children,Mi)],[ai(this.props.children,Mi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=ai(this.props.children,Mi);if(A&&typeof A.props.shared=="boolean"){var P=A.props.shared?"axis":"item";return c.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),E=YQ(S),T={chartX:Math.round(A.pageX-E.left),chartY:Math.round(A.pageY-E.top)},M=S.width/P.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,M);if(!L)return null;var R=this.state,D=R.xAxisMap,V=R.yAxisMap,F=this.getTooltipEventType(),Z=IR(this.state,this.props.data,this.props.layout,L);if(F!=="axis"&&D&&V){var te=no(D).scale,J=no(V).scale,ee=te&&te.invert?te.invert(T.chartX):null,K=J&&J.invert?J.invert(T.chartY):null;return xe(xe({},T),{},{xValue:ee,yValue:K},Z)}return Z?xe(xe({},T),Z):null}},{key:"inRange",value:function(A,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,T=A/S,M=P/S;if(E==="horizontal"||E==="vertical"){var L=this.state.offset,R=T>=L.left&&T<=L.left+L.width&&M>=L.top&&M<=L.top+L.height;return R?{x:T,y:M}:null}var D=this.state,V=D.angleAxisMap,F=D.radiusAxisMap;if(V&&F){var Z=no(V);return $I({x:T,y:M},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,P=this.getTooltipEventType(),S=ai(A,Mi),E={};S&&P==="axis"&&(S.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Mm(this.props,this.handleOuterEvent);return xe(xe({},T),E)}},{key:"addListener",value:function(){M_.on(R_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){M_.removeListener(R_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,P,S){for(var E=this.state.formattedGraphicalItems,T=0,M=E.length;T<M;T++){var L=E[T];if(L.item===A||L.props.key===A.key||P===oa(L.item.type)&&S===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,P=this.state.offset,S=P.left,E=P.top,T=P.height,M=P.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:A},ne.createElement("rect",{x:S,y:E,height:T,width:M})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(P,S){var E=AR(S,2),T=E[0],M=E[1];return xe(xe({},P),{},Ye({},T,M.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(P,S){var E=AR(S,2),T=E[0],M=E[1];return xe(xe({},P),{},Ye({},T,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(A){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[A])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(A){var P=this.state,S=P.formattedGraphicalItems,E=P.activeItem;if(S&&S.length)for(var T=0,M=S.length;T<M;T++){var L=S[T],R=L.props,D=L.item,V=D.type.defaultProps!==void 0?xe(xe({},D.type.defaultProps),D.props):D.props,F=oa(D.type);if(F==="Bar"){var Z=(R.data||[]).find(function(K){return hie(A,K)});if(Z)return{graphicalItem:L,payload:Z}}else if(F==="RadialBar"){var te=(R.data||[]).find(function(K){return $I(A,K)});if(te)return{graphicalItem:L,payload:te}}else if(D0(L,E)||$0(L,E)||Rh(L,E)){var J=Rse({graphicalItem:L,activeTooltipItem:E,itemData:V.data}),ee=V.activeIndex===void 0?J:V.activeIndex;return{graphicalItem:xe(xe({},L),{},{childIndex:ee}),payload:Rh(L,E)?V.data[J]:L.props.data[J]}}}return null}},{key:"render",value:function(){var A=this;if(!QA(this))return null;var P=this.props,S=P.children,E=P.className,T=P.width,M=P.height,L=P.style,R=P.compact,D=P.title,V=P.desc,F=PR(P,Zle),Z=Xe(F,!1);if(R)return ne.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(bk,Cc({},Z,{width:T,height:M,title:D,desc:V}),this.renderClipPath(),JA(S,this.renderMap)));if(this.props.accessibilityLayer){var te,J;Z.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,Z.role=(J=this.props.role)!==null&&J!==void 0?J:"application",Z.onKeyDown=function(K){A.accessibilityManager.keyboardEvent(K)},Z.onFocus=function(){A.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return ne.createElement(pR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Cc({className:it("recharts-wrapper",E),style:xe({position:"relative",cursor:"default",width:T,height:M},L)},ee,{ref:function(Y){A.container=Y}}),ne.createElement(bk,Cc({},Z,{width:T,height:M,title:D,desc:V,style:gce}),this.renderClipPath(),JA(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ye(b,"displayName",r),Ye(b,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ye(b,"getDerivedStateFromProps",function(x,C){var j=x.dataKey,A=x.data,P=x.children,S=x.width,E=x.height,T=x.layout,M=x.stackOffset,L=x.margin,R=C.dataStartIndex,D=C.dataEndIndex;if(C.updateId===void 0){var V=MR(x);return xe(xe(xe({},V),{},{updateId:0},w(xe(xe({props:x},V),{},{updateId:0}),C)),{},{prevDataKey:j,prevData:A,prevWidth:S,prevHeight:E,prevLayout:T,prevStackOffset:M,prevMargin:L,prevChildren:P})}if(j!==C.prevDataKey||A!==C.prevData||S!==C.prevWidth||E!==C.prevHeight||T!==C.prevLayout||M!==C.prevStackOffset||!Rc(L,C.prevMargin)){var F=MR(x),Z={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},te=xe(xe({},IR(C,A,T)),{},{updateId:C.updateId+1}),J=xe(xe(xe({},F),Z),te);return xe(xe(xe({},J),w(xe({props:x},J),C)),{},{prevDataKey:j,prevData:A,prevWidth:S,prevHeight:E,prevLayout:T,prevStackOffset:M,prevMargin:L,prevChildren:P})}if(!yk(P,C.prevChildren)){var ee,K,Y,re,W=ai(P,lu),Q=W&&(ee=(K=W.props)===null||K===void 0?void 0:K.startIndex)!==null&&ee!==void 0?ee:R,H=W&&(Y=(re=W.props)===null||re===void 0?void 0:re.endIndex)!==null&&Y!==void 0?Y:D,oe=Q!==R||H!==D,X=!ot(A),ue=X&&!oe?C.updateId:C.updateId+1;return xe(xe({updateId:ue},w(xe(xe({props:x},C),{},{updateId:ue,dataStartIndex:Q,dataEndIndex:H}),C)),{},{prevChildren:P,dataStartIndex:Q,dataEndIndex:H})}return null}),Ye(b,"renderActiveDot",function(x,C,j){var A;return k.isValidElement(x)?A=k.cloneElement(x,C):Ze(x)?A=x(C):A=ne.createElement(LS,C),ne.createElement(Tt,{className:"recharts-active-dot",key:j},A)});var _=k.forwardRef(function(C,j){return ne.createElement(b,Cc({},C,{ref:j}))});return _.displayName=b.displayName,_},oF=aF({chartName:"BarChart",GraphicalChild:Ps,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:yf},{axisType:"yAxis",AxisComp:xf}],formatAxisMap:$ae}),Nce=aF({chartName:"PieChart",GraphicalChild:wa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:L0},{axisType:"radiusAxis",AxisComp:M0}],formatAxisMap:Ete,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ece={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Cce=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:s})=>{const[o,c]=k.useState(20),[d,h]=k.useState("single-member-llc"),[p,m]=k.useState("quarterly"),[g,w]=k.useState(!1);k.useEffect(()=>{c(Ece[d])},[d]);const b=k.useMemo(()=>{const A=new Date;let P,S;switch(p){case"weekly":P=new Date(A.setDate(A.getDate()-A.getDay())),S=new Date(A.setDate(A.getDate()-A.getDay()+6));break;case"monthly":P=new Date(A.getFullYear(),A.getMonth(),1),S=new Date(A.getFullYear(),A.getMonth()+1,0);break;case"quarterly":const E=Math.floor(A.getMonth()/3);P=new Date(A.getFullYear(),E*3,1),S=new Date(A.getFullYear(),E*3+3,0);break;case"yearly":P=new Date(A.getFullYear(),0,1),S=new Date(A.getFullYear(),11,31);break;default:P=new Date,S=new Date}return{start:P,end:S}},[p]),_=k.useMemo(()=>{const A=t.filter(V=>{if(!V.date)return!1;const F=new Date(V.date);return F>=b.start&&F<=b.end}),P=e.reduce((V,F)=>V+F.amount,0)+r.reduce((V,F)=>V+F.amount,0)*4.33,S=(b.end-b.start)/(1e3*60*60*24*30.44),E=P*S,T=A.reduce((V,F)=>V+(F.revenue||0),0),M=A.reduce((V,F)=>V+(F.materialCost||0)+(F.laborCost||0),0),L=T-M,R=L-E,D=R>0?R*(o/100):0;return{netProfit:R,estimatedTax:D,grossProfit:L,periodOperatingExpenses:E}},[t,e,r,o,b]),x=k.useMemo(()=>n.filter(A=>{const P=new Date(A.date);return P>=b.start&&P<=b.end}).reduce((A,P)=>A+(P.amount||0),0),[n,b]),C=_.estimatedTax-x,j=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":x}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),a.jsxs("select",{id:"filingStatus",value:d,onChange:A=>h(A.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[a.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),a.jsx("option",{value:"s-corp",children:"S-Corporation"}),a.jsx("option",{value:"c-corp",children:"C-Corporation"}),a.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),a.jsx("input",{id:"taxRate",type:"number",value:o,onChange:A=>c(parseFloat(A.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),a.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[a.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),a.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),a.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[a.jsx(vs,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx(tn,{}),color:"blue"}),a.jsx(vs,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx(tn,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),a.jsx(vs,{title:"Overpayment / (Underpayment)",value:`${C<0?"-":""}$${Math.abs(C).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx(tn,{}),color:C<0?"green":"red",subtext:C<0?"You have overpaid":"Remaining balance due"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{onClick:()=>w(!g),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",a.jsx(ih,{className:`transition-transform ${g?"rotate-180":""}`,size:16})]}),g&&a.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Gross Profit (from Jobs):"})," ",a.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"- Est. Operating Expenses:"})," ",a.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),a.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),a.jsxs("div",{className:"flex justify-between font-bold",children:[a.jsx("span",{children:"= Estimated Net Profit:"})," ",a.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["x Tax Rate (",o,"%):"]})," ",a.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[a.jsx(F3,{size:20}),a.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),a.jsx(lS,{width:"100%",height:200,children:a.jsxs(oF,{data:j,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[a.jsx(HS,{strokeDasharray:"3 3"}),a.jsx(yf,{type:"number"}),a.jsx(xf,{type:"category",dataKey:"name",hide:!0}),a.jsx(Mi,{formatter:A=>`$${A.toLocaleString()}`}),a.jsx(ho,{}),a.jsx(Ps,{dataKey:"Estimated Tax",fill:"#f97316"}),a.jsx(Ps,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),a.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Record Payment"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Date"}),a.jsx("th",{className:"p-3",children:"Notes"}),a.jsx("th",{className:"p-3 text-right",children:"Amount"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:n.map(A=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[a.jsx("td",{className:"p-3 font-medium",children:A.date}),a.jsx("td",{className:"p-3",children:A.notes}),a.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(A.amount||0).toFixed(2)]}),a.jsxs("td",{className:"p-3 text-center",children:[a.jsx("button",{onClick:()=>i("taxPayment",A),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>s("taxPayment",A.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:a.jsx(dr,{size:16})})]})]},A.id))})]})})]})]})},Tce=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=k.useState(new Date),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=c.getDay(),p=d.getDate(),m=[];for(let _=0;_<h;_++)m.push(null);for(let _=1;_<=p;_++)m.push(new Date(n.getFullYear(),n.getMonth(),_));const g=k.useMemo(()=>{const _={};return t.forEach(x=>{const C=new Date(x.date).toISOString().split("T")[0];_[C]||(_[C]=[]),_[C].push({...x,type:"job"})}),e.forEach(x=>{const C=new Date(x.date).toISOString().split("T")[0];_[C]||(_[C]=[]),_[C].push({...x,type:"task"})}),_},[t,e]),w=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},b=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:a.jsx(D3,{})}),a.jsxs("h2",{className:"text-xl font-bold",children:[o[n.getMonth()]," ",n.getFullYear()]}),a.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:a.jsx($1,{})})]}),a.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[a.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add Task"]}),a.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add Job"]})]}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[s.map(_=>a.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:_},_)),m.map((_,x)=>a.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${_?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>_&&r("task",{date:_.toISOString().split("T")[0]}),children:[_&&a.jsx("span",{className:"text-xs font-semibold",children:_.getDate()}),_&&g[_.toISOString().split("T")[0]]?.map(C=>a.jsx("div",{onClick:j=>{j.stopPropagation(),r(C.type,C)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${C.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:C.name||C.title},C.id))]},x))]})]})},Ace=({item:t=null,type:e,onSave:r,onClose:n,debts:i=[],clients:s=[],vehicles:o=[]})=>{const[c,d]=k.useState({}),[h,p]=k.useState(null);k.useEffect(()=>{if(t)d(t);else{const x=m(e);d(x)}},[t,e]);const m=x=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[x]||{},g=x=>{const{name:C,value:j,type:A,checked:P}=x.target;d(S=>({...S,[C]:A==="checkbox"?P:j}))},w=x=>{if(x.preventDefault(),!c.name&&!c.title&&!c.billTo&&!c.customer){alert("Please fill in the required fields.");return}const C={...c};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(P=>{C[P]!==void 0&&C[P]!==""&&(C[P]=parseFloat(C[P])||0)}),e==="client"){if(C.isParent&&C.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}C.isParent?(C.companyType="parent",C.parentId=null):C.parentId?C.companyType="child":C.companyType="regular"}if(e==="invoice"){if(C.invoiceNumber||(C.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),C.transactionDate&&C.netTerms&&!C.dueDate){const P=new Date(C.transactionDate);let S=30;C.netTerms.includes("45")?S=45:C.netTerms.includes("15")?S=15:C.netTerms.includes("Due on Receipt")&&(S=0);const E=new Date(P);E.setDate(E.getDate()+S),C.dueDate=E.toISOString().split("T")[0]}C.status=C.invoiceStatus==="Paid"?"Paid":"Unpaid",C.net=C.grandTotal,C.invNum=C.invoiceNumber,C.jobNo=C.jobNumber,!C.grandTotal&&C.net&&(C.grandTotal=C.net)}r(C,h)},b=s.filter(x=>(x.isParent||x.companyType==="parent")&&(!t||x.id!==t.id)),_=()=>{switch(e){case"bill":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),a.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:c.dueDay||1,onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),a.jsxs("select",{name:"category",value:c.category||"Utilities",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Utilities",children:"Utilities"}),a.jsx("option",{value:"Insurance",children:"Insurance"}),a.jsx("option",{value:"Vehicle",children:"Vehicle"}),a.jsx("option",{value:"Software",children:"Software"}),a.jsx("option",{value:"Overhead",children:"Overhead"}),a.jsx("option",{value:"Equipment",children:"Equipment"}),a.jsx("option",{value:"Marketing",children:"Marketing"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isAutoPay",checked:c.isAutoPay||!1,onChange:g,className:"mr-2"}),a.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:g,className:"mr-2"}),a.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),a.jsx("input",{type:"text",name:"creditor",value:c.creditor||"",onChange:g,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),a.jsxs("select",{name:"debtType",value:c.debtType||"Credit Card",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Credit Card",children:"Credit Card"}),a.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),a.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),a.jsx("option",{value:"Mortgage",children:"Mortgage"}),a.jsx("option",{value:"Student Loan",children:"Student Loan"}),a.jsx("option",{value:"Business Loan",children:"Business Loan"}),a.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),a.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:c.totalAmount||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),a.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:c.paidAmount||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),a.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:c.interestRate||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),a.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:c.minimumPayment||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),a.jsx("input",{type:"date",name:"dueDate",value:c.dueDate||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.totalAmount||c.paidAmount)&&a.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),a.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(c.totalAmount)||0)-(parseFloat(c.paidAmount)||0)).toFixed(2)]})]}),a.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(c.totalAmount>0?(parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100:0,100)}%`}})}),a.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[c.totalAmount>0?((parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),a.jsxs("select",{name:"type",value:c.type||"monthly",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"annually",children:"Annually"}),a.jsx("option",{value:"one-time",children:"One-time"}),a.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),a.jsxs("select",{name:"status",value:c.status||"active",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"paused",children:"Paused"})]})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:g,className:"mr-2"}),a.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),c.amount&&parseFloat(c.amount)>0&&c.type&&a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[c.type||"Monthly",":"]}),a.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),a.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const x=parseFloat(c.amount);switch(c.type){case"weekly":return(x*4.33).toFixed(2);case"quarterly":return(x/3).toFixed(2);case"annually":return(x/12).toFixed(2);case"monthly":default:return x.toFixed(2)}})()]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),a.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const x=parseFloat(c.amount);let C;switch(c.type){case"weekly":C=x*4.33;break;case"quarterly":C=x/3;break;case"annually":C=x/12;break;case"monthly":default:C=x;break}return(C*12).toLocaleString()})()]})]})]})]})]});case"weekly":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),a.jsxs("select",{name:"category",value:c.category||"Other",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Payroll",children:"Payroll"}),a.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),a.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),a.jsx("option",{value:"Utilities",children:"Utilities"}),a.jsx("option",{value:"Insurance",children:"Insurance"}),a.jsx("option",{value:"Marketing",children:"Marketing"}),a.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),a.jsx("option",{value:"Supplies",children:"Supplies"}),a.jsx("option",{value:"Contractors",children:"Contractors"}),a.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.amount&&parseFloat(c.amount)>0&&a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),a.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),a.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(c.amount)*4.33).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),a.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(c.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),a.jsxs("select",{name:"make",value:c.make||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Make"}),a.jsx("option",{value:"FORD",children:"Ford"}),a.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),a.jsx("option",{value:"GMC",children:"GMC"}),a.jsx("option",{value:"TOYOTA",children:"Toyota"}),a.jsx("option",{value:"HONDA",children:"Honda"}),a.jsx("option",{value:"NISSAN",children:"Nissan"}),a.jsx("option",{value:"RAM",children:"Ram"}),a.jsx("option",{value:"DODGE",children:"Dodge"}),a.jsx("option",{value:"JEEP",children:"Jeep"}),a.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),a.jsx("option",{value:"KIA",children:"Kia"}),a.jsx("option",{value:"MAZDA",children:"Mazda"}),a.jsx("option",{value:"SUBARU",children:"Subaru"}),a.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),a.jsx("option",{value:"AUDI",children:"Audi"}),a.jsx("option",{value:"LEXUS",children:"Lexus"}),a.jsx("option",{value:"ACURA",children:"Acura"}),a.jsx("option",{value:"INFINITI",children:"Infiniti"}),a.jsx("option",{value:"CADILLAC",children:"Cadillac"}),a.jsx("option",{value:"LINCOLN",children:"Lincoln"}),a.jsx("option",{value:"BUICK",children:"Buick"}),a.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),a.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),a.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:g,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),a.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:c.year||new Date().getFullYear(),onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),a.jsx("input",{type:"text",name:"color",value:c.color||"",onChange:g,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),a.jsxs("select",{name:"status",value:c.status||"active",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"maintenance",children:"In Maintenance"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"sold",children:"Sold"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),a.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:g,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),a.jsx("input",{type:"text",name:"licensePlate",value:c.licensePlate||"",onChange:g,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),a.jsx("input",{type:"number",min:"0",name:"currentMileage",value:c.currentMileage||"",onChange:g,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),a.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:c.lastServiceMileage||"",onChange:g,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),a.jsx("input",{type:"date",name:"registrationExpiry",value:c.registrationExpiry||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),a.jsx("input",{type:"date",name:"insuranceExpiry",value:c.insuranceExpiry||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),a.jsx("input",{type:"date",name:"nextServiceDue",value:c.nextServiceDue||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.name||c.make||c.model)&&a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" Vehicle Preview"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:c.name||"Unnamed Vehicle"}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c.year," ",c.make," ",c.model,c.color&&` (${c.color})`]}),c.licensePlate&&a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",c.licensePlate]}),c.currentMileage&&a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(c.currentMileage).toLocaleString()," miles"]}),a.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",a.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${c.status==="active"?"bg-green-100 text-green-800":c.status==="maintenance"?"bg-yellow-100 text-yellow-800":c.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status||"active"})]})]})]})]});case"client":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),a.jsx("textarea",{name:"address",value:c.address||"",onChange:g,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(dl,{size:16}),"Company Structure & Hierarchy"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:c.isParent||!1,onChange:g,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[a.jsx(rs,{size:14}),"This is a parent company"]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!c.isParent&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),a.jsxs("select",{name:"parentId",value:c.parentId||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"",children:"-- Independent Company --"}),b.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),b.length===0&&a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(F3,{size:12,className:"mt-0.5 flex-shrink-0"}),a.jsx("div",{children:c.isParent?a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Can have multiple child locations/subsidiaries"}),a.jsx("li",{children:" Appears in hierarchy view with all child companies"}),a.jsx("li",{children:" Useful for corporate clients with multiple locations"})]})]}):c.parentId?a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" This location will be grouped under the parent company"}),a.jsx("li",{children:" Jobs and invoices can be tracked separately"}),a.jsx("li",{children:" Parent company can see consolidated reports"})]})]}):a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:" Standalone client with no parent/child relationships"}),a.jsx("li",{children:" Can be converted to parent company later if needed"}),a.jsx("li",{children:" Most common setup for individual businesses"})]})]})})]})}),(c.isParent||c.parentId)&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[a.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),c.isParent?a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[a.jsx(dl,{size:12}),c.name||"New Parent Company"]}),a.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:" Child companies can be added later"})]}):c.parentId&&a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[a.jsx(dl,{size:12}),b.find(x=>x.id===c.parentId)?.name||"Parent Company"]}),a.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[a.jsx("span",{children:""}),a.jsx(rs,{size:10}),c.name||"New Child Location"]})]})]})]})]})]});case"job":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),a.jsx("input",{type:"number",step:"0.01",name:"revenue",value:c.revenue||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),a.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:c.materialCost||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),a.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:c.laborCost||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),a.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),a.jsxs("select",{name:"clientId",value:c.clientId||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"",children:"Select Client"}),s.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]})]})]})]});case"maintenanceLog":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),a.jsxs("select",{name:"vehicleId",value:c.vehicleId||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"",children:"Select Vehicle"}),o.map(x=>a.jsxs("option",{value:x.id,children:[x.name||"Unnamed"," - ",x.make," ",x.model]},x.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),a.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),a.jsxs("select",{name:"type",value:c.type||"Oil Change",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[a.jsx("option",{value:"Oil Change",children:"Oil Change"}),a.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),a.jsx("option",{value:"Brake Service",children:"Brake Service"}),a.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),a.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),a.jsx("option",{value:"Inspection",children:"Inspection"}),a.jsx("option",{value:"A/C Service",children:"A/C Service"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),a.jsx("input",{type:"number",step:"0.01",name:"cost",value:c.cost||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),a.jsx("input",{type:"number",name:"mileage",value:c.mileage||"",onChange:g,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),a.jsx("input",{type:"number",name:"nextServiceMileage",value:c.nextServiceMileage||"",onChange:g,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:" AppSheet Invoice Data"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),a.jsx("input",{type:"text",name:"invoiceNumber",value:c.invoiceNumber||"",onChange:g,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),a.jsx("input",{type:"text",name:"jobNumber",value:c.jobNumber||"",onChange:g,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),a.jsx("input",{type:"text",name:"customer",value:c.customer||"",onChange:g,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),a.jsx("input",{type:"text",name:"billTo",value:c.billTo||"",onChange:g,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),a.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:c.grandTotal||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),a.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:c.totalCost||"",onChange:g,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),a.jsxs("select",{name:"netTerms",value:c.netTerms||"Net 30",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Net 15",children:"Net 15"}),a.jsx("option",{value:"Net 30",children:"Net 30"}),a.jsx("option",{value:"Net 45",children:"Net 45"}),a.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),a.jsx("input",{type:"text",name:"serviceAddress",value:c.serviceAddress||"",onChange:g,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),a.jsx("textarea",{name:"description",value:c.description||"",onChange:g,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),a.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),a.jsx("input",{type:"date",name:"completedOn",value:c.completedOn||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),a.jsxs("select",{name:"invoiceStatus",value:c.invoiceStatus||"Open",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Overdue",children:"Overdue"}),a.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),a.jsxs("select",{name:"locationType",value:c.locationType||"Commercial",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Commercial",children:"Commercial"}),a.jsx("option",{value:"Residential",children:"Residential"}),a.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),a.jsxs("select",{name:"jobType",value:c.jobType||"Service Call",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Service Call",children:"Service Call"}),a.jsx("option",{value:"Installation",children:"Installation"}),a.jsx("option",{value:"Maintenance",children:"Maintenance"}),a.jsx("option",{value:"Repair",children:"Repair"}),a.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),c.grandTotal&&parseFloat(c.grandTotal)>0&&a.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:" Invoice Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),a.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(c.grandTotal||0).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),a.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(c.totalCost||0).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),a.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(c.grandTotal||0)-parseFloat(c.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),a.jsx("input",{type:"number",min:"0",name:"quantity",value:c.quantity||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),a.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:c.cost||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),a.jsx("input",{type:"text",name:"title",value:c.title||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),a.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"isComplete",checked:c.isComplete||!1,onChange:g,className:"mr-2"}),a.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),a.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),a.jsxs("select",{name:"type",value:c.type||"revenue",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"revenue",children:"Revenue"}),a.jsx("option",{value:"profit",children:"Profit"}),a.jsx("option",{value:"clients",children:"New Clients"}),a.jsx("option",{value:"jobs",children:"Completed Jobs"}),a.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),a.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:c.targetValue||"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),a.jsx("input",{type:"date",name:"deadline",value:c.deadline?c.deadline.split("T")[0]:"",onChange:g,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return a.jsxs("div",{children:["Form not implemented for type: ",e]})}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),a.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:a.jsx(Is,{size:24})})]})}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[a.jsxs("div",{className:"space-y-4",children:[_(),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),a.jsx("textarea",{name:"notes",value:c.notes||"",onChange:g,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:x=>p(x.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),a.jsxs("button",{onClick:w,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},Pce=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:s,selectedIds:o,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,g]=k.useState("All"),[w,b]=k.useState("All"),[_,x]=k.useState(!1),C=[{key:"status",header:"Status",render:R=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>p(R.id,R.status),children:R.status==="Paid"?a.jsx(ts,{className:"text-green-500",size:20}):a.jsx($3,{className:"text-slate-400 dark:text-slate-600",size:20})}),a.jsx(j,{status:R.invoiceStatus||R.status})]})},{key:"invoiceNumber",header:"Invoice #",render:R=>a.jsxs("div",{className:R.status==="Paid"?"opacity-60":"",children:[a.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:R.invoiceNumber||`INV-${R.id}`}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",R.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:R=>a.jsxs("div",{className:R.status==="Paid"?"opacity-60":"",children:[a.jsx("div",{className:`font-medium ${R.status==="Paid"?"line-through":""}`,children:R.customer}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.billTo&&R.billTo!==R.customer?`Bill to: ${R.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:R=>a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(A,{jobType:R.jobType}),a.jsx(P,{priority:R.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:R=>a.jsxs("div",{className:`text-right ${R.status==="Paid"?"opacity-60":""}`,children:[a.jsxs("div",{className:`font-mono font-bold ${R.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(R.grandTotal?.toString().replace(/[$,]/g,"")||R.grandTotal||0).toFixed(2)]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:R=>a.jsxs("div",{className:`text-center ${R.status==="Paid"?"opacity-60":""}`,children:[a.jsx("div",{className:R.status==="Paid"?"line-through":"",children:R.dueDate||"N/A"}),R.daysElapsed>0&&R.status!=="Paid"&&a.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[R.daysElapsed," days elapsed"]}),S(R)&&a.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:R=>a.jsxs("div",{className:`max-w-xs ${R.status==="Paid"?"opacity-60":""}`,children:[a.jsx("div",{className:"text-sm truncate",title:R.description,children:R.description||"No description"}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.serviceAddress&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(a0,{size:10}),a.jsx("span",{className:"truncate",children:R.serviceAddress})]})})]})}],j=({status:R})=>{const D=V=>{switch(V){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(R)}`,children:R||"Unknown"})},A=({jobType:R})=>{const D=V=>{switch(V){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(R)}`,children:R||"N/A"})},P=({priority:R})=>{if(!R)return null;const D=V=>{switch(V){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return a.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(R)}`,children:R})},S=R=>R.status==="Paid"||!R.dueDate?!1:new Date(R.dueDate)<new Date,E=k.useMemo(()=>{const R=t.reduce((J,ee)=>{const K=parseFloat(ee.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+K},0),D=t.filter(J=>J.status==="Paid"||J.invoiceStatus==="Paid"),V=D.reduce((J,ee)=>{const K=parseFloat(ee.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+K},0),Z=t.filter(J=>J.status!=="Paid"&&J.invoiceStatus!=="Paid").reduce((J,ee)=>{const K=parseFloat(ee.grandTotal?.toString().replace(/[$,]/g,"")||0);return J+K},0),te=t.filter(J=>S(J));return{totalInvoices:t.length,totalAmount:R,paidAmount:V,outstandingAmount:Z,overdueCount:te.length,paidCount:D.length}},[t]),T=k.useMemo(()=>t.filter(R=>{const D=!i||String(R.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(R.customer||"").toLowerCase().includes(i.toLowerCase())||String(R.vehicleId||"").toLowerCase().includes(i.toLowerCase()),V=m==="all"||R.status===m,F=w==="all"||R.priority===w;return D&&V&&F}),[t,i,m,w]),M=R=>{R.target.checked?c(T.map(D=>D.id)):c([])},L=()=>{const R=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=T.map(J=>[J.invoiceNumber||`INV-${J.id}`,J.jobNumber||"",J.customer||"",J.billTo||"",J.grandTotal||"",J.totalCost||"",J.netTerms||"",J.transactionDate||"",J.dueDate||"",J.paymentDate||"",J.completedOn||"",J.invoiceStatus||J.status||"",J.terms||"",J.priority||"",J.description||"",J.serviceAddress||"",J.locationType||"",J.jobType||"",J.lineItems||"",J.payments||"",J.daysElapsed||0,J.company||"Mechanical Temp",J.division||"HVAC & Refrigeration"]),V=[R,...D].map(J=>J.map(ee=>`"${ee}"`).join(",")).join(`
`),F=new Blob([V],{type:"text/csv"}),Z=URL.createObjectURL(F),te=document.createElement("a");te.href=Z,te.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,te.click(),URL.revokeObjectURL(Z)};return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Im,{className:"text-blue-600 dark:text-blue-400",size:20}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),a.jsxs("button",{onClick:()=>x(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[a.jsx(Im,{size:16}),"Sync Now"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx(rn,{className:"text-slate-500",size:16}),a.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:E.totalInvoices}),a.jsxs("div",{className:"text-sm text-slate-500",children:["$",E.totalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx(ts,{className:"text-green-500",size:16}),a.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),a.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.paidCount}),a.jsxs("div",{className:"text-sm text-green-600",children:["$",E.paidAmount.toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx(s0,{className:"text-orange-500",size:16}),a.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-E.paidCount}),a.jsxs("div",{className:"text-sm text-orange-600",children:["$",E.outstandingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx(cf,{className:"text-red-500",size:16}),a.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),a.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.overdueCount}),a.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:R=>s(R.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),a.jsxs("select",{value:m,onChange:R=>g(R.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[a.jsx("option",{value:"All",children:"All Status"}),a.jsx("option",{value:"Paid",children:"Paid"}),a.jsx("option",{value:"Sent",children:"Sent"}),a.jsx("option",{value:"Open",children:"Open"}),a.jsx("option",{value:"Overdue",children:"Overdue"})]}),a.jsxs("select",{value:w,onChange:R=>b(R.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[a.jsx("option",{value:"All",children:"All Priority"}),a.jsx("option",{value:"ER",children:"Emergency"}),a.jsx("option",{value:"URG",children:"Urgent"}),a.jsx("option",{value:"STD",children:"Standard"})]}),o.length>0&&a.jsxs("button",{onClick:()=>n("invoice",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(dr,{size:16})," Delete (",o.length,")"]}),a.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:R=>d(R.target.files[0],"invoice")}),a.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[a.jsx(_o,{size:16})," Import CSV"]}),a.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Export AppSheet CSV"]}),a.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add New"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:a.jsx("input",{type:"checkbox",onChange:M,checked:o.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),C.map(R=>a.jsx("th",{className:`p-3 ${R.className||""}`,children:R.header},R.key)),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:T.map(R=>a.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${R.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox",checked:o.includes(R.id),onChange:()=>{c(D=>D.includes(R.id)?D.filter(V=>V!==R.id):[...D,R.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),C.map(D=>a.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(R)},D.key)),a.jsx("td",{className:"p-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:a.jsx(KW,{size:16})}),a.jsx("button",{onClick:()=>e("invoice",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("invoice",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:a.jsx(dr,{size:16})})]})})]},R.id))})]})}),T.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rn,{className:"mx-auto text-slate-400 mb-4",size:48}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||m!=="All"||w!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function Oce(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ice(t){var e=Oce(t,"string");return Uh(e)=="symbol"?e:e+""}function we(t,e,r){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D_,LR;function Mce(){if(LR)return D_;LR=1;var t=function(r,n,i,s,o,c,d,h){if(!r){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[i,s,o,c,d,h],g=0;p=new Error(n.replace(/%s/g,function(){return m[g++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return D_=t,D_}var Rce=Mce(),Ir=lF(Rce),nt=k.createContext(null);function Lce(){Ir(!!k.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=k.useContext(nt);return Ir(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function Dce(t,e,r){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},r)}function $ce(t,e){Object.keys(t).forEach(r=>e(t[r],r))}function Fce(t,e,r,n){var i={},s=(o,c)=>{var d=r[c];d!==e[c]&&(i[c]=d,o(n,d))};return $ce(t,s),i}function Vce(t,e,r){var n=Dce(r,function(s,o,c){return typeof t[c]=="function"&&s.push(google.maps.event.addListener(e,o,t[c])),s},[]);return n}function Bce(t){google.maps.event.removeListener(t)}function pt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(Bce)}function ut(t){var{updaterMap:e,eventMap:r,prevProps:n,nextProps:i,instance:s}=t,o=Vce(i,s,r);return Fce(e,n,i,s),o}function Uce(t){var{children:e,options:r,id:n,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:c,onDblClick:d,onDrag:h,onDragEnd:p,onDragStart:m,onMouseMove:g,onMouseOut:w,onMouseOver:b,onMouseDown:_,onMouseUp:x,onRightClick:C,onCenterChanged:j,onLoad:A,onUnmount:P}=t,[S,E]=k.useState(null),T=k.useRef(null),[M,L]=k.useState(null),[R,D]=k.useState(null),[V,F]=k.useState(null),[Z,te]=k.useState(null),[J,ee]=k.useState(null),[K,Y]=k.useState(null),[re,W]=k.useState(null),[Q,H]=k.useState(null),[oe,X]=k.useState(null),[ue,le]=k.useState(null),[pe,z]=k.useState(null),[ae,me]=k.useState(null);return k.useEffect(()=>{r&&S!==null&&S.setOptions(r)},[S,r]),k.useEffect(()=>{S!==null&&typeof o<"u"&&S.setCenter(o)},[S,o]),k.useEffect(()=>{S&&d&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(S,"dblclick",d)))},[d]),k.useEffect(()=>{S&&p&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(S,"dragend",p)))},[p]),k.useEffect(()=>{S&&m&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(S,"dragstart",m)))},[m]),k.useEffect(()=>{S&&_&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(S,"mousedown",_)))},[_]),k.useEffect(()=>{S&&g&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(S,"mousemove",g)))},[g]),k.useEffect(()=>{S&&w&&(re!==null&&google.maps.event.removeListener(re),W(google.maps.event.addListener(S,"mouseout",w)))},[w]),k.useEffect(()=>{S&&b&&(Q!==null&&google.maps.event.removeListener(Q),H(google.maps.event.addListener(S,"mouseover",b)))},[b]),k.useEffect(()=>{S&&x&&(oe!==null&&google.maps.event.removeListener(oe),X(google.maps.event.addListener(S,"mouseup",x)))},[x]),k.useEffect(()=>{S&&C&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(S,"rightclick",C)))},[C]),k.useEffect(()=>{S&&c&&(pe!==null&&google.maps.event.removeListener(pe),z(google.maps.event.addListener(S,"click",c)))},[c]),k.useEffect(()=>{S&&h&&(ae!==null&&google.maps.event.removeListener(ae),me(google.maps.event.addListener(S,"drag",h)))},[h]),k.useEffect(()=>{S&&j&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(S,"center_changed",j)))},[c]),k.useEffect(()=>{var q=T.current===null?null:new google.maps.Map(T.current,r);return E(q),q!==null&&A&&A(q),()=>{q!==null&&P&&P(q)}},[]),a.jsx("div",{id:n,ref:T,style:i,className:s,children:a.jsx(nt.Provider,{value:S,children:S!==null?e:null})})}k.memo(Uce);function DR(t,e,r,n,i,s,o){try{var c=t[s](o),d=c.value}catch(h){return void r(h)}c.done?e(d):Promise.resolve(d).then(n,i)}function cF(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(d){DR(s,n,i,o,c,"next",d)}function c(d){DR(s,n,i,o,c,"throw",d)}o(void 0)})}}function uF(t){var{googleMapsApiKey:e,googleMapsClientId:r,version:n="weekly",language:i,region:s,libraries:o,channel:c,mapIds:d,authReferrerPolicy:h,apiUrl:p="https://maps.googleapis.com"}=t,m=[];return Ir(e&&r||!(e&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?m.push("key=".concat(e)):r&&m.push("client=".concat(r)),n&&m.push("v=".concat(n)),i&&m.push("language=".concat(i)),s&&m.push("region=".concat(s)),o&&o.length&&m.push("libraries=".concat(o.sort().join(","))),c&&m.push("channel=".concat(c)),d&&d.length&&m.push("map_ids=".concat(d.join(","))),h&&m.push("auth_referrer_policy=".concat(h)),m.push("loading=async"),m.push("callback=initMap"),"".concat(p,"/maps/api/js?").concat(m.join("&"))}var ao=typeof document<"u";function dF(t){var{url:e,id:r,nonce:n}=t;return ao?new Promise(function(s,o){var c=document.getElementById(r),d=window;if(c){var h=c.getAttribute("data-state");if(c.src===e&&h!=="error"){if(h==="ready")return s(r);var p=d.initMap,m=c.onerror;d.initMap=function(){p&&p(),s(r)},c.onerror=function(w){m&&m(w),o(w)};return}else c.remove()}var g=document.createElement("script");g.type="text/javascript",g.src=e,g.id=r,g.async=!0,g.nonce=n||"",g.onerror=function(b){g.setAttribute("data-state","error"),o(b)},d.initMap=function(){g.setAttribute("data-state","ready"),s(r)},document.head.appendChild(g)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function $R(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function GS(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return $R(i)||Reflect.apply(e,t,[i,s]),i};var r=t.appendChild.bind(t);t.appendChild=function(i){return $R(i)||Reflect.apply(r,t,[i]),i}}}var _d=!1;function hF(){return a.jsx("div",{children:"Loading..."})}var zh={id:"script-loader",version:"weekly"};class zce extends k.PureComponent{constructor(){super(...arguments),we(this,"check",null),we(this,"state",{loaded:!1}),we(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),we(this,"isCleaningUp",cF(function*(){function e(r){if(!_d)r();else if(ao)var n=window.setInterval(function(){_d||(window.clearInterval(n),r())},1)}return new Promise(e)})),we(this,"cleanup",()=>{_d=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),we(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&GS(),Ir(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:uF(this.props)};dF(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),we(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ao){if(window.google&&window.google.maps&&!_d){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ao&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ao){this.cleanup();var e=()=>{this.check||(delete window.google,_d=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||a.jsx(hF,{})]})}}we(zce,"defaultProps",zh);function qce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function KS(t,e){if(t==null)return{};var r,n,i=qce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var FR;function Wce(t){var{id:e=zh.id,version:r=zh.version,nonce:n,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:c,libraries:d,preventGoogleFontsLoading:h,channel:p,mapIds:m,authReferrerPolicy:g,apiUrl:w="https://maps.googleapis.com"}=t,b=k.useRef(!1),[_,x]=k.useState(!1),[C,j]=k.useState(void 0);k.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),k.useEffect(function(){ao&&h&&GS()},[h]),k.useEffect(function(){_&&Ir(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[_]);var A=uF({version:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:c,libraries:d,channel:p,mapIds:m,authReferrerPolicy:g,apiUrl:w});k.useEffect(function(){if(!ao)return;function E(){b.current&&(x(!0),FR=A)}if(window.google&&window.google.maps&&FR===A){E();return}dF({id:e,url:A,nonce:n}).then(E).catch(function(M){b.current&&j(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[e,A,n]);var P=k.useRef(void 0);return k.useEffect(function(){P.current&&d!==P.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),P.current=d},[d]),{isLoaded:_,loadError:C,url:A}}var Hce=["loadingElement","onLoad","onError","onUnmount","children"],Gce=a.jsx(hF,{});function Kce(t){var{loadingElement:e,onLoad:r,onError:n,onUnmount:i,children:s}=t,o=KS(t,Hce),{isLoaded:c,loadError:d}=Wce(o);return k.useEffect(function(){c&&typeof r=="function"&&r()},[c,r]),k.useEffect(function(){d&&typeof n=="function"&&n(d)},[d,n]),k.useEffect(function(){return()=>{i&&i()}},[i]),c?s:e||Gce}k.memo(Kce);function Yce(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function c(p){try{h(n.next(p))}catch(m){o(m)}}function d(p){try{h(n.throw(p))}catch(m){o(m)}}function h(p){p.done?s(p.value):i(p.value).then(c,d)}h((n=n.apply(t,[])).next())})}function Qce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xce=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Jce=Qce(Xce),VR="__googleMapsScriptId",Tc;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Tc||(Tc={}));class tl{constructor(e){var{apiKey:r,authReferrerPolicy:n,channel:i,client:s,id:o=VR,language:c,libraries:d=[],mapIds:h,nonce:p,region:m,retries:g=3,url:w="https://maps.googleapis.com/maps/api/js",version:b}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=n,this.channel=i,this.client=s,this.id=o||VR,this.language=c,this.libraries=d,this.mapIds=h,this.nonce=p,this.region=m,this.retries=g,this.url=w,this.version=b,tl.instance){if(!Jce(this.options,tl.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(tl.instance.options)));return tl.instance}tl.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Tc.FAILURE:this.done?Tc.SUCCESS:this.loading?Tc.LOADING:Tc.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(s=>!n[s]&&delete n[s]),!((r=(e=window?.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(s=>{var o,c,d,h="The Google Maps JavaScript API",p="google",m="importLibrary",g="__ib__",w=document,b=window;b=b[p]||(b[p]={});var _=b.maps||(b.maps={}),x=new Set,C=new URLSearchParams,j=()=>o||(o=new Promise((A,P)=>Yce(this,void 0,void 0,function*(){var S;yield c=w.createElement("script"),c.id=this.id,C.set("libraries",[...x]+"");for(d in s)C.set(d.replace(/[A-Z]/g,E=>"_"+E[0].toLowerCase()),s[d]);C.set("callback",p+".maps."+g),c.src=this.url+"?"+C,_[g]=A,c.onerror=()=>o=P(Error(h+" could not load.")),c.nonce=this.nonce||((S=w.querySelector("script[nonce]"))===null||S===void 0?void 0:S.nonce)||"",w.head.append(c)})));_[m]?console.warn(h+" only loads once. Ignoring:",s):_[m]=function(A){for(var P=arguments.length,S=new Array(P>1?P-1:0),E=1;E<P;E++)S[E-1]=arguments[E];return x.add(A)&&j().then(()=>_[m](A,...S))}})(n);var i=this.libraries.map(s=>this.importLibrary(s));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),s=>{var o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var r=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(r," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Zce=["maps"];function eue(t){var{id:e=zh.id,version:r=zh.version,nonce:n,googleMapsApiKey:i,language:s,region:o,libraries:c=Zce,preventGoogleFontsLoading:d,mapIds:h,authReferrerPolicy:p}=t,m=k.useRef(!1),[g,w]=k.useState(!1),[b,_]=k.useState(void 0);k.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]);var x=k.useMemo(()=>new tl({id:e,apiKey:i,version:r,libraries:c,language:s||"en",region:o||"US",mapIds:h||[],nonce:n||"",authReferrerPolicy:p||"origin"}),[e,i,r,c,s,o,h,n,p]);k.useEffect(function(){g||x.load().then(()=>{m.current&&w(!0)}).catch(A=>{_(A)})},[]),k.useEffect(()=>{ao&&d&&GS()},[d]);var C=k.useRef();return k.useEffect(()=>{C.current&&c!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=c},[c]),{isLoaded:g,loadError:b}}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var UR={},zR={options(t,e){t.setOptions(e)}};function tue(t){var{options:e,onLoad:r,onUnmount:n}=t,i=k.useContext(nt),[s,o]=k.useState(null);return k.useEffect(()=>{s!==null&&s.setMap(i)},[i]),k.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),k.useEffect(()=>{var c=new google.maps.TrafficLayer(Tg(Tg({},e),{},{map:i}));return o(c),r&&r(c),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}k.memo(tue);class rue extends k.PureComponent{constructor(){super(...arguments),we(this,"state",{trafficLayer:null}),we(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),we(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Tg(Tg({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:zR,eventMap:UR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:zR,eventMap:UR,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),pt(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}we(rue,"contextType",nt);function nue(t){var{onLoad:e,onUnmount:r}=t,n=k.useContext(nt),[i,s]=k.useState(null);return k.useEffect(()=>{i!==null&&i.setMap(n)},[n]),k.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(n),e&&e(o),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}k.memo(nue);class iue extends k.PureComponent{constructor(){super(...arguments),we(this,"state",{bicyclingLayer:null}),we(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}we(iue,"contextType",nt);function sue(t){var{onLoad:e,onUnmount:r}=t,n=k.useContext(nt),[i,s]=k.useState(null);return k.useEffect(()=>{i!==null&&i.setMap(n)},[n]),k.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(n),e&&e(o),()=>{i!==null&&(r&&r(i),i.setMap(null))}},[]),null}k.memo(sue);class aue extends k.PureComponent{constructor(){super(...arguments),we(this,"state",{transitLayer:null}),we(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}we(aue,"contextType",nt);function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ag(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WR={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},HR={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function oue(t){var{options:e,drawingMode:r,onCircleComplete:n,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:c,onRectangleComplete:d,onLoad:h,onUnmount:p}=t,m=k.useContext(nt),[g,w]=k.useState(null),[b,_]=k.useState(null),[x,C]=k.useState(null),[j,A]=k.useState(null),[P,S]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(null);return k.useEffect(()=>{g!==null&&g.setMap(m)},[m]),k.useEffect(()=>{e&&g!==null&&g.setOptions(e)},[g,e]),k.useEffect(()=>{g!==null&&g.setDrawingMode(r??null)},[g,r]),k.useEffect(()=>{g&&n&&(b!==null&&google.maps.event.removeListener(b),_(google.maps.event.addListener(g,"circlecomplete",n)))},[g,n]),k.useEffect(()=>{g&&i&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(g,"markercomplete",i)))},[g,i]),k.useEffect(()=>{g&&s&&(j!==null&&google.maps.event.removeListener(j),A(google.maps.event.addListener(g,"overlaycomplete",s)))},[g,s]),k.useEffect(()=>{g&&o&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(g,"polygoncomplete",o)))},[g,o]),k.useEffect(()=>{g&&c&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(g,"polylinecomplete",c)))},[g,c]),k.useEffect(()=>{g&&d&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(g,"rectanglecomplete",d)))},[g,d]),k.useEffect(()=>{Ir(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var R=new google.maps.drawing.DrawingManager(Ag(Ag({},e),{},{map:m}));return r&&R.setDrawingMode(r),n&&_(google.maps.event.addListener(R,"circlecomplete",n)),i&&C(google.maps.event.addListener(R,"markercomplete",i)),s&&A(google.maps.event.addListener(R,"overlaycomplete",s)),o&&S(google.maps.event.addListener(R,"polygoncomplete",o)),c&&T(google.maps.event.addListener(R,"polylinecomplete",c)),d&&L(google.maps.event.addListener(R,"rectanglecomplete",d)),w(R),h&&h(R),()=>{g!==null&&(b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),j&&google.maps.event.removeListener(j),P&&google.maps.event.removeListener(P),E&&google.maps.event.removeListener(E),M&&google.maps.event.removeListener(M),p&&p(g),g.setMap(null))}},[]),null}k.memo(oue);class lue extends k.PureComponent{constructor(e){super(e),we(this,"registeredEvents",[]),we(this,"state",{drawingManager:null}),we(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ir(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ag(Ag({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:HR,eventMap:WR,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:HR,eventMap:WR,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),pt(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}we(lue,"contextType",nt);function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KR={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},YR={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Pg={};function cue(t){var{position:e,options:r,clusterer:n,noClustererRedraw:i,children:s,draggable:o,visible:c,animation:d,clickable:h,cursor:p,icon:m,label:g,opacity:w,shape:b,title:_,zIndex:x,onClick:C,onDblClick:j,onDrag:A,onDragEnd:P,onDragStart:S,onMouseOut:E,onMouseOver:T,onMouseUp:M,onMouseDown:L,onRightClick:R,onClickableChanged:D,onCursorChanged:V,onAnimationChanged:F,onDraggableChanged:Z,onFlatChanged:te,onIconChanged:J,onPositionChanged:ee,onShapeChanged:K,onTitleChanged:Y,onVisibleChanged:re,onZindexChanged:W,onLoad:Q,onUnmount:H}=t,oe=k.useContext(nt),[X,ue]=k.useState(null),[le,pe]=k.useState(null),[z,ae]=k.useState(null),[me,q]=k.useState(null),[fe,_e]=k.useState(null),[Ee,qe]=k.useState(null),[Mt,or]=k.useState(null),[gr,Pt]=k.useState(null),[kt,vr]=k.useState(null),[yr,rr]=k.useState(null),[sn,$t]=k.useState(null),[Ot,an]=k.useState(null),[dt,Kn]=k.useState(null),[Mn,fi]=k.useState(null),[Sr,os]=k.useState(null),[pi,mi]=k.useState(null),[zr,Yn]=k.useState(null),[qr,bn]=k.useState(null),[Wr,wn]=k.useState(null),[Qn,_n]=k.useState(null),[gi,vi]=k.useState(null),[yi,Rt]=k.useState(null);k.useEffect(()=>{X!==null&&X.setMap(oe)},[oe]),k.useEffect(()=>{typeof r<"u"&&X!==null&&X.setOptions(r)},[X,r]),k.useEffect(()=>{typeof o<"u"&&X!==null&&X.setDraggable(o)},[X,o]),k.useEffect(()=>{e&&X!==null&&X.setPosition(e)},[X,e]),k.useEffect(()=>{typeof c<"u"&&X!==null&&X.setVisible(c)},[X,c]),k.useEffect(()=>{X?.setAnimation(d)},[X,d]),k.useEffect(()=>{X&&h!==void 0&&X.setClickable(h)},[X,h]),k.useEffect(()=>{X&&p!==void 0&&X.setCursor(p)},[X,p]),k.useEffect(()=>{X&&m!==void 0&&X.setIcon(m)},[X,m]),k.useEffect(()=>{X&&g!==void 0&&X.setLabel(g)},[X,g]),k.useEffect(()=>{X&&w!==void 0&&X.setOpacity(w)},[X,w]),k.useEffect(()=>{X&&b!==void 0&&X.setShape(b)},[X,b]),k.useEffect(()=>{X&&_!==void 0&&X.setTitle(_)},[X,_]),k.useEffect(()=>{X&&x!==void 0&&X.setZIndex(x)},[X,x]),k.useEffect(()=>{X&&j&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(X,"dblclick",j)))},[j]),k.useEffect(()=>{X&&P&&(z!==null&&google.maps.event.removeListener(z),ae(google.maps.event.addListener(X,"dragend",P)))},[P]),k.useEffect(()=>{X&&S&&(me!==null&&google.maps.event.removeListener(me),q(google.maps.event.addListener(X,"dragstart",S)))},[S]),k.useEffect(()=>{X&&L&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(X,"mousedown",L)))},[L]),k.useEffect(()=>{X&&E&&(Ee!==null&&google.maps.event.removeListener(Ee),qe(google.maps.event.addListener(X,"mouseout",E)))},[E]),k.useEffect(()=>{X&&T&&(Mt!==null&&google.maps.event.removeListener(Mt),or(google.maps.event.addListener(X,"mouseover",T)))},[T]),k.useEffect(()=>{X&&M&&(gr!==null&&google.maps.event.removeListener(gr),Pt(google.maps.event.addListener(X,"mouseup",M)))},[M]),k.useEffect(()=>{X&&R&&(kt!==null&&google.maps.event.removeListener(kt),vr(google.maps.event.addListener(X,"rightclick",R)))},[R]),k.useEffect(()=>{X&&C&&(yr!==null&&google.maps.event.removeListener(yr),rr(google.maps.event.addListener(X,"click",C)))},[C]),k.useEffect(()=>{X&&A&&(sn!==null&&google.maps.event.removeListener(sn),$t(google.maps.event.addListener(X,"drag",A)))},[A]),k.useEffect(()=>{X&&D&&(Ot!==null&&google.maps.event.removeListener(Ot),an(google.maps.event.addListener(X,"clickable_changed",D)))},[D]),k.useEffect(()=>{X&&V&&(dt!==null&&google.maps.event.removeListener(dt),Kn(google.maps.event.addListener(X,"cursor_changed",V)))},[V]),k.useEffect(()=>{X&&F&&(Mn!==null&&google.maps.event.removeListener(Mn),fi(google.maps.event.addListener(X,"animation_changed",F)))},[F]),k.useEffect(()=>{X&&Z&&(Sr!==null&&google.maps.event.removeListener(Sr),os(google.maps.event.addListener(X,"draggable_changed",Z)))},[Z]),k.useEffect(()=>{X&&te&&(pi!==null&&google.maps.event.removeListener(pi),mi(google.maps.event.addListener(X,"flat_changed",te)))},[te]),k.useEffect(()=>{X&&J&&(zr!==null&&google.maps.event.removeListener(zr),Yn(google.maps.event.addListener(X,"icon_changed",J)))},[J]),k.useEffect(()=>{X&&ee&&(qr!==null&&google.maps.event.removeListener(qr),bn(google.maps.event.addListener(X,"position_changed",ee)))},[ee]),k.useEffect(()=>{X&&K&&(Wr!==null&&google.maps.event.removeListener(Wr),wn(google.maps.event.addListener(X,"shape_changed",K)))},[K]),k.useEffect(()=>{X&&Y&&(Qn!==null&&google.maps.event.removeListener(Qn),_n(google.maps.event.addListener(X,"title_changed",Y)))},[Y]),k.useEffect(()=>{X&&re&&(gi!==null&&google.maps.event.removeListener(gi),vi(google.maps.event.addListener(X,"visible_changed",re)))},[re]),k.useEffect(()=>{X&&W&&(yi!==null&&google.maps.event.removeListener(yi),Rt(google.maps.event.addListener(X,"zindex_changed",W)))},[W]),k.useEffect(()=>{var Et=$c($c($c({},r||Pg),n?Pg:{map:oe}),{},{position:e}),Fe=new google.maps.Marker(Et);return n?n.addMarker(Fe,!!i):Fe.setMap(oe),e&&Fe.setPosition(e),typeof c<"u"&&Fe.setVisible(c),typeof o<"u"&&Fe.setDraggable(o),typeof h<"u"&&Fe.setClickable(h),typeof p=="string"&&Fe.setCursor(p),m&&Fe.setIcon(m),typeof g<"u"&&Fe.setLabel(g),typeof w<"u"&&Fe.setOpacity(w),b&&Fe.setShape(b),typeof _=="string"&&Fe.setTitle(_),typeof x=="number"&&Fe.setZIndex(x),j&&pe(google.maps.event.addListener(Fe,"dblclick",j)),P&&ae(google.maps.event.addListener(Fe,"dragend",P)),S&&q(google.maps.event.addListener(Fe,"dragstart",S)),L&&_e(google.maps.event.addListener(Fe,"mousedown",L)),E&&qe(google.maps.event.addListener(Fe,"mouseout",E)),T&&or(google.maps.event.addListener(Fe,"mouseover",T)),M&&Pt(google.maps.event.addListener(Fe,"mouseup",M)),R&&vr(google.maps.event.addListener(Fe,"rightclick",R)),C&&rr(google.maps.event.addListener(Fe,"click",C)),A&&$t(google.maps.event.addListener(Fe,"drag",A)),D&&an(google.maps.event.addListener(Fe,"clickable_changed",D)),V&&Kn(google.maps.event.addListener(Fe,"cursor_changed",V)),F&&fi(google.maps.event.addListener(Fe,"animation_changed",F)),Z&&os(google.maps.event.addListener(Fe,"draggable_changed",Z)),te&&mi(google.maps.event.addListener(Fe,"flat_changed",te)),J&&Yn(google.maps.event.addListener(Fe,"icon_changed",J)),ee&&bn(google.maps.event.addListener(Fe,"position_changed",ee)),K&&wn(google.maps.event.addListener(Fe,"shape_changed",K)),Y&&_n(google.maps.event.addListener(Fe,"title_changed",Y)),re&&vi(google.maps.event.addListener(Fe,"visible_changed",re)),W&&Rt(google.maps.event.addListener(Fe,"zindex_changed",W)),ue(Fe),Q&&Q(Fe),()=>{le!==null&&google.maps.event.removeListener(le),z!==null&&google.maps.event.removeListener(z),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),Ee!==null&&google.maps.event.removeListener(Ee),Mt!==null&&google.maps.event.removeListener(Mt),gr!==null&&google.maps.event.removeListener(gr),kt!==null&&google.maps.event.removeListener(kt),yr!==null&&google.maps.event.removeListener(yr),Ot!==null&&google.maps.event.removeListener(Ot),dt!==null&&google.maps.event.removeListener(dt),Mn!==null&&google.maps.event.removeListener(Mn),Sr!==null&&google.maps.event.removeListener(Sr),pi!==null&&google.maps.event.removeListener(pi),zr!==null&&google.maps.event.removeListener(zr),qr!==null&&google.maps.event.removeListener(qr),Qn!==null&&google.maps.event.removeListener(Qn),gi!==null&&google.maps.event.removeListener(gi),yi!==null&&google.maps.event.removeListener(yi),H&&H(Fe),n?n.removeMarker(Fe,!!i):Fe&&Fe.setMap(null)}},[]);var Ls=k.useMemo(()=>s?k.Children.map(s,Et=>{if(!k.isValidElement(Et))return Et;var Fe=Et;return k.cloneElement(Fe,{anchor:X})}):null,[s,X]);return a.jsx(a.Fragment,{children:Ls})||null}k.memo(cue);class uue extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[])}componentDidMount(){var e=this;return cF(function*(){var r=$c($c($c({},e.props.options||Pg),e.props.clusterer?Pg:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(r),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ut({updaterMap:YR,eventMap:KR,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:YR,eventMap:KR,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),pt(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?k.Children.map(this.props.children,r=>{if(!k.isValidElement(r))return r;var n=r;return k.cloneElement(n,{anchor:this.marker})}):null;return e||null}}we(uue,"contextType",nt);var due=function(){function t(e,r){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var n=r.getMaxZoom(),i=this.cluster.getBounds(),s=r.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=r.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var c=o.getZoom()||0;n!==null&&c>n&&o.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,r,n,i,s,o;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),h=parseInt(((e=d[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((r=d[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var g=document.createElement("img");g.alt=c,g.src=this.url,g.width=this.width,g.height=this.height,g.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(g.style.clip="rect(-".concat(p,"px, -").concat(h+this.width,"px, -").concat(p+this.height,", -").concat(h,")"));var w=document.createElement("div");w.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(w.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(w.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(g),this.div.appendChild(w),this.div.title=c,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var r=this.cluster.getClusterer().getStyles(),n=r[Math.min(r.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var r=this.getProjection().fromLatLngToDivPixel(e);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},t}(),hue=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new due(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),n=0,i=r;n<i.length;n++){var s=i[n],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var r;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),c=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(o!==null&&typeof c<"u"&&c>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var d=0,h=this.markers;d<h.length;d++){var p=h[d];p.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var r=e.getPosition();if(r)return this.bounds.contains(r)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,r=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof i<"u"&&i>n){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var r=0;r<this.markers.length;r++)if(e===this.markers[r])return!0;return!1},t}();function fue(t,e){var r=t.length,n=r.toString().length,i=Math.min(n,e);return{text:r.toString(),index:i,title:""}}var pue=2e3,mue=500,gue="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",vue="png",yue=[53,56,66,78,90],xue="cluster",fF=function(){function t(e,r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||gue,this.imageExtension=n.imageExtension||vue,this.imageSizes=n.imageSizes||yue,this.calculator=n.calculator||fue,this.batchSize=n.batchSize||pue,this.batchSizeIE=n.batchSizeIE||mue,this.clusterClass=n.clusterClass||xue,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,r;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,r=this.markers;e<r.length;e++){var n=r[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var h=d[c];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),r=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var s=i[n],o=s.getPosition();o&&r.extend(o)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(r)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,r){this.pushMarkerTo(e),r||this.redraw()},t.prototype.addMarkers=function(e,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}r||this.redraw()},t.prototype.pushMarkerTo=function(e){var r=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){r.ready&&(e.isAdded=!1,r.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){r=n;break}return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),!0)},t.prototype.removeMarker=function(e,r){var n=this.removeMarker_(e);return!r&&n&&this.repaint(),n},t.prototype.removeMarkers=function(e,r){for(var n=!1,i=0,s=e;i<s.length;i++){var o=s[i];n=n||this.removeMarker_(o)}return!r&&n&&this.repaint(),n},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,i=e;n<i.length;n++){var s=i[n];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var r=this.getProjection(),n=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),n!==null){var s=r.fromDivPixelToLatLng(n);s!==null&&e.extend(s)}if(i!==null){var o=r.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var r=0,n=this.clusters;r<n.length;r++){var i=n[r];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var c=o[s];c.isAdded=!1,e&&c.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,r){var n=6371,i=(r.lat()-e.lat())*Math.PI/180,s=(r.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return n*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,r){var n=e.getPosition();return n?r.contains(n):!1},t.prototype.addToClosestCluster=function(e){for(var r,n=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var c=o[s];r=c;var d=r.getCenter(),h=e.getPosition();if(d&&h){var p=this.distanceBetweenPoints(d,h);p<n&&(n=p,i=r)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(r=new hue(this),r.addMarker(e),this.clusters.push(r))},t.prototype.createClusters=function(e){var r=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=n!==null&&("getBounds"in n)?n.getBounds():null,s=n?.getZoom()||0,o=s>3?new google.maps.LatLngBounds(i?.getSouthWest(),i?.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(o),d=Math.min(e+this.batchSize,this.markers.length),h=e;h<d;h++){var p=this.markers[h];p&&!p.isAdded&&this.isMarkerInBounds(p,c)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,g=this.clusters;m<g.length;m++){var w=g[m];w.updateIcon()}}}},t.prototype.extend=function(e,r){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[r])},t}();function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Oi={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},bt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},wue={};function _ue(t){var{children:e,options:r,averageCenter:n,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:c,gridSize:d,ignoreHidden:h,imageExtension:p,imagePath:m,imageSizes:g,maxZoom:w,minimumClusterSize:b,styles:_,title:x,zoomOnClick:C,onClick:j,onClusteringBegin:A,onClusteringEnd:P,onMouseOver:S,onMouseOut:E,onLoad:T,onUnmount:M}=t,[L,R]=k.useState(null),D=k.useContext(nt),[V,F]=k.useState(null),[Z,te]=k.useState(null),[J,ee]=k.useState(null),[K,Y]=k.useState(null),[re,W]=k.useState(null);return k.useEffect(()=>{L&&E&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(L,Oi.onMouseOut,E)))},[E]),k.useEffect(()=>{L&&S&&(re!==null&&google.maps.event.removeListener(re),W(google.maps.event.addListener(L,Oi.onMouseOver,S)))},[S]),k.useEffect(()=>{L&&j&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(L,Oi.onClick,j)))},[j]),k.useEffect(()=>{L&&A&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(L,Oi.onClusteringBegin,A)))},[A]),k.useEffect(()=>{L&&P&&(J!==null&&google.maps.event.removeListener(J),te(google.maps.event.addListener(L,Oi.onClusteringEnd,P)))},[P]),k.useEffect(()=>{typeof n<"u"&&L!==null&&bt.averageCenter(L,n)},[L,n]),k.useEffect(()=>{typeof i<"u"&&L!==null&&bt.batchSizeIE(L,i)},[L,i]),k.useEffect(()=>{typeof s<"u"&&L!==null&&bt.calculator(L,s)},[L,s]),k.useEffect(()=>{typeof o<"u"&&L!==null&&bt.clusterClass(L,o)},[L,o]),k.useEffect(()=>{typeof c<"u"&&L!==null&&bt.enableRetinaIcons(L,c)},[L,c]),k.useEffect(()=>{typeof d<"u"&&L!==null&&bt.gridSize(L,d)},[L,d]),k.useEffect(()=>{typeof h<"u"&&L!==null&&bt.ignoreHidden(L,h)},[L,h]),k.useEffect(()=>{typeof p<"u"&&L!==null&&bt.imageExtension(L,p)},[L,p]),k.useEffect(()=>{typeof m<"u"&&L!==null&&bt.imagePath(L,m)},[L,m]),k.useEffect(()=>{typeof g<"u"&&L!==null&&bt.imageSizes(L,g)},[L,g]),k.useEffect(()=>{typeof w<"u"&&L!==null&&bt.maxZoom(L,w)},[L,w]),k.useEffect(()=>{typeof b<"u"&&L!==null&&bt.minimumClusterSize(L,b)},[L,b]),k.useEffect(()=>{typeof _<"u"&&L!==null&&bt.styles(L,_)},[L,_]),k.useEffect(()=>{typeof x<"u"&&L!==null&&bt.title(L,x)},[L,x]),k.useEffect(()=>{typeof C<"u"&&L!==null&&bt.zoomOnClick(L,C)},[L,C]),k.useEffect(()=>{if(D){var Q=bue({},r||wue),H=new fF(D,[],Q);return n&&bt.averageCenter(H,n),i&&bt.batchSizeIE(H,i),s&&bt.calculator(H,s),o&&bt.clusterClass(H,o),c&&bt.enableRetinaIcons(H,c),d&&bt.gridSize(H,d),h&&bt.ignoreHidden(H,h),p&&bt.imageExtension(H,p),m&&bt.imagePath(H,m),g&&bt.imageSizes(H,g),w&&bt.maxZoom(H,w),b&&bt.minimumClusterSize(H,b),_&&bt.styles(H,_),x&&bt.title(H,x),C&&bt.zoomOnClick(H,C),E&&Y(google.maps.event.addListener(H,Oi.onMouseOut,E)),S&&W(google.maps.event.addListener(H,Oi.onMouseOver,S)),j&&F(google.maps.event.addListener(H,Oi.onClick,j)),A&&te(google.maps.event.addListener(H,Oi.onClusteringBegin,A)),P&&ee(google.maps.event.addListener(H,Oi.onClusteringEnd,P)),R(H),T&&T(H),()=>{K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),V!==null&&google.maps.event.removeListener(V),Z!==null&&google.maps.event.removeListener(Z),J!==null&&google.maps.event.removeListener(J),M&&M(H)}}},[]),L!==null&&e(L)||null}k.memo(_ue);class kue extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{markerClusterer:null}),we(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new fF(this.context,[],this.props.options);this.registeredEvents=ut({updaterMap:bt,eventMap:Oi,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:bt,eventMap:Oi,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),pt(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}we(kue,"contextType",nt);function XR(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var pF=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,r=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||XR(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,c=s;o<c.length;o++){var d=c[o];this.eventListeners.push(google.maps.event.addListener(this.div,d,XR))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var r=this.getMap();if(r instanceof google.maps.Map){var n=0,i=0,s=r.getBounds();s&&!s.contains(this.position)&&r.setCenter(this.position);var o=r.getDiv(),c=o.offsetWidth,d=o.offsetHeight,h=this.pixelOffset.width,p=this.pixelOffset.height,m=this.div.offsetWidth,g=this.div.offsetHeight,w=this.infoBoxClearance.width,b=this.infoBoxClearance.height,_=this.getProjection(),x=_.fromLatLngToContainerPixel(this.position);x!==null&&(x.x<-h+w?n=x.x+h-w:x.x+m+h+w>c&&(n=x.x+m+h+w-c),this.alignBottom?x.y<-p+b+g?i=x.y+p-b-g:x.y+p+b>d&&(i=x.y+p+b-d):x.y<-p+b?i=x.y+p-b:x.y+g+p+b>d&&(i=x.y+g+p+b-d)),n===0&&i===0||r.panBy(n,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.div.style[r]=e[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var r=this.div.ownerDocument,n=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),r=e.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,r){var n=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var i=r.getPosition();n.setPosition(i)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){n.setMap(r.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,r=this.eventListeners;e<r.length;e++){var n=r[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,r){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[r])},t}(),jue=["position"],Sue=["position"];function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ZR={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},eL={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Nue={};function Eue(t){var{children:e,anchor:r,options:n,position:i,zIndex:s,onCloseClick:o,onDomReady:c,onContentChanged:d,onPositionChanged:h,onZindexChanged:p,onLoad:m,onUnmount:g}=t,w=k.useContext(nt),[b,_]=k.useState(null),[x,C]=k.useState(null),[j,A]=k.useState(null),[P,S]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(null),R=k.useRef(null);return k.useEffect(()=>{w&&b!==null&&(b.close(),r?b.open(w,r):b.getPosition()&&b.open(w))},[w,b,r]),k.useEffect(()=>{n&&b!==null&&b.setOptions(n)},[b,n]),k.useEffect(()=>{if(i&&b!==null){var D=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);b.setPosition(D)}},[i]),k.useEffect(()=>{typeof s=="number"&&b!==null&&b.setZIndex(s)},[s]),k.useEffect(()=>{b&&o&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(b,"closeclick",o)))},[o]),k.useEffect(()=>{b&&c&&(j!==null&&google.maps.event.removeListener(j),A(google.maps.event.addListener(b,"domready",c)))},[c]),k.useEffect(()=>{b&&d&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(b,"content_changed",d)))},[d]),k.useEffect(()=>{b&&h&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(b,"position_changed",h)))},[h]),k.useEffect(()=>{b&&p&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(b,"zindex_changed",p)))},[p]),k.useEffect(()=>{if(w){var D=n||Nue,{position:V}=D,F=KS(D,jue),Z;V&&!(V instanceof google.maps.LatLng)&&(Z=new google.maps.LatLng(V.lat,V.lng));var te=new pF(Og(Og({},F),Z?{position:Z}:{}));R.current=document.createElement("div"),_(te),o&&C(google.maps.event.addListener(te,"closeclick",o)),c&&A(google.maps.event.addListener(te,"domready",c)),d&&S(google.maps.event.addListener(te,"content_changed",d)),h&&T(google.maps.event.addListener(te,"position_changed",h)),p&&L(google.maps.event.addListener(te,"zindex_changed",p)),te.setContent(R.current),r?te.open(w,r):te.getPosition()?te.open(w):Ir(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(te)}return()=>{b!==null&&(x&&google.maps.event.removeListener(x),P&&google.maps.event.removeListener(P),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),M&&google.maps.event.removeListener(M),g&&g(b),b.close())}},[]),R.current?Tu.createPortal(k.Children.only(e),R.current):null}k.memo(Eue);class Cue extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"containerElement",null),we(this,"state",{infoBox:null}),we(this,"open",(e,r)=>{r?this.context!==null&&e.open(this.context,r):e.getPosition()?this.context!==null&&e.open(this.context):Ir(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),we(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:r}=e,n=KS(e,Sue),i;r&&!(r instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(r.lat,r.lng));var s=new pF(Og(Og({},n),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ut({updaterMap:eL,eventMap:ZR,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:r}=this.state;r!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:eL,eventMap:ZR,prevProps:e,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:r}=this.state;r!==null&&(e&&e(r),pt(this.registeredEvents),r.close())}render(){return this.containerElement?Tu.createPortal(k.Children.only(this.props.children),this.containerElement):null}}we(Cue,"contextType",nt);var $_,tL;function Tue(){return tL||(tL=1,$_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),$_}var Aue=Tue(),rL=lF(Aue),nL=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],F_=1,kd=8;class YS{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(i!==F_)throw new Error("Got v".concat(i," data when expected v").concat(F_,"."));var s=nL[n&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new YS(c,o,s,e)}constructor(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=nL.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,kd,e),this.coords=new this.ArrayType(this.data,kd+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(kd+o+c+d),this.ids=new this.IndexArrayType(this.data,kd,e),this.coords=new this.ArrayType(this.data,kd+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(F_<<4)+s]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Lj(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:c}=this,d=[0,s.length-1,0],h=[];d.length;){var p=d.pop()||0,m=d.pop()||0,g=d.pop()||0;if(m-g<=c){for(var w=g;w<=m;w++){var b=o[2*w],_=o[2*w+1];b>=e&&b<=n&&_>=r&&_<=i&&h.push(s[w])}continue}var x=g+m>>1,C=o[2*x],j=o[2*x+1];C>=e&&C<=n&&j>=r&&j<=i&&h.push(s[x]),(p===0?e<=C:r<=j)&&(d.push(g),d.push(x-1),d.push(1-p)),(p===0?n>=C:i>=j)&&(d.push(x+1),d.push(m),d.push(1-p))}return h}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,c=[0,i.length-1,0],d=[],h=n*n;c.length;){var p=c.pop()||0,m=c.pop()||0,g=c.pop()||0;if(m-g<=o){for(var w=g;w<=m;w++)iL(s[2*w],s[2*w+1],e,r)<=h&&d.push(i[w]);continue}var b=g+m>>1,_=s[2*b],x=s[2*b+1];iL(_,x,e,r)<=h&&d.push(i[b]),(p===0?e-n<=_:r-n<=x)&&(c.push(g),c.push(b-1),c.push(1-p)),(p===0?e+n>=_:r+n>=x)&&(c.push(b+1),c.push(m),c.push(1-p))}return d}}function Lj(t,e,r,n,i,s){if(!(i-n<=r)){var o=n+i>>1;mF(t,e,o,n,i,s),Lj(t,e,r,n,o-1,1-s),Lj(t,e,r,o+1,i,1-s)}}function mF(t,e,r,n,i,s){for(;i>n;){if(i-n>600){var o=i-n+1,c=r-n+1,d=Math.log(o),h=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*h*(o-h)/o)*(c-o/2<0?-1:1),m=Math.max(n,Math.floor(r-c*h/o+p)),g=Math.min(i,Math.floor(r+(o-c)*h/o+p));mF(t,e,r,m,g,s)}var w=e[2*r+s],b=n,_=i;for(jd(t,e,n,r),e[2*i+s]>w&&jd(t,e,n,i);b<_;){for(jd(t,e,b,_),b++,_--;e[2*b+s]<w;)b++;for(;e[2*_+s]>w;)_--}e[2*n+s]===w?jd(t,e,n,_):(_++,jd(t,e,_,i)),_<=r&&(n=_+1),r<=_&&(i=_-1)}}function jd(t,e,r,n){V_(t,r,n),V_(e,2*r,2*n),V_(e,2*r+1,2*n+1)}function V_(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function iL(t,e,r,n){var i=t-r,s=e-n;return i*i+s*s}var Pue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},sL=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Qo=2,Qa=3,B_=4,Ha=5,gF=6;class Oue{constructor(e){this.options=Object.assign(Object.create(Pue),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");var s="prepare ".concat(e.length," points");r&&console.time(s),this.points=e;for(var o=[],c=0;c<e.length;c++){var d=e[c];if(d.geometry){var[h,p]=d.geometry.coordinates,m=sL(em(h)),g=sL(tm(p));o.push(m,g,1/0,c,-1,1),this.options.reduce&&o.push(0)}}var w=this.trees[i+1]=this._createTree(o);r&&console.timeEnd(s);for(var b=i;b>=n;b--){var _=+Date.now();w=this.trees[b]=this._createTree(this._cluster(w,b)),r&&console.log("z%d: %d clusters in %dms",b,w.numItems,+Date.now()-_)}return r&&console.timeEnd("total time"),this}getClusters(e,r){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,s=180;else if(n>s){var c=this.getClusters([n,i,180,o],r),d=this.getClusters([-180,i,s,o],r);return c.concat(d)}var h=this.trees[this._limitZoom(r)],p=h.range(em(n),tm(o),em(s),tm(i)),m=h.data,g=[];for(var w of p){var b=this.stride*w;g.push(m[b+Ha]>1?aL(m,b,this.clusterProps):this.points[m[b+Qa]])}return g}getChildren(e){var r=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[n];if(!s)throw new Error(i);var o=s.data;if(r*this.stride>=o.length)throw new Error(i);var c=this.options.radius/(this.options.extent*Math.pow(2,n-1)),d=o[r*this.stride],h=o[r*this.stride+1],p=s.within(d,h,c),m=[];for(var g of p){var w=g*this.stride;o[w+B_]===e&&m.push(o[w+Ha]>1?aL(o,w,this.clusterProps):this.points[o[w+Qa]])}if(m.length===0)throw new Error(i);return m}getLeaves(e,r,n){r=r||10,n=n||0;var i=[];return this._appendLeaves(i,e,r,n,0),i}getTile(e,r,n){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:c}=this.options,d=c/o,h=(n-d)/s,p=(n+1+d)/s,m={features:[]};return this._addTileFeatures(i.range((r-d)/s,h,(r+1+d)/s,p),i.data,r,n,s,m),r===0&&this._addTileFeatures(i.range(1-d/s,h,1,p),i.data,s,n,s,m),r===s-1&&this._addTileFeatures(i.range(0,h,d/s,p),i.data,-1,n,s,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var r=this._getOriginZoom(e)-1;r<=this.options.maxZoom;){var n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,i,s){var o=this.getChildren(r);for(var c of o){var d=c.properties;if(d&&d.cluster?s+d.point_count<=i?s+=d.point_count:s=this._appendLeaves(e,d.cluster_id,n,i,s):s<i?s++:e.push(c),e.length===n)break}return s}_createTree(e){for(var r=new YS(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,i,s,o){for(var c of e){var d=c*this.stride,h=r[d+Ha]>1,p=void 0,m=void 0,g=void 0;if(h)p=vF(r,d,this.clusterProps),m=r[d],g=r[d+1];else{var w=this.points[r[d+Qa]];p=w.properties;var[b,_]=w.geometry.coordinates;m=em(b),g=tm(_)}var x={type:1,geometry:[[Math.round(this.options.extent*(m*s-n)),Math.round(this.options.extent*(g*s-i))]],tags:p},C=void 0;h||this.options.generateId?C=r[d+Qa]:C=this.points[r[d+Qa]].id,C!==void 0&&(x.id=C),o.features.push(x)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){for(var{radius:n,extent:i,reduce:s,minPoints:o}=this.options,c=n/(i*Math.pow(2,r)),d=e.data,h=[],p=this.stride,m=0;m<d.length;m+=p)if(!(d[m+Qo]<=r)){d[m+Qo]=r;var g=d[m],w=d[m+1],b=e.within(d[m],d[m+1],c),_=d[m+Ha],x=_;for(var C of b){var j=C*p;d[j+Qo]>r&&(x+=d[j+Ha])}if(x>_&&x>=o){var A=g*_,P=w*_,S=void 0,E=-1,T=((m/p|0)<<5)+(r+1)+this.points.length;for(var M of b){var L=M*p;if(!(d[L+Qo]<=r)){d[L+Qo]=r;var R=d[L+Ha];A+=d[L]*R,P+=d[L+1]*R,d[L+B_]=T,s&&(S||(S=this._map(d,m,!0),E=this.clusterProps.length,this.clusterProps.push(S)),s(S,this._map(d,L)))}}d[m+B_]=T,h.push(A/x,P/x,1/0,T,-1,x),s&&h.push(E)}else{for(var D=0;D<p;D++)h.push(d[m+D]);if(x>1)for(var V of b){var F=V*p;if(!(d[F+Qo]<=r)){d[F+Qo]=r;for(var Z=0;Z<p;Z++)h.push(d[F+Z])}}}}return h}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+Ha]>1){var i=this.clusterProps[e[r+gF]];return n?Object.assign({},i):i}var s=this.points[e[r+Qa]].properties,o=this.options.map(s);return n&&o===s?Object.assign({},o):o}}function aL(t,e,r){return{type:"Feature",id:t[e+Qa],properties:vF(t,e,r),geometry:{type:"Point",coordinates:[Iue(t[e]),Mue(t[e+1])]}}}function vF(t,e,r){var n=t[e+Ha],i=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,s=t[e+gF],o=s===-1?{}:Object.assign({},r[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Qa],point_count:n,point_count_abbreviated:i})}function em(t){return t/360+.5}function tm(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function Iue(t){return(t-.5)*360}function Mue(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Rue(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}class oi{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Dj{constructor(e){var{markers:r,position:n}=e;this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)e.extend(oi.getPosition(r));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>oi.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(oi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Lue{constructor(e){var{maxZoom:r=16}=e;this.maxZoom=r}noop(e){var{markers:r}=e;return Due(r)}}var Due=t=>{var e=t.map(r=>new Dj({position:oi.getPosition(r),markers:[r]}));return e};class $ue extends Lue{constructor(e){var{maxZoom:r,radius:n=60}=e,i=Rue(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new Oue(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var r=!1,n={zoom:e.map.getZoom()};if(!rL(e.markers,this.markers)){r=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=oi.getPosition(s),c=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:s}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!rL(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster(e){var{map:r}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[r,n]},properties:i}=e;if(i.cluster)return new Dj({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:n,lng:r}});var s=i.marker;return new Dj({markers:[s],position:oi.getPosition(s)})}}class Fue{constructor(e,r){this.markers={sum:e.length};var n=r.map(s=>s.count),i=n.reduce((s,o)=>s+o,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class Vue{render(e,r,n){var{count:i,position:s}=e,o=i>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),d="Cluster of ".concat(i," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+i;if(oi.isAdvancedMarkerAvailable(n)){var p=new DOMParser,m=p.parseFromString(c,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var g={map:n,position:s,zIndex:h,title:d,content:m};return new google.maps.marker.AdvancedMarkerElement(g)}var w={position:s,zIndex:h,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(w)}}function Bue(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}class QS{constructor(){Bue(QS,google.maps.OverlayView)}}var Gd;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Gd||(Gd={}));var Uue=(t,e,r)=>{r.fitBounds(e.bounds)};class zue extends QS{constructor(e){var{map:r,markers:n=[],algorithmOptions:i={},algorithm:s=new $ue(i),renderer:o=new Vue,onClusterClick:c=Uue}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=c,r&&this.setMap(r)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){var n=this.markers.indexOf(e);return n===-1?!1:(oi.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){var n=!1;return e.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Gd.CLUSTERING_BEGIN,this);var{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var i=new Set;for(var s of r)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?i.has(c.marker)||oi.setMap(c.marker,null):o.push(c.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>o.forEach(d=>oi.setMap(d,null)))}google.maps.event.trigger(this,Gd.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>oi.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new Fue(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(i=>oi.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Gd.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),oi.setMap(n.marker,r)})}}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t){var e=Lce(),[r,n]=k.useState(null);return k.useEffect(()=>{if(e&&r===null){var i=new zue(lL(lL({},t),{},{map:e}));n(i)}},[e]),r}function Wue(t){var{children:e,options:r}=t,n=que(r);return n!==null?e(n):null}k.memo(Wue);var cL={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},uL={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function Hue(t){var{children:e,anchor:r,options:n,position:i,zIndex:s,onCloseClick:o,onDomReady:c,onContentChanged:d,onPositionChanged:h,onZindexChanged:p,onLoad:m,onUnmount:g}=t,w=k.useContext(nt),[b,_]=k.useState(null),[x,C]=k.useState(null),[j,A]=k.useState(null),[P,S]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(null),R=k.useRef(null);return k.useEffect(()=>{b!==null&&(b.close(),r?b.open(w,r):b.getPosition()&&b.open(w))},[w,b,r]),k.useEffect(()=>{n&&b!==null&&b.setOptions(n)},[b,n]),k.useEffect(()=>{i&&b!==null&&b.setPosition(i)},[i]),k.useEffect(()=>{typeof s=="number"&&b!==null&&b.setZIndex(s)},[s]),k.useEffect(()=>{b&&o&&(x!==null&&google.maps.event.removeListener(x),C(google.maps.event.addListener(b,"closeclick",o)))},[o]),k.useEffect(()=>{b&&c&&(j!==null&&google.maps.event.removeListener(j),A(google.maps.event.addListener(b,"domready",c)))},[c]),k.useEffect(()=>{b&&d&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(b,"content_changed",d)))},[d]),k.useEffect(()=>{b&&h&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(b,"position_changed",h)))},[h]),k.useEffect(()=>{b&&p&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(b,"zindex_changed",p)))},[p]),k.useEffect(()=>{var D=new google.maps.InfoWindow(n);return _(D),R.current=document.createElement("div"),o&&C(google.maps.event.addListener(D,"closeclick",o)),c&&A(google.maps.event.addListener(D,"domready",c)),d&&S(google.maps.event.addListener(D,"content_changed",d)),h&&T(google.maps.event.addListener(D,"position_changed",h)),p&&L(google.maps.event.addListener(D,"zindex_changed",p)),D.setContent(R.current),i&&D.setPosition(i),s&&D.setZIndex(s),r?D.open(w,r):D.getPosition()?D.open(w):Ir(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(D),()=>{x&&google.maps.event.removeListener(x),P&&google.maps.event.removeListener(P),j&&google.maps.event.removeListener(j),E&&google.maps.event.removeListener(E),M&&google.maps.event.removeListener(M),g&&g(D),D.close()}},[]),R.current?Tu.createPortal(k.Children.only(e),R.current):null}k.memo(Hue);class Gue extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"containerElement",null),we(this,"state",{infoWindow:null}),we(this,"open",(e,r)=>{r?e.open(this.context,r):e.getPosition()?e.open(this.context):Ir(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),we(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ut({updaterMap:uL,eventMap:cL,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:uL,eventMap:cL,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(pt(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Tu.createPortal(k.Children.only(this.props.children),this.containerElement):null}}we(Gue,"contextType",nt);function dL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ig(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var hL={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},fL={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},Kue={};function Yue(t){var{options:e,draggable:r,editable:n,visible:i,path:s,onDblClick:o,onDragEnd:c,onDragStart:d,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:w,onRightClick:b,onClick:_,onDrag:x,onLoad:C,onUnmount:j}=t,A=k.useContext(nt),[P,S]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(null),[R,D]=k.useState(null),[V,F]=k.useState(null),[Z,te]=k.useState(null),[J,ee]=k.useState(null),[K,Y]=k.useState(null),[re,W]=k.useState(null),[Q,H]=k.useState(null),[oe,X]=k.useState(null),[ue,le]=k.useState(null);return k.useEffect(()=>{P!==null&&P.setMap(A)},[A]),k.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),k.useEffect(()=>{typeof r<"u"&&P!==null&&P.setDraggable(r)},[P,r]),k.useEffect(()=>{typeof n<"u"&&P!==null&&P.setEditable(n)},[P,n]),k.useEffect(()=>{typeof i<"u"&&P!==null&&P.setVisible(i)},[P,i]),k.useEffect(()=>{typeof s<"u"&&P!==null&&P.setPath(s)},[P,s]),k.useEffect(()=>{P&&o&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(P,"dblclick",o)))},[o]),k.useEffect(()=>{P&&c&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(P,"dragend",c)))},[c]),k.useEffect(()=>{P&&d&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(P,"dragstart",d)))},[d]),k.useEffect(()=>{P&&h&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(P,"mousedown",h)))},[h]),k.useEffect(()=>{P&&p&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(P,"mousemove",p)))},[p]),k.useEffect(()=>{P&&m&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(P,"mouseout",m)))},[m]),k.useEffect(()=>{P&&g&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(P,"mouseover",g)))},[g]),k.useEffect(()=>{P&&w&&(re!==null&&google.maps.event.removeListener(re),W(google.maps.event.addListener(P,"mouseup",w)))},[w]),k.useEffect(()=>{P&&b&&(Q!==null&&google.maps.event.removeListener(Q),H(google.maps.event.addListener(P,"rightclick",b)))},[b]),k.useEffect(()=>{P&&_&&(oe!==null&&google.maps.event.removeListener(oe),X(google.maps.event.addListener(P,"click",_)))},[_]),k.useEffect(()=>{P&&x&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(P,"drag",x)))},[x]),k.useEffect(()=>{var pe=new google.maps.Polyline(Ig(Ig({},e||Kue),{},{map:A}));return s&&pe.setPath(s),typeof i<"u"&&pe.setVisible(i),typeof n<"u"&&pe.setEditable(n),typeof r<"u"&&pe.setDraggable(r),o&&T(google.maps.event.addListener(pe,"dblclick",o)),c&&L(google.maps.event.addListener(pe,"dragend",c)),d&&D(google.maps.event.addListener(pe,"dragstart",d)),h&&F(google.maps.event.addListener(pe,"mousedown",h)),p&&te(google.maps.event.addListener(pe,"mousemove",p)),m&&ee(google.maps.event.addListener(pe,"mouseout",m)),g&&Y(google.maps.event.addListener(pe,"mouseover",g)),w&&W(google.maps.event.addListener(pe,"mouseup",w)),b&&H(google.maps.event.addListener(pe,"rightclick",b)),_&&X(google.maps.event.addListener(pe,"click",_)),x&&le(google.maps.event.addListener(pe,"drag",x)),S(pe),C&&C(pe),()=>{E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),Z!==null&&google.maps.event.removeListener(Z),J!==null&&google.maps.event.removeListener(J),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),j&&j(pe),pe.setMap(null)}},[]),null}k.memo(Yue);class Que extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{polyline:null}),we(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Ig(Ig({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:fL,eventMap:hL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:fL,eventMap:hL,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),pt(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}we(Que,"contextType",nt);function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gL={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},vL={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function Xue(t){var{options:e,draggable:r,editable:n,visible:i,path:s,paths:o,onDblClick:c,onDragEnd:d,onDragStart:h,onMouseDown:p,onMouseMove:m,onMouseOut:g,onMouseOver:w,onMouseUp:b,onRightClick:_,onClick:x,onDrag:C,onLoad:j,onUnmount:A,onEdit:P}=t,S=k.useContext(nt),[E,T]=k.useState(null),[M,L]=k.useState(null),[R,D]=k.useState(null),[V,F]=k.useState(null),[Z,te]=k.useState(null),[J,ee]=k.useState(null),[K,Y]=k.useState(null),[re,W]=k.useState(null),[Q,H]=k.useState(null),[oe,X]=k.useState(null),[ue,le]=k.useState(null),[pe,z]=k.useState(null);return k.useEffect(()=>{E!==null&&E.setMap(S)},[S]),k.useEffect(()=>{typeof e<"u"&&E!==null&&E.setOptions(e)},[E,e]),k.useEffect(()=>{typeof r<"u"&&E!==null&&E.setDraggable(r)},[E,r]),k.useEffect(()=>{typeof n<"u"&&E!==null&&E.setEditable(n)},[E,n]),k.useEffect(()=>{typeof i<"u"&&E!==null&&E.setVisible(i)},[E,i]),k.useEffect(()=>{typeof s<"u"&&E!==null&&E.setPath(s)},[E,s]),k.useEffect(()=>{typeof o<"u"&&E!==null&&E.setPaths(o)},[E,o]),k.useEffect(()=>{E&&typeof c=="function"&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(E,"dblclick",c)))},[c]),k.useEffect(()=>{E&&(google.maps.event.addListener(E.getPath(),"insert_at",()=>{P?.(E)}),google.maps.event.addListener(E.getPath(),"set_at",()=>{P?.(E)}),google.maps.event.addListener(E.getPath(),"remove_at",()=>{P?.(E)}))},[E,P]),k.useEffect(()=>{E&&typeof d=="function"&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(E,"dragend",d)))},[d]),k.useEffect(()=>{E&&typeof h=="function"&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(E,"dragstart",h)))},[h]),k.useEffect(()=>{E&&typeof p=="function"&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(E,"mousedown",p)))},[p]),k.useEffect(()=>{E&&typeof m=="function"&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(E,"mousemove",m)))},[m]),k.useEffect(()=>{E&&typeof g=="function"&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(E,"mouseout",g)))},[g]),k.useEffect(()=>{E&&typeof w=="function"&&(re!==null&&google.maps.event.removeListener(re),W(google.maps.event.addListener(E,"mouseover",w)))},[w]),k.useEffect(()=>{E&&typeof b=="function"&&(Q!==null&&google.maps.event.removeListener(Q),H(google.maps.event.addListener(E,"mouseup",b)))},[b]),k.useEffect(()=>{E&&typeof _=="function"&&(oe!==null&&google.maps.event.removeListener(oe),X(google.maps.event.addListener(E,"rightclick",_)))},[_]),k.useEffect(()=>{E&&typeof x=="function"&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(E,"click",x)))},[x]),k.useEffect(()=>{E&&typeof C=="function"&&(pe!==null&&google.maps.event.removeListener(pe),z(google.maps.event.addListener(E,"drag",C)))},[C]),k.useEffect(()=>{var ae=new google.maps.Polygon(mL(mL({},e),{},{map:S}));return s&&ae.setPath(s),o&&ae.setPaths(o),typeof i<"u"&&ae.setVisible(i),typeof n<"u"&&ae.setEditable(n),typeof r<"u"&&ae.setDraggable(r),c&&L(google.maps.event.addListener(ae,"dblclick",c)),d&&D(google.maps.event.addListener(ae,"dragend",d)),h&&F(google.maps.event.addListener(ae,"dragstart",h)),p&&te(google.maps.event.addListener(ae,"mousedown",p)),m&&ee(google.maps.event.addListener(ae,"mousemove",m)),g&&Y(google.maps.event.addListener(ae,"mouseout",g)),w&&W(google.maps.event.addListener(ae,"mouseover",w)),b&&H(google.maps.event.addListener(ae,"mouseup",b)),_&&X(google.maps.event.addListener(ae,"rightclick",_)),x&&le(google.maps.event.addListener(ae,"click",x)),C&&z(google.maps.event.addListener(ae,"drag",C)),T(ae),j&&j(ae),()=>{M!==null&&google.maps.event.removeListener(M),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),Z!==null&&google.maps.event.removeListener(Z),J!==null&&google.maps.event.removeListener(J),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),A&&A(ae),ae.setMap(null)}},[]),null}k.memo(Xue);class Jue extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ut({updaterMap:vL,eventMap:gL,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:vL,eventMap:gL,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),pt(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}we(Jue,"contextType",nt);function yL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xL={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},bL={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function Zue(t){var{options:e,bounds:r,draggable:n,editable:i,visible:s,onDblClick:o,onDragEnd:c,onDragStart:d,onMouseDown:h,onMouseMove:p,onMouseOut:m,onMouseOver:g,onMouseUp:w,onRightClick:b,onClick:_,onDrag:x,onBoundsChanged:C,onLoad:j,onUnmount:A}=t,P=k.useContext(nt),[S,E]=k.useState(null),[T,M]=k.useState(null),[L,R]=k.useState(null),[D,V]=k.useState(null),[F,Z]=k.useState(null),[te,J]=k.useState(null),[ee,K]=k.useState(null),[Y,re]=k.useState(null),[W,Q]=k.useState(null),[H,oe]=k.useState(null),[X,ue]=k.useState(null),[le,pe]=k.useState(null),[z,ae]=k.useState(null);return k.useEffect(()=>{S!==null&&S.setMap(P)},[P]),k.useEffect(()=>{typeof e<"u"&&S!==null&&S.setOptions(e)},[S,e]),k.useEffect(()=>{typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),k.useEffect(()=>{typeof i<"u"&&S!==null&&S.setEditable(i)},[S,i]),k.useEffect(()=>{typeof s<"u"&&S!==null&&S.setVisible(s)},[S,s]),k.useEffect(()=>{typeof r<"u"&&S!==null&&S.setBounds(r)},[S,r]),k.useEffect(()=>{S&&o&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(S,"dblclick",o)))},[o]),k.useEffect(()=>{S&&c&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(S,"dragend",c)))},[c]),k.useEffect(()=>{S&&d&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(S,"dragstart",d)))},[d]),k.useEffect(()=>{S&&h&&(F!==null&&google.maps.event.removeListener(F),Z(google.maps.event.addListener(S,"mousedown",h)))},[h]),k.useEffect(()=>{S&&p&&(te!==null&&google.maps.event.removeListener(te),J(google.maps.event.addListener(S,"mousemove",p)))},[p]),k.useEffect(()=>{S&&m&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(S,"mouseout",m)))},[m]),k.useEffect(()=>{S&&g&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(S,"mouseover",g)))},[g]),k.useEffect(()=>{S&&w&&(W!==null&&google.maps.event.removeListener(W),Q(google.maps.event.addListener(S,"mouseup",w)))},[w]),k.useEffect(()=>{S&&b&&(H!==null&&google.maps.event.removeListener(H),oe(google.maps.event.addListener(S,"rightclick",b)))},[b]),k.useEffect(()=>{S&&_&&(X!==null&&google.maps.event.removeListener(X),ue(google.maps.event.addListener(S,"click",_)))},[_]),k.useEffect(()=>{S&&x&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(S,"drag",x)))},[x]),k.useEffect(()=>{S&&C&&(z!==null&&google.maps.event.removeListener(z),ae(google.maps.event.addListener(S,"bounds_changed",C)))},[C]),k.useEffect(()=>{var me=new google.maps.Rectangle(Mg(Mg({},e),{},{map:P}));return typeof s<"u"&&me.setVisible(s),typeof i<"u"&&me.setEditable(i),typeof n<"u"&&me.setDraggable(n),typeof r<"u"&&me.setBounds(r),o&&M(google.maps.event.addListener(me,"dblclick",o)),c&&R(google.maps.event.addListener(me,"dragend",c)),d&&V(google.maps.event.addListener(me,"dragstart",d)),h&&Z(google.maps.event.addListener(me,"mousedown",h)),p&&J(google.maps.event.addListener(me,"mousemove",p)),m&&K(google.maps.event.addListener(me,"mouseout",m)),g&&re(google.maps.event.addListener(me,"mouseover",g)),w&&Q(google.maps.event.addListener(me,"mouseup",w)),b&&oe(google.maps.event.addListener(me,"rightclick",b)),_&&ue(google.maps.event.addListener(me,"click",_)),x&&pe(google.maps.event.addListener(me,"drag",x)),C&&ae(google.maps.event.addListener(me,"bounds_changed",C)),E(me),j&&j(me),()=>{T!==null&&google.maps.event.removeListener(T),L!==null&&google.maps.event.removeListener(L),D!==null&&google.maps.event.removeListener(D),F!==null&&google.maps.event.removeListener(F),te!==null&&google.maps.event.removeListener(te),ee!==null&&google.maps.event.removeListener(ee),Y!==null&&google.maps.event.removeListener(Y),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),le!==null&&google.maps.event.removeListener(le),z!==null&&google.maps.event.removeListener(z),A&&A(me),me.setMap(null)}},[]),null}k.memo(Zue);class ede extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{rectangle:null}),we(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Mg(Mg({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:bL,eventMap:xL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:bL,eventMap:xL,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),pt(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}we(ede,"contextType",nt);function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _L={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},kL={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},tde={};function rde(t){var{options:e,center:r,radius:n,draggable:i,editable:s,visible:o,onDblClick:c,onDragEnd:d,onDragStart:h,onMouseDown:p,onMouseMove:m,onMouseOut:g,onMouseOver:w,onMouseUp:b,onRightClick:_,onClick:x,onDrag:C,onCenterChanged:j,onRadiusChanged:A,onLoad:P,onUnmount:S}=t,E=k.useContext(nt),[T,M]=k.useState(null),[L,R]=k.useState(null),[D,V]=k.useState(null),[F,Z]=k.useState(null),[te,J]=k.useState(null),[ee,K]=k.useState(null),[Y,re]=k.useState(null),[W,Q]=k.useState(null),[H,oe]=k.useState(null),[X,ue]=k.useState(null),[le,pe]=k.useState(null),[z,ae]=k.useState(null),[me,q]=k.useState(null),[fe,_e]=k.useState(null);return k.useEffect(()=>{T!==null&&T.setMap(E)},[E]),k.useEffect(()=>{typeof e<"u"&&T!==null&&T.setOptions(e)},[T,e]),k.useEffect(()=>{typeof i<"u"&&T!==null&&T.setDraggable(i)},[T,i]),k.useEffect(()=>{typeof s<"u"&&T!==null&&T.setEditable(s)},[T,s]),k.useEffect(()=>{typeof o<"u"&&T!==null&&T.setVisible(o)},[T,o]),k.useEffect(()=>{typeof n=="number"&&T!==null&&T.setRadius(n)},[T,n]),k.useEffect(()=>{typeof r<"u"&&T!==null&&T.setCenter(r)},[T,r]),k.useEffect(()=>{T&&c&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(T,"dblclick",c)))},[c]),k.useEffect(()=>{T&&d&&(D!==null&&google.maps.event.removeListener(D),V(google.maps.event.addListener(T,"dragend",d)))},[d]),k.useEffect(()=>{T&&h&&(F!==null&&google.maps.event.removeListener(F),Z(google.maps.event.addListener(T,"dragstart",h)))},[h]),k.useEffect(()=>{T&&p&&(te!==null&&google.maps.event.removeListener(te),J(google.maps.event.addListener(T,"mousedown",p)))},[p]),k.useEffect(()=>{T&&m&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(T,"mousemove",m)))},[m]),k.useEffect(()=>{T&&g&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(T,"mouseout",g)))},[g]),k.useEffect(()=>{T&&w&&(W!==null&&google.maps.event.removeListener(W),Q(google.maps.event.addListener(T,"mouseover",w)))},[w]),k.useEffect(()=>{T&&b&&(H!==null&&google.maps.event.removeListener(H),oe(google.maps.event.addListener(T,"mouseup",b)))},[b]),k.useEffect(()=>{T&&_&&(X!==null&&google.maps.event.removeListener(X),ue(google.maps.event.addListener(T,"rightclick",_)))},[_]),k.useEffect(()=>{T&&x&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(T,"click",x)))},[x]),k.useEffect(()=>{T&&C&&(z!==null&&google.maps.event.removeListener(z),ae(google.maps.event.addListener(T,"drag",C)))},[C]),k.useEffect(()=>{T&&j&&(me!==null&&google.maps.event.removeListener(me),q(google.maps.event.addListener(T,"center_changed",j)))},[x]),k.useEffect(()=>{T&&A&&(fe!==null&&google.maps.event.removeListener(fe),_e(google.maps.event.addListener(T,"radius_changed",A)))},[A]),k.useEffect(()=>{var Ee=new google.maps.Circle(Rg(Rg({},e||tde),{},{map:E}));return typeof n=="number"&&Ee.setRadius(n),typeof r<"u"&&Ee.setCenter(r),typeof n=="number"&&Ee.setRadius(n),typeof o<"u"&&Ee.setVisible(o),typeof s<"u"&&Ee.setEditable(s),typeof i<"u"&&Ee.setDraggable(i),c&&R(google.maps.event.addListener(Ee,"dblclick",c)),d&&V(google.maps.event.addListener(Ee,"dragend",d)),h&&Z(google.maps.event.addListener(Ee,"dragstart",h)),p&&J(google.maps.event.addListener(Ee,"mousedown",p)),m&&K(google.maps.event.addListener(Ee,"mousemove",m)),g&&re(google.maps.event.addListener(Ee,"mouseout",g)),w&&Q(google.maps.event.addListener(Ee,"mouseover",w)),b&&oe(google.maps.event.addListener(Ee,"mouseup",b)),_&&ue(google.maps.event.addListener(Ee,"rightclick",_)),x&&pe(google.maps.event.addListener(Ee,"click",x)),C&&ae(google.maps.event.addListener(Ee,"drag",C)),j&&q(google.maps.event.addListener(Ee,"center_changed",j)),A&&_e(google.maps.event.addListener(Ee,"radius_changed",A)),M(Ee),P&&P(Ee),()=>{L!==null&&google.maps.event.removeListener(L),D!==null&&google.maps.event.removeListener(D),F!==null&&google.maps.event.removeListener(F),te!==null&&google.maps.event.removeListener(te),ee!==null&&google.maps.event.removeListener(ee),Y!==null&&google.maps.event.removeListener(Y),W!==null&&google.maps.event.removeListener(W),H!==null&&google.maps.event.removeListener(H),X!==null&&google.maps.event.removeListener(X),le!==null&&google.maps.event.removeListener(le),me!==null&&google.maps.event.removeListener(me),fe!==null&&google.maps.event.removeListener(fe),S&&S(Ee),Ee.setMap(null)}},[]),null}k.memo(rde);class nde extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{circle:null}),we(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Rg(Rg({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:kL,eventMap:_L,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:kL,eventMap:_L,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),pt(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}we(nde,"contextType",nt);function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var SL={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},NL={add(t,e){t.add(e)},addgeojson(t,e,r){t.addGeoJson(e,r)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,r,n){t.loadGeoJson(e,r,n)},overridestyle(t,e,r){t.overrideStyle(e,r)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function ide(t){var{options:e,onClick:r,onDblClick:n,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:c,onMouseUp:d,onRightClick:h,onAddFeature:p,onRemoveFeature:m,onRemoveProperty:g,onSetGeometry:w,onSetProperty:b,onLoad:_,onUnmount:x}=t,C=k.useContext(nt),[j,A]=k.useState(null),[P,S]=k.useState(null),[E,T]=k.useState(null),[M,L]=k.useState(null),[R,D]=k.useState(null),[V,F]=k.useState(null),[Z,te]=k.useState(null),[J,ee]=k.useState(null),[K,Y]=k.useState(null),[re,W]=k.useState(null),[Q,H]=k.useState(null),[oe,X]=k.useState(null),[ue,le]=k.useState(null),[pe,z]=k.useState(null);return k.useEffect(()=>{j!==null&&j.setMap(C)},[C]),k.useEffect(()=>{j&&n&&(P!==null&&google.maps.event.removeListener(P),S(google.maps.event.addListener(j,"dblclick",n)))},[n]),k.useEffect(()=>{j&&i&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(j,"mousedown",i)))},[i]),k.useEffect(()=>{j&&s&&(M!==null&&google.maps.event.removeListener(M),L(google.maps.event.addListener(j,"mousemove",s)))},[s]),k.useEffect(()=>{j&&o&&(R!==null&&google.maps.event.removeListener(R),D(google.maps.event.addListener(j,"mouseout",o)))},[o]),k.useEffect(()=>{j&&c&&(V!==null&&google.maps.event.removeListener(V),F(google.maps.event.addListener(j,"mouseover",c)))},[c]),k.useEffect(()=>{j&&d&&(Z!==null&&google.maps.event.removeListener(Z),te(google.maps.event.addListener(j,"mouseup",d)))},[d]),k.useEffect(()=>{j&&h&&(J!==null&&google.maps.event.removeListener(J),ee(google.maps.event.addListener(j,"rightclick",h)))},[h]),k.useEffect(()=>{j&&r&&(K!==null&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(j,"click",r)))},[r]),k.useEffect(()=>{j&&p&&(re!==null&&google.maps.event.removeListener(re),W(google.maps.event.addListener(j,"addfeature",p)))},[p]),k.useEffect(()=>{j&&m&&(Q!==null&&google.maps.event.removeListener(Q),H(google.maps.event.addListener(j,"removefeature",m)))},[m]),k.useEffect(()=>{j&&g&&(oe!==null&&google.maps.event.removeListener(oe),X(google.maps.event.addListener(j,"removeproperty",g)))},[g]),k.useEffect(()=>{j&&w&&(ue!==null&&google.maps.event.removeListener(ue),le(google.maps.event.addListener(j,"setgeometry",w)))},[w]),k.useEffect(()=>{j&&b&&(pe!==null&&google.maps.event.removeListener(pe),z(google.maps.event.addListener(j,"setproperty",b)))},[b]),k.useEffect(()=>{if(C!==null){var ae=new google.maps.Data(Lg(Lg({},e),{},{map:C}));n&&S(google.maps.event.addListener(ae,"dblclick",n)),i&&T(google.maps.event.addListener(ae,"mousedown",i)),s&&L(google.maps.event.addListener(ae,"mousemove",s)),o&&D(google.maps.event.addListener(ae,"mouseout",o)),c&&F(google.maps.event.addListener(ae,"mouseover",c)),d&&te(google.maps.event.addListener(ae,"mouseup",d)),h&&ee(google.maps.event.addListener(ae,"rightclick",h)),r&&Y(google.maps.event.addListener(ae,"click",r)),p&&W(google.maps.event.addListener(ae,"addfeature",p)),m&&H(google.maps.event.addListener(ae,"removefeature",m)),g&&X(google.maps.event.addListener(ae,"removeproperty",g)),w&&le(google.maps.event.addListener(ae,"setgeometry",w)),b&&z(google.maps.event.addListener(ae,"setproperty",b)),A(ae),_&&_(ae)}return()=>{j&&(P!==null&&google.maps.event.removeListener(P),E!==null&&google.maps.event.removeListener(E),M!==null&&google.maps.event.removeListener(M),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),Z!==null&&google.maps.event.removeListener(Z),J!==null&&google.maps.event.removeListener(J),K!==null&&google.maps.event.removeListener(K),re!==null&&google.maps.event.removeListener(re),Q!==null&&google.maps.event.removeListener(Q),oe!==null&&google.maps.event.removeListener(oe),ue!==null&&google.maps.event.removeListener(ue),pe!==null&&google.maps.event.removeListener(pe),x&&x(j),j.setMap(null))}},[]),null}k.memo(ide);class sde extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{data:null}),we(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Lg(Lg({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:NL,eventMap:SL,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:NL,eventMap:SL,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),pt(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}we(sde,"contextType",nt);function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TL={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},AL={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class ade extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{kmlLayer:null}),we(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(CL(CL({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:AL,eventMap:TL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:AL,eventMap:TL,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),pt(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}we(ade,"contextType",nt);function yF(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function ode(t,e){return new e(t.lat,t.lng)}function lde(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function cde(t,e,r){return t instanceof e?t:r(t,e)}function ude(t,e,r){return t instanceof e?t:r(t,e)}function dde(t,e,r){var n=t&&t.fromLatLngToDivPixel(r.getNorthEast()),i=t&&t.fromLatLngToDivPixel(r.getSouthWest());return n&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-i.x-e.x,"px"),height:"".concat(i.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function hde(t,e,r){var n=t&&t.fromLatLngToDivPixel(r);if(n){var{x:i,y:s}=n;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function xF(t,e,r,n){return r!==void 0?dde(t,e,ude(r,google.maps.LatLngBounds,lde)):hde(t,e,cde(n,google.maps.LatLng,ode))}function fde(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mde(t,e,r,n,i){class s extends google.maps.OverlayView{constructor(c,d,h,p){super(),this.container=c,this.pane=d,this.position=h,this.bounds=p}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d?.appendChild(this.container)}draw(){var c=this.getProjection(),d=pde({},this.container?yF(this.container,i):{x:0,y:0}),h=xF(c,d,this.bounds,this.position);for(var[p,m]of Object.entries(h))this.container.style[p]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,r,n)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IL(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function ML(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function vde(t){var{position:e,bounds:r,mapPaneName:n,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:c,children:d}=t,h=k.useContext(nt),p=k.useMemo(()=>{var g=document.createElement("div");return g.style.position="absolute",g},[]),m=k.useMemo(()=>mde(p,n,e,r,c),[p,n,e,r]);return k.useEffect(()=>(s?.(m),m?.setMap(h),()=>{o?.(m),m?.setMap(null)}),[h,m]),k.useEffect(()=>{p.style.zIndex="".concat(i)},[i,p]),Tu.createPortal(d,p)}k.memo(vde);class Pu extends k.PureComponent{constructor(e){super(e),we(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),we(this,"updatePane",()=>{var n=this.props.mapPaneName,i=this.overlayView.getPanes();Ir(!!n,"OverlayView requires props.mapPaneName but got %s",n),i?this.setState({paneEl:i[n]}):this.setState({paneEl:null})}),we(this,"onAdd",()=>{var n,i;this.updatePane(),(n=(i=this.props).onLoad)===null||n===void 0||n.call(i,this.overlayView)}),we(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),i=gde({x:0,y:0},this.containerRef.current?yF(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=xF(n,i,this.props.bounds,this.props.position);if(!fde(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,c,d,h;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(c=s.left)!==null&&c!==void 0?c:0,width:(d=s.width)!==null&&d!==void 0?d:0,height:(h=s.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),we(this,"draw",()=>{this.onPositionElement()}),we(this,"onRemove",()=>{var n,i;this.setState(()=>({paneEl:null})),(n=(i=this.props).onUnmount)===null||n===void 0||n.call(i,this.overlayView)}),this.containerRef=k.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var r=IL(e.position),n=IL(this.props.position),i=ML(e.bounds),s=ML(this.props.bounds);(r!==n||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Tu.createPortal(a.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:k.Children.only(this.props.children)}),e):null}}we(Pu,"FLOAT_PANE","floatPane");we(Pu,"MAP_PANE","mapPane");we(Pu,"MARKER_LAYER","markerLayer");we(Pu,"OVERLAY_LAYER","overlayLayer");we(Pu,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");we(Pu,"contextType",nt);function yde(){}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DL={onDblClick:"dblclick",onClick:"click"},$L={opacity(t,e){t.setOpacity(e)}};function xde(t){var{url:e,bounds:r,options:n,visible:i}=t,s=k.useContext(nt),o=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),c=k.useMemo(()=>new google.maps.GroundOverlay(e,o,n),[]);return k.useEffect(()=>{c!==null&&c.setMap(s)},[s]),k.useEffect(()=>{typeof e<"u"&&c!==null&&(c.set("url",e),c.setMap(s))},[c,e]),k.useEffect(()=>{typeof i<"u"&&c!==null&&c.setOpacity(i?1:0)},[c,i]),k.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&c!==null&&(c.set("bounds",d),c.setMap(s))},[c,r]),null}k.memo(xde);class bF extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{groundOverlay:null}),we(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ir(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,LL(LL({},this.props.options),{},{map:this.context}));this.registeredEvents=ut({updaterMap:$L,eventMap:DL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:$L,eventMap:DL,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}we(bF,"defaultProps",{onLoad:yde});we(bF,"contextType",nt);function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var VL={},BL={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function bde(t){var{data:e,onLoad:r,onUnmount:n,options:i}=t,s=k.useContext(nt),[o,c]=k.useState(null);return k.useEffect(()=>{google.maps.visualization||Ir(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),k.useEffect(()=>{Ir(!!e,"data property is required in HeatmapLayer %s",e)},[e]),k.useEffect(()=>{o!==null&&o.setMap(s)},[s]),k.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),k.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Dg(Dg({},i),{},{data:e,map:s}));return c(d),r&&r(d),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}k.memo(bde);class wde extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{heatmapLayer:null}),we(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ir(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ir(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Dg(Dg({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ut({updaterMap:BL,eventMap:VL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:BL,eventMap:VL,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),pt(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}we(wde,"contextType",nt);var UL={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},zL={register(t,e,r){t.registerPanoProvider(e,r)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class _de extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{streetViewPanorama:null}),we(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,r,n=(e=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ut({updaterMap:zL,eventMap:UL,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:zL,eventMap:UL,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),pt(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}we(_de,"contextType",nt);class kde extends k.PureComponent{constructor(){super(...arguments),we(this,"state",{streetViewService:null}),we(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}we(kde,"contextType",nt);var qL={onDirectionsChanged:"directions_changed"},WL={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class jde extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"state",{directionsRenderer:null}),we(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ut({updaterMap:WL,eventMap:qL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:WL,eventMap:qL,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),pt(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}we(jde,"contextType",nt);var HL={onPlacesChanged:"places_changed"},GL={bounds(t,e){t.setBounds(e)}};class Sde extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"containerElement",k.createRef()),we(this,"state",{searchBox:null}),we(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ir(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var r=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ut({updaterMap:GL,eventMap:HL,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:GL,eventMap:HL,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),pt(this.registeredEvents))}render(){return a.jsx("div",{ref:this.containerElement,children:k.Children.only(this.props.children)})}}we(Sde,"contextType",nt);var KL={onPlaceChanged:"place_changed"},YL={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class wF extends k.PureComponent{constructor(){super(...arguments),we(this,"registeredEvents",[]),we(this,"containerElement",k.createRef()),we(this,"state",{autocomplete:null}),we(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Ir(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(r){var n=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=ut({updaterMap:YL,eventMap:KL,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){pt(this.registeredEvents),this.registeredEvents=ut({updaterMap:YL,eventMap:KL,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&pt(this.registeredEvents)}render(){return a.jsx("div",{ref:this.containerElement,className:this.props.className,children:k.Children.only(this.props.children)})}}we(wF,"defaultProps",{className:""});we(wF,"contextType",nt);var Nde={};const Ede=[{id:1,name:"Synergy Management",type:"National Account",contact:{name:"Sarah Connor",email:"s.connor@synergy.com",phone:"555-0101"},billingAddress:{street:"100 Main St",city:"Southfield",state:"MI",zip:"48075"},locations:[{name:"Lane Bryant",locNum:"4826",city:"LIVONIA",state:"MI"},{name:"Lane Bryant",locNum:"6065",city:"LATHRUP VLG",state:"MI"}]},{id:2,name:"Retail Maintenance Inc.",type:"National Account",contact:{name:"Bob Belcher",email:"bob@rmi.com",phone:"555-0102"},billingAddress:{street:"200 Corporate Dr",city:"Troy",state:"MI",zip:"48084"},locations:[{name:"Value City Furniture",locNum:"175",city:"NOVI",state:"MI"},{name:"Value City Furniture",locNum:"188",city:"CANTON TWP",state:"MI"}]},{id:3,name:"Mr. Henderson",type:"Residential",contact:{name:"James Henderson",email:"j.henderson@email.com",phone:"555-0103"},billingAddress:{street:"123 Oak Ave",city:"Southfield",state:"MI",zip:"48076"},locations:[{name:"Primary Residence",locNum:"N/A",city:"SOUTHFIELD",state:"MI"}]}],Cde=[{"WO#":"6748425-01",clientWO:"SYN-10234",Client:"Synergy Management",Company:"Lane Bryant","Loc #":"4826",Category:"Heating & Cooling",Task:"HVAC Fall Startup","Created Date":45852.5421875,"Schedule Date":45900,startTime:"09:00",endTime:"11:00",City:"LIVONIA",State:"MI",NTE:150.5,technician:["John Smith","Jane Doe"],notes:[],Priority:"Low","Order Status":"Scheduled"},{"WO#":"6694098-01",clientWO:"RMI-55912",Client:"Retail Maintenance Inc.",Company:"Value City Furniture","Loc #":"175",Category:"Heating & Cooling",Task:"AC Leak","Created Date":45792.889,"Schedule Date":45900,startTime:"14:00",endTime:"16:30","Completed Date":45812.498,City:"NOVI",State:"MI",NTE:750,technician:["John Smith"],notes:[{text:"Customer reported leak from ceiling unit.",timestamp:"2025-06-20T14:00:00Z"}],Priority:"Urgent","Order Status":"Completed"},{"WO#":"6693039-01",clientWO:"NSG-345-A",Client:"National Service Group",Company:"Floor & Decor","Loc #":"230",Category:"Heating & Cooling",Task:"Too Hot","Created Date":45791.847,"Schedule Date":null,startTime:null,endTime:null,City:"MADISON HTS",State:"MI",NTE:2500,technician:[],notes:[{text:"Manager called, says store is unbearable.",timestamp:"2025-06-20T09:30:00Z"}],Priority:"Emergency","Order Status":"Open"}].map(t=>({...t,id:t["WO#"]})),Tde=[{id:1,name:"John Smith",email:"john.s@example.com",phone:"555-1111",status:"Available"},{id:2,name:"Jane Doe",email:"jane.d@example.com",phone:"555-2222",status:"On Site"},{id:3,name:"Mike Rowe",email:"mike.r@example.com",phone:"555-3333",status:"On Call"},{id:4,name:"Sarah Jenkins",email:"sarah.j@example.com",phone:"555-4444",status:"Day Off"}],Ade=[{id:"INV-001",workOrderId:"6694098-01",customerName:"Retail Maintenance Inc.",date:new Date().toISOString(),amount:750,status:"Paid"},{id:"INV-002",workOrderId:"6748425-01",customerName:"Synergy Management",date:new Date(Date.now()-7*24*60*60*1e3).toISOString(),amount:150.5,status:"Pending"},{id:"INV-003",workOrderId:"6693039-01",customerName:"National Service Group",date:new Date(Date.now()-14*24*60*60*1e3).toISOString(),amount:2500,status:"Paid"},{id:"INV-004",workOrderId:null,customerName:"Mr. Henderson",date:new Date(Date.now()-3*24*60*60*1e3).toISOString(),amount:425,status:"Overdue"}],Pde=[{id:"QT-001",customerName:"Mr. Henderson",date:new Date().toISOString(),amount:1200,description:"New AC unit installation",status:"Sent"},{id:"QT-002",customerName:"Synergy Management",date:new Date(Date.now()-5*24*60*60*1e3).toISOString(),amount:3500,description:"Complete HVAC system upgrade for Lane Bryant locations",status:"Pending"},{id:"QT-003",customerName:"Retail Maintenance Inc.",date:new Date(Date.now()-10*24*60*60*1e3).toISOString(),amount:850,description:"Preventive maintenance contract",status:"Accepted"},{id:"QT-004",customerName:"Downtown Office Complex",date:new Date(Date.now()-2*24*60*60*1e3).toISOString(),amount:2200,description:"Rooftop unit replacement",status:"Draft"}],XS=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,JS=t=>t?t.getTime()/864e5+25569:null,ZS=t=>{const e=XS(t);return e?e.toISOString().split("T")[0]:""},eN=t=>t?JS(new Date(t+"T00:00:00")):null,Md=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},_F=t=>{const e=XS(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Ode=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",Ii=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),qh=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Ide=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Mde=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Rde=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Lde=({workOrders:t,customers:e,onClose:r,onAddInvoice:n})=>{const[i,s]=k.useState(""),[o,c]=k.useState(""),[d,h]=k.useState(""),[p,m]=k.useState(""),[g,w]=k.useState(""),[b,_]=k.useState(!1),x=t.filter(A=>A["Order Status"]==="Completed"),C=x.find(A=>A.id===i),j=A=>{if(A.preventDefault(),!d||!i&&!o)return;const P={id:`INV-${Date.now()}`,workOrderId:i||null,customerName:b?o:C?.Client||"",date:new Date().toISOString(),amount:parseFloat(d),status:"Draft",description:p||C?.Task||"",dueDate:g||new Date(Date.now()+30*24*60*60*1e3).toISOString()};n(P),r()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:j,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Invoice"}),a.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Is,{size:28})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",checked:!b,onChange:()=>_(!1),className:"mr-2"}),"From Work Order"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",checked:b,onChange:()=>_(!0),className:"mr-2"}),"Custom Invoice"]})]}),b?a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",value:o,onChange:A=>c(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Enter customer name",required:!0})]}):a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Select Completed Work Order"}),a.jsxs("select",{value:i,onChange:A=>{s(A.target.value);const P=x.find(S=>S.id===A.target.value);P&&(h(P.NTE||""),m(P.Task||""))},className:"w-full p-2 border border-gray-300 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select a work order..."}),x.map(A=>a.jsxs("option",{value:A.id,children:[A["WO#"]," - ",A.Client," - ",A.Company," - ",Ii(A.NTE)]},A.id))]}),C&&a.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Customer:"})," ",C.Client]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Location:"})," ",C.Company]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Task:"})," ",C.Task]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Amount:"})," ",Ii(C.NTE)]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Invoice Amount"}),a.jsx("input",{type:"number",step:"0.01",value:d,onChange:A=>h(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Description"}),a.jsx("textarea",{value:p,onChange:A=>m(A.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Invoice description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Due Date"}),a.jsx("input",{type:"date",value:g,onChange:A=>w(A.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:r,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Create Invoice"})]})]})})},Dde=({customers:t,onClose:e,onAddQuote:r})=>{const[n,i]=k.useState(""),[s,o]=k.useState(""),[c,d]=k.useState(""),[h,p]=k.useState(""),[m,g]=k.useState(""),w=b=>{if(b.preventDefault(),!n||!s||!c)return;const _={id:`QT-${Date.now()}`,customerName:n,date:new Date().toISOString(),amount:parseFloat(s),description:c,status:"Draft",validUntil:h||new Date(Date.now()+30*24*60*60*1e3).toISOString(),notes:m};r(_),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:w,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Quote"}),a.jsx("button",{type:"button",onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Is,{size:28})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer"}),a.jsxs("select",{value:n,onChange:b=>i(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0,children:[a.jsx("option",{value:"",children:"Select a customer..."}),t.map(b=>a.jsx("option",{value:b.name,children:b.name},b.id)),a.jsx("option",{value:"custom",children:"Other (Enter below)"})]}),n==="custom"&&a.jsx("input",{type:"text",placeholder:"Enter customer name",onChange:b=>i(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mt-2",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Quote Amount"}),a.jsx("input",{type:"number",step:"0.01",value:s,onChange:b=>o(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Description of Work"}),a.jsx("textarea",{value:c,onChange:b=>d(b.target.value),rows:"4",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Describe the work to be performed...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Valid Until"}),a.jsx("input",{type:"date",value:h,onChange:b=>p(b.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Additional Notes"}),a.jsx("textarea",{value:m,onChange:b=>g(b.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Any additional notes or terms..."})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Create Quote"})]})]})})},$de=({onClose:t,onAddCustomer:e})=>{const[r,n]=k.useState(""),[i,s]=k.useState("Commercial"),[o,c]=k.useState(""),[d,h]=k.useState(""),[p,m]=k.useState(""),[g,w]=k.useState(""),[b,_]=k.useState(""),[x,C]=k.useState("MI"),[j,A]=k.useState(""),P=S=>{if(S.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:i,contact:{name:o,email:d,phone:p},billingAddress:{street:g,city:b,state:x,zip:j},locations:[]}),t()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:P,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",value:r,onChange:S=>n(S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),a.jsxs("select",{value:i,onChange:S=>s(S.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Commercial"}),a.jsx("option",{children:"Residential"}),a.jsx("option",{children:"National Account"}),a.jsx("option",{children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Name"}),a.jsx("input",{value:o,onChange:S=>c(S.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Email"}),a.jsx("input",{value:d,onChange:S=>h(S.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Phone"}),a.jsx("input",{value:p,onChange:S=>m(S.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"font-semibold",children:"Billing Address"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-xs",children:"Street"}),a.jsx("input",{value:g,onChange:S=>w(S.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"City"}),a.jsx("input",{value:b,onChange:S=>_(S.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"State"}),a.jsx("input",{value:x,onChange:S=>C(S.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Zip"}),a.jsx("input",{value:j,onChange:S=>A(S.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},Fde=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,i]=k.useState(t),s=(c,d=null)=>{const{name:h,value:p}=c.target;i(d?m=>({...m,[d]:{...m[d],[h]:p}}):m=>({...m,[h]:p}))},o=c=>{c.preventDefault(),r(n),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),a.jsx("input",{type:"text",name:"name",value:n.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),a.jsxs("select",{name:"type",value:n.type,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Commercial"}),a.jsx("option",{children:"Residential"}),a.jsx("option",{children:"National Account"}),a.jsx("option",{children:"Maintenance"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Name"}),a.jsx("input",{name:"name",value:n.contact.name,onChange:c=>s(c,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Email"}),a.jsx("input",{name:"email",value:n.contact.email,onChange:c=>s(c,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Phone"}),a.jsx("input",{name:"phone",value:n.contact.phone,onChange:c=>s(c,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"font-semibold",children:"Billing Address"}),a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"text-xs",children:"Street"}),a.jsx("input",{name:"street",value:n.billingAddress.street,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"City"}),a.jsx("input",{name:"city",value:n.billingAddress.city,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"State"}),a.jsx("input",{name:"state",value:n.billingAddress.state,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs",children:"Zip"}),a.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:c=>s(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Vde=({customer:t,onClose:e,onAddLocation:r})=>{const[n,i]=k.useState(""),[s,o]=k.useState(""),[c,d]=k.useState(""),[h,p]=k.useState("MI"),m=g=>{if(g.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:s,city:c,state:h}),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),a.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),a.jsx("input",{type:"text",value:s,onChange:g=>o(g.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),a.jsx("input",{type:"text",value:c,onChange:g=>d(g.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),a.jsx("input",{type:"text",value:h,onChange:g=>p(g.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Bde=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=k.useState(r[0]?.id||""),[s,o]=k.useState(""),[c,d]=k.useState(""),[h,p]=k.useState("Regular"),[m,g]=k.useState("Heating & Cooling"),[w,b]=k.useState(""),[_,x]=k.useState(""),[C,j]=k.useState(""),[A,P]=k.useState(""),[S,E]=k.useState(""),T=k.useMemo(()=>r.find(R=>R.id===n),[n,r]);k.useEffect(()=>{if(T?.locations?.[0]){const R=T.locations[0];o(`${R.name}-${R.locNum}-0`)}else o("")},[T]);const M=R=>{o(R)},L=R=>{R.preventDefault();const[D,V]=s.split("-").slice(0,2),F=T.locations.find(Z=>Z.name===D&&Z.locNum===V);if(!n||!F||!c){alert("Please fill out all required fields.");return}e({Client:T.name,Company:F.name,"Loc #":F.locNum,Task:c,Priority:h,Category:m,City:F.city,State:F.state,NTE:parseFloat(w)||0,"Schedule Date":eN(_),startTime:C,endTime:A,clientWO:S})};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),a.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Is,{size:28})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),a.jsx("select",{value:n,onChange:R=>i(parseInt(R.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(R=>a.jsx("option",{value:R.id,children:R.name},R.id))})]}),T&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),a.jsx("select",{value:s,onChange:R=>M(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:T.locations.map((R,D)=>a.jsxs("option",{value:`${R.name}-${R.locNum}-${D}`,children:[R.name," (#",R.locNum,")"]},`${R.name}-${R.locNum}-${D}`))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),a.jsx("input",{type:"text",value:S,onChange:R=>E(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),a.jsx("textarea",{value:c,onChange:R=>d(R.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),a.jsxs("select",{value:h,onChange:R=>p(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Regular"}),a.jsx("option",{children:"Low"}),a.jsx("option",{children:"Urgent"}),a.jsx("option",{children:"Emergency"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),a.jsxs("select",{value:m,onChange:R=>g(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Heating & Cooling"}),a.jsx("option",{children:"Refrigeration"}),a.jsx("option",{children:"Maintenance"}),a.jsx("option",{children:"Plumbing"}),a.jsx("option",{children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),a.jsx("input",{type:"number",value:w,onChange:R=>b(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),a.jsx("input",{type:"date",value:_,onChange:R=>x(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),a.jsx("input",{type:"time",value:C,onChange:R=>j(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),a.jsx("input",{type:"time",value:A,onChange:R=>P(R.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),a.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Ude=({onClose:t,onAdd:e})=>{const[r,n]=k.useState(""),[i,s]=k.useState(""),[o,c]=k.useState(""),d=h=>{h.preventDefault(),r.trim()&&(e({name:r,email:i,phone:o,status:"Available"}),t())};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),a.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),a.jsx("input",{type:"email",value:i,onChange:h=>s(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:o,onChange:h=>c(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},zde=({technician:t,onClose:e,onUpdate:r})=>{const[n,i]=k.useState(t),s=c=>i(d=>({...d,[c.target.name]:c.target.value})),o=c=>{c.preventDefault(),r(n),e()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),a.jsx("input",{type:"text",name:"name",value:n.name,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:n.email,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),a.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),a.jsxs("select",{name:"status",value:n.status,onChange:s,className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Available"}),a.jsx("option",{children:"En Route"}),a.jsx("option",{children:"On Site"}),a.jsx("option",{children:"On Break"}),a.jsx("option",{children:"On Call"}),a.jsx("option",{children:"Day Off"})]})]})]}),a.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},qde=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>a.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?a.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:a.jsx(zW,{size:24})}):a.jsx(Ga,{className:"h-8 w-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Schedule Dashboard"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(rn,{size:20})," Billing"]}),a.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(GW,{size:20})," Reporting"]}),a.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(ZW,{size:20})," Route"]}),a.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(D1,{size:20})," Dispatch"]}),a.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(rs,{size:20})," Customers"]}),a.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(F1,{size:20})," Technicians"]}),a.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(xn,{size:20})," Add Work Order"]})]})]})})}),Wde=({order:t,onSelectOrder:e})=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:qh(t.Priority).borderColor},children:[a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${qh(t.Priority)}`,children:t.Priority}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Ide(t["Order Status"])}`,children:t["Order Status"]})]}),a.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[a.jsx(L3,{size:12,className:"mr-1.5"})," ",t.Client]}),a.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),a.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(F1,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(D1,{className:"w-4 h-4 mr-2 text-gray-400"}),a.jsxs("span",{children:["Scheduled: ",_F(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${Md(t.startTime)})`]})]}),t.clientWO&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),a.jsx("span",{children:t.clientWO})]})]})]}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:a.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),Hde=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:i,setStatusFilter:s})=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"relative md:col-span-2",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:o=>n(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsxs("select",{value:i,onChange:o=>s(o.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{children:"All"}),a.jsx("option",{children:"Open"}),a.jsx("option",{children:"Scheduled"}),a.jsx("option",{children:"In Progress"}),a.jsx("option",{children:"On Hold"}),a.jsx("option",{children:"Completed"}),a.jsx("option",{children:"Cancelled"})]}),a.jsx(ih,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>a.jsx(Wde,{order:o,onSelectOrder:e},o.id))}):a.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Gde=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[i,s]=k.useState(new Date().toISOString().split("T")[0]),o=Array.from({length:13},(x,C)=>C+7),c=e.filter(x=>x.name!=="Unassigned"),d=x=>{const C=c.findIndex(j=>j.name===x);return C===-1?-1:C+2},h=x=>{if(!x)return 0;const[C,j]=x.split(":").map(Number);return isNaN(C)||isNaN(j)?0:(C-7)*4+j/15+2},p=t.filter(x=>ZS(x["Schedule Date"])===i&&x.startTime&&x.endTime&&x.technician?.length>0),m=t.filter(x=>x["Order Status"]==="Open"||!x.technician||x.technician.length===0).sort((x,C)=>{const j={Emergency:1,Urgent:2,Regular:3,Low:4};return(j[x.Priority]||5)-(j[C.Priority]||5)}),g=(x,C)=>{x.dataTransfer.setData("workOrder",JSON.stringify(C))},w=(x,C,j)=>{x.preventDefault();const A=JSON.parse(x.dataTransfer.getData("workOrder")),P=j,S=`${String(parseInt(j.split(":")[0])+2).padStart(2,"0")}:${j.split(":")[1]}`;n(A.id,{...A,technician:[C],"Schedule Date":eN(i),startTime:P,endTime:S,"Order Status":"Scheduled"})},b=x=>{x.preventDefault();const C=JSON.parse(x.dataTransfer.getData("workOrder"));n(C.id,{...C,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},_=x=>x.preventDefault();return a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),a.jsx("input",{type:"date",value:i,onChange:x=>s(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:b,onDragOver:_,children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),a.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(x=>a.jsxs("div",{draggable:!0,onDragStart:C=>g(C,x),className:`p-2 border-l-4 rounded cursor-grab ${qh(x.Priority)}`,children:[a.jsx("p",{className:"font-bold text-sm",children:x.Company}),a.jsx("p",{className:"text-xs text-gray-600",children:x.Task})]},x.id))})]}),a.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:a.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${c.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${o.length*4}, 20px)`},children:[a.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),c.map(x=>a.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[a.jsx("span",{children:x.name}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${Rde(x.status)}`,children:x.status})]},x.id)),o.map(x=>a.jsxs(ne.Fragment,{children:[a.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(x-7)*4+2},children:[x>12?x-12:x,":00 ",x>=12?"PM":"AM"]}),c.map((C,j)=>a.jsx(ne.Fragment,{children:Array.from({length:4}).map((A,P)=>a.jsx("div",{onDrop:S=>w(S,C.name,`${String(x).padStart(2,"0")}:${String(P*15).padStart(2,"0")}`),onDragOver:_,className:"border-t border-gray-200",style:{gridRow:(x-7)*4+P+2,gridColumn:j+2}},`${C.id}-${x}-${P}`))},C.id))]},x)),p.flatMap(x=>x.technician.map(C=>{const j=d(C),A=h(x.startTime),P=h(x.endTime);return j<0||!A||!P||P<=A?null:a.jsxs("div",{draggable:!0,onDragStart:S=>g(S,x),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${qh(x.Priority)}`,style:{gridColumn:j,gridRow:`${A} / ${P}`},onClick:()=>r(x),children:[a.jsx("p",{className:"font-bold truncate",children:x.Company}),a.jsx("p",{className:"truncate",children:x.Task})]},`${x.id}-${C}`)}))]})})]})]})},Kde=({workOrders:t,technicians:e})=>{const[r,n]=k.useState("ALL"),[i,s]=k.useState("today"),[o,c]=k.useState(new Date().toISOString().split("T")[0]),[d,h]=k.useState(new Date().toISOString().split("T")[0]),p=Nde.REACT_APP_GOOGLE_MAPS_API_KEY,m=k.useMemo(()=>{let b=new Date,_=new Date;switch(eue({id:"google-map-script",googleMapsApiKey:"AIzaSyCljshlbFqLxy3p7uK2CAIYS9l284OWh_8"}),i){case"today":b=new Date,_=new Date;break;case"3-day":b=new Date,_=new Date,_.setDate(b.getDate()+2);break;case"week":b=new Date;const j=b.getDay();b.setDate(b.getDate()-j),_.setDate(b.getDate()+6);break;case"custom":b=new Date(o+"T00:00:00"),_=new Date(d+"T00:00:00");break}const x=t.filter(j=>{const A=XS(j["Schedule Date"]);return A>=b&&A<=_}),C=e.find(j=>j.id===r)?.name;return r!=="ALL"?x.filter(j=>j.technician.includes(C)).sort((j,A)=>(j.startTime||"").localeCompare(A.startTime||"")):x.sort((j,A)=>(j.startTime||"").localeCompare(A.startTime||""))},[r,t,e,i,o,d]),g=k.useMemo(()=>m.reduce((b,_)=>{const x=ZS(_["Schedule Date"]);return b[x]||(b[x]={}),_.technician.forEach(C=>{b[x][C]||(b[x][C]=[]),b[x][C].push(_)}),b},{}),[m]),w=()=>window.print();return k.useEffect(()=>{if(window.google&&window.google.maps&&p){const b=document.getElementById("route-map");if(b){const _=new window.google.maps.Map(b,{zoom:10,center:{lat:42.4668,lng:-83.1632},mapTypeId:"roadmap"});Object.entries(g).forEach(([x,C])=>{Object.entries(C).forEach(([j,A])=>{A.forEach((P,S)=>{const E=42.4668+(Math.random()-.5)*.2,T=-83.1632+(Math.random()-.5)*.2;new window.google.maps.Marker({position:{lat:E,lng:T},map:_,title:`${P.Company} - ${P.Task}`,label:String(S+1)})})})})}}},[g,p]),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("select",{value:i,onChange:b=>s(b.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"3-day",children:"Next 3 Days"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"custom",children:"Custom Range"})]}),i==="custom"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"date",value:o,onChange:b=>c(b.target.value),className:"p-2 border border-gray-300 rounded-lg"}),a.jsx("input",{type:"date",value:d,onChange:b=>h(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("select",{value:r,onChange:b=>n(b.target.value==="ALL"?"ALL":Number(b.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(b=>b.name!=="Unassigned").map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),a.jsxs("button",{onClick:w,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[a.jsx(rH,{size:20})," Print Route"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(g).length>0?Object.entries(g).map(([b,_])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(b+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(_).map(([x,C])=>a.jsxs("div",{className:"mb-4",children:[r==="ALL"&&a.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:x}),a.jsx("div",{className:"space-y-2",children:C.map((j,A)=>a.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[a.jsx("span",{className:"text-xl font-bold text-gray-400",children:A+1}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold",children:[Md(j.startTime)," - ",Md(j.endTime)]}),a.jsxs("p",{children:[j.Company," - ",j.City]}),a.jsx("p",{className:"text-sm text-gray-600",children:j.Task})]})]},j.id))})]},x))]},b)):a.jsx("p",{children:"No jobs scheduled for this selection."})]}),a.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:a.jsx("div",{id:"route-map",className:"w-full h-full rounded-lg",children:a.jsx("p",{className:"text-gray-500 flex items-center justify-center h-full",children:"Map will load here once Google Maps API key is configured"})})})]}),a.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),a.jsxs("div",{className:"print-container hidden print:block",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(b=>b.id===r)?.name," on ",new Date(o+"T00:00:00").toLocaleDateString()]}),Object.entries(g).map(([b,_])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(b+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(_).map(([x,C])=>a.jsxs("div",{className:"mb-2",children:[a.jsx("h4",{className:"font-semibold text-md mt-2",children:x}),C.map((j,A)=>a.jsxs("div",{className:"p-2 border-b",children:[a.jsx("p",{children:a.jsxs("strong",{children:[A+1,". ",Md(j.startTime)," - ",Md(j.endTime),": ",j.Company]})}),a.jsxs("p",{children:[j.Task," at ",j.City,", ",j.State]})]},j.id))]},x))]},b))]})]})},Yde=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[i,s]=k.useState(!1),[o,c]=k.useState(null),[d,h]=k.useState(null);return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[a.jsx(xn,{size:20})," Add New Customer"]})]}),a.jsx("div",{className:"space-y-4",children:t.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),a.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Mde(p.type)}`,children:p.type})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>c(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),a.jsx("button",{onClick:()=>h(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(F1,{size:14})," ",p.contact.name]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Pm,{size:14})," ",p.contact.email]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Om,{size:14})," ",p.contact.phone]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),a.jsx("p",{children:p.billingAddress.street}),a.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),a.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,g)=>a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${g}`))})]})]},p.id))}),i&&a.jsx($de,{onAddCustomer:e,onClose:()=>s(!1)}),o&&a.jsx(Fde,{customer:o,onUpdateCustomer:r,onClose:()=>c(null)}),d&&a.jsx(Vde,{customer:d,onAddLocation:n,onClose:()=>h(null)})]})},Qde=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[i,s]=k.useState(!1),[o,c]=k.useState(null);return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),a.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[a.jsx(xn,{size:20})," Add New Technician"]})]}),a.jsx("div",{className:"space-y-4",children:t.map(d=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),a.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Pm,{size:14})," ",d.email]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Om,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>c(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:a.jsx(dr,{size:16})})]})]},d.id))}),i&&a.jsx(Ude,{onAdd:e,onClose:()=>s(!1)}),o&&a.jsx(zde,{technician:o,onUpdate:r,onClose:()=>c(null)})]})},Xde=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[s,o]=k.useState(t["Order Status"]),[c,d]=k.useState(t.technician||[]),[h,p]=k.useState(ZS(t["Schedule Date"])),[m,g]=k.useState(t.startTime||""),[w,b]=k.useState(t.endTime||""),[_,x]=k.useState(""),[C,j]=k.useState(t.clientWO||""),A=E=>{const T=c.includes(E)?c.filter(M=>M!==E):[...c,E];d(T)},P=()=>{const E={};s!==t["Order Status"]&&(E["Order Status"]=s,s==="Completed"&&!t["Completed Date"]&&(E["Completed Date"]=JS(new Date))),JSON.stringify(c)!==JSON.stringify(t.technician)&&(E.technician=c);const T=eN(h);(T!==t["Schedule Date"]||m!==t.startTime||w!==t.endTime)&&(E["Schedule Date"]=T,E.startTime=m,E.endTime=w,s==="Open"&&h&&(E["Order Status"]="Scheduled")),C!==t.clientWO&&(E.clientWO=C),Object.keys(E).length>0&&r(t.id,E)},S=[{label:"Work Order #",value:t["WO#"],icon:a.jsx(Ga,{})},{label:"Client WO#",value:t.clientWO,icon:a.jsx(L3,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:a.jsx(dl,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:a.jsx(a0,{})},{label:"Priority",value:t.Priority,icon:a.jsx(cf,{}),style:qh(t.Priority)+" px-2 py-0.5 rounded-full text-xs font-semibold"},{label:"Task",value:t.Task},{label:"NTE Amount",value:Ii(t.NTE)},{label:"Created Date",value:_F(t["Created Date"])}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Is,{size:28})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:S.map(E=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs text-gray-500 font-medium",children:E.label}),a.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${E.style||""}`,children:[E.icon&&a.jsx("span",{className:"text-gray-400",children:ne.cloneElement(E.icon,{size:16})}),a.jsx("span",{className:E.style||"",children:E.value})]})]},E.label))}),a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),a.jsxs("select",{value:s,onChange:E=>o(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[a.jsx("option",{children:"Open"}),a.jsx("option",{children:"Scheduled"}),a.jsx("option",{children:"In Progress"}),a.jsx("option",{children:"On Hold"}),a.jsx("option",{children:"Completed"}),a.jsx("option",{children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),a.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(E=>E.name!=="Unassigned").map(E=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`tech-${E.id}`,checked:c.includes(E.name),onChange:()=>A(E.name),className:"mr-2"}),a.jsx("label",{htmlFor:`tech-${E.id}`,children:E.name})]},E.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),a.jsx("input",{type:"date",value:h,onChange:E=>p(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),a.jsx("input",{type:"time",value:m,onChange:E=>g(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),a.jsx("input",{type:"time",value:w,onChange:E=>b(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),a.jsx("input",{type:"text",value:C,onChange:E=>j(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:P,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[a.jsx(V3,{size:20,className:"mr-2"}),"Work Notes"]}),a.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((E,T)=>new Date(T.timestamp)-new Date(E.timestamp)).map((E,T)=>a.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[a.jsx("p",{className:"text-gray-800",children:E.text}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:Ode(E.timestamp)})]},T)):a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("textarea",{value:_,onChange:E=>x(E.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("button",{onClick:()=>n(t.id,_,()=>x("")),disabled:!_.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},Jde=({workOrders:t,technicians:e})=>{const r=t.filter(h=>h["Order Status"]==="Completed"),n=t.filter(h=>["Open","Scheduled","In Progress"].includes(h["Order Status"])),i=r.reduce((h,p)=>h+(p.NTE||0),0),s=k.useMemo(()=>e.filter(p=>p.name!=="Unassigned").map(p=>{const m=t.filter(g=>g.technician.includes(p.name)&&g["Order Status"]==="Completed").length;return{name:p.name,count:m}}).sort((p,m)=>m.count-p.count),[t,e]),o=Math.max(...s.map(h=>h.count),0),c=h=>h===0?"text-yellow-500":h===1?"text-gray-400":h===2?"text-yellow-600":"text-gray-400",d=()=>{const h=document.getElementById("reporting-view");html2canvas(h).then(p=>{const m=p.toDataURL("image/png"),g=new jspdf.jsPDF,w=g.internal.pageSize.getWidth(),b=p.height*w/p.width;g.addImage(m,"PNG",0,0,w,b),g.save("hvac-report.pdf")})};return a.jsxs(a.Fragment,{children:[a.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"}),a.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"}),a.jsxs("div",{id:"reporting-view",className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reporting Dashboard"}),a.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[a.jsx(Gc,{size:20})," Download PDF"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Open/Active Jobs"}),a.jsx("p",{className:"text-5xl font-bold text-yellow-600",children:n.length})]}),a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Completed Jobs"}),a.jsx("p",{className:"text-5xl font-bold text-green-600",children:r.length})]}),a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Potential Revenue"}),a.jsx("p",{className:"text-5xl font-bold text-blue-600",children:Ii(i)})]})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Technician Leaderboard"}),a.jsx("div",{className:"space-y-4",children:s.map((h,p)=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 text-center",children:p<3?a.jsx(WW,{size:24,className:c(p)}):a.jsx("span",{className:"text-lg font-bold text-gray-400",children:p+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-bold",children:h.name}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-1",children:a.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:`${o>0?h.count/o*100:0}%`}})})]}),a.jsx("div",{className:"w-12 text-right font-bold text-lg",children:h.count})]},h.name))})]})]})]})},Zde=({invoices:t,quotes:e,workOrders:r,customers:n,onAddInvoice:i,onAddQuote:s})=>{const[o,c]=k.useState("invoices"),[d,h]=k.useState(!1),[p,m]=k.useState(!1),g=t.reduce((j,A)=>j+A.amount,0),w=t.filter(j=>j.status==="Paid"),b=t.filter(j=>j.status!=="Paid");e.reduce((j,A)=>j+A.amount,0);const _=e.filter(j=>j.status==="Sent"||j.status==="Pending"),x=j=>({paid:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800"})[j?.toLowerCase()]||"bg-gray-100 text-gray-800",C=j=>({sent:"bg-blue-100 text-blue-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",draft:"bg-gray-100 text-gray-800"})[j?.toLowerCase()]||"bg-gray-100 text-gray-800";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing & Invoicing"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:[a.jsx(rn,{size:20})," Create Invoice"]}),a.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[a.jsx(xn,{size:20})," Create Quote"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.length}),a.jsx("p",{className:"text-sm text-gray-500",children:Ii(g)})]}),a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Paid Invoices"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.length}),a.jsx("p",{className:"text-sm text-gray-500",children:Ii(w.reduce((j,A)=>j+A.amount,0))})]}),a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.length}),a.jsx("p",{className:"text-sm text-gray-500",children:Ii(b.reduce((j,A)=>j+A.amount,0))})]}),a.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Quotes"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.length}),a.jsx("p",{className:"text-sm text-gray-500",children:Ii(_.reduce((j,A)=>j+A.amount,0))})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"-mb-px flex gap-6 px-6",children:[a.jsxs("button",{onClick:()=>c("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Invoices (",t.length,")"]}),a.jsxs("button",{onClick:()=>c("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Quotes (",e.length,")"]})]})}),a.jsxs("div",{className:"p-6",children:[o==="invoices"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Invoice Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{const j=[["Invoice #","Work Order","Customer","Date","Amount","Status"],...t.map(E=>[E.id,E.workOrderId||"N/A",E.customerName,new Date(E.date).toLocaleDateString(),E.amount,E.status])].map(E=>E.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),P=window.URL.createObjectURL(A),S=document.createElement("a");S.href=P,S.download="invoices.csv",document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(P)},className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[a.jsx(Gc,{size:16})," Export"]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[a.jsx(Im,{size:16})," Refresh"]})]})]}),t.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Invoice #"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Work Order"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(j=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:j.id}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.workOrderId||"N/A"}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.customerName}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(j.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:Ii(j.amount)}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(j.status)}`,children:j.status})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>alert(`Viewing invoice ${j.id}
Customer: ${j.customerName}
Amount: ${Ii(j.amount)}
Status: ${j.status}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),a.jsx("button",{onClick:()=>alert(`Sending invoice ${j.id} to ${j.customerName}`),className:"text-green-600 hover:text-green-800 font-medium",children:"Send"}),a.jsx("button",{onClick:()=>alert(`Edit functionality for invoice ${j.id} would open in a modal`),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"})]})})]},j.id))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rn,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Invoices Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first invoice from a completed work order."}),a.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-blue-700",children:"Create Invoice"})]})]}),o==="quotes"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Quote Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{const j=[["Quote #","Customer","Description","Date","Amount","Status"],...e.map(E=>[E.id,E.customerName,E.description,new Date(E.date).toLocaleDateString(),E.amount,E.status])].map(E=>E.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),P=window.URL.createObjectURL(A),S=document.createElement("a");S.href=P,S.download="quotes.csv",document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(P)},className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[a.jsx(Gc,{size:16})," Export"]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 text-gray-600 bg-gray-100 py-2 px-3 rounded-lg hover:bg-gray-200",children:[a.jsx(Im,{size:16})," Refresh"]})]})]}),e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Quote #"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Description"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(j=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:j.id}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:j.customerName}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:j.description}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(j.date).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:Ii(j.amount)}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(j.status)}`,children:j.status})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>alert(`Viewing quote ${j.id}
Customer: ${j.customerName}
Amount: ${Ii(j.amount)}
Description: ${j.description}
Status: ${j.status}`),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View"}),a.jsx("button",{onClick:()=>alert(`Sending quote ${j.id} to ${j.customerName}`),className:"text-green-600 hover:text-green-800 font-medium",children:"Send"}),a.jsx("button",{onClick:()=>alert(`Edit functionality for quote ${j.id} would open in a modal`),className:"text-gray-600 hover:text-gray-800 font-medium",children:"Edit"}),a.jsx("button",{onClick:()=>alert(`Converting quote ${j.id} to invoice for ${j.customerName}`),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Convert"})]})})]},j.id))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rn,{size:48,className:"mx-auto text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Quotes Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first quote for potential customers."}),a.jsx("button",{onClick:()=>m(!0),className:"bg-green-600 text-white font-medium py-2 px-4 rounded-lg hover:bg-green-700",children:"Create Quote"})]})]})]})]}),d&&a.jsx(Lde,{workOrders:r,customers:n,onClose:()=>h(!1),onAddInvoice:i}),p&&a.jsx(Dde,{customers:n,onClose:()=>m(!1),onAddQuote:s})]})},ehe=()=>{const[t,e]=k.useState(Cde),[r,n]=k.useState(Ede),[i,s]=k.useState(Tde),[o,c]=k.useState(Ade),[d,h]=k.useState(Pde),[p,m]=k.useState(""),[g,w]=k.useState("All"),[b,_]=k.useState(null),[x,C]=k.useState(!1),[j,A]=k.useState("dashboard"),P=k.useMemo(()=>t.filter(ee=>(g==="All"||ee["Order Status"]===g)&&Object.values(ee).some(K=>String(K).toLowerCase().includes(p.toLowerCase()))),[t,p,g]),S=(ee,K)=>{e(t.map(Y=>Y.id===ee?{...Y,...K}:Y)),_(Y=>({...Y,...K}))},E=(ee,K,Y)=>{if(!K.trim())return;const re={text:K.trim(),timestamp:new Date().toISOString()},W=t.map(Q=>Q.id===ee?{...Q,notes:[...Q.notes||[],re]}:Q);e(W),_(Q=>({...Q,notes:[...Q.notes||[],re]})),Y()},T=ee=>{const K=`WO-${Date.now()}`,Y={...ee,"WO#":K,id:K,"Created Date":JS(new Date),"Order Status":ee["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]};e(re=>[Y,...re]),C(!1)},M=ee=>{const K={...ee,id:Date.now()};n(Y=>[...Y,K])},L=ee=>{n(r.map(K=>K.id===ee.id?ee:K))},R=(ee,K)=>{n(r.map(Y=>Y.id===ee?{...Y,locations:[...Y.locations,K]}:Y))},D=ee=>{const K={...ee,id:Date.now()};s(Y=>[...Y,K])},V=ee=>{s(i.map(K=>K.id===ee.id?ee:K))},F=ee=>{const K=i.find(Y=>Y.id===ee);K&&(e(t.map(Y=>({...Y,technician:Y.technician.filter(re=>re!==K.name)}))),s(i.filter(Y=>Y.id!==ee)))},Z=ee=>{c(K=>[ee,...K])},te=ee=>{h(K=>[ee,...K])},J=()=>{switch(j){case"customers":return a.jsx(Yde,{customers:r,onAddCustomer:M,onUpdateCustomer:L,onAddLocation:R});case"dispatch":return a.jsx(Gde,{workOrders:t,technicians:i,onSelectOrder:_,onUpdateOrder:S});case"technicians":return a.jsx(Qde,{technicians:i,onAddTechnician:D,onUpdateTechnician:V,onDeleteTechnician:F});case"route":return a.jsx(Kde,{workOrders:t,technicians:i});case"reporting":return a.jsx(Jde,{workOrders:t,technicians:i});case"billing":return a.jsx(Zde,{invoices:o,quotes:d,workOrders:t,customers:r,onAddInvoice:Z,onAddQuote:te});case"dashboard":default:return a.jsx(Hde,{orders:P,onSelectOrder:_,searchTerm:p,setSearchTerm:m,statusFilter:g,setStatusFilter:w})}};return a.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[a.jsx(qde,{currentView:j,setCurrentView:A,onAddOrderClick:()=>C(!0)}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:J()}),b&&a.jsx(Xde,{order:b,onClose:()=>_(null),onUpdate:S,onAddNote:E,technicians:i}),x&&a.jsx(Bde,{customers:r,onAddOrder:T,onClose:()=>C(!1)})]})},the=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:s,selectedIds:o,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,g]=k.useState("name"),[w,b]=k.useState("asc"),[_,x]=k.useState("all"),[C,j]=k.useState("all"),[A,P]=k.useState("hierarchy"),[S,E]=k.useState(new Set),[T,M]=k.useState(!1),[L,R]=k.useState(!1),[D,V]=k.useState(""),[F,Z]=k.useState(null),te=k.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),J=k.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),ee=k.useMemo(()=>{let q=t.filter(fe=>{const _e=(fe.name||"").toLowerCase().includes(i.toLowerCase())||(fe.address||"").toLowerCase().includes(i.toLowerCase())||(fe.email||"").toLowerCase().includes(i.toLowerCase())||(fe.phone||"").includes(i),Ee=_==="all"||_==="parent"&&(!fe.parentId||fe.parentId==="")||_==="location"&&fe.parentId&&fe.parentId!==""||_==="unassigned"&&(!fe.parentId||fe.parentId==="")||_==="active"&&fe.status==="Active"||_==="inactive"&&fe.status==="Inactive",qe=C==="all"||fe.parentId===C||fe.id===C;return _e&&Ee&&qe});return q.sort((fe,_e)=>{let Ee=fe[m]||"",qe=_e[m]||"";return m==="name"&&(Ee=Ee.toLowerCase(),qe=qe.toLowerCase()),w==="asc"?Ee<qe?-1:Ee>qe?1:0:Ee>qe?-1:Ee<qe?1:0}),q},[t,i,m,w,_,C]),K=k.useMemo(()=>ee.filter(fe=>!fe.parentId||fe.parentId==="").map(fe=>({...fe,children:ee.filter(_e=>_e.parentId===fe.id)})),[ee]),Y=q=>{m===q?b(w==="asc"?"desc":"asc"):(g(q),b("asc"))},re=q=>{const fe=new Set(S);fe.has(q)?fe.delete(q):fe.add(q),E(fe)},W=q=>{q.target.checked?c(ee.map(fe=>fe.id)):c([])},Q=()=>{if(o.length>0&&D){const q=o.map(fe=>({id:fe,parentId:D}));p&&p("client",q),c([]),R(!1),V("")}},H=()=>{if(o.length>0){const q=o.map(fe=>({id:fe,parentId:""}));p&&p("client",q),c([])}},oe=(q,fe)=>{Z(fe),q.dataTransfer.effectAllowed="move"},X=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},ue=(q,fe)=>{if(q.preventDefault(),F&&F.id!==fe.id){const _e={id:F.id,parentId:fe.id};p&&p("client",[_e])}Z(null)},le=q=>{const fe=t.filter(_e=>_e.parentId===q.id).map(_e=>_e.id);c(_e=>{const Ee=new Set([..._e,q.id,...fe]);return Array.from(Ee)})},pe=({client:q,isChild:fe=!1,parent:_e=null})=>a.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${fe?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${o.includes(q.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!fe,onDragStart:Ee=>oe(Ee,q),onDragOver:X,onDrop:Ee=>!fe&&ue(Ee,q),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:o.includes(q.id),onChange:()=>{c(Ee=>Ee.includes(q.id)?Ee.filter(qe=>qe!==q.id):[...Ee,q.id])},className:"rounded"}),fe?a.jsx(dl,{className:"h-4 w-4 text-blue-500"}):a.jsx(FT,{className:"h-5 w-5 text-purple-600"}),a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.name}),q.status&&a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:q.status}),fe&&_e&&a.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",_e.name]})]}),a.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[q.address&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(a0,{className:"h-4 w-4"}),a.jsx("span",{children:q.address})]}),q.phone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Om,{className:"h-4 w-4"}),a.jsx("span",{children:q.phone})]}),q.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pm,{className:"h-4 w-4"}),a.jsx("span",{children:q.email})]})]})]}),a.jsxs("div",{className:"flex gap-1 ml-4",children:[!fe&&a.jsx("button",{onClick:()=>le(q),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:a.jsx(rs,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>e("client",q),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:a.jsx(vn,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>r("client",q.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:a.jsx(dr,{className:"h-4 w-4"})})]})]})}),z=()=>a.jsxs("div",{className:"space-y-6",children:[J.length>0&&a.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[a.jsx(rs,{className:"h-5 w-5"}),"Unassigned Clients (",J.filter(q=>ee.includes(q)).length,")"]}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),a.jsx("div",{className:"space-y-2",children:J.filter(q=>ee.includes(q)).map(q=>a.jsx(pe,{client:q},q.id))})]}),K.filter(q=>q.children.length>0).map(q=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>re(q.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:S.has(q.id)?a.jsx(ih,{className:"h-4 w-4"}):a.jsx($1,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1",children:a.jsx(pe,{client:q})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[q.children.length," locations"]}),a.jsx("button",{onClick:()=>le(q),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),S.has(q.id)&&a.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:q.children.map(fe=>a.jsx(pe,{client:fe,isChild:!0,parent:q},fe.id))})]},q.id))]}),ae=()=>a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:a.jsx("input",{type:"checkbox",onChange:W})}),a.jsx("th",{className:"p-3",children:a.jsxs("button",{onClick:()=>Y("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(w==="asc"?a.jsx(il,{className:"h-3 w-3"}):a.jsx(nl,{className:"h-3 w-3"}))]})}),a.jsx("th",{className:"p-3",children:"Type"}),a.jsx("th",{className:"p-3",children:a.jsxs("button",{onClick:()=>Y("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(w==="asc"?a.jsx(il,{className:"h-3 w-3"}):a.jsx(nl,{className:"h-3 w-3"}))]})}),a.jsx("th",{className:"p-3",children:"Contact"}),a.jsx("th",{className:"p-3",children:"Parent Company"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:ee.map(q=>{const fe=te.find(Ee=>Ee.id===q.parentId),_e=o.includes(q.id);return a.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{c(Ee=>Ee.includes(q.id)?Ee.filter(qe=>qe!==q.id):[...Ee,q.id])}})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[q.parentId?a.jsx(dl,{className:"h-4 w-4 text-blue-500"}):a.jsx(FT,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"font-medium",children:q.name})]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:q.parentId?"Location":"Parent"})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{children:q.address})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"space-y-1",children:[q.phone&&a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(Om,{className:"h-3 w-3"}),a.jsx("span",{children:q.phone})]}),q.email&&a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(Pm,{className:"h-3 w-3"}),a.jsx("span",{children:q.email})]})]})}),a.jsx("td",{className:"p-3",children:fe?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qW,{className:"h-3 w-3 text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:fe.name})]}):a.jsx("span",{className:"text-xs text-slate-400",children:""})}),a.jsxs("td",{className:"p-3 text-center",children:[a.jsx("button",{onClick:()=>e("client",q),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("client",q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:a.jsx(dr,{size:16})})]})]},q.id)})})]})}),me=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(q=>{const fe=te.find(_e=>_e.id===q.parentId);return a.jsx(pe,{client:q,isChild:!!q.parentId,parent:fe},q.id)})});return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ee.length," of ",t.length," clients",o.length>0&&`  ${o.length} selected`]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(QW,{size:16})," Assign Parent (",o.length,")"]}),a.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(aH,{size:16})," Remove Parent"]}),a.jsxs("button",{onClick:()=>n("client",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(dr,{size:16})," Delete (",o.length,")"]})]}),a.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:q=>d(q.target.files[0],"client")}),a.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[a.jsx(_o,{size:16})," Import CSV"]}),a.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Export CSV"]}),a.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add New"]})]})]}),L&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),a.jsx("button",{onClick:()=>R(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Is,{className:"h-5 w-5"})})]}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",o.length," selected clients to a parent company:"]}),a.jsxs("select",{value:D,onChange:q=>V(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[a.jsx("option",{value:"",children:"Select Parent Company"}),te.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>R(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),a.jsx("button",{onClick:Q,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:q=>s(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),a.jsxs("button",{onClick:()=>M(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[a.jsx(Ol,{className:"h-4 w-4"}),"Filters",a.jsx(ih,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),a.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[a.jsx("button",{onClick:()=>P("hierarchy"),className:`px-3 py-2 text-sm ${A==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:a.jsx(sH,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P("list"),className:`px-3 py-2 text-sm ${A==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:a.jsx(XW,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P("cards"),className:`px-3 py-2 text-sm ${A==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:a.jsx(YW,{className:"h-4 w-4"})})]})]}),T&&a.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),a.jsxs("select",{value:_,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Clients"}),a.jsx("option",{value:"parent",children:"Parent Companies Only"}),a.jsx("option",{value:"location",children:"Store Locations Only"}),a.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),a.jsx("option",{value:"active",children:"Active Only"}),a.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),a.jsxs("select",{value:C,onChange:q=>j(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Companies"}),te.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:m,onChange:q=>g(q.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[a.jsx("option",{value:"name",children:"Name"}),a.jsx("option",{value:"address",children:"Address"}),a.jsx("option",{value:"phone",children:"Phone"}),a.jsx("option",{value:"email",children:"Email"})]}),a.jsx("button",{onClick:()=>b(w==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:w==="asc"?a.jsx(il,{className:"h-4 w-4"}):a.jsx(nl,{className:"h-4 w-4"})})]})]})]})}),a.jsx("div",{className:"min-h-[400px]",children:ee.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[a.jsx(rs,{className:"h-12 w-12 mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),a.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||C!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):a.jsxs(a.Fragment,{children:[A==="hierarchy"&&a.jsx(z,{}),A==="list"&&a.jsx(ae,{}),A==="cards"&&a.jsx(me,{})]})})]})},rhe=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:s,jobs:o=[]})=>{const[c,d]=k.useState("all"),[h,p]=k.useState("grid"),[m,g]=k.useState("name"),[w,b]=k.useState("asc"),[_,x]=k.useState([]),[C,j]=k.useState(!1),[A,P]=k.useState(null),[S,E]=k.useState(!1),[T,M]=k.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];k.useEffect(()=>{console.log("Vehicles updated:",t.length),x([...t])},[t]);const R=({onImport:H})=>{const oe=k.useRef(null),X=ue=>{const le=ue.target.files[0];le&&(H(le),ue.target.value="")};return a.jsxs("div",{className:"inline-block",children:[a.jsx("input",{ref:oe,type:"file",accept:".csv",onChange:X,style:{display:"none"}}),a.jsxs("button",{onClick:()=>oe.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[a.jsx(_o,{size:16}),"Import Vehicles"]})]})},D=H=>{if(!H){alert("Please select a file.");return}const oe=new FileReader;oe.onload=X=>{try{const le=X.target.result.split(`
`).filter(me=>me.trim());if(le.length<2){alert("CSV file must have at least a header row and one data row.");return}const pe=me=>{const q=[];let fe="",_e=!1;for(let Ee=0;Ee<me.length;Ee++){const qe=me[Ee];qe==='"'?_e=!_e:qe===","&&!_e?(q.push(fe.trim()),fe=""):fe+=qe}return q.push(fe.trim()),q},z=pe(le[0]).map(me=>me.replace(/"/g,"").trim().toLowerCase()),ae=[];for(let me=1;me<le.length;me++){const q=pe(le[me]),fe={};z.forEach((_e,Ee)=>{const qe=q[Ee]?q[Ee].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?fe.name=qe:_e.includes("make")?fe.make=qe.toUpperCase():_e.includes("model")?fe.model=qe:_e.includes("year")?fe.year=qe:_e.includes("license")||_e.includes("plate")?fe.licensePlate=qe:_e.includes("vin")?fe.vin=qe:_e.includes("mileage")||_e.includes("miles")?fe.currentMileage=parseInt(qe)||0:_e.includes("status")?fe.status=qe.toLowerCase()||"active":_e.includes("notes")&&(fe.notes=qe)}),(fe.name||fe.make&&fe.model)&&(fe.name=fe.name||`${fe.make} ${fe.model}`,fe.status=fe.status||"active",ae.push(fe))}if(ae.length===0){alert("No valid vehicle records found in the CSV file.");return}ae.forEach(me=>{r("vehicle",me)}),alert(`Found ${ae.length} vehicles to import. Please review and save each one.`)}catch(ue){console.error("Error parsing CSV:",ue),alert("Error parsing CSV file. Please check the file format.")}},oe.readAsText(H)},V=()=>{if(_.length===0){alert("No vehicles to export.");return}const H=_.map(z=>({"Vehicle Name":z.name||"",Make:z.make||"",Model:z.model||"",Year:z.year||"","License Plate":z.licensePlate||"",VIN:z.vin||"","Current Mileage":z.currentMileage||0,Status:z.status||"active",Notes:z.notes||"","Date Added":z.createdAt?new Date(z.createdAt.seconds*1e3).toLocaleDateString():""})),oe=Object.keys(H[0]),X=[oe.join(","),...H.map(z=>oe.map(ae=>{const me=z[ae];return typeof me=="string"&&(me.includes(",")||me.includes('"')||me.includes(`
`))?`"${me.replace(/"/g,'""')}"`:me}).join(","))].join(`
`),ue=new Blob([X],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(ue),pe=document.createElement("a");pe.href=le,pe.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(le),console.log(`Exported ${_.length} vehicles to CSV`)},F=()=>{const H=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],oe=Object.keys(H[0]),X=[oe.join(","),...H.map(z=>oe.map(ae=>z[ae]).join(","))].join(`
`),ue=new Blob([X],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(ue),pe=document.createElement("a");pe.href=le,pe.download="vehicle-import-template.csv",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(le)},Z=async(H,oe)=>{if(window.confirm('Delete "'+oe+'"?')){console.log("Starting delete for vehicle:",H,oe),j(!0);try{const X=_.filter(ue=>ue.id!==H);x(X),await n("vehicle",H),console.log("Vehicle deleted successfully")}catch(X){console.error("Delete failed, reverting UI:",X),x([...t]),alert("Failed to delete vehicle: "+X.message)}finally{j(!1)}}},te=()=>{let H=0;return _.forEach(oe=>{L.forEach(X=>{if(X.interval>0){const ue=e.filter(ae=>ae.vehicleId===oe.id&&ae.serviceType===X.value).sort((ae,me)=>new Date(me.date)-new Date(ae.date))[0],le=oe.currentMileage||0,pe=ue&&ue.mileage||0;le-pe>=X.interval&&H++}})}),H},J=k.useMemo(()=>{const H=_.filter(q=>!q.status||q.status==="active"),oe=_.reduce((q,fe)=>q+(fe.currentMileage||0),0),X=_.length>0?oe/_.length:0,ue=new Date().getFullYear(),le=_.reduce((q,fe)=>q+(ue-parseInt(fe.year||ue)),0),pe=_.length>0?le/_.length:0,z=_.filter(q=>(q.currentMileage||0)>1e5).length,ae=e.filter(q=>q.date&&new Date(q.date).getFullYear()===ue).reduce((q,fe)=>q+(fe.cost||0),0),me=te();return{totalVehicles:_.length,activeVehicles:H.length,avgMileage:Math.round(X),avgAge:pe.toFixed(1),highMileageVehicles:z,totalMaintenanceCost:ae,overdueMaintenance:me}},[_,e]),ee=H=>{const oe=[],X=H.currentMileage||0;return L.forEach(ue=>{if(ue.interval>0){const le=e.filter(me=>me.vehicleId===H.id&&me.serviceType===ue.value).sort((me,q)=>new Date(q.date)-new Date(me.date))[0],pe=le&&le.mileage||0,z=X-pe,ae=ue.interval-z;z>=ue.interval?oe.push({type:"overdue",service:ue.label,mileage:Math.abs(ae),severity:"high"}):ae<=1e3&&ae>0&&oe.push({type:"due_soon",service:ue.label,mileage:ae,severity:"medium"})}}),oe.sort((ue,le)=>le.severity==="high"?1:-1)},K=k.useMemo(()=>{let H=_;return i&&(H=H.filter(X=>X.name?.toLowerCase().includes(i.toLowerCase())||X.make?.toLowerCase().includes(i.toLowerCase())||X.model?.toLowerCase().includes(i.toLowerCase())||X.licensePlate?.toLowerCase().includes(i.toLowerCase())||X.vin?.toLowerCase().includes(i.toLowerCase()))),c!=="all"&&(H=H.filter(X=>(X.status||"active")===c)),[...H].sort((X,ue)=>{let le,pe;switch(m){case"name":le=X.name||"",pe=ue.name||"";break;case"mileage":le=X.currentMileage||0,pe=ue.currentMileage||0;break;case"year":le=parseInt(X.year||0),pe=parseInt(ue.year||0);break;case"make":le=X.make||"",pe=ue.make||"";break;default:le=X.name||"",pe=ue.name||""}return typeof le=="string"?w==="asc"?le.localeCompare(pe):pe.localeCompare(le):w==="asc"?le-pe:pe-le})},[_,i,c,m,w]),Y=H=>{const oe=H.status||"active";return oe==="active"?{status:"active",color:"text-green-500",icon:ts,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:oe==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Hc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:VT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},re=({title:H,value:oe,icon:X,color:ue,subtext:le,onClick:pe})=>a.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${pe?"cursor-pointer hover:border-blue-300":""}`,onClick:pe,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:H}),a.jsx("p",{className:"text-2xl font-bold "+ue,children:oe}),le&&a.jsx("p",{className:"text-xs text-slate-400",children:le})]}),a.jsx(X,{size:24,className:ue})]})}),W=()=>{const[H,oe]=k.useState({vehicleId:A?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),X=L.find(le=>le.value===H.serviceType),ue=le=>{le.preventDefault();const pe={...H,cost:parseFloat(H.cost)||0,mileage:parseInt(H.mileage)||0,nextServiceMileage:parseInt(H.nextServiceMileage)||0,createdAt:new Date().toISOString()};!pe.nextServiceMileage&&X?.interval&&(pe.nextServiceMileage=pe.mileage+X.interval),r("maintenanceLog",pe),E(!1),oe({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return k.useEffect(()=>{X&&oe(le=>({...le,cost:le.cost||X.cost.toString(),description:le.description||X.label}))},[X]),S?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[a.jsx(Ga,{className:"text-blue-500",size:24}),"Add Service Record"]}),a.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:a.jsx(VT,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),a.jsxs("select",{value:H.vehicleId,onChange:le=>oe(pe=>({...pe,vehicleId:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Vehicle"}),_.map(le=>a.jsxs("option",{value:le.id,children:[le.name||"Unnamed"," - ",le.make," ",le.model]},le.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),a.jsxs("select",{value:H.serviceType,onChange:le=>oe(pe=>({...pe,serviceType:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Service"}),L.map(le=>a.jsxs("option",{value:le.value,children:[le.label," (",le.category,")"]},le.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),a.jsx("input",{type:"date",value:H.date,onChange:le=>oe(pe=>({...pe,date:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),a.jsx("input",{type:"number",value:H.mileage,onChange:le=>oe(pe=>({...pe,mileage:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),a.jsx("input",{type:"number",step:"0.01",value:H.cost,onChange:le=>oe(pe=>({...pe,cost:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),a.jsx("input",{type:"number",value:H.nextServiceMileage,onChange:le=>oe(pe=>({...pe,nextServiceMileage:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:X?`Auto: ${(parseInt(H.mileage)||0)+X.interval}`:"Optional"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),a.jsx("input",{type:"text",value:H.description,onChange:le=>oe(pe=>({...pe,description:le.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),a.jsx("textarea",{value:H.notes,onChange:le=>oe(pe=>({...pe,notes:le.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),a.jsx("button",{type:"button",onClick:ue,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},Q=()=>{const H=[...e].sort((oe,X)=>new Date(X.date)-new Date(oe.date));return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[a.jsx(Ga,{className:"text-blue-500",size:24}),"Maintenance History"]}),a.jsxs("button",{onClick:()=>{P(null),E(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(sh,{size:18}),"Add Service"]})]}),H.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Date"}),a.jsx("th",{className:"p-3",children:"Vehicle"}),a.jsx("th",{className:"p-3",children:"Service"}),a.jsx("th",{className:"p-3",children:"Mileage"}),a.jsx("th",{className:"p-3",children:"Cost"}),a.jsx("th",{className:"p-3",children:"Next Due"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:H.map(oe=>{const X=_.find(le=>le.id===oe.vehicleId),ue=L.find(le=>le.value===oe.serviceType);return a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[a.jsx("td",{className:"p-3",children:oe.date?new Date(oe.date).toLocaleDateString():"N/A"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:X?.name||"Unknown Vehicle"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[X?.make," ",X?.model]})]})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:ue?.label||oe.serviceType}),oe.description&&a.jsx("div",{className:"text-xs text-slate-500",children:oe.description})]})}),a.jsx("td",{className:"p-3 font-mono",children:(oe.mileage||0).toLocaleString()}),a.jsxs("td",{className:"p-3 font-mono",children:["$",(oe.cost||0).toFixed(2)]}),a.jsx("td",{className:"p-3 font-mono",children:oe.nextServiceMileage?oe.nextServiceMileage.toLocaleString():"N/A"}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>r("maintenanceLog",oe),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>n("maintenanceLog",oe.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:a.jsx(dr,{size:16})})]})})]},oe.id)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ga,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),a.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),a.jsx("button",{onClick:()=>E(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[a.jsx(i0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R,{onImport:D}),a.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[a.jsx(Gc,{size:16}),"Export Vehicles"]}),a.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[a.jsx(rn,{size:16}),"CSV Template"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[a.jsx(re,{title:"Total Vehicles",value:J.totalVehicles,icon:Vp,color:"text-blue-500"}),a.jsx(re,{title:"Active Fleet",value:J.activeVehicles,icon:ts,color:"text-green-500",subtext:(J.activeVehicles/(J.totalVehicles||1)*100).toFixed(0)+"% active"}),a.jsx(re,{title:"Avg Mileage",value:J.avgMileage.toLocaleString(),icon:a0,color:"text-purple-500",subtext:"miles per vehicle"}),a.jsx(re,{title:"Fleet Age",value:J.avgAge+" yrs",icon:s0,color:"text-orange-500",subtext:"average age"}),a.jsx(re,{title:"High Mileage",value:J.highMileageVehicles,icon:$i,color:"text-amber-500",subtext:">100k miles"}),a.jsx(re,{title:"Maintenance Cost",value:"$"+J.totalMaintenanceCost.toLocaleString(),icon:tn,color:"text-emerald-500",subtext:"this year"}),a.jsx(re,{title:"Overdue Services",value:J.overdueMaintenance,icon:cf,color:J.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>M("maintenance")})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:a.jsxs("nav",{className:"flex",children:[a.jsx("button",{onClick:()=>M("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vp,{size:18}),"Vehicles (",_.length,")"]})}),a.jsx("button",{onClick:()=>M("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ga,{size:18}),"Maintenance (",e.length,")",J.overdueMaintenance>0&&a.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:J.overdueMaintenance})]})})]})}),a.jsx("div",{className:"p-6",children:T==="vehicles"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),a.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&a.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?a.jsx(rn,{size:16}):a.jsx(Vp,{size:16}),h==="grid"?"Table View":"Grid View"]}),a.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(sh,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:H=>s(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ol,{size:18,className:"text-slate-400"}),a.jsxs("select",{value:c,onChange:H=>d(H.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"maintenance",children:"In Maintenance"}),a.jsx("option",{value:"retired",children:"Retired"})]}),a.jsxs("select",{value:m,onChange:H=>g(H.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"name",children:"Sort by Name"}),a.jsx("option",{value:"mileage",children:"Sort by Mileage"}),a.jsx("option",{value:"year",children:"Sort by Year"}),a.jsx("option",{value:"make",children:"Sort by Make"})]}),a.jsx("button",{onClick:()=>b(w==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(w==="asc"?"Descending":"Ascending"),children:a.jsx($i,{size:18,className:w==="desc"?"rotate-180":""})})]})]}),_.length>0?h==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(H=>{const oe=Y(H),X=ee(H);return a.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+oe.bg+(C?" opacity-50":""),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(oe.icon,{size:24,className:oe.color}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:H.name||"Unnamed Vehicle"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:oe.label})]})]}),a.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{P(H),E(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:C,children:a.jsx(Ga,{size:16})}),a.jsx("button",{onClick:()=>r("vehicle",H),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:C,children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>Z(H.id,H.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:C,children:a.jsx(dr,{size:16})})]})]}),X.length>0&&a.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(mk,{size:16,className:"text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),a.jsxs("div",{className:"space-y-1",children:[X.slice(0,2).map((ue,le)=>a.jsx("div",{className:"text-xs",children:a.jsxs("span",{className:ue.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[ue.service,": ",ue.type==="overdue"?`${ue.mileage} miles overdue`:`due in ${ue.mileage} miles`]})},le)),X.length>2&&a.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",X.length-2," more alerts"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),a.jsxs("span",{className:"font-medium",children:[H.make||"N/A"," ",H.model||"N/A"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),a.jsx("span",{className:"font-medium",children:H.year||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),a.jsx("span",{className:"font-medium",children:H.licensePlate||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),a.jsxs("span",{className:"font-medium",children:[(H.currentMileage||0).toLocaleString()," mi"]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),a.jsx("span",{className:"font-medium text-xs",children:H.vin||"N/A"})]})]})]},H.id)})}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Status"}),a.jsx("th",{className:"p-3",children:"Vehicle"}),a.jsx("th",{className:"p-3",children:"Make/Model"}),a.jsx("th",{className:"p-3",children:"Year"}),a.jsx("th",{className:"p-3",children:"License"}),a.jsx("th",{className:"p-3",children:"Mileage"}),a.jsx("th",{className:"p-3",children:"Alerts"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:K.map(H=>{const oe=Y(H),X=ee(H);return a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(C?" opacity-50":""),children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oe.icon,{size:16,className:oe.color}),a.jsx("span",{className:"text-xs",children:oe.label})]})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:H.name||"Unnamed"}),H.vin&&a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",H.vin.slice(-6)]})]})}),a.jsxs("td",{className:"p-3",children:[H.make||"N/A"," ",H.model||"N/A"]}),a.jsx("td",{className:"p-3",children:H.year||"N/A"}),a.jsx("td",{className:"p-3",children:H.licensePlate||"N/A"}),a.jsx("td",{className:"p-3 font-mono",children:(H.currentMileage||0).toLocaleString()}),a.jsx("td",{className:"p-3",children:X.length>0?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(mk,{size:14,className:"text-amber-500"}),a.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[X.length," alert",X.length>1?"s":""]})]}):a.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>{P(H),E(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:C,children:a.jsx(Ga,{size:16})}),a.jsx("button",{onClick:()=>r("vehicle",H),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:C,children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>Z(H.id,H.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:C,children:a.jsx(dr,{size:16})})]})})]},H.id)})})]})}):a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:a.jsx(Vp,{size:40,className:"text-slate-400 dark:text-slate-500"})}),a.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),a.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),a.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:C,children:"Add Your First Vehicle"})]})]}):a.jsx(Q,{})})]}),a.jsx(W,{}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},nhe=()=>{const[t,e]=k.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=k.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[i,s]=k.useState(0),[o,c]=k.useState(2.75),[d,h]=k.useState(0);k.useEffect(()=>{const j=Object.values(t).map(A=>parseFloat(A)||0).reduce((A,P)=>A+P,0);s(j)},[t]),k.useEffect(()=>{const j=Object.values(r).reduce((A,P)=>A+P,0)/6;j<=.5?c(2+j*1.5):j<=1.5?c(2.75+(j-.5)*.75):c(3.5+(j-1.5)*2)},[r]),k.useEffect(()=>{h(i*o)},[i,o]);const p=(C,j)=>{e(A=>({...A,[C]:j}))},m=(C,j)=>{n(A=>({...A,[C]:j}))},g=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(C),w=()=>o<2.75?"Conservative Range":o<3.5?"Average Range":"Premium Range",b=()=>o<2.75?"text-red-600 dark:text-red-400":o<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",_=()=>{const j=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",g(parseFloat(t.netProfit)||0)],["Owner Salary",g(parseFloat(t.ownerSalary)||0)],["Owner Perks",g(parseFloat(t.ownerPerks)||0)],["Depreciation",g(parseFloat(t.depreciation)||0)],["Amortization",g(parseFloat(t.amortization)||0)],["Interest Expense",g(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",g(i)],[""],["Valuation Results"],["SDE",g(i)],["Multiple",o.toFixed(2)+"x"],["Estimated Business Value",g(d)]].map(E=>E.join(",")).join(`
`),A=new Blob([j],{type:"text/csv"}),P=window.URL.createObjectURL(A),S=document.createElement("a");S.href=P,S.download="hvac-business-valuation.csv",S.click(),window.URL.revokeObjectURL(P)},x=[{field:"recurringRevenue",title:"Recurring Revenue",icon:a.jsx($i,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:a.jsx(rs,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:a.jsx(dl,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:a.jsx(tn,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:a.jsx(rs,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:a.jsx(nH,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[a.jsx("div",{className:"bg-blue-600 text-white p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Mc,{className:"w-8 h-8"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),a.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),a.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:C,label:j,desc:A})=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:j}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:A})]}),a.jsx("div",{className:"w-32",children:a.jsx("input",{type:"number",value:t[C],onChange:P=>p(C,P.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},C))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g(i)})]})})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),a.jsx("span",{className:"font-semibold",children:g(i)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),a.jsxs("span",{className:`font-semibold ${b()}`,children:[o.toFixed(2),"x (",w(),")"]})]}),a.jsx("div",{className:"border-t pt-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),a.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g(d)})]})})]}),a.jsxs("button",{onClick:_,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(Gc,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),a.jsx("div",{className:"space-y-6",children:x.map(({field:C,title:j,icon:A,options:P})=>a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[A,a.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:j})]}),a.jsx("div",{className:"space-y-2",children:P.map((S,E)=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"radio",name:C,value:E,checked:r[C]===E,onChange:T=>m(C,parseInt(T.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),a.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${E===0?"text-red-600 dark:text-red-400":E===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:S})]},E))})]},C))}),a.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000  3.5 = $700,000 estimated value."})]}),a.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:a.jsxs("p",{children:[a.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},ihe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:s,selectedIds:o,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:w=>a.jsx("span",{className:"font-medium",children:w.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:w=>a.jsx("span",{children:w.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:w=>a.jsxs("span",{className:"font-mono",children:["$",(w.cost||0).toFixed(2)]})}],m=k.useMemo(()=>t.filter(w=>(w.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),g=w=>{w.target.checked?c(m.map(b=>b.id)):c([])};return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:w=>s(w.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.length>0&&a.jsxs("button",{onClick:()=>n("inventory",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(dr,{size:16})," Delete (",o.length,")"]}),a.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:w=>d(w.target.files[0],"inventory")}),a.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[a.jsx(_o,{size:16})," Import CSV"]}),a.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Export to CSV"]}),a.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add New"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:a.jsx("input",{type:"checkbox",onChange:g})}),p.map(w=>a.jsx("th",{className:`p-3 ${w.className||""}`,children:w.header},w.key)),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:m.map(w=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[a.jsx("td",{className:"p-3",children:a.jsx("input",{type:"checkbox",checked:o.includes(w.id),onChange:()=>{c(b=>b.includes(w.id)?b.filter(_=>_!==w.id):[...b,w.id])}})}),p.map(b=>a.jsx("td",{className:`p-3 ${b.className||""}`,children:b.render(w)},b.key)),a.jsxs("td",{className:"p-3 text-center",children:[a.jsx("button",{onClick:()=>e("inventory",w),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("inventory",w.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:a.jsx(dr,{size:16})})]})]},w.id))})]})})]})},she=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=k.useMemo(()=>t.map(c=>{const d=e.filter(m=>m.clientId===c.id),h=d.reduce((m,g)=>m+(g.revenue||0),0),p=d.reduce((m,g)=>m+(g.materialCost||0)+(g.laborCost||0),0);return{name:c.name,netProfit:h-p}}).sort((c,d)=>d.netProfit-c.netProfit),[t,e]),s=k.useMemo(()=>{const c={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);c[p]||(c[p]={revenue:0,expenses:0}),c[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);c[m]||(c[m]={revenue:0,expenses:0}),c[m].expenses+=h.amount||0}}),Object.keys(c).map(h=>({month:h,Revenue:c[h].revenue,Expenses:c[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),o=k.useMemo(()=>n.map(c=>({name:c.name,totalValue:(c.quantity||0)*(c.cost||0)})).sort((c,d)=>d.totalValue-c.totalValue),[n]);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),a.jsx(lS,{width:"100%",height:300,children:a.jsxs(oF,{data:s,children:[a.jsx(HS,{strokeDasharray:"3 3"}),a.jsx(yf,{dataKey:"month",stroke:"#64748b"}),a.jsx(xf,{stroke:"#64748b",tickFormatter:c=>`$${c/1e3}k`}),a.jsx(Mi,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:c=>`$${c.toLocaleString()}`}),a.jsx(ho,{}),a.jsx(Ps,{dataKey:"Revenue",fill:"#22c55e"}),a.jsx(Ps,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Client"}),a.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),a.jsx("tbody",{children:i.map(c=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[a.jsx("td",{className:"p-3 font-medium",children:c.name}),a.jsxs("td",{className:`p-3 text-right font-mono ${c.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",c.netProfit.toFixed(2)]})]},c.name))})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Item"}),a.jsx("th",{className:"p-3 text-center",children:"Quantity"}),a.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),a.jsx("tbody",{children:o.map(c=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[a.jsx("td",{className:"p-3 font-medium",children:c.name}),a.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===c.name)?.quantity}),a.jsxs("td",{className:"p-3 text-right font-mono",children:["$",c.totalValue.toFixed(2)]})]},c.name))})]})})]})]})},ahe=({bills:t,paidStatus:e,onClose:r})=>{const n=k.useMemo(()=>{const i=new Date,s=new Date;return s.setDate(i.getDate()+3),t.filter(o=>{if(e[o.id])return!1;const c=new Date(i.getFullYear(),i.getMonth(),o.dueDay);return c>=i&&c<=s})},[t,e]);return n.length===0?null:a.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(mk,{size:20,className:"mr-3"}),a.jsxs("div",{children:[a.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),a.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>a.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),a.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(Is,{size:18})})]})},ohe=({data:t,onSliceClick:e})=>{const[r,n]=k.useState(0),i=k.useCallback((o,c)=>{n(c)},[n]),s=o=>{const{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:g,fill:w,payload:b}=o;return a.jsxs("g",{className:"cursor-pointer",onClick:()=>e(b.name),children:[a.jsx("text",{x:c,y:d,dy:8,textAnchor:"middle",fill:w,className:"font-bold text-lg",children:b.name}),a.jsx(MS,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:g,fill:w})]})};return a.jsx(lS,{width:"100%",height:300,children:a.jsxs(Nce,{children:[a.jsx(Mi,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:o=>`$${o.toFixed(2)}`}),a.jsx(wa,{activeIndex:r,activeShape:s,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:o=>e(o.name),children:t.map((o,c)=>a.jsx(x0,{fill:o.color},`cell-${c}`))})]})})},lhe=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const s=w=>{if(w==null||w==="")return 0;const b=typeof w=="string"?parseFloat(w.replace(/[^0-9.-]/g,"")):Number(w);return isNaN(b)?0:b},o=t.filter(w=>w.status==="Unpaid"),c=o.reduce((w,b)=>w+s(b.grandTotal),0),d=e.reduce((w,b)=>w+s(b.amount),0),h=r.reduce((w,b)=>w+s(b.amount),0)*4.33,p=d+h,m=s(n)+c-p,g=()=>{const w=prompt("Enter current bank balance:",n);if(w!==null&&!isNaN(w)&&w.trim()!==""){const b=parseFloat(w);b>=0?i(b):alert("Please enter a positive number for the balance.")}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",s(n).toLocaleString()]})]}),a.jsx(tn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),a.jsx("button",{onClick:g,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),a.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",c.toLocaleString()]})]}),a.jsx($i,{className:"text-green-600 dark:text-green-400",size:24})]}),a.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[o.length," unpaid invoices"]})]}),a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),a.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),a.jsx(U3,{className:"text-red-600 dark:text-red-400",size:24})]}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),a.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),a.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?a.jsx($i,{className:"text-green-600 dark:text-green-400",size:24}):a.jsx(Hc,{className:"text-red-600 dark:text-red-400",size:24})]}),a.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.length>0?o.map((w,b)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:w.billTo||w.customer||"Unknown Client"}),a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",w.dueDate||"No date"]})]}),a.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",s(w.grandTotal).toLocaleString()]})]},b)):a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),a.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[a.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),a.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",h.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[a.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),a.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&a.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hc,{className:"text-red-600 dark:text-red-400",size:20}),a.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),a.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),s(n)===0&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"text-blue-600 dark:text-blue-400",size:20}),a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},che=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:s,handleImportCSV:o,handleExportCSV:c,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>s(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&a.jsxs(a.Fragment,{children:[a.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>o(m.target.files[0],n)}),a.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[a.jsx(_o,{size:16})," Import CSV"]})]}),a.jsxs("button",{onClick:()=>c(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Export to CSV"]}),a.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16})," Add New"]})]})]}),n==="debt"&&p&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),a.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>a.jsxs("li",{children:[m.name," ",a.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),a.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>a.jsxs("li",{children:[m.name," ",a.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[r.map(m=>a.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:e.map(m=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(g=>a.jsx("td",{className:`p-3 ${g.className||""}`,children:g.render(m)},g.key)),a.jsxs("td",{className:"p-3 text-center",children:[a.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:a.jsx(dr,{size:16})})]})]},m.id))})]})})]}),uhe=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:s,handleImportCSV:o,handleExportCSV:c})=>{const d=[{key:"name",header:"Job/Client",render:h=>a.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>a.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>a.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>a.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>a.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>a.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return a.jsx(che,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:s,handleImportCSV:o,handleExportCSV:c,openModal:r,handleDelete:n})},dhe=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const s=k.useMemo(()=>{const c=t.filter(j=>{if(!j.date)return!1;const A=new Date(j.date);return A>=i.start&&A<=i.end}),d=c.reduce((j,A)=>j+(A.revenue||0),0),h=c.reduce((j,A)=>j+(A.materialCost||0)+(A.laborCost||0),0),p=d-h,m=(i.end-i.start)/(1e3*60*60*24*30.44),g=e.reduce((j,A)=>{const P=A.category||"Uncategorized";return j[P]=(j[P]||0)+A.amount,j},{}),w=r.reduce((j,A)=>j+A.amount,0)*m;w>0&&(g["Weekly & Misc"]=(g["Weekly & Misc"]||0)+w);const b=Object.values(g).reduce((j,A)=>j+A,0),_=p-b,x=d>0?p/d*100:0,C=d>0?_/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:b,expensesByCategory:g,netProfit:_,grossProfitMargin:x,netProfitMargin:C}},[t,e,r,i]),o=()=>{const c={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",c)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:o()}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[a.jsx("span",{children:"Total Revenue"}),a.jsxs("span",{className:"font-mono",children:["$",s.revenue.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),a.jsxs("span",{className:"font-mono",children:["($",s.cogs.toFixed(2),")"]})]}),a.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),a.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[a.jsx("span",{children:"Gross Profit"}),a.jsxs("span",{className:"font-mono",children:["$",s.grossProfit.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[a.jsx("span",{children:"Gross Profit Margin"}),a.jsxs("span",{className:"font-mono",children:[s.grossProfitMargin.toFixed(1),"%"]})]}),a.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),a.jsx("div",{className:"p-3 font-semibold",children:a.jsx("span",{children:"Operating Expenses"})}),Object.entries(s.expensesByCategory).map(([c,d])=>a.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:c}),a.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},c)),a.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[a.jsx("span",{children:"Total Operating Expenses"}),a.jsxs("span",{className:"font-mono",children:["($",s.operatingExpenses.toFixed(2),")"]})]}),a.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),a.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:s.netProfit>=0?"#22c55e":"#ef4444"},children:[a.jsx("span",{children:"Net Profit"}),a.jsx("span",{className:"font-mono",children:s.netProfit<0?`-$${Math.abs(s.netProfit).toFixed(2)}`:`$${s.netProfit.toFixed(2)}`})]}),a.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[a.jsx("span",{children:"Net Profit Margin"}),a.jsxs("span",{className:"font-mono",children:[s.netProfitMargin.toFixed(1),"%"]})]})]})]})},hhe=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:s,handleExportCSV:o,debtPayoffStrategies:c={avalanche:[],snowball:[]}})=>{const[d,h]=k.useState("overview"),[p,m]=k.useState("avalanche"),[g,w]=k.useState(500),b=k.useMemo(()=>{const S=t.reduce((D,V)=>D+(V.totalAmount||0),0),E=t.reduce((D,V)=>D+(V.paidAmount||0),0),T=S-E,M=t.length>0?t.reduce((D,V)=>D+(V.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),R=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:S,totalPaid:E,totalRemaining:T,avgInterestRate:M,highestInterest:L,lowestBalance:R===1/0?0:R,payoffProgress:S>0?E/S*100:0}},[t]),_=S=>{const E=c[S]||[];let T=[],M=0,L=g;return E.forEach((R,D)=>{const V=(R.totalAmount||0)-(R.paidAmount||0),F=(R.interestRate||0)/100/12;if(V>0&&L>0){const Z=Math.ceil(Math.log(1+V*F/L)/Math.log(1+F));T.push({...R,monthsToPayoff:isFinite(Z)?Z:0,order:D+1,remaining:V}),M=Math.max(M,Z)}}),{timeline:T,totalMonthsToPayoff:M}},x=_("avalanche"),C=_("snowball"),j=k.useMemo(()=>n?t.filter(S=>S.name?.toLowerCase().includes(n.toLowerCase())||S.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),A=S=>(S.totalAmount||0)-(S.paidAmount||0)<=0?"text-green-600 dark:text-green-400":S.interestRate>20?"text-red-600 dark:text-red-400":S.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",P=S=>S.interestRate>20?a.jsx(Hc,{className:"text-red-500",size:16}):S.interestRate>10?a.jsx($i,{className:"text-yellow-500",size:16}):a.jsx(ts,{className:"text-green-500",size:16});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:()=>s&&s(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(_o,{size:16}),"Import"]}),a.jsxs("button",{onClick:()=>o&&o(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(Gc,{size:16}),"Export"]}),a.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(xn,{size:18}),"Add Debt"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",b.totalDebt.toLocaleString()]})]}),a.jsx(Ry,{className:"text-red-600 dark:text-red-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",b.totalRemaining.toLocaleString()]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",b.totalPaid.toLocaleString()]})]}),a.jsx(ts,{className:"text-green-600 dark:text-green-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[b.payoffProgress.toFixed(1),"% complete"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[b.avgInterestRate.toFixed(1),"%"]})]}),a.jsx(B3,{className:"text-orange-600 dark:text-orange-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",b.highestInterest,"%"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(S=>S.totalAmount-S.paidAmount>0).length})]}),a.jsx(i0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx(Ry,{size:16}),"Overview"]}),a.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx(ah,{size:16}),"Payoff Strategies"]}),a.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx(Mc,{size:16}),"Calculator"]})]})}),d==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:j.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[a.jsx(Ry,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),a.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),a.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:j.map(S=>{const E=(S.totalAmount||0)-(S.paidAmount||0),T=S.totalAmount>0?(S.paidAmount||0)/S.totalAmount*100:0;return a.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[P(S),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:S.name}),S.creditor&&a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:S.creditor})]})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:`font-mono font-semibold ${A(S)}`,children:[(S.interestRate||0).toFixed(1),"%"]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(S.totalAmount||0).toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(S.paidAmount||0).toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",E.toLocaleString()]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),a.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>e("debt",S),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("debt",S.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:a.jsx(dr,{size:16})})]})})]},S.id)})})]})})})]}),d==="strategies"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(U3,{className:"text-purple-600",size:20}),a.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",x.totalMonthsToPayoff," months"]})]}),a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(oH,{className:"text-purple-600",size:20}),a.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",C.totalMonthsToPayoff," months"]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),a.jsxs("div",{className:"relative",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"number",value:g,onChange:S=>w(parseFloat(S.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),a.jsx("div",{className:"space-y-4",children:(p==="avalanche"?x.timeline:C.timeline).map((S,E)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:S.order}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:S.name}),a.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",S.remaining.toLocaleString()," remaining at ",S.interestRate,"%"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[S.monthsToPayoff," months"]}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},S.id))})]})]}),d==="calculator"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),a.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[a.jsx(Mc,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Advanced debt calculator coming soon!"}),a.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},fhe=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=k.useState(""),[s,o]=k.useState("all"),[c,d]=k.useState("all"),[h,p]=k.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],g=["all","active","pending","completed","paused"],w=k.useMemo(()=>t.filter(S=>{const E=S.name.toLowerCase().includes(n.toLowerCase())||S.notes&&S.notes.toLowerCase().includes(n.toLowerCase()),T=s==="all"||S.type===s,M=c==="all"||S.status===c;return E&&T&&M}).sort((S,E)=>{if(h.key==="amount"){const T=parseFloat(S.amount)||0,M=parseFloat(E.amount)||0;return h.direction==="asc"?T-M:M-T}return h.key==="name"?h.direction==="asc"?S.name.localeCompare(E.name):E.name.localeCompare(S.name):0}),[t,n,s,c,h]),b=k.useMemo(()=>{const P=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),E=P.map(D=>{const V=parseFloat(D.amount)||0;switch(D.type){case"weekly":return V*4.33;case"quarterly":return V/3;case"annually":return V/12;case"monthly":default:return V}}).reduce((D,V)=>D+V,0),T=E*12,M=t.reduce((D,V)=>{const F=V.type||"monthly",Z=parseFloat(V.amount)||0;return D[F]=(D[F]||0)+Z,D},{}),L=t.reduce((D,V)=>{const F=V.status||"active";return D[F]=(D[F]||0)+1,D},{}),R=t.reduce((D,V)=>{const F=parseFloat(V.amount)||0;return F>D.amount?{name:V.name,amount:F}:D},{name:"None",amount:0});return{totalMonthlyIncome:E,totalAnnualIncome:T,typeBreakdown:M,statusBreakdown:L,highestIncome:R,activeCount:P.length,totalCount:t.length,averageIncome:P.length>0?E/P.length:0}},[t]),_=P=>{p(S=>({key:P,direction:S.key===P&&S.direction==="desc"?"asc":"desc"}))},x=P=>{switch(P){case"active":return a.jsx(ts,{size:14,className:"text-green-500"});case"pending":return a.jsx(s0,{size:14,className:"text-yellow-500"});case"completed":return a.jsx(ts,{size:14,className:"text-blue-500"});case"paused":return a.jsx(Hc,{size:14,className:"text-red-500"});default:return a.jsx(ts,{size:14,className:"text-green-500"})}},C=P=>{const S={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return S[P]||S.monthly},j=(P,S)=>{const E=parseFloat(P)||0;switch(S){case"weekly":return E*4.33;case"quarterly":return E/3;case"annually":return E/12;case"monthly":default:return E}},A=()=>{if(t.length===0){alert("No income sources to export.");return}try{const P=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],S=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),R.type||"monthly",j(R.amount,R.type).toFixed(2),(j(R.amount,R.type)*12).toFixed(2),R.status||"active",R.isRecurring?"Yes":"No",R.notes||""]),E=[P.join(","),...S.map(R=>R.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),T=new Blob([E],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),L=URL.createObjectURL(T);M.setAttribute("href",L),M.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M),alert(`Successfully exported ${t.length} income sources!`)}catch(P){console.error("Error exporting CSV:",P),alert("Failed to export CSV: "+P.message)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",b.totalMonthlyIncome.toLocaleString()]})]}),a.jsx(tn,{className:"text-green-600 dark:text-green-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[b.activeCount," active sources"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",b.totalAnnualIncome.toLocaleString()]})]}),a.jsx($i,{className:"text-blue-600 dark:text-blue-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",b.averageIncome.toLocaleString()]})]}),a.jsx(i0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),a.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:b.highestIncome.name})]}),a.jsx(ah,{className:"text-orange-600 dark:text-orange-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",b.highestIncome.amount.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16}),"Export CSV"]}),a.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16}),"Add Income Source"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ol,{className:"text-slate-400",size:16}),a.jsx("select",{value:s,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(P=>a.jsx("option",{value:P,children:P==="all"?"All Types":P.charAt(0).toUpperCase()+P.slice(1).replace("-"," ")},P))}),a.jsx("select",{value:c,onChange:P=>d(P.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:g.map(P=>a.jsx("option",{value:P,children:P==="all"?"All Status":P.charAt(0).toUpperCase()+P.slice(1)},P))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&a.jsx("span",{children:h.direction==="asc"?"":""})]})}),a.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&a.jsx("span",{children:h.direction==="asc"?"":""})]})}),a.jsx("th",{className:"p-3",children:"Type"}),a.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),a.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),a.jsx("th",{className:"p-3",children:"Status"}),a.jsx("th",{className:"p-3",children:"Recurring"}),a.jsx("th",{className:"p-3",children:"Notes"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:w.length>0?w.map(P=>{const S=parseFloat(P.amount)||0,E=j(S,P.type),T=E*12;return a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:P.name})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",S.toFixed(2)]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${C(P.type)}`,children:(P.type||"monthly").replace("-"," ")})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",E.toFixed(2)]})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[x(P.status),a.jsx("span",{className:"text-xs capitalize",children:P.status||"active"})]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${P.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:P.isRecurring?"Yes":"No"})}),a.jsx("td",{className:"p-3 max-w-xs",children:a.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:P.notes&&P.notes.length>30?`${P.notes.substring(0,30)}...`:P.notes||""})}),a.jsx("td",{className:"p-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>e("income",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("income",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:a.jsx(dr,{size:16})})]})})]},P.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||s!=="all"||c!=="all"?a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Ts,{size:24,className:"text-slate-400"}),a.jsx("span",{children:"No income sources match your search criteria"}),a.jsx("button",{onClick:()=>{i(""),o("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(tn,{size:24,className:"text-slate-400"}),a.jsx("span",{children:"No income sources added yet"}),a.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),w.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",w.length," of ",t.length," income sources"]})}),a.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",w.reduce((P,S)=>P+j(S.amount,S.type),0).toFixed(2)]}),a.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(w.reduce((P,S)=>P+j(S.amount,S.type),0)*12).toLocaleString()]})]})]})})]}),b.totalCount>=1&&b.highestIncome.amount>b.totalMonthlyIncome*.7&&a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hc,{className:"text-amber-600 dark:text-amber-400",size:20}),a.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),a.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",b.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},phe=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,s]=k.useState(null),[o,c]=k.useState(!1),[d,h]=k.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=j=>{s(j)},m=j=>{r(j),s(null)},g=()=>{s(null)},w=j=>j>=100?"from-green-500 to-emerald-500":j>=80?"from-green-500 to-green-600":j>=50?"from-yellow-500 to-orange-500":j>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",b=j=>{const A=new Date,S=new Date(j)-A,E=Math.ceil(S/(1e3*60*60*24));return E<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:E===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:E===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:E<=7?{text:`${E} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:E<=30?{text:`${E} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${E} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=j=>{const A=j.target-j.current,P=Math.ceil((new Date(j.deadline)-new Date)/(1e3*60*60*24));return P>0?Math.ceil(A/P):0},x=(j,A)=>{console.log("Update goal progress:",j,A)},C=j=>{j.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),c(!1))};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:a.jsx(ah,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(j=>j.progress>=100).length," of ",t.length," completed"]})]})]}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[a.jsx(sh,{size:16}),"Add Goal"]})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:a.jsx(ts,{className:"text-green-600 dark:text-green-400",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),a.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(j=>j.progress>=100).length})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:a.jsx($i,{className:"text-blue-600 dark:text-blue-400",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),a.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(j=>j.progress>0&&j.progress<100).length})]})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:a.jsx(s0,{className:"text-orange-600 dark:text-orange-400",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),a.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((j,A)=>j+(A.targetValue||0),0).toLocaleString()]})]})]})})]}),a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[a.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:a.jsx(ah,{size:32,className:"opacity-50"})}),a.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),a.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),a.jsx("button",{onClick:()=>c(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(j=>{const A=j.progress||0,P=A>=100,S=(j.targetValue||0)-(j.current||0),E=b(j.deadline),T=w(A),M=E.text==="Overdue",L=_({target:j.targetValue||0,current:j.current||0,deadline:j.deadline});return a.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${P?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":M?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==j.id?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:j.name}),P&&a.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),j.type&&a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":j.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":j.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":j.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:j.type||"savings"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.bgColor} ${E.color}`,children:E.text})]}),j.description&&a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:j.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),a.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(j.current||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),a.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(j.targetValue||0).toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),a.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",S>0?S.toLocaleString():"0"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),a.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx("button",{onClick:()=>x(j.id,(j.current||0)+(j.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:a.jsx(sh,{size:18})}),a.jsx("button",{onClick:()=>x(j.id,Math.max(0,(j.current||0)-(j.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:a.jsx(eH,{size:18})}),a.jsx("button",{onClick:()=>p(j.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:a.jsx(dr,{size:18})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),a.jsxs("span",{className:`font-bold ${P?"text-green-600":"text-cyan-600"}`,children:[A.toFixed(1),"%"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:a.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(A,100)}%`},children:a.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),A>15&&a.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:a.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(j.current||0).toLocaleString()]})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[a.jsxs("span",{children:["Deadline: ",new Date(j.deadline).toLocaleDateString()]}),!P&&S>0&&L>0&&a.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:a.jsx(dr,{className:"text-red-600 dark:text-red-400",size:24})}),a.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',j.name,'"?']}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>m(j.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),a.jsx("button",{onClick:g,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},j.id)})})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),a.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:a.jsx(Is,{size:20})})]}),a.jsxs("form",{onSubmit:C,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),a.jsxs("select",{value:d.type,onChange:j=>h({...d,type:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"savings",children:" Savings Goal"}),a.jsx("option",{value:"debt",children:" Debt Payoff"}),a.jsx("option",{value:"investment",children:" Investment Target"}),a.jsx("option",{value:"purchase",children:" Large Purchase"}),a.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),a.jsx("input",{type:"text",value:d.name,onChange:j=>h({...d,name:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),a.jsx("textarea",{value:d.description,onChange:j=>h({...d,description:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),a.jsx("input",{type:"number",value:d.current,onChange:j=>h({...d,current:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),a.jsx("input",{type:"number",value:d.target,onChange:j=>h({...d,target:Number(j.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),a.jsx("input",{type:"date",value:d.deadline,onChange:j=>h({...d,deadline:j.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},mhe=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=k.useState(""),[s,o]=k.useState("all"),[c,d]=k.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=k.useMemo(()=>t.filter(_=>{const x=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),C=s==="all"||_.category===s;return x&&C}).sort((_,x)=>{if(c.key==="amount"){const C=parseFloat(_.amount)||0,j=parseFloat(x.amount)||0;return c.direction==="asc"?C-j:j-C}return c.key==="name"?c.direction==="asc"?_.name.localeCompare(x.name):x.name.localeCompare(_.name):0}),[t,n,s,c]),m=k.useMemo(()=>{const b=t.reduce((S,E)=>S+(parseFloat(E.amount)||0),0),_=b*4.33,x=b*52,C=t.reduce((S,E)=>(parseFloat(E.amount)||0)>S?parseFloat(E.amount)||0:S,0),j=t.length>0?b/t.length:0,A=t.reduce((S,E)=>{const T=E.category||"Other";return S[T]=(S[T]||0)+(parseFloat(E.amount)||0),S},{}),P=Object.entries(A).reduce((S,[E,T])=>T>(S.amount||0)?{category:E,amount:T}:S,{category:"None",amount:0});return{totalWeekly:b,totalMonthly:_,totalAnnual:x,highestCost:C,averageCost:j,categoryTotals:A,topCategory:P,itemCount:t.length}},[t]),g=b=>{d(_=>({key:b,direction:_.key===b&&_.direction==="desc"?"asc":"desc"}))},w=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const b=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(P=>[P.name||"",(parseFloat(P.amount)||0).toFixed(2),((parseFloat(P.amount)||0)*4.33).toFixed(2),((parseFloat(P.amount)||0)*52).toFixed(2),P.category||"Other",P.notes||""]),x=[b.join(","),..._.map(P=>P.map(S=>typeof S=="string"&&S.includes(",")?`"${S}"`:S).join(","))].join(`
`),C=new Blob([x],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),A=URL.createObjectURL(C);j.setAttribute("href",A),j.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j),alert(`Successfully exported ${t.length} weekly costs!`)}catch(b){console.error("Error exporting CSV:",b),alert("Failed to export CSV: "+b.message)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),a.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),a.jsx(D1,{className:"text-red-600 dark:text-red-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),a.jsx($i,{className:"text-orange-600 dark:text-orange-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),a.jsx(i0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),a.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),a.jsx(tn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16}),"Export CSV"]}),a.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(xn,{size:16}),"Add Weekly Cost"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ol,{className:"text-slate-400",size:16}),a.jsx("select",{value:s,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(b=>a.jsx("option",{value:b,children:b==="all"?"All Categories":b},b))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>g("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",c.key==="name"&&a.jsx("span",{children:c.direction==="asc"?"":""})]})}),a.jsx("th",{className:"p-3",children:"Category"}),a.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>g("amount"),children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",c.key==="amount"&&a.jsx("span",{children:c.direction==="asc"?"":""})]})}),a.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),a.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),a.jsx("th",{className:"p-3",children:"Notes"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(b=>{const _=parseFloat(b.amount)||0,x=_*4.33,C=_*52;return a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:b.name})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:b.category||"Other"})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",x.toFixed(2)]})}),a.jsx("td",{className:"p-3 text-right",children:a.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",C.toLocaleString()]})}),a.jsx("td",{className:"p-3 max-w-xs",children:a.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:b.notes&&b.notes.length>50?`${b.notes.substring(0,50)}...`:b.notes||""})}),a.jsx("td",{className:"p-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>e("weekly",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("weekly",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:a.jsx(dr,{size:16})})]})})]},b.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||s!=="all"?a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Ts,{size:24,className:"text-slate-400"}),a.jsx("span",{children:"No weekly costs match your search criteria"}),a.jsx("button",{onClick:()=>{i(""),o("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(tn,{size:24,className:"text-slate-400"}),a.jsx("span",{children:"No weekly costs added yet"}),a.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&a.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),a.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[a.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((b,_)=>b+(parseFloat(_.amount)||0),0).toFixed(2)]}),a.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((b,_)=>b+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),a.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((b,_)=>b+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cf,{className:"text-amber-600 dark:text-amber-400",size:20}),a.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),a.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},ghe=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],vhe=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],yhe=({userId:t,db:e,appId:r})=>{const[n,i]=k.useState(ghe),[s,o]=k.useState(0),[c,d]=k.useState(vhe),[h,p]=k.useState(0),[m,g]=k.useState(0),[w,b]=k.useState([]),[_,x]=k.useState("employees"),[C,j]=k.useState(!1),[A,P]=k.useState(null),[S,E]=k.useState(""),[T,M]=k.useState("all"),[L,R]=k.useState("all"),[D,V]=k.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});k.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const z=kc(e,"artifacts",r,"users",t,"employees"),ae=dm(z,me=>{const q=me.docs.map(fe=>({id:fe.id,...fe.data()}));console.log("Employees loaded from Firebase:",q),b(q)},me=>{console.error("Error fetching employees:",me)});return()=>ae()},[t,e,r]);const F=k.useMemo(()=>w.filter(z=>{const ae=z.name.toLowerCase().includes(S.toLowerCase())||z.position.toLowerCase().includes(S.toLowerCase())||z.email.toLowerCase().includes(S.toLowerCase()),me=T==="all"||z.status===T,q=L==="all"||z.department===L;return ae&&me&&q}),[w,S,T,L]),Z=k.useMemo(()=>{const z=w.filter(fe=>fe.status==="active");let ae=0,me=0,q=0;return z.forEach(fe=>{if(fe.payType==="salary"?ae+=(fe.baseSalary||0)/12:(ae+=(fe.hourlyRate||0)*(fe.hoursWorked||0),q+=fe.hoursWorked||0),fe.incentiveType==="percent"){const _e=n.find(Ee=>fe.salesAmount>=Ee.min&&fe.salesAmount<=Ee.max);_e&&(me+=fe.salesAmount*(_e.rate/100))}else if(fe.incentiveType==="hourly"){const _e=c.find(Ee=>fe.salesAmount>=Ee.min&&fe.salesAmount<=Ee.max);_e&&(me+=(fe.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:z.length,totalEmployeeCount:w.length,totalBasePay:ae,totalIncentives:me,totalPayroll:ae+me,averagePay:z.length>0?(ae+me)/z.length:0,totalHours:q}},[w,n,c]),te=k.useMemo(()=>["all",...[...new Set(w.map(ae=>ae.department))]],[w]),J=k.useMemo(()=>{const z=n.find(ae=>s>=ae.min&&s<=ae.max);return z?s*(z.rate/100):0},[s,n]),ee=k.useMemo(()=>{const z=c.find(ae=>h>=ae.min&&h<=ae.max);return!z||!m?0:m*z.bonus},[h,m,c]),K=(z,ae,me)=>{const q=[...n];q[z][ae]=parseFloat(me)||0,i(q)},Y=(z,ae,me)=>{const q=[...c];q[z][ae]=parseFloat(me)||0,d(q)},re=(z,ae)=>{V(me=>({...me,[z]:ae}))},W=async()=>{if(console.log("Adding employee:",D),!D.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const z=kc(e,"artifacts",r,"users",t,"employees");await v3(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:to()}),console.log("Employee saved to Firebase successfully!"),V({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),j(!1)}catch(z){console.error("Error adding employee:",z),alert("Failed to add employee: "+z.message)}},Q=z=>{V(z),P(z.id),j(!0)},H=async()=>{if(!(!t||!e||!A))try{const z=qn(e,"artifacts",r,"users",t,"employees",A);await Am(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,modifiedAt:to()}),P(null),j(!1),V({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(z){console.error("Error updating employee:",z),alert("Failed to update employee: "+z.message)}},oe=async z=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const ae=qn(e,"artifacts",r,"users",t,"employees",z);await g3(ae),console.log("Employee deleted from Firebase")}catch(ae){console.error("Error deleting employee:",ae),alert("Failed to delete employee: "+ae.message)}},X=async(z,ae,me)=>{if(!(!t||!e))try{const q=qn(e,"artifacts",r,"users",t,"employees",z);await Am(q,{[ae]:parseFloat(me)||0,modifiedAt:to()})}catch(q){console.error("Error updating employee data:",q)}},ue=z=>{if(z.incentiveType==="percent"){const ae=n.find(me=>z.salesAmount>=me.min&&z.salesAmount<=me.max);return ae?z.salesAmount*(ae.rate/100):0}else if(z.incentiveType==="hourly"){const ae=c.find(me=>z.salesAmount>=me.min&&z.salesAmount<=me.max);return ae?(z.hoursWorked||0)*ae.bonus:0}return 0},le=z=>z.payType==="salary"?(z.baseSalary||0)/12:(z.hourlyRate||0)*(z.hoursWorked||0),pe=z=>{switch(z){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),a.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[a.jsxs("button",{onClick:()=>x("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx(rs,{size:16}),"Employees"]}),a.jsxs("button",{onClick:()=>x("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx(Mc,{size:16}),"Payroll"]}),a.jsxs("button",{onClick:()=>x("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[a.jsx($i,{size:16}),"Incentive Calculator"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Z.activeEmployeeCount})]}),a.jsx(rs,{className:"text-blue-600 dark:text-blue-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",Z.totalEmployeeCount," total"]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",Z.totalBasePay.toLocaleString()]})]}),a.jsx(tn,{className:"text-green-600 dark:text-green-400",size:24})]}),a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",Z.averagePay.toLocaleString()]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",Z.totalIncentives.toLocaleString()]})]}),a.jsx($i,{className:"text-purple-600 dark:text-purple-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",Z.totalPayroll.toLocaleString()]})]}),a.jsx(Mc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),_==="employees"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),a.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),j(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(sh,{size:16}),"Add Employee"]})]}),w.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[a.jsx(rs,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),a.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),a.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),j(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search employees...",value:S,onChange:z=>E(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ol,{className:"text-slate-400",size:16}),a.jsxs("select",{value:T,onChange:z=>M(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"terminated",children:"Terminated"})]}),a.jsx("select",{value:L,onChange:z=>R(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:te.map(z=>a.jsx("option",{value:z,children:z==="all"?"All Departments":z},z))})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Employee"}),a.jsx("th",{className:"p-3",children:"Department"}),a.jsx("th",{className:"p-3",children:"Pay Type"}),a.jsx("th",{className:"p-3",children:"Base Pay"}),a.jsx("th",{className:"p-3",children:"Incentive Type"}),a.jsx("th",{className:"p-3",children:"Status"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{className:"text-sm",children:F.map(z=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),a.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:z.position}),a.jsx("div",{className:"text-xs text-slate-400",children:z.email})]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:z.department})}),a.jsxs("td",{className:"p-3",children:[a.jsx("span",{className:"capitalize",children:z.payType}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.payType==="salary"?`$${z.baseSalary.toLocaleString()}/year`:`$${z.hourlyRate}/hour`})]}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",le(z).toLocaleString()]})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"capitalize",children:z.incentiveType})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${pe(z.status)}`,children:z.status})}),a.jsx("td",{className:"p-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>Q(z),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>oe(z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:a.jsx(dr,{size:16})})]})})]},z.id))})]})})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:A?"Edit Employee":"Add New Employee"})}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",value:D.name,onChange:z=>re("name",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),a.jsx("input",{type:"text",value:D.position,onChange:z=>re("position",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:D.email,onChange:z=>re("email",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:D.phone,onChange:z=>re("phone",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),a.jsxs("select",{value:D.department,onChange:z=>re("department",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"Operations",children:"Operations"}),a.jsx("option",{value:"Sales",children:"Sales"}),a.jsx("option",{value:"Administration",children:"Administration"}),a.jsx("option",{value:"Management",children:"Management"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),a.jsxs("select",{value:D.payType,onChange:z=>re("payType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"salary",children:"Salary"}),a.jsx("option",{value:"hourly",children:"Hourly"})]})]}),D.payType==="salary"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),a.jsx("input",{type:"number",value:D.baseSalary,onChange:z=>re("baseSalary",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),a.jsx("input",{type:"number",step:"0.01",value:D.hourlyRate,onChange:z=>re("hourlyRate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),a.jsxs("select",{value:D.incentiveType,onChange:z=>re("incentiveType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"percent",children:"Percentage"}),a.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),a.jsxs("select",{value:D.status,onChange:z=>re("status",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"}),a.jsx("option",{value:"terminated",children:"Terminated"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),a.jsx("input",{type:"date",value:D.hireDate,onChange:z=>re("hireDate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),a.jsx("textarea",{value:D.notes,onChange:z=>re("notes",z.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),a.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{j(!1),P(null),V({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),a.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),A?H():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:A?"Update Employee":"Add Employee"})]})]})})]}),_==="payroll"&&a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),w.filter(z=>z.status==="active").length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[a.jsx(Mc,{size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),a.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Employee"}),a.jsx("th",{className:"p-3",children:"Hours"}),a.jsx("th",{className:"p-3",children:"Sales"}),a.jsx("th",{className:"p-3",children:"Base Pay"}),a.jsx("th",{className:"p-3",children:"Incentive"}),a.jsx("th",{className:"p-3",children:"Total Pay"})]})}),a.jsx("tbody",{className:"text-sm",children:w.filter(z=>z.status==="active").map(z=>{const ae=le(z),me=ue(z),q=ae+me;return a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[a.jsxs("td",{className:"p-3",children:[a.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.position})]}),a.jsx("td",{className:"p-3",children:z.payType==="hourly"?a.jsx("input",{type:"number",value:z.hoursWorked||"",onChange:fe=>X(z.id,"hoursWorked",fe.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):a.jsx("span",{className:"text-slate-400",children:""})}),a.jsx("td",{className:"p-3",children:z.incentiveType!=="none"?a.jsx("input",{type:"number",value:z.salesAmount||"",onChange:fe=>X(z.id,"salesAmount",fe.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):a.jsx("span",{className:"text-slate-400",children:""})}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",ae.toFixed(2)]})}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",me.toFixed(2)]})}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",q.toFixed(2)]})})]},z.id)})})]})})]}),_==="incentives"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2",children:"Sales Bracket"}),a.jsx("th",{className:"p-2",children:"% Scale"})]})}),a.jsx("tbody",{children:n.map((z,ae)=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),a.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[a.jsx("input",{type:"number",value:z.rate,onChange:me=>K(ae,"rate",me.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},ae))})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),a.jsxs("div",{className:"relative",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"number",value:s,onChange:z=>o(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),a.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",J.toFixed(2)]})]})]})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2",children:"Sales Bracket"}),a.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),a.jsx("tbody",{children:c.map((z,ae)=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[a.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),a.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",a.jsx("input",{type:"number",value:z.bonus,onChange:me=>Y(ae,"bonus",me.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},ae))})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),a.jsxs("div",{className:"relative",children:[a.jsx(tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"number",value:h,onChange:z=>p(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),a.jsx("input",{type:"number",value:m,onChange:z=>g(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),a.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),a.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",ee.toFixed(2)]})]})]})]})]})]})]})]})},xhe=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:s,openModal:o,handleDelete:c,handleEnhancedExportCSV:d})=>{const[h,p]=k.useState(""),[m,g]=k.useState("dueDay"),[w,b]=k.useState("asc"),[_,x]=k.useState("all"),[C,j]=k.useState("all"),[A,P]=k.useState("all"),[S,E]=k.useState(!1),T=new Date,M=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(M.getTime()+6*24*60*60*1e3),R=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(R.getTime()+6*24*60*60*1e3),V=new Date(T.getFullYear(),T.getMonth(),1),F=new Date(T.getFullYear(),T.getMonth()+1,0),Z=k.useMemo(()=>{let Y=t.filter(re=>{if(r&&re.category!==r||h&&!re.name.toLowerCase().includes(h.toLowerCase())||_==="paid"&&!e[re.id]||_==="unpaid"&&e[re.id]||A==="under100"&&re.amount>=100||A==="100to500"&&(re.amount<100||re.amount>500)||A==="over500"&&re.amount<=500)return!1;if(C!=="all"&&re.dueDay){const W=new Date(T.getFullYear(),T.getMonth(),re.dueDay);switch(W<T&&W.setMonth(W.getMonth()+1),C){case"overdue":if(W>=T)return!1;break;case"thisWeek":if(W<M||W>L)return!1;break;case"nextWeek":if(W<R||W>D)return!1;break;case"thisMonth":if(W<V||W>F)return!1;break}}return!0});return Y.sort((re,W)=>{let Q=re[m],H=W[m];m==="status"&&(Q=e[re.id]?"paid":"unpaid",H=e[W.id]?"paid":"unpaid"),typeof Q=="string"&&(Q=Q.toLowerCase(),H=H.toLowerCase());let oe=0;return Q<H&&(oe=-1),Q>H&&(oe=1),w==="desc"?-oe:oe}),Y},[t,r,h,_,C,A,m,w,e,T]),te=Y=>{m===Y?b(w==="asc"?"desc":"asc"):(g(Y),b("asc"))},J=()=>{p(""),g("dueDay"),b("asc"),x("all"),j("all"),P("all"),n(null)},ee=k.useMemo(()=>{let Y=0;return h&&Y++,r&&Y++,_!=="all"&&Y++,C!=="all"&&Y++,A!=="all"&&Y++,Y},[h,r,_,C,A]),K=({type:Y,label:re})=>{const W=ne.useRef(null);return a.jsxs("div",{className:"inline-block",children:[a.jsx("input",{ref:W,type:"file",accept:".csv",onChange:Q=>{Q.target.files[0]&&(window.handleEnhancedCSVImport?.(Q.target.files[0],Y),Q.target.value="")},style:{display:"none"}}),a.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(_o,{size:16}),re]})]})};return a.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&a.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ee>0&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ee," filter",ee!==1?"s":""," active"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(K,{type:"bill",label:"Import"}),a.jsxs("button",{onClick:()=>d(Z,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Export"]})]})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),a.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&a.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(Is,{size:16})})]}),a.jsxs("button",{onClick:()=>E(!S),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${S?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[a.jsx(Ol,{size:16}),"Filters",a.jsx(ih,{className:`transition-transform ${S?"rotate-180":""}`,size:16})]}),ee>0&&a.jsx("button",{onClick:J,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),S&&a.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),a.jsxs("select",{value:`${m}-${w}`,onChange:Y=>{const[re,W]=Y.target.value.split("-");g(re),b(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),a.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),a.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),a.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),a.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),a.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),a.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),a.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),a.jsxs("select",{value:_,onChange:Y=>x(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Bills"}),a.jsx("option",{value:"unpaid",children:"Unpaid Only"}),a.jsx("option",{value:"paid",children:"Paid Only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),a.jsxs("select",{value:C,onChange:Y=>j(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Dates"}),a.jsx("option",{value:"overdue",children:"Overdue"}),a.jsx("option",{value:"thisWeek",children:"This Week"}),a.jsx("option",{value:"nextWeek",children:"Next Week"}),a.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),a.jsxs("select",{value:A,onChange:Y=>P(Y.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Amounts"}),a.jsx("option",{value:"under100",children:"Under $100"}),a.jsx("option",{value:"100to500",children:"$100 - $500"}),a.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:a.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",Z.length," of ",t.length," bills",ee>0&&` with ${ee} filter${ee!==1?"s":""} applied`]})})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:a.jsxs("button",{onClick:()=>te("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(w==="asc"?a.jsx(il,{size:14}):a.jsx(nl,{size:14}))]})}),a.jsx("th",{className:"p-3",children:a.jsxs("button",{onClick:()=>te("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(w==="asc"?a.jsx(il,{size:14}):a.jsx(nl,{size:14}))]})}),a.jsx("th",{className:"p-3",children:"Notes"}),a.jsx("th",{className:"p-3",children:"Receipt"}),a.jsx("th",{className:"p-3 text-right",children:a.jsxs("button",{onClick:()=>te("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(w==="asc"?a.jsx(il,{size:14}):a.jsx(nl,{size:14}))]})}),a.jsx("th",{className:"p-3 text-center",children:a.jsxs("button",{onClick:()=>te("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(w==="asc"?a.jsx(il,{size:14}):a.jsx(nl,{size:14}))]})}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),a.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):Z.map(Y=>a.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Y.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[a.jsx("td",{className:"p-3",children:a.jsx("button",{onClick:()=>i(Y.id),className:"hover:scale-110 transition-transform",children:e[Y.id]?a.jsx(ts,{className:"text-green-500",size:20}):a.jsx($3,{className:"text-slate-400 dark:text-slate-600",size:20})})}),a.jsxs("td",{className:`p-3 font-medium ${e[Y.id]?"line-through":""}`,children:[Y.name,Y.category&&a.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Y.category})]}),a.jsx("td",{className:"p-3 text-center",children:Y.notes&&a.jsxs("div",{className:"group relative flex justify-center",children:[a.jsx(V3,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),a.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Y.notes})]})}),a.jsx("td",{className:"p-3 text-center",children:Y.attachmentURL?a.jsx("a",{href:Y.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:a.jsx(BT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):a.jsx(BT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),a.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Y.amount||0).toFixed(2)]}),a.jsx("td",{className:"p-3 text-center font-medium",children:Y.dueDay}),a.jsx("td",{className:"p-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>o("bill",Y),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>c("bill",Y.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:a.jsx(dr,{size:16})})]})})]},Y.id))})]})}),a.jsxs("button",{onClick:()=>o("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[a.jsx(xn,{size:18}),"Add New Bill"]})]})},fm=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=ne.useRef(null);return a.jsxs("div",{className:"inline-block",children:[a.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),a.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(_o,{size:16}),e]})]})},bhe=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:s})=>{const o=ne.useMemo(()=>t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(i.toLowerCase()))),[t,i]);return a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(fm,{type:"recurring",label:"Import"}),a.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16}),"Export"]}),a.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(xn,{size:18}),"Add Recurring Work"]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:c=>s(c.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Work Name"}),a.jsx("th",{className:"p-3",children:"Client ID"}),a.jsx("th",{className:"p-3 text-right",children:"Revenue"}),a.jsx("th",{className:"p-3",children:"Frequency"}),a.jsx("th",{className:"p-3",children:"Next Due Date"}),a.jsx("th",{className:"p-3",children:"Notes"}),a.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:o.length>0?o.map(c=>a.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[a.jsx("td",{className:"p-3 font-medium",children:c.name}),a.jsx("td",{className:"p-3",children:c.clientId}),a.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(c.revenue||0).toFixed(2)]}),a.jsx("td",{className:"p-3",children:c.frequency}),a.jsx("td",{className:"p-3",children:c.nextDueDate}),a.jsx("td",{className:"p-3 text-sm text-slate-500",children:c.notes}),a.jsxs("td",{className:"p-3 text-center",children:[a.jsx("button",{onClick:()=>e("recurring",c),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:a.jsx(vn,{size:16})}),a.jsx("button",{onClick:()=>r("recurring",c.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:a.jsx(dr,{size:16})})]})]},c.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},whe={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},zn="hvac-finance-dashboard",tN=lD(whe),QL=WD(tN),Qr=uq(tN),_he=RW(tN),khe=()=>{const[t,e]=k.useState(null),[r,n]=k.useState(!0),[i,s]=k.useState([]),[o,c]=k.useState([]),[d,h]=k.useState([]),[p,m]=k.useState([]),[g,w]=k.useState([]),[b,_]=k.useState([]),[x,C]=k.useState([]),[j,A]=k.useState([]),[P,S]=k.useState([]),[E,T]=k.useState([]),[M,L]=k.useState([]),[R,D]=k.useState([]),[V,F]=k.useState([]),[Z,te]=k.useState([]),[J,ee]=k.useState({}),[K,Y]=k.useState(!1),[re,W]=k.useState(null),[Q,H]=k.useState("bill"),[oe,X]=k.useState({key:"dueDay",direction:"ascending"}),[ue,le]=k.useState("dashboard"),[pe,z]=k.useState(null),[ae,me]=k.useState(0),[q,fe]=k.useState({start:new Date,end:new Date}),[_e,Ee]=k.useState("monthly"),[qe,Mt]=k.useState(!0),[or,gr]=k.useState("dark"),[Pt,kt]=k.useState(""),[vr,yr]=k.useState([]),[rr,sn]=k.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[$t,Ot]=k.useState({}),an=(ve,be)=>{if(!ve||!t)return alert("Please select a file and ensure you're logged in.");const Ue=new FileReader;Ue.onload=Oe=>{try{const Ft=Oe.target.result.split(`
`).filter(Vt=>Vt.trim());if(Ft.length<2)return alert("CSV file must have at least a header row and one data row.");const lt=Vt=>{const Bt=[];let lr="",Xn=!1;for(let xi=0;xi<Vt.length;xi++){const nr=Vt[xi];nr==='"'?Xn=!Xn:nr===","&&!Xn?(Bt.push(lr.trim()),lr=""):lr+=nr}return Bt.push(lr.trim()),Bt},vt=lt(Ft[0]).map(Vt=>Vt.replace(/"/g,"").trim()),Jt=Ft.slice(1,6).map(Vt=>{const Bt=lt(Vt);return vt.reduce((lr,Xn,xi)=>{let nr=Bt[xi]||"";return nr=nr.replace(/"/g,"").trim(),lr[Xn]=nr&&!isNaN(nr)&&nr!==""?parseFloat(nr):nr,lr},{})}),st=Ft.slice(1).map(Vt=>{const Bt=lt(Vt);return vt.reduce((lr,Xn,xi)=>{let nr=Bt[xi]||"";return nr=nr.replace(/"/g,"").trim(),lr[Xn]=nr&&!isNaN(nr)&&nr!==""?parseFloat(nr):nr,lr},{})});sn({show:!0,data:Jt,headers:vt,type:be,fileName:ve.name,fullData:st}),Kn(be,vt)}catch(Ke){console.error("Error parsing CSV:",Ke),alert("Error parsing CSV file.")}},Ue.readAsText(ve)};k.useEffect(()=>(window.handleEnhancedCSVImport=an,()=>{delete window.handleEnhancedCSVImport}),[t]);const dt=(ve,be)=>{for(const Ue of be){const Oe=ve.find(Ke=>Ke.toLowerCase().includes(Ue.toLowerCase()));if(Oe)return Oe}return ve[0]||""},Kn=(ve,be)=>{const Ue={job:{name:dt(be,["name","job name","title","description"]),revenue:dt(be,["revenue","amount","total","price"]),materialCost:dt(be,["material cost","materials"]),laborCost:dt(be,["labor cost","labor"]),date:dt(be,["date","completed"]),notes:dt(be,["notes","comments"]),clientId:dt(be,["client","customer id"])},client:{name:dt(be,["name","customer name","company"]),address:dt(be,["address","location"]),phone:dt(be,["phone","contact"]),email:dt(be,["email"])},invoice:{billTo:dt(be,["bill to","customer","client"]),customer:dt(be,["customer","company"]),jobNo:dt(be,["job no","job id"]),completedOn:dt(be,["completed","date"]),net:dt(be,["net","amount","subtotal"]),grandTotal:dt(be,["grand total","total"]),status:dt(be,["status","paid"])},recurring:{name:dt(be,["name","work name","title"]),clientId:dt(be,["client id","customer id"]),revenue:dt(be,["revenue","amount","price"]),frequency:dt(be,["frequency","schedule"]),nextDueDate:dt(be,["next due","due date"]),notes:dt(be,["notes","details"])}};Ot(Ue[ve]||{})},Mn=async()=>{if(!rr.fullData.length)return alert("No data to import.");const{type:ve,fullData:be,fileName:Ue}=rr;try{const Ke={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory",recurring:"recurringWork"}[ve];if(!Ke)return alert("Invalid import type.");const Ft=Oy(Qr),lt=kc(Qr,"artifacts",zn,"users",t,Ke);let vt=0;if(be.forEach(Jt=>{const st={};if(Object.entries($t).forEach(([Bt,lr])=>{lr&&Jt[lr]!==void 0&&Jt[lr]!==""&&(st[Bt]=Jt[lr])}),ve==="job"?(st.date=st.date||new Date().toISOString(),st.revenue=st.revenue||0,st.materialCost=st.materialCost||0,st.laborCost=st.laborCost||0):ve==="invoice"?(st.status=st.status||"Unpaid",st.net=st.net||0,st.grandTotal=st.grandTotal||st.net||0):ve==="recurring"&&(st.revenue=st.revenue||0,st.frequency=st.frequency||"Monthly",st.nextDueDate=st.nextDueDate||new Date().toISOString().split("T")[0]),ve==="job"&&st.name||ve==="client"&&st.name||ve==="invoice"&&(st.billTo||st.customer)||ve==="inventory"&&st.name||ve==="recurring"&&st.name){const Bt=qn(lt);Ft.set(Bt,{...st,importedFrom:Ue,importedAt:to(),createdAt:to()}),vt++}}),vt===0)return alert("No valid records found to import.");await Ft.commit(),alert(`Successfully imported ${vt} ${Ke} from ${Ue}!`),sn({show:!1,data:[],headers:[],type:"",fileName:""}),Ot({})}catch(Oe){console.error("Error importing CSV:",Oe),alert(`Failed to import CSV: ${Oe.message}`)}},fi=()=>rr.show?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",rr.fileName]}),a.jsx("button",{onClick:()=>sn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:a.jsx(Is,{size:24})})]}),a.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",rr.fullData?.length||0," records. Showing first 5 for preview."]})]}),a.jsxs("div",{className:"p-6 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys($t).map(ve=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[ve,":"]}),a.jsxs("select",{value:$t[ve]||"",onChange:be=>Ot(Ue=>({...Ue,[ve]:be.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[a.jsx("option",{value:"",children:"-- Skip Field --"}),rr.headers.map(be=>a.jsx("option",{value:be,children:be},be))]})]},ve))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[a.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:a.jsx("tr",{children:rr.headers.map(ve=>a.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:ve},ve))})}),a.jsx("tbody",{children:rr.data.map((ve,be)=>a.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:rr.headers.map(Ue=>a.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(ve[Ue]||"")},Ue))},be))})]})})]})]}),a.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 mt-auto",children:[a.jsx("button",{onClick:()=>sn({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),a.jsxs("button",{onClick:Mn,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",rr.fullData?.length||0," Records"]})]})]})}):null,Sr=(ve,be,Ue=null)=>{if(!ve||ve.length===0)return alert("No data to export.");try{const Oe=Ue||Object.keys(ve[0]).filter(Vt=>Vt!=="id"&&!Vt.includes("At")),Ke=Vt=>{if(Vt==null)return"";const Bt=String(Vt);return Bt.includes(",")||Bt.includes('"')||Bt.includes(`
`)?`"${Bt.replace(/"/g,'""')}"`:Bt},lt=[Oe.join(","),...ve.map(Vt=>Oe.map(Bt=>Ke(Vt[Bt])).join(","))].join(`
`),vt=new Blob([lt],{type:"text/csv;charset=utf-8;"}),Jt=document.createElement("a"),st=URL.createObjectURL(vt);Jt.setAttribute("href",st),Jt.setAttribute("download",`${zn}_${be}_${new Date().toISOString().split("T")[0]}.csv`),Jt.style.visibility="hidden",document.body.appendChild(Jt),Jt.click(),document.body.removeChild(Jt)}catch(Oe){console.error("Error exporting CSV:",Oe),alert("Failed to export CSV: "+Oe.message)}},os=()=>{Sr([{"Job Name":"Sample HVAC Install",Revenue:5e3,"Material Cost":2e3,"Labor Cost":1500,Date:"2025-01-15",Customer:"Sample Customer",Notes:"Sample job for import"}],"appsheet_template",["Job Name","Revenue","Material Cost","Labor Cost","Date","Customer","Notes"])};k.useEffect(()=>{document.documentElement.classList.toggle("dark",or==="dark")},[or]);const pi=()=>gr(or==="light"?"dark":"light");k.useEffect(()=>{const ve=new Date;let be,Ue;if(_e==="monthly")be=new Date(ve.getFullYear(),ve.getMonth(),1),Ue=new Date(ve.getFullYear(),ve.getMonth()+1,0);else if(_e==="quarterly"){const Oe=Math.floor(ve.getMonth()/3);be=new Date(ve.getFullYear(),Oe*3,1),Ue=new Date(ve.getFullYear(),Oe*3+3,0)}else be=new Date(ve.getFullYear(),0,1),Ue=new Date(ve.getFullYear(),11,31);fe({start:be,end:Ue})},[_e]);const mi=k.useMemo(()=>q.start.getFullYear()+"-"+String(q.start.getMonth()+1).padStart(2,"0"),[q]);k.useEffect(()=>{const ve=f9(QL,be=>{e(be?be.uid:null),n(!1)});return()=>ve()},[]),k.useEffect(()=>{if(!t)return;const be=Object.entries({bills:s,debts:c,incomes:h,weeklyCosts:m,jobs:w,tasks:_,invoices:C,taxPayments:A,goals:S,clients:T,inventory:L,vehicles:D,maintenanceLogs:F,recurringWork:te}).map(([Oe,Ke])=>dm(xq(kc(Qr,"artifacts",zn,"users",t,Oe)),Ft=>{Ke(Ft.docs.map(lt=>({id:lt.id,...lt.data()})))},Ft=>console.error(`Error fetching ${Oe}:`,Ft))),Ue=dm(qn(Qr,"artifacts",zn,"users",t,"paidStatus",mi),Oe=>{ee(Oe.exists()?Oe.data().status:{})},Oe=>console.error("Error fetching paid status:",Oe));return()=>{be.forEach(Oe=>Oe()),Ue()}},[t,mi]),k.useEffect(()=>{if(!t)return;const ve=dm(qn(Qr,"artifacts",zn,"users",t,"settings","currentBalance"),be=>{me(be.exists()&&be.data().amount||0)},be=>console.error("Error fetching current balance:",be));return()=>ve()},[t]);const zr=k.useMemo(()=>g.filter(ve=>{if(!ve.date)return!1;const be=new Date(ve.date);return be>=q.start&&be<=q.end}),[g,q]),Yn=k.useMemo(()=>i.filter(ve=>!pe||ve.category===pe),[i,pe]),qr=k.useMemo(()=>{const ve=d.reduce((lt,vt)=>lt+(vt.amount||0),0),be=i.reduce((lt,vt)=>lt+(vt.amount||0),0),Ue=p.reduce((lt,vt)=>lt+(vt.amount||0),0)*4.33,Oe=be+Ue,Ke=ve-Oe,Ft=o.reduce((lt,vt)=>lt+((vt.totalAmount||0)-(vt.paidAmount||0)),0);return{totalIncome:ve,totalOutflow:Oe,netCashFlow:Ke,totalDebt:Ft}},[i,o,d,p]),bn=k.useMemo(()=>{const ve=zr.reduce((Oe,Ke)=>Oe+(Ke.revenue||0),0),be=zr.reduce((Oe,Ke)=>Oe+(Ke.materialCost||0)+(Ke.laborCost||0),0),Ue=ve-be;return{revenue:ve,cogs:be,grossProfit:Ue}},[zr]),Wr=k.useMemo(()=>{const ve=i.reduce((Ue,Oe)=>{const Ke=Oe.category||"Uncategorized";return Ue[Ke]=(Ue[Ke]||0)+Oe.amount,Ue},{}),be=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(ve).map(([Ue,Oe],Ke)=>({name:Ue,value:Oe,color:be[Ke%be.length]})).sort((Ue,Oe)=>Oe.value-Ue.value)},[i]),wn=k.useMemo(()=>{let be={bills:Yn,debts:o,incomes:d,weeklyCosts:p,jobs:g,goals:P,clients:E,inventory:M,vehicles:R,invoices:x,recurring:Z}[ue]||[];return Pt&&(be=be.filter(Ue=>Object.values(Ue).some(Oe=>Oe&&String(Oe).toLowerCase().includes(Pt.toLowerCase())))),[...be].sort((Ue,Oe)=>oe.key?Ue[oe.key]<Oe[oe.key]?oe.direction==="ascending"?-1:1:Ue[oe.key]>Oe[oe.key]?oe.direction==="ascending"?1:-1:0:0)},[Yn,o,d,p,g,P,E,M,R,x,Z,oe,ue,Pt]),Qn=k.useMemo(()=>{const ve=o.map(Oe=>({...Oe,remaining:Oe.totalAmount-Oe.paidAmount})).filter(Oe=>Oe.remaining>0),be=[...ve].sort((Oe,Ke)=>Ke.interestRate-Oe.interestRate),Ue=[...ve].sort((Oe,Ke)=>Oe.remaining-Ke.remaining);return{avalanche:be,snowball:Ue}},[o]),_n=k.useMemo(()=>P.map(ve=>{let be=0;if(ve.type==="debt"){const Ue=o.find(Oe=>Oe.id===ve.targetId);Ue&&(be=Ue.paidAmount/Ue.totalAmount*100)}else ve.type==="revenue"&&(be=g.reduce((Oe,Ke)=>Oe+(Ke.revenue||0),0)/ve.targetValue*100);return{...ve,progress:Math.min(be,100)}}),[P,o,g]),gi=ve=>X(be=>({key:ve,direction:be.key===ve&&be.direction==="ascending"?"descending":"ascending"})),vi=async ve=>{t&&await IT(qn(Qr,"artifacts",zn,"users",t,"paidStatus",mi),{status:{...J,[ve]:!J[ve]}},{merge:!0})},yi=async(ve,be)=>{if(!t)return;const Ue=be==="Paid"?"Unpaid":"Paid";await Am(qn(Qr,"artifacts",zn,"users",t,"invoices",ve),{status:Ue})},Rt=(ve,be=null)=>{H(ve),W(be),Y(!0)},Ls=async ve=>{if(!t)return alert("Please log in to update the balance.");try{await IT(qn(Qr,"artifacts",zn,"users",t,"settings","currentBalance"),{amount:ve,updatedAt:to()},{merge:!0})}catch(be){console.error("Failed to update current balance:",be),alert("Failed to update balance: "+be.message)}},Et=async(ve,be)=>{if(!t)return;const Oe={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[Q];if(!Oe)return alert("Invalid modal type for saving.");const Ke=["artifacts",zn,"users",t,Oe],Ft={...ve,modifiedAt:to()};if(be){const lt=MW(_he,`receipts/${t}/${Date.now()}-${be.name}`);try{await OW(lt,be),Ft.attachmentURL=await IW(lt)}catch(vt){return console.error("File upload failed:",vt),alert("File upload failed. Please try again.")}}try{re?.id?await Am(qn(Qr,...Ke,re.id),Ft):await v3(kc(Qr,...Ke),{...Ft,createdAt:to()}),Y(!1),W(null)}catch(lt){console.error("Error saving item:",lt),alert("Failed to save item.")}},Fe=async(ve,be)=>{if(!t||!window.confirm("Delete this item?"))return;const Oe={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[ve];if(!Oe)return alert("Invalid item type for deletion.");try{await g3(qn(Qr,"artifacts",zn,"users",t,Oe,be))}catch(Ke){console.error(`Error deleting ${ve}:`,Ke),alert(`Failed to delete ${ve}. Error: ${Ke.message}`)}},kn=async(ve,be)=>{if(!t||!be.length||!window.confirm(`Delete ${be.length} selected items?`))return;const Oe={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[ve];if(!Oe)return alert("Invalid bulk delete type.");try{const Ke=Oy(Qr);be.forEach(Ft=>{Ke.delete(qn(Qr,"artifacts",zn,"users",t,Oe,Ft)),ve==="vehicle"&&V.filter(vt=>vt.vehicleId===Ft).forEach(vt=>Ke.delete(qn(Qr,"artifacts",zn,"users",t,"maintenanceLogs",vt.id)))}),await Ke.commit(),yr([])}catch(Ke){console.error(`Error bulk deleting ${ve}s:`,Ke),alert(`Failed to delete ${ve}s. Please try again.`)}},Ds=async()=>{if(!(!t||!window.confirm("Clear all your business data? This is irreversible.")))try{const ve=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","recurringWork","paidStatus","system","settings"];for(const be of ve){const Ue=await _q(kc(Qr,"artifacts",zn,"users",t,be));if(!Ue.empty){const Oe=Oy(Qr);Ue.docs.forEach(Ke=>Oe.delete(Ke.ref)),await Oe.commit()}}alert("All business data has been cleared.")}catch(ve){console.error("Failed to clear data:",ve),alert("Failed to clear data: "+ve.message)}};if(r)return a.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return a.jsx(lH,{setUserId:e});const $s=()=>a.jsxs(a.Fragment,{children:[qe&&a.jsx(ahe,{bills:i,paidStatus:J,onClose:()=>Mt(!1)}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(vs,{title:"Total Monthly Income",value:`$${qr.totalIncome.toLocaleString()}`,icon:a.jsx(HW,{size:24}),color:"green"}),a.jsx(vs,{title:"Total Monthly Outflow",value:`$${qr.totalOutflow.toLocaleString()}`,icon:a.jsx(UW,{size:24}),color:"red"}),a.jsx(vs,{title:"Projected Net",value:`$${qr.netCashFlow.toLocaleString()}`,icon:a.jsx(tn,{size:24}),color:qr.netCashFlow>=0?"cyan":"amber"}),a.jsx(vs,{title:"Outstanding Debt",value:`$${qr.totalDebt.toLocaleString()}`,icon:a.jsx(cf,{size:24}),color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx(vs,{title:"Gross Profit Margin",value:`${bn.revenue>0?(bn.grossProfit/bn.revenue*100).toFixed(1):"0.0"}%`,icon:a.jsx(B3,{size:24}),color:"teal",subtext:"For selected period"}),a.jsx(vs,{title:"Avg. Job Revenue",value:`$${(bn.revenue/(zr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx($i,{size:24}),color:"indigo",subtext:`${zr.length} jobs`}),a.jsx(vs,{title:"Avg. Job Profit",value:`$${(bn.grossProfit/(zr.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:a.jsx(ah,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[a.jsx(xhe,{bills:i,paidStatus:J,selectedCategory:pe,setSelectedCategory:z,handleTogglePaid:vi,handleSort:gi,openModal:Rt,handleDelete:Fe,handleEnhancedExportCSV:Sr}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),a.jsx(ohe,{data:Wr,onSliceClick:z})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(fm,{type:"job",label:"Import Jobs"}),a.jsx(fm,{type:"client",label:"Import Customers"}),a.jsx(fm,{type:"invoice",label:"Import Invoices"})]}),a.jsxs("button",{onClick:os,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(rn,{size:16})," Download CSV Template"]}),a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[a.jsx("p",{children:" Export data from AppSheet as CSV"}),a.jsx("p",{children:" Use Import buttons to map fields"}),a.jsx("p",{children:" Download template for reference"})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome!"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{children:" Use the navigation tabs to add clients, jobs, vehicles, and more."}),a.jsx("p",{children:" Track your finances and business performance from the dashboard."})]})]}),a.jsxs("button",{onClick:Ds,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(dr,{size:16})," Clear All Data"]})]})]})]})]})]});return a.jsxs("div",{className:`${or} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[a.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[a.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:pi,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:or==="light"?a.jsx(tH,{size:20}):a.jsx(iH,{size:20})}),a.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[a.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),a.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[a.jsx("button",{onClick:()=>Ee("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>Ee("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),a.jsx("button",{onClick:()=>Ee("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("button",{onClick:()=>{const ve=new Date(q.start);_e==="monthly"?ve.setMonth(ve.getMonth()-1):_e==="quarterly"?ve.setMonth(ve.getMonth()-3):ve.setFullYear(ve.getFullYear()-1);let be;_e==="monthly"?be=new Date(ve.getFullYear(),ve.getMonth()+1,0):_e==="quarterly"?be=new Date(ve.getFullYear(),ve.getMonth()+3,0):be=new Date(ve.getFullYear(),11,31),fe({start:ve,end:be})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:a.jsx(D3,{size:16})}),a.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&q.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((q.start.getMonth()+1)/3)} ${q.start.getFullYear()}`,_e==="yearly"&&q.start.getFullYear().toString()]}),a.jsx("button",{onClick:()=>{const ve=new Date(q.start);_e==="monthly"?ve.setMonth(ve.getMonth()+1):_e==="quarterly"?ve.setMonth(ve.getMonth()+3):ve.setFullYear(ve.getFullYear()+1);let be;_e==="monthly"?be=new Date(ve.getFullYear(),ve.getMonth()+1,0):_e==="quarterly"?be=new Date(ve.getFullYear(),ve.getMonth()+3,0):be=new Date(ve.getFullYear(),11,31),fe({start:ve,end:be})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:a.jsx($1,{size:16})})]})]}),a.jsxs("button",{onClick:()=>p9(QL),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[a.jsx(JW,{size:16})," Logout"]})]})]}),a.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[a.jsx("button",{onClick:()=>le("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),a.jsx("button",{onClick:()=>le("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),a.jsx("button",{onClick:()=>le("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),a.jsx("button",{onClick:()=>le("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),a.jsx("button",{onClick:()=>le("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),a.jsx("button",{onClick:()=>le("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),a.jsx("button",{onClick:()=>le("workorder"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="workorder"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Workorder"}),a.jsx("button",{onClick:()=>le("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),a.jsx("button",{onClick:()=>le("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),a.jsx("button",{onClick:()=>le("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),a.jsx("button",{onClick:()=>le("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),a.jsx("button",{onClick:()=>le("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),a.jsx("button",{onClick:()=>le("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),a.jsx("button",{onClick:()=>le("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),a.jsx("button",{onClick:()=>le("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),a.jsx("button",{onClick:()=>le("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),a.jsx("button",{onClick:()=>le("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Valuation"}),a.jsx("button",{onClick:()=>le("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"}),a.jsx("button",{onClick:()=>le("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ue==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"})]}),a.jsxs("main",{children:[ue==="dashboard"&&$s(),ue==="reports"&&a.jsx(she,{clients:E,jobs:g,bills:i,inventory:M}),ue==="valuation"&&a.jsx(nhe,{}),ue==="calendar"&&a.jsx(Tce,{jobs:g,tasks:b,openModal:Rt}),ue==="invoices"&&a.jsx(Pce,{invoices:x,openModal:Rt,handleDelete:Fe,handleBulkDelete:kn,selectedIds:vr,setSelectedIds:yr,searchTerm:Pt,setSearchTerm:kt,handleImportCSV:an,handleExportCSV:Sr,handleToggleInvoicePaid:yi}),ue==="tax"&&a.jsx(Cce,{jobs:g,bills:i,weeklyCosts:p,taxPayments:j,openModal:Rt,handleDelete:Fe}),ue==="pnl"&&a.jsx(dhe,{jobs:g,bills:i,weeklyCosts:p,reportingPeriod:_e,dateRange:q}),ue==="forecast"&&a.jsx(lhe,{invoices:x,bills:i,weeklyCosts:p,currentBankBalance:ae,setCurrentBankBalance:Ls}),ue==="goals"&&a.jsx(phe,{goalsWithProgress:_n,openModal:Rt,onDeleteGoal:ve=>Fe("goal",ve),onEditGoal:ve=>Rt("goal",ve)}),ue==="incentives"&&a.jsx(yhe,{userId:t,db:Qr,appId:zn}),ue==="clients"&&a.jsx(the,{clients:E,openModal:Rt,handleDelete:Fe,handleBulkDelete:kn,selectedIds:vr,setSelectedIds:yr,searchTerm:Pt,setSearchTerm:kt,handleImportCSV:an,handleExportCSV:Sr,handleBulkUpdate:ve=>handleBulkUpdate("client",ve)}),ue==="jobs"&&a.jsx(uhe,{jobs:g,clients:E,openModal:Rt,handleDelete:Fe,searchTerm:Pt,setSearchTerm:kt,handleEnhancedExportCSV:Sr}),ue==="recurring"&&a.jsx(bhe,{recurringWork:wn,openModal:Rt,handleDelete:Fe,handleEnhancedExportCSV:Sr,searchTerm:Pt,setSearchTerm:kt}),ue==="workorder"&&a.jsx(ehe,{}),ue==="vehicles"&&a.jsx(rhe,{vehicles:R,maintenanceLogs:V,openModal:Rt,handleDelete:Fe,searchTerm:Pt,setSearchTerm:kt}),ue==="inventory"&&a.jsx(ihe,{inventory:M,openModal:Rt,handleDelete:Fe,handleBulkDelete:kn,selectedIds:vr,setSelectedIds:yr,searchTerm:Pt,setSearchTerm:kt,handleEnhancedExportCSV:Sr}),ue==="debts"&&a.jsx(hhe,{debts:o,openModal:Rt,handleDelete:Fe,searchTerm:Pt,setSearchTerm:kt,debtPayoffStrategies:Qn,handleEnhancedExportCSV:Sr}),ue==="incomes"&&a.jsx(fhe,{incomes:d,openModal:Rt,handleDelete:Fe}),ue==="weeklyCosts"&&a.jsx(mhe,{weeklyCosts:p,openModal:Rt,handleDelete:Fe})]}),a.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",a.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),a.jsx(fi,{}),K&&a.jsx(Ace,{item:re,type:Q,onSave:Et,onClose:()=>Y(!1),debts:o,clients:E,vehicles:R})]})};MV.createRoot(document.getElementById("root")).render(a.jsx(ne.StrictMode,{children:a.jsx(khe,{})}));
