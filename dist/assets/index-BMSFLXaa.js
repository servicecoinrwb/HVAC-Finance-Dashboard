(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EO={exports:{}},nm={},AO={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=Symbol.for("react.element"),E$=Symbol.for("react.portal"),A$=Symbol.for("react.fragment"),S$=Symbol.for("react.strict_mode"),T$=Symbol.for("react.profiler"),P$=Symbol.for("react.provider"),I$=Symbol.for("react.context"),O$=Symbol.for("react.forward_ref"),C$=Symbol.for("react.suspense"),k$=Symbol.for("react.memo"),N$=Symbol.for("react.lazy"),z1=Symbol.iterator;function R$(t){return t===null||typeof t!="object"?null:(t=z1&&t[z1]||t["@@iterator"],typeof t=="function"?t:null)}var SO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TO=Object.assign,PO={};function Cl(t,e,n){this.props=t,this.context=e,this.refs=PO,this.updater=n||SO}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function IO(){}IO.prototype=Cl.prototype;function ob(t,e,n){this.props=t,this.context=e,this.refs=PO,this.updater=n||SO}var ab=ob.prototype=new IO;ab.constructor=ob;TO(ab,Cl.prototype);ab.isPureReactComponent=!0;var W1=Array.isArray,OO=Object.prototype.hasOwnProperty,sb={current:null},CO={key:!0,ref:!0,__self:!0,__source:!0};function kO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)OO.call(e,r)&&!CO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:pf,type:t,key:o,ref:a,props:i,_owner:sb.current}}function j$(t,e){return{$$typeof:pf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lb(t){return typeof t=="object"&&t!==null&&t.$$typeof===pf}function M$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q1=/\/+/g;function Xg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M$(""+t.key):e.toString(36)}function Kh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pf:case E$:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Xg(a,0):r,W1(i)?(n="",t!=null&&(n=t.replace(q1,"$&/")+"/"),Kh(i,e,n,"",function(u){return u})):i!=null&&(lb(i)&&(i=j$(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(q1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",W1(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Xg(o,s);a+=Kh(o,e,n,l,i)}else if(l=R$(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Xg(o,s++),a+=Kh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function uh(t,e,n){if(t==null)return t;var r=[],i=0;return Kh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function D$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cn={current:null},Gh={transition:null},$$={ReactCurrentDispatcher:Cn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:sb};function NO(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:uh,forEach:function(t,e,n){uh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uh(t,function(){e++}),e},toArray:function(t){return uh(t,function(e){return e})||[]},only:function(t){if(!lb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Cl;Oe.Fragment=A$;Oe.Profiler=T$;Oe.PureComponent=ob;Oe.StrictMode=S$;Oe.Suspense=C$;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$$;Oe.act=NO;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=sb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)OO.call(e,l)&&!CO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:pf,type:t.type,key:i,ref:o,props:r,_owner:a}};Oe.createContext=function(t){return t={$$typeof:I$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P$,_context:t},t.Consumer=t};Oe.createElement=kO;Oe.createFactory=function(t){var e=kO.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:O$,render:t}};Oe.isValidElement=lb;Oe.lazy=function(t){return{$$typeof:N$,_payload:{_status:-1,_result:t},_init:D$}};Oe.memo=function(t,e){return{$$typeof:k$,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};Oe.unstable_act=NO;Oe.useCallback=function(t,e){return Cn.current.useCallback(t,e)};Oe.useContext=function(t){return Cn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Cn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Cn.current.useEffect(t,e)};Oe.useId=function(){return Cn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return Cn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return Cn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Cn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Cn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return Cn.current.useReducer(t,e,n)};Oe.useRef=function(t){return Cn.current.useRef(t)};Oe.useState=function(t){return Cn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return Cn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return Cn.current.useTransition()};Oe.version="18.3.1";AO.exports=Oe;var L=AO.exports;const M=ze(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$=L,V$=Symbol.for("react.element"),F$=Symbol.for("react.fragment"),U$=Object.prototype.hasOwnProperty,B$=L$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z$={key:!0,ref:!0,__self:!0,__source:!0};function RO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)U$.call(e,r)&&!z$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:V$,type:t,key:o,ref:a,props:i,_owner:B$.current}}nm.Fragment=F$;nm.jsx=RO;nm.jsxs=RO;EO.exports=nm;var x=EO.exports,cv={},jO={exports:{}},tr={},MO={exports:{}},DO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var q=$.length;$.push(z);e:for(;0<q;){var ee=q-1>>>1,X=$[ee];if(0<i(X,z))$[ee]=z,$[q]=X,q=ee;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],q=$.pop();if(q!==z){$[0]=q;e:for(var ee=0,X=$.length,ae=X>>>1;ee<ae;){var Te=2*(ee+1)-1,Me=$[Te],ke=Te+1,jt=$[ke];if(0>i(Me,q))ke<X&&0>i(jt,Me)?($[ee]=jt,$[ke]=q,ee=ke):($[ee]=Me,$[Te]=q,ee=Te);else if(ke<X&&0>i(jt,q))$[ee]=jt,$[ke]=q,ee=ke;else break e}}return z}function i($,z){var q=$.sortIndex-z.sortIndex;return q!==0?q:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=$)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function O($){if(y=!1,w($),!m)if(n(l)!==null)m=!0,H(S);else{var z=n(u);z!==null&&K(O,z.startTime-$)}}function S($,z){m=!1,y&&(y=!1,_(A),A=-1),p=!0;var q=d;try{for(w(z),h=n(l);h!==null&&(!(h.expirationTime>z)||$&&!k());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,d=h.priorityLevel;var X=ee(h.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),w(z)}else r(l);h=n(l)}if(h!==null)var ae=!0;else{var Te=n(u);Te!==null&&K(O,Te.startTime-z),ae=!1}return ae}finally{h=null,d=q,p=!1}}var P=!1,E=null,A=-1,I=5,C=-1;function k(){return!(t.unstable_now()-C<I)}function R(){if(E!==null){var $=t.unstable_now();C=$;var z=!0;try{z=E(!0,$)}finally{z?N():(P=!1,E=null)}}else P=!1}var N;if(typeof v=="function")N=function(){v(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=R,N=function(){B.postMessage(null)}}else N=function(){b(R,0)};function H($){E=$,P||(P=!0,N())}function K($,z){A=b(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,H(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var q=d;d=z;try{return $()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=d;d=$;try{return z()}finally{d=q}},t.unstable_scheduleCallback=function($,z,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,$={id:c++,callback:z,priorityLevel:$,startTime:q,expirationTime:X,sortIndex:-1},q>ee?($.sortIndex=q,e(u,$),n(l)===null&&$===n(u)&&(y?(_(A),A=-1):y=!0,K(O,q-ee))):($.sortIndex=X,e(l,$),m||p||(m=!0,H(S))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var z=d;return function(){var q=d;d=z;try{return $.apply(this,arguments)}finally{d=q}}}})(DO);MO.exports=DO;var W$=MO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q$=L,er=W$;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $O=new Set,ac={};function Va(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(ac[t]=e,t=0;t<e.length;t++)$O.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fv=Object.prototype.hasOwnProperty,H$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H1={},K1={};function K$(t){return fv.call(K1,t)?!0:fv.call(H1,t)?!1:H$.test(t)?K1[t]=!0:(H1[t]=!0,!1)}function G$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X$(t,e,n,r){if(e===null||typeof e>"u"||G$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ub=/[\-:]([a-z])/g;function cb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ub,cb);an[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ub,cb);an[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ub,cb);an[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fb(t,e,n,r){var i=an.hasOwnProperty(e)?an[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(X$(e,n,i,r)&&(n=null),r||i===null?K$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fi=q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),us=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),LO=Symbol.for("react.provider"),VO=Symbol.for("react.context"),db=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),pv=Symbol.for("react.suspense_list"),pb=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),FO=Symbol.for("react.offscreen"),G1=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Yg;function Ou(t){if(Yg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yg=e&&e[1]||""}return`
`+Yg+t}var Qg=!1;function Jg(t,e){if(!t||Qg)return"";Qg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Qg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ou(t):""}function Y$(t){switch(t.tag){case 5:return Ou(t.type);case 16:return Ou("Lazy");case 13:return Ou("Suspense");case 19:return Ou("SuspenseList");case 0:case 2:case 15:return t=Jg(t.type,!1),t;case 11:return t=Jg(t.type.render,!1),t;case 1:return t=Jg(t.type,!0),t;default:return""}}function mv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case us:return"Portal";case hv:return"Profiler";case hb:return"StrictMode";case dv:return"Suspense";case pv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VO:return(t.displayName||"Context")+".Consumer";case LO:return(t._context.displayName||"Context")+".Provider";case db:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pb:return e=t.displayName||null,e!==null?e:mv(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return mv(t(e))}catch{}}return null}function Q$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mv(e);case 8:return e===hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J$(t){var e=UO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=J$(t))}function BO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gv(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zO(t,e){e=e.checked,e!=null&&fb(t,"checked",e,!1)}function yv(t,e){zO(t,e);var n=Oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vv(t,e.type,n):e.hasOwnProperty("defaultValue")&&vv(t,e.type,Oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vv(t,e,n){(e!=="number"||md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function Ps(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _v(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Cu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oo(n)}}function WO(t,e){var n=Oo(e.value),r=Oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function J1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,HO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z$=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){Z$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function KO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function GO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eL=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wv(t,e){if(e){if(eL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=null;function mb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Av=null,Is=null,Os=null;function Z1(t){if(t=yf(t)){if(typeof Av!="function")throw Error(J(280));var e=t.stateNode;e&&(e=sm(e),Av(t.stateNode,t.type,e))}}function XO(t){Is?Os?Os.push(t):Os=[t]:Is=t}function YO(){if(Is){var t=Is,e=Os;if(Os=Is=null,Z1(t),e)for(t=0;t<e.length;t++)Z1(e[t])}}function QO(t,e){return t(e)}function JO(){}var Zg=!1;function ZO(t,e,n){if(Zg)return t(e,n);Zg=!0;try{return QO(t,e,n)}finally{Zg=!1,(Is!==null||Os!==null)&&(JO(),YO())}}function lc(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Sv=!1;if(Pi)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Sv=!1}function tL(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Vu=!1,gd=null,yd=!1,Tv=null,nL={onError:function(t){Vu=!0,gd=t}};function rL(t,e,n,r,i,o,a,s,l){Vu=!1,gd=null,tL.apply(nL,arguments)}function iL(t,e,n,r,i,o,a,s,l){if(rL.apply(this,arguments),Vu){if(Vu){var u=gd;Vu=!1,gd=null}else throw Error(J(198));yd||(yd=!0,Tv=u)}}function Fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eE(t){if(Fa(t)!==t)throw Error(J(188))}function oL(t){var e=t.alternate;if(!e){if(e=Fa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eE(i),t;if(o===r)return eE(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function tC(t){return t=oL(t),t!==null?nC(t):null}function nC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nC(t);if(e!==null)return e;t=t.sibling}return null}var rC=er.unstable_scheduleCallback,tE=er.unstable_cancelCallback,aL=er.unstable_shouldYield,sL=er.unstable_requestPaint,Pt=er.unstable_now,lL=er.unstable_getCurrentPriorityLevel,gb=er.unstable_ImmediatePriority,iC=er.unstable_UserBlockingPriority,vd=er.unstable_NormalPriority,uL=er.unstable_LowPriority,oC=er.unstable_IdlePriority,rm=null,Hr=null;function cL(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(rm,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:dL,fL=Math.log,hL=Math.LN2;function dL(t){return t>>>=0,t===0?32:31-(fL(t)/hL|0)|0}var dh=64,ph=4194304;function ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ku(s):(o&=a,o!==0&&(r=ku(o)))}else a=n&~i,a!==0?r=ku(a):o!==0&&(r=ku(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),i=1<<n,r|=t[n],e&=~i;return r}function pL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-kr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=pL(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aC(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function ey(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function gL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function sC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lC,vb,uC,cC,fC,Iv=!1,mh=[],po=null,mo=null,go=null,uc=new Map,cc=new Map,to=[],yL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function cu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=yf(e),e!==null&&vb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vL(t,e,n,r,i){switch(e){case"focusin":return po=cu(po,t,e,n,r,i),!0;case"dragenter":return mo=cu(mo,t,e,n,r,i),!0;case"mouseover":return go=cu(go,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return uc.set(o,cu(uc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cc.set(o,cu(cc.get(o)||null,t,e,n,r,i)),!0}return!1}function hC(t){var e=la(t.target);if(e!==null){var n=Fa(e);if(n!==null){if(e=n.tag,e===13){if(e=eC(n),e!==null){t.blockedOn=e,fC(t.priority,function(){uC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ov(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ev=r,n.target.dispatchEvent(r),Ev=null}else return e=yf(n),e!==null&&vb(e),t.blockedOn=n,!1;e.shift()}return!0}function rE(t,e,n){Xh(t)&&n.delete(e)}function _L(){Iv=!1,po!==null&&Xh(po)&&(po=null),mo!==null&&Xh(mo)&&(mo=null),go!==null&&Xh(go)&&(go=null),uc.forEach(rE),cc.forEach(rE)}function fu(t,e){t.blockedOn===e&&(t.blockedOn=null,Iv||(Iv=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,_L)))}function fc(t){function e(i){return fu(i,t)}if(0<mh.length){fu(mh[0],t);for(var n=1;n<mh.length;n++){var r=mh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(po!==null&&fu(po,t),mo!==null&&fu(mo,t),go!==null&&fu(go,t),uc.forEach(e),cc.forEach(e),n=0;n<to.length;n++)r=to[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<to.length&&(n=to[0],n.blockedOn===null);)hC(n),n.blockedOn===null&&to.shift()}var Cs=Fi.ReactCurrentBatchConfig,bd=!0;function bL(t,e,n,r){var i=Ue,o=Cs.transition;Cs.transition=null;try{Ue=1,_b(t,e,n,r)}finally{Ue=i,Cs.transition=o}}function wL(t,e,n,r){var i=Ue,o=Cs.transition;Cs.transition=null;try{Ue=4,_b(t,e,n,r)}finally{Ue=i,Cs.transition=o}}function _b(t,e,n,r){if(bd){var i=Ov(t,e,n,r);if(i===null)cy(t,e,r,wd,n),nE(t,r);else if(vL(i,t,e,n,r))r.stopPropagation();else if(nE(t,r),e&4&&-1<yL.indexOf(t)){for(;i!==null;){var o=yf(i);if(o!==null&&lC(o),o=Ov(t,e,n,r),o===null&&cy(t,e,r,wd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cy(t,e,r,null,n)}}var wd=null;function Ov(t,e,n,r){if(wd=null,t=mb(r),t=la(t),t!==null)if(e=Fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wd=t,null}function dC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lL()){case gb:return 1;case iC:return 4;case vd:case uL:return 16;case oC:return 536870912;default:return 16}default:return 16}}var uo=null,bb=null,Yh=null;function pC(){if(Yh)return Yh;var t,e=bb,n=e.length,r,i="value"in uo?uo.value:uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gh(){return!0}function iE(){return!1}function nr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gh:iE,this.isPropagationStopped=iE,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),e}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wb=nr(kl),gf=vt({},kl,{view:0,detail:0}),xL=nr(gf),ty,ny,hu,im=vt({},gf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(ty=t.screenX-hu.screenX,ny=t.screenY-hu.screenY):ny=ty=0,hu=t),ty)},movementY:function(t){return"movementY"in t?t.movementY:ny}}),oE=nr(im),EL=vt({},im,{dataTransfer:0}),AL=nr(EL),SL=vt({},gf,{relatedTarget:0}),ry=nr(SL),TL=vt({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),PL=nr(TL),IL=vt({},kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OL=nr(IL),CL=vt({},kl,{data:0}),aE=nr(CL),kL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RL[t])?!!e[t]:!1}function xb(){return jL}var ML=vt({},gf,{key:function(t){if(t.key){var e=kL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xb,charCode:function(t){return t.type==="keypress"?Qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DL=nr(ML),$L=vt({},im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sE=nr($L),LL=vt({},gf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xb}),VL=nr(LL),FL=vt({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),UL=nr(FL),BL=vt({},im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zL=nr(BL),WL=[9,13,27,32],Eb=Pi&&"CompositionEvent"in window,Fu=null;Pi&&"documentMode"in document&&(Fu=document.documentMode);var qL=Pi&&"TextEvent"in window&&!Fu,mC=Pi&&(!Eb||Fu&&8<Fu&&11>=Fu),lE=" ",uE=!1;function gC(t,e){switch(t){case"keyup":return WL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function HL(t,e){switch(t){case"compositionend":return yC(e);case"keypress":return e.which!==32?null:(uE=!0,lE);case"textInput":return t=e.data,t===lE&&uE?null:t;default:return null}}function KL(t,e){if(fs)return t==="compositionend"||!Eb&&gC(t,e)?(t=pC(),Yh=bb=uo=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mC&&e.locale!=="ko"?null:e.data;default:return null}}var GL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GL[t.type]:e==="textarea"}function vC(t,e,n,r){XO(r),e=xd(e,"onChange"),0<e.length&&(n=new wb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uu=null,hc=null;function XL(t){OC(t,0)}function om(t){var e=ps(t);if(BO(e))return t}function YL(t,e){if(t==="change")return e}var _C=!1;if(Pi){var iy;if(Pi){var oy="oninput"in document;if(!oy){var fE=document.createElement("div");fE.setAttribute("oninput","return;"),oy=typeof fE.oninput=="function"}iy=oy}else iy=!1;_C=iy&&(!document.documentMode||9<document.documentMode)}function hE(){Uu&&(Uu.detachEvent("onpropertychange",bC),hc=Uu=null)}function bC(t){if(t.propertyName==="value"&&om(hc)){var e=[];vC(e,hc,t,mb(t)),ZO(XL,e)}}function QL(t,e,n){t==="focusin"?(hE(),Uu=e,hc=n,Uu.attachEvent("onpropertychange",bC)):t==="focusout"&&hE()}function JL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(hc)}function ZL(t,e){if(t==="click")return om(e)}function e4(t,e){if(t==="input"||t==="change")return om(e)}function t4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jr=typeof Object.is=="function"?Object.is:t4;function dc(t,e){if(jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fv.call(e,i)||!jr(t[i],e[i]))return!1}return!0}function dE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pE(t,e){var n=dE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dE(n)}}function wC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xC(){for(var t=window,e=md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=md(t.document)}return e}function Ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n4(t){var e=xC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wC(n.ownerDocument.documentElement,n)){if(r!==null&&Ab(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=pE(n,o);var a=pE(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r4=Pi&&"documentMode"in document&&11>=document.documentMode,hs=null,Cv=null,Bu=null,kv=!1;function mE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kv||hs==null||hs!==md(r)||(r=hs,"selectionStart"in r&&Ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bu&&dc(Bu,r)||(Bu=r,r=xd(Cv,"onSelect"),0<r.length&&(e=new wb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hs)))}function yh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ds={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},ay={},EC={};Pi&&(EC=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function am(t){if(ay[t])return ay[t];if(!ds[t])return t;var e=ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EC)return ay[t]=e[n];return t}var AC=am("animationend"),SC=am("animationiteration"),TC=am("animationstart"),PC=am("transitionend"),IC=new Map,gE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $o(t,e){IC.set(t,e),Va(e,[t])}for(var sy=0;sy<gE.length;sy++){var ly=gE[sy],i4=ly.toLowerCase(),o4=ly[0].toUpperCase()+ly.slice(1);$o(i4,"on"+o4)}$o(AC,"onAnimationEnd");$o(SC,"onAnimationIteration");$o(TC,"onAnimationStart");$o("dblclick","onDoubleClick");$o("focusin","onFocus");$o("focusout","onBlur");$o(PC,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function yE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iL(r,e,void 0,t),t.currentTarget=null}function OC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;yE(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;yE(i,s,u),o=l}}}if(yd)throw t=Tv,yd=!1,Tv=null,t}function nt(t,e){var n=e[Dv];n===void 0&&(n=e[Dv]=new Set);var r=t+"__bubble";n.has(r)||(CC(e,t,2,!1),n.add(r))}function uy(t,e,n){var r=0;e&&(r|=4),CC(n,t,r,e)}var vh="_reactListening"+Math.random().toString(36).slice(2);function pc(t){if(!t[vh]){t[vh]=!0,$O.forEach(function(n){n!=="selectionchange"&&(a4.has(n)||uy(n,!1,t),uy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vh]||(e[vh]=!0,uy("selectionchange",!1,e))}}function CC(t,e,n,r){switch(dC(e)){case 1:var i=bL;break;case 4:i=wL;break;default:i=_b}n=i.bind(null,e,n,t),i=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=la(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}ZO(function(){var u=o,c=mb(n),h=[];e:{var d=IC.get(t);if(d!==void 0){var p=wb,m=t;switch(t){case"keypress":if(Qh(n)===0)break e;case"keydown":case"keyup":p=DL;break;case"focusin":m="focus",p=ry;break;case"focusout":m="blur",p=ry;break;case"beforeblur":case"afterblur":p=ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=oE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VL;break;case AC:case SC:case TC:p=PL;break;case PC:p=UL;break;case"scroll":p=xL;break;case"wheel":p=zL;break;case"copy":case"cut":case"paste":p=OL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sE}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?d!==null?d+"Capture":null:d;y=[];for(var v=u,w;v!==null;){w=v;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,_!==null&&(O=lc(v,_),O!=null&&y.push(mc(v,O,w)))),b)break;v=v.return}0<y.length&&(d=new p(d,m,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ev&&(m=n.relatedTarget||n.fromElement)&&(la(m)||m[Ii]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?la(m):null,m!==null&&(b=Fa(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=oE,O="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=sE,O="onPointerLeave",_="onPointerEnter",v="pointer"),b=p==null?d:ps(p),w=m==null?d:ps(m),d=new y(O,v+"leave",p,n,c),d.target=b,d.relatedTarget=w,O=null,la(c)===u&&(y=new y(_,v+"enter",m,n,c),y.target=w,y.relatedTarget=b,O=y),b=O,p&&m)t:{for(y=p,_=m,v=0,w=y;w;w=ts(w))v++;for(w=0,O=_;O;O=ts(O))w++;for(;0<v-w;)y=ts(y),v--;for(;0<w-v;)_=ts(_),w--;for(;v--;){if(y===_||_!==null&&y===_.alternate)break t;y=ts(y),_=ts(_)}y=null}else y=null;p!==null&&vE(h,d,p,y,!1),m!==null&&b!==null&&vE(h,b,m,y,!0)}}e:{if(d=u?ps(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=YL;else if(cE(d))if(_C)S=e4;else{S=JL;var P=QL}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=ZL);if(S&&(S=S(t,u))){vC(h,S,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&vv(d,"number",d.value)}switch(P=u?ps(u):window,t){case"focusin":(cE(P)||P.contentEditable==="true")&&(hs=P,Cv=u,Bu=null);break;case"focusout":Bu=Cv=hs=null;break;case"mousedown":kv=!0;break;case"contextmenu":case"mouseup":case"dragend":kv=!1,mE(h,n,c);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":mE(h,n,c)}var E;if(Eb)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fs?gC(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(mC&&n.locale!=="ko"&&(fs||A!=="onCompositionStart"?A==="onCompositionEnd"&&fs&&(E=pC()):(uo=c,bb="value"in uo?uo.value:uo.textContent,fs=!0)),P=xd(u,A),0<P.length&&(A=new aE(A,t,null,n,c),h.push({event:A,listeners:P}),E?A.data=E:(E=yC(n),E!==null&&(A.data=E)))),(E=qL?HL(t,n):KL(t,n))&&(u=xd(u,"onBeforeInput"),0<u.length&&(c=new aE("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}OC(h,e)})}function mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=lc(t,n),o!=null&&r.unshift(mc(t,o,i)),o=lc(t,e),o!=null&&r.push(mc(t,o,i))),t=t.return}return r}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vE(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=lc(n,o),l!=null&&a.unshift(mc(n,l,s))):i||(l=lc(n,o),l!=null&&a.push(mc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var s4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function _E(t){return(typeof t=="string"?t:""+t).replace(s4,`
`).replace(l4,"")}function _h(t,e,n){if(e=_E(e),_E(t)!==e&&n)throw Error(J(425))}function Ed(){}var Nv=null,Rv=null;function jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mv=typeof setTimeout=="function"?setTimeout:void 0,u4=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(t){return bE.resolve(null).then(t).catch(f4)}:Mv;function f4(t){setTimeout(function(){throw t})}function fy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fc(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),zr="__reactFiber$"+Nl,gc="__reactProps$"+Nl,Ii="__reactContainer$"+Nl,Dv="__reactEvents$"+Nl,h4="__reactListeners$"+Nl,d4="__reactHandles$"+Nl;function la(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ii]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wE(t);t!==null;){if(n=t[zr])return n;t=wE(t)}return e}t=n,n=t.parentNode}return null}function yf(t){return t=t[zr]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function sm(t){return t[gc]||null}var $v=[],ms=-1;function Lo(t){return{current:t}}function at(t){0>ms||(t.current=$v[ms],$v[ms]=null,ms--)}function Je(t,e){ms++,$v[ms]=t.current,t.current=e}var Co={},_n=Lo(Co),Dn=Lo(!1),xa=Co;function Bs(t,e){var n=t.type.contextTypes;if(!n)return Co;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $n(t){return t=t.childContextTypes,t!=null}function Ad(){at(Dn),at(_n)}function xE(t,e,n){if(_n.current!==Co)throw Error(J(168));Je(_n,e),Je(Dn,n)}function kC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Q$(t)||"Unknown",i));return vt({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,xa=_n.current,Je(_n,t),Je(Dn,Dn.current),!0}function EE(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=kC(t,e,xa),r.__reactInternalMemoizedMergedChildContext=t,at(Dn),at(_n),Je(_n,t)):at(Dn),Je(Dn,n)}var di=null,lm=!1,hy=!1;function NC(t){di===null?di=[t]:di.push(t)}function p4(t){lm=!0,NC(t)}function Vo(){if(!hy&&di!==null){hy=!0;var t=0,e=Ue;try{var n=di;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,lm=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),rC(gb,Vo),i}finally{Ue=e,hy=!1}}return null}var gs=[],ys=0,Td=null,Pd=0,ur=[],cr=0,Ea=null,pi=1,mi="";function ta(t,e){gs[ys++]=Pd,gs[ys++]=Td,Td=t,Pd=e}function RC(t,e,n){ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=Ea,Ea=t;var r=pi;t=mi;var i=32-kr(r)-1;r&=~(1<<i),n+=1;var o=32-kr(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,pi=1<<32-kr(e)+i|n<<i|r,mi=o+t}else pi=1<<o|n<<i|r,mi=t}function Sb(t){t.return!==null&&(ta(t,1),RC(t,1,0))}function Tb(t){for(;t===Td;)Td=gs[--ys],gs[ys]=null,Pd=gs[--ys],gs[ys]=null;for(;t===Ea;)Ea=ur[--cr],ur[cr]=null,mi=ur[--cr],ur[cr]=null,pi=ur[--cr],ur[cr]=null}var Yn=null,Kn=null,ht=!1,Or=null;function jC(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function AE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yn=t,Kn=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yn=t,Kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ea!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yn=t,Kn=null,!0):!1;default:return!1}}function Lv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vv(t){if(ht){var e=Kn;if(e){var n=e;if(!AE(t,e)){if(Lv(t))throw Error(J(418));e=yo(n.nextSibling);var r=Yn;e&&AE(t,e)?jC(r,n):(t.flags=t.flags&-4097|2,ht=!1,Yn=t)}}else{if(Lv(t))throw Error(J(418));t.flags=t.flags&-4097|2,ht=!1,Yn=t}}}function SE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yn=t}function bh(t){if(t!==Yn)return!1;if(!ht)return SE(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jv(t.type,t.memoizedProps)),e&&(e=Kn)){if(Lv(t))throw MC(),Error(J(418));for(;e;)jC(t,e),e=yo(e.nextSibling)}if(SE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kn=yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kn=null}}else Kn=Yn?yo(t.stateNode.nextSibling):null;return!0}function MC(){for(var t=Kn;t;)t=yo(t.nextSibling)}function zs(){Kn=Yn=null,ht=!1}function Pb(t){Or===null?Or=[t]:Or.push(t)}var m4=Fi.ReactCurrentBatchConfig;function du(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TE(t){var e=t._init;return e(t._payload)}function DC(t){function e(_,v){if(t){var w=_.deletions;w===null?(_.deletions=[v],_.flags|=16):w.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=wo(_,v),_.index=0,_.sibling=null,_}function o(_,v,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<v?(_.flags|=2,v):w):(_.flags|=2,v)):(_.flags|=1048576,v)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,v,w,O){return v===null||v.tag!==6?(v=_y(w,_.mode,O),v.return=_,v):(v=i(v,w),v.return=_,v)}function l(_,v,w,O){var S=w.type;return S===cs?c(_,v,w.props.children,O,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ji&&TE(S)===v.type)?(O=i(v,w.props),O.ref=du(_,v,w),O.return=_,O):(O=id(w.type,w.key,w.props,null,_.mode,O),O.ref=du(_,v,w),O.return=_,O)}function u(_,v,w,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=by(w,_.mode,O),v.return=_,v):(v=i(v,w.children||[]),v.return=_,v)}function c(_,v,w,O,S){return v===null||v.tag!==7?(v=ya(w,_.mode,O,S),v.return=_,v):(v=i(v,w),v.return=_,v)}function h(_,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_y(""+v,_.mode,w),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ch:return w=id(v.type,v.key,v.props,null,_.mode,w),w.ref=du(_,null,v),w.return=_,w;case us:return v=by(v,_.mode,w),v.return=_,v;case Ji:var O=v._init;return h(_,O(v._payload),w)}if(Cu(v)||lu(v))return v=ya(v,_.mode,w,null),v.return=_,v;wh(_,v)}return null}function d(_,v,w,O){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(_,v,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ch:return w.key===S?l(_,v,w,O):null;case us:return w.key===S?u(_,v,w,O):null;case Ji:return S=w._init,d(_,v,S(w._payload),O)}if(Cu(w)||lu(w))return S!==null?null:c(_,v,w,O,null);wh(_,w)}return null}function p(_,v,w,O,S){if(typeof O=="string"&&O!==""||typeof O=="number")return _=_.get(w)||null,s(v,_,""+O,S);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ch:return _=_.get(O.key===null?w:O.key)||null,l(v,_,O,S);case us:return _=_.get(O.key===null?w:O.key)||null,u(v,_,O,S);case Ji:var P=O._init;return p(_,v,w,P(O._payload),S)}if(Cu(O)||lu(O))return _=_.get(w)||null,c(v,_,O,S,null);wh(v,O)}return null}function m(_,v,w,O){for(var S=null,P=null,E=v,A=v=0,I=null;E!==null&&A<w.length;A++){E.index>A?(I=E,E=null):I=E.sibling;var C=d(_,E,w[A],O);if(C===null){E===null&&(E=I);break}t&&E&&C.alternate===null&&e(_,E),v=o(C,v,A),P===null?S=C:P.sibling=C,P=C,E=I}if(A===w.length)return n(_,E),ht&&ta(_,A),S;if(E===null){for(;A<w.length;A++)E=h(_,w[A],O),E!==null&&(v=o(E,v,A),P===null?S=E:P.sibling=E,P=E);return ht&&ta(_,A),S}for(E=r(_,E);A<w.length;A++)I=p(E,_,A,w[A],O),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?A:I.key),v=o(I,v,A),P===null?S=I:P.sibling=I,P=I);return t&&E.forEach(function(k){return e(_,k)}),ht&&ta(_,A),S}function y(_,v,w,O){var S=lu(w);if(typeof S!="function")throw Error(J(150));if(w=S.call(w),w==null)throw Error(J(151));for(var P=S=null,E=v,A=v=0,I=null,C=w.next();E!==null&&!C.done;A++,C=w.next()){E.index>A?(I=E,E=null):I=E.sibling;var k=d(_,E,C.value,O);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(_,E),v=o(k,v,A),P===null?S=k:P.sibling=k,P=k,E=I}if(C.done)return n(_,E),ht&&ta(_,A),S;if(E===null){for(;!C.done;A++,C=w.next())C=h(_,C.value,O),C!==null&&(v=o(C,v,A),P===null?S=C:P.sibling=C,P=C);return ht&&ta(_,A),S}for(E=r(_,E);!C.done;A++,C=w.next())C=p(E,_,A,C.value,O),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?A:C.key),v=o(C,v,A),P===null?S=C:P.sibling=C,P=C);return t&&E.forEach(function(R){return e(_,R)}),ht&&ta(_,A),S}function b(_,v,w,O){if(typeof w=="object"&&w!==null&&w.type===cs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ch:e:{for(var S=w.key,P=v;P!==null;){if(P.key===S){if(S=w.type,S===cs){if(P.tag===7){n(_,P.sibling),v=i(P,w.props.children),v.return=_,_=v;break e}}else if(P.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ji&&TE(S)===P.type){n(_,P.sibling),v=i(P,w.props),v.ref=du(_,P,w),v.return=_,_=v;break e}n(_,P);break}else e(_,P);P=P.sibling}w.type===cs?(v=ya(w.props.children,_.mode,O,w.key),v.return=_,_=v):(O=id(w.type,w.key,w.props,null,_.mode,O),O.ref=du(_,v,w),O.return=_,_=O)}return a(_);case us:e:{for(P=w.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(_,v.sibling),v=i(v,w.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=by(w,_.mode,O),v.return=_,_=v}return a(_);case Ji:return P=w._init,b(_,v,P(w._payload),O)}if(Cu(w))return m(_,v,w,O);if(lu(w))return y(_,v,w,O);wh(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,w),v.return=_,_=v):(n(_,v),v=_y(w,_.mode,O),v.return=_,_=v),a(_)):n(_,v)}return b}var Ws=DC(!0),$C=DC(!1),Id=Lo(null),Od=null,vs=null,Ib=null;function Ob(){Ib=vs=Od=null}function Cb(t){var e=Id.current;at(Id),t._currentValue=e}function Fv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ks(t,e){Od=t,Ib=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function mr(t){var e=t._currentValue;if(Ib!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Od===null)throw Error(J(308));vs=t,Od.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var ua=null;function kb(t){ua===null?ua=[t]:ua.push(t)}function LC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Oi(t,r)}function Oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function Nb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Oi(t,n)}return i=r.interleaved,i===null?(e.next=e,kb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Oi(t,n)}function Jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yb(t,n)}}function PE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cd(t,e,n,r){var i=t.updateQueue;Zi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,y=s;switch(d=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=vt({},h,d);break e;case 2:Zi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Sa|=a,t.lanes=a,t.memoizedState=h}}function IE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var vf={},Kr=Lo(vf),yc=Lo(vf),vc=Lo(vf);function ca(t){if(t===vf)throw Error(J(174));return t}function Rb(t,e){switch(Je(vc,e),Je(yc,t),Je(Kr,vf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bv(e,t)}at(Kr),Je(Kr,e)}function qs(){at(Kr),at(yc),at(vc)}function FC(t){ca(vc.current);var e=ca(Kr.current),n=bv(e,t.type);e!==n&&(Je(yc,t),Je(Kr,n))}function jb(t){yc.current===t&&(at(Kr),at(yc))}var gt=Lo(0);function kd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dy=[];function Mb(){for(var t=0;t<dy.length;t++)dy[t]._workInProgressVersionPrimary=null;dy.length=0}var Zh=Fi.ReactCurrentDispatcher,py=Fi.ReactCurrentBatchConfig,Aa=0,yt=null,Lt=null,Ht=null,Nd=!1,zu=!1,_c=0,g4=0;function cn(){throw Error(J(321))}function Db(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jr(t[n],e[n]))return!1;return!0}function $b(t,e,n,r,i,o){if(Aa=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?b4:w4,t=n(r,i),zu){o=0;do{if(zu=!1,_c=0,25<=o)throw Error(J(301));o+=1,Ht=Lt=null,e.updateQueue=null,Zh.current=x4,t=n(r,i)}while(zu)}if(Zh.current=Rd,e=Lt!==null&&Lt.next!==null,Aa=0,Ht=Lt=yt=null,Nd=!1,e)throw Error(J(300));return t}function Lb(){var t=_c!==0;return _c=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?yt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function gr(){if(Lt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Ht===null?yt.memoizedState:Ht.next;if(e!==null)Ht=e,Lt=t;else{if(t===null)throw Error(J(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?yt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function bc(t,e){return typeof e=="function"?e(t):e}function my(t){var e=gr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Aa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,yt.lanes|=c,Sa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,jr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,Sa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gy(t){var e=gr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);jr(o,e.memoizedState)||(jn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function UC(){}function BC(t,e){var n=yt,r=gr(),i=e(),o=!jr(r.memoizedState,i);if(o&&(r.memoizedState=i,jn=!0),r=r.queue,Vb(qC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,wc(9,WC.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(J(349));Aa&30||zC(n,e,i)}return i}function zC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WC(t,e,n,r){e.value=n,e.getSnapshot=r,HC(e)&&KC(t)}function qC(t,e,n){return n(function(){HC(e)&&KC(t)})}function HC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jr(t,n)}catch{return!0}}function KC(t){var e=Oi(t,1);e!==null&&Nr(e,t,1,-1)}function OE(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:t},e.queue=t,t=t.dispatch=_4.bind(null,yt,t),[e.memoizedState,t]}function wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GC(){return gr().memoizedState}function ed(t,e,n,r){var i=Br();yt.flags|=t,i.memoizedState=wc(1|e,n,void 0,r===void 0?null:r)}function um(t,e,n,r){var i=gr();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var a=Lt.memoizedState;if(o=a.destroy,r!==null&&Db(r,a.deps)){i.memoizedState=wc(e,n,o,r);return}}yt.flags|=t,i.memoizedState=wc(1|e,n,o,r)}function CE(t,e){return ed(8390656,8,t,e)}function Vb(t,e){return um(2048,8,t,e)}function XC(t,e){return um(4,2,t,e)}function YC(t,e){return um(4,4,t,e)}function QC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JC(t,e,n){return n=n!=null?n.concat([t]):null,um(4,4,QC.bind(null,e,t),n)}function Fb(){}function ZC(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ek(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tk(t,e,n){return Aa&21?(jr(n,e)||(n=aC(),yt.lanes|=n,Sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function y4(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=py.transition;py.transition={};try{t(!1),e()}finally{Ue=n,py.transition=r}}function nk(){return gr().memoizedState}function v4(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rk(t))ik(e,n);else if(n=LC(t,e,n,r),n!==null){var i=Pn();Nr(n,t,r,i),ok(n,e,r)}}function _4(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rk(t))ik(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,jr(s,a)){var l=e.interleaved;l===null?(i.next=i,kb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=LC(t,e,i,r),n!==null&&(i=Pn(),Nr(n,t,r,i),ok(n,e,r))}}function rk(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function ik(t,e){zu=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ok(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yb(t,n)}}var Rd={readContext:mr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},b4={readContext:mr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:mr,useEffect:CE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ed(4194308,4,QC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return ed(4,2,t,e)},useMemo:function(t,e){var n=Br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=v4.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:OE,useDebugValue:Fb,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=OE(!1),e=t[0];return t=y4.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Br();if(ht){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Gt===null)throw Error(J(349));Aa&30||zC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,CE(qC.bind(null,r,o,t),[t]),r.flags|=2048,wc(9,WC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Br(),e=Gt.identifierPrefix;if(ht){var n=mi,r=pi;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w4={readContext:mr,useCallback:ZC,useContext:mr,useEffect:Vb,useImperativeHandle:JC,useInsertionEffect:XC,useLayoutEffect:YC,useMemo:ek,useReducer:my,useRef:GC,useState:function(){return my(bc)},useDebugValue:Fb,useDeferredValue:function(t){var e=gr();return tk(e,Lt.memoizedState,t)},useTransition:function(){var t=my(bc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:UC,useSyncExternalStore:BC,useId:nk,unstable_isNewReconciler:!1},x4={readContext:mr,useCallback:ZC,useContext:mr,useEffect:Vb,useImperativeHandle:JC,useInsertionEffect:XC,useLayoutEffect:YC,useMemo:ek,useReducer:gy,useRef:GC,useState:function(){return gy(bc)},useDebugValue:Fb,useDeferredValue:function(t){var e=gr();return Lt===null?e.memoizedState=t:tk(e,Lt.memoizedState,t)},useTransition:function(){var t=gy(bc)[0],e=gr().memoizedState;return[t,e]},useMutableSource:UC,useSyncExternalStore:BC,useId:nk,unstable_isNewReconciler:!1};function Sr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={isMounted:function(t){return(t=t._reactInternals)?Fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=bo(t),o=Ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Nr(e,t,i,r),Jh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=bo(t),o=Ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vo(t,o,i),e!==null&&(Nr(e,t,i,r),Jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=bo(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=vo(t,i,r),e!==null&&(Nr(e,t,r,n),Jh(e,t,r))}};function kE(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,o):!0}function ak(t,e,n){var r=!1,i=Co,o=e.contextType;return typeof o=="object"&&o!==null?o=mr(o):(i=$n(e)?xa:_n.current,r=e.contextTypes,o=(r=r!=null)?Bs(t,i):Co),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function NE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function Bv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nb(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=mr(o):(o=$n(e)?xa:_n.current,i.context=Bs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Uv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cm.enqueueReplaceState(i,i.state,null),Cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e){try{var n="",r=e;do n+=Y$(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function yy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E4=typeof WeakMap=="function"?WeakMap:Map;function sk(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,Zv=r),zv(t,e)},n}function lk(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zv(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zv(t,e),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function RE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$4.bind(null,t,e,n),e.then(t,t))}function jE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ME(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,vo(n,e,1))),n.lanes|=1),t)}var A4=Fi.ReactCurrentOwner,jn=!1;function En(t,e,n,r){e.child=t===null?$C(e,null,n,r):Ws(e,t.child,n,r)}function DE(t,e,n,r,i){n=n.render;var o=e.ref;return ks(e,i),r=$b(t,e,n,r,o,i),n=Lb(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ht&&n&&Sb(e),e.flags|=1,En(t,e,r,i),e.child)}function $E(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Gb(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,uk(t,e,o,r,i)):(t=id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(a,r)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function uk(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(dc(o,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return Wv(t,e,n,r,i)}function ck(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(bs,zn),zn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(bs,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(bs,zn),zn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(bs,zn),zn|=r;return En(t,e,i,n),e.child}function fk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wv(t,e,n,r,i){var o=$n(n)?xa:_n.current;return o=Bs(e,o),ks(e,i),n=$b(t,e,n,r,o,i),r=Lb(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ht&&r&&Sb(e),e.flags|=1,En(t,e,n,i),e.child)}function LE(t,e,n,r,i){if($n(n)){var o=!0;Sd(e)}else o=!1;if(ks(e,i),e.stateNode===null)td(t,e),ak(e,n,r),Bv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=$n(n)?xa:_n.current,u=Bs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&NE(e,a,r,u),Zi=!1;var d=e.memoizedState;a.state=d,Cd(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Dn.current||Zi?(typeof c=="function"&&(Uv(e,n,c,r),l=e.memoizedState),(s=Zi||kE(e,n,s,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,VC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Sr(e.type,s),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=mr(l):(l=$n(n)?xa:_n.current,l=Bs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&NE(e,a,r,l),Zi=!1,d=e.memoizedState,a.state=d,Cd(e,r,a,i);var m=e.memoizedState;s!==h||d!==m||Dn.current||Zi?(typeof p=="function"&&(Uv(e,n,p,r),m=e.memoizedState),(u=Zi||kE(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return qv(t,e,n,r,o,i)}function qv(t,e,n,r,i,o){fk(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&EE(e,n,!1),Ci(t,e,o);r=e.stateNode,A4.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ws(e,t.child,null,o),e.child=Ws(e,null,s,o)):En(t,e,s,o),e.memoizedState=r.state,i&&EE(e,n,!0),e.child}function hk(t){var e=t.stateNode;e.pendingContext?xE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xE(t,e.context,!1),Rb(t,e.containerInfo)}function VE(t,e,n,r,i){return zs(),Pb(i),e.flags|=256,En(t,e,n,r),e.child}var Hv={dehydrated:null,treeContext:null,retryLane:0};function Kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function dk(t,e,n){var r=e.pendingProps,i=gt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(gt,i&1),t===null)return Vv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=dm(a,r,0,null),t=ya(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Kv(n),e.memoizedState=Hv,t):Ub(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return S4(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=wo(s,o):(o=ya(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Kv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Hv,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ub(t,e){return e=dm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xh(t,e,n,r){return r!==null&&Pb(r),Ws(e,t.child,null,n),t=Ub(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S4(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=yy(Error(J(422))),xh(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=dm({mode:"visible",children:r.children},i,0,null),o=ya(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ws(e,t.child,null,a),e.child.memoizedState=Kv(a),e.memoizedState=Hv,o);if(!(e.mode&1))return xh(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=yy(o,r,void 0),xh(t,e,a,r)}if(s=(a&t.childLanes)!==0,jn||s){if(r=Gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oi(t,i),Nr(r,t,i,-1))}return Kb(),r=yy(Error(J(421))),xh(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Kn=yo(i.nextSibling),Yn=e,ht=!0,Or=null,t!==null&&(ur[cr++]=pi,ur[cr++]=mi,ur[cr++]=Ea,pi=t.id,mi=t.overflow,Ea=e),e=Ub(e,r.children),e.flags|=4096,e)}function FE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fv(t.return,e,n)}function vy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pk(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(En(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FE(t,n,e);else if(t.tag===19)FE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vy(e,!0,n,null,o);break;case"together":vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function td(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T4(t,e,n){switch(e.tag){case 3:hk(e),zs();break;case 5:FC(e);break;case 1:$n(e.type)&&Sd(e);break;case 4:Rb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(Id,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?dk(t,e,n):(Je(gt,gt.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);Je(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,ck(t,e,n)}return Ci(t,e,n)}var mk,Gv,gk,yk;mk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gv=function(){};gk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ca(Kr.current);var o=null;switch(n){case"input":i=gv(t,i),r=gv(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=_v(t,i),r=_v(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}wv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ac.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ac.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};yk=function(t,e,n,r){n!==r&&(e.flags|=4)};function pu(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P4(t,e,n){var r=e.pendingProps;switch(Tb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return $n(e.type)&&Ad(),fn(e),null;case 3:return r=e.stateNode,qs(),at(Dn),at(_n),Mb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(n0(Or),Or=null))),Gv(t,e),fn(e),null;case 5:jb(e);var i=ca(vc.current);if(n=e.type,t!==null&&e.stateNode!=null)gk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return fn(e),null}if(t=ca(Kr.current),bh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zr]=e,r[gc]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Nu.length;i++)nt(Nu[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":X1(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":Q1(r,o),nt("invalid",r)}wv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&_h(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&_h(r.textContent,s,t),i=["children",""+s]):ac.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":fh(r),Y1(r,o,!0);break;case"textarea":fh(r),J1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ed)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[zr]=e,t[gc]=r,mk(t,e,!1,!1),e.stateNode=t;e:{switch(a=xv(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nu.length;i++)nt(Nu[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":X1(t,r),i=gv(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":Q1(t,r),i=_v(t,r),nt("invalid",t);break;default:i=r}wv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?GO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ac.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&fb(t,o,l,a))}switch(n){case"input":fh(t),Y1(t,r,!1);break;case"textarea":fh(t),J1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ps(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ps(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)yk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ca(vc.current),ca(Kr.current),bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(o=r.nodeValue!==n)&&(t=Yn,t!==null))switch(t.tag){case 3:_h(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_h(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return fn(e),null;case 13:if(at(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Kn!==null&&e.mode&1&&!(e.flags&128))MC(),zs(),e.flags|=98560,o=!1;else if(o=bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[zr]=e}else zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),o=!1}else Or!==null&&(n0(Or),Or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Ft===0&&(Ft=3):Kb())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return qs(),Gv(t,e),t===null&&pc(e.stateNode.containerInfo),fn(e),null;case 10:return Cb(e.type._context),fn(e),null;case 17:return $n(e.type)&&Ad(),fn(e),null;case 19:if(at(gt),o=e.memoizedState,o===null)return fn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)pu(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=kd(t),a!==null){for(e.flags|=128,pu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(gt,gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pt()>Ks&&(e.flags|=128,r=!0,pu(o,!1),e.lanes=4194304)}else{if(!r)if(t=kd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ht)return fn(e),null}else 2*Pt()-o.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,r=!0,pu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,n=gt.current,Je(gt,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return Hb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function I4(t,e){switch(Tb(e),e.tag){case 1:return $n(e.type)&&Ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qs(),at(Dn),at(_n),Mb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jb(e),null;case 13:if(at(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(gt),null;case 4:return qs(),null;case 10:return Cb(e.type._context),null;case 22:case 23:return Hb(),null;case 24:return null;default:return null}}var Eh=!1,gn=!1,O4=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function Xv(t,e,n){try{n()}catch(r){xt(t,e,r)}}var UE=!1;function C4(t,e){if(Nv=bd,t=xC(),Ab(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rv={focusedElem:t,selectionRange:n},bd=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:Sr(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(O){xt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return m=UE,UE=!1,m}function Wu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xv(e,n,o)}i=i.next}while(i!==r)}}function fm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vk(t){var e=t.alternate;e!==null&&(t.alternate=null,vk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[gc],delete e[Dv],delete e[h4],delete e[d4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _k(t){return t.tag===5||t.tag===3||t.tag===4}function BE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_k(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(Qv(t,e,n),t=t.sibling;t!==null;)Qv(t,e,n),t=t.sibling}function Jv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jv(t,e,n),t=t.sibling;t!==null;)Jv(t,e,n),t=t.sibling}var en=null,Tr=!1;function Yi(t,e,n){for(n=n.child;n!==null;)bk(t,e,n),n=n.sibling}function bk(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(rm,n)}catch{}switch(n.tag){case 5:gn||_s(n,e);case 6:var r=en,i=Tr;en=null,Yi(t,e,n),en=r,Tr=i,en!==null&&(Tr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(Tr?(t=en,n=n.stateNode,t.nodeType===8?fy(t.parentNode,n):t.nodeType===1&&fy(t,n),fc(t)):fy(en,n.stateNode));break;case 4:r=en,i=Tr,en=n.stateNode.containerInfo,Tr=!0,Yi(t,e,n),en=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Xv(n,e,a),i=i.next}while(i!==r)}Yi(t,e,n);break;case 1:if(!gn&&(_s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xt(n,e,s)}Yi(t,e,n);break;case 21:Yi(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,Yi(t,e,n),gn=r):Yi(t,e,n);break;default:Yi(t,e,n)}}function zE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new O4),e.forEach(function(r){var i=V4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,Tr=!1;break e;case 3:en=s.stateNode.containerInfo,Tr=!0;break e;case 4:en=s.stateNode.containerInfo,Tr=!0;break e}s=s.return}if(en===null)throw Error(J(160));bk(o,a,i),en=null,Tr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wk(e,t),e=e.sibling}function wk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Fr(t),r&4){try{Wu(3,t,t.return),fm(3,t)}catch(y){xt(t,t.return,y)}try{Wu(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Er(e,t),Fr(t),r&512&&n!==null&&_s(n,n.return);break;case 5:if(Er(e,t),Fr(t),r&512&&n!==null&&_s(n,n.return),t.flags&32){var i=t.stateNode;try{sc(i,"")}catch(y){xt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zO(i,o),xv(s,a);var u=xv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?GO(i,h):c==="dangerouslySetInnerHTML"?HO(i,h):c==="children"?sc(i,h):fb(i,c,h,u)}switch(s){case"input":yv(i,o);break;case"textarea":WO(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ps(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ps(i,!!o.multiple,o.defaultValue,!0):Ps(i,!!o.multiple,o.multiple?[]:"",!1))}i[gc]=o}catch(y){xt(t,t.return,y)}}break;case 6:if(Er(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){xt(t,t.return,y)}}break;case 3:if(Er(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Er(e,t),Fr(t);break;case 13:Er(e,t),Fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wb=Pt())),r&4&&zE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||c,Er(e,t),gn=u):Er(e,t),Fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(h=ue=c;ue!==null;){switch(d=ue,p=d.child,d.tag){case 0:case 11:case 14:case 15:Wu(4,d,d.return);break;case 1:_s(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){xt(r,n,y)}}break;case 5:_s(d,d.return);break;case 22:if(d.memoizedState!==null){qE(h);continue}}p!==null?(p.return=d,ue=p):qE(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KO("display",a))}catch(y){xt(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Er(e,t),Fr(t),r&4&&zE(t);break;case 21:break;default:Er(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_k(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sc(i,""),r.flags&=-33);var o=BE(t);Jv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=BE(t);Qv(t,s,a);break;default:throw Error(J(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function k4(t,e,n){ue=t,xk(t)}function xk(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Eh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||gn;s=Eh;var u=gn;if(Eh=a,(gn=l)&&!u)for(ue=i;ue!==null;)a=ue,l=a.child,a.tag===22&&a.memoizedState!==null?HE(i):l!==null?(l.return=a,ue=l):HE(i);for(;o!==null;)ue=o,xk(o),o=o.sibling;ue=i,Eh=s,gn=u}WE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):WE(t)}}function WE(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||fm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&IE(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IE(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&fc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}gn||e.flags&512&&Yv(e)}catch(d){xt(e,e.return,d)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function qE(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function HE(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fm(4,e)}catch(l){xt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xt(e,i,l)}}var o=e.return;try{Yv(e)}catch(l){xt(e,o,l)}break;case 5:var a=e.return;try{Yv(e)}catch(l){xt(e,a,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ue=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ue=s;break}ue=e.return}}var N4=Math.ceil,jd=Fi.ReactCurrentDispatcher,Bb=Fi.ReactCurrentOwner,pr=Fi.ReactCurrentBatchConfig,je=0,Gt=null,kt=null,rn=0,zn=0,bs=Lo(0),Ft=0,xc=null,Sa=0,hm=0,zb=0,qu=null,Nn=null,Wb=0,Ks=1/0,fi=null,Md=!1,Zv=null,_o=null,Ah=!1,co=null,Dd=0,Hu=0,e0=null,nd=-1,rd=0;function Pn(){return je&6?Pt():nd!==-1?nd:nd=Pt()}function bo(t){return t.mode&1?je&2&&rn!==0?rn&-rn:m4.transition!==null?(rd===0&&(rd=aC()),rd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:dC(t.type)),t):1}function Nr(t,e,n,r){if(50<Hu)throw Hu=0,e0=null,Error(J(185));mf(t,n,r),(!(je&2)||t!==Gt)&&(t===Gt&&(!(je&2)&&(hm|=n),Ft===4&&no(t,rn)),Ln(t,r),n===1&&je===0&&!(e.mode&1)&&(Ks=Pt()+500,lm&&Vo()))}function Ln(t,e){var n=t.callbackNode;mL(t,e);var r=_d(t,t===Gt?rn:0);if(r===0)n!==null&&tE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tE(n),e===1)t.tag===0?p4(KE.bind(null,t)):NC(KE.bind(null,t)),c4(function(){!(je&6)&&Vo()}),n=null;else{switch(sC(r)){case 1:n=gb;break;case 4:n=iC;break;case 16:n=vd;break;case 536870912:n=oC;break;default:n=vd}n=Ck(n,Ek.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ek(t,e){if(nd=-1,rd=0,je&6)throw Error(J(327));var n=t.callbackNode;if(Ns()&&t.callbackNode!==n)return null;var r=_d(t,t===Gt?rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$d(t,r);else{e=r;var i=je;je|=2;var o=Sk();(Gt!==t||rn!==e)&&(fi=null,Ks=Pt()+500,ga(t,e));do try{M4();break}catch(s){Ak(t,s)}while(!0);Ob(),jd.current=o,je=i,kt!==null?e=0:(Gt=null,rn=0,e=Ft)}if(e!==0){if(e===2&&(i=Pv(t),i!==0&&(r=i,e=t0(t,i))),e===1)throw n=xc,ga(t,0),no(t,r),Ln(t,Pt()),n;if(e===6)no(t,r);else{if(i=t.current.alternate,!(r&30)&&!R4(i)&&(e=$d(t,r),e===2&&(o=Pv(t),o!==0&&(r=o,e=t0(t,o))),e===1))throw n=xc,ga(t,0),no(t,r),Ln(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:na(t,Nn,fi);break;case 3:if(no(t,r),(r&130023424)===r&&(e=Wb+500-Pt(),10<e)){if(_d(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mv(na.bind(null,t,Nn,fi),e);break}na(t,Nn,fi);break;case 4:if(no(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-kr(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N4(r/1960))-r,10<r){t.timeoutHandle=Mv(na.bind(null,t,Nn,fi),r);break}na(t,Nn,fi);break;case 5:na(t,Nn,fi);break;default:throw Error(J(329))}}}return Ln(t,Pt()),t.callbackNode===n?Ek.bind(null,t):null}function t0(t,e){var n=qu;return t.current.memoizedState.isDehydrated&&(ga(t,e).flags|=256),t=$d(t,e),t!==2&&(e=Nn,Nn=n,e!==null&&n0(e)),t}function n0(t){Nn===null?Nn=t:Nn.push.apply(Nn,t)}function R4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(t,e){for(e&=~zb,e&=~hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function KE(t){if(je&6)throw Error(J(327));Ns();var e=_d(t,0);if(!(e&1))return Ln(t,Pt()),null;var n=$d(t,e);if(t.tag!==0&&n===2){var r=Pv(t);r!==0&&(e=r,n=t0(t,r))}if(n===1)throw n=xc,ga(t,0),no(t,e),Ln(t,Pt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,Nn,fi),Ln(t,Pt()),null}function qb(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Ks=Pt()+500,lm&&Vo())}}function Ta(t){co!==null&&co.tag===0&&!(je&6)&&Ns();var e=je;je|=1;var n=pr.transition,r=Ue;try{if(pr.transition=null,Ue=1,t)return t()}finally{Ue=r,pr.transition=n,je=e,!(je&6)&&Vo()}}function Hb(){zn=bs.current,at(bs)}function ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u4(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Tb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ad();break;case 3:qs(),at(Dn),at(_n),Mb();break;case 5:jb(r);break;case 4:qs();break;case 13:at(gt);break;case 19:at(gt);break;case 10:Cb(r.type._context);break;case 22:case 23:Hb()}n=n.return}if(Gt=t,kt=t=wo(t.current,null),rn=zn=e,Ft=0,xc=null,zb=hm=Sa=0,Nn=qu=null,ua!==null){for(e=0;e<ua.length;e++)if(n=ua[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ua=null}return t}function Ak(t,e){do{var n=kt;try{if(Ob(),Zh.current=Rd,Nd){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(Aa=0,Ht=Lt=yt=null,zu=!1,_c=0,Bb.current=null,n===null||n.return===null){Ft=1,xc=e,kt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=rn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=jE(a);if(p!==null){p.flags&=-257,ME(p,a,s,o,e),p.mode&1&&RE(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){RE(o,u,e),Kb();break e}l=Error(J(426))}}else if(ht&&s.mode&1){var b=jE(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ME(b,a,s,o,e),Pb(Hs(l,s));break e}}o=l=Hs(l,s),Ft!==4&&(Ft=2),qu===null?qu=[o]:qu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=sk(o,l,e);PE(o,_);break e;case 1:s=l;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=lk(o,s,e);PE(o,O);break e}}o=o.return}while(o!==null)}Pk(n)}catch(S){e=S,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function Sk(){var t=jd.current;return jd.current=Rd,t===null?Rd:t}function Kb(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Gt===null||!(Sa&268435455)&&!(hm&268435455)||no(Gt,rn)}function $d(t,e){var n=je;je|=2;var r=Sk();(Gt!==t||rn!==e)&&(fi=null,ga(t,e));do try{j4();break}catch(i){Ak(t,i)}while(!0);if(Ob(),je=n,jd.current=r,kt!==null)throw Error(J(261));return Gt=null,rn=0,Ft}function j4(){for(;kt!==null;)Tk(kt)}function M4(){for(;kt!==null&&!aL();)Tk(kt)}function Tk(t){var e=Ok(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?Pk(t):kt=e,Bb.current=null}function Pk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=I4(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,kt=null;return}}else if(n=P4(n,e,zn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Ft===0&&(Ft=5)}function na(t,e,n){var r=Ue,i=pr.transition;try{pr.transition=null,Ue=1,D4(t,e,n,r)}finally{pr.transition=i,Ue=r}return null}function D4(t,e,n,r){do Ns();while(co!==null);if(je&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(gL(t,o),t===Gt&&(kt=Gt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,Ck(vd,function(){return Ns(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pr.transition,pr.transition=null;var a=Ue;Ue=1;var s=je;je|=4,Bb.current=null,C4(t,n),wk(n,t),n4(Rv),bd=!!Nv,Rv=Nv=null,t.current=n,k4(n),sL(),je=s,Ue=a,pr.transition=o}else t.current=n;if(Ah&&(Ah=!1,co=t,Dd=i),o=t.pendingLanes,o===0&&(_o=null),cL(n.stateNode),Ln(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=Zv,Zv=null,t;return Dd&1&&t.tag!==0&&Ns(),o=t.pendingLanes,o&1?t===e0?Hu++:(Hu=0,e0=t):Hu=0,Vo(),null}function Ns(){if(co!==null){var t=sC(Dd),e=pr.transition,n=Ue;try{if(pr.transition=null,Ue=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,Dd=0,je&6)throw Error(J(331));var i=je;for(je|=4,ue=t.current;ue!==null;){var o=ue,a=o.child;if(ue.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:Wu(8,c,o)}var h=c.child;if(h!==null)h.return=c,ue=h;else for(;ue!==null;){c=ue;var d=c.sibling,p=c.return;if(vk(c),c===u){ue=null;break}if(d!==null){d.return=p,ue=d;break}ue=p}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ue=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ue=a;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wu(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ue=_;break e}ue=o.return}}var v=t.current;for(ue=v;ue!==null;){a=ue;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ue=w;else e:for(a=v;ue!==null;){if(s=ue,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:fm(9,s)}}catch(S){xt(s,s.return,S)}if(s===a){ue=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,ue=O;break e}ue=s.return}}if(je=i,Vo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(rm,t)}catch{}r=!0}return r}finally{Ue=n,pr.transition=e}}return!1}function GE(t,e,n){e=Hs(n,e),e=sk(t,e,1),t=vo(t,e,1),e=Pn(),t!==null&&(mf(t,1,e),Ln(t,e))}function xt(t,e,n){if(t.tag===3)GE(t,t,n);else for(;e!==null;){if(e.tag===3){GE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){t=Hs(n,t),t=lk(e,t,1),e=vo(e,t,1),t=Pn(),e!==null&&(mf(e,1,t),Ln(e,t));break}}e=e.return}}function $4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(rn&n)===n&&(Ft===4||Ft===3&&(rn&130023424)===rn&&500>Pt()-Wb?ga(t,0):zb|=n),Ln(t,e)}function Ik(t,e){e===0&&(t.mode&1?(e=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):e=1);var n=Pn();t=Oi(t,e),t!==null&&(mf(t,e,n),Ln(t,n))}function L4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ik(t,n)}function V4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),Ik(t,n)}var Ok;Ok=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,T4(t,e,n);jn=!!(t.flags&131072)}else jn=!1,ht&&e.flags&1048576&&RC(e,Pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;td(t,e),t=e.pendingProps;var i=Bs(e,_n.current);ks(e,n),i=$b(null,e,r,t,i,n);var o=Lb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(r)?(o=!0,Sd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nb(e),i.updater=cm,e.stateNode=i,i._reactInternals=e,Bv(e,r,t,n),e=qv(null,e,r,!0,o,n)):(e.tag=0,ht&&o&&Sb(e),En(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(td(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=U4(r),t=Sr(r,t),i){case 0:e=Wv(null,e,r,t,n);break e;case 1:e=LE(null,e,r,t,n);break e;case 11:e=DE(null,e,r,t,n);break e;case 14:e=$E(null,e,r,Sr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Wv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),LE(t,e,r,i,n);case 3:e:{if(hk(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,VC(t,e),Cd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Hs(Error(J(423)),e),e=VE(t,e,r,n,i);break e}else if(r!==i){i=Hs(Error(J(424)),e),e=VE(t,e,r,n,i);break e}else for(Kn=yo(e.stateNode.containerInfo.firstChild),Yn=e,ht=!0,Or=null,n=$C(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zs(),r===i){e=Ci(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return FC(e),t===null&&Vv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,jv(r,i)?a=null:o!==null&&jv(r,o)&&(e.flags|=32),fk(t,e),En(t,e,a,n),e.child;case 6:return t===null&&Vv(e),null;case 13:return dk(t,e,n);case 4:return Rb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ws(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),DE(t,e,r,i,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Je(Id,r._currentValue),r._currentValue=a,o!==null)if(jr(o.value,a)){if(o.children===i.children&&!Dn.current){e=Ci(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ei(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Fv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}En(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ks(e,n),i=mr(i),r=r(i),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),$E(t,e,r,i,n);case 15:return uk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),td(t,e),e.tag=1,$n(r)?(t=!0,Sd(e)):t=!1,ks(e,n),ak(e,r,i),Bv(e,r,i,n),qv(null,e,r,!0,t,n);case 19:return pk(t,e,n);case 22:return ck(t,e,n)}throw Error(J(156,e.tag))};function Ck(t,e){return rC(t,e)}function F4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new F4(t,e,n,r)}function Gb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U4(t){if(typeof t=="function")return Gb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===db)return 11;if(t===pb)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function id(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Gb(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case cs:return ya(n.children,i,o,e);case hb:a=8,i|=8;break;case hv:return t=hr(12,n,e,i|2),t.elementType=hv,t.lanes=o,t;case dv:return t=hr(13,n,e,i),t.elementType=dv,t.lanes=o,t;case pv:return t=hr(19,n,e,i),t.elementType=pv,t.lanes=o,t;case FO:return dm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LO:a=10;break e;case VO:a=9;break e;case db:a=11;break e;case pb:a=14;break e;case Ji:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=hr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ya(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function dm(t,e,n,r){return t=hr(22,t,r,e),t.elementType=FO,t.lanes=n,t.stateNode={isHidden:!1},t}function _y(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function by(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ey(0),this.expirationTimes=ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ey(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xb(t,e,n,r,i,o,a,s,l){return t=new B4(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=hr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nb(o),t}function z4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kk(t){if(!t)return Co;t=t._reactInternals;e:{if(Fa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if($n(n))return kC(t,n,e)}return e}function Nk(t,e,n,r,i,o,a,s,l){return t=Xb(n,r,!0,t,i,o,a,s,l),t.context=kk(null),n=t.current,r=Pn(),i=bo(n),o=Ei(r,i),o.callback=e??null,vo(n,o,i),t.current.lanes=i,mf(t,i,r),Ln(t,r),t}function pm(t,e,n,r){var i=e.current,o=Pn(),a=bo(i);return n=kk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vo(i,e,a),t!==null&&(Nr(t,i,a,o),Jh(t,i,a)),a}function Ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function XE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yb(t,e){XE(t,e),(t=t.alternate)&&XE(t,e)}function W4(){return null}var Rk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qb(t){this._internalRoot=t}mm.prototype.render=Qb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));pm(t,e,null,null)};mm.prototype.unmount=Qb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){pm(null,t,null,null)}),e[Ii]=null}};function mm(t){this._internalRoot=t}mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=cC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<to.length&&e!==0&&e<to[n].priority;n++);to.splice(n,0,t),n===0&&hC(t)}};function Jb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function YE(){}function q4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ld(a);o.call(u)}}var a=Nk(e,r,t,0,null,!1,!1,"",YE);return t._reactRootContainer=a,t[Ii]=a.current,pc(t.nodeType===8?t.parentNode:t),Ta(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Ld(l);s.call(u)}}var l=Xb(t,0,!1,null,null,!1,!1,"",YE);return t._reactRootContainer=l,t[Ii]=l.current,pc(t.nodeType===8?t.parentNode:t),Ta(function(){pm(e,l,n,r)}),l}function ym(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Ld(a);s.call(l)}}pm(e,a,t,i)}else a=q4(n,e,t,i,r);return Ld(a)}lC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ku(e.pendingLanes);n!==0&&(yb(e,n|1),Ln(e,Pt()),!(je&6)&&(Ks=Pt()+500,Vo()))}break;case 13:Ta(function(){var r=Oi(t,1);if(r!==null){var i=Pn();Nr(r,t,1,i)}}),Yb(t,1)}};vb=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var n=Pn();Nr(e,t,134217728,n)}Yb(t,134217728)}};uC=function(t){if(t.tag===13){var e=bo(t),n=Oi(t,e);if(n!==null){var r=Pn();Nr(n,t,e,r)}Yb(t,e)}};cC=function(){return Ue};fC=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Av=function(t,e,n){switch(e){case"input":if(yv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=sm(r);if(!i)throw Error(J(90));BO(r),yv(r,i)}}}break;case"textarea":WO(t,n);break;case"select":e=n.value,e!=null&&Ps(t,!!n.multiple,e,!1)}};QO=qb;JO=Ta;var H4={usingClientEntryPoint:!1,Events:[yf,ps,sm,XO,YO,qb]},mu={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K4={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tC(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||W4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{rm=Sh.inject(K4),Hr=Sh}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4;tr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jb(e))throw Error(J(200));return z4(t,e,null,n)};tr.createRoot=function(t,e){if(!Jb(t))throw Error(J(299));var n=!1,r="",i=Rk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xb(t,1,!1,null,null,n,!1,r,i),t[Ii]=e.current,pc(t.nodeType===8?t.parentNode:t),new Qb(e)};tr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=tC(e),t=t===null?null:t.stateNode,t};tr.flushSync=function(t){return Ta(t)};tr.hydrate=function(t,e,n){if(!gm(e))throw Error(J(200));return ym(null,t,e,!0,n)};tr.hydrateRoot=function(t,e,n){if(!Jb(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Rk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Nk(e,null,t,1,n??null,i,!1,o,a),t[Ii]=e.current,pc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mm(e)};tr.render=function(t,e,n){if(!gm(e))throw Error(J(200));return ym(null,t,e,!1,n)};tr.unmountComponentAtNode=function(t){if(!gm(t))throw Error(J(40));return t._reactRootContainer?(Ta(function(){ym(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};tr.unstable_batchedUpdates=qb;tr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return ym(t,e,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function jk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jk)}catch(t){console.error(t)}}jk(),jO.exports=tr;var G4=jO.exports,QE=G4;cv.createRoot=QE.createRoot,cv.hydrateRoot=QE.hydrateRoot;var JE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},X4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Dk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||h==null)throw new Y4;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q4=function(t){const e=Mk(t);return Dk.encodeByteArray(e,!0)},Vd=function(t){return Q4(t).replace(/\./g,"")},$k=function(t){try{return Dk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=()=>J4().__FIREBASE_DEFAULTS__,eV=()=>{if(typeof process>"u"||typeof JE>"u")return;const t=JE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$k(t[1]);return e&&JSON.parse(e)},vm=()=>{try{return Z4()||eV()||tV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lk=t=>{var e,n;return(n=(e=vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vk=t=>{const e=Lk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fk=()=>{var t;return(t=vm())===null||t===void 0?void 0:t.config},Uk=t=>{var e;return(e=vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vd(JSON.stringify(n)),Vd(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function iV(){var t;const e=(t=vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lV(){const t=bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uV(){return!iV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cV(){try{return typeof indexedDB=="object"}catch{return!1}}function fV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hV,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?dV(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ii(i,s,r)}}function dV(t,e){return t.replace(pV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pV=/\{\$([^}]+)}/g;function mV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(ZE(o)&&ZE(a)){if(!Fd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gV(t,e){const n=new yV(t,e);return n.subscribe.bind(n)}class yV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=wy),i.error===void 0&&(i.error=wy),i.complete===void 0&&(i.complete=wy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class ko{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wV(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bV(t){return t===ra?void 0:t}function wV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _V(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const EV={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},AV=Ne.INFO,SV={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},TV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=SV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zb{constructor(e){this.name=e,this._logLevel=AV,this._logHandler=TV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const PV=(t,e)=>e.some(n=>t instanceof n);let eA,tA;function IV(){return eA||(eA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OV(){return tA||(tA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zk=new WeakMap,r0=new WeakMap,Wk=new WeakMap,xy=new WeakMap,ew=new WeakMap;function CV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(xo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&zk.set(n,t)}).catch(()=>{}),ew.set(e,t),e}function kV(t){if(r0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});r0.set(t,e)}let i0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NV(t){i0=t(i0)}function RV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ey(this),e,...n);return Wk.set(r,e.sort?e.sort():[e]),xo(r)}:OV().includes(t)?function(...e){return t.apply(Ey(this),e),xo(zk.get(this))}:function(...e){return xo(t.apply(Ey(this),e))}}function jV(t){return typeof t=="function"?RV(t):(t instanceof IDBTransaction&&kV(t),PV(t,IV())?new Proxy(t,i0):t)}function xo(t){if(t instanceof IDBRequest)return CV(t);if(xy.has(t))return xy.get(t);const e=jV(t);return e!==t&&(xy.set(t,e),ew.set(e,t)),e}const Ey=t=>ew.get(t);function MV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=xo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(xo(a.result),l.oldVersion,l.newVersion,xo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const DV=["get","getKey","getAll","getAllKeys","count"],$V=["put","add","delete","clear"],Ay=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$V.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DV.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ay.set(e,o),o}NV(t=>({...t,get:(e,n,r)=>nA(e,n)||t.get(e,n,r),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const o0="@firebase/app",rA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Zb("@firebase/app"),FV="@firebase/app-compat",UV="@firebase/analytics-compat",BV="@firebase/analytics",zV="@firebase/app-check-compat",WV="@firebase/app-check",qV="@firebase/auth",HV="@firebase/auth-compat",KV="@firebase/database",GV="@firebase/data-connect",XV="@firebase/database-compat",YV="@firebase/functions",QV="@firebase/functions-compat",JV="@firebase/installations",ZV="@firebase/installations-compat",eF="@firebase/messaging",tF="@firebase/messaging-compat",nF="@firebase/performance",rF="@firebase/performance-compat",iF="@firebase/remote-config",oF="@firebase/remote-config-compat",aF="@firebase/storage",sF="@firebase/storage-compat",lF="@firebase/firestore",uF="@firebase/vertexai-preview",cF="@firebase/firestore-compat",fF="firebase",hF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="[DEFAULT]",dF={[o0]:"fire-core",[FV]:"fire-core-compat",[BV]:"fire-analytics",[UV]:"fire-analytics-compat",[WV]:"fire-app-check",[zV]:"fire-app-check-compat",[qV]:"fire-auth",[HV]:"fire-auth-compat",[KV]:"fire-rtdb",[GV]:"fire-data-connect",[XV]:"fire-rtdb-compat",[YV]:"fire-fn",[QV]:"fire-fn-compat",[JV]:"fire-iid",[ZV]:"fire-iid-compat",[eF]:"fire-fcm",[tF]:"fire-fcm-compat",[nF]:"fire-perf",[rF]:"fire-perf-compat",[iF]:"fire-rc",[oF]:"fire-rc-compat",[aF]:"fire-gcs",[sF]:"fire-gcs-compat",[lF]:"fire-fst",[cF]:"fire-fst-compat",[uF]:"fire-vertex","fire-js":"fire-js",[fF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,pF=new Map,s0=new Map;function iA(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(s0.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;s0.set(e,t);for(const n of Ud.values())iA(n,t);for(const n of pF.values())iA(n,t);return!0}function _m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new _f("app","Firebase",mF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=hF;function qk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=Fk()),!n)throw Eo.create("no-options");const o=Ud.get(i);if(o){if(Fd(n,o.options)&&Fd(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const a=new xV(i);for(const l of s0.values())a.addComponent(l);const s=new gF(n,r,a);return Ud.set(i,s),s}function tw(t=a0){const e=Ud.get(t);if(!e&&t===a0&&Fk())return qk();if(!e)throw Eo.create("no-app",{appName:t});return e}function Gr(t,e,n){var r;let i=(r=dF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(s.join(" "));return}Pa(new ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="firebase-heartbeat-database",vF=1,Ec="firebase-heartbeat-store";let Sy=null;function Hk(){return Sy||(Sy=MV(yF,vF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),Sy}async function _F(t){try{const n=(await Hk()).transaction(Ec),r=await n.objectStore(Ec).get(Kk(t));return await n.done,r}catch(e){if(e instanceof ii)ki.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function oA(t,e){try{const r=(await Hk()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,Kk(t)),await r.done}catch(n){if(n instanceof ii)ki.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function Kk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=1024,wF=30*24*60*60*1e3;class xF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=wF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ki.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aA(),{heartbeatsToSend:r,unsentEntries:i}=EF(this._heartbeatsCache.heartbeats),o=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ki.warn(n),""}}}function aA(){return new Date().toISOString().substring(0,10)}function EF(t,e=bF){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),sA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cV()?fV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _F(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sA(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){Pa(new ko("platform-logger",e=>new LV(e),"PRIVATE")),Pa(new ko("heartbeat",e=>new xF(e),"PRIVATE")),Gr(o0,rA,t),Gr(o0,rA,"esm2017"),Gr("fire-js","")}SF("");var TF="firebase",PF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(TF,PF,"app");function nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IF=Gk,Xk=new _f("auth","Firebase",Gk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Zb("@firebase/auth");function OF(t,...e){Bd.logLevel<=Ne.WARN&&Bd.warn(`Auth (${Ua}): ${t}`,...e)}function od(t,...e){Bd.logLevel<=Ne.ERROR&&Bd.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw rw(t,...e)}function Xr(t,...e){return rw(t,...e)}function Yk(t,e,n){const r=Object.assign(Object.assign({},IF()),{[e]:n});return new _f("auth","Firebase",r).create(e,{appName:t.name})}function Ao(t){return Yk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xk.create(t,...e)}function be(t,e,...n){if(!t)throw rw(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw od(e),new Error(e)}function Ri(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CF(){return lA()==="http:"||lA()==="https:"}function lA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CF()||aV()||"connection"in navigator)?navigator.onLine:!0}function NF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=rV()||sV()}get(){return kF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new wf(3e4,6e4);function bm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rl(t,e,n,r,i={}){return Jk(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=bf(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return oV()||(u.referrerPolicy="no-referrer"),Qk.fetch()(eN(t,t.config.apiHost,n,s),u)})}async function Jk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},RF),e);try{const i=new MF(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Th(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Th(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yk(t,c,u);Ni(t,c)}}catch(i){if(i instanceof ii)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function Zk(t,e,n,r,i={}){const o=await Rl(t,e,n,r,i);return"mfaPendingCredential"in o&&Ni(t,"multi-factor-auth-required",{_serverResponse:o}),o}function eN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iw(t.config,i):`${t.config.apiScheme}://${i}`}class MF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xr(this.auth,"network-request-failed")),jF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e){return Rl(t,"POST","/v1/accounts:delete",e)}async function tN(t,e){return Rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $F(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=ow(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ku(Ty(i.auth_time)),issuedAtTime:Ku(Ty(i.iat)),expirationTime:Ku(Ty(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ty(t){return Number(t)*1e3}function ow(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const i=$k(n);return i?JSON.parse(i):(od("Failed to decode base64 JWT payload"),null)}catch(i){return od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uA(t){const e=ow(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&LF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ac(t,tN(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nN(o.providerUserInfo):[],s=UF(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new u0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function FF(t){const e=_t(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nN(t){return t.map(e=>{var{providerId:n}=e,r=nw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e){const n=await Jk(t,{},async()=>{const r=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=eN(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Qk.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zF(t,e){return Rl(t,"POST","/v2/accounts:revokeToken",bm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=uA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await BF(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Rs;return r&&(be(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rs,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new u0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $F(this,e)}reload(){return FF(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Ao(this.auth));const e=await this.getIdToken();return await Ac(this,DF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:O,isAnonymous:S,providerData:P,stsTokenManager:E}=n;be(w&&E,e,"internal-error");const A=Rs.fromJSON(this.name,E);be(typeof w=="string",e,"internal-error"),Qi(h,e.name),Qi(d,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof S=="boolean",e,"internal-error"),Qi(p,e.name),Qi(m,e.name),Qi(y,e.name),Qi(b,e.name),Qi(_,e.name),Qi(v,e.name);const I=new vi({uid:w,auth:e,email:d,emailVerified:O,displayName:h,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:A,createdAt:_,lastLoginAt:v});return P&&Array.isArray(P)&&(I.providerData=P.map(C=>Object.assign({},C))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Rs;i.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?nN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Rs;s.updateFromIdToken(r);const l=new vi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new u0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Map;function _i(t){Ri(t instanceof Function,"Expected a class definition");let e=cA.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rN.type="NONE";const fA=rN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ad(this.userKey,i.apiKey,o),this.fullPersistenceKey=ad("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(_i(fA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||_i(fA);const a=ad(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const h=vi._fromJSON(e,c);u!==o&&(s=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new js(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new js(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uN(e))return"Blackberry";if(cN(e))return"Webos";if(oN(e))return"Safari";if((e.includes("chrome/")||aN(e))&&!e.includes("edge/"))return"Chrome";if(lN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iN(t=bn()){return/firefox\//i.test(t)}function oN(t=bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aN(t=bn()){return/crios\//i.test(t)}function sN(t=bn()){return/iemobile/i.test(t)}function lN(t=bn()){return/android/i.test(t)}function uN(t=bn()){return/blackberry/i.test(t)}function cN(t=bn()){return/webos/i.test(t)}function aw(t=bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WF(t=bn()){var e;return aw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qF(){return lV()&&document.documentMode===10}function fN(t=bn()){return aw(t)||lN(t)||cN(t)||uN(t)||/windows phone/i.test(t)||sN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t,e=[]){let n;switch(t){case"Browser":n=hA(bn());break;case"Worker":n=`${hA(bn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e={}){return Rl(t,"GET","/v2/passwordPolicy",bm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=6;class XF{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:GF,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dA(this),this.idTokenSubscription=new dA(this),this.beforeStateQueue=new HF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tN(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Ao(this));const n=e?_t(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Ao(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Ao(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KF(this),n=new XF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&OF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wm(t){return _t(t)}class dA{constructor(e){this.auth=e,this.observer=null,this.addObserver=gV(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){sw=t}function JF(t){return sw.loadJS(t)}function ZF(){return sw.gapiScript}function e3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){const n=_m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fd(o,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function n3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r3(t,e,n){const r=wm(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dN(e),{host:a,port:s}=i3(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),o3()}function dN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function i3(t){const e=dN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:pA(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:pA(a)}}}function pA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function o3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return Zk(t,"POST","/v1/accounts:signInWithIdp",bm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="http://localhost";class Ia extends pN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ia(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:a3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends mN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends xf{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ia._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return io.credential(n,r)}catch{return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends xf{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends xf{constructor(){super("twitter.com")}static credential(e,n){return Ia._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return Zk(t,"POST","/v1/accounts:signUp",bm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vi._fromIdTokenResponse(e,r,i),a=mA(r);return new No({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=mA(r);return new No({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function mA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(t){var e;if(gi(t.app))return Promise.reject(Ao(t));const n=wm(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new No({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await s3(n,{returnSecureToken:!0}),i=await No._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends ii{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wd(e,n,r,i)}}function gN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(t,o,e,r):o})}async function u3(t,e,n=!1){const r=await Ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e,n=!1){const{auth:r}=t;if(gi(r.app))return Promise.reject(Ao(r));const i="reauthenticate";try{const o=await Ac(t,gN(r,i,e,t),n);be(o.idToken,r,"internal-error");const a=ow(o.idToken);be(a,r,"internal-error");const{sub:s}=a;return be(t.uid===s,r,"user-mismatch"),No._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e,n=!1){if(gi(t.app))return Promise.reject(Ao(t));const r="signIn",i=await gN(t,r,e),o=await No._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function h3(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function d3(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function p3(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1e3,g3=10;class vN extends yN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);qF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vN.type="LOCAL";const y3=vN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends yN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_N.type="SESSION";const bN=_N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await v3(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=lw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function b3(t){Yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function w3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E3(){return wN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebaseLocalStorageDb",A3=1,Hd="firebaseLocalStorage",EN="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function S3(){const t=indexedDB.deleteDatabase(xN);return new Ef(t).toPromise()}function c0(){const t=indexedDB.open(xN,A3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hd,{keyPath:EN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await S3(),e(await c0()))})})}async function gA(t,e,n){const r=Em(t,!0).put({[EN]:e,value:n});return new Ef(r).toPromise()}async function T3(t,e){const n=Em(t,!1).get(e),r=await new Ef(n).toPromise();return r===void 0?null:r.value}function yA(t,e){const n=Em(t,!0).delete(e);return new Ef(n).toPromise()}const P3=800,I3=3;class AN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await c0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(E3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w3(),!this.activeServiceWorker)return;this.sender=new _3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await c0();return await gA(e,qd,"1"),await yA(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>T3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Em(i,!1).getAll();return new Ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AN.type="LOCAL";const O3=AN;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t,e){return e?_i(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends pN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function k3(t){return f3(t.auth,new uw(t),t.bypassAuthState)}function N3(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),c3(n,new uw(t),t.bypassAuthState)}async function R3(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),u3(n,new uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return k3;case"linkViaPopup":case"linkViaRedirect":return R3;case"reauthViaPopup":case"reauthViaRedirect":return N3;default:Ni(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new wf(2e3,1e4);class ws extends SN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=lw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j3.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="pendingRedirect",sd=new Map;class D3 extends SN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const r=await $3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(t,e){const n=F3(e),r=V3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function L3(t,e){sd.set(t._key(),e)}function V3(t){return _i(t._redirectPersistence)}function F3(t){return ad(M3,t.config.apiKey,t.name)}async function U3(t,e,n=!1){if(gi(t.app))return Promise.reject(Ao(t));const r=wm(t),i=C3(r,e),a=await new D3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=10*60*1e3;class z3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B3&&this.cachedEventUids.clear(),this.cachedEventUids.has(vA(e))}saveEventToCache(e){this.cachedEventUids.add(vA(e)),this.lastProcessedEventTime=Date.now()}}function vA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e={}){return Rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K3=/^https?/;async function G3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q3(t);for(const n of e)try{if(X3(n))return}catch{}Ni(t,"unauthorized-domain")}function X3(t){const e=l0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!K3.test(n))return!1;if(H3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new wf(3e4,6e4);function _A(){const t=Yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Q3(t){return new Promise((e,n)=>{var r,i,o;function a(){_A(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_A(),n(Xr(t,"network-request-failed"))},timeout:Y3.get()})}if(!((i=(r=Yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)a();else{const s=e3("iframefcb");return Yr()[s]=()=>{gapi.load?a():n(Xr(t,"network-request-failed"))},JF(`${ZF()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function J3(t){return ld=ld||Q3(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new wf(5e3,15e3),eU="__/auth/iframe",tU="emulator/auth/iframe",nU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iU(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iw(e,tU):`https://${t.config.authDomain}/${eU}`,r={apiKey:e.apiKey,appName:t.name,v:Ua},i=rU.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${bf(r).slice(1)}`}async function oU(t){const e=await J3(t),n=Yr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:iU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nU,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Xr(t,"network-request-failed"),s=Yr().setTimeout(()=>{o(a)},Z3.get());function l(){Yr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sU=500,lU=600,uU="_blank",cU="http://localhost";class bA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fU(t,e,n,r=sU,i=lU){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},aU),{width:r.toString(),height:i.toString(),top:o,left:a}),u=bn().toLowerCase();n&&(s=aN(u)?uU:n),iN(u)&&(e=e||cU,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(WF(u)&&s!=="_self")return hU(e||"",s),new bA(null);const h=window.open(e||"",s,c);be(h,t,"popup-blocked");try{h.focus()}catch{}return new bA(h)}function hU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="__/auth/handler",pU="emulator/auth/handler",mU=encodeURIComponent("fac");async function wA(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ua,eventId:i};if(e instanceof mN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",mV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))a[c]=h}if(e instanceof xf){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${mU}=${encodeURIComponent(l)}`:"";return`${gU(t)}?${bf(s).slice(1)}${u}`}function gU({config:t}){return t.emulator?iw(t,pU):`https://${t.authDomain}/${dU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class yU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bN,this._completeRedirectFn=U3,this._overrideRedirectResult=L3}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await wA(e,n,r,l0(),i);return fU(e,a,lw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wA(e,n,r,l0(),i);return b3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oU(e),r=new z3(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Py];a!==void 0&&n(!!a),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fN()||oN()||aw()}}const vU=yU;var xA="@firebase/auth",EA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wU(t){Pa(new ko("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hN(t)},u=new YF(r,i,o,l);return n3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pa(new ko("auth-internal",e=>{const n=wm(e.getProvider("auth").getImmediate());return(r=>new _U(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(xA,EA,bU(t)),Gr(xA,EA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=5*60,EU=Uk("authIdTokenMaxAge")||xU;let AA=null;const AU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EU)return;const i=n==null?void 0:n.token;AA!==i&&(AA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SU(t=tw()){const e=_m(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t3(t,{popupRedirectResolver:vU,persistence:[O3,y3,bN]}),r=Uk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=AU(o.toString());d3(n,a,()=>a(n.currentUser)),h3(n,s=>a(s))}}const i=Lk("auth");return i&&r3(n,`http://${i}`),n}function TU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Xr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",TU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wU("Browser");var SA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,PN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function I(){}I.prototype=A.prototype,E.D=A.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(C,k,R){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return A.prototype[k].apply(C,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,I){I||(I=0);var C=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)C[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;16>k;++k)C[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=E.g[0],I=E.g[1],k=E.g[2];var R=E.g[3],N=A+(R^I&(k^R))+C[0]+3614090360&4294967295;A=I+(N<<7&4294967295|N>>>25),N=R+(k^A&(I^k))+C[1]+3905402710&4294967295,R=A+(N<<12&4294967295|N>>>20),N=k+(I^R&(A^I))+C[2]+606105819&4294967295,k=R+(N<<17&4294967295|N>>>15),N=I+(A^k&(R^A))+C[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=A+(R^I&(k^R))+C[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=R+(k^A&(I^k))+C[5]+1200080426&4294967295,R=A+(N<<12&4294967295|N>>>20),N=k+(I^R&(A^I))+C[6]+2821735955&4294967295,k=R+(N<<17&4294967295|N>>>15),N=I+(A^k&(R^A))+C[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=A+(R^I&(k^R))+C[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=R+(k^A&(I^k))+C[9]+2336552879&4294967295,R=A+(N<<12&4294967295|N>>>20),N=k+(I^R&(A^I))+C[10]+4294925233&4294967295,k=R+(N<<17&4294967295|N>>>15),N=I+(A^k&(R^A))+C[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=A+(R^I&(k^R))+C[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=R+(k^A&(I^k))+C[13]+4254626195&4294967295,R=A+(N<<12&4294967295|N>>>20),N=k+(I^R&(A^I))+C[14]+2792965006&4294967295,k=R+(N<<17&4294967295|N>>>15),N=I+(A^k&(R^A))+C[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=A+(k^R&(I^k))+C[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=R+(I^k&(A^I))+C[6]+3225465664&4294967295,R=A+(N<<9&4294967295|N>>>23),N=k+(A^I&(R^A))+C[11]+643717713&4294967295,k=R+(N<<14&4294967295|N>>>18),N=I+(R^A&(k^R))+C[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=A+(k^R&(I^k))+C[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=R+(I^k&(A^I))+C[10]+38016083&4294967295,R=A+(N<<9&4294967295|N>>>23),N=k+(A^I&(R^A))+C[15]+3634488961&4294967295,k=R+(N<<14&4294967295|N>>>18),N=I+(R^A&(k^R))+C[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=A+(k^R&(I^k))+C[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=R+(I^k&(A^I))+C[14]+3275163606&4294967295,R=A+(N<<9&4294967295|N>>>23),N=k+(A^I&(R^A))+C[3]+4107603335&4294967295,k=R+(N<<14&4294967295|N>>>18),N=I+(R^A&(k^R))+C[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=A+(k^R&(I^k))+C[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=R+(I^k&(A^I))+C[2]+4243563512&4294967295,R=A+(N<<9&4294967295|N>>>23),N=k+(A^I&(R^A))+C[7]+1735328473&4294967295,k=R+(N<<14&4294967295|N>>>18),N=I+(R^A&(k^R))+C[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=A+(I^k^R)+C[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=R+(A^I^k)+C[8]+2272392833&4294967295,R=A+(N<<11&4294967295|N>>>21),N=k+(R^A^I)+C[11]+1839030562&4294967295,k=R+(N<<16&4294967295|N>>>16),N=I+(k^R^A)+C[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=A+(I^k^R)+C[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=R+(A^I^k)+C[4]+1272893353&4294967295,R=A+(N<<11&4294967295|N>>>21),N=k+(R^A^I)+C[7]+4139469664&4294967295,k=R+(N<<16&4294967295|N>>>16),N=I+(k^R^A)+C[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=A+(I^k^R)+C[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=R+(A^I^k)+C[0]+3936430074&4294967295,R=A+(N<<11&4294967295|N>>>21),N=k+(R^A^I)+C[3]+3572445317&4294967295,k=R+(N<<16&4294967295|N>>>16),N=I+(k^R^A)+C[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=A+(I^k^R)+C[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=R+(A^I^k)+C[12]+3873151461&4294967295,R=A+(N<<11&4294967295|N>>>21),N=k+(R^A^I)+C[15]+530742520&4294967295,k=R+(N<<16&4294967295|N>>>16),N=I+(k^R^A)+C[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=A+(k^(I|~R))+C[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=R+(I^(A|~k))+C[7]+1126891415&4294967295,R=A+(N<<10&4294967295|N>>>22),N=k+(A^(R|~I))+C[14]+2878612391&4294967295,k=R+(N<<15&4294967295|N>>>17),N=I+(R^(k|~A))+C[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=A+(k^(I|~R))+C[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=R+(I^(A|~k))+C[3]+2399980690&4294967295,R=A+(N<<10&4294967295|N>>>22),N=k+(A^(R|~I))+C[10]+4293915773&4294967295,k=R+(N<<15&4294967295|N>>>17),N=I+(R^(k|~A))+C[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=A+(k^(I|~R))+C[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=R+(I^(A|~k))+C[15]+4264355552&4294967295,R=A+(N<<10&4294967295|N>>>22),N=k+(A^(R|~I))+C[6]+2734768916&4294967295,k=R+(N<<15&4294967295|N>>>17),N=I+(R^(k|~A))+C[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=A+(k^(I|~R))+C[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=R+(I^(A|~k))+C[11]+3174756917&4294967295,R=A+(N<<10&4294967295|N>>>22),N=k+(A^(R|~I))+C[2]+718787259&4294967295,k=R+(N<<15&4294967295|N>>>17),N=I+(R^(k|~A))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var I=A-this.blockSize,C=this.B,k=this.h,R=0;R<A;){if(k==0)for(;R<=I;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<A;)if(C[k++]=E.charCodeAt(R++),k==this.blockSize){i(this,C),k=0;break}}else for(;R<A;)if(C[k++]=E[R++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=A},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var I=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=I&255,I/=256;for(this.u(E),E=Array(16),A=I=0;4>A;++A)for(var C=0;32>C;C+=8)E[I++]=this.g[A]>>>C&255;return E};function o(E,A){var I=s;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=A(E)}function a(E,A){this.h=A;for(var I=[],C=!0,k=E.length-1;0<=k;k--){var R=E[k]|0;C&&R==A||(I[k]=R,C=!1)}this.g=I}var s={};function l(E){return-128<=E&&128>E?o(E,function(A){return new a([A|0],0>A?-1:0)}):new a([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return b(u(-E));for(var A=[],I=1,C=0;E>=I;C++)A[C]=E/I|0,I*=4294967296;return new a(A,0)}function c(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return b(c(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(A,8)),C=h,k=0;k<E.length;k+=8){var R=Math.min(8,E.length-k),N=parseInt(E.substring(k,k+R),A);8>R?(R=u(Math.pow(A,R)),C=C.j(R).add(u(N))):(C=C.j(I),C=C.add(u(N)))}return C}var h=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var E=0,A=1,I=0;I<this.g.length;I++){var C=this.i(I);E+=(0<=C?C:4294967296+C)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(y(this))return"-"+b(this).toString(E);for(var A=u(Math.pow(E,6)),I=this,C="";;){var k=O(I,A).g;I=_(I,k.j(A));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=k,m(I))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function y(E){return E.h==-1}t.l=function(E){return E=_(this,E),y(E)?-1:m(E)?0:1};function b(E){for(var A=E.g.length,I=[],C=0;C<A;C++)I[C]=~E.g[C];return new a(I,~E.h).add(d)}t.abs=function(){return y(this)?b(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],C=0,k=0;k<=A;k++){var R=C+(this.i(k)&65535)+(E.i(k)&65535),N=(R>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);C=N>>>16,R&=65535,N&=65535,I[k]=N<<16|R}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(E,A){return E.add(b(A))}t.j=function(E){if(m(this)||m(E))return h;if(y(this))return y(E)?b(this).j(b(E)):b(b(this).j(E));if(y(E))return b(this.j(b(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,I=[],C=0;C<2*A;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<E.g.length;k++){var R=this.i(C)>>>16,N=this.i(C)&65535,U=E.i(k)>>>16,B=E.i(k)&65535;I[2*C+2*k]+=N*B,v(I,2*C+2*k),I[2*C+2*k+1]+=R*B,v(I,2*C+2*k+1),I[2*C+2*k+1]+=N*U,v(I,2*C+2*k+1),I[2*C+2*k+2]+=R*U,v(I,2*C+2*k+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new a(I,0)};function v(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function w(E,A){this.g=E,this.h=A}function O(E,A){if(m(A))throw Error("division by zero");if(m(E))return new w(h,h);if(y(E))return A=O(b(E),A),new w(b(A.g),b(A.h));if(y(A))return A=O(E,b(A)),new w(b(A.g),A.h);if(30<E.g.length){if(y(E)||y(A))throw Error("slowDivide_ only works with positive integers.");for(var I=d,C=A;0>=C.l(E);)I=S(I),C=S(C);var k=P(I,1),R=P(C,1);for(C=P(C,2),I=P(I,2);!m(C);){var N=R.add(C);0>=N.l(E)&&(k=k.add(I),R=N),C=P(C,1),I=P(I,1)}return A=_(E,k.j(A)),new w(k,A)}for(k=h;0<=E.l(A);){for(I=Math.max(1,Math.floor(E.m()/A.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=u(I),N=R.j(A);y(N)||0<N.l(E);)I-=C,R=u(I),N=R.j(A);m(R)&&(R=d),k=k.add(R),E=_(E,N)}return new w(k,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)&E.i(C);return new a(I,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)|E.i(C);return new a(I,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),I=[],C=0;C<A;C++)I[C]=this.i(C)^E.i(C);return new a(I,this.h^E.h)};function S(E){for(var A=E.g.length+1,I=[],C=0;C<A;C++)I[C]=E.i(C)<<1|E.i(C-1)>>>31;return new a(I,E.h)}function P(E,A){var I=A>>5;A%=32;for(var C=E.g.length-I,k=[],R=0;R<C;R++)k[R]=0<A?E.i(R+I)>>>A|E.i(R+I+1)<<32-A:E.i(R+I);return new a(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PN=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,va=a}).apply(typeof SA<"u"?SA:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IN,Ru,ON,ud,f0,CN,kN,NN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,T){return f==Array.prototype||f==Object.prototype||(f[g]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var g=0;g<f.length;++g){var T=f[g];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(f,g){if(g)e:{var T=r;f=f.split(".");for(var j=0;j<f.length-1;j++){var D=f[j];if(!(D in T))break e;T=T[D]}f=f[f.length-1],j=T[f],g=g(j),g!=j&&g!=null&&e(T,f,{configurable:!0,writable:!0,value:g})}}function o(f,g){f instanceof String&&(f+="");var T=0,j=!1,D={next:function(){if(!j&&T<f.length){var F=T++;return{value:g(F,f[F]),done:!1}}return j=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(f){return f||function(){return o(this,function(g,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var g=typeof f;return g=g!="object"?g:f?Array.isArray(f)?"array":g:"null",g=="array"||g=="object"&&typeof f.length=="number"}function u(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function c(f,g,T){return f.call.apply(f.bind,arguments)}function h(f,g,T){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,j),f.apply(g,D)}}return function(){return f.apply(g,arguments)}}function d(f,g,T){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,g){var T=Array.prototype.slice.call(arguments,1);return function(){var j=T.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function m(f,g){function T(){}T.prototype=g.prototype,f.aa=g.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(j,D,F){for(var ie=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ie[Ge-2]=arguments[Ge];return g.prototype[D].apply(j,ie)}}function y(f){const g=f.length;if(0<g){const T=Array(g);for(let j=0;j<g;j++)T[j]=f[j];return T}return[]}function b(f,g){for(let T=1;T<arguments.length;T++){const j=arguments[T];if(l(j)){const D=f.length||0,F=j.length||0;f.length=D+F;for(let ie=0;ie<F;ie++)f[D+ie]=j[ie]}else f.push(j)}}class _{constructor(g,T){this.i=g,this.j=T,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function v(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var S=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(f,g,T){for(const j in f)g.call(T,f[j],j,f)}function E(f,g){for(const T in f)g.call(void 0,f[T],T,f)}function A(f){const g={};for(const T in f)g[T]=f[T];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,g){let T,j;for(let D=1;D<arguments.length;D++){j=arguments[D];for(T in j)f[T]=j[T];for(let F=0;F<I.length;F++)T=I[F],Object.prototype.hasOwnProperty.call(j,T)&&(f[T]=j[T])}}function k(f){var g=1;f=f.split(":");const T=[];for(;0<g&&f.length;)T.push(f.shift()),g--;return f.length&&T.push(f.join(":")),T}function R(f){s.setTimeout(()=>{throw f},0)}function N(){var f=z;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class U{constructor(){this.h=this.g=null}add(g,T){const j=B.get();j.set(g,T),this.h?this.h.next=j:this.g=j,this.h=j}}var B=new _(()=>new H,f=>f.reset());class H{constructor(){this.next=this.g=this.h=null}set(g,T){this.h=g,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,$=!1,z=new U,q=()=>{const f=s.Promise.resolve(void 0);K=()=>{f.then(ee)}};var ee=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(T){R(T)}var g=B;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}$=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};s.addEventListener("test",T,g),s.removeEventListener("test",T,g)}catch{}return f}();function Me(f,g){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(S){e:{try{O(g.nodeName);var D=!0;break e}catch{}D=!1}D||(g=null)}}else T=="mouseover"?g=f.fromElement:T=="mouseout"&&(g=f.toElement);this.relatedTarget=g,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ke[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Me.aa.h.call(this)}}m(Me,ae);var ke={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),st=0;function oe(f,g,T,j,D){this.listener=f,this.proxy=null,this.src=g,this.type=T,this.capture=!!j,this.ha=D,this.key=++st,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,g,T,j,D){var F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);var ie=He(f,g,j,D);return-1<ie?(g=f[ie],T||(g.fa=!1)):(g=new oe(g,this.src,F,!!j,D),g.fa=T,f.push(g)),g};function Y(f,g){var T=g.type;if(T in f.g){var j=f.g[T],D=Array.prototype.indexOf.call(j,g,void 0),F;(F=0<=D)&&Array.prototype.splice.call(j,D,1),F&&(ye(g),f.g[T].length==0&&(delete f.g[T],f.h--))}}function He(f,g,T,j){for(var D=0;D<f.length;++D){var F=f[D];if(!F.da&&F.listener==g&&F.capture==!!T&&F.ha==j)return D}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Ke={};function et(f,g,T,j,D){if(Array.isArray(g)){for(var F=0;F<g.length;F++)et(f,g[F],T,j,D);return null}return T=qo(T),f&&f[jt]?f.K(g,T,u(j)?!!j.capture:!1,D):pt(f,g,T,!1,j,D)}function pt(f,g,T,j,D,F){if(!g)throw Error("Invalid event type");var ie=u(D)?!!D.capture:!!D,Ge=$r(f);if(Ge||(f[Pe]=Ge=new _e(f)),T=Ge.add(g,T,j,ie,F),T.proxy)return T;if(j=lt(),T.proxy=j,j.src=f,j.listener=T,f.addEventListener)Te||(D=ie),D===void 0&&(D=!1),f.addEventListener(g.toString(),j,D);else if(f.attachEvent)f.attachEvent(ir(g.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return T}function lt(){function f(T){return g.call(f.src,f.listener,T)}const g=Yt;return f}function br(f,g,T,j,D){if(Array.isArray(g))for(var F=0;F<g.length;F++)br(f,g[F],T,j,D);else j=u(j)?!!j.capture:!!j,T=qo(T),f&&f[jt]?(f=f.i,g=String(g).toString(),g in f.g&&(F=f.g[g],T=He(F,T,j,D),-1<T&&(ye(F[T]),Array.prototype.splice.call(F,T,1),F.length==0&&(delete f.g[g],f.h--)))):f&&(f=$r(f))&&(g=f.g[g.toString()],f=-1,g&&(f=He(g,T,j,D)),(T=-1<f?g[f]:null)&&rr(T))}function rr(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[jt])Y(g.i,f);else{var T=f.type,j=f.proxy;g.removeEventListener?g.removeEventListener(T,j,f.capture):g.detachEvent?g.detachEvent(ir(T),j):g.addListener&&g.removeListener&&g.removeListener(j),(T=$r(g))?(Y(T,f),T.h==0&&(T.src=null,g[Pe]=null)):ye(f)}}}function ir(f){return f in Ke?Ke[f]:Ke[f]="on"+f}function Yt(f,g){if(f.da)f=!0;else{g=new Me(g,this);var T=f.listener,j=f.ha||f.src;f.fa&&rr(f),f=T.call(j,g)}return f}function $r(f){return f=f[Pe],f instanceof _e?f:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(f){return typeof f=="function"?f:(f[Lr]||(f[Lr]=function(g){return f.handleEvent(g)}),f[Lr])}function ut(){X.call(this),this.i=new _e(this),this.M=this,this.F=null}m(ut,X),ut.prototype[jt]=!0,ut.prototype.removeEventListener=function(f,g,T,j){br(this,f,g,T,j)};function Qt(f,g){var T,j=f.F;if(j)for(T=[];j;j=j.F)T.push(j);if(f=f.M,j=g.type||g,typeof g=="string")g=new ae(g,f);else if(g instanceof ae)g.target=g.target||f;else{var D=g;g=new ae(j,f),C(g,D)}if(D=!0,T)for(var F=T.length-1;0<=F;F--){var ie=g.g=T[F];D=si(ie,j,!0,g)&&D}if(ie=g.g=f,D=si(ie,j,!0,g)&&D,D=si(ie,j,!1,g)&&D,T)for(F=0;F<T.length;F++)ie=g.g=T[F],D=si(ie,j,!1,g)&&D}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var f=this.i,g;for(g in f.g){for(var T=f.g[g],j=0;j<T.length;j++)ye(T[j]);delete f.g[g],f.h--}}this.F=null},ut.prototype.K=function(f,g,T,j){return this.i.add(String(f),g,!1,T,j)},ut.prototype.L=function(f,g,T,j){return this.i.add(String(f),g,!0,T,j)};function si(f,g,T,j){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();for(var D=!0,F=0;F<g.length;++F){var ie=g[F];if(ie&&!ie.da&&ie.capture==T){var Ge=ie.listener,Jt=ie.ha||ie.src;ie.fa&&Y(f.i,ie),D=Ge.call(Jt,j)!==!1&&D}}return D&&!j.defaultPrevented}function Yl(f,g,T){if(typeof f=="function")T&&(f=d(f,T));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:s.setTimeout(f,g||0)}function qf(f){f.g=Yl(()=>{f.g=null,f.i&&(f.i=!1,qf(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class Ng extends X{constructor(g,T){super(),this.m=g,this.l=T,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:qf(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ho(f){X.call(this),this.h=f,this.g={}}m(Ho,X);var qi=[];function Hf(f){P(f.g,function(g,T){this.g.hasOwnProperty(T)&&rr(g)},f),f.g={}}Ho.prototype.N=function(){Ho.aa.N.call(this),Hf(this)},Ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ql=s.JSON.stringify,Rg=s.JSON.parse,jg=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Jl(){}Jl.prototype.h=null;function Kf(f){return f.h||(f.h=f.i())}function Gf(){}var Ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zl(){ae.call(this,"d")}m(Zl,ae);function V(){ae.call(this,"c")}m(V,ae);var le={},te=null;function ne(){return te=te||new ut}le.La="serverreachability";function re(f){ae.call(this,le.La,f)}m(re,ae);function se(f){const g=ne();Qt(g,new re(g))}le.STAT_EVENT="statevent";function xe(f,g){ae.call(this,le.STAT_EVENT,f),this.stat=g}m(xe,ae);function he(f){const g=ne();Qt(g,new xe(g,f))}le.Ma="timingevent";function ct(f,g){ae.call(this,le.Ma,f),this.size=g}m(ct,ae);function mt(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},g)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function Mg(f,g,T,j,D,F){f.info(function(){if(f.g)if(F)for(var ie="",Ge=F.split("&"),Jt=0;Jt<Ge.length;Jt++){var De=Ge[Jt].split("=");if(1<De.length){var ln=De[0];De=De[1];var un=ln.split("_");ie=2<=un.length&&un[1]=="type"?ie+(ln+"="+De+"&"):ie+(ln+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+j+") [attempt "+D+"]: "+g+`
`+T+`
`+ie})}function wr(f,g,T,j,D,F,ie){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+D+"]: "+g+`
`+T+`
`+F+" "+ie})}function Vr(f,g,T,j){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+Dg(f,T)+(j?" "+j:"")})}function Ya(f,g){f.info(function(){return"TIMEOUT: "+g})}Hi.prototype.info=function(){};function Dg(f,g){if(!f.g)return g;if(!g)return null;try{var T=JSON.parse(g);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var j=T[f];if(!(2>j.length)){var D=j[1];if(Array.isArray(D)&&!(1>D.length)){var F=D[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<D.length;ie++)D[ie]=""}}}}return Ql(T)}catch{return g}}var Qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Go={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$g;function Xf(){}m(Xf,Jl),Xf.prototype.g=function(){return new XMLHttpRequest},Xf.prototype.i=function(){return{}},$g=new Xf;function Ki(f,g,T,j){this.j=f,this.i=g,this.l=T,this.R=j||1,this.U=new Ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o1}function o1(){this.i=null,this.g="",this.h=!1}var a1={},Lg={};function Vg(f,g,T){f.L=1,f.v=Zf(li(g)),f.m=T,f.P=!0,s1(f,null)}function s1(f,g){f.F=Date.now(),Yf(f),f.A=li(f.v);var T=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),w1(T.i,"t",j),f.C=0,T=f.j.J,f.h=new o1,f.g=V1(f.j,T?g:null,!f.m),0<f.O&&(f.M=new Ng(d(f.Y,f,f.g),f.O)),g=f.U,T=f.g,j=f.ca;var D="readystatechange";Array.isArray(D)||(D&&(qi[0]=D.toString()),D=qi);for(var F=0;F<D.length;F++){var ie=et(T,D[F],j||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),se(),Mg(f.i,f.u,f.A,f.l,f.R,f.m)}Ki.prototype.ca=function(f){f=f.target;const g=this.M;g&&ui(f)==3?g.j():this.Y(f)},Ki.prototype.Y=function(f){try{if(f==this.g)e:{const un=ui(this.g);var g=this.g.Ba();const es=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||I1(this.g)))){this.J||un!=4||g==7||(g==8||0>=es?se(3):se(2)),Fg(this);var T=this.g.Z();this.X=T;t:if(l1(this)){var j=I1(this.g);f="";var D=j.length,F=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xo(this),eu(this);var ie="";break t}this.h.i=new s.TextDecoder}for(g=0;g<D;g++)this.h.h=!0,f+=this.h.i.decode(j[g],{stream:!(F&&g==D-1)});j.length=0,this.h.g+=f,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=T==200,wr(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Jt=this.g;if((Ge=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ge)){var De=Ge;break t}}De=null}if(T=De)Vr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ug(this,T);else{this.o=!1,this.s=3,he(12),Xo(this),eu(this);break e}}if(this.P){T=!0;let xr;for(;!this.J&&this.C<ie.length;)if(xr=i$(this,ie),xr==Lg){un==4&&(this.s=4,he(14),T=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(xr==a1){this.s=4,he(15),Vr(this.i,this.l,ie,"[Invalid Chunk]"),T=!1;break}else Vr(this.i,this.l,xr,null),Ug(this,xr);if(l1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||ie.length!=0||this.h.h||(this.s=1,he(16),T=!1),this.o=this.o&&T,!T)Vr(this.i,this.l,ie,"[Invalid Chunked Response]"),Xo(this),eu(this);else if(0<ie.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Kg(ln),ln.M=!0,he(11))}}else Vr(this.i,this.l,ie,null),Ug(this,ie);un==4&&Xo(this),this.o&&!this.J&&(un==4?M1(this.j,this):(this.o=!1,Yf(this)))}else w$(this.g),T==400&&0<ie.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Xo(this),eu(this)}}}catch{}finally{}};function l1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function i$(f,g){var T=f.C,j=g.indexOf(`
`,T);return j==-1?Lg:(T=Number(g.substring(T,j)),isNaN(T)?a1:(j+=1,j+T>g.length?Lg:(g=g.slice(j,j+T),f.C=j+T,g)))}Ki.prototype.cancel=function(){this.J=!0,Xo(this)};function Yf(f){f.S=Date.now()+f.I,u1(f,f.I)}function u1(f,g){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mt(d(f.ba,f),g)}function Fg(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ki.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ya(this.i,this.A),this.L!=2&&(se(),he(17)),Xo(this),this.s=2,eu(this)):u1(this,this.S-f)};function eu(f){f.j.G==0||f.J||M1(f.j,f)}function Xo(f){Fg(f);var g=f.M;g&&typeof g.ma=="function"&&g.ma(),f.M=null,Hf(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function Ug(f,g){try{var T=f.j;if(T.G!=0&&(T.g==f||Bg(T.h,f))){if(!f.K&&Bg(T.h,f)&&T.G==3){try{var j=T.Da.g.parse(g)}catch{j=null}if(Array.isArray(j)&&j.length==3){var D=j;if(D[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)oh(T),rh(T);else break e;Hg(T),he(18)}}else T.za=D[1],0<T.za-T.T&&37500>D[2]&&T.F&&T.v==0&&!T.C&&(T.C=mt(d(T.Za,T),6e3));if(1>=h1(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Qo(T,11)}else if((f.K||T.g==f)&&oh(T),!v(g))for(D=T.Da.g.parse(g),g=0;g<D.length;g++){let De=D[g];if(T.T=De[0],De=De[1],T.G==2)if(De[0]=="c"){T.K=De[1],T.ia=De[2];const ln=De[3];ln!=null&&(T.la=ln,T.j.info("VER="+T.la));const un=De[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const es=De[5];es!=null&&typeof es=="number"&&0<es&&(j=1.5*es,T.L=j,T.j.info("backChannelRequestTimeoutMs_="+j)),j=T;const xr=f.g;if(xr){const sh=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sh){var F=j.h;F.g||sh.indexOf("spdy")==-1&&sh.indexOf("quic")==-1&&sh.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(zg(F,F.h),F.h=null))}if(j.D){const Gg=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gg&&(j.ya=Gg,tt(j.I,j.D,Gg))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),j=T;var ie=f;if(j.qa=L1(j,j.J?j.ia:null,j.W),ie.K){d1(j.h,ie);var Ge=ie,Jt=j.L;Jt&&(Ge.I=Jt),Ge.B&&(Fg(Ge),Yf(Ge)),j.g=ie}else R1(j);0<T.i.length&&ih(T)}else De[0]!="stop"&&De[0]!="close"||Qo(T,7);else T.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Qo(T,7):qg(T):De[0]!="noop"&&T.l&&T.l.ta(De),T.v=0)}}se(4)}catch{}}var o$=class{constructor(f,g){this.g=f,this.map=g}};function c1(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function f1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function h1(f){return f.h?1:f.g?f.g.size:0}function Bg(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function zg(f,g){f.g?f.g.add(g):f.h=g}function d1(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}c1.prototype.cancel=function(){if(this.i=p1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function p1(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const T of f.g.values())g=g.concat(T.D);return g}return y(f.i)}function a$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var g=[],T=f.length,j=0;j<T;j++)g.push(f[j]);return g}g=[],T=0;for(j in f)g[T++]=f[j];return g}function s$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var g=[];f=f.length;for(var T=0;T<f;T++)g.push(T);return g}g=[],T=0;for(const j in f)g[T++]=j;return g}}}function m1(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,g,void 0);else for(var T=s$(f),j=a$(f),D=j.length,F=0;F<D;F++)g.call(void 0,j[F],T&&T[F],f)}var g1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l$(f,g){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var j=f[T].indexOf("="),D=null;if(0<=j){var F=f[T].substring(0,j);D=f[T].substring(j+1)}else F=f[T];g(F,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Yo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Yo){this.h=f.h,Qf(this,f.j),this.o=f.o,this.g=f.g,Jf(this,f.s),this.l=f.l;var g=f.i,T=new ru;T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),y1(this,T),this.m=f.m}else f&&(g=String(f).match(g1))?(this.h=!1,Qf(this,g[1]||"",!0),this.o=tu(g[2]||""),this.g=tu(g[3]||"",!0),Jf(this,g[4]),this.l=tu(g[5]||"",!0),y1(this,g[6]||"",!0),this.m=tu(g[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}Yo.prototype.toString=function(){var f=[],g=this.j;g&&f.push(nu(g,v1,!0),":");var T=this.g;return(T||g=="file")&&(f.push("//"),(g=this.o)&&f.push(nu(g,v1,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(nu(T,T.charAt(0)=="/"?f$:c$,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",nu(T,d$)),f.join("")};function li(f){return new Yo(f)}function Qf(f,g,T){f.j=T?tu(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function Jf(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function y1(f,g,T){g instanceof ru?(f.i=g,p$(f.i,f.h)):(T||(g=nu(g,h$)),f.i=new ru(g,f.h))}function tt(f,g,T){f.i.set(g,T)}function Zf(f){return tt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function tu(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function nu(f,g,T){return typeof f=="string"?(f=encodeURI(f).replace(g,u$),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function u$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var v1=/[#\/\?@]/g,c$=/[#\?:]/g,f$=/[#\?]/g,h$=/[#\?@]/g,d$=/#/g;function ru(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function Gi(f){f.g||(f.g=new Map,f.h=0,f.i&&l$(f.i,function(g,T){f.add(decodeURIComponent(g.replace(/\+/g," ")),T)}))}t=ru.prototype,t.add=function(f,g){Gi(this),this.i=null,f=Ja(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(g),this.h+=1,this};function _1(f,g){Gi(f),g=Ja(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function b1(f,g){return Gi(f),g=Ja(f,g),f.g.has(g)}t.forEach=function(f,g){Gi(this),this.g.forEach(function(T,j){T.forEach(function(D){f.call(g,D,j,this)},this)},this)},t.na=function(){Gi(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),T=[];for(let j=0;j<g.length;j++){const D=f[j];for(let F=0;F<D.length;F++)T.push(g[j])}return T},t.V=function(f){Gi(this);let g=[];if(typeof f=="string")b1(this,f)&&(g=g.concat(this.g.get(Ja(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)g=g.concat(f[T])}return g},t.set=function(f,g){return Gi(this),this.i=null,f=Ja(this,f),b1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=this.V(f),0<f.length?String(f[0]):g):g};function w1(f,g,T){_1(f,g),0<T.length&&(f.i=null,f.g.set(Ja(f,g),y(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var T=0;T<g.length;T++){var j=g[T];const F=encodeURIComponent(String(j)),ie=this.V(j);for(j=0;j<ie.length;j++){var D=F;ie[j]!==""&&(D+="="+encodeURIComponent(String(ie[j]))),f.push(D)}}return this.i=f.join("&")};function Ja(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function p$(f,g){g&&!f.j&&(Gi(f),f.i=null,f.g.forEach(function(T,j){var D=j.toLowerCase();j!=D&&(_1(this,j),w1(this,D,T))},f)),f.j=g}function m$(f,g){const T=new Hi;if(s.Image){const j=new Image;j.onload=p(Xi,T,"TestLoadImage: loaded",!0,g,j),j.onerror=p(Xi,T,"TestLoadImage: error",!1,g,j),j.onabort=p(Xi,T,"TestLoadImage: abort",!1,g,j),j.ontimeout=p(Xi,T,"TestLoadImage: timeout",!1,g,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else g(!1)}function g$(f,g){const T=new Hi,j=new AbortController,D=setTimeout(()=>{j.abort(),Xi(T,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:j.signal}).then(F=>{clearTimeout(D),F.ok?Xi(T,"TestPingServer: ok",!0,g):Xi(T,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(D),Xi(T,"TestPingServer: error",!1,g)})}function Xi(f,g,T,j,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),j(T)}catch{}}function y$(){this.g=new jg}function v$(f,g,T){const j=T||"";try{m1(f,function(D,F){let ie=D;u(D)&&(ie=Ql(D)),g.push(j+F+"="+encodeURIComponent(ie))})}catch(D){throw g.push(j+"type="+encodeURIComponent("_badmap")),D}}function eh(f){this.l=f.Ub||null,this.j=f.eb||!1}m(eh,Jl),eh.prototype.g=function(){return new th(this.l,this.j)},eh.prototype.i=function(f){return function(){return f}}({});function th(f,g){ut.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(th,ut),t=th.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,ou(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||s).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;x1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function x1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?iu(this):ou(this),this.readyState==3&&x1(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,iu(this))},t.Qa=function(f){this.g&&(this.response=f,iu(this))},t.ga=function(){this.g&&iu(this)};function iu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ou(f)}t.setRequestHeader=function(f,g){this.u.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var T=g.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=g.next();return f.join(`\r
`)};function ou(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function E1(f){let g="";return P(f,function(T,j){g+=j,g+=":",g+=T,g+=`\r
`}),g}function Wg(f,g,T){e:{for(j in T){var j=!1;break e}j=!0}j||(T=E1(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):tt(f,g,T))}function wt(f){ut.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(wt,ut);var _$=/^https?$/i,b$=["POST","PUT"];t=wt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,g,T,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$g.g(),this.v=this.o?Kf(this.o):Kf($g),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(F){A1(this,F);return}if(f=T||"",T=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var D in j)T.set(D,j[D]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const F of j.keys())T.set(F,j.get(F));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(T.keys()).find(F=>F.toLowerCase()=="content-type"),D=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(b$,g,void 0))||j||D||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of T)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{P1(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){A1(this,F)}};function A1(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,S1(f),nh(f)}function S1(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Qt(this,"complete"),Qt(this,"abort"),nh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?T1(this):this.bb())},t.bb=function(){T1(this)};function T1(f){if(f.h&&typeof a<"u"&&(!f.v[1]||ui(f)!=4||f.Z()!=2)){if(f.u&&ui(f)==4)Yl(f.Ea,0,f);else if(Qt(f,"readystatechange"),ui(f)==4){f.h=!1;try{const ie=f.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var T;if(!(T=g)){var j;if(j=ie===0){var D=String(f.D).match(g1)[1]||null;!D&&s.self&&s.self.location&&(D=s.self.location.protocol.slice(0,-1)),j=!_$.test(D?D.toLowerCase():"")}T=j}if(T)Qt(f,"complete"),Qt(f,"success");else{f.m=6;try{var F=2<ui(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",S1(f)}}finally{nh(f)}}}}function nh(f,g){if(f.g){P1(f);const T=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||Qt(f,"ready");try{T.onreadystatechange=j}catch{}}}function P1(f){f.I&&(s.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ui(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),Rg(g)}};function I1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function w$(f){const g={};f=(f.g&&2<=ui(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(v(f[j]))continue;var T=k(f[j]);const D=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const F=g[D]||[];g[D]=F,F.push(T)}E(g,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function au(f,g,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||g}function O1(f){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=au("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=au("baseRetryDelayMs",5e3,f),this.cb=au("retryDelaySeedMs",1e4,f),this.Wa=au("forwardChannelMaxRetries",2,f),this.wa=au("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new c1(f&&f.concurrentRequestLimit),this.Da=new y$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=O1.prototype,t.la=8,t.G=1,t.connect=function(f,g,T,j){he(0),this.W=f,this.H=g||{},T&&j!==void 0&&(this.H.OSID=T,this.H.OAID=j),this.F=this.X,this.I=L1(this,null,this.W),ih(this)};function qg(f){if(C1(f),f.G==3){var g=f.U++,T=li(f.I);if(tt(T,"SID",f.K),tt(T,"RID",g),tt(T,"TYPE","terminate"),su(f,T),g=new Ki(f,f.j,g),g.L=2,g.v=Zf(li(T)),T=!1,s.navigator&&s.navigator.sendBeacon)try{T=s.navigator.sendBeacon(g.v.toString(),"")}catch{}!T&&s.Image&&(new Image().src=g.v,T=!0),T||(g.g=V1(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Yf(g)}$1(f)}function rh(f){f.g&&(Kg(f),f.g.cancel(),f.g=null)}function C1(f){rh(f),f.u&&(s.clearTimeout(f.u),f.u=null),oh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function ih(f){if(!f1(f.h)&&!f.s){f.s=!0;var g=f.Ga;K||q(),$||(K(),$=!0),z.add(g,f),f.B=0}}function x$(f,g){return h1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=g.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mt(d(f.Ga,f,g),D1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const D=new Ki(this,this.j,f);let F=this.o;if(this.S&&(F?(F=A(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(D.H=F,F=null),this.P)e:{for(var g=0,T=0;T<this.i.length;T++){t:{var j=this.i[T];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(g+=j,4096<g){g=T;break e}if(g===4096||T===this.i.length-1){g=T+1;break e}}g=1e3}else g=1e3;g=N1(this,D,g),T=li(this.I),tt(T,"RID",f),tt(T,"CVER",22),this.D&&tt(T,"X-HTTP-Session-Id",this.D),su(this,T),F&&(this.O?g="headers="+encodeURIComponent(String(E1(F)))+"&"+g:this.m&&Wg(T,this.m,F)),zg(this.h,D),this.Ua&&tt(T,"TYPE","init"),this.P?(tt(T,"$req",g),tt(T,"SID","null"),D.T=!0,Vg(D,T,null)):Vg(D,T,g),this.G=2}}else this.G==3&&(f?k1(this,f):this.i.length==0||f1(this.h)||k1(this))};function k1(f,g){var T;g?T=g.l:T=f.U++;const j=li(f.I);tt(j,"SID",f.K),tt(j,"RID",T),tt(j,"AID",f.T),su(f,j),f.m&&f.o&&Wg(j,f.m,f.o),T=new Ki(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),g&&(f.i=g.D.concat(f.i)),g=N1(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zg(f.h,T),Vg(T,j,g)}function su(f,g){f.H&&P(f.H,function(T,j){tt(g,j,T)}),f.l&&m1({},function(T,j){tt(g,j,T)})}function N1(f,g,T){T=Math.min(f.i.length,T);var j=f.l?d(f.l.Na,f.l,f):null;e:{var D=f.i;let F=-1;for(;;){const ie=["count="+T];F==-1?0<T?(F=D[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Ge=!0;for(let Jt=0;Jt<T;Jt++){let De=D[Jt].g;const ln=D[Jt].map;if(De-=F,0>De)F=Math.max(0,D[Jt].g-100),Ge=!1;else try{v$(ln,ie,"req"+De+"_")}catch{j&&j(ln)}}if(Ge){j=ie.join("&");break e}}}return f=f.i.splice(0,T),g.D=f,j}function R1(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;K||q(),$||(K(),$=!0),z.add(g,f),f.v=0}}function Hg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mt(d(f.Fa,f),D1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,j1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mt(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),rh(this),j1(this))};function Kg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function j1(f){f.g=new Ki(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var g=li(f.qa);tt(g,"RID","rpc"),tt(g,"SID",f.K),tt(g,"AID",f.T),tt(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&tt(g,"TO",f.ja),tt(g,"TYPE","xmlhttp"),su(f,g),f.m&&f.o&&Wg(g,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=Zf(li(g)),T.m=null,T.P=!0,s1(T,f)}t.Za=function(){this.C!=null&&(this.C=null,rh(this),Hg(this),he(19))};function oh(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function M1(f,g){var T=null;if(f.g==g){oh(f),Kg(f),f.g=null;var j=2}else if(Bg(f.h,g))T=g.D,d1(f.h,g),j=1;else return;if(f.G!=0){if(g.o)if(j==1){T=g.m?g.m.length:0,g=Date.now()-g.F;var D=f.B;j=ne(),Qt(j,new ct(j,T)),ih(f)}else R1(f);else if(D=g.s,D==3||D==0&&0<g.X||!(j==1&&x$(f,g)||j==2&&Hg(f)))switch(T&&0<T.length&&(g=f.h,g.i=g.i.concat(T)),D){case 1:Qo(f,5);break;case 4:Qo(f,10);break;case 3:Qo(f,6);break;default:Qo(f,2)}}}function D1(f,g){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*g}function Qo(f,g){if(f.j.info("Error code "+g),g==2){var T=d(f.fb,f),j=f.Xa;const D=!j;j=new Yo(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Qf(j,"https"),Zf(j),D?m$(j.toString(),T):g$(j.toString(),T)}else he(2);f.G=0,f.l&&f.l.sa(g),$1(f),C1(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function $1(f){if(f.G=0,f.ka=[],f.l){const g=p1(f.h);(g.length!=0||f.i.length!=0)&&(b(f.ka,g),b(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function L1(f,g,T){var j=T instanceof Yo?li(T):new Yo(T);if(j.g!="")g&&(j.g=g+"."+j.g),Jf(j,j.s);else{var D=s.location;j=D.protocol,g=g?g+"."+D.hostname:D.hostname,D=+D.port;var F=new Yo(null);j&&Qf(F,j),g&&(F.g=g),D&&Jf(F,D),T&&(F.l=T),j=F}return T=f.D,g=f.ya,T&&g&&tt(j,T,g),tt(j,"VER",f.la),su(f,j),j}function V1(f,g,T){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Ca&&!f.pa?new wt(new eh({eb:T})):new wt(f.pa),g.Ha(f.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function F1(){}t=F1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(f,g){return new Fn(f,g)};function Fn(f,g){ut.call(this),this.g=new O1(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!v(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!v(g)&&(this.g.D=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new Za(this)}m(Fn,ut),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){qg(this.g)},Fn.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Ql(f),f=T);g.i.push(new o$(g.Ya++,f)),g.G==3&&ih(g)},Fn.prototype.N=function(){this.g.l=null,delete this.j,qg(this.g),delete this.g,Fn.aa.N.call(this)};function U1(f){Zl.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const T in g){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}m(U1,Zl);function B1(){V.call(this),this.status=1}m(B1,V);function Za(f){this.g=f}m(Za,F1),Za.prototype.ua=function(){Qt(this.g,"a")},Za.prototype.ta=function(f){Qt(this.g,new U1(f))},Za.prototype.sa=function(f){Qt(this.g,new B1)},Za.prototype.ra=function(){Qt(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,NN=function(){return new ah},kN=function(){return ne()},CN=le,f0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qa.NO_ERROR=0,Qa.TIMEOUT=8,Qa.HTTP_ERROR=6,ud=Qa,Go.COMPLETE="complete",ON=Go,Gf.EventType=Ko,Ko.OPEN="a",Ko.CLOSE="b",Ko.ERROR="c",Ko.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ru=Gf,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,IN=wt}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const TA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Zb("@firebase/firestore");function gu(){return Oa.logLevel}function de(t,...e){if(Oa.logLevel<=Ne.DEBUG){const n=e.map(cw);Oa.debug(`Firestore (${jl}): ${t}`,...n)}}function ji(t,...e){if(Oa.logLevel<=Ne.ERROR){const n=e.map(cw);Oa.error(`Firestore (${jl}): ${t}`,...n)}}function Gs(t,...e){if(Oa.logLevel<=Ne.WARN){const n=e.map(cw);Oa.warn(`Firestore (${jl}): ${t}`,...n)}}function cw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: `+t;throw ji(e),new Error(e)}function Be(t,e){t||we()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class IU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OU{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new So;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new So,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new So)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new RN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new mn(e)}}class CU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new CU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const r=o=>{o.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,de("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new NU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Bt(0,0))}static max(){return new Ee(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Sc{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const MU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Sc{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return MU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ce(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ce(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(ot.fromString(e))}static fromName(e){return new pe(ot.fromString(e).popFirst(5))}static empty(){return new pe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new ot(e.slice()))}}function DU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ee.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new Ro(i,pe.empty(),e)}function $U(t){return new Ro(t.readTime,t.key,-1)}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(Ee.min(),pe.empty(),-1)}static max(){return new Ro(Ee.max(),pe.empty(),-1)}}function LU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==VU)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function UU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fw.oe=-1;function Am(t){return t==null}function Kd(t){return t===0&&1/t==-1/0}function BU(t){return typeof t=="number"&&Number.isInteger(t)&&!Kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ih(this.root,e,this.comparator,!0)}}class Ih{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,o){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IA(this.data.getIterator())}getIteratorFrom(e){return new IA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class IA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new on(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DN("Invalid base64 string: "+o):o}}(e);return new sn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const zU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(Be(!!t),typeof t=="string"){let e=0;const n=zU.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ca(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dw(t){const e=t.mapValue.fields.__previous_value__;return hw(e)?dw(e):e}function Tc(t){const e=jo(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Pc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{}};function ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hw(t)?4:HU(t)?9007199254740991:qU(t)?10:11:we()}function ti(t,e){if(t===e)return!0;const n=ka(t);if(n!==ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=jo(i.timestampValue),s=jo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ca(i.bytesValue).isEqual(Ca(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tt(i.geoPointValue.latitude)===Tt(o.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tt(i.integerValue)===Tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Tt(i.doubleValue),s=Tt(o.doubleValue);return a===s?Kd(a)===Kd(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(PA(a)!==PA(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!ti(a[l],s[l])))return!1;return!0}(t,e);default:return we()}}function Ic(t,e){return(t.values||[]).find(n=>ti(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=ka(t),r=ka(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Tt(o.integerValue||o.doubleValue),l=Tt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(Tc(t),Tc(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Ca(o),l=Ca(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=$e(s[u],l[u]);if(c!==0)return c}return $e(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=$e(Tt(o.latitude),Tt(a.latitude));return s!==0?s:$e(Tt(o.longitude),Tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CA(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const h=o.fields||{},d=a.fields||{},p=(s=h.value)===null||s===void 0?void 0:s.arrayValue,m=(l=d.value)===null||l===void 0?void 0:l.arrayValue,y=$e(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:CA(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Oh.mapValue&&a===Oh.mapValue)return 0;if(o===Oh.mapValue)return 1;if(a===Oh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=$e(l[h],c[h]);if(d!==0)return d;const p=Ys(s[l[h]],u[c[h]]);if(p!==0)return p}return $e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw we()}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=jo(t),r=jo(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function CA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ys(n[i],r[i]);if(o)return o}return $e(n.length,r.length)}function Qs(t){return h0(t)}function h0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=h0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${h0(n.fields[a])}`;return i+"}"}(t.mapValue):we()}function kA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function pw(t){return!!t&&"arrayValue"in t}function NA(t){return!!t&&"nullValue"in t}function RA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cd(t){return!!t&&"mapValue"in t}function qU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Gu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(Gu(this.value))}}function $N(t){const e=[];return Ba(t.fields,(n,r)=>{const i=new nn([n]);if(cd(r)){const o=$N(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new yn(e,0,Ee.min(),Ee.min(),Ee.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new yn(e,1,n,Ee.min(),r,i,0)}static newNoDocument(e,n){return new yn(e,2,n,Ee.min(),Ee.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Ee.min(),Ee.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.position=e,this.inclusive=n}}function jA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=Ys(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function MA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ti(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n="asc"){this.field=e,this.dir=n}}function KU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{}class Nt extends LN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XU(e,n,r):n==="array-contains"?new JU(e,r):n==="in"?new ZU(e,r):n==="not-in"?new eB(e,r):n==="array-contains-any"?new tB(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YU(e,r):new QU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&ka(this.value)===ka(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends LN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mr(e,n)}matches(e){return VN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VN(t){return t.op==="and"}function FN(t){return GU(t)&&VN(t)}function GU(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function p0(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(FN(t))return t.filters.map(e=>p0(e)).join(",");{const e=t.filters.map(n=>p0(n)).join(",");return`${t.op}(${e})`}}function UN(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&ti(r.value,i.value)}(t,e):t instanceof Mr?function(r,i){return i instanceof Mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&UN(a,i.filters[s]),!0):!1}(t,e):void we()}function BN(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(BN).join(" ,")+"}"}(t):"Filter"}class XU extends Nt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class YU extends Nt{constructor(e,n){super(e,"in",n),this.keys=zN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QU extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=zN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class JU extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pw(n)&&Ic(n.arrayValue,this.value)}}class ZU extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}}class eB extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ic(this.value.arrayValue,n)}}class tB extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function DA(t,e=null,n=[],r=[],i=null,o=null,a=null){return new nB(t,e,n,r,i,o,a)}function mw(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>p0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qs(r)).join(",")),e.ue=n}return e.ue}function gw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MA(t.startAt,e.startAt)&&MA(t.endAt,e.endAt)}function m0(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rB(t,e,n,r,i,o,a,s){return new Tf(t,e,n,r,i,o,a,s)}function yw(t){return new Tf(t)}function $A(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WN(t){return t.collectionGroup!==null}function Xu(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new on(nn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xd(o,r))}),n.has(nn.keyField().canonicalString())||e.ce.push(new Xd(nn.keyField(),r))}return e.ce}function Qr(t){const e=Se(t);return e.le||(e.le=iB(e,Xu(t))),e.le}function iB(t,e){if(t.limitType==="F")return DA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Xd(i.field,o)});const n=t.endAt?new Gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gd(t.startAt.position,t.startAt.inclusive):null;return DA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function g0(t,e){const n=t.filters.concat([e]);return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y0(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sm(t,e){return gw(Qr(t),Qr(e))&&t.limitType===e.limitType}function qN(t){return`${mw(Qr(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BN(i)).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qs(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Tm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Xu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=jA(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Xu(r),i)||r.endAt&&!function(a,s,l){const u=jA(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Xu(r),i))}(t,e)}function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HN(t){return(e,n)=>{let r=!1;for(const i of Xu(t)){const o=aB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function aB(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ys(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return MN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new bt(pe.comparator);function Mi(){return sB}const KN=new bt(pe.comparator);function ju(...t){let e=KN;for(const n of t)e=e.insert(n.key,n);return e}function GN(t){let e=KN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fa(){return Yu()}function XN(){return Yu()}function Yu(){return new Ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const lB=new bt(pe.comparator),uB=new on(pe.comparator);function Ce(...t){let e=uB;for(const n of t)e=e.add(n);return e}const cB=new on($e);function fB(){return cB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function YN(t){return{integerValue:""+t}}function hB(t,e){return BU(e)?YN(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this._=void 0}}function dB(t,e,n){return t instanceof Oc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hw(o)&&(o=dw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Cc?JN(t,e):t instanceof kc?ZN(t,e):function(i,o){const a=QN(i,o),s=LA(a)+LA(i.Pe);return d0(a)&&d0(i.Pe)?YN(s):vw(i.serializer,s)}(t,e)}function pB(t,e,n){return t instanceof Cc?JN(t,e):t instanceof kc?ZN(t,e):n}function QN(t,e){return t instanceof Yd?function(r){return d0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Oc extends Pm{}class Cc extends Pm{constructor(e){super(),this.elements=e}}function JN(t,e){const n=eR(e);for(const r of t.elements)n.some(i=>ti(i,r))||n.push(r);return{arrayValue:{values:n}}}class kc extends Pm{constructor(e){super(),this.elements=e}}function ZN(t,e){let n=eR(e);for(const r of t.elements)n=n.filter(i=>!ti(i,r));return{arrayValue:{values:n}}}class Yd extends Pm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function LA(t){return Tt(t.integerValue||t.doubleValue)}function eR(t){return pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n){this.field=e,this.transform=n}}function gB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cc&&i instanceof Cc||r instanceof kc&&i instanceof kc?Xs(r.elements,i.elements,ti):r instanceof Yd&&i instanceof Yd?ti(r.Pe,i.Pe):r instanceof Oc&&i instanceof Oc}(t.transform,e.transform)}class yB{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Im{}function tR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Om(t.key,In.none()):new Pf(t.key,t.data,In.none());{const n=t.data,r=Rn.empty();let i=new on(nn.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Fo(t.key,r,new Gn(i.toArray()),In.none())}}function vB(t,e,n){t instanceof Pf?function(i,o,a){const s=i.value.clone(),l=FA(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,a){if(!fd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=FA(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(nR(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qu(t,e,n,r){return t instanceof Pf?function(o,a,s,l){if(!fd(o.precondition,a))return s;const u=o.value.clone(),c=UA(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,a,s,l){if(!fd(o.precondition,a))return s;const u=UA(o.fieldTransforms,l,a),c=a.data;return c.setAll(nR(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return fd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function _B(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=QN(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function VA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(o,a)=>gB(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pf extends Im{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends Im{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function FA(t,e,n){const r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,pB(a,s,n[i]))}return r}function UA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,dB(o,a,e))}return r}class Om extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bB extends Im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XN();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=tR(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>VA(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>VA(n,r))}}class _w{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=function(){return lB}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new _w(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Re;function AB(t){switch(t){default:return we();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function rR(t){if(t===void 0)return ji("GRPC error has no .code"),G.UNKNOWN;switch(t){case Ot.OK:return G.OK;case Ot.CANCELLED:return G.CANCELLED;case Ot.UNKNOWN:return G.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return G.INTERNAL;case Ot.UNAVAILABLE:return G.UNAVAILABLE;case Ot.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Ot.NOT_FOUND:return G.NOT_FOUND;case Ot.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Ot.ABORTED:return G.ABORTED;case Ot.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Ot.DATA_LOSS:return G.DATA_LOSS;default:return we()}}(Re=Ot||(Ot={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new va([4294967295,4294967295],0);function BA(t){const e=SB().encode(t),n=new PN;return n.update(e),new Uint8Array(n.digest())}function zA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new va([n,r],0),new va([i,o],0)]}class bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(r<0)throw new Mu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=va.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(TB)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=BA(e),[r,i]=zA(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new bw(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=BA(e),[r,i]=zA(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,If.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cm(Ee.min(),i,new bt($e),Mi(),Ce())}}class If{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new If(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class iR{constructor(e,n){this.targetId=e,this.me=n}}class oR{constructor(e,n,r=sn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WA{constructor(){this.fe=0,this.ge=HA(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),r=Ce();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new If(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=HA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class PB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=qA(),this.Qe=new bt($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(m0(o))if(r===0){const a=new pe(o.path);this.Ue(n,a,yn.newNoDocument(a,Ee.min()))}else Be(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Ca(r).toUint8Array()}catch(l){if(l instanceof DN)return Gs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new bw(a,i,o)}catch(l){return Gs(l instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&m0(s.target)){const l=new pe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,yn.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Ce();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Cm(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=qA(),this.Qe=new bt($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new WA,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new on($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new WA),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qA(){return new bt(pe.comparator)}function HA(){return new bt(pe.comparator)}const IB={asc:"ASCENDING",desc:"DESCENDING"},OB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CB={and:"AND",or:"OR"};class kB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v0(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NB(t,e){return Qd(t,e.toTimestamp())}function Jr(t){return Be(!!t),Ee.fromTimestamp(function(n){const r=jo(n);return new Bt(r.seconds,r.nanos)}(t))}function ww(t,e){return _0(t,e).canonicalString()}function _0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sR(t){const e=ot.fromString(t);return Be(hR(e)),e}function b0(t,e){return ww(t.databaseId,e.path)}function Iy(t,e){const n=sR(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(uR(n))}function lR(t,e){return ww(t.databaseId,e)}function RB(t){const e=sR(t);return e.length===4?ot.emptyPath():uR(e)}function w0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uR(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KA(t,e,n){return{name:b0(t,e),fields:n.value.mapValue.fields}}function jB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Be(c===void 0||typeof c=="string"),sn.fromBase64String(c||"")):(Be(c===void 0||c instanceof Buffer||c instanceof Uint8Array),sn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?G.UNKNOWN:rR(u.code);return new ce(c,u.message||"")}(a);n=new oR(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Iy(t,r.document.name),o=Jr(r.document.updateTime),a=r.document.createTime?Jr(r.document.createTime):Ee.min(),s=new Rn({mapValue:{fields:r.document.fields}}),l=yn.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new hd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Iy(t,r.document),o=r.readTime?Jr(r.readTime):Ee.min(),a=yn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new hd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Iy(t,r.document),o=r.removedTargetIds||[];n=new hd([],o,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new EB(i,o),s=r.targetId;n=new iR(s,a)}}return n}function MB(t,e){let n;if(e instanceof Pf)n={update:KA(t,e.key,e.value)};else if(e instanceof Om)n={delete:b0(t,e.key)};else if(e instanceof Fo)n={update:KA(t,e.key,e.data),updateMask:WB(e.fieldMask)};else{if(!(e instanceof bB))return we();n={verify:b0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Oc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof kc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Yd)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(t,e.precondition)),n}function DB(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Jr(i.updateTime):Jr(o);return a.isEqual(Ee.min())&&(a=Jr(o)),new yB(a,i.transformResults||[])}(n,e))):[]}function $B(t,e){return{documents:[lR(t,e.path)]}}function LB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lR(t,i);const o=function(u){if(u.length!==0)return fR(Mr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:ss(d.field),direction:UB(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=v0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function VB(t){let e=RB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=cR(h);return d instanceof Mr&&FN(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(m){return new Xd(ls(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,Am(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Gd(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new Gd(p,d)}(n.endAt)),rB(e,i,a,o,s,"F",l,u)}function FB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ls(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ls(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ls(n.unaryFilter.field);return Nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ls(n.unaryFilter.field);return Nt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(r=>cR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function UB(t){return IB[t]}function BB(t){return OB[t]}function zB(t){return CB[t]}function ss(t){return{fieldPath:t.canonicalString()}}function ls(t){return nn.fromServerFormat(t.fieldPath)}function fR(t){return t instanceof Nt?function(n){if(n.op==="=="){if(RA(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NAN"}};if(NA(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RA(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NAN"}};if(NA(n.value))return{unaryFilter:{field:ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(n.field),op:BB(n.op),value:n.value}}}(t):t instanceof Mr?function(n){const r=n.getFilters().map(i=>fR(i));return r.length===1?r[0]:{compositeFilter:{op:zB(n.op),filters:r}}}(t):we()}function WB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,o=Ee.min(),a=Ee.min(),s=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.ct=e}}function HB(t){const e=VB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.un=new GB}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ro.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class GB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Js(0)}static kn(){return new Js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.changes=new Ml(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qu(r.mutation,i,Gn.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=ju();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Mi();const a=Yu(),s=function(){return Yu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Qu(c.mutation,u,c.mutation.getFieldMask(),Bt.now())):a.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var h;return s.set(u,new YB(c,(h=a.get(u))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Yu();let i=new bt((a,s)=>a-s),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Gn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const h=(i.get(s.batchId)||Ce()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,h=XN();c.forEach(d=>{if(!o.has(d)){const p=tR(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(fa());let s=-1,l=o;return a.next(u=>Q.forEach(u,(c,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(c)?Q.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:s,changes:GN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=ju();return this.indexManager.getCollectionParents(e,o).next(s=>Q.forEach(s,l=>{const u=function(h,d){return new Tf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,yn.newInvalidDocument(c)))});let s=ju();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Qu(c.mutation,u,Gn.empty(),Bt.now()),Tm(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:HB(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this.overlays=new bt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=fa(),o=n.length+1,a=new pe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new bt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=fa(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=fa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Q.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xB(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ce(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Tr=new on(Wt.Er),this.dr=new on(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new ot([])),r=new Wt(n,e),i=new Wt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new ot([])),r=new Wt(n,e),i=new Wt(n,e+1);let o=Ce();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||$e(e.wr,n.wr)}static Ar(e,n){return $e(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new on(Wt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new wB(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Wt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),i=new Wt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on($e);return n.forEach(i=>{const o=new Wt(i,0),a=new Wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pe.isDocumentKey(o)||(o=o.child(""));const a=new Wt(new pe(o),0);let s=new on($e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Q.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new Wt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Mr=e,this.docs=function(){return new bt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():yn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const a=n.path,s=new pe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||LU($U(c),r)<=0||(i.has(c.key)||Tm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r6(this)}getSize(e){return Q.resolve(this.size)}}class r6 extends XB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.persistence=e,this.Nr=new Ml(n=>mw(n),gw),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xw,this.targetCount=0,this.kr=Js.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fw(0),this.Kr=!1,this.Kr=!0,this.$r=new e6,this.referenceDelegate=e(this),this.Ur=new i6(this),this.indexManager=new KB,this.remoteDocumentCache=function(i){return new n6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qB(n),this.Gr=new JB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const i=new a6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class a6 extends FU{constructor(e){super(),this.currentSequenceNumber=e}}class Ew{constructor(e){this.persistence=e,this.Jr=new xw,this.Yr=null}static Zr(e){return new Ew(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Aw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uV()?8:UU(bn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new s6;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gu()<=Ne.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",as(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(gu()<=Ne.DEBUG&&de("QueryEngine","Query:",as(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gu()<=Ne.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",as(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):Q.resolve())}Yi(e,n){if($A(n))return Q.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y0(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ce(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,y0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return $A(n)||i.isEqual(Ee.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Q.resolve(null):(gu()<=Ne.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(n)),this.rs(e,a,n,DU(i,-1)).next(s=>s))})}ts(e,n){let r=new on(HN(e));return n.forEach((i,o)=>{Tm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return gu()<=Ne.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",as(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ro.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new bt($e),this._s=new Ml(o=>mw(o),gw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function c6(t,e,n,r){return new u6(t,e,n,r)}async function dR(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ce();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function f6(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const h=u.batch,d=h.keys();let p=Q.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const b=u.docVersions.get(m);Be(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ce();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pR(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h6(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(sn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=Mi(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(d6(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ee.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return Q.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function d6(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Mi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Ee.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):de("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function p6(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m6(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new fo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function x0(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Sf(a))throw a;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function GA(t,e,n){const r=Se(t);let i=Ee.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=Se(l),d=h._s.get(c);return d!==void 0?Q.resolve(h.os.get(d)):h.Ur.getTargetData(u,c)}(r,a,Qr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Ee.min(),n?o:Ce())).next(s=>(g6(r,oB(e),s),{documents:s,Ts:o})))}function g6(t,e,n){let r=t.us.get(e)||Ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class XA{constructor(){this.activeTargetIds=fB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.so=new XA,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new XA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function Oy(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class w6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Oy(),l=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(de("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Gs("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=_6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Oy();return new Promise((a,s)=>{const l=new IN;l.setWithCredentials(!0),l.listenOnce(ON.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ud.NO_ERROR:const c=l.getResponseJson();de(hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case ud.TIMEOUT:de(hn,`RPC '${e}' ${o} timed out`),s(new ce(G.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const h=l.getStatus();if(de(hn,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const m=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(_)>=0?_:G.UNKNOWN}(p.status);s(new ce(m,p.message))}else s(new ce(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ce(G.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{de(hn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);de(hn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Oy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NN(),s=kN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");de(hn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=a.createWebChannel(c,l);let d=!1,p=!1;const m=new b6({Io:b=>{p?de(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(d||(de(hn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),de(hn,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},To:()=>h.close()}),y=(b,_,v)=>{b.listen(_,w=>{try{v(w)}catch(O){setTimeout(()=>{throw O},0)}})};return y(h,Ru.EventType.OPEN,()=>{p||(de(hn,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),y(h,Ru.EventType.CLOSE,()=>{p||(p=!0,de(hn,`RPC '${e}' stream ${i} transport closed`),m.So())}),y(h,Ru.EventType.ERROR,b=>{p||(p=!0,Gs(hn,`RPC '${e}' stream ${i} transport errored:`,b),m.So(new ce(G.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ru.EventType.MESSAGE,b=>{var _;if(!p){const v=b.data[0];Be(!!v);const w=v,O=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(O){de(hn,`RPC '${e}' stream ${i} received error:`,O);const S=O.status;let P=function(I){const C=Ot[I];if(C!==void 0)return rR(C)}(S),E=O.message;P===void 0&&(P=G.INTERNAL,E="Unknown error status: "+S+" with message "+O.message),p=!0,m.So(new ce(P,E)),h.close()}else de(hn,`RPC '${e}' stream ${i} received:`,v),m.bo(v)}}),y(s,CN.STAT_EVENT,b=>{b.stat===f0.PROXY?de(hn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===f0.NOPROXY&&de(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Cy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new kB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&de("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new mR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x6 extends gR{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jB(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ee.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Ee.min():a.readTime?Jr(a.readTime):Ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=w0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=m0(l)?{documents:$B(o,l)}:{query:LB(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=aR(o,a.resumeToken);const u=v0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ee.min())>0){s.readTime=Qd(o,a.snapshotVersion.toTimestamp());const u=v0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=FB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=w0(this.serializer),n.removeTarget=e,this.a_(n)}}class E6 extends gR{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=DB(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=w0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,_0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(G.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,_0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(G.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class S6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ji(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{za(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.L_.add(4),await Of(u),u.q_.set("Unknown"),u.L_.delete(4),await Nm(u)}(this))})}),this.q_=new S6(r,i)}}async function Nm(t){if(za(t))for(const e of t.B_)await e(!0)}async function Of(t){for(const e of t.B_)await e(!1)}function yR(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Iw(n)?Pw(n):Dl(n).r_()&&Tw(n,e))}function Sw(t,e){const n=Se(t),r=Dl(n);n.N_.delete(e),r.r_()&&vR(n,e),n.N_.size===0&&(r.r_()?r.o_():za(n)&&n.q_.set("Unknown"))}function Tw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).A_(e)}function vR(t,e){t.Q_.xe(e),Dl(t).R_(e)}function Pw(t){t.Q_=new PB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.q_.v_()}function Iw(t){return za(t)&&!Dl(t).n_()&&t.N_.size>0}function za(t){return Se(t).L_.size===0}function _R(t){t.Q_=void 0}async function P6(t){t.q_.set("Online")}async function I6(t){t.N_.forEach((e,n)=>{Tw(t,e)})}async function O6(t,e){_R(t),Iw(t)?(t.q_.M_(e),Pw(t)):t.q_.set("Unknown")}async function C6(t,e,n){if(t.q_.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jd(t,r)}else if(e instanceof hd?t.Q_.Ke(e):e instanceof iR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ee.min()))try{const r=await pR(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(sn.EMPTY_BYTE_STRING,c.snapshotVersion)),vR(o,l);const h=new fo(c.target,l,u,c.sequenceNumber);Tw(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await Jd(t,r)}}async function Jd(t,e,n){if(!Sf(e))throw e;t.L_.add(1),await Of(t),t.q_.set("Offline"),n||(n=()=>pR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Nm(t)})}function bR(t,e){return e().catch(n=>Jd(t,n,e))}async function Rm(t){const e=Se(t),n=Mo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;k6(e);)try{const i=await p6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,N6(e,i)}catch(i){await Jd(e,i)}wR(e)&&xR(e)}function k6(t){return za(t)&&t.O_.length<10}function N6(t,e){t.O_.push(e);const n=Mo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wR(t){return za(t)&&!Mo(t).n_()&&t.O_.length>0}function xR(t){Mo(t).start()}async function R6(t){Mo(t).p_()}async function j6(t){const e=Mo(t);for(const n of t.O_)e.m_(n.mutations)}async function M6(t,e,n){const r=t.O_.shift(),i=_w.from(r,e,n);await bR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rm(t)}async function D6(t,e){e&&Mo(t).V_&&await async function(r,i){if(function(a){return AB(a)&&a!==G.ABORTED}(i.code)){const o=r.O_.shift();Mo(r).s_(),await bR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Rm(r)}}(t,e),wR(t)&&xR(t)}async function QA(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=za(n);n.L_.add(3),await Of(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Nm(n)}async function $6(t,e){const n=Se(t);e?(n.L_.delete(2),await Nm(n)):e||(n.L_.add(2),await Of(n),n.q_.set("Unknown"))}function Dl(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new x6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:P6.bind(null,t),Ro:I6.bind(null,t),mo:O6.bind(null,t),d_:C6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Iw(t)?Pw(t):t.q_.set("Unknown")):(await t.K_.stop(),_R(t))})),t.K_}function Mo(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new E6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R6.bind(null,t),mo:D6.bind(null,t),f_:j6.bind(null,t),g_:M6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Rm(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new Ow(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cw(t,e){if(ji("AsyncQueue",`${e}: ${t}`),Sf(t))return new ce(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.W_=new bt(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zs{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Zs(e,n,Ds.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V6{constructor(){this.queries=ZA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=ZA(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ce(G.ABORTED,"Firestore shutting down"))}}function ZA(){return new Ml(t=>qN(t),Sm)}async function ER(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new L6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=Cw(a,`Initialization of query '${as(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&kw(n)}async function AR(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F6(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&kw(n)}function U6(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function kw(t){t.Y_.forEach(e=>{e.next()})}var E0,eS;(eS=E0||(E0={})).ea="default",eS.Cache="cache";class SR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==E0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.key=e}}class PR{constructor(e){this.key=e}}class B6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ce(),this.mutatedKeys=Ce(),this.Aa=HN(e),this.Ra=new Ds(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new JA,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Tm(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),b=!0):this.ga(d,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,h)=>function(p,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return y(p)-y(m)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Zs(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new JA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new PR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TR(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class z6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W6{constructor(e){this.key=e,this.va=!1}}class q6{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ml(s=>qN(s),Sm),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(pe.comparator),this.Na=new Map,this.La=new xw,this.Ba={},this.ka=new Map,this.qa=Js.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H6(t,e,n=!0){const r=RR(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await IR(r,e,n,!0),i}async function K6(t,e){const n=RR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,r){const i=await m6(t.localStore,Qr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await G6(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&yR(t.remoteStore,i),s}async function G6(t,e,n,r,i){t.Ka=(h,d,p)=>async function(y,b,_,v){let w=b.view.ma(_);w.ns&&(w=await GA(y.localStore,b.query,!1).then(({documents:E})=>b.view.ma(E,w)));const O=v&&v.targetChanges.get(b.targetId),S=v&&v.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(w,y.isPrimaryClient,O,S);return nS(y,b.targetId,P.wa),P.snapshot}(t,h,d,p);const o=await GA(t.localStore,e,!0),a=new B6(e,o.Ts),s=a.ma(o.documents),l=If.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);nS(t,n,u.wa);const c=new z6(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function X6(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Sm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await x0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sw(r.remoteStore,i.targetId),A0(r,i.targetId)}).catch(Af)):(A0(r,i.targetId),await x0(r.localStore,i.targetId,!0))}async function Y6(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sw(n.remoteStore,r.targetId))}async function Q6(t,e,n){const r=i5(t);try{const i=await function(a,s){const l=Se(a),u=Bt.now(),c=s.reduce((p,m)=>p.add(m.key),Ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Mi(),y=Ce();return l.cs.getEntries(p,c).next(b=>{m=b,m.forEach((_,v)=>{v.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{h=b;const _=[];for(const v of s){const w=_B(v,h.get(v.key).overlayedDocument);w!=null&&_.push(new Fo(v.key,w,$N(w.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(b=>{d=b;const _=b.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,_)})}).then(()=>({batchId:d.batchId,changes:GN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new bt($e)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Cf(r,i.changes),await Rm(r.remoteStore)}catch(i){const o=Cw(i,"Failed to persist write");n.reject(o)}}async function OR(t,e){const n=Se(t);try{const r=await h6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Be(a.va):i.removedDocuments.size>0&&(Be(a.va),a.va=!1))}),await Cf(n,r,e)}catch(r){await Af(r)}}function tS(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Se(a);l.onlineState=s;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.j_)d.Z_(s)&&(u=!0)}),u&&kw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J6(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new bt(pe.comparator);a=a.insert(o,yn.newNoDocument(o,Ee.min()));const s=Ce().add(o),l=new Cm(Ee.min(),new Map,new bt($e),a,s);await OR(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Nw(r)}else await x0(r.localStore,e,!1).then(()=>A0(r,e,n)).catch(Af)}async function Z6(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await f6(n.localStore,e);kR(n,r,null),CR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(n,i)}catch(i){await Af(i)}}async function e5(t,e,n){const r=Se(t);try{const i=await function(a,s){const l=Se(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(h=>(Be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);kR(r,e,n),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cf(r,i)}catch(i){await Af(i)}}function CR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kR(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function A0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||NR(t,r)})}function NR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Nw(t))}function nS(t,e,n){for(const r of n)r instanceof TR?(t.La.addReference(r.key,e),t5(t,r)):r instanceof PR?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||NR(t,r.key)):we()}function t5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),Nw(t))}function Nw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new W6(n)),t.Oa=t.Oa.insert(n,r),yR(t.remoteStore,new fo(Qr(yw(n.path)),r,"TargetPurposeLimboResolution",fw.oe))}}async function Cf(t,e,n){const r=Se(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Aw.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=Se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(u,d=>Q.forEach(d.$i,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Sf(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.os.get(d),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(d,y)}}}(r.localStore,o))}async function n5(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await dR(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ce(G.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(n,r.hs)}}function r5(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return Ce().add(r.key);{let i=Ce();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function RR(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J6.bind(null,e),e.Ca.d_=F6.bind(null,e.eventManager),e.Ca.$a=U6.bind(null,e.eventManager),e}function i5(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e5.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=km(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return c6(this.persistence,new l6,e.initialUser,this.serializer)}Ga(e){return new o6(Ew.Zr,this.serializer)}Wa(e){return new y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class S0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,this.syncEngine),await $6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const n=km(e.databaseInfo.databaseId),r=function(o){return new w6(o)}(e.databaseInfo);return function(o,a,s,l){return new A6(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new T6(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>tS(this.syncEngine,n,0),function(){return YA.D()?new YA:new v6}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const h=new q6(i,o,a,s,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);de("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Of(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}S0.provider={build:()=>new S0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=jN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{de("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(de("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ky(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a5(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QA(e.remoteStore,i)),t._onlineComponents=e}async function a5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await ky(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Gs("Error using user provided cache. Falling back to memory cache: "+n),await ky(t,new Zd)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await ky(t,new Zd);return t._offlineComponents}async function MR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await rS(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await rS(t,new S0))),t._onlineComponents}function s5(t){return MR(t).then(e=>e.syncEngine)}async function T0(t){const e=await MR(t),n=e.eventManager;return n.onListen=H6.bind(null,e.syncEngine),n.onUnlisten=X6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y6.bind(null,e.syncEngine),n}function l5(t,e,n={}){const r=new So;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new jR({next:d=>{c.Za(),a.enqueueAndForget(()=>AR(o,h)),d.fromCache&&l.source==="server"?u.reject(new ce(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new SR(s,c,{includeMetadataChanges:!0,_a:!0});return ER(o,h)}(await T0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){if(!n)throw new ce(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u5(t,e,n,r){if(e===!0&&r===!0)throw new ce(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oS(t){if(!pe.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aS(t){if(pe.isDocumentKey(t))throw new ce(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jm(t);throw new ce(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(G.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PU;switch(r.type){case"firstParty":return new kU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iS.get(n);r&&(de("ComponentProvider","Removing Datastore"),iS.delete(n),r.terminate())}(this),Promise.resolve()}}function c5(t,e,n,r={}){var i;const o=(t=Qn(t,Mm))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=mn.MOCK_USER;else{s=Bk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mn(u)}t._authCredentials=new IU(new RN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class To extends Wa{constructor(e,n,r){super(e,n,yw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new pe(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function dn(t,e,...n){if(t=_t(t),$R("collection","path",e),t instanceof Mm){const r=ot.fromString(e,...n);return aS(r),new To(t,null,r)}{if(!(t instanceof On||t instanceof To))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return aS(r),new To(t.firestore,null,r)}}function Dt(t,e,...n){if(t=_t(t),arguments.length===1&&(e=jN.newId()),$R("doc","path",e),t instanceof Mm){const r=ot.fromString(e,...n);return oS(r),new On(t,null,new pe(r))}{if(!(t instanceof On||t instanceof To))throw new ce(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return oS(r),new On(t.firestore,t instanceof To?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new mR(this,"async_queue_retry"),this.Vu=()=>{const r=Cy();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new So;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ow.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function uS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Di extends Mm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lS(e),this._firestoreClient=void 0,await e}}}function f5(t,e){const n=typeof t=="object"?t:tw(),r=typeof t=="string"?t:"(default)",i=_m(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Vk("firestore");o&&c5(i,...o)}return i}function Dm(t){if(t._terminated)throw new ce(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h5(t),t._firestoreClient}function h5(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new WU(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new o5(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(sn.fromBase64String(e))}catch(n){throw new ce(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new el(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=/^__.*__$/;class p5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pf(e,this.data,n,this.fieldTransforms)}}class LR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Mw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ep(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VR(this.Cu)&&d5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class m5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||km(e)}Qu(e,n,r,i=!1){return new Mw({Cu:e,methodName:n,qu:r,path:nn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(t){const e=t._freezeSettings(),n=km(t._databaseId);return new m5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dw(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);Lw("Data must be an object, but it was:",a,r);const s=BR(r,a);let l,u;if(o.merge)l=new Gn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=P0(e,h,n);if(!a.contains(d))throw new ce(G.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);WR(c,d)||c.push(d)}l=new Gn(c),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new p5(new Rn(s),l,u)}class Lm extends $m{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lm}}class $w extends $m{_toFieldTransform(e){return new mB(e.path,new Oc)}isEqual(e){return e instanceof $w}}function FR(t,e,n,r){const i=t.Qu(1,e,n);Lw("Data must be an object, but it was:",i,r);const o=[],a=Rn.empty();Ba(r,(l,u)=>{const c=Vw(e,l,n);u=_t(u);const h=i.Nu(c);if(u instanceof Lm)o.push(c);else{const d=Rf(u,h);d!=null&&(o.push(c),a.set(c,d))}});const s=new Gn(o);return new LR(a,s,i.fieldTransforms)}function UR(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[P0(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(P0(e,o[d])),l.push(o[d+1]);const u=[],c=Rn.empty();for(let d=s.length-1;d>=0;--d)if(!WR(u,s[d])){const p=s[d];let m=l[d];m=_t(m);const y=a.Nu(p);if(m instanceof Lm)u.push(p);else{const b=Rf(m,y);b!=null&&(u.push(p),c.set(p,b))}}const h=new Gn(u);return new LR(c,h,a.fieldTransforms)}function g5(t,e,n,r=!1){return Rf(n,t.Qu(r?4:3,e))}function Rf(t,e){if(zR(t=_t(t)))return Lw("Unsupported field value:",e,t),BR(t,e);if(t instanceof $m)return function(r,i){if(!VR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Rf(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:Qd(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,o)}}if(r instanceof Rw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof el)return{bytesValue:aR(i.serializer,r._byteString)};if(r instanceof On){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return vw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jm(r)}`)}(t,e)}function BR(t,e){const n={};return MN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,(r,i)=>{const o=Rf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof Rw||t instanceof el||t instanceof On||t instanceof $m||t instanceof jw)}function Lw(t,e,n){if(!zR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function P0(t,e,n){if((e=_t(e))instanceof kf)return e._internalPath;if(typeof e=="string")return Vw(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const y5=new RegExp("[~\\*/\\[\\]]");function Vw(t,e,n){if(e.search(y5)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kf(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ep(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ce(G.INVALID_ARGUMENT,s+t+l)}function WR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v5 extends qR{data(){return super.data()}}function HR(t,e){return typeof e=="string"?Vw(t,e):e instanceof kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fw{}class _5 extends Fw{}function b5(t,e,...n){let r=[];e instanceof Fw&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Bw).length,s=o.filter(l=>l instanceof Uw).length;if(a>1||a>0&&s>0)throw new ce(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uw extends _5{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uw(e,n,r)}_apply(e){const n=this._parse(e);return GR(e._query,n),new Wa(e.firestore,e.converter,g0(e._query,n))}_parse(e){const n=Nf(e.firestore);return function(o,a,s,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){fS(h,c);const p=[];for(const m of h)p.push(cS(l,o,m));d={arrayValue:{values:p}}}else d=cS(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||fS(h,c),d=g5(s,a,h,c==="in"||c==="not-in");return Nt.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bw extends Fw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)GR(a,l),a=g0(a,l)}(e._query,n),new Wa(e.firestore,e.converter,g0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cS(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new ce(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WN(e)&&n.indexOf("/")!==-1)throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!pe.isDocumentKey(r))throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kA(t,new pe(r))}if(n instanceof On)return kA(t,n._key);throw new ce(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jm(n)}.`)}function fS(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GR(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w5{convertValue(e,n="none"){switch(ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Tt(a.doubleValue));return new jw(o)}convertGeoPoint(e){return new Rw(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=jo(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Be(hR(r));const i=new Pc(r.get(1),r.get(3)),o=new pe(r.popFirst(5));return i.isEqual(n)||ji(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XR extends qR{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dd extends XR{data(e={}){return super.data(e)}}class YR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Du(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dd(this._firestore,this._userDataWriter,r.key,r,new Du(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new dd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new dd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Du(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:x5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function x5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class Ww extends w5{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function E5(t){t=Qn(t,Wa);const e=Qn(t.firestore,Di),n=Dm(e),r=new Ww(e);return KR(t._query),l5(n,t._query).then(i=>new YR(e,r,t,i))}function A5(t,e,n){t=Qn(t,On);const r=Qn(t.firestore,Di),i=zw(t.converter,e,n);return jf(r,[Dw(Nf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,In.none())])}function S5(t,e,n,...r){t=Qn(t,On);const i=Qn(t.firestore,Di),o=Nf(i);let a;return a=typeof(e=_t(e))=="string"||e instanceof kf?UR(o,"updateDoc",t._key,e,n,r):FR(o,"updateDoc",t._key,e),jf(i,[a.toMutation(t._key,In.exists(!0))])}function T5(t){return jf(Qn(t.firestore,Di),[new Om(t._key,In.none())])}function P5(t,e){const n=Qn(t.firestore,Di),r=Dt(t),i=zw(t.converter,e);return jf(n,[Dw(Nf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function hS(t,...e){var n,r,i;t=_t(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||uS(e[a])||(o=e[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(uS(e[a])){const h=e[a];e[a]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[a+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof On)u=Qn(t.firestore,Di),c=yw(t._key.path),l={next:h=>{e[a]&&e[a](I5(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=Qn(t,Wa);u=Qn(h.firestore,Di),c=h._query;const d=new Ww(u);l={next:p=>{e[a]&&e[a](new YR(u,d,h,p))},error:e[a+1],complete:e[a+2]},KR(t._query)}return function(d,p,m,y){const b=new jR(y),_=new SR(p,b,m);return d.asyncQueue.enqueueAndForget(async()=>ER(await T0(d),_)),()=>{b.Za(),d.asyncQueue.enqueueAndForget(async()=>AR(await T0(d),_))}}(Dm(u),c,s,l)}function jf(t,e){return function(r,i){const o=new So;return r.asyncQueue.enqueueAndForget(async()=>Q6(await s5(r),i,o)),o.promise}(Dm(t),e)}function I5(t,e,n){const r=n.docs.get(e._key),i=new Ww(t);return new XR(t,i,e._key,r,new Du(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nf(e)}set(e,n,r){this._verifyNotCommitted();const i=Ny(e,this._firestore),o=zw(i.converter,n,r),a=Dw(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,In.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ny(e,this._firestore);let a;return a=typeof(n=_t(n))=="string"||n instanceof kf?UR(this._dataReader,"WriteBatch.update",o._key,n,r,i):FR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,In.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ny(e,this._firestore);return this._mutations=this._mutations.concat(new Om(n._key,In.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ny(t,e){if((t=_t(t)).firestore!==e)throw new ce(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function wn(){return new $w("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t){return Dm(t=Qn(t,Di)),new O5(t,e=>jf(t,e))}(function(e,n=!0){(function(i){jl=i})(Ua),Pa(new ko("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Di(new OU(r.getProvider("auth-internal")),new RU(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Gr(TA,"4.7.3",e),Gr(TA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebasestorage.googleapis.com",JR="storageBucket",C5=2*60*1e3,k5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends ii{constructor(e,n,r=0){super(jy(e),`Firebase Storage: ${n} (${jy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function jy(t){return"storage/"+t}function qw(){const t="An unknown error occurred, please check the error payload for server response.";return new St(At.UNKNOWN,t)}function N5(t){return new St(At.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function R5(t){return new St(At.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(At.UNAUTHENTICATED,t)}function M5(){return new St(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function D5(t){return new St(At.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $5(){return new St(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function L5(){return new St(At.CANCELED,"User canceled the upload/download.")}function V5(t){return new St(At.INVALID_URL,"Invalid URL '"+t+"'.")}function F5(t){return new St(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function U5(){return new St(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JR+"' property when initializing the app?")}function B5(){return new St(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z5(){return new St(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function W5(t){return new St(At.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I0(t){return new St(At.INVALID_ARGUMENT,t)}function ZR(){return new St(At.APP_DELETED,"The Firebase app was deleted.")}function q5(t){return new St(At.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ju(t,e){return new St(At.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yu(t){throw new St(At.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xn.makeFromUrl(e,n)}catch{return new Xn(e,"")}if(r.path==="")return r;throw F5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},y=n===QR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:s,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<w.length;O++){const S=w[O],P=S.regex.exec(e);if(P){const E=P[S.indices.bucket];let A=P[S.indices.path];A||(A=""),r=new Xn(E,A),S.postModify(r);break}}if(r==null)throw V5(e);return r}}class H5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function d(){o&&clearTimeout(o)}function p(b,..._){if(u){d();return}if(b){d(),c.call(null,b,..._);return}if(l()||a){d(),c.call(null,b,..._);return}r<64&&(r*=2);let w;s===1?(s=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(b){m||(m=!0,d(),!u&&(i!==null?(b||(s=2),clearTimeout(i),h(0)):b||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,y(!0)},n),y}function G5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return t!==void 0}function Y5(t){return typeof t=="object"&&!Array.isArray(t)}function Hw(t){return typeof t=="string"||t instanceof String}function dS(t){return Kw()&&t instanceof Blob}function Kw(){return typeof Blob<"u"}function pS(t,e,n,r){if(r<e)throw I0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function e2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _a;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n,r,i,o,a,s,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===_a.NO_ERROR,l=o.getStatus();if(!s||Q5(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===_a.ABORT;r(!1,new kh(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new kh(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());X5(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=qw();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?ZR():L5();a(l)}else{const l=$5();a(l)}};this.canceled_?n(!1,new kh(!1,null,!0)):this.backoffId_=K5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Z5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function e9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function n9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r9(t,e,n,r,i,o,a=!0){const s=e2(t.urlParams),l=t.url+s,u=Object.assign({},t.headers);return t9(u,e),Z5(u,n),e9(u,o),n9(u,r),new J5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o9(...t){const e=i9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Kw())return new Blob(t);throw new St(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(typeof atob>"u")throw W5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class My{constructor(e,n){this.data=e,this.contentType=n||null}}function l9(t,e){switch(t){case Wr.RAW:return new My(t2(e));case Wr.BASE64:case Wr.BASE64URL:return new My(n2(t,e));case Wr.DATA_URL:return new My(c9(e),f9(e))}throw qw()}function t2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function u9(t){let e;try{e=decodeURIComponent(t)}catch{throw Ju(Wr.DATA_URL,"Malformed data URL.")}return t2(e)}function n2(t,e){switch(t){case Wr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ju(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ju(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s9(e)}catch(i){throw i.message.includes("polyfill")?i:Ju(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class r2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ju(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=h9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function c9(t){const e=new r2(t);return e.base64?n2(Wr.BASE64,e.rest):u9(e.rest)}function f9(t){return new r2(t).contentType}function h9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){let r=0,i="";dS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(dS(this.data_)){const r=this.data_,i=a9(r,e,n);return i===null?null:new so(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new so(r,!0)}}static getBlob(...e){if(Kw()){const n=e.map(r=>r instanceof so?r.data_:r);return new so(o9.apply(null,n))}else{const n=e.map(a=>Hw(a)?l9(Wr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new so(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){let e;try{e=JSON.parse(t)}catch{return null}return Y5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e){return e}class xn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||m9}}let Nh=null;function g9(t){return!Hw(t)||t.length<2?t:o2(t)}function a2(){if(Nh)return Nh;const t=[];t.push(new xn("bucket")),t.push(new xn("generation")),t.push(new xn("metageneration")),t.push(new xn("name","fullPath",!0));function e(o,a){return g9(a)}const n=new xn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new xn("size");return i.xform=r,t.push(i),t.push(new xn("timeCreated")),t.push(new xn("updated")),t.push(new xn("md5Hash",null,!0)),t.push(new xn("cacheControl",null,!0)),t.push(new xn("contentDisposition",null,!0)),t.push(new xn("contentEncoding",null,!0)),t.push(new xn("contentLanguage",null,!0)),t.push(new xn("contentType",null,!0)),t.push(new xn("metadata","customMetadata",!0)),Nh=t,Nh}function y9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Xn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function v9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return y9(r,t),r}function s2(t,e,n){const r=i2(e);return r===null?null:v9(t,r,n)}function _9(t,e,n,r){const i=i2(e);if(i===null||!Hw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,h=t.fullPath,d="/b/"+a(c)+"/o/"+a(h),p=Gw(d,n,r),m=e2({alt:"media",token:u});return p+m})[0]}function b9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class l2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){if(!t)throw qw()}function w9(t,e){function n(r,i){const o=s2(t,i,e);return u2(o!==null),o}return n}function x9(t,e){function n(r,i){const o=s2(t,i,e);return u2(o!==null),_9(o,i,t.host,t._protocol)}return n}function c2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=M5():i=j5():n.getStatus()===402?i=R5(t.bucket):n.getStatus()===403?i=D5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function E9(t){const e=c2(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=N5(t.path)),o.serverResponse=i.serverResponse,o}return n}function A9(t,e,n){const r=e.fullServerUrl(),i=Gw(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,s=new l2(i,o,x9(t,n),a);return s.errorHandler=E9(e),s}function S9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function T9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=S9(null,e)),r}function P9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let w="";for(let O=0;O<2;O++)w=w+Math.random().toString().slice(2);return w}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=T9(e,r,i),c=b9(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+l+"--",p=so.getBlob(h,r,d);if(p===null)throw B5();const m={name:u.fullPath},y=Gw(o,t.host,t._protocol),b="POST",_=t.maxUploadRetryTime,v=new l2(y,b,w9(t,n),_);return v.urlParams=m,v.headers=a,v.body=p.uploadData(),v.errorHandler=c2(e),v}class I9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class O9 extends I9{initXhr(){this.xhr_.responseType="text"}}function f2(){return new O9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this._service=e,n instanceof Xn?this._location=n:this._location=Xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Na(e,n)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o2(this._location.path)}get storage(){return this._service}get parent(){const e=d9(this._location.path);if(e===null)return null;const n=new Xn(this._location.bucket,e);return new Na(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw q5(e)}}function C9(t,e,n){t._throwIfRoot("uploadBytes");const r=P9(t.storage,t._location,a2(),new so(e,!0),n);return t.storage.makeRequestWithTokens(r,f2).then(i=>({metadata:i,ref:t}))}function k9(t){t._throwIfRoot("getDownloadURL");const e=A9(t.storage,t._location,a2());return t.storage.makeRequestWithTokens(e,f2).then(n=>{if(n===null)throw z5();return n})}function N9(t,e){const n=p9(t._location.path,e),r=new Xn(t._location.bucket,n);return new Na(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return/^[A-Za-z]+:\/\//.test(t)}function j9(t,e){return new Na(t,e)}function h2(t,e){if(t instanceof Xw){const n=t;if(n._bucket==null)throw U5();const r=new Na(n,n._bucket);return e!=null?h2(r,e):r}else return e!==void 0?N9(t,e):t}function M9(t,e){if(e&&R9(e)){if(t instanceof Xw)return j9(t,e);throw I0("To use ref(service, url), the first argument must be a Storage instance.")}else return h2(t,e)}function mS(t,e){const n=e==null?void 0:e[JR];return n==null?null:Xn.makeFromBucketSpec(n,t)}function D9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Bk(i,t.app.options.projectId))}class Xw{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=QR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C5,this._maxUploadRetryTime=k5,this._requests=new Set,i!=null?this._bucket=Xn.makeFromBucketSpec(i,this._host):this._bucket=mS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=mS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Na(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new H5(ZR());{const a=r9(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gS="@firebase/storage",yS="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="storage";function $9(t,e,n){return t=_t(t),C9(t,e,n)}function L9(t){return t=_t(t),k9(t)}function V9(t,e){return t=_t(t),M9(t,e)}function F9(t=tw(),e){t=_t(t);const r=_m(t,d2).getImmediate({identifier:e}),i=Vk("storage");return i&&U9(r,...i),r}function U9(t,e,n,r={}){D9(t,e,n,r)}function B9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xw(n,r,i,e,Ua)}function z9(){Pa(new ko(d2,B9,"PUBLIC").setMultipleInstances(!0)),Gr(gS,yS,""),Gr(gS,yS,"esm2017")}z9();function p2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=p2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=p2(t))&&(r&&(r+=" "),r+=e);return r}var W9=Array.isArray,Vn=W9,q9=typeof lh=="object"&&lh&&lh.Object===Object&&lh,m2=q9,H9=m2,K9=typeof self=="object"&&self&&self.Object===Object&&self,G9=H9||K9||Function("return this")(),oi=G9,X9=oi,Y9=X9.Symbol,Mf=Y9,vS=Mf,g2=Object.prototype,Q9=g2.hasOwnProperty,J9=g2.toString,vu=vS?vS.toStringTag:void 0;function Z9(t){var e=Q9.call(t,vu),n=t[vu];try{t[vu]=void 0;var r=!0}catch{}var i=J9.call(t);return r&&(e?t[vu]=n:delete t[vu]),i}var ez=Z9,tz=Object.prototype,nz=tz.toString;function rz(t){return nz.call(t)}var iz=rz,_S=Mf,oz=ez,az=iz,sz="[object Null]",lz="[object Undefined]",bS=_S?_S.toStringTag:void 0;function uz(t){return t==null?t===void 0?lz:sz:bS&&bS in Object(t)?oz(t):az(t)}var Ui=uz;function cz(t){return t!=null&&typeof t=="object"}var Bi=cz,fz=Ui,hz=Bi,dz="[object Symbol]";function pz(t){return typeof t=="symbol"||hz(t)&&fz(t)==dz}var $l=pz,mz=Vn,gz=$l,yz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vz=/^\w*$/;function _z(t,e){if(mz(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||gz(t)?!0:vz.test(t)||!yz.test(t)||e!=null&&t in Object(e)}var Yw=_z;function bz(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=bz;const Ll=ze(Uo);var wz=Ui,xz=Uo,Ez="[object AsyncFunction]",Az="[object Function]",Sz="[object GeneratorFunction]",Tz="[object Proxy]";function Pz(t){if(!xz(t))return!1;var e=wz(t);return e==Az||e==Sz||e==Ez||e==Tz}var Qw=Pz;const ve=ze(Qw);var Iz=oi,Oz=Iz["__core-js_shared__"],Cz=Oz,Dy=Cz,wS=function(){var t=/[^.]+$/.exec(Dy&&Dy.keys&&Dy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kz(t){return!!wS&&wS in t}var Nz=kz,Rz=Function.prototype,jz=Rz.toString;function Mz(t){if(t!=null){try{return jz.call(t)}catch{}try{return t+""}catch{}}return""}var y2=Mz,Dz=Qw,$z=Nz,Lz=Uo,Vz=y2,Fz=/[\\^$.*+?()[\]{}|]/g,Uz=/^\[object .+?Constructor\]$/,Bz=Function.prototype,zz=Object.prototype,Wz=Bz.toString,qz=zz.hasOwnProperty,Hz=RegExp("^"+Wz.call(qz).replace(Fz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kz(t){if(!Lz(t)||$z(t))return!1;var e=Dz(t)?Hz:Uz;return e.test(Vz(t))}var Gz=Kz;function Xz(t,e){return t==null?void 0:t[e]}var Yz=Xz,Qz=Gz,Jz=Yz;function Zz(t,e){var n=Jz(t,e);return Qz(n)?n:void 0}var qa=Zz,e8=qa,t8=e8(Object,"create"),Vm=t8,xS=Vm;function n8(){this.__data__=xS?xS(null):{},this.size=0}var r8=n8;function i8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var o8=i8,a8=Vm,s8="__lodash_hash_undefined__",l8=Object.prototype,u8=l8.hasOwnProperty;function c8(t){var e=this.__data__;if(a8){var n=e[t];return n===s8?void 0:n}return u8.call(e,t)?e[t]:void 0}var f8=c8,h8=Vm,d8=Object.prototype,p8=d8.hasOwnProperty;function m8(t){var e=this.__data__;return h8?e[t]!==void 0:p8.call(e,t)}var g8=m8,y8=Vm,v8="__lodash_hash_undefined__";function _8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=y8&&e===void 0?v8:e,this}var b8=_8,w8=r8,x8=o8,E8=f8,A8=g8,S8=b8;function Vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=w8;Vl.prototype.delete=x8;Vl.prototype.get=E8;Vl.prototype.has=A8;Vl.prototype.set=S8;var T8=Vl;function P8(){this.__data__=[],this.size=0}var I8=P8;function O8(t,e){return t===e||t!==t&&e!==e}var Jw=O8,C8=Jw;function k8(t,e){for(var n=t.length;n--;)if(C8(t[n][0],e))return n;return-1}var Fm=k8,N8=Fm,R8=Array.prototype,j8=R8.splice;function M8(t){var e=this.__data__,n=N8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():j8.call(e,n,1),--this.size,!0}var D8=M8,$8=Fm;function L8(t){var e=this.__data__,n=$8(e,t);return n<0?void 0:e[n][1]}var V8=L8,F8=Fm;function U8(t){return F8(this.__data__,t)>-1}var B8=U8,z8=Fm;function W8(t,e){var n=this.__data__,r=z8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var q8=W8,H8=I8,K8=D8,G8=V8,X8=B8,Y8=q8;function Fl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fl.prototype.clear=H8;Fl.prototype.delete=K8;Fl.prototype.get=G8;Fl.prototype.has=X8;Fl.prototype.set=Y8;var Um=Fl,Q8=qa,J8=oi,Z8=Q8(J8,"Map"),Zw=Z8,ES=T8,e7=Um,t7=Zw;function n7(){this.size=0,this.__data__={hash:new ES,map:new(t7||e7),string:new ES}}var r7=n7;function i7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var o7=i7,a7=o7;function s7(t,e){var n=t.__data__;return a7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bm=s7,l7=Bm;function u7(t){var e=l7(this,t).delete(t);return this.size-=e?1:0,e}var c7=u7,f7=Bm;function h7(t){return f7(this,t).get(t)}var d7=h7,p7=Bm;function m7(t){return p7(this,t).has(t)}var g7=m7,y7=Bm;function v7(t,e){var n=y7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var _7=v7,b7=r7,w7=c7,x7=d7,E7=g7,A7=_7;function Ul(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ul.prototype.clear=b7;Ul.prototype.delete=w7;Ul.prototype.get=x7;Ul.prototype.has=E7;Ul.prototype.set=A7;var ex=Ul,v2=ex,S7="Expected a function";function tx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(S7);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(tx.Cache||v2),n}tx.Cache=v2;var _2=tx;const T7=ze(_2);var P7=_2,I7=500;function O7(t){var e=P7(t,function(r){return n.size===I7&&n.clear(),r}),n=e.cache;return e}var C7=O7,k7=C7,N7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R7=/\\(\\)?/g,j7=k7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(N7,function(n,r,i,o){e.push(i?o.replace(R7,"$1"):r||n)}),e}),M7=j7;function D7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nx=D7,AS=Mf,$7=nx,L7=Vn,V7=$l,SS=AS?AS.prototype:void 0,TS=SS?SS.toString:void 0;function b2(t){if(typeof t=="string")return t;if(L7(t))return $7(t,b2)+"";if(V7(t))return TS?TS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var F7=b2,U7=F7;function B7(t){return t==null?"":U7(t)}var w2=B7,z7=Vn,W7=Yw,q7=M7,H7=w2;function K7(t,e){return z7(t)?t:W7(t,e)?[t]:q7(H7(t))}var x2=K7,G7=$l;function X7(t){if(typeof t=="string"||G7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zm=X7,Y7=x2,Q7=zm;function J7(t,e){e=Y7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Q7(e[n++])];return n&&n==r?t:void 0}var rx=J7,Z7=rx;function eW(t,e,n){var r=t==null?void 0:Z7(t,e);return r===void 0?n:r}var E2=eW;const Jn=ze(E2);function tW(t){return t==null}var nW=tW;const Ae=ze(nW);var rW=Ui,iW=Vn,oW=Bi,aW="[object String]";function sW(t){return typeof t=="string"||!iW(t)&&oW(t)&&rW(t)==aW}var lW=sW;const Ra=ze(lW);var A2={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.element"),ox=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Km=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),uW=Symbol.for("react.server_context"),Xm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),cW=Symbol.for("react.offscreen"),S2;S2=Symbol.for("react.module.reference");function vr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ix:switch(t=t.type,t){case Wm:case Hm:case qm:case Ym:case Qm:return t;default:switch(t=t&&t.$$typeof,t){case uW:case Gm:case Xm:case Zm:case Jm:case Km:return t;default:return e}}case ox:return e}}}We.ContextConsumer=Gm;We.ContextProvider=Km;We.Element=ix;We.ForwardRef=Xm;We.Fragment=Wm;We.Lazy=Zm;We.Memo=Jm;We.Portal=ox;We.Profiler=Hm;We.StrictMode=qm;We.Suspense=Ym;We.SuspenseList=Qm;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(t){return vr(t)===Gm};We.isContextProvider=function(t){return vr(t)===Km};We.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ix};We.isForwardRef=function(t){return vr(t)===Xm};We.isFragment=function(t){return vr(t)===Wm};We.isLazy=function(t){return vr(t)===Zm};We.isMemo=function(t){return vr(t)===Jm};We.isPortal=function(t){return vr(t)===ox};We.isProfiler=function(t){return vr(t)===Hm};We.isStrictMode=function(t){return vr(t)===qm};We.isSuspense=function(t){return vr(t)===Ym};We.isSuspenseList=function(t){return vr(t)===Qm};We.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wm||t===Hm||t===qm||t===Ym||t===Qm||t===cW||typeof t=="object"&&t!==null&&(t.$$typeof===Zm||t.$$typeof===Jm||t.$$typeof===Km||t.$$typeof===Gm||t.$$typeof===Xm||t.$$typeof===S2||t.getModuleId!==void 0)};We.typeOf=vr;A2.exports=We;var fW=A2.exports,hW=Ui,dW=Bi,pW="[object Number]";function mW(t){return typeof t=="number"||dW(t)&&hW(t)==pW}var T2=mW;const gW=ze(T2);var yW=T2;function vW(t){return yW(t)&&t!=+t}var _W=vW;const Df=ze(_W);var An=function(e){return e===0?0:e>0?1:-1},ha=function(e){return Ra(e)&&e.indexOf("%")===e.length-1},Z=function(e){return gW(e)&&!Df(e)},bW=function(e){return Ae(e)},Ut=function(e){return Z(e)||Ra(e)},wW=0,Bl=function(e){var n=++wW;return"".concat(e||"").concat(n)},Sn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!Ra(e))return r;var o;if(ha(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Df(o)&&(o=r),i&&o>n&&(o=n),o},lo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},xW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},qn=function(e,n){return Z(e)&&Z(n)?function(r){return e+r*(n-e)}:function(){return n}};function tp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Jn(r,e))===n})}var EW=function(e,n){return Z(e)&&Z(n)?e-n:Ra(e)&&Ra(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function $s(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}var AW=["viewBox","children"],SW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PS=["points","pathLength"],$y={svg:AW,polygon:PS,polyline:PS},ax=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],np=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!Ll(r))return null;var i={};return Object.keys(r).forEach(function(o){ax.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},TW=function(e,n,r){return function(i){return e(n,r,i),null}},ja=function(e,n,r){if(!Ll(e)||O0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];ax.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=TW(a,n,r))}),i},PW=["children"],IW=["children"];function IS(t,e){if(t==null)return{};var n=OW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var OS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CS=null,Ly=null,sx=function t(e){if(e===CS&&Array.isArray(Ly))return Ly;var n=[];return L.Children.forEach(e,function(r){Ae(r)||(fW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ly=n,CS=e,n};function Zn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ai(i)}):r=[Ai(e)],sx(t).forEach(function(i){var o=Jn(i,"type.displayName")||Jn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wn(t,e){var n=Zn(t,e);return n&&n[0]}var kS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Z(r)||r<=0||!Z(i)||i<=0)},CW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kW=function(e){return e&&e.type&&Ra(e.type)&&CW.indexOf(e.type)>=0},NW=function(e){return e&&C0(e)==="object"&&"clipDot"in e},RW=function(e,n,r,i){var o,a=(o=$y==null?void 0:$y[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ve(e)&&(i&&a.includes(n)||SW.includes(n))||r&&ax.includes(n)},me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!Ll(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;RW((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},k0=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return NS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!NS(o,a))return!1}return!0},NS=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=IS(r,PW),a=n.props||{},s=a.children,l=IS(a,IW);return i&&s?$s(o,l)&&k0(i,s):!i&&!s?$s(o,l):!1}return!1},RS=function(e,n){var r=[],i={};return sx(e).forEach(function(o,a){if(kW(o))r.push(o);else if(o){var s=Ai(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var h=u(o,s,a);r.push(h),i[s]=!0}}}),r},jW=function(e){var n=e&&e.type;return n&&OS[n]?OS[n]:null},MW=function(e,n){return sx(n).indexOf(e)},DW=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function $W(t,e){if(t==null)return{};var n=LW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function R0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=$W(t,DW),c=i||{width:n,height:r,x:0,y:0},h=Ie("recharts-surface",o);return M.createElement("svg",N0({},me(u,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var VW=["children","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function FW(t,e){if(t==null)return{};var n=UW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Le=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=FW(t,VW),o=Ie("recharts-layer",r);return M.createElement("g",j0({className:o},me(i,!0),{ref:e}),n)}),Rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function BW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var zW=BW,WW=zW;function qW(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:WW(t,e,n)}var HW=qW,KW="\\ud800-\\udfff",GW="\\u0300-\\u036f",XW="\\ufe20-\\ufe2f",YW="\\u20d0-\\u20ff",QW=GW+XW+YW,JW="\\ufe0e\\ufe0f",ZW="\\u200d",eq=RegExp("["+ZW+KW+QW+JW+"]");function tq(t){return eq.test(t)}var P2=tq;function nq(t){return t.split("")}var rq=nq,I2="\\ud800-\\udfff",iq="\\u0300-\\u036f",oq="\\ufe20-\\ufe2f",aq="\\u20d0-\\u20ff",sq=iq+oq+aq,lq="\\ufe0e\\ufe0f",uq="["+I2+"]",M0="["+sq+"]",D0="\\ud83c[\\udffb-\\udfff]",cq="(?:"+M0+"|"+D0+")",O2="[^"+I2+"]",C2="(?:\\ud83c[\\udde6-\\uddff]){2}",k2="[\\ud800-\\udbff][\\udc00-\\udfff]",fq="\\u200d",N2=cq+"?",R2="["+lq+"]?",hq="(?:"+fq+"(?:"+[O2,C2,k2].join("|")+")"+R2+N2+")*",dq=R2+N2+hq,pq="(?:"+[O2+M0+"?",M0,C2,k2,uq].join("|")+")",mq=RegExp(D0+"(?="+D0+")|"+pq+dq,"g");function gq(t){return t.match(mq)||[]}var yq=gq,vq=rq,_q=P2,bq=yq;function wq(t){return _q(t)?bq(t):vq(t)}var xq=wq,Eq=HW,Aq=P2,Sq=xq,Tq=w2;function Pq(t){return function(e){e=Tq(e);var n=Aq(e)?Sq(e):void 0,r=n?n[0]:e.charAt(0),i=n?Eq(n,1).join(""):e.slice(1);return r[t]()+i}}var Iq=Pq,Oq=Iq,Cq=Oq("toUpperCase"),kq=Cq;const eg=ze(kq);function Qe(t){return function(){return t}}const j2=Math.cos,rp=Math.sin,Dr=Math.sqrt,ip=Math.PI,tg=2*ip,$0=Math.PI,L0=2*$0,ia=1e-6,Nq=L0-ia;function M2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return M2;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?M2:Rq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ia)if(!(Math.abs(h*l-u*c)>ia)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,y=l*l+u*u,b=p*p+m*m,_=Math.sqrt(y),v=Math.sqrt(d),w=o*Math.tan(($0-Math.acos((y+d-b)/(2*_*v)))/2),O=w/v,S=w/_;Math.abs(O-1)>ia&&this._append`L${e+O*c},${n+O*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ia||Math.abs(this._y1-c)>ia)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%L0+L0),d>Nq?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>ia&&this._append`A${r},${r},0,${+(d>=$0)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new jq(e)}function ux(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D2(t){this._context=t}D2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ng(t){return new D2(t)}function $2(t){return t[0]}function L2(t){return t[1]}function V2(t,e){var n=Qe(!0),r=null,i=ng,o=null,a=lx(s);t=typeof t=="function"?t:t===void 0?$2:Qe(t),e=typeof e=="function"?e:e===void 0?L2:Qe(e);function s(l){var u,c=(l=ux(l)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Rh(t,e,n){var r=null,i=Qe(!0),o=null,a=ng,s=null,l=lx(u);t=typeof t=="function"?t:t===void 0?$2:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?L2:Qe(+n);function u(h){var d,p,m,y=(h=ux(h)).length,b,_=!1,v,w=new Array(y),O=new Array(y);for(o==null&&(s=a(v=l())),d=0;d<=y;++d){if(!(d<y&&i(b=h[d],d,h))===_)if(_=!_)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(w[m],O[m]);s.lineEnd(),s.areaEnd()}_&&(w[d]=+t(b,d,h),O[d]=+e(b,d,h),s.point(r?+r(b,d,h):w[d],n?+n(b,d,h):O[d]))}if(v)return s=null,v+""||null}function c(){return V2().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qe(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qe(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Qe(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}class F2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Mq(t){return new F2(t,!0)}function Dq(t){return new F2(t,!1)}const cx={draw(t,e){const n=Dr(e/ip);t.moveTo(n,0),t.arc(0,0,n,0,tg)}},$q={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},U2=Dr(1/3),Lq=U2*2,Vq={draw(t,e){const n=Dr(e/Lq),r=n*U2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Fq={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},Uq=.8908130915292852,B2=rp(ip/10)/rp(7*ip/10),Bq=rp(tg/10)*B2,zq=-j2(tg/10)*B2,Wq={draw(t,e){const n=Dr(e*Uq),r=Bq*n,i=zq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=tg*o/5,s=j2(a),l=rp(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Vy=Dr(3),qq={draw(t,e){const n=-Dr(e/(Vy*3));t.moveTo(0,n*2),t.lineTo(-Vy*n,-n),t.lineTo(Vy*n,-n),t.closePath()}},or=-.5,ar=Dr(3)/2,V0=1/Dr(12),Hq=(V0/2+1)*3,Kq={draw(t,e){const n=Dr(e/Hq),r=n/2,i=n*V0,o=r,a=n*V0+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(or*r-ar*i,ar*r+or*i),t.lineTo(or*o-ar*a,ar*o+or*a),t.lineTo(or*s-ar*l,ar*s+or*l),t.lineTo(or*r+ar*i,or*i-ar*r),t.lineTo(or*o+ar*a,or*a-ar*o),t.lineTo(or*s+ar*l,or*l-ar*s),t.closePath()}};function Gq(t,e){let n=null,r=lx(i);t=typeof t=="function"?t:Qe(t||cx),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function op(){}function ap(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function z2(t){this._context=t}z2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ap(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xq(t){return new z2(t)}function W2(t){this._context=t}W2.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yq(t){return new W2(t)}function q2(t){this._context=t}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ap(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qq(t){return new q2(t)}function H2(t){this._context=t}H2.prototype={areaStart:op,areaEnd:op,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Jq(t){return new H2(t)}function jS(t){return t<0?-1:1}function MS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(jS(o)+jS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function DS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fy(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function sp(t){this._context=t}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fy(this,this._t0,DS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fy(this,DS(this,n=MS(this,t,e)),n);break;default:Fy(this,this._t0,n=MS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function K2(t){this._context=new G2(t)}(K2.prototype=Object.create(sp.prototype)).point=function(t,e){sp.prototype.point.call(this,e,t)};function G2(t){this._context=t}G2.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Zq(t){return new sp(t)}function eH(t){return new K2(t)}function X2(t){this._context=t}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$S(t),i=$S(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $S(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function tH(t){return new X2(t)}function rg(t,e){this._context=t,this._t=e}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function nH(t){return new rg(t,.5)}function rH(t){return new rg(t,0)}function iH(t){return new rg(t,1)}function tl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function F0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function oH(t,e){return t[e]}function aH(t){const e=[];return e.key=t,e}function sH(){var t=Qe([]),e=F0,n=tl,r=oH;function i(o){var a=Array.from(t.apply(this,arguments),aH),s,l=a.length,u=-1,c;for(const h of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,c=ux(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?F0:typeof o=="function"?o:Qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??tl,i):n},i}function lH(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}tl(t,e)}}function uH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}tl(t,e)}}function cH(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,m=0;m<s;++m){var y=t[e[m]],b=y[r][1]||0,_=y[r-1][1]||0;p+=b-_}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,tl(t,e)}}function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}var fH=["type","size","sizeType"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){hH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hH(t,e,n){return e=dH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dH(t){var e=pH(t,"string");return Nc(e)=="symbol"?e:e+""}function pH(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mH(t,e){if(t==null)return{};var n=gH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Y2={symbolCircle:cx,symbolCross:$q,symbolDiamond:Vq,symbolSquare:Fq,symbolStar:Wq,symbolTriangle:qq,symbolWye:Kq},yH=Math.PI/180,vH=function(e){var n="symbol".concat(eg(e));return Y2[n]||cx},_H=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yH;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bH=function(e,n){Y2["symbol".concat(eg(e))]=n},fx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=mH(e,fH),u=VS(VS({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=vH(r),_=Gq().type(b).size(_H(o,s,r));return _()},h=u.className,d=u.cx,p=u.cy,m=me(u,!0);return d===+d&&p===+p&&o===+o?M.createElement("path",U0({},m,{className:Ie("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};fx.registerSymbol=bH;function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){Rc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J2(r.key),r)}}function AH(t,e,n){return e&&EH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SH(t,e,n){return e=lp(e),TH(t,Q2()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function TH(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PH(t)}function PH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q2=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function IH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function Rc(t,e,n){return e=J2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J2(t){var e=OH(t,"string");return nl(e)=="symbol"?e:e+""}function OH(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sr=32,hx=function(t){function e(){return xH(this,e),SH(this,e,arguments)}return IH(e,t),AH(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=sr/2,a=sr/6,s=sr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:sr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(sr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(sr/8,"h").concat(sr,"v").concat(sr*3/4,"h").concat(-sr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=wH({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(fx,{fill:l,cx:o,cy:o,size:sr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:sr,height:sr},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var y=p.formatter||l,b=Ie(Rc(Rc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=ve(p.value)?null:p.value;Rr(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return M.createElement("li",B0({className:b,style:h,key:"legend-item-".concat(m)},ja(r.props,p,m)),M.createElement(R0,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(_,p,m):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(L.PureComponent);Rc(hx,"displayName","Legend");Rc(hx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var CH=Um;function kH(){this.__data__=new CH,this.size=0}var NH=kH;function RH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var jH=RH;function MH(t){return this.__data__.get(t)}var DH=MH;function $H(t){return this.__data__.has(t)}var LH=$H,VH=Um,FH=Zw,UH=ex,BH=200;function zH(t,e){var n=this.__data__;if(n instanceof VH){var r=n.__data__;if(!FH||r.length<BH-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new UH(r)}return n.set(t,e),this.size=n.size,this}var WH=zH,qH=Um,HH=NH,KH=jH,GH=DH,XH=LH,YH=WH;function zl(t){var e=this.__data__=new qH(t);this.size=e.size}zl.prototype.clear=HH;zl.prototype.delete=KH;zl.prototype.get=GH;zl.prototype.has=XH;zl.prototype.set=YH;var Z2=zl,QH="__lodash_hash_undefined__";function JH(t){return this.__data__.set(t,QH),this}var ZH=JH;function eK(t){return this.__data__.has(t)}var tK=eK,nK=ex,rK=ZH,iK=tK;function up(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new nK;++e<n;)this.add(t[e])}up.prototype.add=up.prototype.push=rK;up.prototype.has=iK;var ej=up;function oK(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var tj=oK;function aK(t,e){return t.has(e)}var nj=aK,sK=ej,lK=tj,uK=nj,cK=1,fK=2;function hK(t,e,n,r,i,o){var a=n&cK,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,p=n&fK?new sK:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var m=t[h],y=e[h];if(r)var b=a?r(y,m,h,e,t,o):r(m,y,h,t,e,o);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!lK(e,function(_,v){if(!uK(p,v)&&(m===_||i(m,_,n,r,o)))return p.push(v)})){d=!1;break}}else if(!(m===y||i(m,y,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var rj=hK,dK=oi,pK=dK.Uint8Array,mK=pK;function gK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var yK=gK;function vK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var dx=vK,US=Mf,BS=mK,_K=Jw,bK=rj,wK=yK,xK=dx,EK=1,AK=2,SK="[object Boolean]",TK="[object Date]",PK="[object Error]",IK="[object Map]",OK="[object Number]",CK="[object RegExp]",kK="[object Set]",NK="[object String]",RK="[object Symbol]",jK="[object ArrayBuffer]",MK="[object DataView]",zS=US?US.prototype:void 0,Uy=zS?zS.valueOf:void 0;function DK(t,e,n,r,i,o,a){switch(n){case MK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jK:return!(t.byteLength!=e.byteLength||!o(new BS(t),new BS(e)));case SK:case TK:case OK:return _K(+t,+e);case PK:return t.name==e.name&&t.message==e.message;case CK:case NK:return t==e+"";case IK:var s=wK;case kK:var l=r&EK;if(s||(s=xK),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=AK,a.set(t,e);var c=bK(s(t),s(e),r,i,o,a);return a.delete(t),c;case RK:if(Uy)return Uy.call(t)==Uy.call(e)}return!1}var $K=DK;function LK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ij=LK,VK=ij,FK=Vn;function UK(t,e,n){var r=e(t);return FK(t)?r:VK(r,n(t))}var BK=UK;function zK(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var WK=zK;function qK(){return[]}var HK=qK,KK=WK,GK=HK,XK=Object.prototype,YK=XK.propertyIsEnumerable,WS=Object.getOwnPropertySymbols,QK=WS?function(t){return t==null?[]:(t=Object(t),KK(WS(t),function(e){return YK.call(t,e)}))}:GK,JK=QK;function ZK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var eG=ZK,tG=Ui,nG=Bi,rG="[object Arguments]";function iG(t){return nG(t)&&tG(t)==rG}var oG=iG,qS=oG,aG=Bi,oj=Object.prototype,sG=oj.hasOwnProperty,lG=oj.propertyIsEnumerable,uG=qS(function(){return arguments}())?qS:function(t){return aG(t)&&sG.call(t,"callee")&&!lG.call(t,"callee")},px=uG,cp={exports:{}};function cG(){return!1}var fG=cG;cp.exports;(function(t,e){var n=oi,r=fG,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(cp,cp.exports);var aj=cp.exports,hG=9007199254740991,dG=/^(?:0|[1-9]\d*)$/;function pG(t,e){var n=typeof t;return e=e??hG,!!e&&(n=="number"||n!="symbol"&&dG.test(t))&&t>-1&&t%1==0&&t<e}var mx=pG,mG=9007199254740991;function gG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mG}var gx=gG,yG=Ui,vG=gx,_G=Bi,bG="[object Arguments]",wG="[object Array]",xG="[object Boolean]",EG="[object Date]",AG="[object Error]",SG="[object Function]",TG="[object Map]",PG="[object Number]",IG="[object Object]",OG="[object RegExp]",CG="[object Set]",kG="[object String]",NG="[object WeakMap]",RG="[object ArrayBuffer]",jG="[object DataView]",MG="[object Float32Array]",DG="[object Float64Array]",$G="[object Int8Array]",LG="[object Int16Array]",VG="[object Int32Array]",FG="[object Uint8Array]",UG="[object Uint8ClampedArray]",BG="[object Uint16Array]",zG="[object Uint32Array]",rt={};rt[MG]=rt[DG]=rt[$G]=rt[LG]=rt[VG]=rt[FG]=rt[UG]=rt[BG]=rt[zG]=!0;rt[bG]=rt[wG]=rt[RG]=rt[xG]=rt[jG]=rt[EG]=rt[AG]=rt[SG]=rt[TG]=rt[PG]=rt[IG]=rt[OG]=rt[CG]=rt[kG]=rt[NG]=!1;function WG(t){return _G(t)&&vG(t.length)&&!!rt[yG(t)]}var qG=WG;function HG(t){return function(e){return t(e)}}var sj=HG,fp={exports:{}};fp.exports;(function(t,e){var n=m2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(fp,fp.exports);var KG=fp.exports,GG=qG,XG=sj,HS=KG,KS=HS&&HS.isTypedArray,YG=KS?XG(KS):GG,lj=YG,QG=eG,JG=px,ZG=Vn,eX=aj,tX=mx,nX=lj,rX=Object.prototype,iX=rX.hasOwnProperty;function oX(t,e){var n=ZG(t),r=!n&&JG(t),i=!n&&!r&&eX(t),o=!n&&!r&&!i&&nX(t),a=n||r||i||o,s=a?QG(t.length,String):[],l=s.length;for(var u in t)(e||iX.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tX(u,l)))&&s.push(u);return s}var aX=oX,sX=Object.prototype;function lX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sX;return t===n}var uX=lX;function cX(t,e){return function(n){return t(e(n))}}var uj=cX,fX=uj,hX=fX(Object.keys,Object),dX=hX,pX=uX,mX=dX,gX=Object.prototype,yX=gX.hasOwnProperty;function vX(t){if(!pX(t))return mX(t);var e=[];for(var n in Object(t))yX.call(t,n)&&n!="constructor"&&e.push(n);return e}var _X=vX,bX=Qw,wX=gx;function xX(t){return t!=null&&wX(t.length)&&!bX(t)}var $f=xX,EX=aX,AX=_X,SX=$f;function TX(t){return SX(t)?EX(t):AX(t)}var ig=TX,PX=BK,IX=JK,OX=ig;function CX(t){return PX(t,OX,IX)}var kX=CX,GS=kX,NX=1,RX=Object.prototype,jX=RX.hasOwnProperty;function MX(t,e,n,r,i,o){var a=n&NX,s=GS(t),l=s.length,u=GS(e),c=u.length;if(l!=c&&!a)return!1;for(var h=l;h--;){var d=s[h];if(!(a?d in e:jX.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=a;++h<l;){d=s[h];var _=t[d],v=e[d];if(r)var w=a?r(v,_,d,e,t,o):r(_,v,d,t,e,o);if(!(w===void 0?_===v||i(_,v,n,r,o):w)){y=!1;break}b||(b=d=="constructor")}if(y&&!b){var O=t.constructor,S=e.constructor;O!=S&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(t),o.delete(e),y}var DX=MX,$X=qa,LX=oi,VX=$X(LX,"DataView"),FX=VX,UX=qa,BX=oi,zX=UX(BX,"Promise"),WX=zX,qX=qa,HX=oi,KX=qX(HX,"Set"),cj=KX,GX=qa,XX=oi,YX=GX(XX,"WeakMap"),QX=YX,W0=FX,q0=Zw,H0=WX,K0=cj,G0=QX,fj=Ui,Wl=y2,XS="[object Map]",JX="[object Object]",YS="[object Promise]",QS="[object Set]",JS="[object WeakMap]",ZS="[object DataView]",ZX=Wl(W0),eY=Wl(q0),tY=Wl(H0),nY=Wl(K0),rY=Wl(G0),oa=fj;(W0&&oa(new W0(new ArrayBuffer(1)))!=ZS||q0&&oa(new q0)!=XS||H0&&oa(H0.resolve())!=YS||K0&&oa(new K0)!=QS||G0&&oa(new G0)!=JS)&&(oa=function(t){var e=fj(t),n=e==JX?t.constructor:void 0,r=n?Wl(n):"";if(r)switch(r){case ZX:return ZS;case eY:return XS;case tY:return YS;case nY:return QS;case rY:return JS}return e});var iY=oa,By=Z2,oY=rj,aY=$K,sY=DX,eT=iY,tT=Vn,nT=aj,lY=lj,uY=1,rT="[object Arguments]",iT="[object Array]",jh="[object Object]",cY=Object.prototype,oT=cY.hasOwnProperty;function fY(t,e,n,r,i,o){var a=tT(t),s=tT(e),l=a?iT:eT(t),u=s?iT:eT(e);l=l==rT?jh:l,u=u==rT?jh:u;var c=l==jh,h=u==jh,d=l==u;if(d&&nT(t)){if(!nT(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new By),a||lY(t)?oY(t,e,n,r,i,o):aY(t,e,l,n,r,i,o);if(!(n&uY)){var p=c&&oT.call(t,"__wrapped__"),m=h&&oT.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,b=m?e.value():e;return o||(o=new By),i(y,b,n,r,o)}}return d?(o||(o=new By),sY(t,e,n,r,i,o)):!1}var hY=fY,dY=hY,aT=Bi;function hj(t,e,n,r,i){return t===e?!0:t==null||e==null||!aT(t)&&!aT(e)?t!==t&&e!==e:dY(t,e,n,r,hj,i)}var yx=hj,pY=Z2,mY=yx,gY=1,yY=2;function vY(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var h=new pY;if(r)var d=r(u,c,l,t,e,h);if(!(d===void 0?mY(c,u,gY|yY,r,h):d))return!1}}return!0}var _Y=vY,bY=Uo;function wY(t){return t===t&&!bY(t)}var dj=wY,xY=dj,EY=ig;function AY(t){for(var e=EY(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,xY(i)]}return e}var SY=AY;function TY(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var pj=TY,PY=_Y,IY=SY,OY=pj;function CY(t){var e=IY(t);return e.length==1&&e[0][2]?OY(e[0][0],e[0][1]):function(n){return n===t||PY(n,t,e)}}var kY=CY;function NY(t,e){return t!=null&&e in Object(t)}var RY=NY,jY=x2,MY=px,DY=Vn,$Y=mx,LY=gx,VY=zm;function FY(t,e,n){e=jY(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=VY(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&LY(i)&&$Y(a,i)&&(DY(t)||MY(t)))}var UY=FY,BY=RY,zY=UY;function WY(t,e){return t!=null&&zY(t,e,BY)}var qY=WY,HY=yx,KY=E2,GY=qY,XY=Yw,YY=dj,QY=pj,JY=zm,ZY=1,eQ=2;function tQ(t,e){return XY(t)&&YY(e)?QY(JY(t),e):function(n){var r=KY(n,t);return r===void 0&&r===e?GY(n,t):HY(e,r,ZY|eQ)}}var nQ=tQ;function rQ(t){return t}var ql=rQ;function iQ(t){return function(e){return e==null?void 0:e[t]}}var oQ=iQ,aQ=rx;function sQ(t){return function(e){return aQ(e,t)}}var lQ=sQ,uQ=oQ,cQ=lQ,fQ=Yw,hQ=zm;function dQ(t){return fQ(t)?uQ(hQ(t)):cQ(t)}var pQ=dQ,mQ=kY,gQ=nQ,yQ=ql,vQ=Vn,_Q=pQ;function bQ(t){return typeof t=="function"?t:t==null?yQ:typeof t=="object"?vQ(t)?gQ(t[0],t[1]):mQ(t):_Q(t)}var ai=bQ;function wQ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var mj=wQ;function xQ(t){return t!==t}var EQ=xQ;function AQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var SQ=AQ,TQ=mj,PQ=EQ,IQ=SQ;function OQ(t,e,n){return e===e?IQ(t,e,n):TQ(t,PQ,n)}var CQ=OQ,kQ=CQ;function NQ(t,e){var n=t==null?0:t.length;return!!n&&kQ(t,e,0)>-1}var RQ=NQ;function jQ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var MQ=jQ;function DQ(){}var $Q=DQ,zy=cj,LQ=$Q,VQ=dx,FQ=1/0,UQ=zy&&1/VQ(new zy([,-0]))[1]==FQ?function(t){return new zy(t)}:LQ,BQ=UQ,zQ=ej,WQ=RQ,qQ=MQ,HQ=nj,KQ=BQ,GQ=dx,XQ=200;function YQ(t,e,n){var r=-1,i=WQ,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=qQ;else if(o>=XQ){var u=e?null:KQ(t);if(u)return GQ(u);a=!1,i=HQ,l=new zQ}else l=e?[]:s;e:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||c!==0?c:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}var QQ=YQ,JQ=ai,ZQ=QQ;function eJ(t,e){return t&&t.length?ZQ(t,JQ(e)):[]}var tJ=eJ;const sT=ze(tJ);function gj(t,e,n){return e===!0?sT(t,n):ve(e)?sT(t,e):t}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}var nJ=["ref"];function lT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lT(Object(n),!0).forEach(function(r){og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vj(r.key),r)}}function iJ(t,e,n){return e&&uT(t.prototype,e),n&&uT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oJ(t,e,n){return e=hp(e),aJ(t,yj()?Reflect.construct(e,n||[],hp(t).constructor):e.apply(t,n))}function aJ(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sJ(t)}function sJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yj=function(){return!!t})()}function hp(t){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hp(t)}function lJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X0(t,e)}function og(t,e,n){return e=vj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vj(t){var e=uJ(t,"string");return rl(e)=="symbol"?e:e+""}function uJ(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cJ(t,e){if(t==null)return{};var n=fJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hJ(t){return t.value}function dJ(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=cJ(e,nJ);return M.createElement(hx,n)}var cT=1,Po=function(t){function e(){var n;rJ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=oJ(this,e,[].concat(i)),og(n,"lastBoundingBox",{width:-1,height:-1}),n}return lJ(e,t),iJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cT||Math.abs(i.height-this.lastBoundingBox.height)>cT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ci({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ci(ci({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,h=ci(ci({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},dJ(o,ci(ci({},this.props),{},{payload:gj(c,u,hJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ci(ci({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Z(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);og(Po,"displayName","Legend");og(Po,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fT=Mf,pJ=px,mJ=Vn,hT=fT?fT.isConcatSpreadable:void 0;function gJ(t){return mJ(t)||pJ(t)||!!(hT&&t&&t[hT])}var yJ=gJ,vJ=ij,_J=yJ;function _j(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_J),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?_j(s,e-1,n,r,i):vJ(i,s):r||(i[i.length]=s)}return i}var bj=_j;function bJ(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var wJ=bJ,xJ=wJ,EJ=xJ(),AJ=EJ,SJ=AJ,TJ=ig;function PJ(t,e){return t&&SJ(t,e,TJ)}var wj=PJ,IJ=$f;function OJ(t,e){return function(n,r){if(n==null)return n;if(!IJ(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var CJ=OJ,kJ=wj,NJ=CJ,RJ=NJ(kJ),vx=RJ,jJ=vx,MJ=$f;function DJ(t,e){var n=-1,r=MJ(t)?Array(t.length):[];return jJ(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var xj=DJ;function $J(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var LJ=$J,dT=$l;function VJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=dT(t),a=e!==void 0,s=e===null,l=e===e,u=dT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var FJ=VJ,UJ=FJ;function BJ(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=UJ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var zJ=BJ,Wy=nx,WJ=rx,qJ=ai,HJ=xj,KJ=LJ,GJ=sj,XJ=zJ,YJ=ql,QJ=Vn;function JJ(t,e,n){e.length?e=Wy(e,function(o){return QJ(o)?function(a){return WJ(a,o.length===1?o[0]:o)}:o}):e=[YJ];var r=-1;e=Wy(e,GJ(qJ));var i=HJ(t,function(o,a,s){var l=Wy(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return KJ(i,function(o,a){return XJ(o,a,n)})}var ZJ=JJ;function eZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var tZ=eZ,nZ=tZ,pT=Math.max;function rZ(t,e,n){return e=pT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=pT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),nZ(t,this,s)}}var iZ=rZ;function oZ(t){return function(){return t}}var aZ=oZ,sZ=qa,lZ=function(){try{var t=sZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ej=lZ,uZ=aZ,mT=Ej,cZ=ql,fZ=mT?function(t,e){return mT(t,"toString",{configurable:!0,enumerable:!1,value:uZ(e),writable:!0})}:cZ,hZ=fZ,dZ=800,pZ=16,mZ=Date.now;function gZ(t){var e=0,n=0;return function(){var r=mZ(),i=pZ-(r-n);if(n=r,i>0){if(++e>=dZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var yZ=gZ,vZ=hZ,_Z=yZ,bZ=_Z(vZ),wZ=bZ,xZ=ql,EZ=iZ,AZ=wZ;function SZ(t,e){return AZ(EZ(t,e,xZ),t+"")}var TZ=SZ,PZ=Jw,IZ=$f,OZ=mx,CZ=Uo;function kZ(t,e,n){if(!CZ(n))return!1;var r=typeof e;return(r=="number"?IZ(n)&&OZ(e,n.length):r=="string"&&e in n)?PZ(n[e],t):!1}var ag=kZ,NZ=bj,RZ=ZJ,jZ=TZ,gT=ag,MZ=jZ(function(t,e){if(t==null)return[];var n=e.length;return n>1&&gT(t,e[0],e[1])?e=[]:n>2&&gT(e[0],e[1],e[2])&&(e=[e[0]]),RZ(t,NZ(e,1),[])}),DZ=MZ;const _x=ze(DZ);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y0.apply(this,arguments)}function $Z(t,e){return UZ(t)||FZ(t,e)||VZ(t,e)||LZ()}function LZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VZ(t,e){if(t){if(typeof t=="string")return yT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yT(t,e)}}function yT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function UZ(t){if(Array.isArray(t))return t}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return e=zZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zZ(t){var e=WZ(t,"string");return jc(e)=="symbol"?e:e+""}function WZ(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qZ(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var HZ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,y=e.label,b=e.labelFormatter,_=e.accessibilityLayer,v=_===void 0?!1:_,w=function(){if(c&&c.length){var R={padding:0,margin:0},N=(d?_x(c,d):c).map(function(U,B){if(U.type==="none")return null;var H=qy({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),K=U.formatter||h||qZ,$=U.value,z=U.name,q=$,ee=z;if(K&&q!=null&&ee!=null){var X=K($,z,U,B,c);if(Array.isArray(X)){var ae=$Z(X,2);q=ae[0],ee=ae[1]}else q=X}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:H},Ut(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Ut(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},q),M.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},O=qy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=qy({margin:0},u),P=!Ae(y),E=P?y:"",A=Ie("recharts-default-tooltip",p),I=Ie("recharts-tooltip-label",m);P&&b&&c!==void 0&&c!==null&&(E=b(y,c));var C=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",Y0({className:A,style:O},C),M.createElement("p",{className:I,style:S},M.isValidElement(E)?E:"".concat(E)),w())};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function Mh(t,e,n){return e=KZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KZ(t){var e=GZ(t,"string");return Mc(e)=="symbol"?e:e+""}function GZ(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u="recharts-tooltip-wrapper",XZ={visibility:"hidden"};function YZ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ie(_u,Mh(Mh(Mh(Mh({},"".concat(_u,"-right"),Z(n)&&e&&Z(e.x)&&n>=e.x),"".concat(_u,"-left"),Z(n)&&e&&Z(e.x)&&n<e.x),"".concat(_u,"-bottom"),Z(r)&&e&&Z(e.y)&&r>=e.y),"".concat(_u,"-top"),Z(r)&&e&&Z(e.y)&&r<e.y))}function _T(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&Z(o[r]))return o[r];var c=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?c:h;if(a[r]){var d=c,p=l[r];return d<p?Math.max(h,l[r]):Math.max(c,l[r])}var m=h+s,y=l[r]+u;return m>y?Math.max(c,l[r]):Math.max(h,l[r])}function QZ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function JZ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,h;return a.height>0&&a.width>0&&n?(c=_T({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=_T({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=QZ({translateX:c,translateY:h,useTranslate3d:s})):u=XZ,{cssProperties:u,cssClasses:YZ({translateX:c,translateY:h,coordinate:n})}}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){J0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sj(r.key),r)}}function tee(t,e,n){return e&&eee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nee(t,e,n){return e=dp(e),ree(t,Aj()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function ree(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iee(t)}function iee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aj=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q0(t,e)}function J0(t,e,n){return e=Sj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sj(t){var e=aee(t,"string");return il(e)=="symbol"?e:e+""}function aee(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xT=1,see=function(t){function e(){var n;ZZ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=nee(this,e,[].concat(i)),J0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),J0(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return oee(e,t),tee(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>xT||Math.abs(r.height-this.state.lastBoundingBox.height)>xT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,y=i.reverseDirection,b=i.useTranslate3d,_=i.viewBox,v=i.wrapperStyle,w=JZ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:_}),O=w.cssClasses,S=w.cssProperties,P=wT(wT({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return M.createElement("div",{tabIndex:-1,className:O,style:P,ref:function(A){r.wrapperNode=A}},u)}}])}(L.PureComponent),lee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ha={isSsr:lee()};function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(n),!0).forEach(function(r){bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pj(r.key),r)}}function fee(t,e,n){return e&&cee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hee(t,e,n){return e=pp(e),dee(t,Tj()?Reflect.construct(e,n||[],pp(t).constructor):e.apply(t,n))}function dee(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pee(t)}function pee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tj=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pp(t)}function mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function bx(t,e,n){return e=Pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pj(t){var e=gee(t,"string");return ol(e)=="symbol"?e:e+""}function gee(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yee(t){return t.dataKey}function vee(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(HZ,e)}var lr=function(t){function e(){return uee(this,e),hee(this,e,arguments)}return mee(e,t),fee(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,y=i.payloadUniqBy,b=i.position,_=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,O=i.wrapperStyle,S=m??[];h&&S.length&&(S=gj(m.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),y,yee));var P=S.length>0;return M.createElement(see,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:P,offset:p,position:b,reverseDirection:_,useTranslate3d:v,viewBox:w,wrapperStyle:O},vee(u,AT(AT({},this.props),{},{payload:S})))}}])}(L.PureComponent);bx(lr,"displayName","Tooltip");bx(lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ha.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _ee=oi,bee=function(){return _ee.Date.now()},wee=bee,xee=/\s/;function Eee(t){for(var e=t.length;e--&&xee.test(t.charAt(e)););return e}var Aee=Eee,See=Aee,Tee=/^\s+/;function Pee(t){return t&&t.slice(0,See(t)+1).replace(Tee,"")}var Iee=Pee,Oee=Iee,ST=Uo,Cee=$l,TT=NaN,kee=/^[-+]0x[0-9a-f]+$/i,Nee=/^0b[01]+$/i,Ree=/^0o[0-7]+$/i,jee=parseInt;function Mee(t){if(typeof t=="number")return t;if(Cee(t))return TT;if(ST(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ST(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Oee(t);var n=Nee.test(t);return n||Ree.test(t)?jee(t.slice(2),n?2:8):kee.test(t)?TT:+t}var Ij=Mee,Dee=Uo,Hy=wee,PT=Ij,$ee="Expected a function",Lee=Math.max,Vee=Math.min;function Fee(t,e,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError($ee);e=PT(e)||0,Dee(n)&&(c=!!n.leading,h="maxWait"in n,o=h?Lee(PT(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(P){var E=r,A=i;return r=i=void 0,u=P,a=t.apply(A,E),a}function m(P){return u=P,s=setTimeout(_,e),c?p(P):a}function y(P){var E=P-l,A=P-u,I=e-E;return h?Vee(I,o-A):I}function b(P){var E=P-l,A=P-u;return l===void 0||E>=e||E<0||h&&A>=o}function _(){var P=Hy();if(b(P))return v(P);s=setTimeout(_,y(P))}function v(P){return s=void 0,d&&r?p(P):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:v(Hy())}function S(){var P=Hy(),E=b(P);if(r=arguments,i=this,l=P,E){if(s===void 0)return m(l);if(h)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),a}return S.cancel=w,S.flush=O,S}var Uee=Fee,Bee=Uee,zee=Uo,Wee="Expected a function";function qee(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Wee);return zee(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Bee(t,e,{leading:r,maxWait:e,trailing:i})}var Hee=qee;const Oj=ze(Hee);function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){Kee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kee(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=Xee(t,"string");return Dc(e)=="symbol"?e:e+""}function Xee(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yee(t,e){return ete(t)||Zee(t,e)||Jee(t,e)||Qee()}function Qee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jee(t,e){if(t){if(typeof t=="string")return OT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(t,e)}}function OT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ete(t){if(Array.isArray(t))return t}var e_=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,h=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,y=m===void 0?0:m,b=t.id,_=t.className,v=t.onResize,w=t.style,O=w===void 0?{}:w,S=L.useRef(null),P=L.useRef();P.current=v,L.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=L.useState({containerWidth:i.width,containerHeight:i.height}),A=Yee(E,2),I=A[0],C=A[1],k=L.useCallback(function(N,U){C(function(B){var H=Math.round(N),K=Math.round(U);return B.containerWidth===H&&B.containerHeight===K?B:{containerWidth:H,containerHeight:K}})},[]);L.useEffect(function(){var N=function(z){var q,ee=z[0].contentRect,X=ee.width,ae=ee.height;k(X,ae),(q=P.current)===null||q===void 0||q.call(P,X,ae)};y>0&&(N=Oj(N,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),B=S.current.getBoundingClientRect(),H=B.width,K=B.height;return k(H,K),U.observe(S.current),function(){U.disconnect()}},[k,y]);var R=L.useMemo(function(){var N=I.containerWidth,U=I.containerHeight;if(N<0||U<0)return null;Rr(ha(a)||ha(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ha(a)?N:a,H=ha(l)?U:l;n&&n>0&&(B?H=B/n:H&&(B=H*n),d&&H>d&&(H=d)),Rr(B>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,H,a,l,c,h,n);var K=!Array.isArray(p)&&Ai(p.type).endsWith("Chart");return M.Children.map(p,function($){return M.isValidElement($)?L.cloneElement($,Dh({width:B,height:H},K?{style:Dh({height:"100%",width:"100%",maxHeight:H,maxWidth:B},$.props.style)}:{})):$})},[n,p,l,d,h,c,I,a]);return M.createElement("div",{id:b?"".concat(b):void 0,className:Ie("recharts-responsive-container",_),style:Dh(Dh({},O),{},{width:a,height:l,minWidth:c,minHeight:h,maxHeight:d}),ref:S},R)}),sg=function(e){return null};sg.displayName="Cell";function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){tte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tte(t,e,n){return e=nte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nte(t){var e=rte(t,"string");return $c(e)=="symbol"?e:e+""}function rte(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ns={widthCache:{},cacheCount:0},ite=2e3,ote={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kT="recharts_measurement_span";function ate(t){var e=t_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Zu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ha.isSsr)return{width:0,height:0};var r=ate(n),i=JSON.stringify({text:e,copyStyle:r});if(ns.widthCache[i])return ns.widthCache[i];try{var o=document.getElementById(kT);o||(o=document.createElement("span"),o.setAttribute("id",kT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=t_(t_({},ote),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ns.widthCache[i]=l,++ns.cacheCount>ite&&(ns.cacheCount=0,ns.widthCache={}),l}catch{return{width:0,height:0}}},ste=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function mp(t,e){return fte(t)||cte(t,e)||ute(t,e)||lte()}function lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fte(t){if(Array.isArray(t))return t}function hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pte(r.key),r)}}function dte(t,e,n){return e&&RT(t.prototype,e),n&&RT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pte(t){var e=mte(t,"string");return Lc(e)=="symbol"?e:e+""}function mte(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vte=Object.keys(Cj),xs="NaN";function _te(t,e){return t*Cj[e]}var $h=function(){function t(e,n){hte(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!gte.test(n)&&(this.num=NaN,this.unit=""),vte.includes(n)&&(this.num=_te(e,n),this.unit="px")}return dte(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=yte.exec(n))!==null&&r!==void 0?r:[],o=mp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function kj(t){if(t.includes(xs))return xs;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=jT.exec(e))!==null&&n!==void 0?n:[],i=mp(r,4),o=i[1],a=i[2],s=i[3],l=$h.parse(o??""),u=$h.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return xs;e=e.replace(jT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=MT.exec(e))!==null&&h!==void 0?h:[],p=mp(d,4),m=p[1],y=p[2],b=p[3],_=$h.parse(m??""),v=$h.parse(b??""),w=y==="+"?_.add(v):_.subtract(v);if(w.isNaN())return xs;e=e.replace(MT,w.toString())}return e}var DT=/\(([^()]*)\)/;function bte(t){for(var e=t;e.includes("(");){var n=DT.exec(e),r=mp(n,2),i=r[1];e=e.replace(DT,kj(i))}return e}function wte(t){var e=t.replace(/\s+/g,"");return e=bte(e),e=kj(e),e}function xte(t){try{return wte(t)}catch{return xs}}function Ky(t){var e=xte(t.slice(5,-1));return e===xs?"":e}var Ete=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ate=["dx","dy","angle","className","breakAll"];function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function $T(t,e){if(t==null)return{};var n=Ste(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ste(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LT(t,e){return Ote(t)||Ite(t,e)||Pte(t,e)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(t,e){if(t){if(typeof t=="string")return VT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VT(t,e)}}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ite(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ote(t){if(Array.isArray(t))return t}var Nj=/[ \f\n\r\t\v\u2028\u2029]+/,Rj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(Nj));var a=o.map(function(l){return{word:l,width:Zu(l,i).width}}),s=r?0:Zu("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Cte=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=Z(a),h=s,d=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(H,K){var $=K.word,z=K.width,q=H[H.length-1];if(q&&(i==null||o||q.width+z+r<Number(i)))q.words.push($),q.width+=z+r;else{var ee={words:[$],width:z};H.push(ee)}return H},[])},p=d(n),m=function(B){return B.reduce(function(H,K){return H.width>K.width?H:K})};if(!c)return p;for(var y="",b=function(B){var H=h.slice(0,B),K=Rj({breakAll:u,style:l,children:H+y}).wordsWithComputedWidth,$=d(K),z=$.length>a||m($).width>Number(i);return[z,$]},_=0,v=h.length-1,w=0,O;_<=v&&w<=h.length-1;){var S=Math.floor((_+v)/2),P=S-1,E=b(P),A=LT(E,2),I=A[0],C=A[1],k=b(S),R=LT(k,1),N=R[0];if(!I&&!N&&(_=S+1),I&&N&&(v=S-1),!I&&N){O=C;break}w++}return O||p},FT=function(e){var n=Ae(e)?[]:e.toString().split(Nj);return[{words:n}]},kte=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ha.isSsr){var l,u,c=Rj({breakAll:a,children:i,style:o});if(c){var h=c.wordsWithComputedWidth,d=c.spaceWidth;l=h,u=d}else return FT(i);return Cte({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return FT(i)},UT="#808080",Ma=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,h=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,y=m===void 0?"end":m,b=e.fill,_=b===void 0?UT:b,v=$T(e,Ete),w=L.useMemo(function(){return kte({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),O=v.dx,S=v.dy,P=v.angle,E=v.className,A=v.breakAll,I=$T(v,Ate);if(!Ut(r)||!Ut(o))return null;var C=r+(Z(O)?O:0),k=o+(Z(S)?S:0),R;switch(y){case"start":R=Ky("calc(".concat(u,")"));break;case"middle":R=Ky("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=Ky("calc(".concat(w.length-1," * -").concat(s,")"));break}var N=[];if(h){var U=w[0].width,B=v.width;N.push("scale(".concat((Z(B)?B/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(C,", ").concat(k,")")),N.length&&(I.transform=N.join(" ")),M.createElement("text",n_({},me(I,!0),{x:C,y:k,className:Ie("recharts-text",E),textAnchor:p,fill:_.includes("url")?UT:_}),w.map(function(H,K){var $=H.words.join(A?"":" ");return M.createElement("tspan",{x:C,dy:K===0?R:s,key:"".concat($,"-").concat(K)},$)}))};function Io(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nte(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wx(t){let e,n,r;t.length!==2?(e=Io,n=(s,l)=>Io(t(s),l),r=(s,l)=>t(s)-l):(e=t===Io||t===Nte?t:Rte,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function Rte(){return 0}function jj(t){return t===null?NaN:+t}function*jte(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Mte=wx(Io),Lf=Mte.right;wx(jj).center;class BT extends Map{constructor(e,n=Lte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(zT(this,e))}has(e){return super.has(zT(this,e))}set(e,n){return super.set(Dte(this,e),n)}delete(e){return super.delete($te(this,e))}}function zT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Dte({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function $te({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Lte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Vte(t=Io){if(t===Io)return Mj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Mj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fte=Math.sqrt(50),Ute=Math.sqrt(10),Bte=Math.sqrt(2);function gp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Fte?10:o>=Ute?5:o>=Bte?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?gp(t,e,n*2):[s,l,u]}function r_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?gp(e,t,n):gp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function i_(t,e,n){return e=+e,t=+t,n=+n,gp(t,e,n)[2]}function o_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?i_(e,t,n):i_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function WT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Dj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Mj:Vte(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),m=Math.min(r,Math.floor(e+(l-u)*h/l+d));Dj(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(bu(t,n,e),i(t[r],o)>0&&bu(t,n,r);a<s;){for(bu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?bu(t,n,s):(++s,bu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function bu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function zte(t,e,n){if(t=Float64Array.from(jte(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qT(t);if(e>=1)return WT(t);var r,i=(r-1)*e,o=Math.floor(i),a=WT(Dj(t,o).subarray(0,o+1)),s=qT(t.subarray(o+1));return a+(s-a)*(i-o)}}function Wte(t,e,n=jj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function qte(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function _r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a_=Symbol("implicit");function xx(){var t=new BT,e=[],n=[],r=a_;function i(o){let a=t.get(o);if(a===void 0){if(r!==a_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new BT;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xx(e,n).unknown(r)},_r.apply(i,arguments),i}function Vc(){var t=xx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,m=p?i:r,y=p?r:i;o=(y-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(y-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var b=qte(d).map(function(_){return m+o*_});return n(p?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return Vc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},_r.apply(h(),arguments)}function $j(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $j(e())},t}function ec(){return $j(Vc.apply(null,arguments).paddingInner(1))}function Ex(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Lj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vf(){}var Fc=.7,yp=1/Fc,Ls="\\s*([+-]?\\d+)\\s*",Uc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hte=/^#([0-9a-f]{3,8})$/,Kte=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),Gte=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),Xte=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Uc}\\)$`),Yte=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Uc}\\)$`),Qte=new RegExp(`^hsl\\(${Uc},${Zr},${Zr}\\)$`),Jte=new RegExp(`^hsla\\(${Uc},${Zr},${Zr},${Uc}\\)$`),HT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ex(Vf,Bc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KT,formatHex:KT,formatHex8:Zte,formatHsl:ene,formatRgb:GT,toString:GT});function KT(){return this.rgb().formatHex()}function Zte(){return this.rgb().formatHex8()}function ene(){return Vj(this).formatHsl()}function GT(){return this.rgb().formatRgb()}function Bc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hte.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XT(e):n===3?new Mn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kte.exec(t))?new Mn(e[1],e[2],e[3],1):(e=Gte.exec(t))?new Mn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xte.exec(t))?Lh(e[1],e[2],e[3],e[4]):(e=Yte.exec(t))?Lh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qte.exec(t))?JT(e[1],e[2]/100,e[3]/100,1):(e=Jte.exec(t))?JT(e[1],e[2]/100,e[3]/100,e[4]):HT.hasOwnProperty(t)?XT(HT[t]):t==="transparent"?new Mn(NaN,NaN,NaN,0):null}function XT(t){return new Mn(t>>16&255,t>>8&255,t&255,1)}function Lh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Mn(t,e,n,r)}function tne(t){return t instanceof Vf||(t=Bc(t)),t?(t=t.rgb(),new Mn(t.r,t.g,t.b,t.opacity)):new Mn}function s_(t,e,n,r){return arguments.length===1?tne(t):new Mn(t,e,n,r??1)}function Mn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ex(Mn,s_,Lj(Vf,{brighter(t){return t=t==null?yp:Math.pow(yp,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new Mn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Mn(ba(this.r),ba(this.g),ba(this.b),vp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YT,formatHex:YT,formatHex8:nne,formatRgb:QT,toString:QT}));function YT(){return`#${da(this.r)}${da(this.g)}${da(this.b)}`}function nne(){return`#${da(this.r)}${da(this.g)}${da(this.b)}${da((isNaN(this.opacity)?1:this.opacity)*255)}`}function QT(){const t=vp(this.opacity);return`${t===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${t===1?")":`, ${t})`}`}function vp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ba(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function da(t){return t=ba(t),(t<16?"0":"")+t.toString(16)}function JT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cr(t,e,n,r)}function Vj(t){if(t instanceof Cr)return new Cr(t.h,t.s,t.l,t.opacity);if(t instanceof Vf||(t=Bc(t)),!t)return new Cr;if(t instanceof Cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Cr(a,s,l,t.opacity)}function rne(t,e,n,r){return arguments.length===1?Vj(t):new Cr(t,e,n,r??1)}function Cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ex(Cr,rne,Lj(Vf,{brighter(t){return t=t==null?yp:Math.pow(yp,t),new Cr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new Cr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Mn(Gy(t>=240?t-240:t+120,i,r),Gy(t,i,r),Gy(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cr(ZT(this.h),Vh(this.s),Vh(this.l),vp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vp(this.opacity);return`${t===1?"hsl(":"hsla("}${ZT(this.h)}, ${Vh(this.s)*100}%, ${Vh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZT(t){return t=(t||0)%360,t<0?t+360:t}function Vh(t){return Math.max(0,Math.min(1,t||0))}function Gy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ax=t=>()=>t;function ine(t,e){return function(n){return t+n*e}}function one(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ane(t){return(t=+t)==1?Fj:function(e,n){return n-e?one(e,n,t):Ax(isNaN(e)?n:e)}}function Fj(t,e){var n=e-t;return n?ine(t,n):Ax(isNaN(t)?e:t)}const eP=function t(e){var n=ane(e);function r(i,o){var a=n((i=s_(i)).r,(o=s_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Fj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function sne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function lne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function une(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Hl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function cne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _p(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Hl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var l_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xy=new RegExp(l_.source,"g");function hne(t){return function(){return t}}function dne(t){return function(e){return t(e)+""}}function pne(t,e){var n=l_.lastIndex=Xy.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=l_.exec(t))&&(i=Xy.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:_p(r,i)})),n=Xy.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?dne(l[0].x):hne(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Hl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ax(e):(n==="number"?_p:n==="string"?(r=Bc(e))?(e=r,eP):pne:e instanceof Bc?eP:e instanceof Date?cne:lne(e)?sne:Array.isArray(e)?une:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?fne:_p)(t,e)}function Sx(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function mne(t,e){e===void 0&&(e=t,t=Hl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function gne(t){return function(){return t}}function bp(t){return+t}var tP=[0,1];function Tn(t){return t}function u_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gne(isNaN(e)?NaN:.5)}function yne(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vne(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=u_(i,r),o=n(a,o)):(r=u_(r,i),o=n(o,a)),function(s){return o(r(s))}}function _ne(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=u_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Lf(t,s,1,r)-1;return o[l](i[l](s))}}function Ff(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lg(){var t=tP,e=tP,n=Hl,r,i,o,a=Tn,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==Tn&&(a=yne(t[0],t[d-1])),s=d>2?_ne:vne,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((u||(u=s(e,t.map(r),_p)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,bp),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Sx,c()},h.clamp=function(d){return arguments.length?(a=d?!0:Tn,c()):a!==Tn},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function Tx(){return lg()(Tn,Tn)}function bne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function al(t){return t=wp(Math.abs(t)),t?t[1]:NaN}function wne(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function xne(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ene=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zc(t){if(!(e=Ene.exec(t)))throw new Error("invalid format: "+t);var e;return new Px({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zc.prototype=Px.prototype;function Px(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ane(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Uj;function Sne(t,e){var n=wp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Uj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wp(t,Math.max(0,e+o-1))[0]}function nP(t,e){var n=wp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nP(t*100,e),r:nP,s:Sne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iP(t){return t}var oP=Array.prototype.map,aP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tne(t){var e=t.grouping===void 0||t.thousands===void 0?iP:wne(oP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iP:xne(oP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=zc(h);var d=h.fill,p=h.align,m=h.sign,y=h.symbol,b=h.zero,_=h.width,v=h.comma,w=h.precision,O=h.trim,S=h.type;S==="n"?(v=!0,S="g"):rP[S]||(w===void 0&&(w=12),O=!0,S="g"),(b||d==="0"&&p==="=")&&(b=!0,d="0",p="=");var P=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=y==="$"?r:/[%p]/.test(S)?a:"",A=rP[S],I=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(k){var R=P,N=E,U,B,H;if(S==="c")N=A(k)+N,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:A(Math.abs(k),w),O&&(k=Ane(k)),K&&+k==0&&m!=="+"&&(K=!1),R=(K?m==="("?m:s:m==="-"||m==="("?"":m)+R,N=(S==="s"?aP[8+Uj/3]:"")+N+(K&&m==="("?")":""),I){for(U=-1,B=k.length;++U<B;)if(H=k.charCodeAt(U),48>H||H>57){N=(H===46?i+k.slice(U+1):k.slice(U))+N,k=k.slice(0,U);break}}}v&&!b&&(k=e(k,1/0));var $=R.length+k.length+N.length,z=$<_?new Array(_-$+1).join(d):"";switch(v&&b&&(k=e(z+k,z.length?_-N.length:1/0),z=""),p){case"<":k=R+k+N+z;break;case"=":k=R+z+k+N;break;case"^":k=z.slice(0,$=z.length>>1)+R+k+N+z.slice($);break;default:k=z+R+k+N;break}return o(k)}return C.toString=function(){return h+""},C}function c(h,d){var p=u((h=zc(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(al(d)/3)))*3,y=Math.pow(10,-m),b=aP[8+m/3];return function(_){return p(y*_)+b}}return{format:u,formatPrefix:c}}var Fh,Ix,Bj;Pne({thousands:",",grouping:[3],currency:["$",""]});function Pne(t){return Fh=Tne(t),Ix=Fh.format,Bj=Fh.formatPrefix,Fh}function Ine(t){return Math.max(0,-al(Math.abs(t)))}function One(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(al(e)/3)))*3-al(Math.abs(t)))}function Cne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,al(e)-al(t))+1}function zj(t,e,n,r){var i=o_(t,e,n),o;switch(r=zc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=One(i,a))&&(r.precision=o),Bj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Cne(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ine(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ix(r)}function Bo(t){var e=t.domain;return t.ticks=function(n){var r=e();return r_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=i_(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function xp(){var t=Tx();return t.copy=function(){return Ff(t,xp())},_r.apply(t,arguments),Bo(t)}function Wj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,bp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Wj(t).unknown(e)},t=arguments.length?Array.from(t,bp):[0,1],Bo(n)}function qj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function sP(t){return Math.log(t)}function lP(t){return Math.exp(t)}function kne(t){return-Math.log(-t)}function Nne(t){return-Math.exp(-t)}function Rne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jne(t){return t===10?Rne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Mne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uP(t){return(e,n)=>-t(-e,n)}function Ox(t){const e=t(sP,lP),n=e.domain;let r=10,i,o;function a(){return i=Mne(r),o=jne(r),n()[0]<0?(i=uP(i),o=uP(o),t(kne,Nne)):t(sP,lP),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),p=i(c),m,y;const b=s==null?10:+s;let _=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(y=d<0?m/o(-d):m*o(d),!(y<u)){if(y>c)break;_.push(y)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(y=d>0?m/o(-d):m*o(d),!(y<u)){if(y>c)break;_.push(y)}_.length*2<b&&(_=r_(u,c,b))}else _=r_(d,p,Math.min(p-d,b)).map(o);return h?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zc(l)).precision==null&&(l.trim=!0),l=Ix(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(qj(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function Hj(){const t=Ox(lg()).domain([1,10]);return t.copy=()=>Ff(t,Hj()).base(t.base()),_r.apply(t,arguments),t}function cP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Cx(t){var e=1,n=t(cP(e),fP(e));return n.constant=function(r){return arguments.length?t(cP(e=+r),fP(e)):e},Bo(n)}function Kj(){var t=Cx(lg());return t.copy=function(){return Ff(t,Kj()).constant(t.constant())},_r.apply(t,arguments)}function hP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $ne(t){return t<0?-t*t:t*t}function kx(t){var e=t(Tn,Tn),n=1;function r(){return n===1?t(Tn,Tn):n===.5?t(Dne,$ne):t(hP(n),hP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bo(e)}function Nx(){var t=kx(lg());return t.copy=function(){return Ff(t,Nx()).exponent(t.exponent())},_r.apply(t,arguments),t}function Lne(){return Nx.apply(null,arguments).exponent(.5)}function dP(t){return Math.sign(t)*t*t}function Vne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Gj(){var t=Tx(),e=[0,1],n=!1,r;function i(o){var a=Vne(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(dP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,bp)).map(dP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Gj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},_r.apply(i,arguments),Bo(i)}function Xj(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Wte(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Lf(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Io),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Xj().domain(t).range(e).unknown(r)},_r.apply(o,arguments)}function Yj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Lf(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Yj().domain([t,e]).range(i).unknown(o)},_r.apply(Bo(a),arguments)}function Qj(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Lf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Qj().domain(t).range(e).unknown(n)},_r.apply(i,arguments)}const Yy=new Date,Qy=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>zt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Yy.setTime(+o),Qy.setTime(+a),t(Yy),t(Qy),Math.floor(n(Yy,Qy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ep=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ep.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ep);Ep.range;const bi=1e3,dr=bi*60,wi=dr*60,$i=wi*24,Rx=$i*7,pP=$i*30,Jy=$i*365,pa=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCSeconds());pa.range;const jx=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getMinutes());jx.range;const Mx=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dr)},(t,e)=>(e-t)/dr,t=>t.getUTCMinutes());Mx.range;const Dx=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bi-t.getMinutes()*dr)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getHours());Dx.range;const $x=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*wi)},(t,e)=>(e-t)/wi,t=>t.getUTCHours());$x.range;const Uf=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dr)/$i,t=>t.getDate()-1);Uf.range;const ug=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>t.getUTCDate()-1);ug.range;const Jj=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$i,t=>Math.floor(t/$i));Jj.range;function Ka(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*dr)/Rx)}const cg=Ka(0),Ap=Ka(1),Fne=Ka(2),Une=Ka(3),sl=Ka(4),Bne=Ka(5),zne=Ka(6);cg.range;Ap.range;Fne.range;Une.range;sl.range;Bne.range;zne.range;function Ga(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Rx)}const fg=Ga(0),Sp=Ga(1),Wne=Ga(2),qne=Ga(3),ll=Ga(4),Hne=Ga(5),Kne=Ga(6);fg.range;Sp.range;Wne.range;qne.range;ll.range;Hne.range;Kne.range;const Lx=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Lx.range;const Vx=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vx.range;const Li=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Li.range;const Vi=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vi.range;function Zj(t,e,n,r,i,o){const a=[[pa,1,bi],[pa,5,5*bi],[pa,15,15*bi],[pa,30,30*bi],[o,1,dr],[o,5,5*dr],[o,15,15*dr],[o,30,30*dr],[i,1,wi],[i,3,3*wi],[i,6,6*wi],[i,12,12*wi],[r,1,$i],[r,2,2*$i],[n,1,Rx],[e,1,pP],[e,3,3*pP],[t,1,Jy]];function s(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,h){const d=Math.abs(c-u)/h,p=wx(([,,b])=>b).right(a,d);if(p===a.length)return t.every(o_(u/Jy,c/Jy,h));if(p===0)return Ep.every(Math.max(o_(u,c,h),1));const[m,y]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(y)}return[s,l]}const[Gne,Xne]=Zj(Vi,Vx,fg,Jj,$x,Mx),[Yne,Qne]=Zj(Li,Lx,cg,Uf,Dx,jx);function Zy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ev(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jne(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=xu(i),c=Eu(i),h=xu(o),d=Eu(o),p=xu(a),m=Eu(a),y=xu(s),b=Eu(s),_=xu(l),v=Eu(l),w={a:K,A:$,b:z,B:q,c:null,d:bP,e:bP,f:wre,g:kre,G:Rre,H:vre,I:_re,j:bre,L:eM,m:xre,M:Ere,p:ee,q:X,Q:EP,s:AP,S:Are,u:Sre,U:Tre,V:Pre,w:Ire,W:Ore,x:null,X:null,y:Cre,Y:Nre,Z:jre,"%":xP},O={a:ae,A:Te,b:Me,B:ke,c:null,d:wP,e:wP,f:Lre,g:Gre,G:Yre,H:Mre,I:Dre,j:$re,L:nM,m:Vre,M:Fre,p:jt,q:st,Q:EP,s:AP,S:Ure,u:Bre,U:zre,V:Wre,w:qre,W:Hre,x:null,X:null,y:Kre,Y:Xre,Z:Qre,"%":xP},S={a:C,A:k,b:R,B:N,c:U,d:vP,e:vP,f:pre,g:yP,G:gP,H:_P,I:_P,j:cre,L:dre,m:ure,M:fre,p:I,q:lre,Q:gre,s:yre,S:hre,u:rre,U:ire,V:ore,w:nre,W:are,x:B,X:H,y:yP,Y:gP,Z:sre,"%":mre};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),O.x=P(n,O),O.X=P(r,O),O.c=P(e,O);function P(oe,ye){return function(_e){var Y=[],He=-1,Pe=0,Ke=oe.length,et,pt,lt;for(_e instanceof Date||(_e=new Date(+_e));++He<Ke;)oe.charCodeAt(He)===37&&(Y.push(oe.slice(Pe,He)),(pt=mP[et=oe.charAt(++He)])!=null?et=oe.charAt(++He):pt=et==="e"?" ":"0",(lt=ye[et])&&(et=lt(_e,pt)),Y.push(et),Pe=He+1);return Y.push(oe.slice(Pe,He)),Y.join("")}}function E(oe,ye){return function(_e){var Y=wu(1900,void 0,1),He=A(Y,oe,_e+="",0),Pe,Ke;if(He!=_e.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ye&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Pe=ev(wu(Y.y,0,1)),Ke=Pe.getUTCDay(),Pe=Ke>4||Ke===0?Sp.ceil(Pe):Sp(Pe),Pe=ug.offset(Pe,(Y.V-1)*7),Y.y=Pe.getUTCFullYear(),Y.m=Pe.getUTCMonth(),Y.d=Pe.getUTCDate()+(Y.w+6)%7):(Pe=Zy(wu(Y.y,0,1)),Ke=Pe.getDay(),Pe=Ke>4||Ke===0?Ap.ceil(Pe):Ap(Pe),Pe=Uf.offset(Pe,(Y.V-1)*7),Y.y=Pe.getFullYear(),Y.m=Pe.getMonth(),Y.d=Pe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ke="Z"in Y?ev(wu(Y.y,0,1)).getUTCDay():Zy(wu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ke+5)%7:Y.w+Y.U*7-(Ke+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,ev(Y)):Zy(Y)}}function A(oe,ye,_e,Y){for(var He=0,Pe=ye.length,Ke=_e.length,et,pt;He<Pe;){if(Y>=Ke)return-1;if(et=ye.charCodeAt(He++),et===37){if(et=ye.charAt(He++),pt=S[et in mP?ye.charAt(He++):et],!pt||(Y=pt(oe,_e,Y))<0)return-1}else if(et!=_e.charCodeAt(Y++))return-1}return Y}function I(oe,ye,_e){var Y=u.exec(ye.slice(_e));return Y?(oe.p=c.get(Y[0].toLowerCase()),_e+Y[0].length):-1}function C(oe,ye,_e){var Y=p.exec(ye.slice(_e));return Y?(oe.w=m.get(Y[0].toLowerCase()),_e+Y[0].length):-1}function k(oe,ye,_e){var Y=h.exec(ye.slice(_e));return Y?(oe.w=d.get(Y[0].toLowerCase()),_e+Y[0].length):-1}function R(oe,ye,_e){var Y=_.exec(ye.slice(_e));return Y?(oe.m=v.get(Y[0].toLowerCase()),_e+Y[0].length):-1}function N(oe,ye,_e){var Y=y.exec(ye.slice(_e));return Y?(oe.m=b.get(Y[0].toLowerCase()),_e+Y[0].length):-1}function U(oe,ye,_e){return A(oe,e,ye,_e)}function B(oe,ye,_e){return A(oe,n,ye,_e)}function H(oe,ye,_e){return A(oe,r,ye,_e)}function K(oe){return a[oe.getDay()]}function $(oe){return o[oe.getDay()]}function z(oe){return l[oe.getMonth()]}function q(oe){return s[oe.getMonth()]}function ee(oe){return i[+(oe.getHours()>=12)]}function X(oe){return 1+~~(oe.getMonth()/3)}function ae(oe){return a[oe.getUTCDay()]}function Te(oe){return o[oe.getUTCDay()]}function Me(oe){return l[oe.getUTCMonth()]}function ke(oe){return s[oe.getUTCMonth()]}function jt(oe){return i[+(oe.getUTCHours()>=12)]}function st(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ye=P(oe+="",w);return ye.toString=function(){return oe},ye},parse:function(oe){var ye=E(oe+="",!1);return ye.toString=function(){return oe},ye},utcFormat:function(oe){var ye=P(oe+="",O);return ye.toString=function(){return oe},ye},utcParse:function(oe){var ye=E(oe+="",!0);return ye.toString=function(){return oe},ye}}}var mP={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,Zne=/^%/,ere=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function tre(t){return t.replace(ere,"\\$&")}function xu(t){return new RegExp("^(?:"+t.map(tre).join("|")+")","i")}function Eu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nre(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rre(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ire(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ore(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function are(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function gP(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function yP(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lre(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ure(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vP(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cre(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _P(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fre(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hre(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dre(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pre(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function mre(t,e,n){var r=Zne.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gre(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yre(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function bP(t,e){return Ve(t.getDate(),e,2)}function vre(t,e){return Ve(t.getHours(),e,2)}function _re(t,e){return Ve(t.getHours()%12||12,e,2)}function bre(t,e){return Ve(1+Uf.count(Li(t),t),e,3)}function eM(t,e){return Ve(t.getMilliseconds(),e,3)}function wre(t,e){return eM(t,e)+"000"}function xre(t,e){return Ve(t.getMonth()+1,e,2)}function Ere(t,e){return Ve(t.getMinutes(),e,2)}function Are(t,e){return Ve(t.getSeconds(),e,2)}function Sre(t){var e=t.getDay();return e===0?7:e}function Tre(t,e){return Ve(cg.count(Li(t)-1,t),e,2)}function tM(t){var e=t.getDay();return e>=4||e===0?sl(t):sl.ceil(t)}function Pre(t,e){return t=tM(t),Ve(sl.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function Ire(t){return t.getDay()}function Ore(t,e){return Ve(Ap.count(Li(t)-1,t),e,2)}function Cre(t,e){return Ve(t.getFullYear()%100,e,2)}function kre(t,e){return t=tM(t),Ve(t.getFullYear()%100,e,2)}function Nre(t,e){return Ve(t.getFullYear()%1e4,e,4)}function Rre(t,e){var n=t.getDay();return t=n>=4||n===0?sl(t):sl.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function jre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function wP(t,e){return Ve(t.getUTCDate(),e,2)}function Mre(t,e){return Ve(t.getUTCHours(),e,2)}function Dre(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function $re(t,e){return Ve(1+ug.count(Vi(t),t),e,3)}function nM(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function Lre(t,e){return nM(t,e)+"000"}function Vre(t,e){return Ve(t.getUTCMonth()+1,e,2)}function Fre(t,e){return Ve(t.getUTCMinutes(),e,2)}function Ure(t,e){return Ve(t.getUTCSeconds(),e,2)}function Bre(t){var e=t.getUTCDay();return e===0?7:e}function zre(t,e){return Ve(fg.count(Vi(t)-1,t),e,2)}function rM(t){var e=t.getUTCDay();return e>=4||e===0?ll(t):ll.ceil(t)}function Wre(t,e){return t=rM(t),Ve(ll.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function qre(t){return t.getUTCDay()}function Hre(t,e){return Ve(Sp.count(Vi(t)-1,t),e,2)}function Kre(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function Gre(t,e){return t=rM(t),Ve(t.getUTCFullYear()%100,e,2)}function Xre(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function Yre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ll(t):ll.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function Qre(){return"+0000"}function xP(){return"%"}function EP(t){return+t}function AP(t){return Math.floor(+t/1e3)}var rs,iM,oM;Jre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jre(t){return rs=Jne(t),iM=rs.format,rs.parse,oM=rs.utcFormat,rs.utcParse,rs}function Zre(t){return new Date(t)}function eie(t){return t instanceof Date?+t:+new Date(+t)}function Fx(t,e,n,r,i,o,a,s,l,u){var c=Tx(),h=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),v=u("%b %d"),w=u("%B"),O=u("%Y");function S(P){return(l(P)<P?p:s(P)<P?m:a(P)<P?y:o(P)<P?b:r(P)<P?i(P)<P?_:v:n(P)<P?w:O)(P)}return c.invert=function(P){return new Date(h(P))},c.domain=function(P){return arguments.length?d(Array.from(P,eie)):d().map(Zre)},c.ticks=function(P){var E=d();return t(E[0],E[E.length-1],P??10)},c.tickFormat=function(P,E){return E==null?S:u(E)},c.nice=function(P){var E=d();return(!P||typeof P.range!="function")&&(P=e(E[0],E[E.length-1],P??10)),P?d(qj(E,P)):c},c.copy=function(){return Ff(c,Fx(t,e,n,r,i,o,a,s,l,u))},c}function tie(){return _r.apply(Fx(Yne,Qne,Li,Lx,cg,Uf,Dx,jx,pa,iM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nie(){return _r.apply(Fx(Gne,Xne,Vi,Vx,fg,ug,$x,Mx,pa,oM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hg(){var t=0,e=1,n,r,i,o,a=Tn,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function c(h){return function(d){var p,m;return arguments.length?([p,m]=d,a=h(p,m),u):[a(0),a(1)]}}return u.range=c(Hl),u.rangeRound=c(Sx),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function aM(){var t=Bo(hg()(Tn));return t.copy=function(){return zo(t,aM())},zi.apply(t,arguments)}function sM(){var t=Ox(hg()).domain([1,10]);return t.copy=function(){return zo(t,sM()).base(t.base())},zi.apply(t,arguments)}function lM(){var t=Cx(hg());return t.copy=function(){return zo(t,lM()).constant(t.constant())},zi.apply(t,arguments)}function Ux(){var t=kx(hg());return t.copy=function(){return zo(t,Ux()).exponent(t.exponent())},zi.apply(t,arguments)}function rie(){return Ux.apply(null,arguments).exponent(.5)}function uM(){var t=[],e=Tn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Lf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Io),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>zte(t,o/r))},n.copy=function(){return uM(e).domain(t)},zi.apply(n,arguments)}function dg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=Tn,c,h=!1,d;function p(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(b){var _,v,w;return arguments.length?([_,v,w]=b,u=mne(y,[_,v,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Hl),p.rangeRound=m(Sx),p.unknown=function(y){return arguments.length?(d=y,p):d},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function cM(){var t=Bo(dg()(Tn));return t.copy=function(){return zo(t,cM())},zi.apply(t,arguments)}function fM(){var t=Ox(dg()).domain([.1,1,10]);return t.copy=function(){return zo(t,fM()).base(t.base())},zi.apply(t,arguments)}function hM(){var t=Cx(dg());return t.copy=function(){return zo(t,hM()).constant(t.constant())},zi.apply(t,arguments)}function Bx(){var t=kx(dg());return t.copy=function(){return zo(t,Bx()).exponent(t.exponent())},zi.apply(t,arguments)}function iie(){return Bx.apply(null,arguments).exponent(.5)}const SP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vc,scaleDiverging:cM,scaleDivergingLog:fM,scaleDivergingPow:Bx,scaleDivergingSqrt:iie,scaleDivergingSymlog:hM,scaleIdentity:Wj,scaleImplicit:a_,scaleLinear:xp,scaleLog:Hj,scaleOrdinal:xx,scalePoint:ec,scalePow:Nx,scaleQuantile:Xj,scaleQuantize:Yj,scaleRadial:Gj,scaleSequential:aM,scaleSequentialLog:sM,scaleSequentialPow:Ux,scaleSequentialQuantile:uM,scaleSequentialSqrt:rie,scaleSequentialSymlog:lM,scaleSqrt:Lne,scaleSymlog:Kj,scaleThreshold:Qj,scaleTime:tie,scaleUtc:nie,tickFormat:zj},Symbol.toStringTag,{value:"Module"}));var oie=$l;function aie(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!oie(a):n(a,s)))var s=a,l=o}return l}var pg=aie;function sie(t,e){return t>e}var dM=sie,lie=pg,uie=dM,cie=ql;function fie(t){return t&&t.length?lie(t,cie,uie):void 0}var hie=fie;const mg=ze(hie);function die(t,e){return t<e}var pM=die,pie=pg,mie=pM,gie=ql;function yie(t){return t&&t.length?pie(t,gie,mie):void 0}var vie=yie;const gg=ze(vie);var _ie=nx,bie=ai,wie=xj,xie=Vn;function Eie(t,e){var n=xie(t)?_ie:wie;return n(t,bie(e))}var Aie=Eie,Sie=bj,Tie=Aie;function Pie(t,e){return Sie(Tie(t,e),1)}var Iie=Pie;const Oie=ze(Iie);var Cie=yx;function kie(t,e){return Cie(t,e)}var Nie=kie;const Bf=ze(Nie);var Kl=1e9,Rie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wx,dt=!0,yr="[DecimalError] ",wa=yr+"Invalid argument: ",zx=yr+"Exponent out of range: ",Gl=Math.floor,aa=Math.pow,jie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hn,qt=1e7,it=7,mM=9007199254740991,Tp=Gl(mM/it),fe={};fe.absoluteValue=fe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};fe.comparedTo=fe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(t){return Si(this,new this.constructor(t))};fe.dividedToIntegerBy=fe.idiv=function(t){var e=this,n=e.constructor;return Xe(Si(e,new n(t),0,1),n.precision)};fe.equals=fe.eq=function(t){return!this.cmp(t)};fe.exponent=function(){return Rt(this)};fe.greaterThan=fe.gt=function(t){return this.cmp(t)>0};fe.greaterThanOrEqualTo=fe.gte=function(t){return this.cmp(t)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(t){return this.cmp(t)<0};fe.lessThanOrEqualTo=fe.lte=function(t){return this.cmp(t)<1};fe.logarithm=fe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Hn))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(Hn)?new r(0):(dt=!1,e=Si(Wc(n,o),Wc(t,o),o),dt=!0,Xe(e,i))};fe.minus=fe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vM(e,t):gM(e,(t.s=-t.s,t))};fe.modulo=fe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(yr+"NaN");return n.s?(dt=!1,e=Si(n,t,0,1).times(t),dt=!0,n.minus(e)):Xe(new r(n),i)};fe.naturalExponential=fe.exp=function(){return yM(this)};fe.naturalLogarithm=fe.ln=function(){return Wc(this)};fe.negated=fe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};fe.plus=fe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gM(e,t):vM(e,(t.s=-t.s,t))};fe.precision=fe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wa+t);if(e=Rt(i)+1,r=i.d.length-1,n=r*it+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};fe.squareRoot=fe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(yr+"NaN")}for(t=Rt(s),dt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=qr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Si(s,o,a+2)).times(.5),qr(o.d).slice(0,a)===(e=qr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return dt=!0,Xe(r,n)};fe.times=fe.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%qt|0,e=s/qt|0;o[i]=(o[i]+e)%qt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dt?Xe(t,h.precision):t};fe.toDecimalPlaces=fe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ni(t,0,Kl),e===void 0?e=r.rounding:ni(e,0,8),Xe(n,t+Rt(n)+1,e))};fe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Da(r,!0):(ni(t,0,Kl),e===void 0?e=i.rounding:ni(e,0,8),r=Xe(new i(r),t+1,e),n=Da(r,!0,t+1)),n};fe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Da(i):(ni(t,0,Kl),e===void 0?e=o.rounding:ni(e,0,8),r=Xe(new o(i),t+Rt(i)+1,e),n=Da(r.abs(),!1,t+Rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var t=this,e=t.constructor;return Xe(new e(t),Rt(t)+1,e.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Hn);if(s=new l(s),!s.s){if(t.s<1)throw Error(yr+"Infinity");return s}if(s.eq(Hn))return s;if(r=l.precision,t.eq(Hn))return Xe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=mM){for(i=new l(Hn),e=Math.ceil(r/it+4),dt=!1;n%2&&(i=i.times(s),PP(i.d,e)),n=Gl(n/2),n!==0;)s=s.times(s),PP(s.d,e);return dt=!0,t.s<0?new l(Hn).div(i):Xe(i,r)}}else if(o<0)throw Error(yr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,dt=!1,i=t.times(Wc(s,r+u)),dt=!0,i=yM(i),i.s=o,i};fe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Rt(i),r=Da(i,n<=o.toExpNeg||n>=o.toExpPos)):(ni(t,1,Kl),e===void 0?e=o.rounding:ni(e,0,8),i=Xe(new o(i),t,e),n=Rt(i),r=Da(i,t<=n||n<=o.toExpNeg,t)),r};fe.toSignificantDigits=fe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ni(t,1,Kl),e===void 0?e=r.rounding:ni(e,0,8)),Xe(new r(n),t,e)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rt(t),n=t.constructor;return Da(t,e<=n.toExpNeg||e>=n.toExpPos)};function gM(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?Xe(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(h/it),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/qt|0,l[o]%=qt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,dt?Xe(e,h):e}function ni(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wa+t)}function qr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=it-r.length,n&&(o+=eo(n)),o+=r;a=t[e],r=a+"",n=it-r.length,n&&(o+=eo(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Si=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%qt|0,a=o/qt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,h,d,p,m,y,b,_,v,w,O,S,P,E,A,I=r.constructor,C=r.s==i.s?1:-1,k=r.d,R=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(yr+"Division by zero");for(l=r.e-i.e,E=R.length,S=k.length,p=new I(C),m=p.d=[],u=0;R[u]==(k[u]||0);)++u;if(R[u]>(k[u]||0)&&--l,o==null?v=o=I.precision:a?v=o+(Rt(r)-Rt(i))+1:v=o,v<0)return new I(0);if(v=v/it+2|0,u=0,E==1)for(c=0,R=R[0],v++;(u<S||c)&&v--;u++)w=c*qt+(k[u]||0),m[u]=w/R|0,c=w%R|0;else{for(c=qt/(R[0]+1)|0,c>1&&(R=t(R,c),k=t(k,c),E=R.length,S=k.length),O=E,y=k.slice(0,E),b=y.length;b<E;)y[b++]=0;A=R.slice(),A.unshift(0),P=R[0],R[1]>=qt/2&&++P;do c=0,s=e(R,y,E,b),s<0?(_=y[0],E!=b&&(_=_*qt+(y[1]||0)),c=_/P|0,c>1?(c>=qt&&(c=qt-1),h=t(R,c),d=h.length,b=y.length,s=e(h,y,d,b),s==1&&(c--,n(h,E<d?A:R,d))):(c==0&&(s=c=1),h=R.slice()),d=h.length,d<b&&h.unshift(0),n(y,h,b),s==-1&&(b=y.length,s=e(R,y,E,b),s<1&&(c++,n(y,E<b?A:R,b))),b=y.length):s===0&&(c++,y=[0]),m[u++]=c,s&&y[0]?y[b++]=k[O]||0:(y=[k[O]],b=1);while((O++<S||y[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,Xe(p,a?o+Rt(p)+1:o)}}();function yM(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,h=c.precision;if(Rt(t)>16)throw Error(zx+Rt(t));if(!t.s)return new c(Hn);for(dt=!1,s=h,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(aa(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Hn),c.precision=s;;){if(i=Xe(i.times(t),s),n=n.times(++l),a=o.plus(Si(i,n,s)),qr(a.d).slice(0,s)===qr(o.d).slice(0,s)){for(;u--;)o=Xe(o.times(o),s);return c.precision=h,e==null?(dt=!0,Xe(o,h)):o}o=a}}function Rt(t){for(var e=t.e*it,n=t.d[0];n>=10;n/=10)e++;return e}function tv(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(yr+"LN10 precision limit exceeded");return Xe(new t(t.LN10),e)}function eo(t){for(var e="";t--;)e+="0";return e}function Wc(t,e){var n,r,i,o,a,s,l,u,c,h=1,d=10,p=t,m=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(yr+(p.s?"NaN":"-Infinity"));if(p.eq(Hn))return new y(0);if(e==null?(dt=!1,u=b):u=e,p.eq(10))return e==null&&(dt=!0),tv(y,u);if(u+=d,y.precision=u,n=qr(m),r=n.charAt(0),o=Rt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=qr(p.d),r=n.charAt(0),h++;o=Rt(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=tv(y,u+2,b).times(o+""),p=Wc(new y(r+"."+n.slice(1)),u-d).plus(l),y.precision=b,e==null?(dt=!0,Xe(p,b)):p;for(s=a=p=Si(p.minus(Hn),p.plus(Hn),u),c=Xe(p.times(p),u),i=3;;){if(a=Xe(a.times(c),u),l=s.plus(Si(a,new y(i),u)),qr(l.d).slice(0,u)===qr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(tv(y,u+2,b).times(o+""))),s=Si(s,new y(h),u),y.precision=b,e==null?(dt=!0,Xe(s,b)):s;s=l,i+=2}}function TP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Gl(n/it),t.d=[],r=(n+1)%it,n<0&&(r+=it),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=it;r<i;)t.d.push(+e.slice(r,r+=it));e=e.slice(r),r=it-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Tp||t.e<-Tp))throw Error(zx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xe(t,e,n){var r,i,o,a,s,l,u,c,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=it,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/it),o=h.length,c>=o)return t;for(u=o=h[c],a=1;o>=10;o/=10)a++;r%=it,i=r-it+a}if(n!==void 0&&(o=aa(10,a-i-1),s=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/aa(10,a-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=Rt(t),h.length=1,e=e-o-1,h[0]=aa(10,(it-e%it)%it),t.e=Gl(-e/it)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=aa(10,it-r),h[c]=i>0?(u/aa(10,a-i)%aa(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==qt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=qt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(dt&&(t.e>Tp||t.e<-Tp))throw Error(zx+Rt(t));return t}function vM(t,e){var n,r,i,o,a,s,l,u,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),dt?Xe(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(p/it),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}a=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=qt-1;--l[o],l[i]+=qt}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?Xe(e,p):e):new d(0)}function Da(t,e,n){var r,i=Rt(t),o=qr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+eo(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+eo(-i-1)+o,n&&(r=n-a)>0&&(o+=eo(r))):i>=a?(o+=eo(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+eo(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=eo(r))),t.s<0?"-"+o:o}function PP(t,e){if(t.length>e)return t.length=e,!0}function _M(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return TP(a,o.toString())}else if(typeof o!="string")throw Error(wa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,jie.test(o))TP(a,o);else throw Error(wa+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_M,i.config=i.set=Mie,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Mie(t){if(!t||typeof t!="object")throw Error(yr+"Object expected");var e,n,r,i=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Gl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wa+n+": "+r);return this}var Wx=_M(Rie);Hn=new Wx(1);const qe=Wx;function Die(t){return Fie(t)||Vie(t)||Lie(t)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Vie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fie(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Uie=function(e){return e},bM={},wM=function(e){return e===bM},IP=function(e){return function n(){return arguments.length===0||arguments.length===1&&wM(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Bie=function t(e,n){return e===1?n:IP(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==bM}).length;return a>=e?n.apply(void 0,i):t(e-a,IP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(h){return wM(h)?l.shift():h});return n.apply(void 0,Die(c).concat(l))}))})},yg=function(e){return Bie(e.length,e)},f_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},zie=yg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Wie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Uie;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},h_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xM=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function qie(t){var e;return t===0?e=1:e=Math.floor(new qe(t).abs().log(10).toNumber())+1,e}function Hie(t,e,n){for(var r=new qe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Kie=yg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Gie=yg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Xie=yg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vg={rangeStep:Hie,getDigitCount:qie,interpolateNumber:Kie,uninterpolateNumber:Gie,uninterpolateTruncation:Xie};function d_(t){return Jie(t)||Qie(t)||EM(t)||Yie()}function Yie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qie(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Jie(t){if(Array.isArray(t))return p_(t)}function qc(t,e){return toe(t)||eoe(t,e)||EM(t,e)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EM(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eoe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function toe(t){if(Array.isArray(t))return t}function AM(t){var e=qc(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function SM(t,e,n){if(t.lte(0))return new qe(0);var r=vg.getDigitCount(t.toNumber()),i=new qe(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new qe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new qe(Math.ceil(l))}function noe(t,e,n){var r=1,i=new qe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new qe(10).pow(vg.getDigitCount(t)-1),i=new qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new qe(Math.floor(t)))}else t===0?i=new qe(Math.floor((e-1)/2)):n||(i=new qe(Math.floor(t)));var a=Math.floor((e-1)/2),s=Wie(zie(function(l){return i.add(new qe(l-a).mul(r)).toNumber()}),f_);return s(0,e)}function TM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new qe(0),tickMin:new qe(0),tickMax:new qe(0)};var o=SM(new qe(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new qe(0):(a=new qe(t).add(e).div(2),a=a.sub(new qe(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new qe(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?TM(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new qe(s).mul(o)),tickMax:a.add(new qe(l).mul(o))})}function roe(t){var e=qc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=AM([n,r]),l=qc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(d_(f_(0,i-1).map(function(){return 1/0}))):[].concat(d_(f_(0,i-1).map(function(){return-1/0})),[c]);return n>r?h_(h):h}if(u===c)return noe(u,i,o);var d=TM(u,c,a,o),p=d.step,m=d.tickMin,y=d.tickMax,b=vg.rangeStep(m,y.add(new qe(.1).mul(p)),p);return n>r?h_(b):b}function ioe(t,e){var n=qc(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=AM([r,i]),s=qc(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),h=SM(new qe(u).sub(l).div(c-1),o,0),d=[].concat(d_(vg.rangeStep(new qe(l),new qe(u).sub(new qe(.99).mul(h)),h)),[u]);return r>i?h_(d):d}var ooe=xM(roe),aoe=xM(ioe),soe="Invariant failed";function $a(t,e){throw new Error(soe)}var loe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function uoe(t,e){return doe(t)||hoe(t,e)||foe(t,e)||coe()}function coe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(t,e){if(t){if(typeof t=="string")return OP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function doe(t){if(Array.isArray(t))return t}function poe(t,e){if(t==null)return{};var n=moe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function moe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OM(r.key),r)}}function voe(t,e,n){return e&&yoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _oe(t,e,n){return e=Ip(e),boe(t,PM()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function boe(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return woe(t)}function woe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PM=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function xoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function IM(t,e,n){return e=OM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OM(t){var e=Eoe(t,"string");return ul(e)=="symbol"?e:e+""}function Eoe(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zf=function(t){function e(){return goe(this,e),_oe(this,e,arguments)}return xoe(e,t),voe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,h=r.yAxis,d=poe(r,loe),p=me(d,!1);this.props.direction==="x"&&c.type!=="number"&&$a();var m=l.map(function(y){var b=u(y,s),_=b.x,v=b.y,w=b.value,O=b.errorVal;if(!O)return null;var S=[],P,E;if(Array.isArray(O)){var A=uoe(O,2);P=A[0],E=A[1]}else P=E=O;if(o==="vertical"){var I=c.scale,C=v+i,k=C+a,R=C-a,N=I(w-P),U=I(w+E);S.push({x1:U,y1:k,x2:U,y2:R}),S.push({x1:N,y1:C,x2:U,y2:C}),S.push({x1:N,y1:k,x2:N,y2:R})}else if(o==="horizontal"){var B=h.scale,H=_+i,K=H-a,$=H+a,z=B(w-P),q=B(w+E);S.push({x1:K,y1:q,x2:$,y2:q}),S.push({x1:H,y1:z,x2:H,y2:q}),S.push({x1:K,y1:z,x2:$,y2:z})}return M.createElement(Le,Pp({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),S.map(function(ee){return M.createElement("line",Pp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(Le,{className:"recharts-errorBars"},m)}}])}(M.Component);IM(zf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IM(zf,"displayName","ErrorBar");function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return e=Soe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=Toe(t,"string");return Hc(e)=="symbol"?e:e+""}function Toe(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CM=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Wn(n,Po);if(!a)return null;var s=Po.defaultProps,l=s!==void 0?Jo(Jo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,h){var d=h.item,p=h.props,m=p.sectors||p.data||[];return c.concat(m.map(function(y){return{type:a.props.iconType||d.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var h=c.item,d=h.type.defaultProps,p=d!==void 0?Jo(Jo({},d),h.props):{},m=p.dataKey,y=p.name,b=p.legendType,_=p.hide;return{inactive:_,dataKey:m,type:l.iconType||b||"square",color:qx(h),value:y||m,payload:p}}),Jo(Jo(Jo({},l),Po.getWithHeight(a,i)),{},{payload:u,item:a})};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function kP(t){return Coe(t)||Ooe(t)||Ioe(t)||Poe()}function Poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Coe(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(n),!0).forEach(function(r){Vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vs(t,e,n){return e=koe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Noe(t,"string");return Kc(e)=="symbol"?e:e+""}function Noe(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t,e,n){return Ae(t)||Ae(e)?n:Ut(e)?Jn(t,e,n):ve(e)?e(t):n}function tc(t,e,n,r){var i=Oie(t,function(s){return Vt(s,e)});if(n==="number"){var o=i.filter(function(s){return Z(s)||parseFloat(s)});return o.length?[gg(o),mg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ae(s)}):i;return a.map(function(s){return Ut(s)||s instanceof Date?s:""})}var Roe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(An(h-c)!==An(d-h)){var m=[];if(An(d-h)===An(l[1]-l[0])){p=d;var y=h+l[1]-l[0];m[0]=Math.min(y,(y+c)/2),m[1]=Math.max(y,(y+c)/2)}else{p=c;var b=d+l[1]-l[0];m[0]=Math.min(h,(b+h)/2),m[1]=Math.max(h,(b+h)/2)}var _=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var v=Math.min(c,d),w=Math.max(c,d);if(e>(v+h)/2&&e<=(w+h)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},qx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},joe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,h=Object.keys(c),d=0,p=h.length;d<p;d++){var m=c[h[d]],y=m.items,b=m.cateAxisId,_=y.filter(function(E){return Ai(E.type).indexOf("Bar")>=0});if(_&&_.length){var v=_[0].type.defaultProps,w=v!==void 0?Et(Et({},v),_[0].props):_[0].props,O=w.barSize,S=w[b];a[S]||(a[S]=[]);var P=Ae(O)?n:O;a[S].push({item:_[0],stackList:_.slice(1),barSize:Ae(P)?void 0:Sn(P,r,0)})}}return a},Moe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Sn(n,i,0,!0),c,h=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(O,S){return O+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var y=(i-m)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(O,S){var P={item:S.item,position:{offset:b.offset+b.size+u,size:d?p:S.barSize}},E=[].concat(kP(O),[P]);return b=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:b})}),E},h)}else{var _=Sn(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var v=(i-2*_-(l-1)*u)/l;v>1&&(v>>=0);var w=s===+s?Math.min(v,s):v;c=a.reduce(function(O,S,P){var E=[].concat(kP(O),[{item:S.item,position:{offset:_+(v+u)*P+(v-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},h)}return c},Doe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=CM({children:o,legendWidth:l});if(u){var c=i||{},h=c.width,d=c.height,p=u.align,m=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&m==="middle")&&p!=="center"&&Z(e[p]))return Et(Et({},e),{},Vs({},p,e[p]+(h||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&m!=="middle"&&Z(e[m]))return Et(Et({},e),{},Vs({},m,e[m]+(d||0)))}return e},$oe=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},kM=function(e,n,r,i,o){var a=n.props.children,s=Zn(a,zf).filter(function(u){return $oe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var h=Vt(c,r);if(Ae(h))return u;var d=Array.isArray(h)?[gg(h),mg(h)]:[h,h],p=l.reduce(function(m,y){var b=Vt(c,y,0),_=d[0]-Math.abs(Array.isArray(b)?b[0]:b),v=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(_,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Loe=function(e,n,r,i,o){var a=n.map(function(s){return kM(e,s,r,o,i)}).filter(function(s){return!Ae(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},NM=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&kM(e,l,u,i)||tc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,h=u.length;c<h;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},RM=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jM=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},xi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?An(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(h){var d=o?o.indexOf(h):h;return{coordinate:i(d)+u,value:h,offset:u}});return c.filter(function(h){return!Df(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+u,value:h,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,d){return{coordinate:i(h)+u,value:o?o[h]:h,index:d,offset:u}})},nv=new WeakMap,Uh=function(e,n){if(typeof n!="function")return e;nv.has(e)||nv.set(e,new WeakMap);var r=nv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},MM=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Vc(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:xp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ec(),realScaleType:"point"}:o==="category"?{scale:Vc(),realScaleType:"band"}:{scale:xp(),realScaleType:"linear"};if(Ra(i)){var l="scale".concat(eg(i));return{scale:(SP[l]||ec)(),realScaleType:SP[l]?l:"point"}}return ve(i)?{scale:i}:{scale:ec(),realScaleType:"point"}},RP=1e-4,DM=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-RP,a=Math.max(i[0],i[1])+RP,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Voe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Foe=function(e,n){if(!n||n.length!==2||!Z(n[0])||!Z(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(o[0]=r),(!Z(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Uoe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Df(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Boe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Df(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},zoe={sign:Uoe,expand:lH,none:tl,silhouette:uH,wiggle:cH,positive:Boe},Woe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=zoe[r],a=sH().keys(i).value(function(s,l){return+Vt(s,l,0)}).order(F0).offset(o);return a(e)},qoe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(h,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Et(Et({},d.type.defaultProps),d.props):d.props,y=m.stackId,b=m.hide;if(b)return h;var _=m[r],v=h[_]||{hasStack:!1,stackGroups:{}};if(Ut(y)){var w=v.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(d),v.hasStack=!0,v.stackGroups[y]=w}else v.stackGroups[Bl("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Et(Et({},h),{},Vs({},_,v))},l),c={};return Object.keys(u).reduce(function(h,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var _=p.stackGroups[b];return Et(Et({},y),{},Vs({},b,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:Woe(e,_.items,o)}))},m)}return Et(Et({},h),{},Vs({},d,p))},c)},$M=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ooe(u,o,s);return e.domain([gg(c),mg(c)]),{niceTicks:c}}if(o&&i==="number"){var h=e.domain(),d=aoe(h,o,s);return{niceTicks:d}}return null};function jP(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ae(i[e.dataKey])){var s=tp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Vt(i,Ae(a)?e.dataKey:a);return Ae(l)?null:e.scale(l)}var MP=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Vt(a,n.dataKey,n.domain[s]);return Ae(l)?null:n.scale(l)-o/2+i},Hoe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Koe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ut(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},Goe=function(e){return e.reduce(function(n,r){return[gg(r.concat([n[0]]).filter(Z)),mg(r.concat([n[1]]).filter(Z))]},[1/0,-1/0])},LM=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var h=Goe(c.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$P=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y_=function(e,n,r){if(ve(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Z(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DP.test(e[0])){var o=+DP.exec(e[0])[1];i[0]=n[0]-o}else ve(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Z(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if($P.test(e[1])){var a=+$P.exec(e[1])[1];i[1]=n[1]+a}else ve(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Op=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=_x(n,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},LP=function(e,n,r){return!e||!e.length||Bf(e,Jn(r,"type.defaultProps.domain"))?n:e},VM=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Et(Et({},me(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:qx(e),value:Vt(n,i),type:l,payload:n,chartType:u,hide:c})};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){FM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FM(t,e,n){return e=Xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Yoe(t,"string");return Gc(e)=="symbol"?e:e+""}function Yoe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qoe(t,e){return tae(t)||eae(t,e)||Zoe(t,e)||Joe()}function Joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zoe(t,e){if(t){if(typeof t=="string")return FP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FP(t,e)}}function FP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function tae(t){if(Array.isArray(t))return t}var Cp=Math.PI/180,nae=function(e){return e*180/Math.PI},Ze=function(e,n,r,i){return{x:e+Math.cos(-Cp*i)*r,y:n+Math.sin(-Cp*i)*r}},UM=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},rae=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Sn(e.cx,a,a/2),h=Sn(e.cy,s,s/2),d=UM(a,s,r),p=Sn(e.innerRadius,d,0),m=Sn(e.outerRadius,d,d*.8),y=Object.keys(n);return y.reduce(function(b,_){var v=n[_],w=v.domain,O=v.reversed,S;if(Ae(v.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[p,m]),O&&(S=[S[1],S[0]]);else{S=v.range;var P=S,E=Qoe(P,2);l=E[0],u=E[1]}var A=MM(v,o),I=A.realScaleType,C=A.scale;C.domain(w).range(S),DM(C);var k=$M(C,hi(hi({},v),{},{realScaleType:I})),R=hi(hi(hi({},v),k),{},{range:S,radius:m,realScaleType:I,scale:C,cx:c,cy:h,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return hi(hi({},b),{},FM({},_,R))},{})},iae=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},oae=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=iae({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:nae(u),angleInRadian:u}},aae=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},sae=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},UP=function(e,n){var r=e.x,i=e.y,o=oae({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=aae(n),h=c.startAngle,d=c.endAngle,p=s,m;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}return m?hi(hi({},n),{},{radius:a,angle:sae(p,n)}):null},BM=function(e){return!L.isValidElement(e)&&!ve(e)&&typeof e!="boolean"?e.className:""};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var lae=["offset"];function uae(t){return dae(t)||hae(t)||fae(t)||cae()}function cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function hae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dae(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pae(t,e){if(t==null)return{};var n=mae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return e=yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return Xc(e)=="symbol"?e:e+""}function vae(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var _ae=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return ve(r)?r(i):i},bae=function(e,n){var r=An(n-e),i=Math.min(Math.abs(n-e),360);return r*i},wae=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,h=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,y=l.clockWise,b=(h+d)/2,_=bae(p,m),v=_>=0?1:-1,w,O;i==="insideStart"?(w=p+v*a,O=y):i==="insideEnd"?(w=m-v*a,O=!y):i==="end"&&(w=m+v*a,O=y),O=_<=0?O:!O;var S=Ze(u,c,b,w),P=Ze(u,c,b,w+(O?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),A=Ae(e.id)?Bl("recharts-radial-line-"):e.id;return M.createElement("text",Yc({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:A,d:E})),M.createElement("textPath",{xlinkHref:"#".concat(A)},n))},xae=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,h=o.endAngle,d=(c+h)/2;if(i==="outside"){var p=Ze(a,s,u+r,d),m=p.x,y=p.y;return{x:m,y,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,_=Ze(a,s,b,d),v=_.x,w=_.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Eae=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,h=c>=0?1:-1,d=h*i,p=h>0?"end":"start",m=h>0?"start":"end",y=u>=0?1:-1,b=y*i,_=y>0?"end":"start",v=y>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return $t($t({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return $t($t({},O),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return $t($t({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?$t({x:s+b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):o==="insideRight"?$t({x:s+u-b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},E):o==="insideTop"?$t({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):o==="insideBottom"?$t({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?$t({x:s+b,y:l+d,textAnchor:v,verticalAnchor:m},E):o==="insideTopRight"?$t({x:s+u-b,y:l+d,textAnchor:_,verticalAnchor:m},E):o==="insideBottomLeft"?$t({x:s+b,y:l+c-d,textAnchor:v,verticalAnchor:p},E):o==="insideBottomRight"?$t({x:s+u-b,y:l+c-d,textAnchor:_,verticalAnchor:p},E):Ll(o)&&(Z(o.x)||ha(o.x))&&(Z(o.y)||ha(o.y))?$t({x:s+Sn(o.x,u),y:l+Sn(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):$t({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Aae=function(e){return"cx"in e&&Z(e.cx)};function Kt(t){var e=t.offset,n=e===void 0?5:e,r=pae(t,lae),i=$t({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,h=c===void 0?"":c,d=i.textBreakAll;if(!o||Ae(s)&&Ae(l)&&!L.isValidElement(u)&&!ve(u))return null;if(L.isValidElement(u))return L.cloneElement(u,i);var p;if(ve(u)){if(p=L.createElement(u,i),L.isValidElement(p))return p}else p=_ae(i);var m=Aae(o),y=me(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return wae(i,p,y);var b=m?xae(i):Eae(i);return M.createElement(Ma,Yc({className:Ie("recharts-label",h)},y,b,{breakAll:d}),p)}Kt.displayName="Label";var zM=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,h=e.x,d=e.y,p=e.top,m=e.left,y=e.width,b=e.height,_=e.clockWise,v=e.labelViewBox;if(v)return v;if(Z(y)&&Z(b)){if(Z(h)&&Z(d))return{x:h,y:d,width:y,height:b};if(Z(p)&&Z(m))return{x:p,y:m,width:y,height:b}}return Z(h)&&Z(d)?{x:h,y:d,width:0,height:0}:Z(n)&&Z(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Sae=function(e,n){return e?e===!0?M.createElement(Kt,{key:"label-implicit",viewBox:n}):Ut(e)?M.createElement(Kt,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===Kt?L.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):ve(e)?M.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):Ll(e)?M.createElement(Kt,Yc({viewBox:n},e,{key:"label-implicit"})):null:null},Tae=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=zM(e),a=Zn(i,Kt).map(function(l,u){return L.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Sae(e.label,n||o);return[s].concat(uae(a))};Kt.parseViewBox=zM;Kt.renderCallByParent=Tae;function Pae(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Iae=Pae;const Oae=ze(Iae);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var Cae=["valueAccessor"],kae=["data","dataKey","clockWise","id","textBreakAll"];function Nae(t){return Dae(t)||Mae(t)||jae(t)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jae(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function Mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dae(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function zP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return Qc(e)=="symbol"?e:e+""}function Vae(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qP(t,e){if(t==null)return{};var n=Fae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uae=function(e){return Array.isArray(e.value)?Oae(e.value):e.value};function Ti(t){var e=t.valueAccessor,n=e===void 0?Uae:e,r=qP(t,Cae),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=qP(r,kae);return!i||!i.length?null:M.createElement(Le,{className:"recharts-label-list"},i.map(function(c,h){var d=Ae(o)?n(c,h):Vt(c&&c.payload,o),p=Ae(s)?{}:{id:"".concat(s,"-").concat(h)};return M.createElement(Kt,kp({},me(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:Kt.parseViewBox(Ae(a)?c:WP(WP({},c),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}Ti.displayName="LabelList";function Bae(t,e){return t?t===!0?M.createElement(Ti,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ve(t)?M.createElement(Ti,{key:"labelList-implicit",data:e,content:t}):Ll(t)?M.createElement(Ti,kp({data:e},t,{key:"labelList-implicit"})):null:null}function zae(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zn(r,Ti).map(function(a,s){return L.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Bae(t.label,e);return[o].concat(Nae(i))}Ti.renderCallByParent=zae;function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return e=qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qae(t){var e=Hae(t,"string");return Jc(e)=="symbol"?e:e+""}function Hae(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kae=function(e,n){var r=An(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Bh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,h=Math.asin(l/c)/Cp,d=u?o:o+a*h,p=Ze(n,r,c,d),m=Ze(n,r,i,d),y=u?o-a*h:o,b=Ze(n,r,c*Math.cos(h*Cp),y);return{center:p,circleTangency:m,lineTangency:b,theta:h}},WM=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Kae(a,s),u=a+l,c=Ze(n,r,o,a),h=Ze(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ze(n,r,i,a),m=Ze(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Gae=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=An(c-u),d=Bh({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,y=d.theta,b=Bh({cx:n,cy:r,radius:o,angle:c,sign:-h,cornerRadius:a,cornerIsExternal:l}),_=b.circleTangency,v=b.lineTangency,w=b.theta,O=l?Math.abs(u-c):Math.abs(u-c)-y-w;if(O<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):WM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var P=Bh({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=P.circleTangency,A=P.lineTangency,I=P.theta,C=Bh({cx:n,cy:r,radius:i,angle:c,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=C.circleTangency,R=C.lineTangency,N=C.theta,U=l?Math.abs(u-c):Math.abs(u-c)-I-N;if(U<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Xae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Hx=function(e){var n=KP(KP({},Xae),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,h=n.endAngle,d=n.className;if(a<o||c===h)return null;var p=Ie("recharts-sector",d),m=a-o,y=Sn(s,m,0,!0),b;return y>0&&Math.abs(c-h)<360?b=Gae({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:h}):b=WM({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:h}),M.createElement("path",b_({},me(n,!0),{className:p,d:b,role:"img"}))};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yae(t,e,n){return e=Qae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qae(t){var e=Jae(t,"string");return Zc(e)=="symbol"?e:e+""}function Jae(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YP={curveBasisClosed:Yq,curveBasisOpen:Qq,curveBasis:Xq,curveBumpX:Mq,curveBumpY:Dq,curveLinearClosed:Jq,curveLinear:ng,curveMonotoneX:Zq,curveMonotoneY:eH,curveNatural:tH,curveStep:nH,curveStepAfter:iH,curveStepBefore:rH},zh=function(e){return e.x===+e.x&&e.y===+e.y},Au=function(e){return e.x},Su=function(e){return e.y},Zae=function(e,n){if(ve(e))return e;var r="curve".concat(eg(e));return(r==="curveMonotone"||r==="curveBump")&&n?YP["".concat(r).concat(n==="vertical"?"Y":"X")]:YP[r]||ng},ese=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Zae(r,s),h=u?o.filter(function(y){return zh(y)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(y){return zh(y)}):a,m=h.map(function(y,b){return XP(XP({},y),{},{base:p[b]})});return s==="vertical"?d=Rh().y(Su).x1(Au).x0(function(y){return y.base.x}):d=Rh().x(Au).y1(Su).y0(function(y){return y.base.y}),d.defined(zh).curve(c),d(m)}return s==="vertical"&&Z(a)?d=Rh().y(Su).x1(Au).x0(a):Z(a)?d=Rh().x(Au).y1(Su).y0(a):d=V2().x(Au).y(Su),d.defined(zh).curve(c),d(h)},Np=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ese(e):i;return L.createElement("path",w_({},me(e,!1),np(e),{className:Ie("recharts-curve",n),d:a,ref:o}))},qM={exports:{}},tse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nse=tse,rse=nse;function HM(){}function KM(){}KM.resetWarningCache=HM;var ise=function(){function t(r,i,o,a,s,l){if(l!==rse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:KM,resetWarningCache:HM};return n.PropTypes=n,n};qM.exports=ise();var ose=qM.exports;const Fe=ze(ose);var ase=Object.getOwnPropertyNames,sse=Object.getOwnPropertySymbols,lse=Object.prototype.hasOwnProperty;function QP(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Wh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function JP(t){return ase(t).concat(sse(t))}var use=Object.hasOwn||function(t,e){return lse.call(t,e)};function Xa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var cse="__v",fse="__o",hse="_owner",ZP=Object.getOwnPropertyDescriptor,eI=Object.keys;function dse(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pse(t,e){return Xa(t.getTime(),e.getTime())}function mse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gse(t,e){return t===e}function tI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),c=!1,h=0;(s=u.next())&&!s.done;){if(i[h]){h++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,h,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1;l++}return!0}var yse=Xa;function vse(t,e,n){var r=eI(t),i=r.length;if(eI(e).length!==i)return!1;for(;i-- >0;)if(!GM(t,e,n,r[i]))return!1;return!0}function Tu(t,e,n){var r=JP(t),i=r.length;if(JP(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!GM(t,e,n,o)||(a=ZP(t,o),s=ZP(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function _se(t,e){return Xa(t.valueOf(),e.valueOf())}function bse(t,e){return t.source===e.source&&t.flags===e.flags}function nI(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function wse(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function xse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function GM(t,e,n,r){return(r===hse||r===fse||r===cse)&&(t.$$typeof||e.$$typeof)?!0:use(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Ese="[object Arguments]",Ase="[object Boolean]",Sse="[object Date]",Tse="[object Error]",Pse="[object Map]",Ise="[object Number]",Ose="[object Object]",Cse="[object RegExp]",kse="[object Set]",Nse="[object String]",Rse="[object URL]",jse=Array.isArray,rI=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,iI=Object.assign,Mse=Object.prototype.toString.call.bind(Object.prototype.toString);function Dse(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,h=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(m,y,b){if(m===y)return!0;if(m==null||y==null)return!1;var _=typeof m;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?a(m,y,b):_==="function"?i(m,y,b):!1;var v=m.constructor;if(v!==y.constructor)return!1;if(v===Object)return s(m,y,b);if(jse(m))return e(m,y,b);if(rI!=null&&rI(m))return h(m,y,b);if(v===Date)return n(m,y,b);if(v===RegExp)return u(m,y,b);if(v===Map)return o(m,y,b);if(v===Set)return c(m,y,b);var w=Mse(m);return w===Sse?n(m,y,b):w===Cse?u(m,y,b):w===Pse?o(m,y,b):w===kse?c(m,y,b):w===Ose?typeof m.then!="function"&&typeof y.then!="function"&&s(m,y,b):w===Rse?d(m,y,b):w===Tse?r(m,y,b):w===Ese?s(m,y,b):w===Ase||w===Ise||w===Nse?l(m,y,b):!1}}function $se(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Tu:dse,areDatesEqual:pse,areErrorsEqual:mse,areFunctionsEqual:gse,areMapsEqual:r?QP(tI,Tu):tI,areNumbersEqual:yse,areObjectsEqual:r?Tu:vse,arePrimitiveWrappersEqual:_se,areRegExpsEqual:bse,areSetsEqual:r?QP(nI,Tu):nI,areTypedArraysEqual:r?Tu:wse,areUrlsEqual:xse};if(n&&(i=iI({},i,n(i))),e){var o=Wh(i.areArraysEqual),a=Wh(i.areMapsEqual),s=Wh(i.areObjectsEqual),l=Wh(i.areSetsEqual);i=iI({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Lse(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Vse(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),h=c.cache,d=h===void 0?e?new WeakMap:void 0:h,p=c.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Fse=Wo();Wo({strict:!0});Wo({circular:!0});Wo({circular:!0,strict:!0});Wo({createInternalComparator:function(){return Xa}});Wo({strict:!0,createInternalComparator:function(){return Xa}});Wo({circular:!0,createInternalComparator:function(){return Xa}});Wo({circular:!0,createInternalComparator:function(){return Xa},strict:!0});function Wo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=$se(t),l=Dse(s),u=r?r(l):Lse(l);return Vse({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Use(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function oI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Use(i)};requestAnimationFrame(r)}function x_(t){"@babel/helpers - typeof";return x_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(t)}function Bse(t){return Hse(t)||qse(t)||Wse(t)||zse()}function zse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(t,e){if(t){if(typeof t=="string")return aI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(t,e)}}function aI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hse(t){if(Array.isArray(t))return t}function Kse(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Bse(a),l=s[0],u=s.slice(1);if(typeof l=="number"){oI(i.bind(null,u),l);return}i(l),oI(i.bind(null,u));return}x_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){XM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XM(t,e,n){return e=Gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gse(t){var e=Xse(t,"string");return ef(e)==="symbol"?e:String(e)}function Xse(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yse=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Qse=function(e){return e},Jse=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nc=function(e,n){return Object.keys(n).reduce(function(r,i){return lI(lI({},r),{},XM({},i,e(i,n[i])))},{})},uI=function(e,n,r){return e.map(function(i){return"".concat(Jse(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zse(t,e){return nle(t)||tle(t,e)||YM(t,e)||ele()}function ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nle(t){if(Array.isArray(t))return t}function rle(t){return ale(t)||ole(t)||YM(t)||ile()}function ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YM(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function ole(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ale(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Rp=1e-4,QM=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},JM=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},cI=function(e,n){return function(r){var i=QM(e,n);return JM(i,r)}},sle=function(e,n){return function(r){var i=QM(e,n),o=[].concat(rle(i.map(function(a,s){return a*s}).slice(1)),[0]);return JM(o,r)}},fI=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Zse(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var h=cI(i,a),d=cI(o,s),p=sle(i,a),m=function(_){return _>1?1:_<0?0:_},y=function(_){for(var v=_>1?1:_,w=v,O=0;O<8;++O){var S=h(w)-v,P=p(w);if(Math.abs(S-v)<Rp||P<Rp)return d(w);w=m(w-S/P)}return d(w)};return y.isStepper=!1,y},lle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,h,d){var p=-(c-h)*r,m=d*o,y=d+(p-m)*s/1e3,b=d*s/1e3+c;return Math.abs(b-h)<Rp&&Math.abs(y)<Rp?[h,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},ule=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fI(i);case"spring":return lle();default:if(i.split("(")[0]==="cubic-bezier")return fI(i)}return typeof i=="function"?i:null};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function hI(t){return hle(t)||fle(t)||ZM(t)||cle()}function cle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hle(t){if(Array.isArray(t))return S_(t)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){A_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A_(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=ple(t,"string");return tf(e)==="symbol"?e:String(e)}function ple(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mle(t,e){return vle(t)||yle(t,e)||ZM(t,e)||gle()}function gle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZM(t,e){if(t){if(typeof t=="string")return S_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(t,e)}}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vle(t){if(Array.isArray(t))return t}var jp=function(e,n,r){return e+(n-e)*r},T_=function(e){var n=e.from,r=e.to;return n!==r},_le=function t(e,n,r){var i=nc(function(o,a){if(T_(a)){var s=e(a.from,a.to,a.velocity),l=mle(s,2),u=l[0],c=l[1];return Zt(Zt({},a),{},{from:u,velocity:c})}return a},n);return r<1?nc(function(o,a){return T_(a)?Zt(Zt({},a),{},{velocity:jp(a.velocity,i[o].velocity,r),from:jp(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const ble=function(t,e,n,r,i){var o=Yse(t,e),a=o.reduce(function(b,_){return Zt(Zt({},b),{},A_({},_,[t[_],e[_]]))},{}),s=o.reduce(function(b,_){return Zt(Zt({},b),{},A_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,h=function(){return null},d=function(){return nc(function(_,v){return v.from},s)},p=function(){return!Object.values(s).filter(T_).length},m=function(_){u||(u=_);var v=_-u,w=v/n.dt;s=_le(n,s,w),i(Zt(Zt(Zt({},t),e),d())),u=_,p()||(l=requestAnimationFrame(h))},y=function(_){c||(c=_);var v=(_-c)/r,w=nc(function(S,P){return jp.apply(void 0,hI(P).concat([n(v)]))},a);if(i(Zt(Zt(Zt({},t),e),w)),v<1)l=requestAnimationFrame(h);else{var O=nc(function(S,P){return jp.apply(void 0,hI(P).concat([n(1)]))},a);i(Zt(Zt(Zt({},t),e),O))}};return h=n.isStepper?m:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}var wle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xle(t,e){if(t==null)return{};var n=Ele(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ele(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rv(t){return Ple(t)||Tle(t)||Sle(t)||Ale()}function Ale(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sle(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function Tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ple(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){$u(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $u(t,e,n){return e=eD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ole(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eD(r.key),r)}}function Cle(t,e,n){return e&&Ole(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eD(t){var e=kle(t,"string");return cl(e)==="symbol"?e:String(e)}function kle(t,e){if(cl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function Rle(t){var e=jle();return function(){var r=Mp(t),i;if(e){var o=Mp(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return O_(this,i)}}function O_(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C_(t)}function C_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}var ri=function(t){Nle(n,t);var e=Rle(n);function n(r,i){var o;Ile(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,h=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(C_(o)),o.changeStyle=o.changeStyle.bind(C_(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),O_(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof d=="function")return o.state={style:u},O_(o);o.state={style:l?$u({},l,u):u}}else o.state={style:{}};return o}return Cle(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,h=o.from,d=this.state.style;if(s){if(!a){var p={style:l?$u({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(Fse(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=m||u?h:i.to;if(this.state&&d){var b={style:l?$u({},l,y):y};(l&&d[l]!==y||!l&&d!==y)&&this.setState(b)}this.runAnimation(Ar(Ar({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=ble(a,s,ule(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,h=u.duration,d=h===void 0?0:h,p=function(y,b,_){if(_===0)return y;var v=b.duration,w=b.easing,O=w===void 0?"ease":w,S=b.style,P=b.properties,E=b.onAnimationEnd,A=_>0?a[_-1]:b,I=P||Object.keys(S);if(typeof O=="function"||O==="spring")return[].concat(rv(y),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:v,easing:O}),v]);var C=uI(I,v,O),k=Ar(Ar(Ar({},A.style),S),{},{transition:C});return[].concat(rv(y),[k,v,E]).filter(Qse)};return this.manager.start([l].concat(rv(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Kse());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var y=s?$u({},s,l):l,b=uI(Object.keys(y),a,u);m.start([c,o,Ar(Ar({},y),{},{transition:b}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=xle(i,wle),u=L.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var h=function(p){var m=p.props,y=m.style,b=y===void 0?{}:y,_=m.className,v=L.cloneElement(p,Ar(Ar({},l),{},{style:Ar(Ar({},b),c),className:_}));return v};return u===1?h(L.Children.only(o)):M.createElement("div",null,L.Children.map(o,function(d){return h(d)}))}}]),n}(L.PureComponent);ri.displayName="Animate";ri.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ri.propTypes={from:Fe.oneOfType([Fe.object,Fe.string]),to:Fe.oneOfType([Fe.object,Fe.string]),attributeName:Fe.string,duration:Fe.number,begin:Fe.number,easing:Fe.oneOfType([Fe.string,Fe.func]),steps:Fe.arrayOf(Fe.shape({duration:Fe.number.isRequired,style:Fe.object.isRequired,easing:Fe.oneOfType([Fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Fe.func]),properties:Fe.arrayOf("string"),onAnimationEnd:Fe.func})),children:Fe.oneOfType([Fe.node,Fe.func]),isActive:Fe.bool,canBegin:Fe.bool,onAnimationEnd:Fe.func,shouldReAnimate:Fe.bool,onAnimationStart:Fe.func,onAnimationReStart:Fe.func};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function Mle(t,e){return Vle(t)||Lle(t,e)||$le(t,e)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return mI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(t,e)}}function mI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vle(t){if(Array.isArray(t))return t}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return e=Ule(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Ble(t,"string");return nf(e)=="symbol"?e:e+""}function Ble(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vI=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(c+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),c+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(c+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*h[1])),c+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(c+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),c+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(c+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*h[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},zle=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),h=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=h&&i<=d}return!1},Wle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kx=function(e){var n=yI(yI({},Wle),e),r=L.useRef(),i=L.useState(-1),o=Mle(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,c=n.width,h=n.height,d=n.radius,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,_=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||c===0||h===0)return null;var w=Ie("recharts-rectangle",p);return v?M.createElement(ri,{canBegin:a>0,from:{width:c,height:h,x:l,y:u},to:{width:c,height:h,x:l,y:u},duration:y,animationEasing:m,isActive:v},function(O){var S=O.width,P=O.height,E=O.x,A=O.y;return M.createElement(ri,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:_,easing:m},M.createElement("path",Dp({},me(n,!0),{className:w,d:vI(E,A,S,P,d),ref:r})))}):M.createElement("path",Dp({},me(n,!0),{className:w,d:vI(l,u,c,h,d)}))},qle=["points","className","baseLinePoints","connectNulls"];function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function Hle(t,e){if(t==null)return{};var n=Kle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _I(t){return Qle(t)||Yle(t)||Xle(t)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t,e){if(t){if(typeof t=="string")return k_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k_(t,e)}}function Yle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qle(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bI=function(e){return e&&e.x===+e.x&&e.y===+e.y},Jle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){bI(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),bI(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},rc=function(e,n){var r=Jle(e);n&&(r=[r.reduce(function(o,a){return[].concat(_I(o),_I(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Zle=function(e,n,r){var i=rc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(rc(n.reverse(),r).slice(1))},eue=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=Hle(e,qle);if(!n||!n.length)return null;var s=Ie("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Zle(n,i,o);return M.createElement("g",{className:s},M.createElement("path",Es({},me(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?M.createElement("path",Es({},me(a,!0),{fill:"none",d:rc(n,o)})):null,l?M.createElement("path",Es({},me(a,!0),{fill:"none",d:rc(i,o)})):null)}var c=rc(n,o);return M.createElement("path",Es({},me(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}var _g=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ie("recharts-dot",o);return n===+n&&r===+r&&i===+i?L.createElement("circle",N_({},me(e,!1),np(e),{className:a,cx:n,cy:r,r:i})):null};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var tue=["x","y","top","left","width","height","className"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=oue(t,"string");return rf(e)=="symbol"?e:e+""}function oue(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aue(t,e){if(t==null)return{};var n=sue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lue=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},uue=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,h=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,y=aue(e,tue),b=nue({x:r,y:o,top:s,left:u,width:h,height:p},y);return!Z(r)||!Z(o)||!Z(h)||!Z(p)||!Z(s)||!Z(u)?null:M.createElement("path",R_({},me(b,!0),{className:Ie("recharts-cross",m),d:lue(r,o,h,p,s,u)}))},cue=pg,fue=dM,hue=ai;function due(t,e){return t&&t.length?cue(t,hue(e),fue):void 0}var pue=due;const mue=ze(pue);var gue=pg,yue=ai,vue=pM;function _ue(t,e){return t&&t.length?gue(t,yue(e),vue):void 0}var bue=_ue;const wue=ze(bue);var xue=["cx","cy","angle","ticks","axisLine"],Eue=["ticks","tick","angle","tickFormatter","stroke"];function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EI(t,e){if(t==null)return{};var n=Aue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nD(r.key),r)}}function Tue(t,e,n){return e&&AI(t.prototype,e),n&&AI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,n){return e=$p(e),Iue(t,tD()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function bg(t,e,n){return e=nD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nD(t){var e=kue(t,"string");return fl(e)=="symbol"?e:e+""}function kue(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wg=function(t){function e(){return Sue(this,e),Pue(this,e,arguments)}return Cue(e,t),Tue(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Ze(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=mue(s,function(c){return c.coordinate||0}),u=wue(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=EI(r,xue),c=s.reduce(function(m,y){return[Math.min(m[0],y.coordinate),Math.max(m[1],y.coordinate)]},[1/0,-1/0]),h=Ze(i,o,c[0],a),d=Ze(i,o,c[1],a),p=Zo(Zo(Zo({},me(u,!1)),{},{fill:"none"},me(l,!1)),{},{x1:h.x,y1:h.y,x2:d.x,y2:d.y});return M.createElement("line",ic({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=EI(i,Eue),h=this.getTickTextAnchor(),d=me(c,!1),p=me(a,!1),m=o.map(function(y,b){var _=r.getTickValueCoord(y),v=Zo(Zo(Zo(Zo({textAnchor:h,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},d),{},{stroke:"none",fill:u},p),{},{index:b},_),{},{payload:y});return M.createElement(Le,ic({className:Ie("recharts-polar-radius-axis-tick",BM(a)),key:"tick-".concat(y.coordinate)},ja(r.props,y,b)),e.renderTickItem(a,v,l?l(y.value,b):y.value))});return M.createElement(Le,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:M.createElement(Le,{className:Ie("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):ve(r)?a=r(i):a=M.createElement(Ma,ic({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(L.PureComponent);bg(wg,"displayName","PolarRadiusAxis");bg(wg,"axisType","radiusAxis");bg(wg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(this,arguments)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){xg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iD(r.key),r)}}function Rue(t,e,n){return e&&TI(t.prototype,e),n&&TI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jue(t,e,n){return e=Lp(e),Mue(t,rD()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function Mue(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(t)}function Due(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function $ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function xg(t,e,n){return e=iD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iD(t){var e=Lue(t,"string");return hl(e)=="symbol"?e:e+""}function Lue(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vue=Math.PI/180,PI=1e-5,Eg=function(t){function e(){return Nue(this,e),jue(this,e,arguments)}return $ue(e,t),Rue(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,h=Ze(o,a,s,r.coordinate),d=Ze(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:h.x,y1:h.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Vue),a;return o>PI?a=i==="outer"?"start":"end":o<-PI?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=ea(ea({},me(this.props,!1)),{},{fill:"none"},me(s,!1));if(l==="circle")return M.createElement(_g,sa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,h=c.map(function(d){return Ze(i,o,a,d.coordinate)});return M.createElement(eue,sa({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=me(this.props,!1),h=me(a,!1),d=ea(ea({},c),{},{fill:"none"},me(s,!1)),p=o.map(function(m,y){var b=r.getTickLineCoord(m),_=r.getTickTextAnchor(m),v=ea(ea(ea({textAnchor:_},c),{},{stroke:"none",fill:u},h),{},{index:y,payload:m,x:b.x2,y:b.y2});return M.createElement(Le,sa({className:Ie("recharts-polar-angle-axis-tick",BM(a)),key:"tick-".concat(m.coordinate)},ja(r.props,m,y)),s&&M.createElement("line",sa({className:"recharts-polar-angle-axis-tick-line"},d,b)),a&&e.renderTickItem(a,v,l?l(m.value,y):m.value))});return M.createElement(Le,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Le,{className:Ie("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):ve(r)?a=r(i):a=M.createElement(Ma,sa({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(L.PureComponent);xg(Eg,"displayName","PolarAngleAxis");xg(Eg,"axisType","angleAxis");xg(Eg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fue=uj,Uue=Fue(Object.getPrototypeOf,Object),Bue=Uue,zue=Ui,Wue=Bue,que=Bi,Hue="[object Object]",Kue=Function.prototype,Gue=Object.prototype,oD=Kue.toString,Xue=Gue.hasOwnProperty,Yue=oD.call(Object);function Que(t){if(!que(t)||zue(t)!=Hue)return!1;var e=Wue(t);if(e===null)return!0;var n=Xue.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oD.call(n)==Yue}var Jue=Que;const Zue=ze(Jue);var ece=Ui,tce=Bi,nce="[object Boolean]";function rce(t){return t===!0||t===!1||tce(t)&&ece(t)==nce}var ice=rce;const oce=ze(ice);function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function ace(t,e){return cce(t)||uce(t,e)||lce(t,e)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return II(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(t,e)}}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function cce(t){if(Array.isArray(t))return t}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return e=hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hce(t){var e=dce(t,"string");return of(e)=="symbol"?e:e+""}function dce(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kI=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},pce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mce=function(e){var n=CI(CI({},pce),e),r=L.useRef(),i=L.useState(-1),o=ace(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,y=n.animationDuration,b=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||h!==+h||d!==+d||c===0&&h===0||d===0)return null;var v=Ie("recharts-trapezoid",p);return _?M.createElement(ri,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:h,height:d,x:l,y:u},duration:y,animationEasing:m,isActive:_},function(w){var O=w.upperWidth,S=w.lowerWidth,P=w.height,E=w.x,A=w.y;return M.createElement(ri,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:m},M.createElement("path",Vp({},me(n,!0),{className:v,d:kI(E,A,O,S,P),ref:r})))}):M.createElement("g",null,M.createElement("path",Vp({},me(n,!0),{className:v,d:kI(l,u,c,h,d)})))},gce=["option","shapeType","propTransformer","activeClassName","isActive"];function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function yce(t,e){if(t==null)return{};var n=vce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return e=bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=wce(t,"string");return af(e)=="symbol"?e:e+""}function wce(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xce(t,e){return Fp(Fp({},e),t)}function Ece(t,e){return t==="symbols"}function RI(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(Kx,n);case"trapezoid":return M.createElement(mce,n);case"sector":return M.createElement(Hx,n);case"symbols":if(Ece(e))return M.createElement(fx,n);break;default:return null}}function Ace(t){return L.isValidElement(t)?t.props:t}function aD(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?xce:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=yce(t,gce),u;if(L.isValidElement(e))u=L.cloneElement(e,Fp(Fp({},l),Ace(e)));else if(ve(e))u=e(l);else if(Zue(e)&&!oce(e)){var c=i(e,l);u=M.createElement(RI,{shapeType:n,elementProps:c})}else{var h=l;u=M.createElement(RI,{shapeType:n,elementProps:h})}return s?M.createElement(Le,{className:a},u):u}function Ag(t,e){return e!=null&&"trapezoids"in t.props}function Sg(t,e){return e!=null&&"sectors"in t.props}function sf(t,e){return e!=null&&"points"in t.props}function Sce(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Tce(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Pce(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ice(t,e){var n;return Ag(t,e)?n=Sce:Sg(t,e)?n=Tce:sf(t,e)&&(n=Pce),n}function Oce(t,e){var n;return Ag(t,e)?n="trapezoids":Sg(t,e)?n="sectors":sf(t,e)&&(n="points"),n}function Cce(t,e){if(Ag(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Sg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sf(t,e)?e.payload:{}}function kce(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Oce(n,e),o=Cce(n,e),a=r.filter(function(l,u){var c=Bf(o,l),h=n.props[i].filter(function(m){var y=Ice(n,e);return y(m,e)}),d=n.props[i].indexOf(h[h.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var pd;function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){fr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lD(r.key),r)}}function Rce(t,e,n){return e&&MI(t.prototype,e),n&&MI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jce(t,e,n){return e=Up(e),Mce(t,sD()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function Mce(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dce(t)}function Dce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sD=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function fr(t,e,n){return e=lD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lD(t){var e=Lce(t,"string");return dl(e)=="symbol"?e:e+""}function Lce(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wi=function(t){function e(n){var r;return Nce(this,e),r=jce(this,e,[n]),fr(r,"pieRef",null),fr(r,"sectorRefs",[]),fr(r,"id",Bl("recharts-pie-")),fr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ve(i)&&i()}),fr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ve(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return $ce(e,t),Rce(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=me(this.props,!1),h=me(a,!1),d=me(s,!1),p=a&&a.offsetRadius||20,m=r.map(function(y,b){var _=(y.startAngle+y.endAngle)/2,v=Ze(y.cx,y.cy,y.outerRadius+p,_),w=Ye(Ye(Ye(Ye({},c),y),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(v.x,y.cx)},v),O=Ye(Ye(Ye(Ye({},c),y),{},{fill:"none",stroke:y.fill},d),{},{index:b,points:[Ze(y.cx,y.cy,y.outerRadius,_),v]}),S=l;return Ae(l)&&Ae(u)?S="value":Ae(l)&&(S=u),M.createElement(Le,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,O,"line"),e.renderLabelItem(a,w,Vt(y,S)))});return M.createElement(Le,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(c),d=l&&i.hasActiveIndex()?l:null,p=h?a:d,m=Ye(Ye({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(Le,As({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ja(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(aD,As({option:p,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,h=this.state,d=h.prevSectors,p=h.prevIsAnimationActive;return M.createElement(ri,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var y=m.t,b=[],_=o&&o[0],v=_.startAngle;return o.forEach(function(w,O){var S=d&&d[O],P=O>0?Jn(w,"paddingAngle",0):0;if(S){var E=qn(S.endAngle-S.startAngle,w.endAngle-w.startAngle),A=Ye(Ye({},w),{},{startAngle:v+P,endAngle:v+E(y)+P});b.push(A),v=A.endAngle}else{var I=w.endAngle,C=w.startAngle,k=qn(0,I-C),R=k(y),N=Ye(Ye({},w),{},{startAngle:v+P,endAngle:v+R+P});b.push(N),v=N.endAngle}}),M.createElement(Le,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Bf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,h=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!a||!a.length||!Z(u)||!Z(c)||!Z(h)||!Z(d))return null;var y=Ie("recharts-pie",s);return M.createElement(Le,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),Kt.renderCallByParent(this.props,null,!1),(!p||m)&&Ti.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(ve(r))return r(i);var a=Ie("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Np,As({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var a=o;if(ve(r)&&(a=r(i),M.isValidElement(a)))return a;var s=Ie("recharts-pie-label-text",typeof r!="boolean"&&!ve(r)?r.className:"");return M.createElement(Ma,As({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(L.PureComponent);pd=Wi;fr(Wi,"displayName","Pie");fr(Wi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ha.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fr(Wi,"parseDeltaAngle",function(t,e){var n=An(e-t),r=Math.min(Math.abs(e-t),360);return n*r});fr(Wi,"getRealPieData",function(t){var e=t.data,n=t.children,r=me(t,!1),i=Zn(n,sg);return e&&e.length?e.map(function(o,a){return Ye(Ye(Ye({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Ye(Ye({},r),o.props)}):[]});fr(Wi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=UM(i,o),s=r+Sn(t.cx,i,i/2),l=n+Sn(t.cy,o,o/2),u=Sn(t.innerRadius,a,0),c=Sn(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:h}});fr(Wi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ye(Ye({},e.type.defaultProps),e.props):e.props,i=pd.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,h=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),m=pd.parseCoordinateOfPie(r,n),y=pd.parseDeltaAngle(a,s),b=Math.abs(y),_=u;Ae(u)&&Ae(h)?(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ae(u)&&(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=h);var v=i.filter(function(A){return Vt(A,_,0)!==0}).length,w=(b>=360?v:v-1)*l,O=b-v*p-w,S=i.reduce(function(A,I){var C=Vt(I,_,0);return A+(Z(C)?C:0)},0),P;if(S>0){var E;P=i.map(function(A,I){var C=Vt(A,_,0),k=Vt(A,c,I),R=(Z(C)?C:0)/S,N;I?N=E.endAngle+An(y)*l*(C!==0?1:0):N=a;var U=N+An(y)*((C!==0?p:0)+R*O),B=(N+U)/2,H=(m.innerRadius+m.outerRadius)/2,K=[{name:k,value:C,payload:A,dataKey:_,type:d}],$=Ze(m.cx,m.cy,H,B);return E=Ye(Ye(Ye({percent:R,cornerRadius:o,name:k,tooltipPayload:K,midAngle:B,middleRadius:H,tooltipPosition:$},A),m),{},{value:Vt(A,_),startAngle:N,endAngle:U,payload:A,paddingAngle:An(y)*l}),E})}return Ye(Ye({},m),{},{sectors:P,data:i})});var Vce=Math.ceil,Fce=Math.max;function Uce(t,e,n,r){for(var i=-1,o=Fce(Vce((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Bce=Uce,zce=Ij,DI=1/0,Wce=17976931348623157e292;function qce(t){if(!t)return t===0?t:0;if(t=zce(t),t===DI||t===-DI){var e=t<0?-1:1;return e*Wce}return t===t?t:0}var uD=qce,Hce=Bce,Kce=ag,iv=uD;function Gce(t){return function(e,n,r){return r&&typeof r!="number"&&Kce(e,n,r)&&(n=r=void 0),e=iv(e),n===void 0?(n=e,e=0):n=iv(n),r=r===void 0?e<n?1:-1:iv(r),Hce(e,n,r,t)}}var Xce=Gce,Yce=Xce,Qce=Yce(),Jce=Qce;const Bp=ze(Jce);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function $I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(n),!0).forEach(function(r){cD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cD(t,e,n){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zce(t){var e=efe(t,"string");return lf(e)=="symbol"?e:e+""}function efe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tfe=["Webkit","Moz","O","ms"],nfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=tfe.reduce(function(o,a){return LI(LI({},o),{},cD({},a+r,n))},{});return i[e]=n,i};function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hD(r.key),r)}}function ife(t,e,n){return e&&FI(t.prototype,e),n&&FI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ofe(t,e,n){return e=Wp(e),afe(t,fD()?Reflect.construct(e,n||[],Wp(t).constructor):e.apply(t,n))}function afe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sfe(t)}function sfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(t)}function lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Bn(t,e,n){return e=hD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hD(t){var e=ufe(t,"string");return pl(e)=="symbol"?e:e+""}function ufe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=ec().domain(Bp(0,l)).range([o,o+a-s]),c=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},UI=function(e){return e.changedTouches&&!!e.changedTouches.length},ml=function(t){function e(n){var r;return rfe(this,e),r=ofe(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=UI(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lfe(e,t),ife(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,h=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,h),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Vt(o[r],s,r);return ve(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,h=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-h-s,u+c-h-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==d||b.endIndex!==p)&&m&&m(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=UI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,h=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,y=c.gap,b=c.data,_={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,h+d-p-u):v<0&&(v=Math.max(v,h-u)),_[a]=u+v;var w=this.getIndex(_),O=w.startIndex,S=w.endIndex,P=function(){var A=b.length-1;return a==="startX"&&(s>l?O%y===0:S%y===0)||s<l&&S===A||a==="endX"&&(s>l?S%y===0:O%y===0)||s>l&&S===A};this.setState(Bn(Bn({},a,u+v),"brushMoveStartX",r.pageX),function(){m&&P()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],h=s.indexOf(c);if(h!==-1){var d=h+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Bn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,h=L.Children.only(u);return h?M.cloneElement(h,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,h=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,y=l.startIndex,b=l.endIndex,_=Math.max(r,this.props.x),v=ov(ov({},me(this.props,!1)),{},{x:_,y:u,width:c,height:h}),w=p||"Min value: ".concat((o=m[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[b])===null||a===void 0?void 0:a.name);return M.createElement(Le,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,h=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return M.createElement(Le,{className:"recharts-brush-texts"},M.createElement(Ma,zp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:a+s/2},m),this.getTextOfTick(i)),M.createElement(Ma,zp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,y=d.isTextActive,b=d.isSlideMoving,_=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!Z(s)||!Z(l)||!Z(u)||!Z(c)||u<=0||c<=0)return null;var w=Ie("recharts-brush",o),O=M.Children.count(a)===1,S=nfe("userSelect","none");return M.createElement(Le,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(y||b||_||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):ve(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return ov({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?cfe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(L.PureComponent);Bn(ml,"displayName","Brush");Bn(ml,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ffe=vx;function hfe(t,e){var n;return ffe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var dfe=hfe,pfe=tj,mfe=ai,gfe=dfe,yfe=Vn,vfe=ag;function _fe(t,e,n){var r=yfe(t)?pfe:gfe;return n&&vfe(t,e,n)&&(e=void 0),r(t,mfe(e))}var bfe=_fe;const wfe=ze(bfe);var ei=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},BI=Ej;function xfe(t,e,n){e=="__proto__"&&BI?BI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Efe=xfe,Afe=Efe,Sfe=wj,Tfe=ai;function Pfe(t,e){var n={};return e=Tfe(e),Sfe(t,function(r,i,o){Afe(n,i,e(r,i,o))}),n}var Ife=Pfe;const Ofe=ze(Ife);function Cfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var kfe=Cfe,Nfe=vx;function Rfe(t,e){var n=!0;return Nfe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var jfe=Rfe,Mfe=kfe,Dfe=jfe,$fe=ai,Lfe=Vn,Vfe=ag;function Ffe(t,e,n){var r=Lfe(t)?Mfe:Dfe;return n&&Vfe(t,e,n)&&(e=void 0),r(t,$fe(e))}var Ufe=Ffe;const dD=ze(Ufe);var Bfe=["x","y"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return e=Wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=qfe(t,"string");return uf(e)=="symbol"?e:e+""}function qfe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hfe(t,e){if(t==null)return{};var n=Kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gfe(t,e){var n=t.x,r=t.y,i=Hfe(t,Bfe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return Pu(Pu(Pu(Pu(Pu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function WI(t){return M.createElement(aD,L_({shapeType:"rectangle",propTransformer:Gfe,activeClassName:"recharts-active-bar"},t))}var Xfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Z(r)||bW(r);return o?e(r,i):(o||$a(),n)}},Yfe=["value","background"],pD;function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Qfe(t,e){if(t==null)return{};var n=Jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(this,arguments)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gD(r.key),r)}}function ehe(t,e,n){return e&&HI(t.prototype,e),n&&HI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function the(t,e,n){return e=Hp(e),nhe(t,mD()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function nhe(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(t)}function rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function ho(t,e,n){return e=gD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gD(t){var e=ohe(t,"string");return gl(e)=="symbol"?e:e+""}function ohe(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Do=function(t){function e(){var n;Zfe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=the(this,e,[].concat(i)),ho(n,"state",{isAnimationFinished:!1}),ho(n,"id",Bl("recharts-bar-")),ho(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ho(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return ihe(e,t),ehe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=me(this.props,!1);return r&&r.map(function(h,d){var p=d===l,m=p?u:a,y=Ct(Ct(Ct({},c),h),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Le,qp({className:"recharts-bar-rectangle"},ja(i.props,h,d),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(d)}),M.createElement(WI,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state.prevData;return M.createElement(ri,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,y=o.map(function(b,_){var v=d&&d[_];if(v){var w=qn(v.x,b.x),O=qn(v.y,b.y),S=qn(v.width,b.width),P=qn(v.height,b.height);return Ct(Ct({},b),{},{x:w(m),y:O(m),width:S(m),height:P(m)})}if(a==="horizontal"){var E=qn(0,b.height),A=E(m);return Ct(Ct({},b),{},{y:b.y+b.height-A,height:A})}var I=qn(0,b.width),C=I(m);return Ct(Ct({},b),{},{width:C})});return M.createElement(Le,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Bf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=me(this.props.background,!1);return o.map(function(u,c){u.value;var h=u.background,d=Qfe(u,Yfe);if(!h)return null;var p=Ct(Ct(Ct(Ct(Ct({},d),{},{fill:"#eee"},h),l),ja(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(WI,qp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,h=Zn(c,zf);if(!h)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,_){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:Vt(b,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Le,m,h.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,h=r.width,d=r.height,p=r.isAnimationActive,m=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=Ie("recharts-bar",a),v=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,O=v||w,S=Ae(y)?this.id:y;return M.createElement(Le,{className:_},v||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:v?u:u-h/2,y:w?c:c-d/2,width:v?h:h*2,height:w?d:d*2}))):null,M.createElement(Le,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,S),(!p||b)&&Ti.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(L.PureComponent);pD=Do;ho(Do,"displayName","Bar");ho(Do,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ha.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(Do,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,h=t.displayedData,d=t.offset,p=Voe(r,n);if(!p)return null;var m=e.layout,y=n.type.defaultProps,b=y!==void 0?Ct(Ct({},y),n.props):n.props,_=b.dataKey,v=b.children,w=b.minPointSize,O=m==="horizontal"?a:o,S=u?O.scale.domain():null,P=Hoe({numericAxis:O}),E=Zn(v,sg),A=h.map(function(I,C){var k,R,N,U,B,H;u?k=Foe(u[c+C],S):(k=Vt(I,_),Array.isArray(k)||(k=[P,k]));var K=Xfe(w,pD.defaultProps.minPointSize)(k[1],C);if(m==="horizontal"){var $,z=[a.scale(k[0]),a.scale(k[1])],q=z[0],ee=z[1];R=MP({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:I,index:C}),N=($=ee??q)!==null&&$!==void 0?$:void 0,U=p.size;var X=q-ee;if(B=Number.isNaN(X)?0:X,H={x:R,y:a.y,width:U,height:a.height},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var ae=An(B||K)*(Math.abs(K)-Math.abs(B));N-=ae,B+=ae}}else{var Te=[o.scale(k[0]),o.scale(k[1])],Me=Te[0],ke=Te[1];if(R=Me,N=MP({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:I,index:C}),U=ke-Me,B=p.size,H={x:o.x,y:N,width:o.width,height:B},Math.abs(K)>0&&Math.abs(U)<Math.abs(K)){var jt=An(U||K)*(Math.abs(K)-Math.abs(U));U+=jt}}return Ct(Ct(Ct({},I),{},{x:R,y:N,width:U,height:B,value:u?k:k[1],payload:I,background:H},E&&E[C]&&E[C].props),{},{tooltipPayload:[VM(n,I)],tooltipPosition:{x:R+U/2,y:N+B/2}})});return Ct({data:A,layout:m},d)});function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yD(r.key),r)}}function she(t,e,n){return e&&KI(t.prototype,e),n&&KI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tg(t,e,n){return e=yD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yD(t){var e=lhe(t,"string");return cf(e)=="symbol"?e:e+""}function lhe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vD=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Wn(u,Do);return c.reduce(function(p,m){var y=n[m],b=y.orientation,_=y.domain,v=y.padding,w=v===void 0?{}:v,O=y.mirror,S=y.reversed,P="".concat(b).concat(O?"Mirror":""),E,A,I,C,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=_[1]-_[0],N=1/0,U=y.categoricalDomain.sort(EW);if(U.forEach(function(Te,Me){Me>0&&(N=Math.min((Te||0)-(U[Me-1]||0),N))}),Number.isFinite(N)){var B=N/R,H=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(E=B*H/2),y.padding==="no-gap"){var K=Sn(e.barCategoryGap,B*H),$=B*H/2;E=$-K-($-K)/H*K}}}i==="xAxis"?A=[r.left+(w.left||0)+(E||0),r.left+r.width-(w.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(E||0),r.top+r.height-(w.bottom||0)-(E||0)]:A=y.range,S&&(A=[A[1],A[0]]);var z=MM(y,o,d),q=z.scale,ee=z.realScaleType;q.domain(_).range(A),DM(q);var X=$M(q,Pr(Pr({},y),{},{realScaleType:ee}));i==="xAxis"?(k=b==="top"&&!O||b==="bottom"&&O,I=r.left,C=h[P]-k*y.height):i==="yAxis"&&(k=b==="left"&&!O||b==="right"&&O,I=h[P]-k*y.width,C=r.top);var ae=Pr(Pr(Pr({},y),X),{},{realScaleType:ee,x:I,y:C,scale:q,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ae.bandSize=Op(ae,X),!y.hide&&i==="xAxis"?h[P]+=(k?-1:1)*ae.height:y.hide||(h[P]+=(k?-1:1)*ae.width),Pr(Pr({},p),{},Tg({},m,ae))},{})},_D=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},uhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return _D({x:n,y:r},{x:i,y:o})},bD=function(){function t(e){ahe(this,t),this.scale=e}return she(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Tg(bD,"EPS",1e-4);var Gx=function(e){var n=Object.keys(e).reduce(function(r,i){return Pr(Pr({},r),{},Tg({},i,bD.create(e[i])))},{});return Pr(Pr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Ofe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return dD(i,function(o,a){return n[a].isInRange(o)})}})};function che(t){return(t%180+180)%180}var fhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=che(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},hhe=ai,dhe=$f,phe=ig;function mhe(t){return function(e,n,r){var i=Object(e);if(!dhe(e)){var o=hhe(n);e=phe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var ghe=mhe,yhe=uD;function vhe(t){var e=yhe(t),n=e%1;return e===e?n?e-n:e:0}var _he=vhe,bhe=mj,whe=ai,xhe=_he,Ehe=Math.max;function Ahe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:xhe(n);return i<0&&(i=Ehe(r+i,0)),bhe(t,whe(e),i)}var She=Ahe,The=ghe,Phe=She,Ihe=The(Phe),Ohe=Ihe;const Che=ze(Ohe);var khe=T7(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Xx=L.createContext(void 0),Yx=L.createContext(void 0),wD=L.createContext(void 0),xD=L.createContext({}),ED=L.createContext(void 0),AD=L.createContext(0),SD=L.createContext(0),XI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=khe(o);return M.createElement(Xx.Provider,{value:r},M.createElement(Yx.Provider,{value:i},M.createElement(xD.Provider,{value:o},M.createElement(wD.Provider,{value:c},M.createElement(ED.Provider,{value:a},M.createElement(AD.Provider,{value:u},M.createElement(SD.Provider,{value:l},s)))))))},Nhe=function(){return L.useContext(ED)},TD=function(e){var n=L.useContext(Xx);n==null&&$a();var r=n[e];return r==null&&$a(),r},Rhe=function(){var e=L.useContext(Xx);return lo(e)},jhe=function(){var e=L.useContext(Yx),n=Che(e,function(r){return dD(r.domain,Number.isFinite)});return n||lo(e)},PD=function(e){var n=L.useContext(Yx);n==null&&$a();var r=n[e];return r==null&&$a(),r},Mhe=function(){var e=L.useContext(wD);return e},Dhe=function(){return L.useContext(xD)},Qx=function(){return L.useContext(SD)},Jx=function(){return L.useContext(AD)};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OD(r.key),r)}}function Vhe(t,e,n){return e&&Lhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fhe(t,e,n){return e=Kp(e),Uhe(t,ID()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function Uhe(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ID(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function YI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(n),!0).forEach(function(r){Zx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zx(t,e,n){return e=OD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OD(t){var e=Whe(t,"string");return yl(e)=="symbol"?e:e+""}function Whe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qhe(t,e){return Xhe(t)||Ghe(t,e)||Khe(t,e)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Khe(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ghe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Xhe(t){if(Array.isArray(t))return t}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}var Yhe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):ve(e)?r=e(n):r=M.createElement("line",U_({},n,{className:"recharts-reference-line-line"})),r},Qhe=function(e,n,r,i,o,a,s,l,u){var c=o.x,h=o.y,d=o.width,p=o.height;if(r){var m=u.y,y=e.y.apply(m,{position:a});if(ei(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:c+d,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var _=u.x,v=e.x.apply(_,{position:a});if(ei(u,"discard")&&!e.x.isInRange(v))return null;var w=[{x:v,y:h+p},{x:v,y:h}];return s==="top"?w.reverse():w}if(i){var O=u.segment,S=O.map(function(P){return e.apply(P,{position:a})});return ei(u,"discard")&&wfe(S,function(P){return!e.isInRange(P)})?null:S}return null};function Jhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Nhe(),c=TD(i),h=PD(o),d=Mhe();if(!u||!d)return null;Rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Gx({x:c.scale,y:h.scale}),m=Ut(e),y=Ut(n),b=r&&r.length===2,_=Qhe(p,m,y,b,d,t.position,c.orientation,h.orientation,t);if(!_)return null;var v=qhe(_,2),w=v[0],O=w.x,S=w.y,P=v[1],E=P.x,A=P.y,I=ei(t,"hidden")?"url(#".concat(u,")"):void 0,C=QI(QI({clipPath:I},me(t,!0)),{},{x1:O,y1:S,x2:E,y2:A});return M.createElement(Le,{className:Ie("recharts-reference-line",s)},Yhe(a,C),Kt.renderCallByParent(t,uhe({x1:O,y1:S,x2:E,y2:A})))}var e1=function(t){function e(){return $he(this,e),Fhe(this,e,arguments)}return zhe(e,t),Vhe(e,[{key:"render",value:function(){return M.createElement(Jhe,this.props)}}])}(M.Component);Zx(e1,"displayName","ReferenceLine");Zx(e1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ede(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function tde(t,e,n){return e&&ede(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nde(t,e,n){return e=Gp(e),rde(t,CD()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function rde(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ide(t)}function ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CD=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function Pg(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=ade(t,"string");return vl(e)=="symbol"?e:e+""}function ade(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sde=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Gx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return ei(e,"discard")&&!a.isInRange(s)?null:s},Ig=function(t){function e(){return Zhe(this,e),nde(this,e,arguments)}return ode(e,t),tde(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ut(i),c=Ut(o);if(Rr(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var h=sde(this.props);if(!h)return null;var d=h.x,p=h.y,m=this.props,y=m.shape,b=m.className,_=ei(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=eO(eO({clipPath:_},me(this.props,!0)),{},{cx:d,cy:p});return M.createElement(Le,{className:Ie("recharts-reference-dot",b)},e.renderDot(y,v),Kt.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);Pg(Ig,"displayName","ReferenceDot");Pg(Ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pg(Ig,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ve(t)?n=t(e):n=M.createElement(_g,B_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ude(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RD(r.key),r)}}function cde(t,e,n){return e&&ude(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fde(t,e,n){return e=Xp(e),hde(t,ND()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function hde(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dde(t)}function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ND(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ND=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function Og(t,e,n){return e=RD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RD(t){var e=mde(t,"string");return _l(e)=="symbol"?e:e+""}function mde(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gde=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,h=o.yAxis;if(!c||!h)return null;var d=Gx({x:c.scale,y:h.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return ei(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:_D(p,m)},Cg=function(t){function e(){return lde(this,e),fde(this,e,arguments)}return pde(e,t),cde(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ut(i),d=Ut(o),p=Ut(a),m=Ut(s),y=this.props.shape;if(!h&&!d&&!p&&!m&&!y)return null;var b=gde(h,d,p,m,this.props);if(!b&&!y)return null;var _=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(Le,{className:Ie("recharts-reference-area",l)},e.renderRect(y,nO(nO({clipPath:_},me(this.props,!0)),b)),Kt.renderCallByParent(this.props,b))}}])}(M.Component);Og(Cg,"displayName","ReferenceArea");Og(Cg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Og(Cg,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):ve(t)?n=t(e):n=M.createElement(Kx,W_({},e,{className:"recharts-reference-area-rect"})),n});function jD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yde(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return fhe(r,n)}function vde(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Yp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function _de(t,e){return jD(t,e+1)}function bde(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,h=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:jD(r,u)};var y=l,b,_=function(){return b===void 0&&(b=n(m,y)),b},v=m.coordinate,w=l===0||Yp(t,v,_,c,s);w||(l=0,c=a,u+=1),w&&(c=v+t*(_()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wde(t,e,n){return e=xde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xde(t){var e=Ede(t,"string");return ff(e)=="symbol"?e:e+""}function Ede(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ade(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,y=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var b=t*(p.coordinate+t*y()/2-l);o[d]=p=pn(pn({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[d]=p=pn(pn({},p),{},{tickCoord:p.coordinate});var _=Yp(t,p.tickCoord,y,s,l);_&&(l=p.tickCoord-t*(y()/2+i),o[d]=pn(pn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Sde(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],h=n(c,s-1),d=t*(c.coordinate+t*h/2-u);a[s-1]=c=pn(pn({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Yp(t,c.tickCoord,function(){return h},l,u);p&&(u=c.tickCoord-t*(h/2+i),a[s-1]=pn(pn({},c),{},{isShow:!0}))}for(var m=o?s-1:s,y=function(v){var w=a[v],O,S=function(){return O===void 0&&(O=n(w,v)),O};if(v===0){var P=t*(w.coordinate-t*S()/2-l);a[v]=w=pn(pn({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else a[v]=w=pn(pn({},w),{},{tickCoord:w.coordinate});var E=Yp(t,w.tickCoord,S,l,u);E&&(l=w.tickCoord+t*(S()/2+i),a[v]=pn(pn({},w),{},{isShow:!0}))},b=0;b<m;b++)y(b);return a}function t1(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(Z(l)||Ha.isSsr)return _de(i,typeof l=="number"&&Z(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Zu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(w,O){var S=ve(u)?u(w.value,O):w.value;return p==="width"?yde(Zu(S,{fontSize:e,letterSpacing:n}),m,h):Zu(S,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?An(i[1].coordinate-i[0].coordinate):1,_=vde(o,b,p);return l==="equidistantPreserveStart"?bde(b,_,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=Sde(b,_,y,i,a,l==="preserveStartEnd"):d=Ade(b,_,y,i,a),d.filter(function(v){return v.isShow}))}var Tde=["viewBox"],Pde=["viewBox"],Ide=["ticks"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ss.apply(this,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){n1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function av(t,e){if(t==null)return{};var n=Ode(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DD(r.key),r)}}function kde(t,e,n){return e&&oO(t.prototype,e),n&&oO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nde(t,e,n){return e=Qp(e),Rde(t,MD()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Rde(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jde(t)}function jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MD=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function n1(t,e,n){return e=DD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t){var e=Dde(t,"string");return bl(e)=="symbol"?e:e+""}function Dde(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xl=function(t){function e(n){var r;return Cde(this,e),r=Nde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Mde(e,t),kde(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=av(r,Tde),s=this.props,l=s.viewBox,u=av(s,Pde);return!$s(o,l)||!$s(a,u)||!$s(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,h=i.mirror,d=i.tickMargin,p,m,y,b,_,v,w=h?-1:1,O=r.tickSize||c,S=Z(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,b=a+ +!h*l,y=b-w*O,v=y-w*d,_=S;break;case"left":y=b=r.coordinate,m=o+ +!h*s,p=m-w*O,_=p-w*d,v=S;break;case"right":y=b=r.coordinate,m=o+ +h*s,p=m+w*O,_=p+w*d,v=S;break;default:p=m=r.coordinate,b=a+ +h*l,y=b+w*O,v=y+w*d,_=S;break}return{line:{x1:p,y1:y,x2:m,y2:b},tick:{x:_,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,h=Mt(Mt(Mt({},me(this.props,!1)),me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);h=Mt(Mt({},h),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=Mt(Mt({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",Ss({},h,{className:Ie("recharts-cartesian-axis-line",Jn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,h=s.tickFormatter,d=s.unit,p=t1(Mt(Mt({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=me(this.props,!1),_=me(c,!1),v=Mt(Mt({},b),{},{fill:"none"},me(l,!1)),w=p.map(function(O,S){var P=a.getTickLineCoord(O),E=P.line,A=P.tick,I=Mt(Mt(Mt(Mt({textAnchor:m,verticalAnchor:y},b),{},{stroke:"none",fill:u},_),A),{},{index:S,payload:O,visibleTicksCount:p.length,tickFormatter:h});return M.createElement(Le,Ss({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ja(a.props,O,S)),l&&M.createElement("line",Ss({},v,E,{className:Ie("recharts-cartesian-axis-tick-line",Jn(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(ve(h)?h(O.value,S):O.value).concat(d||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var h=this.props,d=h.ticks,p=av(h,Ide),m=d;return ve(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:M.createElement(Le,{className:Ie("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ie(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?a=M.cloneElement(r,Mt(Mt({},i),{},{className:s})):ve(r)?a=r(Mt(Mt({},i),{},{className:s})):a=M.createElement(Ma,Ss({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(L.Component);n1(Xl,"displayName","CartesianAxis");n1(Xl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $de=["x1","y1","x2","y2","key"],Lde=["offset"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function aO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Ude(t,"string");return La(e)=="symbol"?e:e+""}function Ude(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function sO(t,e){if(t==null)return{};var n=Bde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var zde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $D(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(ve(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=sO(e,$de),u=me(l,!1);u.offset;var c=sO(u,Lde);n=M.createElement("line",ma({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Wde(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return $D(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function qde(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=vn(vn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return $D(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Hde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var m=!c[p+1],y=m?i+a-d:c[p+1]-d;if(y<=0)return null;var b=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Kde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var h=c.map(function(d,p){var m=!c[p+1],y=m?o+s-d:c[p+1]-d;if(y<=0)return null;var b=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Gde=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return jM(t1(vn(vn(vn({},Xl.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},Xde=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return jM(t1(vn(vn(vn({},Xl.defaultProps),r),{},{ticks:xi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},is={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function K_(t){var e,n,r,i,o,a,s=Qx(),l=Jx(),u=Dhe(),c=vn(vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:is.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:is.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:is.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:is.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:is.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:is.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),h=c.x,d=c.y,p=c.width,m=c.height,y=c.syncWithTicks,b=c.horizontalValues,_=c.verticalValues,v=Rhe(),w=jhe();if(!Z(p)||p<=0||!Z(m)||m<=0||!Z(h)||h!==+h||!Z(d)||d!==+d)return null;var O=c.verticalCoordinatesGenerator||Gde,S=c.horizontalCoordinatesGenerator||Xde,P=c.horizontalPoints,E=c.verticalPoints;if((!P||!P.length)&&ve(S)){var A=b&&b.length,I=S({yAxis:w?vn(vn({},w),{},{ticks:A?b:w.ticks}):void 0,width:s,height:l,offset:u},A?!0:y);Rr(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(La(I),"]")),Array.isArray(I)&&(P=I)}if((!E||!E.length)&&ve(O)){var C=_&&_.length,k=O({xAxis:v?vn(vn({},v),{},{ticks:C?_:v.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Rr(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(La(k),"]")),Array.isArray(k)&&(E=k)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(zde,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(Wde,ma({},c,{offset:u,horizontalPoints:P,xAxis:v,yAxis:w})),M.createElement(qde,ma({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:w})),M.createElement(Hde,ma({},c,{horizontalPoints:P})),M.createElement(Kde,ma({},c,{verticalPoints:E})))}K_.displayName="CartesianGrid";var Yde=["type","layout","connectNulls","ref"],Qde=["key"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function lO(t,e){if(t==null)return{};var n=Jde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){Ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function os(t){return npe(t)||tpe(t)||epe(t)||Zde()}function Zde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function tpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function npe(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VD(r.key),r)}}function ipe(t,e,n){return e&&cO(t.prototype,e),n&&cO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ope(t,e,n){return e=Jp(e),ape(t,LD()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function ape(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function Ir(t,e,n){return e=VD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VD(t){var e=upe(t,"string");return wl(e)=="symbol"?e:e+""}function upe(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wf=function(t){function e(){var n;rpe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ope(this,e,[].concat(i)),Ir(n,"state",{isAnimationFinished:!0,totalLength:0}),Ir(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),Ir(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,v){return _+v});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),h=a%u,d=s-a,p=[],m=0,y=0;m<l.length;y+=l[m],++m)if(y+l[m]>h){p=[].concat(os(l.slice(0,m)),[h-y]);break}var b=p.length%2===0?[0,d]:[d];return[].concat(os(e.repeat(l,c)),os(p),b).map(function(_){return"".concat(_,"px")}).join(", ")}),Ir(n,"id",Bl("recharts-line-")),Ir(n,"pathRef",function(a){n.mainCurve=a}),Ir(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ir(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return lpe(e,t),ipe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,h=Zn(c,zf);if(!h)return null;var d=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Vt(y.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Le,p,h.map(function(m){return M.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,h=me(this.props,!1),d=me(l,!0),p=u.map(function(y,b){var _=Un(Un(Un({key:"dot-".concat(b),r:3},h),d),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,_)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Le,oc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var h=lO(s,Yde),d=Un(Un(Un({},me(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return M.createElement(Np,oc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,h=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,y=a.width,b=a.height,_=this.state,v=_.prevPoints,w=_.totalLength;return M.createElement(ri,{begin:c,duration:h,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var S=O.t;if(v){var P=v.length/s.length,E=s.map(function(R,N){var U=Math.floor(N*P);if(v[U]){var B=v[U],H=qn(B.x,R.x),K=qn(B.y,R.y);return Un(Un({},R),{},{x:H(S),y:K(S)})}if(m){var $=qn(y*2,R.x),z=qn(b/2,R.y);return Un(Un({},R),{},{x:$(S),y:z(S)})}return Un(Un({},R),{},{x:R.x,y:R.y})});return o.renderCurveStatically(E,r,i)}var A=qn(0,w),I=A(S),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});C=o.getStrokeDasharray(I,w,k)}else C=o.generateSimpleStrokeDasharray(w,I);return o.renderCurveStatically(s,r,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Bf(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,h=i.top,d=i.left,p=i.width,m=i.height,y=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,v=s.length===1,w=Ie("recharts-line",l),O=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,P=O||S,E=Ae(b)?this.id:b,A=(r=me(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=A.r,C=I===void 0?3:I,k=A.strokeWidth,R=k===void 0?2:k,N=NW(a)?a:{},U=N.clipDot,B=U===void 0?!0:U,H=C*2+R;return M.createElement(Le,{className:w},O||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:O?d:d-p/2,y:S?h:h-m/2,width:O?p:p*2,height:S?m:m*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(E)},M.createElement("rect",{x:d-H/2,y:h-H/2,width:p+H,height:m+H}))):null,!v&&this.renderCurve(P,E),this.renderErrorBar(P,E),(v||a)&&this.renderDots(P,B,E),(!y||_)&&Ti.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(os(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(os(a),os(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(ve(r))o=r(i);else{var a=i.key,s=lO(i,Qde),l=Ie("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(_g,oc({key:a},s,{className:l}))}return o}}])}(L.PureComponent);Ir(Wf,"displayName","Line");Ir(Wf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ha.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ir(Wf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,h=l.map(function(d,p){var m=Vt(d,a);return c==="horizontal"?{x:jP({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:Ae(m)?null:r.scale(m),value:m,payload:d}:{x:Ae(m)?null:n.scale(m),y:jP({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return Un({points:h,layout:c},u)});function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function cpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function hpe(t,e,n){return e&&fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dpe(t,e,n){return e=Zp(e),ppe(t,FD()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function ppe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mpe(t)}function mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FD=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function gpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function UD(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=ype(t,"string");return xl(e)=="symbol"?e:e+""}function ype(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function vpe(t){var e=t.xAxisId,n=Qx(),r=Jx(),i=TD(e);return i==null?null:L.createElement(Xl,Q_({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return xi(a,!0)}}))}var El=function(t){function e(){return cpe(this,e),dpe(this,e,arguments)}return gpe(e,t),hpe(e,[{key:"render",value:function(){return L.createElement(vpe,this.props)}}])}(L.Component);UD(El,"displayName","XAxis");UD(El,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qD(r.key),r)}}function wpe(t,e,n){return e&&bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpe(t,e,n){return e=em(e),Epe(t,zD()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function Epe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ape(t)}function Ape(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zD=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function WD(t,e,n){return e=qD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qD(t){var e=Tpe(t,"string");return Al(e)=="symbol"?e:e+""}function Tpe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}var Ppe=function(e){var n=e.yAxisId,r=Qx(),i=Jx(),o=PD(n);return o==null?null:L.createElement(Xl,Z_({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return xi(s,!0)}}))},Sl=function(t){function e(){return _pe(this,e),xpe(this,e,arguments)}return Spe(e,t),wpe(e,[{key:"render",value:function(){return L.createElement(Ppe,this.props)}}])}(L.Component);WD(Sl,"displayName","YAxis");WD(Sl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fO(t){return kpe(t)||Cpe(t)||Ope(t)||Ipe()}function Ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ope(t,e){if(t){if(typeof t=="string")return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}}function Cpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kpe(t){if(Array.isArray(t))return eb(t)}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tb=function(e,n,r,i,o){var a=Zn(e,e1),s=Zn(e,Ig),l=[].concat(fO(a),fO(s)),u=Zn(e,Cg),c="".concat(i,"Id"),h=i[0],d=n;if(l.length&&(d=l.reduce(function(y,b){if(b.props[c]===r&&ei(b.props,"extendDomain")&&Z(b.props[h])){var _=b.props[h];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},d)),u.length){var p="".concat(h,"1"),m="".concat(h,"2");d=u.reduce(function(y,b){if(b.props[c]===r&&ei(b.props,"extendDomain")&&Z(b.props[p])&&Z(b.props[m])){var _=b.props[p],v=b.props[m];return[Math.min(y[0],_,v),Math.max(y[1],_,v)]}return y},d)}return o&&o.length&&(d=o.reduce(function(y,b){return Z(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},d)),d},HD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,m=new Array(p);d<p;d++)m[d]=h[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,c,h,d,p,m){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],_=arguments.length,v,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,h),!0;case 4:return b.fn.call(b.context,c,h,d),!0;case 5:return b.fn.call(b.context,c,h,d,p),!0;case 6:return b.fn.call(b.context,c,h,d,p,m),!0}for(w=1,v=new Array(_-1);w<_;w++)v[w-1]=arguments[w];b.fn.apply(b.context,v)}else{var O=b.length,S;for(w=0;w<O;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),_){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,c);break;case 3:b[w].fn.call(b[w].context,c,h);break;case 4:b[w].fn.call(b[w].context,c,h,d);break;default:if(!v)for(S=1,v=new Array(_-1);S<_;S++)v[S-1]=arguments[S];b[w].fn.apply(b[w].context,v)}}return!0},s.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},s.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},s.prototype.removeListener=function(u,c,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var y=0,b=[],_=m.length;y<_;y++)(m[y].fn!==c||d&&!m[y].once||h&&m[y].context!==h)&&b.push(m[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(HD);var Npe=HD.exports;const Rpe=ze(Npe);var sv=new Rpe,lv="recharts.syncMouseEvents";function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KD(r.key),r)}}function Dpe(t,e,n){return e&&Mpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uv(t,e,n){return e=KD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KD(t){var e=$pe(t,"string");return hf(e)=="symbol"?e:e+""}function $pe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lpe=function(){function t(){jpe(this,t),uv(this,"activeIndex",0),uv(this,"coordinateList",[]),uv(this,"layout","horizontal")}return Dpe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,h=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:h,pageY:d})}}}])}();function Vpe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Z(r)&&Z(i))return!0}return!1}function Fpe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function GD(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Ze(e,n,r,i),s=Ze(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Upe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,h=e.angle,d=Ze(s,l,u,h),p=Ze(s,l,c,h);r=d.x,i=d.y,o=p.x,a=p.y}else return GD(e);return[{x:r,y:i},{x:o,y:a}]}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Bpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bpe(t,e,n){return e=zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zpe(t){var e=Wpe(t,"string");return df(e)=="symbol"?e:e+""}function Wpe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qpe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,h=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,y=Np;if(d==="ScatterChart")m=a,y=uue;else if(d==="BarChart")m=Fpe(h,a,l,c),y=Kx;else if(h==="radial"){var b=GD(a),_=b.cx,v=b.cy,w=b.radius,O=b.startAngle,S=b.endAngle;m={cx:_,cy:v,startAngle:O,endAngle:S,innerRadius:w,outerRadius:w},y=Hx}else m={points:Upe(h,a,l)},y=Np;var P=qh(qh(qh(qh({stroke:"#ccc",pointerEvents:"none"},l),m),me(p,!1)),{},{payload:s,payloadIndex:u,className:Ie("recharts-tooltip-cursor",p.className)});return L.isValidElement(p)?L.cloneElement(p,P):L.createElement(y,P)}var Hpe=["item"],Kpe=["children","className","width","height","style","compact","title","desc"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}function dO(t,e){return Ype(t)||Xpe(t,e)||YD(t,e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ype(t){if(Array.isArray(t))return t}function pO(t,e){if(t==null)return{};var n=Qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QD(r.key),r)}}function eme(t,e,n){return e&&Zpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,n){return e=tm(e),nme(t,XD()?Reflect.construct(e,n||[],tm(t).constructor):e.apply(t,n))}function nme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rme(t)}function rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tm(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function Pl(t){return sme(t)||ame(t)||YD(t)||ome()}function ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YD(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function ame(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sme(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ge(t,e,n){return e=QD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QD(t){var e=lme(t,"string");return Tl(e)=="symbol"?e:e+""}function lme(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ume={xAxis:["bottom","top"],yAxis:["left","right"]},cme={width:"100%",height:"100%"},JD={x:0,y:0};function Hh(t){return t}var fme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},hme=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),Ze(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Ze(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return JD},kg=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Pl(s),Pl(u)):s},[]);return a.length>0?a:e&&e.length&&Z(i)&&Z(o)?e.slice(i,o+1):[]};function ZD(t){return t==="number"?[0,"auto"]:void 0}var ib=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=kg(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,h=(c=u.props.data)!==null&&c!==void 0?c:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;d=tp(p,a.dataKey,i)}else d=h&&h[r]||s[r];return d?[].concat(Pl(l),[VM(u,d)]):l},[])},gO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=fme(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Roe(a,s,u,l);if(c>=0&&u){var h=u[c]&&u[c].value,d=ib(e,n,c,h),p=hme(r,s,c,o);return{activeTooltipIndex:c,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},dme=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=e.stackOffset,p=RM(c,o);return r.reduce(function(m,y){var b,_=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,v=_.type,w=_.dataKey,O=_.allowDataOverflow,S=_.allowDuplicatedCategory,P=_.scale,E=_.ticks,A=_.includeHidden,I=_[a];if(m[I])return m;var C=kg(e.data,{graphicalItems:i.filter(function(X){var ae,Te=a in X.props?X.props[a]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[a];return Te===I}),dataStartIndex:l,dataEndIndex:u}),k=C.length,R,N,U;Vpe(_.domain,O,v)&&(R=y_(_.domain,null,O),p&&(v==="number"||P!=="auto")&&(U=tc(C,w,"category")));var B=ZD(v);if(!R||R.length===0){var H,K=(H=_.domain)!==null&&H!==void 0?H:B;if(w){if(R=tc(C,w,v),v==="category"&&p){var $=xW(R);S&&$?(N=R,R=Bp(0,k)):S||(R=LP(K,R,y).reduce(function(X,ae){return X.indexOf(ae)>=0?X:[].concat(Pl(X),[ae])},[]))}else if(v==="category")S?R=R.filter(function(X){return X!==""&&!Ae(X)}):R=LP(K,R,y).reduce(function(X,ae){return X.indexOf(ae)>=0||ae===""||Ae(ae)?X:[].concat(Pl(X),[ae])},[]);else if(v==="number"){var z=Loe(C,i.filter(function(X){var ae,Te,Me=a in X.props?X.props[a]:(ae=X.type.defaultProps)===null||ae===void 0?void 0:ae[a],ke="hide"in X.props?X.props.hide:(Te=X.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return Me===I&&(A||!ke)}),w,o,c);z&&(R=z)}p&&(v==="number"||P!=="auto")&&(U=tc(C,w,"category"))}else p?R=Bp(0,k):s&&s[I]&&s[I].hasStack&&v==="number"?R=d==="expand"?[0,1]:LM(s[I].stackGroups,l,u):R=NM(C,i.filter(function(X){var ae=a in X.props?X.props[a]:X.type.defaultProps[a],Te="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ae===I&&(A||!Te)}),v,c,!0);if(v==="number")R=tb(h,R,I,o,E),K&&(R=y_(K,R,O));else if(v==="category"&&K){var q=K,ee=R.every(function(X){return q.indexOf(X)>=0});ee&&(R=q)}}return W(W({},m),{},ge({},I,W(W({},_),{},{axisType:o,domain:R,categoricalDomain:U,duplicateDomain:N,originalDomain:(b=_.domain)!==null&&b!==void 0?b:B,isCategorical:p,layout:c})))},{})},pme=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,h=e.children,d=kg(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=RM(c,o),y=-1;return r.reduce(function(b,_){var v=_.type.defaultProps!==void 0?W(W({},_.type.defaultProps),_.props):_.props,w=v[a],O=ZD("number");if(!b[w]){y++;var S;return m?S=Bp(0,p):s&&s[w]&&s[w].hasStack?(S=LM(s[w].stackGroups,l,u),S=tb(h,S,w,o)):(S=y_(O,NM(d,r.filter(function(P){var E,A,I=a in P.props?P.props[a]:(E=P.type.defaultProps)===null||E===void 0?void 0:E[a],C="hide"in P.props?P.props.hide:(A=P.type.defaultProps)===null||A===void 0?void 0:A.hide;return I===w&&!C}),"number",c),i.defaultProps.allowDataOverflow),S=tb(h,S,w,o)),W(W({},b),{},ge({},w,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:Jn(ume,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:O,isCategorical:m,layout:c})))}return b},{})},mme=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,h="".concat(i,"Id"),d=Zn(c,o),p={};return d&&d.length?p=dme(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=pme(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},gme=function(e){var n=lo(e),r=xi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:_x(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Op(n,r)}},yO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wn(n,ml),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},yme=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},vO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vme=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,h=r.children,d=r.margin||{},p=Wn(h,ml),m=Wn(h,Po),y=Object.keys(l).reduce(function(S,P){var E=l[P],A=E.orientation;return!E.mirror&&!E.hide?W(W({},S),{},ge({},A,S[A]+E.width)):S},{left:d.left||0,right:d.right||0}),b=Object.keys(a).reduce(function(S,P){var E=a[P],A=E.orientation;return!E.mirror&&!E.hide?W(W({},S),{},ge({},A,Jn(S,"".concat(A))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),_=W(W({},b),y),v=_.bottom;p&&(_.bottom+=p.props.height||ml.defaultProps.height),m&&n&&(_=Doe(_,i,r,n));var w=u-_.left-_.right,O=c-_.top-_.bottom;return W(W({brushBottom:v},_),{},{width:Math.max(w,0),height:Math.max(O,0)})},_me=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},r1=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,h=e.defaultProps,d=function(_,v){var w=v.graphicalItems,O=v.stackGroups,S=v.offset,P=v.updateId,E=v.dataStartIndex,A=v.dataEndIndex,I=_.barSize,C=_.layout,k=_.barGap,R=_.barCategoryGap,N=_.maxBarSize,U=vO(C),B=U.numericAxisName,H=U.cateAxisName,K=yme(w),$=[];return w.forEach(function(z,q){var ee=kg(_.data,{graphicalItems:[z],dataStartIndex:E,dataEndIndex:A}),X=z.type.defaultProps!==void 0?W(W({},z.type.defaultProps),z.props):z.props,ae=X.dataKey,Te=X.maxBarSize,Me=X["".concat(B,"Id")],ke=X["".concat(H,"Id")],jt={},st=l.reduce(function(ir,Yt){var $r=v["".concat(Yt.axisType,"Map")],Lr=X["".concat(Yt.axisType,"Id")];$r&&$r[Lr]||Yt.axisType==="zAxis"||$a();var qo=$r[Lr];return W(W({},ir),{},ge(ge({},Yt.axisType,qo),"".concat(Yt.axisType,"Ticks"),xi(qo)))},jt),oe=st[H],ye=st["".concat(H,"Ticks")],_e=O&&O[Me]&&O[Me].hasStack&&Koe(z,O[Me].stackGroups),Y=Ai(z.type).indexOf("Bar")>=0,He=Op(oe,ye),Pe=[],Ke=K&&joe({barSize:I,stackGroups:O,totalSize:_me(st,H)});if(Y){var et,pt,lt=Ae(Te)?N:Te,br=(et=(pt=Op(oe,ye,!0))!==null&&pt!==void 0?pt:lt)!==null&&et!==void 0?et:0;Pe=Moe({barGap:k,barCategoryGap:R,bandSize:br!==He?br:He,sizeList:Ke[ke],maxBarSize:lt}),br!==He&&(Pe=Pe.map(function(ir){return W(W({},ir),{},{position:W(W({},ir.position),{},{offset:ir.position.offset-br/2})})}))}var rr=z&&z.type&&z.type.getComposedData;rr&&$.push({props:W(W({},rr(W(W({},st),{},{displayedData:ee,props:_,dataKey:ae,item:z,bandSize:He,barPosition:Pe,offset:S,stackedData:_e,layout:C,dataStartIndex:E,dataEndIndex:A}))),{},ge(ge(ge({key:z.key||"item-".concat(q)},B,st[B]),H,st[H]),"animationId",P)),childIndex:MW(z,_.children),item:z})}),$},p=function(_,v){var w=_.props,O=_.dataStartIndex,S=_.dataEndIndex,P=_.updateId;if(!kS({props:w}))return null;var E=w.children,A=w.layout,I=w.stackOffset,C=w.data,k=w.reverseStackOrder,R=vO(A),N=R.numericAxisName,U=R.cateAxisName,B=Zn(E,r),H=qoe(C,B,"".concat(N,"Id"),"".concat(U,"Id"),I,k),K=l.reduce(function(X,ae){var Te="".concat(ae.axisType,"Map");return W(W({},X),{},ge({},Te,mme(w,W(W({},ae),{},{graphicalItems:B,stackGroups:ae.axisType===N&&H,dataStartIndex:O,dataEndIndex:S}))))},{}),$=vme(W(W({},K),{},{props:w,graphicalItems:B}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(X){K[X]=c(w,K[X],$,X.replace("Map",""),n)});var z=K["".concat(U,"Map")],q=gme(z),ee=d(w,W(W({},K),{},{dataStartIndex:O,dataEndIndex:S,updateId:P,graphicalItems:B,stackGroups:H,offset:$}));return W(W({formattedGraphicalItems:ee,graphicalItems:B,offset:$,stackGroups:H},q),K)},m=function(b){function _(v){var w,O,S;return Jpe(this,_),S=tme(this,_,[v]),ge(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ge(S,"accessibilityManager",new Lpe),ge(S,"handleLegendBBoxUpdate",function(P){if(P){var E=S.state,A=E.dataStartIndex,I=E.dataEndIndex,C=E.updateId;S.setState(W({legendBBox:P},p({props:S.props,dataStartIndex:A,dataEndIndex:I,updateId:C},W(W({},S.state),{},{legendBBox:P}))))}}),ge(S,"handleReceiveSyncEvent",function(P,E,A){if(S.props.syncId===P){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),ge(S,"handleBrushChange",function(P){var E=P.startIndex,A=P.endIndex;if(E!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return W({dataStartIndex:E,dataEndIndex:A},p({props:S.props,dataStartIndex:E,dataEndIndex:A,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),ge(S,"handleMouseEnter",function(P){var E=S.getMouseInfo(P);if(E){var A=W(W({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var I=S.props.onMouseEnter;ve(I)&&I(A,P)}}),ge(S,"triggeredAfterMouseMove",function(P){var E=S.getMouseInfo(P),A=E?W(W({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var I=S.props.onMouseMove;ve(I)&&I(A,P)}),ge(S,"handleItemMouseEnter",function(P){S.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ge(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ge(S,"handleMouseMove",function(P){P.persist(),S.throttleTriggeredAfterMouseMove(P)}),ge(S,"handleMouseLeave",function(P){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var A=S.props.onMouseLeave;ve(A)&&A(E,P)}),ge(S,"handleOuterEvent",function(P){var E=jW(P),A=Jn(S.props,"".concat(E));if(E&&ve(A)){var I,C;/.*touch.*/i.test(E)?C=S.getMouseInfo(P.changedTouches[0]):C=S.getMouseInfo(P),A((I=C)!==null&&I!==void 0?I:{},P)}}),ge(S,"handleClick",function(P){var E=S.getMouseInfo(P);if(E){var A=W(W({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var I=S.props.onClick;ve(I)&&I(A,P)}}),ge(S,"handleMouseDown",function(P){var E=S.props.onMouseDown;if(ve(E)){var A=S.getMouseInfo(P);E(A,P)}}),ge(S,"handleMouseUp",function(P){var E=S.props.onMouseUp;if(ve(E)){var A=S.getMouseInfo(P);E(A,P)}}),ge(S,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ge(S,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseDown(P.changedTouches[0])}),ge(S,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&S.handleMouseUp(P.changedTouches[0])}),ge(S,"handleDoubleClick",function(P){var E=S.props.onDoubleClick;if(ve(E)){var A=S.getMouseInfo(P);E(A,P)}}),ge(S,"handleContextMenu",function(P){var E=S.props.onContextMenu;if(ve(E)){var A=S.getMouseInfo(P);E(A,P)}}),ge(S,"triggerSyncEvent",function(P){S.props.syncId!==void 0&&sv.emit(lv,S.props.syncId,P,S.eventEmitterSymbol)}),ge(S,"applySyncEvent",function(P){var E=S.props,A=E.layout,I=E.syncMethod,C=S.state.updateId,k=P.dataStartIndex,R=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)S.setState(W({dataStartIndex:k,dataEndIndex:R},p({props:S.props,dataStartIndex:k,dataEndIndex:R,updateId:C},S.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,B=P.activeTooltipIndex,H=S.state,K=H.offset,$=H.tooltipTicks;if(!K)return;if(typeof I=="function")B=I($,P);else if(I==="value"){B=-1;for(var z=0;z<$.length;z++)if($[z].value===P.activeLabel){B=z;break}}var q=W(W({},K),{},{x:K.left,y:K.top}),ee=Math.min(N,q.x+q.width),X=Math.min(U,q.y+q.height),ae=$[B]&&$[B].value,Te=ib(S.state,S.props.data,B),Me=$[B]?{x:A==="horizontal"?$[B].coordinate:ee,y:A==="horizontal"?X:$[B].coordinate}:JD;S.setState(W(W({},P),{},{activeLabel:ae,activeCoordinate:Me,activePayload:Te,activeTooltipIndex:B}))}else S.setState(P)}),ge(S,"renderCursor",function(P){var E,A=S.state,I=A.isTooltipActive,C=A.activeCoordinate,k=A.activePayload,R=A.offset,N=A.activeTooltipIndex,U=A.tooltipAxisBandSize,B=S.getTooltipEventType(),H=(E=P.props.active)!==null&&E!==void 0?E:I,K=S.props.layout,$=P.key||"_recharts-cursor";return M.createElement(qpe,{key:$,activeCoordinate:C,activePayload:k,activeTooltipIndex:N,chartName:n,element:P,isActive:H,layout:K,offset:R,tooltipAxisBandSize:U,tooltipEventType:B})}),ge(S,"renderPolarAxis",function(P,E,A){var I=Jn(P,"type.axisType"),C=Jn(S.state,"".concat(I,"Map")),k=P.type.defaultProps,R=k!==void 0?W(W({},k),P.props):P.props,N=C&&C[R["".concat(I,"Id")]];return L.cloneElement(P,W(W({},N),{},{className:Ie(I,N.className),key:P.key||"".concat(E,"-").concat(A),ticks:xi(N,!0)}))}),ge(S,"renderPolarGrid",function(P){var E=P.props,A=E.radialLines,I=E.polarAngles,C=E.polarRadius,k=S.state,R=k.radiusAxisMap,N=k.angleAxisMap,U=lo(R),B=lo(N),H=B.cx,K=B.cy,$=B.innerRadius,z=B.outerRadius;return L.cloneElement(P,{polarAngles:Array.isArray(I)?I:xi(B,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(C)?C:xi(U,!0).map(function(q){return q.coordinate}),cx:H,cy:K,innerRadius:$,outerRadius:z,key:P.key||"polar-grid",radialLines:A})}),ge(S,"renderLegend",function(){var P=S.state.formattedGraphicalItems,E=S.props,A=E.children,I=E.width,C=E.height,k=S.props.margin||{},R=I-(k.left||0)-(k.right||0),N=CM({children:A,formattedGraphicalItems:P,legendWidth:R,legendContent:u});if(!N)return null;var U=N.item,B=pO(N,Hpe);return L.cloneElement(U,W(W({},B),{},{chartWidth:I,chartHeight:C,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ge(S,"renderTooltip",function(){var P,E=S.props,A=E.children,I=E.accessibilityLayer,C=Wn(A,lr);if(!C)return null;var k=S.state,R=k.isTooltipActive,N=k.activeCoordinate,U=k.activePayload,B=k.activeLabel,H=k.offset,K=(P=C.props.active)!==null&&P!==void 0?P:R;return L.cloneElement(C,{viewBox:W(W({},H),{},{x:H.left,y:H.top}),active:K,label:B,payload:K?U:[],coordinate:N,accessibilityLayer:I})}),ge(S,"renderBrush",function(P){var E=S.props,A=E.margin,I=E.data,C=S.state,k=C.offset,R=C.dataStartIndex,N=C.dataEndIndex,U=C.updateId;return L.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Uh(S.handleBrushChange,P.props.onChange),data:I,x:Z(P.props.x)?P.props.x:k.left,y:Z(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:Z(P.props.width)?P.props.width:k.width,startIndex:R,endIndex:N,updateId:"brush-".concat(U)})}),ge(S,"renderReferenceElement",function(P,E,A){if(!P)return null;var I=S,C=I.clipPathId,k=S.state,R=k.xAxisMap,N=k.yAxisMap,U=k.offset,B=P.type.defaultProps||{},H=P.props,K=H.xAxisId,$=K===void 0?B.xAxisId:K,z=H.yAxisId,q=z===void 0?B.yAxisId:z;return L.cloneElement(P,{key:P.key||"".concat(E,"-").concat(A),xAxis:R[$],yAxis:N[q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:C})}),ge(S,"renderActivePoints",function(P){var E=P.item,A=P.activePoint,I=P.basePoint,C=P.childIndex,k=P.isRange,R=[],N=E.props.key,U=E.item.type.defaultProps!==void 0?W(W({},E.item.type.defaultProps),E.item.props):E.item.props,B=U.activeDot,H=U.dataKey,K=W(W({index:C,dataKey:H,cx:A.x,cy:A.y,r:4,fill:qx(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},me(B,!1)),np(B));return R.push(_.renderActiveDot(B,K,"".concat(N,"-activePoint-").concat(C))),I?R.push(_.renderActiveDot(B,W(W({},K),{},{cx:I.x,cy:I.y}),"".concat(N,"-basePoint-").concat(C))):k&&R.push(null),R}),ge(S,"renderGraphicChild",function(P,E,A){var I=S.filterFormatItem(P,E,A);if(!I)return null;var C=S.getTooltipEventType(),k=S.state,R=k.isTooltipActive,N=k.tooltipAxis,U=k.activeTooltipIndex,B=k.activeLabel,H=S.props.children,K=Wn(H,lr),$=I.props,z=$.points,q=$.isRange,ee=$.baseLine,X=I.item.type.defaultProps!==void 0?W(W({},I.item.type.defaultProps),I.item.props):I.item.props,ae=X.activeDot,Te=X.hide,Me=X.activeBar,ke=X.activeShape,jt=!!(!Te&&R&&K&&(ae||Me||ke)),st={};C!=="axis"&&K&&K.props.trigger==="click"?st={onClick:Uh(S.handleItemMouseEnter,P.props.onClick)}:C!=="axis"&&(st={onMouseLeave:Uh(S.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Uh(S.handleItemMouseEnter,P.props.onMouseEnter)});var oe=L.cloneElement(P,W(W({},I.props),st));function ye(Yt){return typeof N.dataKey=="function"?N.dataKey(Yt.payload):null}if(jt)if(U>=0){var _e,Y;if(N.dataKey&&!N.allowDuplicatedCategory){var He=typeof N.dataKey=="function"?ye:"payload.".concat(N.dataKey.toString());_e=tp(z,He,B),Y=q&&ee&&tp(ee,He,B)}else _e=z==null?void 0:z[U],Y=q&&ee&&ee[U];if(ke||Me){var Pe=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[L.cloneElement(P,W(W(W({},I.props),st),{},{activeIndex:Pe})),null,null]}if(!Ae(_e))return[oe].concat(Pl(S.renderActivePoints({item:I,activePoint:_e,basePoint:Y,childIndex:U,isRange:q})))}else{var Ke,et=(Ke=S.getItemByXY(S.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:oe},pt=et.graphicalItem,lt=pt.item,br=lt===void 0?P:lt,rr=pt.childIndex,ir=W(W(W({},I.props),st),{},{activeIndex:rr});return[L.cloneElement(br,ir),null,null]}return q?[oe,null,null]:[oe,null]}),ge(S,"renderCustomized",function(P,E,A){return L.cloneElement(P,W(W({key:"recharts-customized-".concat(A)},S.props),S.state))}),ge(S,"renderMap",{CartesianGrid:{handler:Hh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Hh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Hh},YAxis:{handler:Hh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:Bl("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Oj(S.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),S.state={},S}return ime(_,b),eme(_,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,S=w.data,P=w.height,E=w.layout,A=Wn(O,lr);if(A){var I=A.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=ib(this.state,S,I,C),R=this.state.tooltipTicks[I].coordinate,N=(this.state.offset.top+P)/2,U=E==="horizontal",B=U?{x:R,y:N}:{y:R,x:N},H=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});H&&(B=W(W({},B),H.props.points[I].tooltipPosition),k=H.props.points[I].tooltipPayload);var K={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:B};this.setState(K),this.renderCursor(A),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,P;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){k0([Wn(w.children,lr)],[Wn(this.props.children,lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Wn(this.props.children,lr);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,S=O.getBoundingClientRect(),P=ste(S),E={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},A=S.width/O.offsetWidth||1,I=this.inRange(E.chartX,E.chartY,A);if(!I)return null;var C=this.state,k=C.xAxisMap,R=C.yAxisMap,N=this.getTooltipEventType(),U=gO(this.state,this.props.data,this.props.layout,I);if(N!=="axis"&&k&&R){var B=lo(k).scale,H=lo(R).scale,K=B&&B.invert?B.invert(E.chartX):null,$=H&&H.invert?H.invert(E.chartY):null;return W(W({},E),{},{xValue:K,yValue:$},U)}return U?W(W({},E),U):null}},{key:"inRange",value:function(w,O){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,E=w/S,A=O/S;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,C=E>=I.left&&E<=I.left+I.width&&A>=I.top&&A<=I.top+I.height;return C?{x:E,y:A}:null}var k=this.state,R=k.angleAxisMap,N=k.radiusAxisMap;if(R&&N){var U=lo(R);return UP({x:E,y:A},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),S=Wn(w,lr),P={};S&&O==="axis"&&(S.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=np(this.props,this.handleOuterEvent);return W(W({},E),P)}},{key:"addListener",value:function(){sv.on(lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sv.removeListener(lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,S){for(var P=this.state.formattedGraphicalItems,E=0,A=P.length;E<A;E++){var I=P[E];if(I.item===w||I.props.key===w.key||O===Ai(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,S=O.left,P=O.top,E=O.height,A=O.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:P,height:E,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,S){var P=dO(S,2),E=P[0],A=P[1];return W(W({},O),{},ge({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,S){var P=dO(S,2),E=P[0],A=P[1];return W(W({},O),{},ge({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,S=O.formattedGraphicalItems,P=O.activeItem;if(S&&S.length)for(var E=0,A=S.length;E<A;E++){var I=S[E],C=I.props,k=I.item,R=k.type.defaultProps!==void 0?W(W({},k.type.defaultProps),k.props):k.props,N=Ai(k.type);if(N==="Bar"){var U=(C.data||[]).find(function($){return zle(w,$)});if(U)return{graphicalItem:I,payload:U}}else if(N==="RadialBar"){var B=(C.data||[]).find(function($){return UP(w,$)});if(B)return{graphicalItem:I,payload:B}}else if(Ag(I,P)||Sg(I,P)||sf(I,P)){var H=kce({graphicalItem:I,activeTooltipItem:P,itemData:R.data}),K=R.activeIndex===void 0?H:R.activeIndex;return{graphicalItem:W(W({},I),{},{childIndex:K}),payload:sf(I,P)?R.data[H]:I.props.data[H]}}}return null}},{key:"render",value:function(){var w=this;if(!kS(this))return null;var O=this.props,S=O.children,P=O.className,E=O.width,A=O.height,I=O.style,C=O.compact,k=O.title,R=O.desc,N=pO(O,Kpe),U=me(N,!1);if(C)return M.createElement(XI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(R0,Ts({},U,{width:E,height:A,title:k,desc:R}),this.renderClipPath(),RS(S,this.renderMap)));if(this.props.accessibilityLayer){var B,H;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(H=this.props.role)!==null&&H!==void 0?H:"application",U.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},U.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return M.createElement(XI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ts({className:Ie("recharts-wrapper",P),style:W({position:"relative",cursor:"default",width:E,height:A},I)},K,{ref:function(z){w.container=z}}),M.createElement(R0,Ts({},U,{width:E,height:A,title:k,desc:R,style:cme}),this.renderClipPath(),RS(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);ge(m,"displayName",n),ge(m,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ge(m,"getDerivedStateFromProps",function(b,_){var v=b.dataKey,w=b.data,O=b.children,S=b.width,P=b.height,E=b.layout,A=b.stackOffset,I=b.margin,C=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var R=yO(b);return W(W(W({},R),{},{updateId:0},p(W(W({props:b},R),{},{updateId:0}),_)),{},{prevDataKey:v,prevData:w,prevWidth:S,prevHeight:P,prevLayout:E,prevStackOffset:A,prevMargin:I,prevChildren:O})}if(v!==_.prevDataKey||w!==_.prevData||S!==_.prevWidth||P!==_.prevHeight||E!==_.prevLayout||A!==_.prevStackOffset||!$s(I,_.prevMargin)){var N=yO(b),U={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},B=W(W({},gO(_,w,E)),{},{updateId:_.updateId+1}),H=W(W(W({},N),U),B);return W(W(W({},H),p(W({props:b},H),_)),{},{prevDataKey:v,prevData:w,prevWidth:S,prevHeight:P,prevLayout:E,prevStackOffset:A,prevMargin:I,prevChildren:O})}if(!k0(O,_.prevChildren)){var K,$,z,q,ee=Wn(O,ml),X=ee&&(K=($=ee.props)===null||$===void 0?void 0:$.startIndex)!==null&&K!==void 0?K:C,ae=ee&&(z=(q=ee.props)===null||q===void 0?void 0:q.endIndex)!==null&&z!==void 0?z:k,Te=X!==C||ae!==k,Me=!Ae(w),ke=Me&&!Te?_.updateId:_.updateId+1;return W(W({updateId:ke},p(W(W({props:b},_),{},{updateId:ke,dataStartIndex:X,dataEndIndex:ae}),_)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:ae})}return null}),ge(m,"renderActiveDot",function(b,_,v){var w;return L.isValidElement(b)?w=L.cloneElement(b,_):ve(b)?w=b(_):w=M.createElement(_g,_),M.createElement(Le,{className:"recharts-active-dot",key:v},w)});var y=L.forwardRef(function(_,v){return M.createElement(m,Ts({},_,{ref:v}))});return y.displayName=m.displayName,y},bme=r1({chartName:"LineChart",GraphicalChild:Wf,axisComponents:[{axisType:"xAxis",AxisComp:El},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:vD}),wme=r1({chartName:"BarChart",GraphicalChild:Do,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:El},{axisType:"yAxis",AxisComp:Sl}],formatAxisMap:vD}),xme=r1({chartName:"PieChart",GraphicalChild:Wi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Eg},{axisType:"radiusAxis",AxisComp:wg}],formatAxisMap:rae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e$=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ame={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>L.createElement("svg",{ref:l,...Ame,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:e$("lucide",i),...s},[...a.map(([u,c])=>L.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(t,e)=>{const n=L.forwardRef(({className:r,...i},o)=>L.createElement(Sme,{ref:o,iconNode:e,className:e$(`lucide-${Eme(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=It("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=It("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=It("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=It("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=It("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=It("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=It("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=It("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=It("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=It("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=It("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=It("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=It("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=It("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=It("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=It("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=It("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=It("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=It("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=It("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=It("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lme={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Ur="hvac-finance-dashboard",i1=qk(Lme),xO=SU(i1),ft=f5(i1),Vme=F9(i1),Fme=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],Ume=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],Bme=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],zme=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],Wme=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],qme=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],Hme=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],Kme=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],Gme=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],Xme=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],Yme=({children:t,onClose:e})=>x.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:[" ",x.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border border-slate-700",children:[" ",x.jsxs("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-white transition-colors",children:[" ",x.jsx(r$,{size:24})," "]})," ",x.jsx("div",{className:"p-6",children:t})," "]})," "]}),Iu=({title:t,value:e,icon:n,color:r,subtext:i})=>x.jsxs("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700 shadow-lg flex flex-col justify-between",children:[" ",x.jsxs("div",{className:"flex items-center justify-between",children:[" ",x.jsx("h3",{className:"text-sm font-medium text-slate-400",children:t})," ",x.jsx("div",{className:`text-${r}-400`,children:n})," "]})," ",x.jsxs("div",{children:[" ",x.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:typeof e=="number"?`$${e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:e})," ",i&&x.jsx("p",{className:"text-xs text-slate-500 mt-1",children:i})," "]})," "]}),Qme=({data:t,onSliceClick:e})=>{const[n,r]=L.useState(0),i=L.useCallback((a,s)=>{r(s)},[r]),o=a=>{const{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,fill:p,payload:m}=a;return x.jsxs("g",{className:"cursor-pointer",onClick:()=>e(m.name),children:[" ",x.jsxs("text",{x:s,y:l,dy:8,textAnchor:"middle",fill:p,className:"font-bold text-lg",children:[" ",m.name," "]})," ",x.jsx(Hx,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,fill:p})," "]})};return x.jsxs(e_,{width:"100%",height:300,children:[" ",x.jsxs(xme,{children:[" ",x.jsx(lr,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:a=>`$${a.toFixed(2)}`})," ",x.jsxs(Wi,{activeIndex:n,activeShape:o,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:a=>e(a.name),children:[" ",t.map((a,s)=>x.jsx(sg,{fill:a.color},`cell-${s}`))," "]})," "]})," "]})},Jme=({item:t,type:e,onSave:n,onClose:r,debts:i,clients:o,vehicles:a})=>{const[s,l]=L.useState({}),[u,c]=L.useState(null),[h,d]=L.useState(!1);L.useEffect(()=>{const _={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:(t==null?void 0:t.vehicleId)||""}};l(t||_[e])},[t,e]);const p=_=>{const{name:v,value:w,type:O,checked:S}=_.target;l(P=>({...P,[v]:O==="checkbox"?S:O==="number"?parseFloat(w)||0:w}))},m=_=>{_.target.files[0]&&c(_.target.files[0])},y=async _=>{_.preventDefault(),d(!0),await n(s,u),d(!1)},b=()=>{const _=o.filter(v=>!v.parentId);switch(e){case"bill":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Bill Name"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]})," ",x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Amount"}),x.jsx("input",{type:"number",name:"amount",value:s.amount||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Due Day"}),x.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:s.dueDay||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]})]})," ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),x.jsx("input",{type:"text",name:"category",value:s.category||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})," ",s.category==="Vehicle"&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Assign to Vehicle"}),x.jsxs("select",{name:"vehicleId",value:s.vehicleId||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",children:[x.jsx("option",{value:"",children:"-- Select Vehicle --"}),a.map(v=>x.jsx("option",{value:v.id,children:v.name},v.id))]})]})," ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notes"}),x.jsx("textarea",{name:"notes",value:s.notes||"",onChange:p,rows:"2",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),x.jsx("input",{type:"file",onChange:m,className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:s.isAutoPay||!1,onChange:p,className:"h-4 w-4 rounded"}),x.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-300",children:"Enabled for Autopay"})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:s.isRecurring||!1,onChange:p,className:"h-4 w-4 rounded"}),x.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-300",children:"Is Recurring?"})]})]})," "]});case"job":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Job Name/Client"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Link to Client Location"}),x.jsx("select",{name:"clientId",value:s.clientId||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",children:_.map(v=>x.jsx("optgroup",{label:v.name,children:o.filter(w=>w.parentId===v.id||w.id===v.id).map(w=>x.jsx("option",{value:w.id,children:w.name},w.id))},v.id))})]})," ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Job Date"}),x.jsx("input",{type:"date",name:"date",value:s.date||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})," ",x.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Revenue"}),x.jsx("input",{type:"number",name:"revenue",value:s.revenue||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Material Cost"}),x.jsx("input",{type:"number",name:"materialCost",value:s.materialCost||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Labor Cost"}),x.jsx("input",{type:"number",name:"laborCost",value:s.laborCost||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notes"}),x.jsx("textarea",{name:"notes",value:s.notes||"",onChange:p,rows:"3",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]});case"goal":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Goal Name"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]})," ",x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Goal Type"}),x.jsxs("select",{name:"type",value:s.type||"revenue",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",children:[x.jsx("option",{value:"revenue",children:"Revenue"}),x.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Deadline"}),x.jsx("input",{type:"date",name:"deadline",value:s.deadline||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]})," ",s.type==="revenue"&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Target Revenue ($)"}),x.jsx("input",{type:"number",name:"targetValue",value:s.targetValue||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})," ",s.type==="debt"&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Select Debt to Pay Off"}),x.jsxs("select",{name:"targetId",value:s.targetId||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",children:[x.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(v=>x.jsx("option",{value:v.id,children:v.name},v.id))]})]})," "]});case"client":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Client/Location Name"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Parent Account (Optional)"}),x.jsxs("select",{name:"parentId",value:s.parentId||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",children:[x.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),_.map(v=>x.jsx("option",{value:v.id,children:v.name},v.id))]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Address"}),x.jsx("input",{type:"text",name:"address",value:s.address||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Phone Number"}),x.jsx("input",{type:"tel",name:"phone",value:s.phone||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),x.jsx("input",{type:"email",name:"email",value:s.email||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]})," "]});case"inventory":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Item Name"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Quantity"}),x.jsx("input",{type:"number",name:"quantity",value:s.quantity||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cost per Item"}),x.jsx("input",{type:"number",name:"cost",value:s.cost||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]})," "]});case"vehicle":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Vehicle Name"}),x.jsx("input",{type:"text",name:"name",value:s.name||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Year"}),x.jsx("input",{type:"text",name:"year",value:s.year||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Model"}),x.jsx("input",{type:"text",name:"model",value:s.model||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]})," "]});case"maintenanceLog":return x.jsxs(x.Fragment,{children:[" ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Date"}),x.jsx("input",{type:"date",name:"date",value:s.date||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white",required:!0})]})," ",x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Mileage"}),x.jsx("input",{type:"number",name:"mileage",value:s.mileage||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cost"}),x.jsx("input",{type:"number",name:"cost",value:s.cost||"",onChange:p,className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})]})," ",x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Work Performed"}),x.jsx("textarea",{name:"workPerformed",value:s.workPerformed||"",onChange:p,rows:"3",className:"w-full bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]})," "]});default:return x.jsx("p",{children:"Editing for this item type is not yet implemented."})}};return x.jsx(Yme,{onClose:r,children:x.jsxs("form",{onSubmit:y,children:[x.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),b(),x.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[x.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 rounded-md bg-slate-600",children:"Cancel"}),x.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500",children:h?"Saving...":x.jsxs(x.Fragment,{children:[x.jsx(Mme,{size:16})," Save"]})})]})]})})},Zme=({bills:t,paidStatus:e,onClose:n})=>{const r=L.useMemo(()=>{const i=new Date,o=new Date;return o.setDate(i.getDate()+3),t.filter(a=>{if(e[a.id])return!1;const s=new Date(i.getFullYear(),i.getMonth(),a.dueDay);return s>=i&&s<=o})},[t,e]);return r.length===0?null:x.jsxs("div",{className:"bg-yellow-900/50 border border-yellow-700 text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(Ime,{size:20,className:"mr-3"}),x.jsxs("div",{children:[x.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),x.jsx("ul",{className:"list-disc list-inside mt-1",children:r.map(i=>x.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),x.jsx("button",{onClick:n,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:x.jsx(r$,{size:18})})]})},ege=()=>{const[t,e]=L.useState(null),[n,r]=L.useState(!0),[i,o]=L.useState(!1),[a,s]=L.useState([]),[l,u]=L.useState([]),[c,h]=L.useState([]),[d,p]=L.useState([]),[m,y]=L.useState([]),[b,_]=L.useState([]),[v,w]=L.useState([]),[O,S]=L.useState([]),[P,E]=L.useState([]),[A,I]=L.useState([]),[C,k]=L.useState({}),[R,N]=L.useState(!1),[U,B]=L.useState(null),[H,K]=L.useState("bill"),[$,z]=L.useState({key:"dueDay",direction:"ascending"}),[q,ee]=L.useState("dashboard"),[X,ae]=L.useState(null),[Te,Me]=L.useState(25e3),[ke,jt]=L.useState({start:new Date,end:new Date}),[st,oe]=L.useState("monthly"),[ye,_e]=L.useState(!0),[Y,He]=L.useState(null);L.useEffect(()=>{const V=new Date;let le,te;if(st==="monthly")le=new Date(V.getFullYear(),V.getMonth(),1),te=new Date(V.getFullYear(),V.getMonth()+1,0);else if(st==="quarterly"){const ne=Math.floor(V.getMonth()/3);le=new Date(V.getFullYear(),ne*3,1),te=new Date(V.getFullYear(),ne*3+3,0)}else le=new Date(V.getFullYear(),0,1),te=new Date(V.getFullYear(),11,31);jt({start:le,end:te})},[st]);const Pe=L.useMemo(()=>ke.start.getFullYear()+"-"+String(ke.start.getMonth()+1).padStart(2,"0"),[ke]);L.useEffect(()=>{const V=p3(xO,async le=>{if(le){e(le.uid);const te=dn(ft,"artifacts",Ur,"users",le.uid,"bills");if((await E5(te)).empty){o(!0),console.log("No data found. Seeding initial data...");const re=Ry(ft),se=["artifacts",Ur,"users",le.uid];Fme.forEach(he=>re.set(Dt(dn(ft,...se,"bills")),{...he,createdAt:wn()})),Ume.forEach(he=>re.set(Dt(dn(ft,...se,"debts")),{...he,createdAt:wn()})),Bme.forEach(he=>re.set(Dt(dn(ft,...se,"incomes")),{...he,createdAt:wn()})),zme.forEach(he=>re.set(Dt(dn(ft,...se,"weeklyCosts")),{...he,createdAt:wn()})),Wme.forEach(he=>re.set(Dt(dn(ft,...se,"jobs")),{...he,createdAt:wn()})),qme.forEach(he=>re.set(Dt(dn(ft,...se,"goals")),{...he,createdAt:wn()})),Hme.forEach(he=>re.set(Dt(dn(ft,...se,"clients")),{...he,createdAt:wn()})),Kme.forEach(he=>re.set(Dt(dn(ft,...se,"inventory")),{...he,createdAt:wn()})),Gme.forEach(he=>re.set(Dt(dn(ft,...se,"vehicles")),{...he,createdAt:wn()})),Xme.forEach(he=>re.set(Dt(dn(ft,...se,"maintenanceLogs")),{...he,createdAt:wn()}));const xe=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");re.set(Dt(ft,...se,"paidStatus",xe),{status:{}}),await re.commit(),o(!1)}}else l3(xO).catch(te=>console.error("Anonymous sign-in failed:",te));r(!1)});return()=>V()},[]),L.useEffect(()=>{if(!t)return;const le=Object.entries({bills:s,debts:u,incomes:h,weeklyCosts:p,jobs:y,goals:_,clients:w,inventory:S,vehicles:E,maintenanceLogs:I}).map(([ne,re])=>hS(b5(dn(ft,"artifacts",Ur,"users",t,ne)),se=>{re(se.docs.map(xe=>({id:xe.id,...xe.data()})))},se=>console.error(`Error fetching ${ne}:`,se))),te=hS(Dt(ft,"artifacts",Ur,"users",t,"paidStatus",Pe),ne=>{k(ne.exists()?ne.data().status:{})},ne=>console.error("Error fetching paid status:",ne));return()=>{le.forEach(ne=>ne()),te()}},[t,Pe]);const Ke=L.useMemo(()=>m.filter(V=>{if(!V.date)return!1;const le=new Date(V.date);return le>=ke.start&&le<=ke.end}),[m,ke]),et=L.useMemo(()=>a.filter(V=>!X||V.category===X),[a,X]),pt=L.useMemo(()=>{const V=c.reduce((he,ct)=>he+(ct.amount||0),0),le=a.reduce((he,ct)=>he+(ct.amount||0),0),te=d.reduce((he,ct)=>he+(ct.amount||0),0)*4.33,ne=le+te,re=V-ne,se=l.reduce((he,ct)=>he+((ct.totalAmount||0)-(ct.paidAmount||0)),0),xe=a.filter(he=>C[he.id]).reduce((he,ct)=>he+ct.amount,0);return{totalIncome:V,totalOutflow:ne,netCashFlow:re,paidThisMonth:xe,totalDebt:se,totalMonthlyBills:le,projectedMonthlyWeekly:te}},[a,l,c,d,C]),lt=L.useMemo(()=>{const V=Ke.reduce((ct,mt)=>ct+(mt.revenue||0),0),le=Ke.reduce((ct,mt)=>ct+(mt.materialCost||0)+(mt.laborCost||0),0),te=V-le,ne=a.reduce((ct,mt)=>ct+mt.amount,0)+d.reduce((ct,mt)=>ct+mt.amount,0)*4.33,re=te-ne,xe=re>0?re*.06:0,he=re-xe;return{revenue:V,cogs:le,grossProfit:te,operatingExpenses:ne,netProfit:re,estimatedTax:xe,netProfitAfterTax:he}},[Ke,a,d]),br=L.useMemo(()=>{const V=c.filter(se=>se.isRecurring).reduce((se,xe)=>se+xe.amount,0),le=a.filter(se=>se.isRecurring).reduce((se,xe)=>se+xe.amount,0),te=d.reduce((se,xe)=>se+xe.amount,0),ne=V-le-te*4.33;return[{month:"Current",balance:Te},{month:"+1 Month",balance:Te+ne},{month:"+3 Months",balance:Te+ne*3},{month:"+6 Months",balance:Te+ne*6}]},[c,a,d,Te]),rr=L.useMemo(()=>b.map(V=>{let le=0;if(V.type==="debt"){const te=l.find(ne=>ne.id===V.targetId);te&&(le=te.paidAmount/te.totalAmount*100)}else V.type==="revenue"&&(le=m.reduce((ne,re)=>ne+(re.revenue||0),0)/V.targetValue*100);return{...V,progress:Math.min(le,100)}}),[b,l,m]),ir=L.useMemo(()=>{const V=a.reduce((te,ne)=>{const re=ne.category||"Uncategorized";return te[re]=(te[re]||0)+ne.amount,te},{}),le=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(V).map(([te,ne],re)=>({name:te,value:ne,color:le[re%le.length]})).sort((te,ne)=>ne.value-te.value)},[a]),Yt=L.useMemo(()=>[...{bills:et,debts:l,incomes:c,weeklyCosts:d,jobs:m,goals:rr,clients:v,inventory:O,vehicles:P}[q==="dashboard"?"bills":q]||[]].sort((te,ne)=>$.key?te[$.key]<ne[$.key]?$.direction==="ascending"?-1:1:te[$.key]>ne[$.key]?$.direction==="ascending"?1:-1:0:0),[et,l,c,d,m,rr,v,O,P,$,q]),$r=L.useMemo(()=>{const V=l.map(ne=>({...ne,remaining:ne.totalAmount-ne.paidAmount})).filter(ne=>ne.remaining>0),le=[...V].sort((ne,re)=>re.interestRate-ne.interestRate),te=[...V].sort((ne,re)=>ne.remaining-re.remaining);return{avalanche:le,snowball:te}},[l]),Lr=V=>z(le=>({key:V,direction:le.key===V&&le.direction==="ascending"?"descending":"ascending"})),qo=async V=>{t&&await A5(Dt(ft,"artifacts",Ur,"users",t,"paidStatus",Pe),{status:{...C,[V]:!C[V]}},{merge:!0})},ut=(V,le=null)=>{K(V),B(le),N(!0)},Qt=async(V,le)=>{if(!t)return;const ne={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[H],re=["artifacts",Ur,"users",t,ne],se={...V,modifiedAt:wn()};if(le){console.log("Uploading file:",le.name);const xe=V9(Vme,`receipts/${t}/${Date.now()}-${le.name}`);try{await $9(xe,le),se.attachmentURL=await L9(xe)}catch(he){console.error("File upload failed:",he),alert("File upload failed. Please try again.");return}}U!=null&&U.id?await S5(Dt(ft,...re,U.id),se):await P5(dn(ft,...re),{...se,createdAt:wn()}),N(!1),B(null)},si=async(V,le)=>{if(!t||!window.confirm("Delete this item?"))return;const ne={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[V];await T5(Dt(ft,"artifacts",Ur,"users",t,ne,le))},Yl=(V,le)=>{if(!V.length)return;const te=Object.keys(V[0]),ne=V.map(he=>te.map(ct=>{const mt=he[ct];return typeof mt=="string"&&mt.includes(",")?`"${mt}"`:mt}).join(",")),re="data:text/csv;charset=utf-8,"+[te.join(","),...ne].join(`
`),se=encodeURI(re),xe=document.createElement("a");xe.setAttribute("href",se),xe.setAttribute("download",`hvac_${le}_${Pe}.csv`),document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)},qf=(V,le)=>{if(!V||!t)return;const te=new FileReader;te.onload=async ne=>{const se=ne.target.result.split(`
`).filter(wr=>wr),xe=se[0].split(",").map(wr=>wr.trim()),he=se.slice(1).map(wr=>{const Vr=wr.split(",").map(Ya=>Ya.trim());return xe.reduce((Ya,Dg,Qa)=>{const Go=Vr[Qa];return Ya[Dg]=isNaN(Go)||Go===""?Go:parseFloat(Go),Ya},{})}),mt={client:"clients",job:"jobs",inventory:"inventory"}[le];if(!mt){alert("Invalid import type.");return}const Hi=Ry(ft),Mg=dn(ft,"artifacts",Ur,"users",t,mt);he.forEach(wr=>{const Vr=Dt(Mg);Hi.set(Vr,{...wr,createdAt:wn()})});try{await Hi.commit(),alert(`Successfully imported ${he.length} ${mt}!`)}catch(wr){console.error("Error importing CSV:",wr),alert("Failed to import CSV. Please check the console for errors.")}},te.readAsText(V)},Ng=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const V=new Date(ke.start);V.setMonth(V.getMonth()+1);const le=V.getFullYear()+"-"+String(V.getMonth()+1).padStart(2,"0"),te=a.filter(se=>se.isRecurring),ne=c.filter(se=>se.isRecurring),re=Ry(ft);te.forEach(se=>{const xe={...se,createdAt:wn(),notes:`Generated for ${le}`};delete xe.id;const he=Dt(dn(ft,"artifacts",Ur,"users",t,"bills"));re.set(he,xe)}),ne.forEach(se=>{const xe={...se,createdAt:wn(),notes:`Generated for ${le}`};delete xe.id;const he=Dt(dn(ft,"artifacts",Ur,"users",t,"incomes"));re.set(he,xe)});try{await re.commit(),alert(`Generated ${te.length} bills and ${ne.length} incomes for next month.`)}catch(se){console.error("Error generating recurring transactions:",se),alert("Failed to generate recurring transactions.")}};if(n||i)return x.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});const Ho=()=>x.jsxs(x.Fragment,{children:[ye&&x.jsx(Zme,{bills:a,paidStatus:C,onClose:()=>_e(!1)}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-6",children:[x.jsx(Iu,{title:"Total Monthly Income",value:pt.totalIncome,icon:x.jsx(Pme,{size:24}),color:"green"}),x.jsx(Iu,{title:"Total Monthly Outflow",value:pt.totalOutflow,icon:x.jsx(Tme,{size:24}),color:"red"}),x.jsx(Iu,{title:"Projected Net",value:pt.netCashFlow,icon:x.jsx(Nme,{size:24}),color:pt.netCashFlow>=0?"cyan":"amber"}),x.jsx(Iu,{title:"Paid This Month",value:pt.paidThisMonth,icon:x.jsx(_O,{size:24}),color:"blue",subtext:`For ${ke.start.toLocaleString("default",{month:"long",year:"numeric"})}`}),x.jsx(Iu,{title:"Outstanding Debt",value:pt.totalDebt,icon:x.jsx(Dme,{size:24}),color:"orange"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[x.jsxs("div",{className:"lg:col-span-3 bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:"Monthly Bills"}),X&&x.jsxs("button",{onClick:()=>ae(null),className:"text-sm text-cyan-400 hover:underline",children:["Clear Filter: ",X]}),x.jsxs("button",{onClick:()=>Yl(Yt,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(bO,{size:16})," Export to CSV"]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"text-xs text-slate-400 uppercase border-b border-slate-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3",children:"Status"}),x.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>Lr("name"),children:"Name"}),x.jsx("th",{className:"p-3",children:"Notes"}),x.jsx("th",{className:"p-3",children:"Receipt"}),x.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>Lr("amount"),children:"Amount"}),x.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>Lr("dueDay"),children:"Due Day"}),x.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),x.jsx("tbody",{children:Yt.map(V=>x.jsxs("tr",{className:`border-b border-slate-700/50 ${C[V.id]?"text-slate-500":"text-slate-200"}`,children:[x.jsx("td",{className:"p-3",children:x.jsx("button",{onClick:()=>qo(V.id),children:C[V.id]?x.jsx(_O,{className:"text-green-500"}):x.jsx(kme,{className:"text-slate-600"})})}),x.jsx("td",{className:`p-3 font-medium ${C[V.id]?"line-through":""}`,children:V.name}),x.jsxs("td",{className:"p-3 text-center",children:[" ",V.notes&&x.jsxs("div",{className:"group relative flex justify-center",children:[x.jsx(Rme,{size:16,className:"text-slate-500"}),x.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:V.notes})]})," "]}),x.jsxs("td",{className:"p-3 text-center",children:[" ",V.attachmentURL?x.jsx("a",{href:V.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:x.jsx(wO,{size:16,className:"text-cyan-400"})}):x.jsx(wO,{size:16,className:"text-slate-600"})," "]}),x.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(V.amount||0).toFixed(2)]}),x.jsx("td",{className:"p-3 text-center",children:V.dueDay}),x.jsxs("td",{className:"p-3 text-center",children:[x.jsx("button",{onClick:()=>ut("bill",V),className:"text-slate-400 hover:text-cyan-400 mr-2",children:x.jsx(Il,{size:16})}),x.jsx("button",{onClick:()=>si("bill",V.id),className:"text-slate-400 hover:text-red-500",children:x.jsx(Ol,{size:16})})]})]},V.id))})]})}),x.jsxs("button",{onClick:()=>ut("bill"),className:"mt-4 flex items-center gap-2 text-cyan-400 hover:text-cyan-300 font-semibold",children:[x.jsx(Fs,{size:18})," Add New Bill"]})]}),x.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Expense Breakdown"}),x.jsx(Qme,{data:ir,onSliceClick:ae})]}),x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Automations"}),x.jsxs("button",{onClick:Ng,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(jme,{size:16})," Generate Next Month's Bills"]})]})]})]})]}),qi=(V,le,te,ne)=>x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:V}),x.jsxs("div",{className:"flex items-center gap-2",children:[(ne==="client"||ne==="job"||ne==="inventory")&&x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"file",id:"csv-importer",className:"hidden",accept:".csv",onChange:re=>qf(re.target.files[0],ne)}),x.jsxs("label",{htmlFor:"csv-importer",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[x.jsx($me,{size:16})," Import CSV"]})]}),x.jsxs("button",{onClick:()=>Yl(le,ne),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(bO,{size:16})," Export to CSV"]})]})]}),ne==="debt"&&x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-lg text-cyan-400 mb-2",children:"Avalanche Method"}),x.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),x.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:$r.avalanche.map(re=>x.jsxs("li",{children:[re.name," ",x.jsxs("span",{className:"text-slate-400",children:["(",re.interestRate,"%)"]})]},re.id))})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-bold text-lg text-green-400 mb-2",children:"Snowball Method"}),x.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),x.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:$r.snowball.map(re=>x.jsxs("li",{children:[re.name," ",x.jsxs("span",{className:"text-slate-400",children:["($",re.remaining.toFixed(2),")"]})]},re.id))})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"text-xs text-slate-400 uppercase border-b border-slate-700",children:x.jsxs("tr",{children:[te.map(re=>x.jsx("th",{className:`p-3 ${re.className||""}`,children:re.header},re.key)),x.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),x.jsx("tbody",{className:"text-sm",children:le.map(re=>x.jsxs("tr",{className:"border-b border-slate-700/50 text-slate-200",children:[te.map(se=>x.jsx("td",{className:`p-3 ${se.className||""}`,children:se.render(re)},se.key)),x.jsxs("td",{className:"p-3 text-center",children:[x.jsx("button",{onClick:()=>ut(ne,re),className:"text-slate-400 hover:text-cyan-400 mr-2",children:x.jsx(Il,{size:16})}),x.jsx("button",{onClick:()=>si(ne,re.id),className:"text-slate-400 hover:text-red-500",children:x.jsx(Ol,{size:16})})]})]},re.id))})]})}),x.jsxs("button",{onClick:()=>ut(ne),className:"mt-4 flex items-center gap-2 text-cyan-400 hover:text-cyan-300 font-semibold",children:[x.jsx(Fs,{size:18})," Add New ",ne.charAt(0).toUpperCase()+ne.slice(1)]})]}),Hf=()=>x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Profit & Loss Statement"}),x.jsxs("p",{className:"text-slate-400 mb-6",children:["For ",st==="monthly"?ke.start.toLocaleString("default",{month:"long",year:"numeric"}):`${ke.start.toLocaleDateString()} - ${ke.end.toLocaleDateString()}`]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/50 rounded-lg",children:[x.jsx("span",{className:"font-semibold",children:"Total Revenue (from Jobs)"}),x.jsxs("span",{className:"font-mono font-bold text-green-400",children:["$",lt.revenue.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[x.jsx("span",{className:"text-slate-400",children:"Cost of Goods Sold (COGS)"}),x.jsxs("span",{className:"font-mono text-orange-400",children:["($",lt.cogs.toFixed(2),")"]})]}),x.jsx("hr",{className:"border-slate-700"}),x.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/50 rounded-lg",children:[x.jsx("span",{className:"font-bold text-lg",children:"Gross Profit"}),x.jsxs("span",{className:"font-mono font-bold text-lg",children:["$",lt.grossProfit.toFixed(2)]})]}),x.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[x.jsx("span",{className:"text-slate-400",children:"Operating Expenses (Bills & Weekly)"}),x.jsxs("span",{className:"font-mono text-orange-400",children:["($",lt.operatingExpenses.toFixed(2),")"]})]}),x.jsx("hr",{className:"border-slate-600 border-2"}),x.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-900/50 rounded-lg",children:[x.jsx("span",{className:"font-bold text-xl",children:"Net Profit / (Loss) Before Tax"}),x.jsxs("span",{className:`font-mono font-bold text-xl ${lt.netProfit>=0?"text-white":"text-red-500"}`,children:[lt.netProfit<0&&"(","$",Math.abs(lt.netProfit).toFixed(2),lt.netProfit<0&&")"]})]}),x.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[x.jsx("span",{className:"text-slate-400",children:"Estimated Tax Liability (6%)"}),x.jsxs("span",{className:"font-mono text-orange-400",children:["($",lt.estimatedTax.toFixed(2),")"]})]}),x.jsx("hr",{className:"border-slate-600 border-2"}),x.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-900 rounded-lg",children:[x.jsx("span",{className:"font-bold text-xl text-cyan-400",children:"Net Profit / (Loss) After Tax"}),x.jsxs("span",{className:`font-mono font-bold text-xl ${lt.netProfitAfterTax>=0?"text-cyan-400":"text-red-500"}`,children:[lt.netProfitAfterTax<0&&"(","$",Math.abs(lt.netProfitAfterTax).toFixed(2),lt.netProfitAfterTax<0&&")"]})]})]})]}),Ql=()=>x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:"Financial Goals"}),x.jsxs("button",{onClick:()=>ut("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(Fs,{size:16})," Add New Goal"]})]}),x.jsx("div",{className:"space-y-6",children:rr.map(V=>x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-end mb-1",children:[x.jsx("span",{className:"font-semibold",children:V.name}),x.jsxs("span",{className:"text-sm text-slate-400",children:[V.progress.toFixed(1),"%"]})]}),x.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4",children:x.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${V.progress}%`}})}),x.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500",children:[x.jsxs("span",{children:["Target: ",V.type==="debt"?"Pay Off":`$${V.targetValue.toLocaleString()}`]}),x.jsxs("span",{children:["Deadline: ",V.deadline]})]})]},V.id))})]}),Rg=()=>x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Cash Flow Forecast"}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Enter Current Bank Balance ($)"}),x.jsx("input",{type:"number",value:Te,onChange:V=>Me(parseFloat(V.target.value)||0),className:"w-full max-w-xs bg-slate-700 border border-slate-600 rounded-md p-2 text-white"})]}),x.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"This forecast projects your balance based on recurring income and expenses."}),x.jsx(e_,{width:"100%",height:300,children:x.jsxs(bme,{data:br,children:[x.jsx(K_,{strokeDasharray:"3 3",stroke:"#475569"}),x.jsx(El,{dataKey:"month",stroke:"#94a3b8"}),x.jsx(Sl,{stroke:"#94a3b8",tickFormatter:V=>`$${V/1e3}k`}),x.jsx(lr,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569"},formatter:V=>`$${V.toLocaleString()}`}),x.jsx(Po,{}),x.jsx(Wf,{type:"monotone",dataKey:"balance",stroke:"#22d3ee",strokeWidth:2,activeDot:{r:8}})]})})]}),jg=()=>{const V=v.map(te=>{const ne=m.filter(xe=>xe.clientId===te.id),re=ne.reduce((xe,he)=>xe+(he.revenue||0),0),se=ne.reduce((xe,he)=>xe+(he.materialCost||0)+(he.laborCost||0),0);return{name:te.name,netProfit:re-se}}).sort((te,ne)=>ne.netProfit-te.netProfit),le=L.useMemo(()=>{const te={},ne=new Date;return ne.setMonth(ne.getMonth()-12),m.forEach(re=>{if(re.date&&new Date(re.date)>ne){const se=new Date(re.date).toISOString().slice(0,7);te[se]||(te[se]={revenue:0,expenses:0}),te[se].revenue+=re.revenue||0}}),a.forEach(re=>{var xe;const se=((xe=re.createdAt)==null?void 0:xe.toDate().toISOString().slice(0,7))||new Date().toISOString().slice(0,7);new Date(se)>ne&&(te[se]||(te[se]={revenue:0,expenses:0}),te[se].expenses+=re.amount||0)}),Object.keys(te).map(re=>({month:re,Revenue:te[re].revenue,Expenses:te[re].expenses})).sort((re,se)=>re.month.localeCompare(se.month))},[m,a]);return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),x.jsx(e_,{width:"100%",height:300,children:x.jsxs(wme,{data:le,children:[x.jsx(K_,{strokeDasharray:"3 3",stroke:"#475569"}),x.jsx(El,{dataKey:"month",stroke:"#94a3b8"}),x.jsx(Sl,{stroke:"#94a3b8",tickFormatter:te=>`$${te/1e3}k`}),x.jsx(lr,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569"},formatter:te=>`$${te.toLocaleString()}`}),x.jsx(Po,{}),x.jsx(Do,{dataKey:"Revenue",fill:"#22c55e"}),x.jsx(Do,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Client Profitability"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"text-xs text-slate-400 uppercase border-b border-slate-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3",children:"Client"}),x.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),x.jsx("tbody",{children:V.map(te=>x.jsxs("tr",{className:"border-b border-slate-700/50",children:[x.jsx("td",{className:"p-3 font-medium",children:te.name}),x.jsxs("td",{className:`p-3 text-right font-mono ${te.netProfit>=0?"text-green-400":"text-red-400"}`,children:["$",te.netProfit.toFixed(2)]})]},te.name))})]})})]}),x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Inventory Value"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left",children:[x.jsx("thead",{className:"text-xs text-slate-400 uppercase border-b border-slate-700",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-3",children:"Item"}),x.jsx("th",{className:"p-3 text-center",children:"Quantity"}),x.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),x.jsx("tbody",{children:O.map(te=>x.jsxs("tr",{className:"border-b border-slate-700/50",children:[x.jsx("td",{className:"p-3 font-medium",children:te.name}),x.jsx("td",{className:"p-3 text-center",children:te.quantity}),x.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(te.quantity*te.cost).toFixed(2)]})]},te.id))})]})})]})]})},Jl=[{key:"name",header:"Name",render:V=>x.jsx("span",{className:"font-medium",children:V.name})},{key:"interestRate",header:"Interest Rate",className:"text-center",render:V=>x.jsxs("span",{className:"font-mono",children:[V.interestRate||0,"%"]})},{key:"total",header:"Total Amount",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono",children:["$",(V.totalAmount||0).toFixed(2)]})},{key:"paid",header:"Paid Amount",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono",children:["$",(V.paidAmount||0).toFixed(2)]})},{key:"remaining",header:"Remaining",className:"text-right font-bold",render:V=>x.jsxs("span",{className:"font-mono text-orange-400",children:["$",((V.totalAmount||0)-(V.paidAmount||0)).toFixed(2)]})},{key:"progress",header:"Progress",render:V=>{const le=V.totalAmount>0?V.paidAmount/V.totalAmount*100:0;return x.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${le}%`}})})}}],Kf=[{key:"name",header:"Source",render:V=>x.jsx("span",{className:"font-medium",children:V.name})},{key:"amount",header:"Amount",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono font-bold text-green-400",children:["$",(V.amount||0).toFixed(2)]})},{key:"type",header:"Type",render:V=>x.jsx("span",{className:"capitalize bg-slate-700 text-slate-300 text-xs font-medium px-2 py-1 rounded-full",children:V.type})}],Gf=[{key:"name",header:"Item",render:V=>x.jsx("span",{className:"font-medium",children:V.name})},{key:"amount",header:"Weekly Amount",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono font-bold text-red-400",children:["$",(V.amount||0).toFixed(2)]})}],Ko=[{key:"name",header:"Job/Client",render:V=>x.jsx("span",{className:"font-medium",children:V.name})},{key:"client",header:"Client",render:V=>{var le;return x.jsx("span",{children:((le=v.find(te=>te.id===V.clientId))==null?void 0:le.name)||"N/A"})}},{key:"revenue",header:"Revenue",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono text-green-400",children:["$",(V.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono text-orange-400",children:["$",(V.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono text-orange-400",children:["$",(V.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:V=>x.jsxs("span",{className:"font-mono text-cyan-400",children:["$",((V.revenue||0)-(V.materialCost||0)-(V.laborCost||0)).toFixed(2)]})}],Zl=[{key:"name",header:"Item Name",render:V=>x.jsx("span",{className:"font-medium",children:V.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:V=>x.jsx("span",{children:V.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:V=>x.jsxs("span",{className:"font-mono",children:["$",(V.cost||0).toFixed(2)]})}];return x.jsxs("div",{className:"bg-slate-900 text-white min-h-screen font-sans p-4 sm:p-6 lg:p-8",children:[x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl font-bold text-white",children:"HVAC Financial Dashboard"}),x.jsx("p",{className:"text-slate-400 mt-1",children:"Monthly Money Management"})]}),x.jsxs("div",{className:"flex items-center gap-4 bg-slate-800 border border-slate-700 p-2 rounded-lg",children:[x.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Reporting Period:"}),x.jsxs("div",{className:"flex items-center gap-1 bg-slate-700 rounded-md p-1",children:[x.jsx("button",{onClick:()=>oe("monthly"),className:`px-2 py-1 text-xs rounded ${st==="monthly"?"bg-cyan-600 text-white":"text-slate-300"}`,children:"Monthly"}),x.jsx("button",{onClick:()=>oe("quarterly"),className:`px-2 py-1 text-xs rounded ${st==="quarterly"?"bg-cyan-600 text-white":"text-slate-300"}`,children:"Quarterly"}),x.jsx("button",{onClick:()=>oe("yearly"),className:`px-2 py-1 text-xs rounded ${st==="yearly"?"bg-cyan-600 text-white":"text-slate-300"}`,children:"Yearly"})]})]})]}),x.jsxs("nav",{className:"flex items-center border-b border-slate-700 mb-6 overflow-x-auto",children:[x.jsx("button",{onClick:()=>ee("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="dashboard"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Dashboard"}),x.jsx("button",{onClick:()=>ee("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="reports"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Reports"}),x.jsx("button",{onClick:()=>ee("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="pnl"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"P&L Statement"}),x.jsx("button",{onClick:()=>ee("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="forecast"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Forecast"}),x.jsx("button",{onClick:()=>ee("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="goals"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Goals"}),x.jsx("button",{onClick:()=>ee("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="clients"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Clients"}),x.jsx("button",{onClick:()=>ee("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="jobs"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Jobs"}),x.jsx("button",{onClick:()=>ee("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="vehicles"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),x.jsx("button",{onClick:()=>ee("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="inventory"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Inventory"}),x.jsx("button",{onClick:()=>ee("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="debts"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),x.jsx("button",{onClick:()=>ee("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="incomes"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),x.jsx("button",{onClick:()=>ee("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${q==="weeklyCosts"?"text-white border-b-2 border-cyan-400":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),x.jsxs("main",{children:[q==="dashboard"&&Ho(),q==="reports"&&jg(),q==="pnl"&&Hf(),q==="forecast"&&Rg(),q==="goals"&&Ql(),q==="clients"&&x.jsx(nge,{clients:v,openModal:ut,handleDelete:si}),q==="jobs"&&qi("Job Profitability",Yt,Ko,"job"),q==="vehicles"&&x.jsx(tge,{vehicles:P,maintenanceLogs:A,openModal:ut,handleDelete:si}),q==="inventory"&&qi("Inventory",Yt,Zl,"inventory"),q==="debts"&&qi("Debt Management",Yt,Jl,"debt"),q==="incomes"&&qi("Income Sources",Yt,Kf,"income"),q==="weeklyCosts"&&qi("Recurring Weekly Costs",Yt,Gf,"weekly")]})]}),R&&x.jsx(Jme,{item:U,type:H,onSave:Qt,onClose:()=>N(!1),debts:l,clients:v,vehicles:P})]})},tge=({vehicles:t,maintenanceLogs:e,openModal:n,handleDelete:r})=>{const[i,o]=L.useState(null),a=s=>{o(l=>l===s?null:s)};return x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:"Vehicle Management"}),x.jsxs("button",{onClick:()=>n("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(Fs,{size:16})," Add New Vehicle"]})]}),x.jsx("div",{className:"space-y-2",children:t.map(s=>x.jsxs("div",{children:[x.jsxs("div",{onClick:()=>a(s.id),className:"bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-700",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Cme,{size:24,className:"text-cyan-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold",children:s.name}),x.jsxs("p",{className:"text-xs text-slate-400",children:[s.year," ",s.make," ",s.model]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"font-mono text-orange-400",children:["$",e.filter(l=>l.vehicleId===s.id).reduce((l,u)=>l+u.cost,0).toFixed(2)]}),x.jsx("p",{className:"text-xs text-slate-400",children:"Total Expenses"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:l=>{l.stopPropagation(),n("vehicle",s)},className:"p-1 hover:text-cyan-400",children:x.jsx(Il,{size:16})}),x.jsx("button",{onClick:l=>{l.stopPropagation(),r("vehicle",s.id)},className:"p-1 hover:text-red-500",children:x.jsx(Ol,{size:16})})]}),i===s.id?x.jsx(n$,{}):x.jsx(t$,{})]})]}),i===s.id&&x.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-b-lg border-t-2 border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),x.jsxs("button",{onClick:()=>n("maintenanceLog",{vehicleId:s.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[x.jsx(Fs,{size:14})," Add Log Entry"]})]}),x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"text-xs text-slate-400 uppercase",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-2",children:"Date"}),x.jsx("th",{className:"p-2",children:"Mileage"}),x.jsx("th",{className:"p-2",children:"Work Performed"}),x.jsx("th",{className:"p-2 text-right",children:"Cost"}),x.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),x.jsx("tbody",{children:e.filter(l=>l.vehicleId===s.id).sort((l,u)=>new Date(u.date)-new Date(l.date)).map(l=>{var u;return x.jsxs("tr",{className:"border-b border-slate-700/50",children:[x.jsx("td",{className:"p-2",children:l.date}),x.jsx("td",{className:"p-2",children:((u=l.mileage)==null?void 0:u.toLocaleString())||"N/A"}),x.jsx("td",{className:"p-2",children:l.workPerformed}),x.jsxs("td",{className:"p-2 text-right font-mono",children:["$",l.cost.toFixed(2)]}),x.jsxs("td",{className:"p-2 text-center",children:[x.jsx("button",{onClick:()=>n("maintenanceLog",l),className:"text-slate-400 hover:text-cyan-400 mr-2",children:x.jsx(Il,{size:14})}),x.jsx("button",{onClick:()=>r("maintenanceLog",l.id),className:"text-slate-400 hover:text-red-500",children:x.jsx(Ol,{size:14})})]})]},l.id)})})]})]})]},s.id))})]})},nge=({clients:t,openModal:e,handleDelete:n})=>{const[r,i]=L.useState(null),o=t.filter(s=>!s.parentId),a=s=>{i(l=>l===s?null:s)};return x.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:"Client Management"}),x.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[x.jsx(Fs,{size:16})," Add New Client"]})]}),x.jsx("div",{className:"space-y-2",children:o.map(s=>x.jsxs("div",{className:"bg-slate-700/50 rounded-lg",children:[x.jsxs("div",{onClick:()=>a(s.id),className:"p-4 flex justify-between items-center cursor-pointer hover:bg-slate-700 rounded-t-lg",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Ome,{size:24,className:"text-cyan-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-bold",children:s.name}),x.jsx("p",{className:"text-xs text-slate-400",children:s.address})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:l=>{l.stopPropagation(),e("client",s)},className:"p-1 hover:text-cyan-400",children:x.jsx(Il,{size:16})}),x.jsx("button",{onClick:l=>{l.stopPropagation(),n("client",s.id)},className:"p-1 hover:text-red-500",children:x.jsx(Ol,{size:16})})]}),r===s.id?x.jsx(n$,{}):x.jsx(t$,{})]})]}),r===s.id&&x.jsxs("div",{className:"p-4 border-t-2 border-slate-600",children:[x.jsx("h4",{className:"font-bold mb-2",children:"Service Locations:"}),t.filter(l=>l.parentId===s.id).map(l=>x.jsxs("div",{className:"flex justify-between items-center p-2 rounded hover:bg-slate-800/50",children:[x.jsxs("p",{children:[l.name," - ",x.jsx("span",{className:"text-slate-400",children:l.address})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>e("client",l),className:"p-1 hover:text-cyan-400",children:x.jsx(Il,{size:14})}),x.jsx("button",{onClick:()=>n("client",l.id),className:"p-1 hover:text-red-500",children:x.jsx(Ol,{size:14})})]})]},l.id)),t.filter(l=>l.parentId===s.id).length===0&&x.jsx("p",{className:"text-sm text-slate-400",children:"No service locations for this account."})]})]},s.id))})]})};cv.createRoot(document.getElementById("root")).render(x.jsx(M.StrictMode,{children:x.jsx(ege,{})}));
